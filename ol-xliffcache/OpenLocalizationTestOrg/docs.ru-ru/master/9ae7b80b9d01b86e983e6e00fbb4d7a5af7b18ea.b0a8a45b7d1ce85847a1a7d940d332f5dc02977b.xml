{"content":"---\ntitle: \"How to: Handle Keyboard Input at the Form Level | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"keyboard input, at form level\"\n  - \"Windows Forms, handling keyboard input\"\n  - \"keyboards, form-level input\"\nms.assetid: d7f8b390-dc91-42d2-ae0f-2ffa388127ad\ncaps.latest.revision: 10\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# How to: Handle Keyboard Input at the Form Level\nWindows Forms provides the ability to handle keyboard messages at the form level, before the messages reach a control. This topic shows how to accomplish this task.  \n  \n### To handle a keyboard message at the form level  \n  \n-   Handle the <xref:System.Windows.Forms.Control.KeyPress> or <xref:System.Windows.Forms.Control.KeyDown> event of the startup form, and set the <xref:System.Windows.Forms.Form.KeyPreview%2A> property of the form to `true` so that keyboard messages are received by the form before they reach any controls on the form. The following code example handles the <xref:System.Windows.Forms.Control.KeyPress> event by detecting all of the number keys and consuming '1', '4', and '7'.  \n  \n     [!code-cpp[System.Windows.Forms.KeyboardInputForm#10](../../../samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/cpp/form1.cpp#10)]\n     [!code-csharp[System.Windows.Forms.KeyboardInputForm#10](../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/CS/form1.cs#10)]\n     [!code-vb[System.Windows.Forms.KeyboardInputForm#10](../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/VB/form1.vb#10)]  \n  \n## Example  \n The following code example is the entire application for the above example. The application includes a <xref:System.Windows.Forms.TextBox> along with several other controls that allow you to move focus from the <xref:System.Windows.Forms.TextBox>. The <xref:System.Windows.Forms.Control.KeyPress> event of the main <xref:System.Windows.Forms.Form> consumes '1', '4', and '7', and the <xref:System.Windows.Forms.Control.KeyPress> event of the <xref:System.Windows.Forms.TextBox> consumes '2', '5', and '8' while displaying the remaining keys. Compare the <xref:System.Windows.Forms.MessageBox> output when you press a number key while the <xref:System.Windows.Forms.TextBox> has focus with the <xref:System.Windows.Forms.MessageBox> output when you press a number key while focus is on one of the other controls.  \n  \n [!code-cpp[System.Windows.Forms.KeyBoardInputForm#0](../../../samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/cpp/form1.cpp#0)]\n [!code-csharp[System.Windows.Forms.KeyBoardInputForm#0](../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/CS/form1.cs#0)]\n [!code-vb[System.Windows.Forms.KeyBoardInputForm#0](../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/VB/form1.vb#0)]  \n  \n## Compiling the Code  \n This example requires:  \n  \n-   References to the System, System.Drawing and System.Windows.Forms assemblies.  \n  \n For information about building this example from the command line for [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)] or [!INCLUDE[csprcs](../../../includes/csprcs-md.md)], see [Building from the Command Line](~/docs/visual-basic/reference/command-line-compiler/building-from-the-command-line.md) or [Command-line Building With csc.exe](~/docs/csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md). You can also build this example in [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] by pasting the code into a new project.  Also see [How to: Compile and Run a Complete Windows Forms Code Example Using Visual Studio](http://msdn.microsoft.com/library/Bb129228\\(v=vs.110\\)).  \n  \n## See Also  \n [Keyboard Input in a Windows Forms Application](../../../docs/framework/winforms/keyboard-input-in-a-windows-forms-application.md)","nodes":[{"pos":[4,544],"embed":true,"restype":"x-metadata","content":"title: \"How to: Handle Keyboard Input at the Form Level | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"keyboard input, at form level\"\n  - \"Windows Forms, handling keyboard input\"\n  - \"keyboards, form-level input\"\nms.assetid: d7f8b390-dc91-42d2-ae0f-2ffa388127ad\ncaps.latest.revision: 10\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","nodes":[{"content":"How to: Handle Keyboard Input at the Form Level | Microsoft Docs","nodes":[{"pos":[0,64],"content":"How to: Handle Keyboard Input at the Form Level | Microsoft Docs","nodes":[{"content":"How to: Handle Keyboard Input at the Form Level | Microsoft Docs","pos":[0,64]}]}],"path":["title"]}],"yml":true},{"pos":[551,598],"content":"How to: Handle Keyboard Input at the Form Level","linkify":"How to: Handle Keyboard Input at the Form Level","nodes":[{"content":"How to: Handle Keyboard Input at the Form Level","pos":[0,47]}]},{"content":"Windows Forms provides the ability to handle keyboard messages at the form level, before the messages reach a control.","pos":[599,717]},{"content":"This topic shows how to accomplish this task.","pos":[718,763]},{"pos":[773,819],"content":"To handle a keyboard message at the form level","linkify":"To handle a keyboard message at the form level","nodes":[{"content":"To handle a keyboard message at the form level","pos":[0,46]}]},{"content":"Handle the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.KeyDown&gt;</ph> event of the startup form, and set the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Form.KeyPreview%2A&gt;</ph> property of the form to <ph id=\"ph4\">`true`</ph> so that keyboard messages are received by the form before they reach any controls on the form.","pos":[829,1143],"source":"Handle the <xref:System.Windows.Forms.Control.KeyPress> or <xref:System.Windows.Forms.Control.KeyDown> event of the startup form, and set the <xref:System.Windows.Forms.Form.KeyPreview%2A> property of the form to `true` so that keyboard messages are received by the form before they reach any controls on the form."},{"content":"The following code example handles the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> event by detecting all of the number keys and consuming '1', '4', and '7'.","pos":[1144,1302],"source":" The following code example handles the <xref:System.Windows.Forms.Control.KeyPress> event by detecting all of the number keys and consuming '1', '4', and '7'."},{"pos":[1313,1820],"content":"[!code-cpp[System.Windows.Forms.KeyboardInputForm#10](../../../samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/cpp/form1.cpp#10)]\n [!code-csharp[System.Windows.Forms.KeyboardInputForm#10](../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/CS/form1.cs#10)]\n [!code-vb[System.Windows.Forms.KeyboardInputForm#10](../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/VB/form1.vb#10)]","leadings":["","    ","    "],"nodes":[]},{"pos":[1829,1836],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code example is the entire application for the above example.","pos":[1840,1915]},{"content":"The application includes a <ph id=\"ph1\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph> along with several other controls that allow you to move focus from the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph>.","pos":[1916,2087],"source":" The application includes a <xref:System.Windows.Forms.TextBox> along with several other controls that allow you to move focus from the <xref:System.Windows.Forms.TextBox>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> event of the main <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Form&gt;</ph> consumes '1', '4', and '7', and the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> event of the <ph id=\"ph4\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph> consumes '2', '5', and '8' while displaying the remaining keys.","pos":[2088,2381],"source":" The <xref:System.Windows.Forms.Control.KeyPress> event of the main <xref:System.Windows.Forms.Form> consumes '1', '4', and '7', and the <xref:System.Windows.Forms.Control.KeyPress> event of the <xref:System.Windows.Forms.TextBox> consumes '2', '5', and '8' while displaying the remaining keys."},{"content":"Compare the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.MessageBox&gt;</ph> output when you press a number key while the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph> has focus with the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.MessageBox&gt;</ph> output when you press a number key while focus is on one of the other controls.","pos":[2382,2651],"source":" Compare the <xref:System.Windows.Forms.MessageBox> output when you press a number key while the <xref:System.Windows.Forms.TextBox> has focus with the <xref:System.Windows.Forms.MessageBox> output when you press a number key while focus is on one of the other controls."},{"pos":[3160,3178],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"content":"This example requires:","pos":[3182,3204]},{"content":"References to the System, System.Drawing and System.Windows.Forms assemblies.","pos":[3214,3291]},{"content":"For information about building this example from the command line for <ph id=\"ph1\">[!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]</ph> or <ph id=\"ph2\">[!INCLUDE[csprcs](../../../includes/csprcs-md.md)]</ph>, see <bpt id=\"p1\">[</bpt>Building from the Command Line<ept id=\"p1\">](~/docs/visual-basic/reference/command-line-compiler/building-from-the-command-line.md)</ept> or <bpt id=\"p2\">[</bpt>Command-line Building With csc.exe<ept id=\"p2\">](~/docs/csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md)</ept>.","pos":[3298,3727],"source":"For information about building this example from the command line for [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)] or [!INCLUDE[csprcs](../../../includes/csprcs-md.md)], see [Building from the Command Line](~/docs/visual-basic/reference/command-line-compiler/building-from-the-command-line.md) or [Command-line Building With csc.exe](~/docs/csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md)."},{"content":"You can also build this example in <ph id=\"ph1\">[!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]</ph> by pasting the code into a new project.","pos":[3728,3853],"source":" You can also build this example in [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] by pasting the code into a new project."},{"content":"Also see <bpt id=\"p1\">[</bpt>How to: Compile and Run a Complete Windows Forms Code Example Using Visual Studio<ept id=\"p1\">](http://msdn.microsoft.com/library/Bb129228\\(v=vs.110\\))</ept>.","pos":[3855,4004],"source":"  Also see [How to: Compile and Run a Complete Windows Forms Code Example Using Visual Studio](http://msdn.microsoft.com/library/Bb129228\\(v=vs.110\\))."},{"pos":[4013,4021],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[4025,4155],"content":"<bpt id=\"p1\">[</bpt>Keyboard Input in a Windows Forms Application<ept id=\"p1\">](../../../docs/framework/winforms/keyboard-input-in-a-windows-forms-application.md)</ept>","source":"[Keyboard Input in a Windows Forms Application](../../../docs/framework/winforms/keyboard-input-in-a-windows-forms-application.md)"}]}