{"content":"---\ntitle: \"Creating WCF Services for ASP.NET AJAX | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 04c0402c-e617-4ba5-aedf-d17692234776\ncaps.latest.revision: 18\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Creating WCF Services for ASP.NET AJAX\nMicrosoft ASP.NET AJAX enables you to quickly create Web pages that include a rich user experience with responsive and familiar user interface elements. ASP.NET AJAX provides client-script libraries that incorporate cross-browser ECMAScript (JavaScript) and dynamic HTML (DHTML) technologies, and it integrates them with the ASP.NET 2.0 server-based development platform. By using ASP.NET AJAX, you can improve the user experience and the efficiency of your Web applications.  \n  \n ASP.NET AJAX consists of client-script libraries and of server components that are integrated to provide a robust development framework. To access a service from an ASP.NET page: once the service URL is added to the ASP.NET Script Manager control on the page, service operations may be invoked using JavaScript code that looks exactly like a regular JavaScript function call. See [Learn ASP.NET AJAX](http://go.microsoft.com/fwlink/?LinkId=186475) about the use of Web services within the AJAX framework.  \n  \n Most [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint.  \n  \n If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the **Add New Item** dialog when working with ASP.NET Web Sites or Web Applications.  \n  \n If you are not using the Visual Studio templates, there are two ways to create an ASP.NET AJAX endpoint:  \n  \n-   Create the endpoint using dynamic host activation without using any configuration. This is the most basic approach if you are unfamiliar with the WCF configuration system. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).  \n  \n-   Add an AJAX-enabled endpoint to a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using configuration. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).  \n  \n The Web Programming Model described in the [WCF Web HTTP Programming Model Overview](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) may be used with ASP.NET AJAX services. Specifically:  \n  \n-   You can use the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to select between HTTP GET and HTTP POST verbs. If used correctly, this may significantly improve your application’s performance. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).  \n  \n-   You can use the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON). Doing this with the ASP.NET AJAX framework causes the JavaScript client to receive an XML DOM object.  \n  \n    > [!WARNING]\n    >  Your operation must set the content type to text/xml for this to work. Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.  \n  \n     The following is an example of an operation that returns XML data with the content type set appropriately:  \n  \n    ```  \n    [OperationContract, WebGet(ResponseFormat=WebMessageFormat.Xml)]  \n    public XElement GetData()  \n    {  \n    XElement x;  \n    //Get some data here...  \n  \n    WebOperationContext.Current.OutgoingResponse.ContentType = \"text/xml\";      \n    return x;  \n    }  \n  \n    ```  \n  \n-   No other properties on the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes can be changed if compatibility with ASP.NET AJAX is required. Other aspects of the Web Programming Model can be used as long as the ASP.NET AJAX calling conventions are not violated.  \n  \n More advanced scenarios require some additional details of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] be understood:  \n  \n-   To understand how data is transferred between an AJAX page client and a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see [Support for JSON and Other Data Transfer Formats](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md).  \n  \n-   To take advantage of ASP.NET features, for example, URL-based authentication and accessing the ASP.NET session information, you may want to enable the ASP.NET Compatibility Mode through configuration.  \n  \n AJAX endpoints in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] may even be consumed without the ASP.NET AJAX framework. Doing so requires an understanding of the support architecture of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]. For a discussion of this architecture, see [WCF Web HTTP Programming Object Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md). For a code sample demonstrating this approach, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).  \n  \n## See Also  \n [WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)   \n [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)   \n [How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)   \n [How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)","nodes":[{"pos":[4,359],"nodes":[{"content":"Creating WCF Services for ASP.NET AJAX | Microsoft Docs","nodes":[{"pos":[0,55],"content":"Creating WCF Services for ASP.NET AJAX | Microsoft Docs","nodes":[{"content":"Creating WCF Services for ASP.NET AJAX | Microsoft Docs","pos":[0,55]}]}],"pos":[6,64],"yaml":true}],"content":"title: \"Creating WCF Services for ASP.NET AJAX | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 04c0402c-e617-4ba5-aedf-d17692234776\ncaps.latest.revision: 18\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","yamlblock":true},{"pos":[366,404],"content":"Creating WCF Services for ASP.NET AJAX","linkify":"Creating WCF Services for ASP.NET AJAX","nodes":[{"content":"Creating WCF Services for ASP.NET AJAX","pos":[0,38]}]},{"content":"Microsoft ASP.NET AJAX enables you to quickly create Web pages that include a rich user experience with responsive and familiar user interface elements.","pos":[405,557]},{"content":"ASP.NET AJAX provides client-script libraries that incorporate cross-browser ECMAScript (JavaScript) and dynamic HTML (DHTML) technologies, and it integrates them with the ASP.NET 2.0 server-based development platform.","pos":[558,776]},{"content":"By using ASP.NET AJAX, you can improve the user experience and the efficiency of your Web applications.","pos":[777,880]},{"content":"ASP.NET AJAX consists of client-script libraries and of server components that are integrated to provide a robust development framework.","pos":[887,1023]},{"content":"To access a service from an ASP.NET page: once the service URL is added to the ASP.NET Script Manager control on the page, service operations may be invoked using JavaScript code that looks exactly like a regular JavaScript function call.","pos":[1024,1262]},{"content":"See <bpt id=\"p1\">[</bpt>Learn ASP.NET AJAX<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=186475)</ept> about the use of Web services within the AJAX framework.","pos":[1263,1391],"source":" See [Learn ASP.NET AJAX](http://go.microsoft.com/fwlink/?LinkId=186475) about the use of Web services within the AJAX framework."},{"pos":[1398,1572],"content":"Most <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint.","source":"Most [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint."},{"pos":[1579,1772],"content":"If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> dialog when working with ASP.NET Web Sites or Web Applications.","source":"If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the **Add New Item** dialog when working with ASP.NET Web Sites or Web Applications."},{"content":"If you are not using the Visual Studio templates, there are two ways to create an ASP.NET AJAX endpoint:","pos":[1779,1883]},{"content":"Create the endpoint using dynamic host activation without using any configuration.","pos":[1893,1975]},{"content":"This is the most basic approach if you are unfamiliar with the WCF configuration system.","pos":[1976,2064]},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>How to: Add an ASP.NET AJAX Endpoint Without Using Configuration<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)</ept>.","pos":[2065,2305],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)."},{"content":"Add an AJAX-enabled endpoint to a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service using configuration.","pos":[2315,2433],"source":"Add an AJAX-enabled endpoint to a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using configuration."},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>How to: Use Configuration to Add an ASP.NET AJAX Endpoint<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)</ept>.","pos":[2434,2660],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)."},{"content":"The Web Programming Model described in the <bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model Overview<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md)</ept> may be used with ASP.NET AJAX services.","pos":[2667,2882],"source":"The Web Programming Model described in the [WCF Web HTTP Programming Model Overview](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) may be used with ASP.NET AJAX services."},{"content":"Specifically:","pos":[2883,2896]},{"content":"You can use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph> attributes to select between HTTP GET and HTTP POST verbs.","pos":[2906,3081],"source":"You can use the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to select between HTTP GET and HTTP POST verbs."},{"content":"If used correctly, this may significantly improve your application’s performance.","pos":[3082,3163]},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)</ept>.","pos":[3164,3416],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)."},{"content":"You can use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A&gt;</ph> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON).","pos":[3426,3688],"source":"You can use the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON)."},{"content":"Doing this with the ASP.NET AJAX framework causes the JavaScript client to receive an XML DOM object.","pos":[3689,3790]},{"pos":[3802,3994],"content":"[!WARNING]\nYour operation must set the content type to text/xml for this to work. Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.","leadings":["","    >  "],"nodes":[{"content":"Your operation must set the content type to text/xml for this to work. Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.","pos":[11,185],"nodes":[{"content":"Your operation must set the content type to text/xml for this to work.","pos":[0,70]},{"content":"Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.","pos":[71,174]}]}]},{"content":"The following is an example of an operation that returns XML data with the content type set appropriately:","pos":[4005,4111]},{"content":"No other properties on the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph> attributes can be changed if compatibility with ASP.NET AJAX is required.","pos":[4414,4615],"source":"No other properties on the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes can be changed if compatibility with ASP.NET AJAX is required."},{"content":"Other aspects of the Web Programming Model can be used as long as the ASP.NET AJAX calling conventions are not violated.","pos":[4616,4736]},{"pos":[4743,4888],"content":"More advanced scenarios require some additional details of AJAX support in <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> be understood:","source":"More advanced scenarios require some additional details of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] be understood:"},{"pos":[4898,5276],"content":"To understand how data is transferred between an AJAX page client and a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see <bpt id=\"p1\">[</bpt>Support for JSON and Other Data Transfer Formats<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md)</ept>.","source":"To understand how data is transferred between an AJAX page client and a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see [Support for JSON and Other Data Transfer Formats](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md)."},{"content":"To take advantage of ASP.NET features, for example, URL-based authentication and accessing the ASP.NET session information, you may want to enable the ASP.NET Compatibility Mode through configuration.","pos":[5286,5486]},{"content":"AJAX endpoints in <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> may even be consumed without the ASP.NET AJAX framework.","pos":[5493,5623],"source":"AJAX endpoints in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] may even be consumed without the ASP.NET AJAX framework."},{"content":"Doing so requires an understanding of the support architecture of AJAX support in <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph>.","pos":[5624,5762],"source":" Doing so requires an understanding of the support architecture of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]."},{"content":"For a discussion of this architecture, see <bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Object Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md)</ept>.","pos":[5763,5935],"source":" For a discussion of this architecture, see [WCF Web HTTP Programming Object Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md)."},{"content":"For a code sample demonstrating this approach, see the <bpt id=\"p1\">[</bpt>AJAX Service with JSON and XML<ept id=\"p1\">](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md)</ept>.","pos":[5936,6105],"source":" For a code sample demonstrating this approach, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md)."},{"pos":[6114,6122],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)</ept><ph id=\"ph1\"> </ph>","pos":[6126,6241],"source":"[WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Add an ASP.NET AJAX Endpoint Without Using Configuration<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)</ept><ph id=\"ph1\"> </ph>","pos":[6245,6426],"source":"[How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Use Configuration to Add an ASP.NET AJAX Endpoint<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)</ept><ph id=\"ph1\"> </ph>","pos":[6430,6597],"source":"[How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)</ept>","pos":[6601,6793],"source":"[How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)"}]}