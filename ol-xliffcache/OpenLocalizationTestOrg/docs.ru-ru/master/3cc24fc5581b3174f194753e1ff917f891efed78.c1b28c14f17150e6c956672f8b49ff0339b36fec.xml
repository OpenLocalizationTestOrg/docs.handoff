{"content":"---\ntitle: \"How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression (C# Programming Guide) | Microsoft Docs\"\n\nms.date: \"2015-07-20\"\nms.prod: .net\n\n\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"implicitly-typed local variables [C#], how to use\"\nms.assetid: 6b7354d2-af79-427a-b6a8-f74eb8fd0b91\ncaps.latest.revision: 15\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression (C# Programming Guide)\nYou can use implicitly typed local variables whenever you want the compiler to determine the type of a local variable. You must use implicitly typed local variables to store anonymous types, which are often used in query expressions. The following examples illustrate both optional and required uses of implicitly typed local variables in queries.  \n  \n Implicitly typed local variables are declared by using the [var](../../../csharp/language-reference/keywords/var.md) contextual keyword. For more information, see [Implicitly Typed Local Variables](../../../csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md) and [Implicitly Typed Arrays](../../../csharp/programming-guide/arrays/implicitly-typed-arrays.md).  \n  \n## Example  \n The following example shows a common scenario in which the `var` keyword is required: a query expression that produces a sequence of anonymous types. In this scenario, both the query variable and the iteration variable in the `foreach` statement must be implicitly typed by using `var` because you do not have access to a type name for the anonymous type. For more information about anonymous types, see [Anonymous Types](../../../csharp/programming-guide/classes-and-structs/anonymous-types.md).  \n  \n [!code-cs[csProgGuideLINQ#32](../../../csharp/programming-guide/arrays/codesnippet/CSharp/how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression_1.cs)]  \n  \n## Example  \n The following example uses the `var` keyword in a situation that is similar, but in which the use of `var` is optional. Because `student.LastName` is a string, execution of the query returns a sequence of strings. Therefore, the type of `queryID` could be declared as `System.Collections.Generic.IEnumerable<string>` instead of `var`. Keyword `var` is used for convenience. In the example, the iteration variable in the `foreach` statement is explicitly typed as a string, but it could instead be declared by using `var`. Because the type of the iteration variable is not an anonymous type, the use of `var` is an option, not a requirement. Remember, `var` itself is not a type, but an instruction to the compiler to infer and assign the type.  \n  \n [!code-cs[csProgGuideLINQ#33](../../../csharp/programming-guide/arrays/codesnippet/CSharp/how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression_2.cs)]  \n  \n## See Also  \n [C# Programming Guide](../../../csharp/programming-guide/index.md)   \n [Extension Methods](../../../csharp/programming-guide/classes-and-structs/extension-methods.md)   \n [LINQ (Language-Integrated Query)](http://msdn.microsoft.com/library/a73c4aec-5d15-4e98-b962-1274021ea93d)   \n [var](../../../csharp/language-reference/keywords/var.md)   \n [LINQ Query Expressions](../../../csharp/programming-guide/linq-query-expressions/index.md)","nodes":[{"pos":[12,129],"content":"How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression (C# Programming Guide) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression (C# Programming Guide) | Microsoft Docs","pos":[0,117]}]},{"pos":[635,735],"content":"How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression (C# Programming Guide)","linkify":"How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression (C# Programming Guide)","nodes":[{"content":"How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression (C# Programming Guide)","pos":[0,100]}]},{"content":"You can use implicitly typed local variables whenever you want the compiler to determine the type of a local variable.","pos":[736,854]},{"content":"You must use implicitly typed local variables to store anonymous types, which are often used in query expressions.","pos":[855,969]},{"content":"The following examples illustrate both optional and required uses of implicitly typed local variables in queries.","pos":[970,1083]},{"content":"Implicitly typed local variables are declared by using the <bpt id=\"p1\">[</bpt>var<ept id=\"p1\">](../../../csharp/language-reference/keywords/var.md)</ept> contextual keyword.","pos":[1090,1226],"source":"Implicitly typed local variables are declared by using the [var](../../../csharp/language-reference/keywords/var.md) contextual keyword."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Implicitly Typed Local Variables<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md)</ept> and <bpt id=\"p2\">[</bpt>Implicitly Typed Arrays<ept id=\"p2\">](../../../csharp/programming-guide/arrays/implicitly-typed-arrays.md)</ept>.","pos":[1227,1478],"source":" For more information, see [Implicitly Typed Local Variables](../../../csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables.md) and [Implicitly Typed Arrays](../../../csharp/programming-guide/arrays/implicitly-typed-arrays.md)."},{"pos":[1487,1494],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows a common scenario in which the <ph id=\"ph1\">`var`</ph> keyword is required: a query expression that produces a sequence of anonymous types.","pos":[1498,1647],"source":"The following example shows a common scenario in which the `var` keyword is required: a query expression that produces a sequence of anonymous types."},{"content":"In this scenario, both the query variable and the iteration variable in the <ph id=\"ph1\">`foreach`</ph> statement must be implicitly typed by using <ph id=\"ph2\">`var`</ph> because you do not have access to a type name for the anonymous type.","pos":[1648,1853],"source":" In this scenario, both the query variable and the iteration variable in the `foreach` statement must be implicitly typed by using `var` because you do not have access to a type name for the anonymous type."},{"content":"For more information about anonymous types, see <bpt id=\"p1\">[</bpt>Anonymous Types<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/anonymous-types.md)</ept>.","pos":[1854,1994],"source":" For more information about anonymous types, see [Anonymous Types](../../../csharp/programming-guide/classes-and-structs/anonymous-types.md)."},{"pos":[2001,2174],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csProgGuideLINQ#32<ept id=\"p2\">](../../../csharp/programming-guide/arrays/codesnippet/CSharp/how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression_1.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csProgGuideLINQ#32](../../../csharp/programming-guide/arrays/codesnippet/CSharp/how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression_1.cs)]"},{"pos":[2183,2190],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example uses the <ph id=\"ph1\">`var`</ph> keyword in a situation that is similar, but in which the use of <ph id=\"ph2\">`var`</ph> is optional.","pos":[2194,2313],"source":"The following example uses the `var` keyword in a situation that is similar, but in which the use of `var` is optional."},{"content":"Because <ph id=\"ph1\">`student.LastName`</ph> is a string, execution of the query returns a sequence of strings.","pos":[2314,2407],"source":" Because `student.LastName` is a string, execution of the query returns a sequence of strings."},{"content":"Therefore, the type of <ph id=\"ph1\">`queryID`</ph> could be declared as <ph id=\"ph2\">`System.Collections.Generic.IEnumerable&lt;string&gt;`</ph> instead of <ph id=\"ph3\">`var`</ph>.","pos":[2408,2528],"source":" Therefore, the type of `queryID` could be declared as `System.Collections.Generic.IEnumerable<string>` instead of `var`."},{"content":"Keyword <ph id=\"ph1\">`var`</ph> is used for convenience.","pos":[2529,2567],"source":" Keyword `var` is used for convenience."},{"content":"In the example, the iteration variable in the <ph id=\"ph1\">`foreach`</ph> statement is explicitly typed as a string, but it could instead be declared by using <ph id=\"ph2\">`var`</ph>.","pos":[2568,2715],"source":" In the example, the iteration variable in the `foreach` statement is explicitly typed as a string, but it could instead be declared by using `var`."},{"content":"Because the type of the iteration variable is not an anonymous type, the use of <ph id=\"ph1\">`var`</ph> is an option, not a requirement.","pos":[2716,2834],"source":" Because the type of the iteration variable is not an anonymous type, the use of `var` is an option, not a requirement."},{"content":"Remember, <ph id=\"ph1\">`var`</ph> itself is not a type, but an instruction to the compiler to infer and assign the type.","pos":[2835,2937],"source":" Remember, `var` itself is not a type, but an instruction to the compiler to infer and assign the type."},{"pos":[2944,3117],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csProgGuideLINQ#33<ept id=\"p2\">](../../../csharp/programming-guide/arrays/codesnippet/CSharp/how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression_2.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csProgGuideLINQ#33](../../../csharp/programming-guide/arrays/codesnippet/CSharp/how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression_2.cs)]"},{"pos":[3126,3134],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>C# Programming Guide<ept id=\"p1\">](../../../csharp/programming-guide/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[3138,3205],"source":"[C# Programming Guide](../../../csharp/programming-guide/index.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Extension Methods<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/extension-methods.md)</ept><ph id=\"ph1\"> </ph>","pos":[3208,3305],"source":" [Extension Methods](../../../csharp/programming-guide/classes-and-structs/extension-methods.md) "},{"content":"<bpt id=\"p1\"> [</bpt>LINQ (Language-Integrated Query)<ept id=\"p1\">](http://msdn.microsoft.com/library/a73c4aec-5d15-4e98-b962-1274021ea93d)</ept><ph id=\"ph1\"> </ph>","pos":[3308,3416],"source":" [LINQ (Language-Integrated Query)](http://msdn.microsoft.com/library/a73c4aec-5d15-4e98-b962-1274021ea93d) "},{"content":"<bpt id=\"p1\"> [</bpt>var<ept id=\"p1\">](../../../csharp/language-reference/keywords/var.md)</ept><ph id=\"ph1\"> </ph>","pos":[3419,3478],"source":" [var](../../../csharp/language-reference/keywords/var.md) "},{"content":"<bpt id=\"p1\"> [</bpt>LINQ Query Expressions<ept id=\"p1\">](../../../csharp/programming-guide/linq-query-expressions/index.md)</ept>","pos":[3481,3573],"source":" [LINQ Query Expressions](../../../csharp/programming-guide/linq-query-expressions/index.md)"}]}