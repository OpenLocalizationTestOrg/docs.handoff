{"content":"---\ntitle: \"Hosting in Windows Process Activation Service | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"hosting services [WCF], WAS\"\nms.assetid: d2b9d226-15b7-41fc-8c9a-cb651ac20ecd\ncaps.latest.revision: 16\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Hosting in Windows Process Activation Service\nThe Windows Process Activation Service (WAS) manages the activation and lifetime of the worker processes that contain applications that host [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services. The WAS process model generalizes the [!INCLUDE[iis601](../../../../includes/iis601-md.md)] process model for the HTTP server by removing the dependency on HTTP. This allows [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services to use both HTTP and non-HTTP protocols, such as Net.TCP, in a hosting environment that supports message-based activation and offers the ability to host a large number of applications on a given machine.  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] building a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service that runs in the WAS hosting environment, see [How to: Host a WCF Service in WAS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md).  \n  \n The WAS process model provides several features that enable applications to be hosted in a way that is more robust, more manageable, and that uses resources efficiently:  \n  \n-   Message-based activation of applications and worker process applications start and stop dynamically in response to incoming work items that arrive using HTTP and non-HTTP network protocols.  \n  \n-   Robust application and worker process recycling to maintain the health of running applications.  \n  \n-   Centralized application configuration and management.  \n  \n-   Allows applications to take advantage of the IIS process model without requiring the deployment footprint of a full IIS installation.  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] WAS features, see [IIS 7.0 Beta: IIS 7.0 Web Administration](../../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md).  \n  \n [Windows Server AppFabric](http://go.microsoft.com/fwlink/?LinkId=196496) works with [!INCLUDE[iisver](../../../../includes/iisver-md.md)] and Windows Process Activation Service (WAS) to provide a rich application hosting environment for NET4 WCF and WF services. These benefits include process life-cycle management, process recycling, shared hosting, rapid failure protection, process orphaning, on-demand activation, and health monitoring. For detailed information, see [AppFabric Hosting Features](http://go.microsoft.com/fwlink/?LinkId=196494) and [AppFabric Hosting Concepts](http://go.microsoft.com/fwlink/?LinkId=196495).  \n  \n## Elements of the WAS Addressing Model  \n Applications have Uniform Resource Identifier (URI) addresses, which are the code units whose lifetime and execution environment are managed by the server. A single WAS server instance can be home to many different applications. Servers organize applications into groups called *sites*. Within a site, applications are arranged in a hierarchical manner that reflects the structure of the URIs that serve as their external addresses.  \n  \n Application addresses have two parts: a base URI prefix and an application-specific, relative address (path), which provide the external address for an application when joined together. The base URI prefix is constructed from the site binding and is used for all the applications under the site. Application addresses are then constructed by taking application-specific path fragments (such as, \"/applicationOne\") and appending them to the base URI prefix (for example, \"net.tcp://localhost\") to arrive at the full application URI.  \n  \n The following table illustrates several possible addressing scenarios for WAS sites with both HTTP and non-HTTP site bindings.  \n  \n|Scenario|Site bindings|Application path|Base application URIs|  \n|--------------|-------------------|----------------------|---------------------------|  \n|HTTP Only|http: *:80:\\*|/appTwo|http://localhost/appTwo/|  \n|Both HTTP and Non-HTTP|http: *:80:\\*<br /><br /> net.tcp: 808:\\*|/appTwo|http://localhost/appTwo/<br />net.tcp://localhost/appTwo/|  \n|Non-HTTP only|net.pipe: *|/appThree|net.pipe://appThree/|  \n  \n Services and resources within an application can also be addressed. Within an application, application resources are addressed relative to the base application path. For example, assume that a site on a machine name contoso.com has site bindings for both the HTTP and Net.TCP protocols. Also assume that the site contains one application located at /Billing, which exposes a service at GetOrders.svc. Then, if the GetOrders.svc service exposed an endpoint with a relative address of SecureEndpoint, the service endpoint would be exposed at the following two URIs:  \n  \n http://contoso.com/Billing/GetOrders.svc/SecureEndpoint  \nnet.tcp://contoso.com/Billing/GetOrders.svc/SecureEndpoint  \n  \n## The WAS Runtime  \n Applications are organized into sites for the purposes of addressing and management. At run time, applications are also grouped together into application pools. An application pool can house many different applications from many different sites. All of the applications inside an application pool share a common set of run-time characteristics. For example, they all run under the same version of the common language runtime (CLR) and they all share a common process identity. Each application pool corresponds to an instance of a worker process (w3wp.exe). Each managed application running inside of a shared application pool is isolated from other applications by means of a CLR AppDomain.  \n  \n## See Also  \n [WAS Activation Architecture](../../../../docs/framework/wcf/feature-details/was-activation-architecture.md)   \n [Configuring WAS for Use with WCF](../../../../docs/framework/wcf/feature-details/configuring-the-wpa--service-for-use-with-wcf.md)   \n [How to: Install and Configure WCF Activation Components](../../../../docs/framework/wcf/feature-details/how-to-install-and-configure-wcf-activation-components.md)   \n [How to: Host a WCF Service in WAS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)   \n [Windows Server App Fabric Hosting Features](http://go.microsoft.com/fwlink/?LinkId=201276)","nodes":[{"pos":[4,422],"embed":true,"restype":"x-metadata","content":"title: \"Hosting in Windows Process Activation Service | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"hosting services [WCF], WAS\"\nms.assetid: d2b9d226-15b7-41fc-8c9a-cb651ac20ecd\ncaps.latest.revision: 16\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Hosting in Windows Process Activation Service | Microsoft Docs","nodes":[{"pos":[0,62],"content":"Hosting in Windows Process Activation Service | Microsoft Docs","nodes":[{"content":"Hosting in Windows Process Activation Service | Microsoft Docs","pos":[0,62]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[429,474],"content":"Hosting in Windows Process Activation Service","linkify":"Hosting in Windows Process Activation Service","nodes":[{"content":"Hosting in Windows Process Activation Service","pos":[0,45]}]},{"content":"The Windows Process Activation Service (WAS) manages the activation and lifetime of the worker processes that contain applications that host <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> services.","pos":[475,681],"source":"The Windows Process Activation Service (WAS) manages the activation and lifetime of the worker processes that contain applications that host [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services."},{"content":"The WAS process model generalizes the <ph id=\"ph1\">[!INCLUDE[iis601](../../../../includes/iis601-md.md)]</ph> process model for the HTTP server by removing the dependency on HTTP.","pos":[682,843],"source":" The WAS process model generalizes the [!INCLUDE[iis601](../../../../includes/iis601-md.md)] process model for the HTTP server by removing the dependency on HTTP."},{"content":"This allows <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> services to use both HTTP and non-HTTP protocols, such as Net.TCP, in a hosting environment that supports message-based activation and offers the ability to host a large number of applications on a given machine.","pos":[844,1124],"source":" This allows [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services to use both HTTP and non-HTTP protocols, such as Net.TCP, in a hosting environment that supports message-based activation and offers the ability to host a large number of applications on a given machine."},{"pos":[1131,1428],"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> building a <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service that runs in the WAS hosting environment, see <bpt id=\"p1\">[</bpt>How to: Host a WCF Service in WAS<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)</ept>.","source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] building a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service that runs in the WAS hosting environment, see [How to: Host a WCF Service in WAS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)."},{"content":"The WAS process model provides several features that enable applications to be hosted in a way that is more robust, more manageable, and that uses resources efficiently:","pos":[1435,1604]},{"content":"Message-based activation of applications and worker process applications start and stop dynamically in response to incoming work items that arrive using HTTP and non-HTTP network protocols.","pos":[1614,1803]},{"content":"Robust application and worker process recycling to maintain the health of running applications.","pos":[1813,1908]},{"content":"Centralized application configuration and management.","pos":[1918,1971]},{"content":"Allows applications to take advantage of the IIS process model without requiring the deployment footprint of a full IIS installation.","pos":[1981,2114]},{"pos":[2121,2335],"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> WAS features, see <bpt id=\"p1\">[</bpt>IIS 7.0 Beta: IIS 7.0 Web Administration<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md)</ept>.","source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] WAS features, see [IIS 7.0 Beta: IIS 7.0 Web Administration](../../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md)."},{"content":"<bpt id=\"p1\">[</bpt>Windows Server AppFabric<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=196496)</ept> works with <ph id=\"ph1\">[!INCLUDE[iisver](../../../../includes/iisver-md.md)]</ph> and Windows Process Activation Service (WAS) to provide a rich application hosting environment for NET4 WCF and WF services.","pos":[2342,2605],"source":"[Windows Server AppFabric](http://go.microsoft.com/fwlink/?LinkId=196496) works with [!INCLUDE[iisver](../../../../includes/iisver-md.md)] and Windows Process Activation Service (WAS) to provide a rich application hosting environment for NET4 WCF and WF services."},{"content":"These benefits include process life-cycle management, process recycling, shared hosting, rapid failure protection, process orphaning, on-demand activation, and health monitoring.","pos":[2606,2784]},{"content":"For detailed information, see <bpt id=\"p1\">[</bpt>AppFabric Hosting Features<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=196494)</ept> and <bpt id=\"p2\">[</bpt>AppFabric Hosting Concepts<ept id=\"p2\">](http://go.microsoft.com/fwlink/?LinkId=196495)</ept>.","pos":[2785,2971],"source":" For detailed information, see [AppFabric Hosting Features](http://go.microsoft.com/fwlink/?LinkId=196494) and [AppFabric Hosting Concepts](http://go.microsoft.com/fwlink/?LinkId=196495)."},{"pos":[2980,3016],"content":"Elements of the WAS Addressing Model","linkify":"Elements of the WAS Addressing Model","nodes":[{"content":"Elements of the WAS Addressing Model","pos":[0,36]}]},{"content":"Applications have Uniform Resource Identifier (URI) addresses, which are the code units whose lifetime and execution environment are managed by the server.","pos":[3020,3175]},{"content":"A single WAS server instance can be home to many different applications.","pos":[3176,3248]},{"content":"Servers organize applications into groups called <bpt id=\"p1\">*</bpt>sites<ept id=\"p1\">*</ept>.","pos":[3249,3306],"source":" Servers organize applications into groups called *sites*."},{"content":"Within a site, applications are arranged in a hierarchical manner that reflects the structure of the URIs that serve as their external addresses.","pos":[3307,3452]},{"content":"Application addresses have two parts: a base URI prefix and an application-specific, relative address (path), which provide the external address for an application when joined together.","pos":[3459,3644]},{"content":"The base URI prefix is constructed from the site binding and is used for all the applications under the site.","pos":[3645,3754]},{"content":"Application addresses are then constructed by taking application-specific path fragments (such as, \"/applicationOne\") and appending them to the base URI prefix (for example, \"net.tcp://localhost\") to arrive at the full application URI.","pos":[3755,3990]},{"content":"The following table illustrates several possible addressing scenarios for WAS sites with both HTTP and non-HTTP site bindings.","pos":[3997,4123]},{"content":"Scenario","pos":[4130,4138]},{"content":"Site bindings","pos":[4139,4152]},{"content":"Application path","pos":[4153,4169]},{"content":"Base application URIs","pos":[4170,4191]},{"content":"HTTP Only","pos":[4286,4295]},{"content":"http: *:80:<ph id=\"ph1\">\\*</ph>","pos":[4296,4309],"source":"http: *:80:\\*"},{"content":"/appTwo","pos":[4310,4317]},{"content":"http://localhost/appTwo/","pos":[4318,4342]},{"content":"Both HTTP and Non-HTTP","pos":[4347,4369]},{"content":"http: *:80:<ph id=\"ph1\">\\*</ph>","pos":[4370,4383],"source":"http: *:80:\\*"},{"content":"net.tcp: 808:<ph id=\"ph1\">\\*</ph>","pos":[4396,4411],"source":"net.tcp: 808:\\*"},{"content":"/appTwo","pos":[4412,4419]},{"content":"http://localhost/appTwo/","pos":[4420,4444]},{"content":"net.tcp://localhost/appTwo/","pos":[4450,4477]},{"content":"Non-HTTP only","pos":[4482,4495]},{"content":"net.pipe: *","pos":[4496,4507]},{"content":"/appThree","pos":[4508,4517]},{"content":"net.pipe://appThree/","pos":[4518,4538]},{"content":"Services and resources within an application can also be addressed.","pos":[4546,4613]},{"content":"Within an application, application resources are addressed relative to the base application path.","pos":[4614,4711]},{"content":"For example, assume that a site on a machine name contoso.com has site bindings for both the HTTP and Net.TCP protocols.","pos":[4712,4832]},{"content":"Also assume that the site contains one application located at /Billing, which exposes a service at GetOrders.svc.","pos":[4833,4946]},{"content":"Then, if the GetOrders.svc service exposed an endpoint with a relative address of SecureEndpoint, the service endpoint would be exposed at the following two URIs:","pos":[4947,5109]},{"content":"net.tcp://contoso.com/Billing/GetOrders.svc/SecureEndpoint","pos":[5174,5232]},{"pos":[5241,5256],"content":"The WAS Runtime","linkify":"The WAS Runtime","nodes":[{"content":"The WAS Runtime","pos":[0,15]}]},{"content":"Applications are organized into sites for the purposes of addressing and management.","pos":[5260,5344]},{"content":"At run time, applications are also grouped together into application pools.","pos":[5345,5420]},{"content":"An application pool can house many different applications from many different sites.","pos":[5421,5505]},{"content":"All of the applications inside an application pool share a common set of run-time characteristics.","pos":[5506,5604]},{"content":"For example, they all run under the same version of the common language runtime (CLR) and they all share a common process identity.","pos":[5605,5736]},{"content":"Each application pool corresponds to an instance of a worker process (w3wp.exe).","pos":[5737,5817]},{"content":"Each managed application running inside of a shared application pool is isolated from other applications by means of a CLR AppDomain.","pos":[5818,5951]},{"pos":[5960,5968],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>WAS Activation Architecture<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/was-activation-architecture.md)</ept><ph id=\"ph1\"> </ph>","pos":[5972,6081],"source":"[WAS Activation Architecture](../../../../docs/framework/wcf/feature-details/was-activation-architecture.md) "},{"content":"<bpt id=\"p1\">[</bpt>Configuring WAS for Use with WCF<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/configuring-the-wpa--service-for-use-with-wcf.md)</ept><ph id=\"ph1\"> </ph>","pos":[6085,6217],"source":"[Configuring WAS for Use with WCF](../../../../docs/framework/wcf/feature-details/configuring-the-wpa--service-for-use-with-wcf.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Install and Configure WCF Activation Components<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-install-and-configure-wcf-activation-components.md)</ept><ph id=\"ph1\"> </ph>","pos":[6221,6385],"source":"[How to: Install and Configure WCF Activation Components](../../../../docs/framework/wcf/feature-details/how-to-install-and-configure-wcf-activation-components.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Host a WCF Service in WAS<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)</ept><ph id=\"ph1\"> </ph>","pos":[6389,6509],"source":"[How to: Host a WCF Service in WAS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md) "},{"content":"<bpt id=\"p1\">[</bpt>Windows Server App Fabric Hosting Features<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=201276)</ept>","pos":[6513,6604],"source":"[Windows Server App Fabric Hosting Features](http://go.microsoft.com/fwlink/?LinkId=201276)"}]}