{"content":"---\ntitle: \"Mitigation: MemberDescriptor.Equals | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-bcl\"\n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: cf3735f0-0dd4-4bef-b4b0-575264e10f39\ncaps.latest.revision: 7\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Mitigation: MemberDescriptor.Equals\nStarting with apps that target the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], the implementation of the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method has changed. Because the `System.ComponentModel.EventDescriptor.Equals` and  `System.ComponentModel.PropertyDescriptor.Equals` methods inherit the base class implementation, the change also affects these methods.  \n  \n In apps that target versions of the .NET Framework prior to [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], a portion of the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method's test for equality  incorrectly compared the <xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=fullName> property of one object with the <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName> property of the other. Starting with apps that target the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method compares the <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName> property of the two objects.  \n  \n## Impact  \n This change correctly implements the test for equality for <xref:System.ComponentModel.MemberDescriptor?displayProperty=fullName> objects and should have minimal impact.  \n  \n## Mitigation  \n Two workarounds are available if your app targets the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)] or a later version of the .NET Framework and it depends on the  <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method sometimes returning `false` when member descriptors are equivalent:  \n  \n-   You can opt out of this change without modifying your source code by adding the following to the [\\<runtime>](../../../docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app.config file:  \n  \n    ```xml  \n  \n    <runtime>  \n        <AppContextSwitchOverrides value = \"Switch.System.MemberDescriptorEqualsReturnsFalseIfEquivalent=true\" />  \n     </runtime>  \n  \n    ```  \n  \n-   You can modify your source code to restore the previous behavior by manually comparing the  <xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=fullName> and <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName> properties after calling the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method, as the following code fragment does.  \n  \n    ```csharp  \n  \n    if (memberDescriptor1.Equals(memberDescriptor2) &   \n        memberDescriptor1.Description.Equals(memberDescriptor2.Category)) {  \n          // Code to execute if true.  \n    }  \n    else {  \n          // Code to execute if false.     \n    }  \n  \n    ```  \n  \n    ```  \n  \n    If memberDescriptor1.Equals(memberDescriptor2) And   \n        memberDescriptor1.Description.Equals(memberDescriptor2.Category)  \n          // Code to execute if True.  \n    Else  \n          // Code to execute if False.     \n    End If  \n  \n    ```  \n  \n For apps that target the [!INCLUDE[net_v461](../../../includes/net-v461-md.md)] and earlier versions, you can enable this change by adding the following value to your app.config file:  \n  \n```xml  \n  \n<runtime>  \n    <AppContextSwitchOverrides value=\"Switch.System.MemberDescriptorEqualsReturnsFalseIfEquivalent=true />  \n</runtime>  \n  \n```  \n  \n## See Also  \n [Retargeting Changes](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-6-2.md)   \n [Application Compatibility in 4.6.2](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-6-2.md)\n","nodes":[{"pos":[12,64],"content":"Mitigation: MemberDescriptor.Equals | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Mitigation: MemberDescriptor.Equals | Microsoft Docs","pos":[0,52]}]},{"pos":[384,419],"content":"Mitigation: MemberDescriptor.Equals","linkify":"Mitigation: MemberDescriptor.Equals","nodes":[{"content":"Mitigation: MemberDescriptor.Equals","pos":[0,35]}]},{"content":"Starting with apps that target the <ph id=\"ph1\">[!INCLUDE[net_v462](../../../includes/net-v462-md.md)]</ph>, the implementation of the <ph id=\"ph2\">&lt;xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName&gt;</ph> method has changed.","pos":[420,637],"source":"Starting with apps that target the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], the implementation of the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method has changed."},{"content":"Because the <ph id=\"ph1\">`System.ComponentModel.EventDescriptor.Equals`</ph> and  <ph id=\"ph2\">`System.ComponentModel.PropertyDescriptor.Equals`</ph> methods inherit the base class implementation, the change also affects these methods.","pos":[638,837],"source":" Because the `System.ComponentModel.EventDescriptor.Equals` and  `System.ComponentModel.PropertyDescriptor.Equals` methods inherit the base class implementation, the change also affects these methods."},{"content":"In apps that target versions of the .NET Framework prior to <ph id=\"ph1\">[!INCLUDE[net_v462](../../../includes/net-v462-md.md)]</ph>, a portion of the <ph id=\"ph2\">&lt;xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName&gt;</ph> method's test for equality  incorrectly compared the <ph id=\"ph3\">&lt;xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=fullName&gt;</ph> property of one object with the <ph id=\"ph4\">&lt;xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName&gt;</ph> property of the other.","pos":[844,1334],"source":"In apps that target versions of the .NET Framework prior to [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], a portion of the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method's test for equality  incorrectly compared the <xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=fullName> property of one object with the <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName> property of the other."},{"content":"Starting with apps that target the <ph id=\"ph1\">[!INCLUDE[net_v462](../../../includes/net-v462-md.md)]</ph>, the <ph id=\"ph2\">&lt;xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName&gt;</ph> method compares the <ph id=\"ph3\">&lt;xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName&gt;</ph> property of the two objects.","pos":[1335,1645],"source":" Starting with apps that target the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)], the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method compares the <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName> property of the two objects."},{"pos":[1654,1660],"content":"Impact","linkify":"Impact","nodes":[{"content":"Impact","pos":[0,6]}]},{"content":"This change correctly implements the test for equality for <ph id=\"ph1\">&lt;xref:System.ComponentModel.MemberDescriptor?displayProperty=fullName&gt;</ph> objects and should have minimal impact.","pos":[1664,1833],"source":"This change correctly implements the test for equality for <xref:System.ComponentModel.MemberDescriptor?displayProperty=fullName> objects and should have minimal impact."},{"pos":[1842,1852],"content":"Mitigation","linkify":"Mitigation","nodes":[{"content":"Mitigation","pos":[0,10]}]},{"pos":[1856,2184],"content":"Two workarounds are available if your app targets the <ph id=\"ph1\">[!INCLUDE[net_v462](../../../includes/net-v462-md.md)]</ph> or a later version of the .NET Framework and it depends on the  <ph id=\"ph2\">&lt;xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName&gt;</ph> method sometimes returning <ph id=\"ph3\">`false`</ph> when member descriptors are equivalent:","source":"Two workarounds are available if your app targets the [!INCLUDE[net_v462](../../../includes/net-v462-md.md)] or a later version of the .NET Framework and it depends on the  <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method sometimes returning `false` when member descriptors are equivalent:"},{"pos":[2194,2415],"content":"You can opt out of this change without modifying your source code by adding the following to the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>runtime&gt;<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/runtime/runtime-element.md)</ept> section of your app.config file:","source":"You can opt out of this change without modifying your source code by adding the following to the [\\<runtime>](../../../docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app.config file:"},{"content":"You can modify your source code to restore the previous behavior by manually comparing the  <ph id=\"ph1\">&lt;xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName&gt;</ph> properties after calling the <ph id=\"ph3\">&lt;xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName&gt;</ph> method, as the following code fragment does.","pos":[2607,3026],"source":"You can modify your source code to restore the previous behavior by manually comparing the  <xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=fullName> and <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=fullName> properties after calling the <xref:System.ComponentModel.MemberDescriptor.Equals%2A?displayProperty=fullName> method, as the following code fragment does."},{"pos":[3586,3769],"content":"For apps that target the <ph id=\"ph1\">[!INCLUDE[net_v461](../../../includes/net-v461-md.md)]</ph> and earlier versions, you can enable this change by adding the following value to your app.config file:","source":"For apps that target the [!INCLUDE[net_v461](../../../includes/net-v461-md.md)] and earlier versions, you can enable this change by adding the following value to your app.config file:"},{"pos":[3936,3944],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Retargeting Changes<ept id=\"p1\">](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-6-2.md)</ept><ph id=\"ph1\"> </ph>","pos":[3948,4061],"source":"[Retargeting Changes](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-6-2.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Application Compatibility in 4.6.2<ept id=\"p1\">](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-6-2.md)</ept>","pos":[4064,4198],"source":" [Application Compatibility in 4.6.2](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-6-2.md)"}]}