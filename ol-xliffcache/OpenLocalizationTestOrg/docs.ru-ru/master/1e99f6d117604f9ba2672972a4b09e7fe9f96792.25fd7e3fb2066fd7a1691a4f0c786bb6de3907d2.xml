{"content":"---\ntitle: \"<peerAuthentication> Element\"\nms.date: \"03/30/2017\"\nms.assetid: 09a8a9ff-e395-42f6-8ceb-9d44bdc1cbe1\n---\n# \\<peerAuthentication> Element\nSpecifies authentication options for peer-to-peer clients.  \n  \n For more information about peer-to-peer programming, see [Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md).  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<endpointBehaviors>  \n\\<behavior>  \n\\<clientCredentials>  \n\\<peer>  \n\\<PeerAuthentication>  \n  \n## Syntax  \n  \n```xml  \n<peerAuthentication customCertificateValidatorType=\"namespace.typeName, [,AssemblyName] [,Version=version number] [,Culture=culture] [,PublicKeyToken=token]\"\n                    certificateValidationMode=\"ChainTrust/None/PeerTrust/PeerOrChainTrust/Custom\"\n                    revocationMode=\"NoCheck/Online/Offline\"\n                    trustedStoreLocation=\"CurrentUser/LocalMachine\" />\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`customCertificateValidatorType`|Optional string. A type and assembly used to validate a custom type. This attribute must be set when `certificateValidationMode` is set to `Custom`.|  \n|`certifcateValidationMode`|Optional enumeration. Specifies one of three modes used to validate credentials. If set to `Custom`, then a `customCertificateValidator` must also be supplied. The default is `ChainTrust`.|  \n|`revocationMode`|Optional enumeration. One of the modes used to check for a revoked certificate lists (CRL). The default is `Online`.|  \n|`trustedStoreLocation`|Optional enumeration. One of the two system store locations: `LocalMachine` or `CurrentUser`. This value is used when a service certificate is negotiated to the client. Validation is performed against the **Trusted People** store in the specified store location. The default is `CurrentUser`.|  \n  \n## customCertificateValidatorType Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|String|Specifies the type name and assembly and other data used to find the type. At minimum, a namespace and type name are required. Optional information includes: assembly name, version number, culture, and public key token.|  \n  \n## certificateValidationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: `None`, `PeerTrust`, `ChainTrust`, `PeerOrChainTrust`, `Custom`. The default is `ChainTrust`.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## revocationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: `NoCheck`, `Online`, `Offline`. The default is `Online`.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## trustedStoreLocation Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: `LocalMachine` or `CurrentUser`. The default is `CurrentUser`. If the client application is running under a system account then the certificate is typically under `LocalMachine`. If the client application is running under a user account then the certificate is typically in `CurrentUser`.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<peer>](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-clientcredentials-element.md)|Specifies a credential used for authenticating the client to a peer service.|  \n  \n## Remarks  \n The `<authentication>` element corresponds to the <xref:System.ServiceModel.Security.X509PeerCertificateAuthentication> class. This element specifies a validator, which is invoked during neighbor-to-neighbor authentication in the mesh. When a new peer tries to establish a neighbor connection, it passes its own credential to the responding peer. The validator of the responder is invoked to verify the credential of the remote party. Whenever a peer connection is established in the mesh, both peers are mutually authenticated, meaning validators on both ends are invoked.  \n  \n## Example  \n The following code sets the certificate validation mode to `PeerOrChainTrust`.  \n  \n```xml  \n<behaviors>\n  <endpointBehaviors>\n    <behavior name=\"MyEndpointBehavior\">\n      <clientCredentials>\n        <peer>\n          <certificate findValue=\"www.contoso.com\"\n                       storeLocation=\"LocalMachine\"\n                       x509FindType=\"FindByIssuerName\" />\n          <peerAuthentication certificateValidationMode=\"PeerOrChainTrust\" />\n          <messageSenderAuthentication certificateValidationMode=\"None\" />\n        </peer>\n      </clientCredentials>\n    </behavior>\n  </endpointBehaviors>\n</behaviors>\n```  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.PeerCredentialElement>\n- <xref:System.ServiceModel.Security.X509PeerCertificateAuthentication>\n- <xref:System.ServiceModel.Security.PeerCredential.PeerAuthentication%2A>\n- <xref:System.ServiceModel.Configuration.PeerCredentialElement.PeerAuthentication%2A>\n- <xref:System.ServiceModel.Configuration.X509PeerCertificateAuthenticationElement>\n- [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)\n- [Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)\n- [Peer Channel Message Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa967730(v=vs.90))\n- [Peer Channel Custom Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751447(v=vs.90))\n- [Securing Peer Channel Applications](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)\n","nodes":[{"pos":[4,112],"embed":true,"restype":"x-metadata","content":"title: \"<peerAuthentication> Element\"\nms.date: \"03/30/2017\"\nms.assetid: 09a8a9ff-e395-42f6-8ceb-9d44bdc1cbe1","nodes":[{"content":"<peerAuthentication> Element","nodes":[{"pos":[0,28],"content":"<ph id=\"ph1\">&lt;peerAuthentication&gt;</ph> Element","source":"<peerAuthentication> Element"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[119,148],"content":"\\<peerAuthentication> Element","linkify":"\\<peerAuthentication> Element","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>peerAuthentication&gt; Element","pos":[0,29],"source":"\\<peerAuthentication> Element"}]},{"content":"Specifies authentication options for peer-to-peer clients.","pos":[149,207]},{"pos":[214,375],"content":"For more information about peer-to-peer programming, see <bpt id=\"p1\">[</bpt>Peer-to-Peer Networking<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)</ept>.","source":"For more information about peer-to-peer programming, see [Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)."},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[382,404],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[407,419],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>endpointBehaviors&gt;","pos":[422,442],"source":"\\<endpointBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[445,456],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;","pos":[459,479],"source":"\\<clientCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>peer&gt;","pos":[482,489],"source":"\\<peer>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>PeerAuthentication&gt;","pos":[492,513],"source":"\\<PeerAuthentication>"},{"pos":[522,528],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[942,965],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[969,1048]},{"pos":[1058,1068],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1075,1084]},{"content":"Description","pos":[1085,1096]},{"content":"Optional string.","pos":[1172,1188]},{"content":"A type and assembly used to validate a custom type.","pos":[1189,1240]},{"content":"This attribute must be set when <ph id=\"ph1\">`certificateValidationMode`</ph> is set to <ph id=\"ph2\">`Custom`</ph>.","pos":[1241,1320],"source":" This attribute must be set when `certificateValidationMode` is set to `Custom`."},{"content":"Optional enumeration.","pos":[1352,1373]},{"content":"Specifies one of three modes used to validate credentials.","pos":[1374,1432]},{"content":"If set to <ph id=\"ph1\">`Custom`</ph>, then a <ph id=\"ph2\">`customCertificateValidator`</ph> must also be supplied.","pos":[1433,1511],"source":" If set to `Custom`, then a `customCertificateValidator` must also be supplied."},{"content":"The default is <ph id=\"ph1\">`ChainTrust`</ph>.","pos":[1512,1540],"source":" The default is `ChainTrust`."},{"content":"Optional enumeration.","pos":[1562,1583]},{"content":"One of the modes used to check for a revoked certificate lists (CRL).","pos":[1584,1653]},{"content":"The default is <ph id=\"ph1\">`Online`</ph>.","pos":[1654,1678],"source":" The default is `Online`."},{"content":"Optional enumeration.","pos":[1706,1727]},{"content":"One of the two system store locations: <ph id=\"ph1\">`LocalMachine`</ph> or <ph id=\"ph2\">`CurrentUser`</ph>.","pos":[1728,1799],"source":" One of the two system store locations: `LocalMachine` or `CurrentUser`."},{"content":"This value is used when a service certificate is negotiated to the client.","pos":[1800,1874]},{"content":"Validation is performed against the <bpt id=\"p1\">**</bpt>Trusted People<ept id=\"p1\">**</ept> store in the specified store location.","pos":[1875,1968],"source":" Validation is performed against the **Trusted People** store in the specified store location."},{"content":"The default is <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[1969,1998],"source":" The default is `CurrentUser`."},{"pos":[2008,2048],"content":"customCertificateValidatorType Attribute","linkify":"customCertificateValidatorType Attribute","nodes":[{"content":"customCertificateValidatorType Attribute","pos":[0,40]}]},{"content":"Value","pos":[2055,2060]},{"content":"Description","pos":[2061,2072]},{"content":"String","pos":[2111,2117]},{"content":"Specifies the type name and assembly and other data used to find the type.","pos":[2118,2192]},{"content":"At minimum, a namespace and type name are required.","pos":[2193,2244]},{"content":"Optional information includes: assembly name, version number, culture, and public key token.","pos":[2245,2337]},{"pos":[2347,2382],"content":"certificateValidationMode Attribute","linkify":"certificateValidationMode Attribute","nodes":[{"content":"certificateValidationMode Attribute","pos":[0,35]}]},{"content":"Value","pos":[2389,2394]},{"content":"Description","pos":[2395,2406]},{"content":"Enumeration","pos":[2445,2456]},{"content":"One of the following values: <ph id=\"ph1\">`None`</ph>, <ph id=\"ph2\">`PeerTrust`</ph>, <ph id=\"ph3\">`ChainTrust`</ph>, <ph id=\"ph4\">`PeerOrChainTrust`</ph>, <ph id=\"ph5\">`Custom`</ph>.","pos":[2457,2550],"source":"One of the following values: `None`, `PeerTrust`, `ChainTrust`, `PeerOrChainTrust`, `Custom`."},{"content":"The default is <ph id=\"ph1\">`ChainTrust`</ph>.","pos":[2551,2579],"source":" The default is `ChainTrust`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[2592,2726],"source":"For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[2736,2760],"content":"revocationMode Attribute","linkify":"revocationMode Attribute","nodes":[{"content":"revocationMode Attribute","pos":[0,24]}]},{"content":"Value","pos":[2767,2772]},{"content":"Description","pos":[2773,2784]},{"content":"Enumeration","pos":[2823,2834]},{"content":"One of the following values: <ph id=\"ph1\">`NoCheck`</ph>, <ph id=\"ph2\">`Online`</ph>, <ph id=\"ph3\">`Offline`</ph>.","pos":[2835,2895],"source":"One of the following values: `NoCheck`, `Online`, `Offline`."},{"content":"The default is <ph id=\"ph1\">`Online`</ph>.","pos":[2896,2920],"source":" The default is `Online`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[2933,3067],"source":"For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[3077,3107],"content":"trustedStoreLocation Attribute","linkify":"trustedStoreLocation Attribute","nodes":[{"content":"trustedStoreLocation Attribute","pos":[0,30]}]},{"content":"Value","pos":[3114,3119]},{"content":"Description","pos":[3120,3131]},{"content":"Enumeration","pos":[3170,3181]},{"content":"One of the following values: <ph id=\"ph1\">`LocalMachine`</ph> or <ph id=\"ph2\">`CurrentUser`</ph>.","pos":[3182,3243],"source":"One of the following values: `LocalMachine` or `CurrentUser`."},{"content":"The default is <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[3244,3273],"source":" The default is `CurrentUser`."},{"content":"If the client application is running under a system account then the certificate is typically under <ph id=\"ph1\">`LocalMachine`</ph>.","pos":[3274,3389],"source":" If the client application is running under a system account then the certificate is typically under `LocalMachine`."},{"content":"If the client application is running under a user account then the certificate is typically in <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[3390,3499],"source":" If the client application is running under a user account then the certificate is typically in `CurrentUser`."},{"pos":[3510,3524],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[3528,3533]},{"pos":[3543,3558],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3565,3572]},{"content":"Description","pos":[3573,3584]},{"pos":[3625,3733],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>peer&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-clientcredentials-element.md)</ept>","source":"[\\<peer>](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-clientcredentials-element.md)"},{"content":"Specifies a credential used for authenticating the client to a peer service.","pos":[3734,3810]},{"pos":[3820,3827],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`&lt;authentication&gt;`</ph> element corresponds to the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Security.X509PeerCertificateAuthentication&gt;</ph> class.","pos":[3831,3957],"source":"The `<authentication>` element corresponds to the <xref:System.ServiceModel.Security.X509PeerCertificateAuthentication> class."},{"content":"This element specifies a validator, which is invoked during neighbor-to-neighbor authentication in the mesh.","pos":[3958,4066]},{"content":"When a new peer tries to establish a neighbor connection, it passes its own credential to the responding peer.","pos":[4067,4177]},{"content":"The validator of the responder is invoked to verify the credential of the remote party.","pos":[4178,4265]},{"content":"Whenever a peer connection is established in the mesh, both peers are mutually authenticated, meaning validators on both ends are invoked.","pos":[4266,4404]},{"pos":[4413,4420],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4424,4502],"content":"The following code sets the certificate validation mode to <ph id=\"ph1\">`PeerOrChainTrust`</ph>.","source":"The following code sets the certificate validation mode to `PeerOrChainTrust`."},{"pos":[5054,5062],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5449,5556],"content":"<bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>","source":"[Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)"},{"pos":[5559,5662],"content":"<bpt id=\"p1\">[</bpt>Peer-to-Peer Networking<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)</ept>","source":"[Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)"},{"pos":[5665,5790],"content":"<bpt id=\"p1\">[</bpt>Peer Channel Message Authentication<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa967730(v=vs.90))</ept>","source":"[Peer Channel Message Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa967730(v=vs.90))"},{"pos":[5793,5917],"content":"<bpt id=\"p1\">[</bpt>Peer Channel Custom Authentication<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751447(v=vs.90))</ept>","source":"[Peer Channel Custom Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751447(v=vs.90))"},{"pos":[5920,6045],"content":"<bpt id=\"p1\">[</bpt>Securing Peer Channel Applications<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)</ept>","source":"[Securing Peer Channel Applications](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)"}]}