{"content":"---\ntitle: \"x:Shared Attribute\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"XAML [XAML Services], x:Shared attribute\"\n  - \"x:Shared attribute [XAML Services]\"\n  - \"Shared attribute in XAML [XAML Services]\"\nms.assetid: c8cff434-2785-405f-9f95-16deb34c9e64\n---\n# x:Shared Attribute\nWhen set to `false`, modifies WPF resource-retrieval behavior so that requests for the attributed resource create a new instance for each request instead of sharing the same instance for all requests.  \n  \n## XAML Attribute Usage  \n  \n```xaml  \n<ResourceDictionary>  \n  <object x:Shared=\"false\".../>  \n</ResourceDictionary>  \n```  \n  \n## Remarks  \n `x:Shared` is mapped to the XAML language XAML namespace and is recognized as a valid XAML language element by .NET Framework XAML Services and its XAML readers. However, the stated capabilities of `x:Shared` are only relevant for WPF applications and for the WPF XAML parser. In WPF, `x:Shared` is only useful as an attribute when it is applied to an object that exists within a WPF <xref:System.Windows.ResourceDictionary>. Other usages do not throw parse exceptions or other errors, but they have no effect.  \n  \n The meaning of `x:Shared` is not specified in the XAML language specification. Other XAML implementations, such as those that build on .NET Framework XAML Services, do not necessarily provide resource-sharing support. Such XAML implementations could provide similar behavior in the supporting framework that also used `x:Shared` values.  \n  \n In WPF, the default `x:Shared` condition for resources is `true`. This condition means that any given resource request always returns the same instance.  \n  \n Modifying an object that is returned through a resource API, such as <xref:System.Windows.FrameworkElement.FindResource%2A>, or modifying an object directly within a <xref:System.Windows.ResourceDictionary>, changes the original resource. If references to that resource were dynamic resource references, the consumers of that resource get the changed resource.  \n  \n If references to the resource were static resource references, changes to the resource after [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] processing time are irrelevant. For more information about static versus dynamic resource references, see [XAML Resources](../wpf/advanced/xaml-resources.md).  \n  \n Explicitly specifying `x:Shared=\"true\"` is rarely done, because that is already the default. There is no direct code equivalent for `x:Shared` in the WPF object model; it can only be specified in a XAML usage and must be processed either by the default WPF behavior or in an intermediate XAML node stream on the load path if processed using .NET Framework XAML Services and its XAML readers.  \n  \n A scenario for `x:Shared=\"false\"` is if you define a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> derived class as a resource and then you introduce the element resource into a content model. `x:Shared=\"false\"` enables an element resource to be introduced multiple times in the same collection (such as a <xref:System.Windows.Controls.UIElementCollection>). Without `x:Shared=\"false\"` this is invalid because the collection enforces uniqueness of its contents. However, the `x:Shared=\"false\"` behavior creates another identical instance of the resource instead of returning the same instance.  \n  \n Another scenario for `x:Shared=\"false\"` is if you use a <xref:System.Windows.Freezable> resource for animation values but want to modify the resource on a per animation basis.  \n  \n The string handling of `false` is not case sensitive.  \n  \n In WPF, `x:Shared` is only valid under the following conditions:  \n  \n-   The <xref:System.Windows.ResourceDictionary> that contains the items with `x:Shared` must be compiled. The <xref:System.Windows.ResourceDictionary> cannot be within loose XAML or used for themes.  \n  \n-   The <xref:System.Windows.ResourceDictionary> that contains the items must not be nested within another <xref:System.Windows.ResourceDictionary>. For example, you cannot use `x:Shared` for items in a <xref:System.Windows.ResourceDictionary> that is within a <xref:System.Windows.Style> that is already a <xref:System.Windows.ResourceDictionary> item.  \n  \n## See also\n\n- <xref:System.Windows.ResourceDictionary>\n- [XAML Resources](../wpf/advanced/xaml-resources.md)\n- [Base Elements](../wpf/advanced/base-elements.md)\n","nodes":[{"pos":[4,259],"embed":true,"restype":"x-metadata","content":"title: \"x:Shared Attribute\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"XAML [XAML Services], x:Shared attribute\"\n  - \"x:Shared attribute [XAML Services]\"\n  - \"Shared attribute in XAML [XAML Services]\"\nms.assetid: c8cff434-2785-405f-9f95-16deb34c9e64","nodes":[{"content":"x:Shared Attribute","nodes":[{"pos":[0,18],"content":"x:Shared Attribute","nodes":[{"content":"x:Shared Attribute","pos":[0,18]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[266,284],"content":"x:Shared Attribute","linkify":"x:Shared Attribute","nodes":[{"content":"x:Shared Attribute","pos":[0,18]}]},{"pos":[285,485],"content":"When set to <ph id=\"ph1\">`false`</ph>, modifies WPF resource-retrieval behavior so that requests for the attributed resource create a new instance for each request instead of sharing the same instance for all requests.","source":"When set to `false`, modifies WPF resource-retrieval behavior so that requests for the attributed resource create a new instance for each request instead of sharing the same instance for all requests."},{"pos":[494,514],"content":"XAML Attribute Usage","linkify":"XAML Attribute Usage","nodes":[{"content":"XAML Attribute Usage","pos":[0,20]}]},{"pos":[623,630],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"<ph id=\"ph1\">`x:Shared`</ph> is mapped to the XAML language XAML namespace and is recognized as a valid XAML language element by .NET Framework XAML Services and its XAML readers.","pos":[634,795],"source":"`x:Shared` is mapped to the XAML language XAML namespace and is recognized as a valid XAML language element by .NET Framework XAML Services and its XAML readers."},{"content":"However, the stated capabilities of <ph id=\"ph1\">`x:Shared`</ph> are only relevant for WPF applications and for the WPF XAML parser.","pos":[796,910],"source":" However, the stated capabilities of `x:Shared` are only relevant for WPF applications and for the WPF XAML parser."},{"content":"In WPF, <ph id=\"ph1\">`x:Shared`</ph> is only useful as an attribute when it is applied to an object that exists within a WPF <ph id=\"ph2\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph>.","pos":[911,1059],"source":" In WPF, `x:Shared` is only useful as an attribute when it is applied to an object that exists within a WPF <xref:System.Windows.ResourceDictionary>."},{"content":"Other usages do not throw parse exceptions or other errors, but they have no effect.","pos":[1060,1144]},{"content":"The meaning of <ph id=\"ph1\">`x:Shared`</ph> is not specified in the XAML language specification.","pos":[1151,1229],"source":"The meaning of `x:Shared` is not specified in the XAML language specification."},{"content":"Other XAML implementations, such as those that build on .NET Framework XAML Services, do not necessarily provide resource-sharing support.","pos":[1230,1368]},{"content":"Such XAML implementations could provide similar behavior in the supporting framework that also used <ph id=\"ph1\">`x:Shared`</ph> values.","pos":[1369,1487],"source":" Such XAML implementations could provide similar behavior in the supporting framework that also used `x:Shared` values."},{"content":"In WPF, the default <ph id=\"ph1\">`x:Shared`</ph> condition for resources is <ph id=\"ph2\">`true`</ph>.","pos":[1494,1559],"source":"In WPF, the default `x:Shared` condition for resources is `true`."},{"content":"This condition means that any given resource request always returns the same instance.","pos":[1560,1646]},{"content":"Modifying an object that is returned through a resource API, such as <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.FindResource%2A&gt;</ph>, or modifying an object directly within a <ph id=\"ph2\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph>, changes the original resource.","pos":[1653,1891],"source":"Modifying an object that is returned through a resource API, such as <xref:System.Windows.FrameworkElement.FindResource%2A>, or modifying an object directly within a <xref:System.Windows.ResourceDictionary>, changes the original resource."},{"content":"If references to that resource were dynamic resource references, the consumers of that resource get the changed resource.","pos":[1892,2013]},{"content":"If references to the resource were static resource references, changes to the resource after <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> processing time are irrelevant.","pos":[2020,2213],"source":"If references to the resource were static resource references, changes to the resource after [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] processing time are irrelevant."},{"content":"For more information about static versus dynamic resource references, see <bpt id=\"p1\">[</bpt>XAML Resources<ept id=\"p1\">](../wpf/advanced/xaml-resources.md)</ept>.","pos":[2214,2340],"source":" For more information about static versus dynamic resource references, see [XAML Resources](../wpf/advanced/xaml-resources.md)."},{"content":"Explicitly specifying <ph id=\"ph1\">`x:Shared=\"true\"`</ph> is rarely done, because that is already the default.","pos":[2347,2439],"source":"Explicitly specifying `x:Shared=\"true\"` is rarely done, because that is already the default."},{"content":"There is no direct code equivalent for <ph id=\"ph1\">`x:Shared`</ph> in the WPF object model; it can only be specified in a XAML usage and must be processed either by the default WPF behavior or in an intermediate XAML node stream on the load path if processed using .NET Framework XAML Services and its XAML readers.","pos":[2440,2738],"source":" There is no direct code equivalent for `x:Shared` in the WPF object model; it can only be specified in a XAML usage and must be processed either by the default WPF behavior or in an intermediate XAML node stream on the load path if processed using .NET Framework XAML Services and its XAML readers."},{"content":"A scenario for <ph id=\"ph1\">`x:Shared=\"false\"`</ph> is if you define a <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkContentElement&gt;</ph> derived class as a resource and then you introduce the element resource into a content model.","pos":[2745,2979],"source":"A scenario for `x:Shared=\"false\"` is if you define a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> derived class as a resource and then you introduce the element resource into a content model."},{"content":"<ph id=\"ph1\">`x:Shared=\"false\"`</ph> enables an element resource to be introduced multiple times in the same collection (such as a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.UIElementCollection&gt;</ph>).","pos":[2980,3145],"source":"`x:Shared=\"false\"` enables an element resource to be introduced multiple times in the same collection (such as a <xref:System.Windows.Controls.UIElementCollection>)."},{"content":"Without <ph id=\"ph1\">`x:Shared=\"false\"`</ph> this is invalid because the collection enforces uniqueness of its contents.","pos":[3146,3248],"source":" Without `x:Shared=\"false\"` this is invalid because the collection enforces uniqueness of its contents."},{"content":"However, the <ph id=\"ph1\">`x:Shared=\"false\"`</ph> behavior creates another identical instance of the resource instead of returning the same instance.","pos":[3249,3380],"source":" However, the `x:Shared=\"false\"` behavior creates another identical instance of the resource instead of returning the same instance."},{"pos":[3387,3562],"content":"Another scenario for <ph id=\"ph1\">`x:Shared=\"false\"`</ph> is if you use a <ph id=\"ph2\">&lt;xref:System.Windows.Freezable&gt;</ph> resource for animation values but want to modify the resource on a per animation basis.","source":"Another scenario for `x:Shared=\"false\"` is if you use a <xref:System.Windows.Freezable> resource for animation values but want to modify the resource on a per animation basis."},{"pos":[3569,3622],"content":"The string handling of <ph id=\"ph1\">`false`</ph> is not case sensitive.","source":"The string handling of `false` is not case sensitive."},{"pos":[3629,3693],"content":"In WPF, <ph id=\"ph1\">`x:Shared`</ph> is only valid under the following conditions:","source":"In WPF, `x:Shared` is only valid under the following conditions:"},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph> that contains the items with <ph id=\"ph2\">`x:Shared`</ph> must be compiled.","pos":[3703,3805],"source":"The <xref:System.Windows.ResourceDictionary> that contains the items with `x:Shared` must be compiled."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph> cannot be within loose XAML or used for themes.","pos":[3806,3898],"source":" The <xref:System.Windows.ResourceDictionary> cannot be within loose XAML or used for themes."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph> that contains the items must not be nested within another <ph id=\"ph2\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph>.","pos":[3908,4052],"source":"The <xref:System.Windows.ResourceDictionary> that contains the items must not be nested within another <xref:System.Windows.ResourceDictionary>."},{"content":"For example, you cannot use <ph id=\"ph1\">`x:Shared`</ph> for items in a <ph id=\"ph2\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph> that is within a <ph id=\"ph3\">&lt;xref:System.Windows.Style&gt;</ph> that is already a <ph id=\"ph4\">&lt;xref:System.Windows.ResourceDictionary&gt;</ph> item.","pos":[4053,4257],"source":" For example, you cannot use `x:Shared` for items in a <xref:System.Windows.ResourceDictionary> that is within a <xref:System.Windows.Style> that is already a <xref:System.Windows.ResourceDictionary> item."},{"pos":[4266,4274],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4321,4372],"content":"<bpt id=\"p1\">[</bpt>XAML Resources<ept id=\"p1\">](../wpf/advanced/xaml-resources.md)</ept>","source":"[XAML Resources](../wpf/advanced/xaml-resources.md)"},{"pos":[4375,4424],"content":"<bpt id=\"p1\">[</bpt>Base Elements<ept id=\"p1\">](../wpf/advanced/base-elements.md)</ept>","source":"[Base Elements](../wpf/advanced/base-elements.md)"}]}