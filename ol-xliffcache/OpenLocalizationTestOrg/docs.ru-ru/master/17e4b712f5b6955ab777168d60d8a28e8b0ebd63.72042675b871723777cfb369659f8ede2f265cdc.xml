{"content":"---\ntitle: \"Workflow Transactions\"\nms.date: \"03/30/2017\"\nms.assetid: 6081fb02-c0f2-483d-97b8-f3b7dc03011d\n---\n# Workflow Transactions\n\n[!INCLUDE[wf1](../../../includes/wf1-md.md)] provides support for participating in <xref:System.Transactions> transactions by using the <xref:System.Activities.Statements.TransactionScope> activity to scope a transacted unit of work. While the <xref:System.Transactions.TransactionScope?displayProperty=nameWithType> must be explicitly completed the <xref:System.Activities.Statements.TransactionScope?displayProperty=nameWithType> activity implicitly calls complete on the transaction upon successful completion. Any activities that are contained in the <xref:System.Activities.Statements.TransactionScope.Body%2A> of the <xref:System.Activities.Statements.TransactionScope> activity participate in the transaction. WF can to flow transactions into a workflow through the use of the <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity. Like the <xref:System.Activities.Statements.TransactionScope> activity, any activity contained in the <xref:System.ServiceModel.Activities.TransactedReceiveScope.Body%2A> participates in the transaction. WF ensures that activities dependent on <xref:System.Transactions.Transaction.Current%2A?displayProperty=nameWithType> works with both <xref:System.Activities.Statements.TransactionScope> and <xref:System.ServiceModel.Activities.TransactedReceiveScope>. If the system-provided activities do not address all requirements, custom activities can be built using the <xref:System.Activities.RuntimeTransactionHandle> to enable advanced flow and transaction control scenarios.  \n  \nIn the following example, a workflow is constructed consisting of a <xref:System.Activities.Statements.Sequence> activity that contains child activities including a <xref:System.Activities.Statements.TransactionScope> activity. The <xref:System.Activities.Statements.TransactionScope.Body%2A> activities of the <xref:System.Activities.Statements.TransactionScope> execute under the transaction initialized by the <xref:System.Activities.Statements.TransactionScope> activity.  \n  \n```csharp  \nstatic Activity ScenarioOne()  \n{  \n    return new Sequence  \n    {  \n        Activities =  \n        {  \n            new WriteLine { Text = \"    Begin workflow\" },  \n  \n            new TransactionScope  \n            {  \n                Body = new Sequence  \n                {  \n                    Activities =   \n                    {  \n                        new WriteLine { Text = \"    Begin TransactionScope\" },  \n  \n                        new PrintTransactionId(),  \n  \n                        new TransactionScopeTest(),  \n  \n                        new WriteLine { Text = \"    End TransactionScope\" },  \n                    },  \n                },  \n            },  \n  \n            new WriteLine { Text = \"    End workflow\" },  \n        }  \n    };  \n}  \n```  \n  \nFor more information, see about using <xref:System.ServiceModel.Activities.TransactedReceiveScope>, see [Flowing Transactions into and out of Workflow Services](../wcf/feature-details/flowing-transactions-into-and-out-of-workflow-services.md).  \n  \n## See also\n\n- <xref:System.Activities.Statements.TransactionScope>\n- <xref:System.Transactions.TransactionScope>\n- <xref:System.Transactions.Transaction.Current%2A?displayProperty=nameWithType>\n","nodes":[{"pos":[4,105],"embed":true,"restype":"x-metadata","content":"title: \"Workflow Transactions\"\nms.date: \"03/30/2017\"\nms.assetid: 6081fb02-c0f2-483d-97b8-f3b7dc03011d","nodes":[{"content":"Workflow Transactions","nodes":[{"pos":[0,21],"content":"Workflow Transactions","nodes":[{"content":"Workflow Transactions","pos":[0,21]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[112,133],"content":"Workflow Transactions","linkify":"Workflow Transactions","nodes":[{"content":"Workflow Transactions","pos":[0,21]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[wf1](../../../includes/wf1-md.md)]</ph> provides support for participating in <ph id=\"ph2\">&lt;xref:System.Transactions&gt;</ph> transactions by using the <ph id=\"ph3\">&lt;xref:System.Activities.Statements.TransactionScope&gt;</ph> activity to scope a transacted unit of work.","pos":[135,368],"source":"[!INCLUDE[wf1](../../../includes/wf1-md.md)] provides support for participating in <xref:System.Transactions> transactions by using the <xref:System.Activities.Statements.TransactionScope> activity to scope a transacted unit of work."},{"content":"While the <ph id=\"ph1\">&lt;xref:System.Transactions.TransactionScope?displayProperty=nameWithType&gt;</ph> must be explicitly completed the <ph id=\"ph2\">&lt;xref:System.Activities.Statements.TransactionScope?displayProperty=nameWithType&gt;</ph> activity implicitly calls complete on the transaction upon successful completion.","pos":[369,648],"source":" While the <xref:System.Transactions.TransactionScope?displayProperty=nameWithType> must be explicitly completed the <xref:System.Activities.Statements.TransactionScope?displayProperty=nameWithType> activity implicitly calls complete on the transaction upon successful completion."},{"content":"Any activities that are contained in the <ph id=\"ph1\">&lt;xref:System.Activities.Statements.TransactionScope.Body%2A&gt;</ph> of the <ph id=\"ph2\">&lt;xref:System.Activities.Statements.TransactionScope&gt;</ph> activity participate in the transaction.","pos":[649,851],"source":" Any activities that are contained in the <xref:System.Activities.Statements.TransactionScope.Body%2A> of the <xref:System.Activities.Statements.TransactionScope> activity participate in the transaction."},{"content":"WF can to flow transactions into a workflow through the use of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.TransactedReceiveScope&gt;</ph> activity.","pos":[852,989],"source":" WF can to flow transactions into a workflow through the use of the <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity."},{"content":"Like the <ph id=\"ph1\">&lt;xref:System.Activities.Statements.TransactionScope&gt;</ph> activity, any activity contained in the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Activities.TransactedReceiveScope.Body%2A&gt;</ph> participates in the transaction.","pos":[990,1193],"source":" Like the <xref:System.Activities.Statements.TransactionScope> activity, any activity contained in the <xref:System.ServiceModel.Activities.TransactedReceiveScope.Body%2A> participates in the transaction."},{"content":"WF ensures that activities dependent on <ph id=\"ph1\">&lt;xref:System.Transactions.Transaction.Current%2A?displayProperty=nameWithType&gt;</ph> works with both <ph id=\"ph2\">&lt;xref:System.Activities.Statements.TransactionScope&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.ServiceModel.Activities.TransactedReceiveScope&gt;</ph>.","pos":[1194,1447],"source":" WF ensures that activities dependent on <xref:System.Transactions.Transaction.Current%2A?displayProperty=nameWithType> works with both <xref:System.Activities.Statements.TransactionScope> and <xref:System.ServiceModel.Activities.TransactedReceiveScope>."},{"content":"If the system-provided activities do not address all requirements, custom activities can be built using the <ph id=\"ph1\">&lt;xref:System.Activities.RuntimeTransactionHandle&gt;</ph> to enable advanced flow and transaction control scenarios.","pos":[1448,1664],"source":" If the system-provided activities do not address all requirements, custom activities can be built using the <xref:System.Activities.RuntimeTransactionHandle> to enable advanced flow and transaction control scenarios."},{"content":"In the following example, a workflow is constructed consisting of a <ph id=\"ph1\">&lt;xref:System.Activities.Statements.Sequence&gt;</ph> activity that contains child activities including a <ph id=\"ph2\">&lt;xref:System.Activities.Statements.TransactionScope&gt;</ph> activity.","pos":[1670,1897],"source":"In the following example, a workflow is constructed consisting of a <xref:System.Activities.Statements.Sequence> activity that contains child activities including a <xref:System.Activities.Statements.TransactionScope> activity."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Activities.Statements.TransactionScope.Body%2A&gt;</ph> activities of the <ph id=\"ph2\">&lt;xref:System.Activities.Statements.TransactionScope&gt;</ph> execute under the transaction initialized by the <ph id=\"ph3\">&lt;xref:System.Activities.Statements.TransactionScope&gt;</ph> activity.","pos":[1898,2145],"source":" The <xref:System.Activities.Statements.TransactionScope.Body%2A> activities of the <xref:System.Activities.Statements.TransactionScope> execute under the transaction initialized by the <xref:System.Activities.Statements.TransactionScope> activity."},{"pos":[2935,3178],"content":"For more information, see about using <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.TransactedReceiveScope&gt;</ph>, see <bpt id=\"p1\">[</bpt>Flowing Transactions into and out of Workflow Services<ept id=\"p1\">](../wcf/feature-details/flowing-transactions-into-and-out-of-workflow-services.md)</ept>.","source":"For more information, see about using <xref:System.ServiceModel.Activities.TransactedReceiveScope>, see [Flowing Transactions into and out of Workflow Services](../wcf/feature-details/flowing-transactions-into-and-out-of-workflow-services.md)."},{"pos":[3187,3195],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}