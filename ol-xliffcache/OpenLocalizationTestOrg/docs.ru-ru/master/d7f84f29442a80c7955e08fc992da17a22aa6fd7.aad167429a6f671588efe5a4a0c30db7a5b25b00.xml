{"content":"---\ntitle: \"KEY (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: cbaa97a8-c89c-4460-8c74-00474695789f\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# KEY (Entity SQL)\nExtracts the key of a reference or of an entity expression.  \n  \n## Syntax  \n  \n```  \n  \nKEY(createref_expression)  \n```  \n  \n## Remarks  \n An entity key contains the key values in the correct order of the specified entity or entity reference. Because multiple entity sets can be based on the same type, the same key might appear in each entity set. To get a unique reference, use `REF`. The return type of the KEY operator is a row type that includes one field for each key of the entity, in the same order.  \n  \n In the following example, the key operator is passed a reference to the BadOrder entity, and returns the key portion of that reference. In this case, a record type with exactly one field corresponding to the `Id` property.  \n  \n```  \nselect Key( CreateRef(LOB.BadOrders, row(o.Id)) )   \nfrom LOB.Orders as o  \n```  \n  \n## Example  \n The following Entity SQL query uses the KEY operator to extract the key portion of an expression with type reference. The query is based on the AdventureWorks Sales Model. To compile and run this query, follow these steps:  \n  \n1.  Follow the procedure in [How to: Execute a Query that Returns StructuralType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-structuraltype-results.md).  \n  \n2.  Pass the following query as an argument to the `ExecuteStructuralTypeQuery` method:  \n  \n [!code-csharp[DP EntityServices Concepts 2#KEY](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#key)]  \n  \n## See Also  \n [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)   \n [CREATEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md)   \n [REF](../../../../../../docs/framework/data/adonet/ef/language-reference/ref-entity-sql.md)   \n [DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)","nodes":[{"pos":[4,391],"nodes":[{"content":"KEY (Entity SQL) | Microsoft Docs","nodes":[{"pos":[0,33],"content":"KEY (Entity SQL) | Microsoft Docs","nodes":[{"content":"KEY (Entity SQL) | Microsoft Docs","pos":[0,33]}]}],"pos":[6,42],"yaml":true}],"content":"title: \"KEY (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: cbaa97a8-c89c-4460-8c74-00474695789f\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[398,414],"content":"KEY (Entity SQL)","linkify":"KEY (Entity SQL)","nodes":[{"content":"KEY (Entity SQL)","pos":[0,16]}]},{"content":"Extracts the key of a reference or of an entity expression.","pos":[415,474]},{"pos":[483,489],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[544,551],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"An entity key contains the key values in the correct order of the specified entity or entity reference.","pos":[555,658]},{"content":"Because multiple entity sets can be based on the same type, the same key might appear in each entity set.","pos":[659,764]},{"content":"To get a unique reference, use <ph id=\"ph1\">`REF`</ph>.","pos":[765,802],"source":" To get a unique reference, use `REF`."},{"content":"The return type of the KEY operator is a row type that includes one field for each key of the entity, in the same order.","pos":[803,923]},{"content":"In the following example, the key operator is passed a reference to the BadOrder entity, and returns the key portion of that reference.","pos":[930,1065]},{"content":"In this case, a record type with exactly one field corresponding to the <ph id=\"ph1\">`Id`</ph> property.","pos":[1066,1152],"source":" In this case, a record type with exactly one field corresponding to the `Id` property."},{"pos":[1252,1259],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following Entity SQL query uses the KEY operator to extract the key portion of an expression with type reference.","pos":[1263,1380]},{"content":"The query is based on the AdventureWorks Sales Model.","pos":[1381,1434]},{"content":"To compile and run this query, follow these steps:","pos":[1435,1485]},{"pos":[1495,1692],"content":"Follow the procedure in <bpt id=\"p1\">[</bpt>How to: Execute a Query that Returns StructuralType Results<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-structuraltype-results.md)</ept>.","source":"Follow the procedure in [How to: Execute a Query that Returns StructuralType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-structuraltype-results.md)."},{"pos":[1702,1785],"content":"Pass the following query as an argument to the <ph id=\"ph1\">`ExecuteStructuralTypeQuery`</ph> method:","source":"Pass the following query as an argument to the `ExecuteStructuralTypeQuery` method:"},{"pos":[1792,1949],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP EntityServices Concepts 2#KEY<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#key)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[DP EntityServices Concepts 2#KEY](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#key)]"},{"pos":[1958,1966],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept><ph id=\"ph1\"> </ph>","pos":[1970,2085],"source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md) "},{"content":"<bpt id=\"p1\">[</bpt>CREATEREF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md)</ept><ph id=\"ph1\"> </ph>","pos":[2089,2193],"source":"[CREATEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md) "},{"content":"<bpt id=\"p1\">[</bpt>REF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/ref-entity-sql.md)</ept><ph id=\"ph1\"> </ph>","pos":[2197,2289],"source":"[REF](../../../../../../docs/framework/data/adonet/ef/language-reference/ref-entity-sql.md) "},{"content":"<bpt id=\"p1\">[</bpt>DEREF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)</ept>","pos":[2293,2388],"source":"[DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)"}]}