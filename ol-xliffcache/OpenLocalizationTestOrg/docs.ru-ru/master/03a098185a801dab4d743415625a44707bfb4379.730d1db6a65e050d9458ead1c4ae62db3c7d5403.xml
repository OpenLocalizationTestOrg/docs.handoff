{"content":"---\ntitle: \"Data Templating Overview | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"data binding, templates\"\n  - \"binding data, templates\"\n  - \"templates, data\"\n  - \"data templates\"\nms.assetid: 0f4d9f8c-0230-4013-bd7b-e8e7fed01b4a\ncaps.latest.revision: 25\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Data Templating Overview\nThe WPF data templating model provides you with great flexibility to define the presentation of your data. WPF controls have built-in functionality to support the customization of data presentation. This topic first demonstrates how to define a <xref:System.Windows.DataTemplate> and then introduces other data templating features, such as the selection of templates based on custom logic and the support for the display of hierarchical data.  \n  \n<a name=\"Prerequisites\"></a>   \n## Prerequisites  \n This topic focuses on data templating features and is not an introduction of data binding concepts. For information about basic data binding concepts, see the [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).  \n  \n <xref:System.Windows.DataTemplate> is about the presentation of data and is one of the many features provided by the WPF styling and templating model. For an introduction of the WPF styling and templating model, such as how to use a <xref:System.Windows.Style> to set properties on controls, see the [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md) topic.  \n  \n In addition, it is important to understand `Resources`, which are essentially what enable objects such as <xref:System.Windows.Style> and <xref:System.Windows.DataTemplate> to be reusable. For more information on resources, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).  \n  \n<a name=\"DataTemplating_Basic\"></a>   \n## Data Templating Basics  \n  \n To demonstrate why <xref:System.Windows.DataTemplate> is important, let's walk through a data binding example. In this example, we have a <xref:System.Windows.Controls.ListBox> that is bound to a list of `Task` objects. Each `Task` object has a `TaskName` (string), a `Description` (string), a `Priority` (int), and a property of type `TaskType`, which is an `Enum` with values `Home` and `Work`.  \n  \n [!code-xml[DataTemplatingIntro_snip#Resources](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#resources)]  \n[!code-xml[DataTemplatingIntro_snip#UI1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui1)]  \n[!code-xml[DataTemplatingIntro_snip#UI2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui2)]  \n  \n<a name=\"without_a_datatemplate\"></a>   \n### Without a DataTemplate  \n Without a <xref:System.Windows.DataTemplate>, our <xref:System.Windows.Controls.ListBox> currently looks like this:  \n  \n ![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig1.png \"DataTemplatingIntro_fig1\")  \n  \n What's happening is that without any specific instructions, the <xref:System.Windows.Controls.ListBox> by default calls `ToString` when trying to display the objects in the collection. Therefore, if the `Task` object overrides the `ToString` method, then the <xref:System.Windows.Controls.ListBox> displays the string representation of each source object in the underlying collection.  \n  \n For example, if the `Task` class overrides the `ToString` method this way, where `name` is the field for the `TaskName` property:  \n  \n [!code-csharp[DataTemplatingIntro_snip#ToString](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Data.cs#tostring)]\n [!code-vb[DataTemplatingIntro_snip#ToString](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/data.vb#tostring)]  \n  \n Then the <xref:System.Windows.Controls.ListBox> looks like the following:  \n  \n ![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig2.png \"DataTemplatingIntro_fig2\")  \n  \n However, that is limiting and inflexible. Also, if you are binding to [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, you wouldn't be able to override `ToString`.  \n  \n<a name=\"defining_simple_datatemplate\"></a>   \n### Defining a Simple DataTemplate  \n The solution is to define a <xref:System.Windows.DataTemplate>. One way to do that is to set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.ListBox> to a <xref:System.Windows.DataTemplate>. What you specify in your <xref:System.Windows.DataTemplate> becomes the visual structure of your data object. The following <xref:System.Windows.DataTemplate> is fairly simple. We are giving instructions that each item appears as three <xref:System.Windows.Controls.TextBlock> elements within a <xref:System.Windows.Controls.StackPanel>. Each <xref:System.Windows.Controls.TextBlock> element is bound to a property of the `Task` class.  \n  \n [!code-xml[DataTemplatingIntro_snip#Inline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#inline)]  \n  \n The underlying data for the examples in this topic is a collection of [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] objects. If you are binding to [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, the fundamental concepts are the same, but there is a slight syntactic difference. For example, instead of having `Path=TaskName`, you would set <xref:System.Windows.Data.Binding.XPath%2A> to `@TaskName` (if `TaskName` is an attribute of your [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] node).  \n  \n Now our <xref:System.Windows.Controls.ListBox> looks like the following:  \n  \n ![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig3.png \"DataTemplatingIntro_fig3\")  \n  \n<a name=\"defining_datatemplate_as_a_resource\"></a>   \n### Creating the DataTemplate as a Resource  \n In the above example, we defined the <xref:System.Windows.DataTemplate> inline. It is more common to define it in the resources section so it can be a reusable object, as in the following example:  \n  \n [!code-xml[DataTemplatingIntro_snip#R1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]  \n[!code-xml[DataTemplatingIntro_snip#AsResource](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#asresource)]  \n[!code-xml[DataTemplatingIntro_snip#R2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]  \n  \n Now you can use `myTaskTemplate` as a resource, as in the following example:  \n  \n [!code-xml[DataTemplatingIntro_snip#MyTaskTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#mytasktemplate)]  \n  \n Because `myTaskTemplate` is a resource, you can now use it on other controls that have a property that takes a <xref:System.Windows.DataTemplate> type. As shown above, for <xref:System.Windows.Controls.ItemsControl> objects, such as the <xref:System.Windows.Controls.ListBox>, it is the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property. For <xref:System.Windows.Controls.ContentControl> objects, it is the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.  \n  \n<a name=\"Styling_DataType\"></a>   \n### The DataType Property  \n The <xref:System.Windows.DataTemplate> class has a <xref:System.Windows.DataTemplate.DataType%2A> property that is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style> class. Therefore, instead of specifying an `x:Key` for the <xref:System.Windows.DataTemplate> in the above example, you can do the following:  \n  \n [!code-xml[DataTemplatingIntro_snip#DataType](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#datatype)]  \n  \n This <xref:System.Windows.DataTemplate> gets applied automatically to all `Task` objects. Note that in this case the `x:Key` is set implicitly. Therefore, if you assign this <xref:System.Windows.DataTemplate> an `x:Key` value, you are overriding the implicit `x:Key` and the <xref:System.Windows.DataTemplate> would not be applied automatically.  \n  \n If you are binding a <xref:System.Windows.Controls.ContentControl> to a collection of `Task` objects, the <xref:System.Windows.Controls.ContentControl> does not use the above <xref:System.Windows.DataTemplate> automatically. This is because the binding on a <xref:System.Windows.Controls.ContentControl> needs more information to distinguish whether you want to bind to an entire collection or the individual objects. If your <xref:System.Windows.Controls.ContentControl> is tracking the selection of an <xref:System.Windows.Controls.ItemsControl> type, you can set the <xref:System.Windows.Data.Binding.Path%2A> property of the <xref:System.Windows.Controls.ContentControl> binding to \"`/`\" to indicate that you are interested in the current item. For an example, see [Bind to a Collection and Display Information Based on Selection](../../../../docs/framework/wpf/data/how-to-bind-to-a-collection-and-display-information-based-on-selection.md). Otherwise, you need to specify the <xref:System.Windows.DataTemplate> explicitly by setting the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.  \n  \n The <xref:System.Windows.DataTemplate.DataType%2A> property is particularly useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types of data objects. For an example, see [Implement a CompositeCollection](../../../../docs/framework/wpf/data/how-to-implement-a-compositecollection.md).  \n  \n<a name=\"adding_more_to_datatemplate\"></a>   \n## Adding More to the DataTemplate  \n Currently the data appears with the necessary information, but there's definitely room for improvement. Let's improve on the presentation by adding a <xref:System.Windows.Controls.Border>, a <xref:System.Windows.Controls.Grid>, and some <xref:System.Windows.Controls.TextBlock> elements that describe the data that is being displayed.  \n  \n [!code-xml[DataTemplatingIntro#AddingMore](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore)]  \n[!code-xml[DataTemplatingIntro#AddingMore2](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]  \n  \n The following screenshot shows the <xref:System.Windows.Controls.ListBox> with this modified <xref:System.Windows.DataTemplate>:  \n  \n ![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig4.png \"DataTemplatingIntro_fig4\")  \n  \n We can set <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> to <xref:System.Windows.HorizontalAlignment> on the <xref:System.Windows.Controls.ListBox> to make sure the width of the items takes up the entire space:  \n  \n [!code-xml[DataTemplatingIntro_snip#Stretch](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#stretch)]  \n  \n With the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> property set to <xref:System.Windows.HorizontalAlignment>, the <xref:System.Windows.Controls.ListBox> now looks like this:  \n  \n ![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig5.png \"DataTemplatingIntro_fig5\")  \n  \n<a name=\"DataTrigger_to_Apply_Property_Values\"></a>   \n### Use DataTriggers to Apply Property Values  \n The current presentation does not tell us whether a `Task` is a home task or an office task. Remember that the `Task` object has a `TaskType` property of type `TaskType`, which is an enumeration with values `Home` and `Work`.  \n  \n In the following example, the <xref:System.Windows.DataTrigger> sets the <xref:System.Windows.Controls.Border.BorderBrush%2A> of the element named `border` to `Yellow` if the `TaskType` property is `TaskType.Home`.  \n  \n [!code-xml[DataTemplatingIntro#DT](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#dt)]  \n[!code-xml[DataTemplatingIntro#DataTrigger](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#datatrigger)]  \n[!code-xml[DataTemplatingIntro#AddingMore2](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]  \n  \n Our application now looks like the following. Home tasks appear with a yellow border and office tasks appear with an aqua border:  \n  \n ![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig6.png \"DataTemplatingIntro_fig6\")  \n  \n In this example the <xref:System.Windows.DataTrigger> uses a <xref:System.Windows.Setter> to set a property value. The trigger classes also have the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that allow you to start a set of actions such as animations. In addition, there is also a <xref:System.Windows.MultiDataTrigger> class that allows you to apply changes based on multiple data-bound property values.  \n  \n An alternative way to achieve the same effect is to bind the <xref:System.Windows.Controls.Border.BorderBrush%2A> property to the `TaskType` property and use a value converter to return the color based on the `TaskType` value. Creating the above effect using a converter is slightly more efficient in terms of performance. Additionally, creating your own converter gives you more flexibility because you are supplying your own logic. Ultimately, which technique you choose depends on your scenario and your preference. For information about how to write a converter, see <xref:System.Windows.Data.IValueConverter>.  \n  \n<a name=\"what_belongs_in_datatemplate\"></a>   \n### What Belongs in a DataTemplate?  \n In the previous example, we placed the trigger within the <xref:System.Windows.DataTemplate> using the <xref:System.Windows.DataTemplate>.<xref:System.Windows.DataTemplate.Triggers%2A> property. The <xref:System.Windows.Setter> of the trigger sets the value of a property of an element (the <xref:System.Windows.Controls.Border> element) that is within the <xref:System.Windows.DataTemplate>. However, if the properties that your `Setters` are concerned with are not properties of elements that are within the current <xref:System.Windows.DataTemplate>, it may be more suitable to set the properties using a <xref:System.Windows.Style> that is for the <xref:System.Windows.Controls.ListBoxItem> class (if the control you are binding is a <xref:System.Windows.Controls.ListBox>). For example, if you want your <xref:System.Windows.Trigger> to animate the <xref:System.Windows.UIElement.Opacity%2A> value of the item when a mouse points to an item, you define triggers within a <xref:System.Windows.Controls.ListBoxItem> style. For an example, see the [Introduction to Styling and Templating Sample](http://go.microsoft.com/fwlink/?LinkID=160010).  \n  \n In general, keep in mind that the <xref:System.Windows.DataTemplate> is being applied to each of the generated <xref:System.Windows.Controls.ListBoxItem> (for more information about how and where it is actually applied, see the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> page.). Your <xref:System.Windows.DataTemplate> is concerned with only the presentation and appearance of the data objects. In most cases, all other aspects of presentation, such as what an item looks like when it is selected or how the <xref:System.Windows.Controls.ListBox> lays out the items, do not belong in the definition of a <xref:System.Windows.DataTemplate>. For an example, see the [Styling and Templating an ItemsControl](#DataTemplating_ItemsControl) section.  \n  \n<a name=\"Styling_StyleSelection\"></a>   \n## Choosing a DataTemplate Based on Properties of the Data Object  \n In [The DataType Property](#Styling_DataType) section, we discussed that you can define different data templates for different data objects. That is especially useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types or collections with items of different types. In the [Use DataTriggers to Apply Property Values](#DataTrigger_to_Apply_Property_Values) section, we have shown that if you have a collection of the same type of data objects you can create a <xref:System.Windows.DataTemplate> and then use triggers to apply changes based on the property values of each data object. However, triggers allow you to apply property values or start animations but they don't give you the flexibility to reconstruct the structure of your data objects. Some scenarios may require you to create a different <xref:System.Windows.DataTemplate> for data objects that are of the same type but have different properties.  \n  \n For example, when a `Task` object has a `Priority` value of `1`, you may want to give it a completely different look to serve as an alert for yourself. In that case, you create a <xref:System.Windows.DataTemplate> for the display of the high-priority `Task` objects. Let's add the following <xref:System.Windows.DataTemplate> to the resources section:  \n  \n [!code-xml[DataTemplatingIntro_snip#ImportantTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#importanttemplate)]  \n  \n Notice this example uses the <xref:System.Windows.DataTemplate>.<xref:System.Windows.FrameworkTemplate.Resources%2A> property. Resources defined in that section are shared by the elements within the <xref:System.Windows.DataTemplate>.  \n  \n To supply logic to choose which <xref:System.Windows.DataTemplate> to use based on the `Priority` value of the data object, create a subclass of <xref:System.Windows.Controls.DataTemplateSelector> and override the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method. In the following example, the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method provides logic to return the appropriate template based on the value of the `Priority` property. The template to return is found in the resources of the enveloping <xref:System.Windows.Window> element.  \n  \n [!code-csharp[DataTemplatingIntro_snip#DTSClass](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/TaskListDataTemplateSelector.cs#dtsclass)]\n [!code-vb[DataTemplatingIntro_snip#DTSClass](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/tasklistdatatemplateselector.vb#dtsclass)]  \n  \n We can then declare the `TaskListDataTemplateSelector` as a resource:  \n  \n [!code-xml[DataTemplatingIntro_snip#R1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]  \n[!code-xml[DataTemplatingIntro_snip#DTS](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#dts)]  \n[!code-xml[DataTemplatingIntro_snip#R2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]  \n  \n To use the template selector resource, assign it to the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> property of the <xref:System.Windows.Controls.ListBox>. The <xref:System.Windows.Controls.ListBox> calls the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method of the `TaskListDataTemplateSelector` for each of the items in the underlying collection. The call passes the data object as the item parameter. The <xref:System.Windows.DataTemplate> that is returned by the method is then applied to that data object.  \n  \n [!code-xml[DataTemplatingIntro_snip#ItemTemplateSelector](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemtemplateselector)]  \n  \n With the template selector in place, the <xref:System.Windows.Controls.ListBox> now appears as follows:  \n  \n ![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig7.png \"DataTemplatingIntro_fig7\")  \n  \n This concludes our discussion of this example. For the complete sample, see [Introduction to Data Templating Sample](http://go.microsoft.com/fwlink/?LinkID=160009).  \n  \n<a name=\"DataTemplating_ItemsControl\"></a>   \n## Styling and Templating an ItemsControl  \n Even though the <xref:System.Windows.Controls.ItemsControl> is not the only control type that you can use a <xref:System.Windows.DataTemplate> with, it is a very common scenario to bind an <xref:System.Windows.Controls.ItemsControl> to a collection. In the [What Belongs in a DataTemplate](#what_belongs_in_datatemplate) section we discussed that the definition of your <xref:System.Windows.DataTemplate> should only be concerned with the presentation of data. In order to know when it is not suitable to use a <xref:System.Windows.DataTemplate> it is important to understand the different style and template properties provided by the <xref:System.Windows.Controls.ItemsControl>. The following example is designed to illustrate the function of each of these properties. The <xref:System.Windows.Controls.ItemsControl> in this example is bound to the same `Tasks` collection as in the previous example. For demonstration purposes, the styles and templates in this example are all declared inline.  \n  \n [!code-xml[DataTemplatingIntro_snip#ItemsControlProperties](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemscontrolproperties)]  \n  \n The following is a screenshot of the example when it is rendered:  \n  \n ![ItemsControl example screenshot](../../../../docs/framework/wpf/data/media/databinding-itemscontrolproperties.png \"DataBinding_ItemsControlProperties\")  \n  \n Note that instead of using the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>, you can use the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A>. Refer to the previous section for an example. Similarly, instead of using the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A>, you have the option to use the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A>.  \n  \n Two other style-related properties of the <xref:System.Windows.Controls.ItemsControl> that are not shown here are <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> and <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A>.  \n  \n<a name=\"DataTemplating_HeirarchicalDataTemplate\"></a>   \n## Support for Hierarchical Data  \n So far we have only looked at how to bind to and display a single collection. Sometimes you have a collection that contains other collections. The <xref:System.Windows.HierarchicalDataTemplate> class is designed to be used with <xref:System.Windows.Controls.HeaderedItemsControl> types to display such data. In the following example, `ListLeagueList` is a list of `League` objects. Each `League` object has a `Name` and a collection of `Division` objects. Each `Division` has a `Name` and a collection of `Team` objects, and each `Team` object has a `Name`.  \n  \n [!code-xml[HierarchicalDataTemplateSnippet#HDT](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HierarchicalDataTemplateSnippet/CS/window1.xaml#hdt)]  \n  \n The example shows that with the use of <xref:System.Windows.HierarchicalDataTemplate>, you can easily display list data that contains other lists. The following is a screenshot of the example.  \n  \n ![HierarchicalDataTemplate sample screen shot](../../../../docs/framework/wpf/data/media/databinding-hierarchicaldatatemplate.png \"DataBinding_HierarchicalDataTemplate\")  \n  \n## See Also  \n [Data Binding](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)   \n [Find DataTemplate-Generated Elements](../../../../docs/framework/wpf/data/how-to-find-datatemplate-generated-elements.md)   \n [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md)   \n [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md)   \n [GridView Column Header Styles and Templates Overview](../../../../docs/framework/wpf/controls/gridview-column-header-styles-and-templates-overview.md)","nodes":[{"pos":[12,53],"content":"Data Templating Overview | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Data Templating Overview | Microsoft Docs","pos":[0,41]}]},{"pos":[486,510],"content":"Data Templating Overview","linkify":"Data Templating Overview","nodes":[{"content":"Data Templating Overview","pos":[0,24]}]},{"content":"The WPF data templating model provides you with great flexibility to define the presentation of your data.","pos":[511,617]},{"content":"WPF controls have built-in functionality to support the customization of data presentation.","pos":[618,709]},{"content":"This topic first demonstrates how to define a <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> and then introduces other data templating features, such as the selection of templates based on custom logic and the support for the display of hierarchical data.","pos":[710,953],"source":" This topic first demonstrates how to define a <xref:System.Windows.DataTemplate> and then introduces other data templating features, such as the selection of templates based on custom logic and the support for the display of hierarchical data."},{"pos":[994,1007],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"content":"This topic focuses on data templating features and is not an introduction of data binding concepts.","pos":[1011,1110]},{"content":"For information about basic data binding concepts, see the <bpt id=\"p1\">[</bpt>Data Binding Overview<ept id=\"p1\">](../../../../docs/framework/wpf/data/data-binding-overview.md)</ept>.","pos":[1111,1256],"source":" For information about basic data binding concepts, see the [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md)."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> is about the presentation of data and is one of the many features provided by the WPF styling and templating model.","pos":[1263,1413],"source":"<xref:System.Windows.DataTemplate> is about the presentation of data and is one of the many features provided by the WPF styling and templating model."},{"content":"For an introduction of the WPF styling and templating model, such as how to use a <ph id=\"ph1\">&lt;xref:System.Windows.Style&gt;</ph> to set properties on controls, see the <bpt id=\"p1\">[</bpt>Styling and Templating<ept id=\"p1\">](../../../../docs/framework/wpf/controls/styling-and-templating.md)</ept> topic.","pos":[1414,1661],"source":" For an introduction of the WPF styling and templating model, such as how to use a <xref:System.Windows.Style> to set properties on controls, see the [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md) topic."},{"content":"In addition, it is important to understand <ph id=\"ph1\">`Resources`</ph>, which are essentially what enable objects such as <ph id=\"ph2\">&lt;xref:System.Windows.Style&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Windows.DataTemplate&gt;</ph> to be reusable.","pos":[1668,1856],"source":"In addition, it is important to understand `Resources`, which are essentially what enable objects such as <xref:System.Windows.Style> and <xref:System.Windows.DataTemplate> to be reusable."},{"content":"For more information on resources, see <bpt id=\"p1\">[</bpt>XAML Resources<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/xaml-resources.md)</ept>.","pos":[1857,1972],"source":" For more information on resources, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md)."},{"pos":[2020,2042],"content":"Data Templating Basics","linkify":"Data Templating Basics","nodes":[{"content":"Data Templating Basics","pos":[0,22]}]},{"content":"To demonstrate why <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> is important, let's walk through a data binding example.","pos":[2049,2159],"source":"To demonstrate why <xref:System.Windows.DataTemplate> is important, let's walk through a data binding example."},{"content":"In this example, we have a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> that is bound to a list of <ph id=\"ph2\">`Task`</ph> objects.","pos":[2160,2268],"source":" In this example, we have a <xref:System.Windows.Controls.ListBox> that is bound to a list of `Task` objects."},{"content":"Each <ph id=\"ph1\">`Task`</ph> object has a <ph id=\"ph2\">`TaskName`</ph> (string), a <ph id=\"ph3\">`Description`</ph> (string), a <ph id=\"ph4\">`Priority`</ph> (int), and a property of type <ph id=\"ph5\">`TaskType`</ph>, which is an <ph id=\"ph6\">`Enum`</ph> with values <ph id=\"ph7\">`Home`</ph> and <ph id=\"ph8\">`Work`</ph>.","pos":[2269,2445],"source":" Each `Task` object has a `TaskName` (string), a `Description` (string), a `Priority` (int), and a property of type `TaskType`, which is an `Enum` with values `Home` and `Work`."},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#Resources<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#resources)</ept><ept id=\"p1\">]</ept>","pos":[2452,2607],"source":"[!code-xml[DataTemplatingIntro_snip#Resources](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#resources)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#UI1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui1)</ept><ept id=\"p1\">]</ept>","pos":[2610,2753],"source":"[!code-xml[DataTemplatingIntro_snip#UI1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui1)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#UI2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui2)</ept><ept id=\"p1\">]</ept>","pos":[2756,2899],"source":"[!code-xml[DataTemplatingIntro_snip#UI2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui2)]"},{"pos":[2950,2972],"content":"Without a DataTemplate","linkify":"Without a DataTemplate","nodes":[{"content":"Without a DataTemplate","pos":[0,22]}]},{"content":"Without a <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph>, our <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> currently looks like this:","pos":[2976,3091],"source":"Without a <xref:System.Windows.DataTemplate>, our <xref:System.Windows.Controls.ListBox> currently looks like this:"},{"pos":[3098,3234],"content":"<bpt id=\"p1\">![</bpt>Data templating sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/datatemplatingintro-fig1.png \"</bpt>DataTemplatingIntro_fig1<ept id=\"p2\">\")</ept>","source":"![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig1.png \"DataTemplatingIntro_fig1\")"},{"content":"What's happening is that without any specific instructions, the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> by default calls <ph id=\"ph2\">`ToString`</ph> when trying to display the objects in the collection.","pos":[3241,3425],"source":"What's happening is that without any specific instructions, the <xref:System.Windows.Controls.ListBox> by default calls `ToString` when trying to display the objects in the collection."},{"content":"Therefore, if the <ph id=\"ph1\">`Task`</ph> object overrides the <ph id=\"ph2\">`ToString`</ph> method, then the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> displays the string representation of each source object in the underlying collection.","pos":[3426,3625],"source":" Therefore, if the `Task` object overrides the `ToString` method, then the <xref:System.Windows.Controls.ListBox> displays the string representation of each source object in the underlying collection."},{"pos":[3632,3761],"content":"For example, if the <ph id=\"ph1\">`Task`</ph> class overrides the <ph id=\"ph2\">`ToString`</ph> method this way, where <ph id=\"ph3\">`name`</ph> is the field for the <ph id=\"ph4\">`TaskName`</ph> property:","source":"For example, if the `Task` class overrides the `ToString` method this way, where `name` is the field for the `TaskName` property:"},{"pos":[3768,4078],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#ToString<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Data.cs#tostring)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DataTemplatingIntro_snip#ToString<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/data.vb#tostring)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DataTemplatingIntro_snip#ToString](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Data.cs#tostring)]\n [!code-vb[DataTemplatingIntro_snip#ToString](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/data.vb#tostring)]"},{"content":"Then the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> looks like the following:","pos":[4085,4158],"source":"Then the <xref:System.Windows.Controls.ListBox> looks like the following:"},{"pos":[4165,4301],"content":"<bpt id=\"p1\">![</bpt>Data templating sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/datatemplatingintro-fig2.png \"</bpt>DataTemplatingIntro_fig2<ept id=\"p2\">\")</ept>","source":"![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig2.png \"DataTemplatingIntro_fig2\")"},{"content":"However, that is limiting and inflexible.","pos":[4308,4349]},{"content":"Also, if you are binding to <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]</ph> data, you wouldn't be able to override <ph id=\"ph2\">`ToString`</ph>.","pos":[4350,4498],"source":" Also, if you are binding to [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, you wouldn't be able to override `ToString`."},{"pos":[4555,4585],"content":"Defining a Simple DataTemplate","linkify":"Defining a Simple DataTemplate","nodes":[{"content":"Defining a Simple DataTemplate","pos":[0,30]}]},{"content":"The solution is to define a <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.","pos":[4589,4652],"source":"The solution is to define a <xref:System.Windows.DataTemplate>."},{"content":"One way to do that is to set the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> property of the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> to a <ph id=\"ph3\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.","pos":[4653,4841],"source":" One way to do that is to set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.ListBox> to a <xref:System.Windows.DataTemplate>."},{"content":"What you specify in your <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> becomes the visual structure of your data object.","pos":[4842,4951],"source":" What you specify in your <xref:System.Windows.DataTemplate> becomes the visual structure of your data object."},{"content":"The following <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> is fairly simple.","pos":[4952,5018],"source":" The following <xref:System.Windows.DataTemplate> is fairly simple."},{"content":"We are giving instructions that each item appears as three <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> elements within a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.StackPanel&gt;</ph>.","pos":[5019,5179],"source":" We are giving instructions that each item appears as three <xref:System.Windows.Controls.TextBlock> elements within a <xref:System.Windows.Controls.StackPanel>."},{"content":"Each <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> element is bound to a property of the <ph id=\"ph2\">`Task`</ph> class.","pos":[5180,5277],"source":" Each <xref:System.Windows.Controls.TextBlock> element is bound to a property of the `Task` class."},{"pos":[5284,5433],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#Inline<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#inline)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DataTemplatingIntro_snip#Inline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#inline)]"},{"content":"The underlying data for the examples in this topic is a collection of <ph id=\"ph1\">[!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]</ph> objects.","pos":[5440,5588],"source":"The underlying data for the examples in this topic is a collection of [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] objects."},{"content":"If you are binding to <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]</ph> data, the fundamental concepts are the same, but there is a slight syntactic difference.","pos":[5589,5769],"source":" If you are binding to [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, the fundamental concepts are the same, but there is a slight syntactic difference."},{"content":"For example, instead of having <ph id=\"ph1\">`Path=TaskName`</ph>, you would set <ph id=\"ph2\">&lt;xref:System.Windows.Data.Binding.XPath%2A&gt;</ph> to <ph id=\"ph3\">`@TaskName`</ph> (if <ph id=\"ph4\">`TaskName`</ph> is an attribute of your <ph id=\"ph5\">[!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]</ph> node).","pos":[5770,6006],"source":" For example, instead of having `Path=TaskName`, you would set <xref:System.Windows.Data.Binding.XPath%2A> to `@TaskName` (if `TaskName` is an attribute of your [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] node)."},{"content":"Now our <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> looks like the following:","pos":[6013,6085],"source":"Now our <xref:System.Windows.Controls.ListBox> looks like the following:"},{"pos":[6092,6228],"content":"<bpt id=\"p1\">![</bpt>Data templating sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/datatemplatingintro-fig3.png \"</bpt>DataTemplatingIntro_fig3<ept id=\"p2\">\")</ept>","source":"![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig3.png \"DataTemplatingIntro_fig3\")"},{"pos":[6292,6331],"content":"Creating the DataTemplate as a Resource","linkify":"Creating the DataTemplate as a Resource","nodes":[{"content":"Creating the DataTemplate as a Resource","pos":[0,39]}]},{"content":"In the above example, we defined the <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> inline.","pos":[6335,6414],"source":"In the above example, we defined the <xref:System.Windows.DataTemplate> inline."},{"content":"It is more common to define it in the resources section so it can be a reusable object, as in the following example:","pos":[6415,6531]},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#R1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)</ept><ept id=\"p1\">]</ept>","pos":[6538,6679],"source":"[!code-xml[DataTemplatingIntro_snip#R1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#AsResource<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#asresource)</ept><ept id=\"p1\">]</ept>","pos":[6682,6839],"source":"[!code-xml[DataTemplatingIntro_snip#AsResource](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#asresource)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#R2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)</ept><ept id=\"p1\">]</ept>","pos":[6842,6983],"source":"[!code-xml[DataTemplatingIntro_snip#R2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]"},{"pos":[6990,7066],"content":"Now you can use <ph id=\"ph1\">`myTaskTemplate`</ph> as a resource, as in the following example:","source":"Now you can use `myTaskTemplate` as a resource, as in the following example:"},{"pos":[7073,7238],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#MyTaskTemplate<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#mytasktemplate)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DataTemplatingIntro_snip#MyTaskTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#mytasktemplate)]"},{"content":"Because <ph id=\"ph1\">`myTaskTemplate`</ph> is a resource, you can now use it on other controls that have a property that takes a <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate&gt;</ph> type.","pos":[7245,7396],"source":"Because `myTaskTemplate` is a resource, you can now use it on other controls that have a property that takes a <xref:System.Windows.DataTemplate> type."},{"content":"As shown above, for <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> objects, such as the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph>, it is the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> property.","pos":[7397,7601],"source":" As shown above, for <xref:System.Windows.Controls.ItemsControl> objects, such as the <xref:System.Windows.Controls.ListBox>, it is the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property."},{"content":"For <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ContentControl&gt;</ph> objects, it is the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ContentControl.ContentTemplate%2A&gt;</ph> property.","pos":[7602,7745],"source":" For <xref:System.Windows.Controls.ContentControl> objects, it is the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property."},{"pos":[7790,7811],"content":"The DataType Property","linkify":"The DataType Property","nodes":[{"content":"The DataType Property","pos":[0,21]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> class has a <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate.DataType%2A&gt;</ph> property that is very similar to the <ph id=\"ph3\">&lt;xref:System.Windows.Style.TargetType%2A&gt;</ph> property of the <ph id=\"ph4\">&lt;xref:System.Windows.Style&gt;</ph> class.","pos":[7815,8042],"source":"The <xref:System.Windows.DataTemplate> class has a <xref:System.Windows.DataTemplate.DataType%2A> property that is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style> class."},{"content":"Therefore, instead of specifying an <ph id=\"ph1\">`x:Key`</ph> for the <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate&gt;</ph> in the above example, you can do the following:","pos":[8043,8177],"source":" Therefore, instead of specifying an `x:Key` for the <xref:System.Windows.DataTemplate> in the above example, you can do the following:"},{"pos":[8184,8337],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#DataType<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#datatype)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DataTemplatingIntro_snip#DataType](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#datatype)]"},{"content":"This <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> gets applied automatically to all <ph id=\"ph2\">`Task`</ph> objects.","pos":[8344,8433],"source":"This <xref:System.Windows.DataTemplate> gets applied automatically to all `Task` objects."},{"content":"Note that in this case the <ph id=\"ph1\">`x:Key`</ph> is set implicitly.","pos":[8434,8487],"source":" Note that in this case the `x:Key` is set implicitly."},{"content":"Therefore, if you assign this <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> an <ph id=\"ph2\">`x:Key`</ph> value, you are overriding the implicit <ph id=\"ph3\">`x:Key`</ph> and the <ph id=\"ph4\">&lt;xref:System.Windows.DataTemplate&gt;</ph> would not be applied automatically.","pos":[8488,8689],"source":" Therefore, if you assign this <xref:System.Windows.DataTemplate> an `x:Key` value, you are overriding the implicit `x:Key` and the <xref:System.Windows.DataTemplate> would not be applied automatically."},{"content":"If you are binding a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ContentControl&gt;</ph> to a collection of <ph id=\"ph2\">`Task`</ph> objects, the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ContentControl&gt;</ph> does not use the above <ph id=\"ph4\">&lt;xref:System.Windows.DataTemplate&gt;</ph> automatically.","pos":[8696,8920],"source":"If you are binding a <xref:System.Windows.Controls.ContentControl> to a collection of `Task` objects, the <xref:System.Windows.Controls.ContentControl> does not use the above <xref:System.Windows.DataTemplate> automatically."},{"content":"This is because the binding on a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ContentControl&gt;</ph> needs more information to distinguish whether you want to bind to an entire collection or the individual objects.","pos":[8921,9113],"source":" This is because the binding on a <xref:System.Windows.Controls.ContentControl> needs more information to distinguish whether you want to bind to an entire collection or the individual objects."},{"content":"If your <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ContentControl&gt;</ph> is tracking the selection of an <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> type, you can set the <ph id=\"ph3\">&lt;xref:System.Windows.Data.Binding.Path%2A&gt;</ph> property of the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.ContentControl&gt;</ph> binding to \"<ph id=\"ph5\">`/`</ph>\" to indicate that you are interested in the current item.","pos":[9114,9444],"source":" If your <xref:System.Windows.Controls.ContentControl> is tracking the selection of an <xref:System.Windows.Controls.ItemsControl> type, you can set the <xref:System.Windows.Data.Binding.Path%2A> property of the <xref:System.Windows.Controls.ContentControl> binding to \"`/`\" to indicate that you are interested in the current item."},{"content":"For an example, see <bpt id=\"p1\">[</bpt>Bind to a Collection and Display Information Based on Selection<ept id=\"p1\">](../../../../docs/framework/wpf/data/how-to-bind-to-a-collection-and-display-information-based-on-selection.md)</ept>.","pos":[9445,9642],"source":" For an example, see [Bind to a Collection and Display Information Based on Selection](../../../../docs/framework/wpf/data/how-to-bind-to-a-collection-and-display-information-based-on-selection.md)."},{"content":"Otherwise, you need to specify the <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> explicitly by setting the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ContentControl.ContentTemplate%2A&gt;</ph> property.","pos":[9643,9813],"source":" Otherwise, you need to specify the <xref:System.Windows.DataTemplate> explicitly by setting the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate.DataType%2A&gt;</ph> property is particularly useful when you have a <ph id=\"ph2\">&lt;xref:System.Windows.Data.CompositeCollection&gt;</ph> of different types of data objects.","pos":[9820,10001],"source":"The <xref:System.Windows.DataTemplate.DataType%2A> property is particularly useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types of data objects."},{"content":"For an example, see <bpt id=\"p1\">[</bpt>Implement a CompositeCollection<ept id=\"p1\">](../../../../docs/framework/wpf/data/how-to-implement-a-compositecollection.md)</ept>.","pos":[10002,10135],"source":" For an example, see [Implement a CompositeCollection](../../../../docs/framework/wpf/data/how-to-implement-a-compositecollection.md)."},{"pos":[10190,10221],"content":"Adding More to the DataTemplate","linkify":"Adding More to the DataTemplate","nodes":[{"content":"Adding More to the DataTemplate","pos":[0,31]}]},{"content":"Currently the data appears with the necessary information, but there's definitely room for improvement.","pos":[10225,10328]},{"content":"Let's improve on the presentation by adding a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Border&gt;</ph>, a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Grid&gt;</ph>, and some <ph id=\"ph3\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> elements that describe the data that is being displayed.","pos":[10329,10559],"source":" Let's improve on the presentation by adding a <xref:System.Windows.Controls.Border>, a <xref:System.Windows.Controls.Grid>, and some <xref:System.Windows.Controls.TextBlock> elements that describe the data that is being displayed."},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro#AddingMore<ept id=\"p2\">](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore)</ept><ept id=\"p1\">]</ept>","pos":[10566,10709],"source":"[!code-xml[DataTemplatingIntro#AddingMore](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro#AddingMore2<ept id=\"p2\">](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)</ept><ept id=\"p1\">]</ept>","pos":[10712,10857],"source":"[!code-xml[DataTemplatingIntro#AddingMore2](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]"},{"content":"The following screenshot shows the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> with this modified <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate&gt;</ph>:","pos":[10864,10992],"source":"The following screenshot shows the <xref:System.Windows.Controls.ListBox> with this modified <xref:System.Windows.DataTemplate>:"},{"pos":[10999,11135],"content":"<bpt id=\"p1\">![</bpt>Data templating sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/datatemplatingintro-fig4.png \"</bpt>DataTemplatingIntro_fig4<ept id=\"p2\">\")</ept>","source":"![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig4.png \"DataTemplatingIntro_fig4\")"},{"content":"We can set <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A&gt;</ph> to <ph id=\"ph2\">&lt;xref:System.Windows.HorizontalAlignment&gt;</ph> on the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> to make sure the width of the items takes up the entire space:","pos":[11142,11375],"source":"We can set <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> to <xref:System.Windows.HorizontalAlignment> on the <xref:System.Windows.Controls.ListBox> to make sure the width of the items takes up the entire space:"},{"pos":[11382,11533],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#Stretch<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#stretch)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DataTemplatingIntro_snip#Stretch](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#stretch)]"},{"content":"With the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A&gt;</ph> property set to <ph id=\"ph2\">&lt;xref:System.Windows.HorizontalAlignment&gt;</ph>, the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> now looks like this:","pos":[11540,11740],"source":"With the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> property set to <xref:System.Windows.HorizontalAlignment>, the <xref:System.Windows.Controls.ListBox> now looks like this:"},{"pos":[11747,11883],"content":"<bpt id=\"p1\">![</bpt>Data templating sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/datatemplatingintro-fig5.png \"</bpt>DataTemplatingIntro_fig5<ept id=\"p2\">\")</ept>","source":"![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig5.png \"DataTemplatingIntro_fig5\")"},{"pos":[11948,11989],"content":"Use DataTriggers to Apply Property Values","linkify":"Use DataTriggers to Apply Property Values","nodes":[{"content":"Use DataTriggers to Apply Property Values","pos":[0,41]}]},{"content":"The current presentation does not tell us whether a <ph id=\"ph1\">`Task`</ph> is a home task or an office task.","pos":[11993,12085],"source":"The current presentation does not tell us whether a `Task` is a home task or an office task."},{"content":"Remember that the <ph id=\"ph1\">`Task`</ph> object has a <ph id=\"ph2\">`TaskType`</ph> property of type <ph id=\"ph3\">`TaskType`</ph>, which is an enumeration with values <ph id=\"ph4\">`Home`</ph> and <ph id=\"ph5\">`Work`</ph>.","pos":[12086,12218],"source":" Remember that the `Task` object has a `TaskType` property of type `TaskType`, which is an enumeration with values `Home` and `Work`."},{"pos":[12225,12439],"content":"In the following example, the <ph id=\"ph1\">&lt;xref:System.Windows.DataTrigger&gt;</ph> sets the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Border.BorderBrush%2A&gt;</ph> of the element named <ph id=\"ph3\">`border`</ph> to <ph id=\"ph4\">`Yellow`</ph> if the <ph id=\"ph5\">`TaskType`</ph> property is <ph id=\"ph6\">`TaskType.Home`</ph>.","source":"In the following example, the <xref:System.Windows.DataTrigger> sets the <xref:System.Windows.Controls.Border.BorderBrush%2A> of the element named `border` to `Yellow` if the `TaskType` property is `TaskType.Home`."},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro#DT<ept id=\"p2\">](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#dt)</ept><ept id=\"p1\">]</ept>","pos":[12446,12573],"source":"[!code-xml[DataTemplatingIntro#DT](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#dt)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro#DataTrigger<ept id=\"p2\">](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#datatrigger)</ept><ept id=\"p1\">]</ept>","pos":[12576,12721],"source":"[!code-xml[DataTemplatingIntro#DataTrigger](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#datatrigger)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro#AddingMore2<ept id=\"p2\">](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)</ept><ept id=\"p1\">]</ept>","pos":[12724,12869],"source":"[!code-xml[DataTemplatingIntro#AddingMore2](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]"},{"content":"Our application now looks like the following.","pos":[12876,12921]},{"content":"Home tasks appear with a yellow border and office tasks appear with an aqua border:","pos":[12922,13005]},{"pos":[13012,13148],"content":"<bpt id=\"p1\">![</bpt>Data templating sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/datatemplatingintro-fig6.png \"</bpt>DataTemplatingIntro_fig6<ept id=\"p2\">\")</ept>","source":"![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig6.png \"DataTemplatingIntro_fig6\")"},{"content":"In this example the <ph id=\"ph1\">&lt;xref:System.Windows.DataTrigger&gt;</ph> uses a <ph id=\"ph2\">&lt;xref:System.Windows.Setter&gt;</ph> to set a property value.","pos":[13155,13269],"source":"In this example the <xref:System.Windows.DataTrigger> uses a <xref:System.Windows.Setter> to set a property value."},{"content":"The trigger classes also have the <ph id=\"ph1\">&lt;xref:System.Windows.TriggerBase.EnterActions%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.TriggerBase.ExitActions%2A&gt;</ph> properties that allow you to start a set of actions such as animations.","pos":[13270,13478],"source":" The trigger classes also have the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that allow you to start a set of actions such as animations."},{"content":"In addition, there is also a <ph id=\"ph1\">&lt;xref:System.Windows.MultiDataTrigger&gt;</ph> class that allows you to apply changes based on multiple data-bound property values.","pos":[13479,13631],"source":" In addition, there is also a <xref:System.Windows.MultiDataTrigger> class that allows you to apply changes based on multiple data-bound property values."},{"content":"An alternative way to achieve the same effect is to bind the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Border.BorderBrush%2A&gt;</ph> property to the <ph id=\"ph2\">`TaskType`</ph> property and use a value converter to return the color based on the <ph id=\"ph3\">`TaskType`</ph> value.","pos":[13638,13864],"source":"An alternative way to achieve the same effect is to bind the <xref:System.Windows.Controls.Border.BorderBrush%2A> property to the `TaskType` property and use a value converter to return the color based on the `TaskType` value."},{"content":"Creating the above effect using a converter is slightly more efficient in terms of performance.","pos":[13865,13960]},{"content":"Additionally, creating your own converter gives you more flexibility because you are supplying your own logic.","pos":[13961,14071]},{"content":"Ultimately, which technique you choose depends on your scenario and your preference.","pos":[14072,14156]},{"content":"For information about how to write a converter, see <ph id=\"ph1\">&lt;xref:System.Windows.Data.IValueConverter&gt;</ph>.","pos":[14157,14252],"source":" For information about how to write a converter, see <xref:System.Windows.Data.IValueConverter>."},{"pos":[14309,14340],"content":"What Belongs in a DataTemplate?","linkify":"What Belongs in a DataTemplate?","nodes":[{"content":"What Belongs in a DataTemplate?","pos":[0,31]}]},{"content":"In the previous example, we placed the trigger within the <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> using the <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.<ph id=\"ph3\">&lt;xref:System.Windows.DataTemplate.Triggers%2A&gt;</ph>","pos":[14344,14528],"source":"In the previous example, we placed the trigger within the <xref:System.Windows.DataTemplate> using the <xref:System.Windows.DataTemplate>.<xref:System.Windows.DataTemplate.Triggers%2A>"},{"content":"property.","pos":[14529,14538]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Setter&gt;</ph> of the trigger sets the value of a property of an element (the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Border&gt;</ph> element) that is within the <ph id=\"ph3\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.","pos":[14539,14736],"source":" The <xref:System.Windows.Setter> of the trigger sets the value of a property of an element (the <xref:System.Windows.Controls.Border> element) that is within the <xref:System.Windows.DataTemplate>."},{"content":"However, if the properties that your <ph id=\"ph1\">`Setters`</ph> are concerned with are not properties of elements that are within the current <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate&gt;</ph>, it may be more suitable to set the properties using a <ph id=\"ph3\">&lt;xref:System.Windows.Style&gt;</ph> that is for the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.ListBoxItem&gt;</ph> class (if the control you are binding is a <ph id=\"ph5\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph>).","pos":[14737,15122],"source":" However, if the properties that your `Setters` are concerned with are not properties of elements that are within the current <xref:System.Windows.DataTemplate>, it may be more suitable to set the properties using a <xref:System.Windows.Style> that is for the <xref:System.Windows.Controls.ListBoxItem> class (if the control you are binding is a <xref:System.Windows.Controls.ListBox>)."},{"content":"For example, if you want your <ph id=\"ph1\">&lt;xref:System.Windows.Trigger&gt;</ph> to animate the <ph id=\"ph2\">&lt;xref:System.Windows.UIElement.Opacity%2A&gt;</ph> value of the item when a mouse points to an item, you define triggers within a <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ListBoxItem&gt;</ph> style.","pos":[15123,15369],"source":" For example, if you want your <xref:System.Windows.Trigger> to animate the <xref:System.Windows.UIElement.Opacity%2A> value of the item when a mouse points to an item, you define triggers within a <xref:System.Windows.Controls.ListBoxItem> style."},{"content":"For an example, see the <bpt id=\"p1\">[</bpt>Introduction to Styling and Templating Sample<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=160010)</ept>.","pos":[15370,15489],"source":" For an example, see the [Introduction to Styling and Templating Sample](http://go.microsoft.com/fwlink/?LinkID=160010)."},{"content":"In general, keep in mind that the <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> is being applied to each of the generated <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ListBoxItem&gt;</ph> (for more information about how and where it is actually applied, see the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> page.).","pos":[15496,15791],"source":"In general, keep in mind that the <xref:System.Windows.DataTemplate> is being applied to each of the generated <xref:System.Windows.Controls.ListBoxItem> (for more information about how and where it is actually applied, see the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> page.)."},{"content":"Your <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> is concerned with only the presentation and appearance of the data objects.","pos":[15792,15907],"source":" Your <xref:System.Windows.DataTemplate> is concerned with only the presentation and appearance of the data objects."},{"content":"In most cases, all other aspects of presentation, such as what an item looks like when it is selected or how the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> lays out the items, do not belong in the definition of a <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.","pos":[15908,16152],"source":" In most cases, all other aspects of presentation, such as what an item looks like when it is selected or how the <xref:System.Windows.Controls.ListBox> lays out the items, do not belong in the definition of a <xref:System.Windows.DataTemplate>."},{"content":"For an example, see the <bpt id=\"p1\">[</bpt>Styling and Templating an ItemsControl<ept id=\"p1\">](#DataTemplating_ItemsControl)</ept> section.","pos":[16153,16256],"source":" For an example, see the [Styling and Templating an ItemsControl](#DataTemplating_ItemsControl) section."},{"pos":[16306,16368],"content":"Choosing a DataTemplate Based on Properties of the Data Object","linkify":"Choosing a DataTemplate Based on Properties of the Data Object","nodes":[{"content":"Choosing a DataTemplate Based on Properties of the Data Object","pos":[0,62]}]},{"content":"In <bpt id=\"p1\">[</bpt>The DataType Property<ept id=\"p1\">](#Styling_DataType)</ept> section, we discussed that you can define different data templates for different data objects.","pos":[16372,16512],"source":"In [The DataType Property](#Styling_DataType) section, we discussed that you can define different data templates for different data objects."},{"content":"That is especially useful when you have a <ph id=\"ph1\">&lt;xref:System.Windows.Data.CompositeCollection&gt;</ph> of different types or collections with items of different types.","pos":[16513,16666],"source":" That is especially useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types or collections with items of different types."},{"content":"In the <bpt id=\"p1\">[</bpt>Use DataTriggers to Apply Property Values<ept id=\"p1\">](#DataTrigger_to_Apply_Property_Values)</ept> section, we have shown that if you have a collection of the same type of data objects you can create a <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> and then use triggers to apply changes based on the property values of each data object.","pos":[16667,16983],"source":" In the [Use DataTriggers to Apply Property Values](#DataTrigger_to_Apply_Property_Values) section, we have shown that if you have a collection of the same type of data objects you can create a <xref:System.Windows.DataTemplate> and then use triggers to apply changes based on the property values of each data object."},{"content":"However, triggers allow you to apply property values or start animations but they don't give you the flexibility to reconstruct the structure of your data objects.","pos":[16984,17147]},{"content":"Some scenarios may require you to create a different <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> for data objects that are of the same type but have different properties.","pos":[17148,17309],"source":" Some scenarios may require you to create a different <xref:System.Windows.DataTemplate> for data objects that are of the same type but have different properties."},{"content":"For example, when a <ph id=\"ph1\">`Task`</ph> object has a <ph id=\"ph2\">`Priority`</ph> value of <ph id=\"ph3\">`1`</ph>, you may want to give it a completely different look to serve as an alert for yourself.","pos":[17316,17467],"source":"For example, when a `Task` object has a `Priority` value of `1`, you may want to give it a completely different look to serve as an alert for yourself."},{"content":"In that case, you create a <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> for the display of the high-priority <ph id=\"ph2\">`Task`</ph> objects.","pos":[17468,17582],"source":" In that case, you create a <xref:System.Windows.DataTemplate> for the display of the high-priority `Task` objects."},{"content":"Let's add the following <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> to the resources section:","pos":[17583,17667],"source":" Let's add the following <xref:System.Windows.DataTemplate> to the resources section:"},{"pos":[17674,17845],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#ImportantTemplate<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#importanttemplate)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DataTemplatingIntro_snip#ImportantTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#importanttemplate)]"},{"content":"Notice this example uses the <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.<ph id=\"ph2\">&lt;xref:System.Windows.FrameworkTemplate.Resources%2A&gt;</ph>","pos":[17852,17968],"source":"Notice this example uses the <xref:System.Windows.DataTemplate>.<xref:System.Windows.FrameworkTemplate.Resources%2A>"},{"content":"property.","pos":[17969,17978]},{"content":"Resources defined in that section are shared by the elements within the <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.","pos":[17979,18086],"source":" Resources defined in that section are shared by the elements within the <xref:System.Windows.DataTemplate>."},{"content":"To supply logic to choose which <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> to use based on the <ph id=\"ph2\">`Priority`</ph> value of the data object, create a subclass of <ph id=\"ph3\">&lt;xref:System.Windows.Controls.DataTemplateSelector&gt;</ph> and override the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A&gt;</ph> method.","pos":[18093,18384],"source":"To supply logic to choose which <xref:System.Windows.DataTemplate> to use based on the `Priority` value of the data object, create a subclass of <xref:System.Windows.Controls.DataTemplateSelector> and override the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method."},{"content":"In the following example, the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A&gt;</ph> method provides logic to return the appropriate template based on the value of the <ph id=\"ph2\">`Priority`</ph> property.","pos":[18385,18588],"source":" In the following example, the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method provides logic to return the appropriate template based on the value of the `Priority` property."},{"content":"The template to return is found in the resources of the enveloping <ph id=\"ph1\">&lt;xref:System.Windows.Window&gt;</ph> element.","pos":[18589,18693],"source":" The template to return is found in the resources of the enveloping <xref:System.Windows.Window> element."},{"pos":[18700,19058],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#DTSClass<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/TaskListDataTemplateSelector.cs#dtsclass)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DataTemplatingIntro_snip#DTSClass<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/tasklistdatatemplateselector.vb#dtsclass)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DataTemplatingIntro_snip#DTSClass](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/TaskListDataTemplateSelector.cs#dtsclass)]\n [!code-vb[DataTemplatingIntro_snip#DTSClass](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/tasklistdatatemplateselector.vb#dtsclass)]"},{"pos":[19065,19134],"content":"We can then declare the <ph id=\"ph1\">`TaskListDataTemplateSelector`</ph> as a resource:","source":"We can then declare the `TaskListDataTemplateSelector` as a resource:"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#R1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)</ept><ept id=\"p1\">]</ept>","pos":[19141,19282],"source":"[!code-xml[DataTemplatingIntro_snip#R1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#DTS<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#dts)</ept><ept id=\"p1\">]</ept>","pos":[19285,19428],"source":"[!code-xml[DataTemplatingIntro_snip#DTS](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#dts)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#R2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)</ept><ept id=\"p1\">]</ept>","pos":[19431,19572],"source":"[!code-xml[DataTemplatingIntro_snip#R2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]"},{"content":"To use the template selector resource, assign it to the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A&gt;</ph> property of the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph>.","pos":[19579,19758],"source":"To use the template selector resource, assign it to the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> property of the <xref:System.Windows.Controls.ListBox>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> calls the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A&gt;</ph> method of the <ph id=\"ph3\">`TaskListDataTemplateSelector`</ph> for each of the items in the underlying collection.","pos":[19759,19978],"source":" The <xref:System.Windows.Controls.ListBox> calls the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method of the `TaskListDataTemplateSelector` for each of the items in the underlying collection."},{"content":"The call passes the data object as the item parameter.","pos":[19979,20033]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> that is returned by the method is then applied to that data object.","pos":[20034,20140],"source":" The <xref:System.Windows.DataTemplate> that is returned by the method is then applied to that data object."},{"pos":[20147,20324],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#ItemTemplateSelector<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemtemplateselector)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DataTemplatingIntro_snip#ItemTemplateSelector](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemtemplateselector)]"},{"content":"With the template selector in place, the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> now appears as follows:","pos":[20331,20434],"source":"With the template selector in place, the <xref:System.Windows.Controls.ListBox> now appears as follows:"},{"pos":[20441,20577],"content":"<bpt id=\"p1\">![</bpt>Data templating sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/datatemplatingintro-fig7.png \"</bpt>DataTemplatingIntro_fig7<ept id=\"p2\">\")</ept>","source":"![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig7.png \"DataTemplatingIntro_fig7\")"},{"content":"This concludes our discussion of this example.","pos":[20584,20630]},{"content":"For the complete sample, see <bpt id=\"p1\">[</bpt>Introduction to Data Templating Sample<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=160009)</ept>.","pos":[20631,20748],"source":" For the complete sample, see [Introduction to Data Templating Sample](http://go.microsoft.com/fwlink/?LinkID=160009)."},{"pos":[20803,20841],"content":"Styling and Templating an ItemsControl","linkify":"Styling and Templating an ItemsControl","nodes":[{"content":"Styling and Templating an ItemsControl","pos":[0,38]}]},{"content":"Even though the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> is not the only control type that you can use a <ph id=\"ph2\">&lt;xref:System.Windows.DataTemplate&gt;</ph> with, it is a very common scenario to bind an <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> to a collection.","pos":[20845,21094],"source":"Even though the <xref:System.Windows.Controls.ItemsControl> is not the only control type that you can use a <xref:System.Windows.DataTemplate> with, it is a very common scenario to bind an <xref:System.Windows.Controls.ItemsControl> to a collection."},{"content":"In the <bpt id=\"p1\">[</bpt>What Belongs in a DataTemplate<ept id=\"p1\">](#what_belongs_in_datatemplate)</ept> section we discussed that the definition of your <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> should only be concerned with the presentation of data.","pos":[21095,21305],"source":" In the [What Belongs in a DataTemplate](#what_belongs_in_datatemplate) section we discussed that the definition of your <xref:System.Windows.DataTemplate> should only be concerned with the presentation of data."},{"content":"In order to know when it is not suitable to use a <ph id=\"ph1\">&lt;xref:System.Windows.DataTemplate&gt;</ph> it is important to understand the different style and template properties provided by the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph>.","pos":[21306,21525],"source":" In order to know when it is not suitable to use a <xref:System.Windows.DataTemplate> it is important to understand the different style and template properties provided by the <xref:System.Windows.Controls.ItemsControl>."},{"content":"The following example is designed to illustrate the function of each of these properties.","pos":[21526,21615]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> in this example is bound to the same <ph id=\"ph2\">`Tasks`</ph> collection as in the previous example.","pos":[21616,21747],"source":" The <xref:System.Windows.Controls.ItemsControl> in this example is bound to the same `Tasks` collection as in the previous example."},{"content":"For demonstration purposes, the styles and templates in this example are all declared inline.","pos":[21748,21841]},{"pos":[21848,22029],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DataTemplatingIntro_snip#ItemsControlProperties<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemscontrolproperties)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DataTemplatingIntro_snip#ItemsControlProperties](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemscontrolproperties)]"},{"content":"The following is a screenshot of the example when it is rendered:","pos":[22036,22101]},{"pos":[22108,22261],"content":"<bpt id=\"p1\">![</bpt>ItemsControl example screenshot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/databinding-itemscontrolproperties.png \"</bpt>DataBinding_ItemsControlProperties<ept id=\"p2\">\")</ept>","source":"![ItemsControl example screenshot](../../../../docs/framework/wpf/data/media/databinding-itemscontrolproperties.png \"DataBinding_ItemsControlProperties\")"},{"content":"Note that instead of using the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph>, you can use the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A&gt;</ph>.","pos":[22268,22444],"source":"Note that instead of using the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>, you can use the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A>."},{"content":"Refer to the previous section for an example.","pos":[22445,22490]},{"content":"Similarly, instead of using the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A&gt;</ph>, you have the option to use the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A&gt;</ph>.","pos":[22491,22695],"source":" Similarly, instead of using the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A>, you have the option to use the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A>."},{"content":"Two other style-related properties of the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> that are not shown here are <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl.GroupStyle%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A&gt;</ph>.","pos":[22702,22944],"source":"Two other style-related properties of the <xref:System.Windows.Controls.ItemsControl> that are not shown here are <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> and <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A>."},{"pos":[23011,23040],"content":"Support for Hierarchical Data","linkify":"Support for Hierarchical Data","nodes":[{"content":"Support for Hierarchical Data","pos":[0,29]}]},{"content":"So far we have only looked at how to bind to and display a single collection.","pos":[23044,23121]},{"content":"Sometimes you have a collection that contains other collections.","pos":[23122,23186]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> class is designed to be used with <ph id=\"ph2\">&lt;xref:System.Windows.Controls.HeaderedItemsControl&gt;</ph> types to display such data.","pos":[23187,23351],"source":" The <xref:System.Windows.HierarchicalDataTemplate> class is designed to be used with <xref:System.Windows.Controls.HeaderedItemsControl> types to display such data."},{"content":"In the following example, <ph id=\"ph1\">`ListLeagueList`</ph> is a list of <ph id=\"ph2\">`League`</ph> objects.","pos":[23352,23425],"source":" In the following example, `ListLeagueList` is a list of `League` objects."},{"content":"Each <ph id=\"ph1\">`League`</ph> object has a <ph id=\"ph2\">`Name`</ph> and a collection of <ph id=\"ph3\">`Division`</ph> objects.","pos":[23426,23499],"source":" Each `League` object has a `Name` and a collection of `Division` objects."},{"content":"Each <ph id=\"ph1\">`Division`</ph> has a <ph id=\"ph2\">`Name`</ph> and a collection of <ph id=\"ph3\">`Team`</ph> objects, and each <ph id=\"ph4\">`Team`</ph> object has a <ph id=\"ph5\">`Name`</ph>.","pos":[23500,23601],"source":" Each `Division` has a `Name` and a collection of `Team` objects, and each `Team` object has a `Name`."},{"pos":[23608,23761],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>HierarchicalDataTemplateSnippet#HDT<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HierarchicalDataTemplateSnippet/CS/window1.xaml#hdt)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[HierarchicalDataTemplateSnippet#HDT](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HierarchicalDataTemplateSnippet/CS/window1.xaml#hdt)]"},{"content":"The example shows that with the use of <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph>, you can easily display list data that contains other lists.","pos":[23768,23914],"source":"The example shows that with the use of <xref:System.Windows.HierarchicalDataTemplate>, you can easily display list data that contains other lists."},{"content":"The following is a screenshot of the example.","pos":[23915,23960]},{"pos":[23967,24136],"content":"<bpt id=\"p1\">![</bpt>HierarchicalDataTemplate sample screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/data/media/databinding-hierarchicaldatatemplate.png \"</bpt>DataBinding_HierarchicalDataTemplate<ept id=\"p2\">\")</ept>","source":"![HierarchicalDataTemplate sample screen shot](../../../../docs/framework/wpf/data/media/databinding-hierarchicaldatatemplate.png \"DataBinding_HierarchicalDataTemplate\")"},{"pos":[24145,24153],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Data Binding<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)</ept><ph id=\"ph1\"> </ph>","pos":[24157,24252],"source":"[Data Binding](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Find DataTemplate-Generated Elements<ept id=\"p1\">](../../../../docs/framework/wpf/data/how-to-find-datatemplate-generated-elements.md)</ept><ph id=\"ph1\"> </ph>","pos":[24255,24379],"source":" [Find DataTemplate-Generated Elements](../../../../docs/framework/wpf/data/how-to-find-datatemplate-generated-elements.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Styling and Templating<ept id=\"p1\">](../../../../docs/framework/wpf/controls/styling-and-templating.md)</ept><ph id=\"ph1\"> </ph>","pos":[24382,24475],"source":" [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Data Binding Overview<ept id=\"p1\">](../../../../docs/framework/wpf/data/data-binding-overview.md)</ept><ph id=\"ph1\"> </ph>","pos":[24478,24565],"source":" [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md) "},{"content":"<bpt id=\"p1\"> [</bpt>GridView Column Header Styles and Templates Overview<ept id=\"p1\">](../../../../docs/framework/wpf/controls/gridview-column-header-styles-and-templates-overview.md)</ept>","pos":[24568,24720],"source":" [GridView Column Header Styles and Templates Overview](../../../../docs/framework/wpf/controls/gridview-column-header-styles-and-templates-overview.md)"}]}