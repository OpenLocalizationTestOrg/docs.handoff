{"content":"---\ntitle: \"Map Relations Specified for Nested Elements\"\nms.date: \"03/30/2017\"\nms.assetid: 24a2d3e5-4af7-4f9a-ab7a-fe6684c9e4fe\n---\n# Map Relations Specified for Nested Elements\nA schema can include an **msdata:Relationship** annotation to explicitly specify the mapping between any two elements in the schema. The two elements specified in **msdata:Relationship** can be nested in the schema, but do not have to be. The mapping process uses **msdata:Relationship** in the schema to generate the primary key/foreign key relationship between the two columns.  \n  \n The following example shows an XML Schema in which the **OrderDetail** element is a child element of **Order**. The **msdata:Relationship** identifies this parent-child relationship and specifies that the **OrderNumber** column of the resulting **Order** table is related to the **OrderNo** column of the resulting **OrderDetail** table.  \n  \n```xml  \n<xs:schema id=\"MyDataSet\" xmlns=\"\"   \n            xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"   \n            xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">  \n<xs:element name=\"MyDataSet\" msdata:IsDataSet=\"true\">  \n <xs:complexType>  \n  <xs:choice maxOccurs=\"unbounded\">  \n   <xs:element name=\"Order\">  \n    <xs:complexType>  \n     <xs:sequence>  \n       <xs:element name=\"OrderNumber\" type=\"xs:string\" />  \n       <xs:element name=\"EmpNumber\" type=\"xs:string\" />  \n       <xs:element name=\"OrderDetail\">  \n          <xs:annotation>  \n           <xs:appinfo>  \n            <msdata:Relationship name=\"OrdODRelation\"   \n                                msdata:parent=\"Order\"   \n                                msdata:child=\"OrderDetail\"   \n                                msdata:parentkey=\"OrderNumber\"   \n                                msdata:childkey=\"OrderNo\"/>  \n           </xs:appinfo>  \n          </xs:annotation>  \n          <xs:complexType>  \n            <xs:sequence>  \n             <xs:element name=\"OrderNo\" type=\"xs:string\" />  \n             <xs:element name=\"ItemNo\" type=\"xs:string\" />  \n            </xs:sequence>  \n         </xs:complexType>  \n       </xs:element>  \n     </xs:sequence>  \n    </xs:complexType>  \n   </xs:element>  \n  </xs:choice>  \n </xs:complexType>  \n</xs:element>  \n</xs:schema>  \n```  \n  \n The XML Schema mapping process creates the following in the <xref:System.Data.DataSet>:  \n  \n-   An **Order** and an **OrderDetail** table.  \n  \n    ```  \n    Order(OrderNumber, EmpNumber)  \n    OrderDetail(OrderNo, ItemNo)  \n    ```  \n  \n-   A relationship between the **Order** and **OrderDetail** tables. The **Nested** property for this relationship is set to **True** because the **Order** and **OrderDetail** elements are nested in the schema.  \n  \n    ```  \n    ParentTable: Order  \n    ParentColumns: OrderNumber   \n    ChildTable: OrderDetail  \n    ChildColumns: OrderNo   \n    RelationName: OrdODRelation  \n    Nested: True  \n    ```  \n  \n The mapping process does not create any constraints.  \n  \n## See also\n\n- [Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)\n- [Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,127],"embed":true,"restype":"x-metadata","content":"title: \"Map Relations Specified for Nested Elements\"\nms.date: \"03/30/2017\"\nms.assetid: 24a2d3e5-4af7-4f9a-ab7a-fe6684c9e4fe","nodes":[{"content":"Map Relations Specified for Nested Elements","nodes":[{"pos":[0,43],"content":"Map Relations Specified for Nested Elements","nodes":[{"content":"Map Relations Specified for Nested Elements","pos":[0,43]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[134,177],"content":"Map Relations Specified for Nested Elements","linkify":"Map Relations Specified for Nested Elements","nodes":[{"content":"Map Relations Specified for Nested Elements","pos":[0,43]}]},{"content":"A schema can include an <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> annotation to explicitly specify the mapping between any two elements in the schema.","pos":[178,310],"source":"A schema can include an **msdata:Relationship** annotation to explicitly specify the mapping between any two elements in the schema."},{"content":"The two elements specified in <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> can be nested in the schema, but do not have to be.","pos":[311,416],"source":" The two elements specified in **msdata:Relationship** can be nested in the schema, but do not have to be."},{"content":"The mapping process uses <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> in the schema to generate the primary key/foreign key relationship between the two columns.","pos":[417,557],"source":" The mapping process uses **msdata:Relationship** in the schema to generate the primary key/foreign key relationship between the two columns."},{"content":"The following example shows an XML Schema in which the <bpt id=\"p1\">**</bpt>OrderDetail<ept id=\"p1\">**</ept> element is a child element of <bpt id=\"p2\">**</bpt>Order<ept id=\"p2\">**</ept>.","pos":[564,675],"source":"The following example shows an XML Schema in which the **OrderDetail** element is a child element of **Order**."},{"content":"The <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> identifies this parent-child relationship and specifies that the <bpt id=\"p2\">**</bpt>OrderNumber<ept id=\"p2\">**</ept> column of the resulting <bpt id=\"p3\">**</bpt>Order<ept id=\"p3\">**</ept> table is related to the <bpt id=\"p4\">**</bpt>OrderNo<ept id=\"p4\">**</ept> column of the resulting <bpt id=\"p5\">**</bpt>OrderDetail<ept id=\"p5\">**</ept> table.","pos":[676,901],"source":" The **msdata:Relationship** identifies this parent-child relationship and specifies that the **OrderNumber** column of the resulting **Order** table is related to the **OrderNo** column of the resulting **OrderDetail** table."},{"pos":[2247,2334],"content":"The XML Schema mapping process creates the following in the <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph>:","source":"The XML Schema mapping process creates the following in the <xref:System.Data.DataSet>:"},{"pos":[2344,2386],"content":"An <bpt id=\"p1\">**</bpt>Order<ept id=\"p1\">**</ept> and an <bpt id=\"p2\">**</bpt>OrderDetail<ept id=\"p2\">**</ept> table.","source":"An **Order** and an **OrderDetail** table."},{"content":"A relationship between the <bpt id=\"p1\">**</bpt>Order<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>OrderDetail<ept id=\"p2\">**</ept> tables.","pos":[2490,2554],"source":"A relationship between the **Order** and **OrderDetail** tables."},{"content":"The <bpt id=\"p1\">**</bpt>Nested<ept id=\"p1\">**</ept> property for this relationship is set to <bpt id=\"p2\">**</bpt>True<ept id=\"p2\">**</ept> because the <bpt id=\"p3\">**</bpt>Order<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>OrderDetail<ept id=\"p4\">**</ept> elements are nested in the schema.","pos":[2555,2696],"source":" The **Nested** property for this relationship is set to **True** because the **Order** and **OrderDetail** elements are nested in the schema."},{"content":"The mapping process does not create any constraints.","pos":[2897,2949]},{"pos":[2958,2966],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2970,3144],"content":"<bpt id=\"p1\">[</bpt>Generating DataSet Relations from XML Schema (XSD)<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)</ept>","source":"[Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)"},{"pos":[3147,3339],"content":"<bpt id=\"p1\">[</bpt>Mapping XML Schema (XSD) Constraints to DataSet Constraints<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)</ept>","source":"[Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)"},{"pos":[3342,3446],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}