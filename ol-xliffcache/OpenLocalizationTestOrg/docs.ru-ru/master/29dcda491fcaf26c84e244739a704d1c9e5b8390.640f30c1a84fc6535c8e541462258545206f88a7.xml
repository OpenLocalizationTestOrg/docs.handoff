{"content":"---\ntitle: \"Feed Formatter (JSON) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f9c0b295-55e7-48ea-b308-ba51c7d31143\ncaps.latest.revision: 12\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Feed Formatter (JSON)\nThis sample shows how to serialize an instance of a <xref:System.ServiceModel.Syndication.SyndicationFeed> class in JavaScript Object Notation (JSON) format by using a custom <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter> and the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer>.  \n  \n## Architecture of the Sample  \n The sample implements a class named `JsonFeedFormatter` that inherits from <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter>. The `JsonFeedFormatter` class relies on the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> to read and write the data in JSON format. Internally, the formatter uses a custom set of data contract types named `JsonSyndicationFeed` and `JsonSyndicationItem` to control the format of the JSON data produced by the serializer. These implementation details are hidden from the end user, allowing calls to be made against the standard <xref:System.ServiceModel.Syndication.SyndicationFeed> and <xref:System.ServiceModel.Syndication.SyndicationItem> classes.  \n  \n## Writing JSON feeds  \n Writing a JSON feed can be accomplished by using the `JsonFeedFormatter` (implemented in this sample) with the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> as shown in the following sample code.  \n  \n```  \n//Basic feed with sample data  \nSyndicationFeed feed = new SyndicationFeed(\"Custom JSON feed\", \"A Syndication extensibility sample\", null);  \nfeed.LastUpdatedTime = DateTime.Now;  \nfeed.Items = from s in new string[] { \"hello\", \"world\" }  \nselect new SyndicationItem()  \n{  \n    Summary = SyndicationContent.CreatePlaintextContent(s)  \n};  \n  \n//Write the feed out to a MemoryStream in JSON format  \nDataContractJsonSerializer writeSerializer = new DataContractJsonSerializer(typeof(JsonFeedFormatter));  \nwriteSerializer.WriteObject(stream, new JsonFeedFormatter(feed));  \n  \n```  \n  \n## Reading a JSON feed  \n Obtaining a <xref:System.ServiceModel.Syndication.SyndicationFeed> from a stream of JSON-formatted data can be accomplished with the `JsonFeedFormatter` as show in the following code.  \n  \n `//Read in the feed using the DataContractJsonSerializer`  \n  \n `DataContractJsonSerializer readSerializer = new DataContractJsonSerializer(typeof(JsonFeedFormatter));`  \n  \n `JsonFeedFormatter formatter = readSerializer.ReadObject(stream) as JsonFeedFormatter;`  \n  \n `SyndicationFeed feedRead = formatter.Feed;`  \n  \n#### To set up, build, and run the sample  \n  \n1.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n3.  To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Extensibility\\Syndication\\JsonFeeds`  \n  \n## See Also","nodes":[{"pos":[12,50],"content":"Feed Formatter (JSON) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Feed Formatter (JSON) | Microsoft Docs","pos":[0,38]}]},{"pos":[349,370],"content":"Feed Formatter (JSON)","linkify":"Feed Formatter (JSON)","nodes":[{"content":"Feed Formatter (JSON)","pos":[0,21]}]},{"content":"This sample shows how to serialize an instance of a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeed&gt;</ph> class in JavaScript Object Notation (JSON) format by using a custom <ph id=\"ph2\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeedFormatter&gt;</ph> and the <ph id=\"ph3\">&lt;xref:System.Runtime.Serialization.Json.DataContractJsonSerializer&gt;</ph>.","pos":[371,686],"source":"This sample shows how to serialize an instance of a <xref:System.ServiceModel.Syndication.SyndicationFeed> class in JavaScript Object Notation (JSON) format by using a custom <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter> and the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer>."},{"pos":[695,721],"content":"Architecture of the Sample","linkify":"Architecture of the Sample","nodes":[{"content":"Architecture of the Sample","pos":[0,26]}]},{"content":"The sample implements a class named <ph id=\"ph1\">`JsonFeedFormatter`</ph> that inherits from <ph id=\"ph2\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeedFormatter&gt;</ph>.","pos":[725,864],"source":"The sample implements a class named `JsonFeedFormatter` that inherits from <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter>."},{"content":"The <ph id=\"ph1\">`JsonFeedFormatter`</ph> class relies on the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.Json.DataContractJsonSerializer&gt;</ph> to read and write the data in JSON format.","pos":[865,1019],"source":" The `JsonFeedFormatter` class relies on the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> to read and write the data in JSON format."},{"content":"Internally, the formatter uses a custom set of data contract types named <ph id=\"ph1\">`JsonSyndicationFeed`</ph> and <ph id=\"ph2\">`JsonSyndicationItem`</ph> to control the format of the JSON data produced by the serializer.","pos":[1020,1207],"source":" Internally, the formatter uses a custom set of data contract types named `JsonSyndicationFeed` and `JsonSyndicationItem` to control the format of the JSON data produced by the serializer."},{"content":"These implementation details are hidden from the end user, allowing calls to be made against the standard <ph id=\"ph1\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeed&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Syndication.SyndicationItem&gt;</ph> classes.","pos":[1208,1436],"source":" These implementation details are hidden from the end user, allowing calls to be made against the standard <xref:System.ServiceModel.Syndication.SyndicationFeed> and <xref:System.ServiceModel.Syndication.SyndicationItem> classes."},{"pos":[1445,1463],"content":"Writing JSON feeds","linkify":"Writing JSON feeds","nodes":[{"content":"Writing JSON feeds","pos":[0,18]}]},{"pos":[1467,1684],"content":"Writing a JSON feed can be accomplished by using the <ph id=\"ph1\">`JsonFeedFormatter`</ph> (implemented in this sample) with the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.Json.DataContractJsonSerializer&gt;</ph> as shown in the following sample code.","source":"Writing a JSON feed can be accomplished by using the `JsonFeedFormatter` (implemented in this sample) with the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> as shown in the following sample code."},{"pos":[2285,2304],"content":"Reading a JSON feed","linkify":"Reading a JSON feed","nodes":[{"content":"Reading a JSON feed","pos":[0,19]}]},{"pos":[2308,2491],"content":"Obtaining a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeed&gt;</ph> from a stream of JSON-formatted data can be accomplished with the <ph id=\"ph2\">`JsonFeedFormatter`</ph> as show in the following code.","source":"Obtaining a <xref:System.ServiceModel.Syndication.SyndicationFeed> from a stream of JSON-formatted data can be accomplished with the `JsonFeedFormatter` as show in the following code."},{"pos":[2822,2858],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[2868,3067],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[3077,3286],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[3296,3504],"content":"To run the sample in a single- or cross-machine configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[3512,3645],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[13,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[1,55]},{"content":"Check for the following (default) directory before continuing.","pos":[56,118]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[3699,4025],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[4026,4076]},{"pos":[4168,4176],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}