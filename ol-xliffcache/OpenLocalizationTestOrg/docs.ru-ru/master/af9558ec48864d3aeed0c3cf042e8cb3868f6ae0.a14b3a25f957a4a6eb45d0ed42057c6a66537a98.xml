{"content":"---\ntitle: \"Custom Composite Designers - Workflow Item Presenter | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f85224cf-9e30-44a5-9a81-3bc438a34364\ncaps.latest.revision: 16\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Custom Composite Designers - Workflow Item Presenter\nThe <xref:System.Activities.Presentation.WorkflowItemPresenter> is a key type in the WF designer programming model that allows for the creation of a \"drop zone\" where an arbitrary activity can be placed. This sample shows how to build an activity designer that surfaces such a \"drop zone.\"  \n  \n This sample demonstrates:  \n  \n## Demonstrates  \n  \n-   Creating a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>.  \n  \n-   Registering the custom designer using the metadata store.  \n  \n-   Programming the rehosted toolbox declaratively and imperatively.  \n  \n## Sample Details  \n The code for this sample shows:  \n  \n-   The custom activity designer is built for the `SimpleNativeActivity` class.  \n  \n-   The creation of a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>.  \n  \n```xaml  \n<sap:ActivityDesigner x:Class=\"Microsoft.Samples.UsingWorkflowItemPresenter.SimpleNativeDesigner\"  \n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"  \n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"  \n    xmlns:sap=\"clr-namespace:System.Activities.Presentation;assembly=System.Activities.Presentation\"  \n    xmlns:sapv=\"clr-namespace:System.Activities.Presentation.View;assembly=System.Activities.Presentation\">  \n    <sap:ActivityDesigner.Resources>  \n        <DataTemplate x:Key=\"Collapsed\">  \n            <StackPanel>  \n                <TextBlock>This is the collapsed view</TextBlock>  \n            </StackPanel>  \n        </DataTemplate>  \n        <DataTemplate x:Key=\"Expanded\">  \n            <StackPanel>  \n                <TextBlock>Custom Text</TextBlock>  \n                <sap:WorkflowItemPresenter Item=\"{Binding Path=ModelItem.Body, Mode=TwoWay}\"  \n                                        HintText=\"Please drop an activity here\" />  \n            </StackPanel>  \n        </DataTemplate>  \n        <Style x:Key=\"ExpandOrCollapsedStyle\" TargetType=\"{x:Type ContentPresenter}\">  \n            <Setter Property=\"ContentTemplate\" Value=\"{DynamicResource Collapsed}\"/>  \n            <Style.Triggers>  \n                <DataTrigger Binding=\"{Binding Path=ShowExpanded}\" Value=\"true\">  \n                    <Setter Property=\"ContentTemplate\" Value=\"{DynamicResource Expanded}\"/>  \n                </DataTrigger>  \n            </Style.Triggers>  \n        </Style>  \n    </sap:ActivityDesigner.Resources>  \n    <Grid>  \n        <ContentPresenter Style=\"{DynamicResource ExpandOrCollapsedStyle}\" Content=\"{Binding}\" />  \n    </Grid>  \n</sap:ActivityDesigner>  \n```  \n  \n Note the use of WPF data binding to bind to `ModelItem.Body`. `ModelItem` is the property on <xref:System.Activities.Presentation.ActivityDesigner> that refers to the underlying object the designer is being used for, in this case, **SimpleNativeActivity**.  \n  \n#### To setup, build, and run the sample  \n  \n1.  Open the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].  \n  \n2.  Press F5 to compile and run the application.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Basic\\CustomActivities\\CustomActivityDesigners\\WorkflowItemPresenter`  \n  \n## See Also  \n <xref:System.Activities.Presentation.WorkflowItemPresenter>   \n [Developing Applications with the Workflow Designer](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)","nodes":[{"pos":[4,340],"embed":true,"restype":"x-metadata","content":"title: \"Custom Composite Designers - Workflow Item Presenter | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f85224cf-9e30-44a5-9a81-3bc438a34364\ncaps.latest.revision: 16\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Custom Composite Designers - Workflow Item Presenter | Microsoft Docs","nodes":[{"pos":[0,69],"content":"Custom Composite Designers - Workflow Item Presenter | Microsoft Docs","nodes":[{"content":"Custom Composite Designers - Workflow Item Presenter | Microsoft Docs","pos":[0,69]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[347,399],"content":"Custom Composite Designers - Workflow Item Presenter","linkify":"Custom Composite Designers - Workflow Item Presenter","nodes":[{"content":"Custom Composite Designers - Workflow Item Presenter","pos":[0,52]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.WorkflowItemPresenter&gt;</ph> is a key type in the WF designer programming model that allows for the creation of a \"drop zone\" where an arbitrary activity can be placed.","pos":[400,603],"source":"The <xref:System.Activities.Presentation.WorkflowItemPresenter> is a key type in the WF designer programming model that allows for the creation of a \"drop zone\" where an arbitrary activity can be placed."},{"content":"This sample shows how to build an activity designer that surfaces such a \"drop zone.\"","pos":[604,689]},{"content":"This sample demonstrates:","pos":[696,721]},{"pos":[730,742],"content":"Demonstrates","linkify":"Demonstrates","nodes":[{"content":"Demonstrates","pos":[0,12]}]},{"pos":[752,855],"content":"Creating a custom activity designer with a <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.WorkflowItemPresenter&gt;</ph>.","source":"Creating a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>."},{"content":"Registering the custom designer using the metadata store.","pos":[865,922]},{"content":"Programming the rehosted toolbox declaratively and imperatively.","pos":[932,996]},{"pos":[1005,1019],"content":"Sample Details","linkify":"Sample Details","nodes":[{"content":"Sample Details","pos":[0,14]}]},{"content":"The code for this sample shows:","pos":[1023,1054]},{"pos":[1064,1139],"content":"The custom activity designer is built for the <ph id=\"ph1\">`SimpleNativeActivity`</ph> class.","source":"The custom activity designer is built for the `SimpleNativeActivity` class."},{"pos":[1149,1259],"content":"The creation of a custom activity designer with a <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.WorkflowItemPresenter&gt;</ph>.","source":"The creation of a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>."},{"content":"Note the use of WPF data binding to bind to <ph id=\"ph1\">`ModelItem.Body`</ph>.","pos":[2978,3039],"source":"Note the use of WPF data binding to bind to `ModelItem.Body`."},{"content":"<ph id=\"ph1\">`ModelItem`</ph> is the property on <ph id=\"ph2\">&lt;xref:System.Activities.Presentation.ActivityDesigner&gt;</ph> that refers to the underlying object the designer is being used for, in this case, <bpt id=\"p1\">**</bpt>SimpleNativeActivity<ept id=\"p1\">**</ept>.","pos":[3040,3234],"source":"`ModelItem` is the property on <xref:System.Activities.Presentation.ActivityDesigner> that refers to the underlying object the designer is being used for, in this case, **SimpleNativeActivity**."},{"pos":[3245,3280],"content":"To setup, build, and run the sample","linkify":"To setup, build, and run the sample","nodes":[{"content":"To setup, build, and run the sample","pos":[0,35]}]},{"pos":[3290,3365],"content":"Open the solution in <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph>.","source":"Open the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]."},{"content":"Press F5 to compile and run the application.","pos":[3375,3419]},{"pos":[3427,3559],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[3613,3939],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[3940,3990]},{"pos":[4114,4122],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Developing Applications with the Workflow Designer<ept id=\"p1\">](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)</ept>","pos":[4190,4326],"source":"[Developing Applications with the Workflow Designer](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)"}]}