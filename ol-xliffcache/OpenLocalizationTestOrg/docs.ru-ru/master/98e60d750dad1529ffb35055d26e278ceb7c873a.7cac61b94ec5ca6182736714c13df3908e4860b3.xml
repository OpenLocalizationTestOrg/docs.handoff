{"content":"---\ntitle: \"<certificate> of <clientCertificate> Element\"\nms.date: \"03/30/2017\"\nms.assetid: 00297efb-a7f2-4e03-bc2b-943d545610fc\n---\n# \\<certificate> of \\<clientCertificate> Element\nSpecifies an X.509 certificate used to sign and encrypt messages.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<serviceBehaviors>  \n\\<behavior>  \n\\<serviceCredentials>  \n\\<clientCertificate>  \n\\<certificate>  \n  \n## Syntax  \n  \n```xml  \n<certificate findValue=\"String\"\n             storeLocation = \"CurrentUser/LocalMachine\"\n             storeName=\"AddressBook/AuthRoot/CertificateAuthority/Disallowed/My/Root/TrustedPeople/TrustedPublisher\"\n             X509FindType=\"FindByThumbPrint/FindBySubjectName/FindBySubjectDistinguishedName/FindByIssuerName/FindByIssuerDistinguishedName/FindBySerialNumber/FindByTimeValid/FindByTimeNotYetValid/FindByTemplateName/FindByApplicationPolicy/FindByCertificatePolicy/FindByExtension/FindByKeyUsage/FindBySubjectKeyIdentifier\" />\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`findValue`|A string that contains the value to search for in the X.509 certificate store. The type contained in the attribute must satisfy the requirements of the specified X509FindType. The default is an empty string.|  \n|`storeLocation`|Specifies the location of the X.509 certificate store that the client uses to validate the server’s certificate against. Valid values include the following:<br /><br /> -   LocalMachine: the certificate store assigned to the local machine.<br />-   CurrentUser: the certificate store assigned to the current user.<br /><br /> The default is LocalMachine.|  \n|`storeName`|Specifies the name of the X.509 certificate store to open. Valid values include the following:<br /><br /> -   AddressBook: Certificate store for other users.<br />-   AuthRoot: Certificate store for third-party certification authorities (CAs).<br />-   CertificationAuthority: Certificate store for intermediate certification authorities (CAs).<br />-   Disallowed: Certificate store for revoked certificates.<br />-   My: Certificate store for personal certificates.<br />-   Root: Certificate store for trusted root certification authorities (CAs).<br />-   TrustedPeople: Certificate store for directly trusted people and resources.<br />-   TrustedPublisher: Certificate store for directly trusted publishers.<br /><br /> The default is My.|  \n|`X509FindType`|Defines the type of X.509 search to be executed. Valid values include the following:<br /><br /> -   FindByThumbPrint<br />-   FindBySubjectName<br />-   FindBySubjectDistinguishedName<br />-   FindByIssuerName<br />-   FindByIssuerDistinguishedName<br />-   FindBySerialNumber<br />-   FindByTimeValid<br />-   FindByTimeNotYetValid<br />-   FindByTemplateName<br />-   FindByApplicationPolicy<br />-   FindByCertificatePolicy<br />-   FindByExtension<br />-   FindByKeyUsage<br />-   FindBySubjectKeyIdentifier<br /><br /> The type contained in the `findValue` attribute must satisfy the requirements of the specified X509FindType.<br /><br /> The default value is FindBySubjectDistinguishedName.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<clientCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-servicecredentials.md)||  \n  \n## Remarks  \n The `<certificate>` element is used when the service must have the client's certificate in advance to communicate securely with the client. This occurs when using the duplex communication pattern. In the more typical request/response pattern, the client includes its certificate in the request, which the service uses to encrypt and sign its response back to the client. In the duplex communication pattern, however, the service does not have a request from the client and therefore it needs the client's certificate in advance to secure the message to the client. Therefore you must obtain the client's certificate in an out-of-band negotiation, and specify the certificate using this element. For more information about duplex services, see [How to: Create a Duplex Contract](../../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md).  \n  \n## Example  \n The following code specifies how to find an appropriate X.509 certificate and a custom validation type in the `<authentication>` element.  \n  \n```xml  \n<serviceBehaviors>\n  <behavior name=\"myServiceBehavior\">\n    <clientCertificate>\n      <certificate findValue=\"www.cohowinery.com\"\n                   storeLocation=\"CurrentUser\"\n                   storeName=\"TrustedPeople\"\n                   x509FindType=\"FindByIssuerName\" />\n      <authentication customCertificateValidatorType=\"MyTypes.Coho\"\n                      certificateValidationMode=\"Custom\"\n                      revocationMode=\"Offline\"\n                      includeWindowsGroups=\"false\"\n                      mapClientCertificateToWindowsAccount=\"true\" />\n    </clientCertificate>\n  </behavior>\n</serviceBehaviors>\n```  \n  \n## See also\n\n- <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential.Certificate%2A>\n- <xref:System.ServiceModel.Configuration.X509InitiatorCertificateServiceElement.Certificate%2A>\n- <xref:System.ServiceModel.Configuration.X509ClientCertificateCredentialsElement>\n- [Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)\n- [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)\n- [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)\n","nodes":[{"pos":[4,128],"embed":true,"restype":"x-metadata","content":"title: \"<certificate> of <clientCertificate> Element\"\nms.date: \"03/30/2017\"\nms.assetid: 00297efb-a7f2-4e03-bc2b-943d545610fc","nodes":[{"content":"<certificate> of <clientCertificate> Element","nodes":[{"pos":[0,44],"content":"<ph id=\"ph1\">&lt;certificate&gt;</ph> of <ph id=\"ph2\">&lt;clientCertificate&gt;</ph> Element","source":"<certificate> of <clientCertificate> Element"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[135,181],"content":"\\<certificate> of \\<clientCertificate> Element","linkify":"\\<certificate> of \\<clientCertificate> Element","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>certificate&gt; of <ph id=\"ph2\">\\&lt;</ph>clientCertificate&gt; Element","pos":[0,46],"source":"\\<certificate> of \\<clientCertificate> Element"}]},{"content":"Specifies an X.509 certificate used to sign and encrypt messages.","pos":[182,247]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[254,276],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[279,291],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceBehaviors&gt;","pos":[294,313],"source":"\\<serviceBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[316,327],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceCredentials&gt;","pos":[330,351],"source":"\\<serviceCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>clientCertificate&gt;","pos":[354,374],"source":"\\<clientCertificate>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>certificate&gt;","pos":[377,391],"source":"\\<certificate>"},{"pos":[400,406],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[964,987],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[991,1070]},{"pos":[1080,1090],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1097,1106]},{"content":"Description","pos":[1107,1118]},{"content":"A string that contains the value to search for in the X.509 certificate store.","pos":[1173,1251]},{"content":"The type contained in the attribute must satisfy the requirements of the specified X509FindType.","pos":[1252,1348]},{"content":"The default is an empty string.","pos":[1349,1380]},{"content":"Specifies the location of the X.509 certificate store that the client uses to validate the server’s certificate against.","pos":[1401,1521]},{"content":"Valid values include the following:","pos":[1522,1557]},{"content":"-   LocalMachine: the certificate store assigned to the local machine.","pos":[1570,1640]},{"content":"-   CurrentUser: the certificate store assigned to the current user.","pos":[1646,1714]},{"content":"The default is LocalMachine.","pos":[1727,1755]},{"content":"Specifies the name of the X.509 certificate store to open.","pos":[1772,1830]},{"content":"Valid values include the following:","pos":[1831,1866]},{"content":"-   AddressBook: Certificate store for other users.","pos":[1879,1930]},{"content":"-   AuthRoot: Certificate store for third-party certification authorities (CAs).","pos":[1936,2016]},{"content":"-   CertificationAuthority: Certificate store for intermediate certification authorities (CAs).","pos":[2022,2117]},{"content":"-   Disallowed: Certificate store for revoked certificates.","pos":[2123,2182]},{"content":"-   My: Certificate store for personal certificates.","pos":[2188,2240]},{"content":"-   Root: Certificate store for trusted root certification authorities (CAs).","pos":[2246,2323]},{"content":"-   TrustedPeople: Certificate store for directly trusted people and resources.","pos":[2329,2408]},{"content":"-   TrustedPublisher: Certificate store for directly trusted publishers.","pos":[2414,2486]},{"content":"The default is My.","pos":[2499,2517]},{"content":"Defines the type of X.509 search to be executed.","pos":[2537,2585]},{"content":"Valid values include the following:","pos":[2586,2621]},{"content":"-   FindByThumbPrint","pos":[2634,2654]},{"content":"-   FindBySubjectName","pos":[2660,2681]},{"content":"-   FindBySubjectDistinguishedName","pos":[2687,2721]},{"content":"-   FindByIssuerName","pos":[2727,2747]},{"content":"-   FindByIssuerDistinguishedName","pos":[2753,2786]},{"content":"-   FindBySerialNumber","pos":[2792,2814]},{"content":"-   FindByTimeValid","pos":[2820,2839]},{"content":"-   FindByTimeNotYetValid","pos":[2845,2870]},{"content":"-   FindByTemplateName","pos":[2876,2898]},{"content":"-   FindByApplicationPolicy","pos":[2904,2931]},{"content":"-   FindByCertificatePolicy","pos":[2937,2964]},{"content":"-   FindByExtension","pos":[2970,2989]},{"content":"-   FindByKeyUsage","pos":[2995,3013]},{"content":"-   FindBySubjectKeyIdentifier","pos":[3019,3049]},{"content":"The type contained in the <ph id=\"ph1\">`findValue`</ph> attribute must satisfy the requirements of the specified X509FindType.","pos":[3062,3170],"source":"The type contained in the `findValue` attribute must satisfy the requirements of the specified X509FindType."},{"content":"The default value is FindBySubjectDistinguishedName.","pos":[3183,3235]},{"pos":[3246,3260],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[3264,3269]},{"pos":[3279,3294],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3301,3308]},{"content":"Description","pos":[3309,3320]},{"pos":[3361,3488],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>clientCertificate&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-servicecredentials.md)</ept>","source":"[\\<clientCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-servicecredentials.md)"},{"pos":[3499,3506],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`&lt;certificate&gt;`</ph> element is used when the service must have the client's certificate in advance to communicate securely with the client.","pos":[3510,3649],"source":"The `<certificate>` element is used when the service must have the client's certificate in advance to communicate securely with the client."},{"content":"This occurs when using the duplex communication pattern.","pos":[3650,3706]},{"content":"In the more typical request/response pattern, the client includes its certificate in the request, which the service uses to encrypt and sign its response back to the client.","pos":[3707,3880]},{"content":"In the duplex communication pattern, however, the service does not have a request from the client and therefore it needs the client's certificate in advance to secure the message to the client.","pos":[3881,4074]},{"content":"Therefore you must obtain the client's certificate in an out-of-band negotiation, and specify the certificate using this element.","pos":[4075,4204]},{"content":"For more information about duplex services, see <bpt id=\"p1\">[</bpt>How to: Create a Duplex Contract<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md)</ept>.","pos":[4205,4374],"source":" For more information about duplex services, see [How to: Create a Duplex Contract](../../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md)."},{"pos":[4383,4390],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4394,4531],"content":"The following code specifies how to find an appropriate X.509 certificate and a custom validation type in the <ph id=\"ph1\">`&lt;authentication&gt;`</ph> element.","source":"The following code specifies how to find an appropriate X.509 certificate and a custom validation type in the `<authentication>` element."},{"pos":[5186,5194],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5473,5573],"content":"<bpt id=\"p1\">[</bpt>Security Behaviors<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)</ept>","source":"[Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)"},{"pos":[5576,5762],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Service that Employs a Custom Certificate Validator<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)</ept>","source":"[How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)"},{"pos":[5765,5872],"content":"<bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>","source":"[Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)"}]}