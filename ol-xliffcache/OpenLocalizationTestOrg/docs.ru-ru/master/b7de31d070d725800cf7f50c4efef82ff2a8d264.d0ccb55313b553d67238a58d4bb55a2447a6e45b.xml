{"content":"---\ntitle: \"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"<legacyCorruptedStateExceptionsPolicy> element\"\n  - \"legacyCorruptedStateExceptionsPolicy element\"\nms.assetid: e0a55ddc-bfa8-4f3e-ac14-d1fc3330e4bb\ncaps.latest.revision: 8\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# &lt;legacyCorruptedStateExceptionsPolicy&gt; Element\nSpecifies whether the common language runtime allows managed code to catch access violations and other corrupted state exceptions.  \n  \n \\<configuration>  \n\\<runtime>  \n\\<legacyCorruptedStateExceptionsPolicy>  \n  \n## Syntax  \n  \n```  \n<legacyCorruptedStateExceptionsPolicy enabled=\"true|false\"/>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`enabled`|Required attribute.<br /><br /> Specifies that the application will catch corrupting state exception failures such as access violations.|  \n  \n## enabled Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|`false`|The application will not catch corrupting state exception failures such as access violations. This is the default.|  \n|`true`|The application will catch corrupting state exception failures such as access violations.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`configuration`|The root element in every configuration file used by the common language runtime and .NET Framework applications.|  \n|`runtime`|Contains information about assembly binding and garbage collection.|  \n  \n## Remarks  \n In the .NET Framework version 3.5 and earlier, the common language runtime allowed managed code to catch exceptions that were raised by corrupted process states. An access violation is an example of this type of exception.  \n  \n Starting with the [!INCLUDE[net_v40_long](../../../../../includes/net-v40-long-md.md)], managed code no longer catches these types of exceptions in `catch` blocks. However, you can override this change and maintain the handling of corrupted state exceptions in two ways:  \n  \n-   Set the `<legacyCorruptedStateExceptionsPolicy>` element's `enabled` attribute to `true`. This configuration setting is applied processwide and affects all methods.  \n  \n -or-  \n  \n-   Apply the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute?displayProperty=fullName> attribute to the method that contains the exceptions `catch` block.  \n  \n This configuration element is available only in the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)] and later.  \n  \n## Example  \n The following example shows how to specify that the application should revert to the behavior before the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)], and catch all corrupting state exception failures.  \n  \n```  \n<configuration>  \n   <runtime>  \n      <legacyCorruptedStateExceptionsPolicy enabled=\"true\" />  \n   </runtime>  \n</configuration>  \n```  \n  \n## See Also  \n <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute>   \n [Runtime Settings Schema](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md)   \n [Configuration File Schema](../../../../../docs/framework/configure-apps/file-schema/index.md)","nodes":[{"pos":[4,560],"nodes":[{"content":"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element | Microsoft Docs","nodes":[{"pos":[0,69],"content":"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element | Microsoft Docs","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>legacyCorruptedStateExceptionsPolicy<ph id=\"ph2\">&amp;gt;</ph> Element | Microsoft Docs","pos":[0,69],"source":"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element | Microsoft Docs"}]}],"pos":[6,78],"yaml":true}],"content":"title: \"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"<legacyCorruptedStateExceptionsPolicy> element\"\n  - \"legacyCorruptedStateExceptionsPolicy element\"\nms.assetid: e0a55ddc-bfa8-4f3e-ac14-d1fc3330e4bb\ncaps.latest.revision: 8\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"","yamlblock":true},{"pos":[567,619],"content":"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element","linkify":"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>legacyCorruptedStateExceptionsPolicy<ph id=\"ph2\">&amp;gt;</ph> Element","pos":[0,52],"source":"&lt;legacyCorruptedStateExceptionsPolicy&gt; Element"}]},{"content":"Specifies whether the common language runtime allows managed code to catch access violations and other corrupted state exceptions.","pos":[620,750]},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt;","pos":[757,773],"source":"\\<configuration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>runtime&gt;","pos":[776,786],"source":"\\<runtime>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>legacyCorruptedStateExceptionsPolicy&gt;","pos":[789,828],"source":"\\<legacyCorruptedStateExceptionsPolicy>"},{"pos":[837,843],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[930,953],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[957,1037]},{"pos":[1047,1057],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1064,1073]},{"content":"Description","pos":[1074,1085]},{"content":"Required attribute.","pos":[1138,1157]},{"content":"Specifies that the application will catch corrupting state exception failures such as access violations.","pos":[1170,1274]},{"pos":[1284,1301],"content":"enabled Attribute","linkify":"enabled Attribute","nodes":[{"content":"enabled Attribute","pos":[0,17]}]},{"content":"Value","pos":[1308,1313]},{"content":"Description","pos":[1314,1325]},{"content":"The application will not catch corrupting state exception failures such as access violations.","pos":[1372,1465]},{"content":"This is the default.","pos":[1466,1486]},{"content":"The application will catch corrupting state exception failures such as access violations.","pos":[1498,1587]},{"pos":[1598,1612],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[1616,1621]},{"pos":[1631,1646],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1653,1660]},{"content":"Description","pos":[1661,1672]},{"content":"The root element in every configuration file used by the common language runtime and .NET Framework applications.","pos":[1729,1842]},{"content":"Contains information about assembly binding and garbage collection.","pos":[1857,1924]},{"pos":[1934,1941],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"In the .NET Framework version 3.5 and earlier, the common language runtime allowed managed code to catch exceptions that were raised by corrupted process states.","pos":[1945,2106]},{"content":"An access violation is an example of this type of exception.","pos":[2107,2167]},{"content":"Starting with the <ph id=\"ph1\">[!INCLUDE[net_v40_long](../../../../../includes/net-v40-long-md.md)]</ph>, managed code no longer catches these types of exceptions in <ph id=\"ph2\">`catch`</ph> blocks.","pos":[2174,2337],"source":"Starting with the [!INCLUDE[net_v40_long](../../../../../includes/net-v40-long-md.md)], managed code no longer catches these types of exceptions in `catch` blocks."},{"content":"However, you can override this change and maintain the handling of corrupted state exceptions in two ways:","pos":[2338,2444]},{"content":"Set the <ph id=\"ph1\">`&lt;legacyCorruptedStateExceptionsPolicy&gt;`</ph> element's <ph id=\"ph2\">`enabled`</ph> attribute to <ph id=\"ph3\">`true`</ph>.","pos":[2454,2543],"source":"Set the `<legacyCorruptedStateExceptionsPolicy>` element's `enabled` attribute to `true`."},{"content":"This configuration setting is applied processwide and affects all methods.","pos":[2544,2618]},{"content":"-or-","pos":[2625,2629]},{"pos":[2639,2828],"content":"Apply the <ph id=\"ph1\">&lt;xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute?displayProperty=fullName&gt;</ph> attribute to the method that contains the exceptions <ph id=\"ph2\">`catch`</ph> block.","source":"Apply the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute?displayProperty=fullName> attribute to the method that contains the exceptions `catch` block."},{"pos":[2835,2968],"content":"This configuration element is available only in the <ph id=\"ph1\">[!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)]</ph> and later.","source":"This configuration element is available only in the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)] and later."},{"pos":[2977,2984],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2988,3215],"content":"The following example shows how to specify that the application should revert to the behavior before the <ph id=\"ph1\">[!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)]</ph>, and catch all corrupting state exception failures.","source":"The following example shows how to specify that the application should revert to the behavior before the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)], and catch all corrupting state exception failures."},{"pos":[3371,3379],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute&gt;</ph>","pos":[3383,3469],"source":"<xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> "},{"content":"<bpt id=\"p1\">[</bpt>Runtime Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[3474,3575],"source":"[Runtime Settings Schema](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>Configuration File Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/index.md)</ept>","pos":[3579,3673],"source":"[Configuration File Schema](../../../../../docs/framework/configure-apps/file-schema/index.md)"}]}