{"content":"---\ntitle: \"WSHttpBinding\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"WS Profile binding\"\nms.assetid: 22d85b19-0135-4141-9179-a0e9c343ad73\n---\n# WSHttpBinding\nThis sample demonstrates how to implement a typical service and a typical client using Windows Communication Foundation (WCF). This sample consists of a client console program (client.exe) and a service library hosted by Internet Information Services (IIS). The service implements a contract that defines a request-reply communication pattern. The contract is defined by the `ICalculator` interface, which exposes math operations (add, subtract, multiply, and divide). The client makes synchronous requests to a given math operation and the service replies with the result. Client activity is visible in the console window.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Binding\\WS\\wsHttp`  \n  \n> [!NOTE]\n>  The setup procedure and build instructions for this sample are located at the end of this topic.  \n  \n This sample exposes the `ICalculator` contract using the [\\<wsHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md). The configuration of this binding has been expanded in the Web.config file.  \n  \n```xml\n<bindings>  \n  <wsHttpBinding>  \n    <!--The following is the expanded configuration section for a-->  \n    <!--WSHttpBinding. Each property is configured with the default-->   \n    <!--value. See the ReliableSession, TransactionFlow, -->  \n    <!--TransportSecurity, and MessageSecurity samples in the WS -->  \n    <!--directory to learn how to configure these features. -->  \n    <binding name=\"Binding1\"  \n              bypassProxyOnLocal=\"false\"   \n              transactionFlow=\"false\"   \n              hostNameComparisonMode=\"StrongWildcard\"  \n              maxBufferPoolSize=\"524288\"   \n              maxReceivedMessageSize=\"65536\"  \n              messageEncoding=\"Text\"   \n              textEncoding=\"utf-8\"   \n              useDefaultWebProxy=\"true\"  \n              allowCookies=\"false\">  \n      <reliableSession ordered=\"true\"   \n                       inactivityTimeout=\"00:10:00\"  \n                       enabled=\"false\" />  \n      <security mode=\"Message\">  \n        <message clientCredentialType=\"Windows\"   \n                 negotiateServiceCredential=\"true\"  \n                 algorithmSuite=\"Default\"   \n                 establishSecurityContext=\"true\" />  \n      </security>  \n    </binding>  \n  </wsHttpBinding>  \n</bindings>  \n```  \n  \n On the base `binding` element, the `maxReceivedMessageSize` value lets you configure the maximum size of an incoming message (in bytes). The `hostNameComparisonMode` value lets you configure whether the hostname is considered when de-multiplexing messages to the service. The `messageEncoding` value lets you configure whether to use Text or MTOM encoding for messages. The `textEncoding` value lets you configure the character encoding for messages. The `bypassProxyOnLocal` value lets you configure whether to use an HTTP proxy for local communication. The `transactionFlow` value configures whether the current transaction is flowed (if an operation is configured for transaction flow).  \n  \n On the [\\<reliableSession>](../../../../docs/framework/configure-apps/file-schema/wcf/reliablesession.md) element, the enabled Boolean value configures whether reliable sessions are enabled. The `ordered` value configures whether message ordering is preserved. The `inactivityTimeout` value configures how long a session can be idle before being faulted.  \n  \n On the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md), the `mode` value configures which security mode should be used. In this sample, messages security is being used, which is why the [\\<message>](../../../../docs/framework/configure-apps/file-schema/wcf/message-of-wshttpbinding.md) is specified inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md).  \n  \n When you run the sample, the operation requests and responses are displayed in the client console window. Press ENTER in the client window to shut down the client.  \n  \n```  \nAdd(100,15.99) = 115.99  \nSubtract(145,76.54) = 68.46  \nMultiply(9,81.25) = 731.25  \nDivide(22,7) = 3.14285714285714  \n  \nPress <ENTER> to terminate client.  \n```  \n  \n### To set up, build, and run the sample  \n  \n1.  Install [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 4.0 using the following command.  \n  \n    ```  \n    %windir%\\Microsoft.NET\\Framework\\v4.0.XXXXX\\aspnet_regiis.exe /i /enable  \n    ```  \n  \n2.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n3.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n4.  To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n","nodes":[{"pos":[4,144],"embed":true,"restype":"x-metadata","content":"title: \"WSHttpBinding\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"WS Profile binding\"\nms.assetid: 22d85b19-0135-4141-9179-a0e9c343ad73","nodes":[{"content":"WSHttpBinding","nodes":[{"pos":[0,13],"content":"WSHttpBinding","nodes":[{"content":"WSHttpBinding","pos":[0,13]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[151,164],"content":"WSHttpBinding","linkify":"WSHttpBinding","nodes":[{"content":"WSHttpBinding","pos":[0,13]}]},{"content":"This sample demonstrates how to implement a typical service and a typical client using Windows Communication Foundation (WCF).","pos":[165,291]},{"content":"This sample consists of a client console program (client.exe) and a service library hosted by Internet Information Services (IIS).","pos":[292,422]},{"content":"The service implements a contract that defines a request-reply communication pattern.","pos":[423,508]},{"content":"The contract is defined by the <ph id=\"ph1\">`ICalculator`</ph> interface, which exposes math operations (add, subtract, multiply, and divide).","pos":[509,633],"source":" The contract is defined by the `ICalculator` interface, which exposes math operations (add, subtract, multiply, and divide)."},{"content":"The client makes synchronous requests to a given math operation and the service replies with the result.","pos":[634,738]},{"content":"Client activity is visible in the console window.","pos":[739,788]},{"pos":[796,928],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[982,1292],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1293,1343]},{"pos":[1422,1529],"content":"[!NOTE]\n The setup procedure and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The setup procedure and build instructions for this sample are located at the end of this topic.","pos":[9,105]}]},{"content":"This sample exposes the <ph id=\"ph1\">`ICalculator`</ph> contract using the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>wsHttpBinding&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md)</ept>.","pos":[1536,1688],"source":"This sample exposes the `ICalculator` contract using the [\\<wsHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md)."},{"content":"The configuration of this binding has been expanded in the Web.config file.","pos":[1689,1764]},{"content":"On the base <ph id=\"ph1\">`binding`</ph> element, the <ph id=\"ph2\">`maxReceivedMessageSize`</ph> value lets you configure the maximum size of an incoming message (in bytes).","pos":[3034,3170],"source":"On the base `binding` element, the `maxReceivedMessageSize` value lets you configure the maximum size of an incoming message (in bytes)."},{"content":"The <ph id=\"ph1\">`hostNameComparisonMode`</ph> value lets you configure whether the hostname is considered when de-multiplexing messages to the service.","pos":[3171,3305],"source":" The `hostNameComparisonMode` value lets you configure whether the hostname is considered when de-multiplexing messages to the service."},{"content":"The <ph id=\"ph1\">`messageEncoding`</ph> value lets you configure whether to use Text or MTOM encoding for messages.","pos":[3306,3403],"source":" The `messageEncoding` value lets you configure whether to use Text or MTOM encoding for messages."},{"content":"The <ph id=\"ph1\">`textEncoding`</ph> value lets you configure the character encoding for messages.","pos":[3404,3484],"source":" The `textEncoding` value lets you configure the character encoding for messages."},{"content":"The <ph id=\"ph1\">`bypassProxyOnLocal`</ph> value lets you configure whether to use an HTTP proxy for local communication.","pos":[3485,3588],"source":" The `bypassProxyOnLocal` value lets you configure whether to use an HTTP proxy for local communication."},{"content":"The <ph id=\"ph1\">`transactionFlow`</ph> value configures whether the current transaction is flowed (if an operation is configured for transaction flow).","pos":[3589,3723],"source":" The `transactionFlow` value configures whether the current transaction is flowed (if an operation is configured for transaction flow)."},{"content":"On the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>reliableSession&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/reliablesession.md)</ept> element, the enabled Boolean value configures whether reliable sessions are enabled.","pos":[3730,3920],"source":"On the [\\<reliableSession>](../../../../docs/framework/configure-apps/file-schema/wcf/reliablesession.md) element, the enabled Boolean value configures whether reliable sessions are enabled."},{"content":"The <ph id=\"ph1\">`ordered`</ph> value configures whether message ordering is preserved.","pos":[3921,3990],"source":" The `ordered` value configures whether message ordering is preserved."},{"content":"The <ph id=\"ph1\">`inactivityTimeout`</ph> value configures how long a session can be idle before being faulted.","pos":[3991,4084],"source":" The `inactivityTimeout` value configures how long a session can be idle before being faulted."},{"content":"On the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md)</ept>, the <ph id=\"ph2\">`mode`</ph> value configures which security mode should be used.","pos":[4091,4264],"source":"On the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md), the `mode` value configures which security mode should be used."},{"content":"In this sample, messages security is being used, which is why the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>message&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/message-of-wshttpbinding.md)</ept> is specified inside the <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>security&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md)</ept>.","pos":[4265,4557],"source":" In this sample, messages security is being used, which is why the [\\<message>](../../../../docs/framework/configure-apps/file-schema/wcf/message-of-wshttpbinding.md) is specified inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md)."},{"content":"When you run the sample, the operation requests and responses are displayed in the client console window.","pos":[4564,4669]},{"content":"Press ENTER in the client window to shut down the client.","pos":[4670,4727]},{"pos":[4911,4947],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[4957,5055],"content":"Install <ph id=\"ph1\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> 4.0 using the following command.","source":"Install [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 4.0 using the following command."},{"pos":[5167,5366],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[5376,5585],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[5595,5803],"content":"To run the sample in a single- or cross-machine configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."}]}