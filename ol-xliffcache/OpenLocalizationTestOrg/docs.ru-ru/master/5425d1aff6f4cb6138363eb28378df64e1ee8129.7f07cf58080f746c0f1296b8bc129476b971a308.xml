{"content":"---\ntitle: \"Cryptographic Agility in WCF Security | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: c2c549e5-ac19-40c5-b686-8f67f52b6dbf\ncaps.latest.revision: 9\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"\n---\n# Cryptographic Agility in WCF Security\nThis sample shows how to specify in a standard/custom algorithm to provide a cryptographic agile implementation in a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] client and service. The sample is composed of the following projects:  \n  \n Service  \n This is a self-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service that implements the `ICalculator` interface and secures the endpoint using the <<!--zz xref:System.ServiceModel.WsHttpBinding --> `xref:System.ServiceModel.WsHttpBinding`> with secure session and reliable session disabled. The service defines a custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security.  \n  \n Client  \n This is a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]client that accesses the service after successful authentication. It invokes the operations exposed by the `ICalculator` interface and implemented by the service. The client also defines the same custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security.  \n  \n### To use this sample  \n  \n1.  Open the CryptoAgility.sln solution in [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)].  \n  \n2.  Press CTRL+SHIFT+B to build the solution.  \n  \n3.  Open [!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)] and navigate to the \\WCF\\Basic\\Security\\CryptoAgility\\Service\\bin directory and run the service.exe file with administrator privileges by right-clicking service.exe and selecting **Run as administrator**.  \n  \n4.  Navigate to \\WCF\\Basic\\Security\\CryptoAgility\\Client\\bin directory and run the client.exe file normally.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Security\\CryptoAgility`  \n  \n## See Also  \n [Security](../../../../docs/framework/wcf/feature-details/security.md)","nodes":[{"pos":[4,368],"embed":true,"restype":"x-metadata","content":"title: \"Cryptographic Agility in WCF Security | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: c2c549e5-ac19-40c5-b686-8f67f52b6dbf\ncaps.latest.revision: 9\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"","nodes":[{"content":"Cryptographic Agility in WCF Security | Microsoft Docs","nodes":[{"pos":[0,54],"content":"Cryptographic Agility in WCF Security | Microsoft Docs","nodes":[{"content":"Cryptographic Agility in WCF Security | Microsoft Docs","pos":[0,54]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[375,412],"content":"Cryptographic Agility in WCF Security","linkify":"Cryptographic Agility in WCF Security","nodes":[{"content":"Cryptographic Agility in WCF Security","pos":[0,37]}]},{"content":"This sample shows how to specify in a standard/custom algorithm to provide a cryptographic agile implementation in a <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> client and service.","pos":[413,605],"source":"This sample shows how to specify in a standard/custom algorithm to provide a cryptographic agile implementation in a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] client and service."},{"content":"The sample is composed of the following projects:","pos":[606,655]},{"content":"Service","pos":[662,669]},{"content":"This is a self-hosted <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service that implements the <ph id=\"ph2\">`ICalculator`</ph> interface and secures the endpoint using the &lt;","pos":[673,839],"source":"This is a self-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service that implements the `ICalculator` interface and secures the endpoint using the <"},{"content":"<ph id=\"ph1\">`xref:System.ServiceModel.WsHttpBinding`</ph>&gt; with secure session and reliable session disabled.","pos":[889,981],"source":"`xref:System.ServiceModel.WsHttpBinding`> with secure session and reliable session disabled."},{"content":"The service defines a custom <ph id=\"ph1\">`SecurityAlgorithmSuite`</ph> class to specify the cryptographic algorithms to be used for message security.","pos":[982,1114],"source":" The service defines a custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security."},{"content":"Client","pos":[1121,1127]},{"content":"This is a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph>client that accesses the service after successful authentication.","pos":[1131,1261],"source":"This is a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]client that accesses the service after successful authentication."},{"content":"It invokes the operations exposed by the <ph id=\"ph1\">`ICalculator`</ph> interface and implemented by the service.","pos":[1262,1358],"source":" It invokes the operations exposed by the `ICalculator` interface and implemented by the service."},{"content":"The client also defines the same custom <ph id=\"ph1\">`SecurityAlgorithmSuite`</ph> class to specify the cryptographic algorithms to be used for message security.","pos":[1359,1502],"source":" The client also defines the same custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security."},{"pos":[1512,1530],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[1540,1651],"content":"Open the CryptoAgility.sln solution in <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph>.","source":"Open the CryptoAgility.sln solution in [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]."},{"content":"Press CTRL+SHIFT+B to build the solution.","pos":[1661,1702]},{"pos":[1712,1987],"content":"Open <ph id=\"ph1\">[!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)]</ph> and navigate to the \\WCF\\Basic\\Security\\CryptoAgility\\Service\\bin directory and run the service.exe file with administrator privileges by right-clicking service.exe and selecting <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept>.","source":"Open [!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)] and navigate to the \\WCF\\Basic\\Security\\CryptoAgility\\Service\\bin directory and run the service.exe file with administrator privileges by right-clicking service.exe and selecting **Run as administrator**."},{"content":"Navigate to \\WCF\\Basic\\Security\\CryptoAgility\\Client\\bin directory and run the client.exe file normally.","pos":[1997,2101]},{"pos":[2109,2241],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2295,2621],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2622,2672]},{"pos":[2757,2765],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[2769,2839],"content":"<bpt id=\"p1\">[</bpt>Security<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/security.md)</ept>","source":"[Security](../../../../docs/framework/wcf/feature-details/security.md)"}]}