{"content":"---\ntitle: \"Transport Security with Basic Authentication\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: b54f491d-196b-4279-876c-76b83ec0442c\n---\n# Transport Security with Basic Authentication\nThe following illustration shows a Windows Communication Foundation (WCF) service and client. The server needs a valid X.509 certificate that can be used for Secure Sockets Layer (SSL), and the clients must trust the server’s certificate. Further, the Web service already has an SSL implementation that can be used. For more information about enabling basic authentication on Internet Information Services (IIS), see [https://go.microsoft.com/fwlink/?LinkId=83822](https://go.microsoft.com/fwlink/?LinkId=83822).  \n  \n ![Screenshot that shows transport security with basic authentication.](./media/transport-security-with-basic-authentication/transport-security-basic-authentication.gif)  \n  \n|Characteristic|Description|  \n|--------------------|-----------------|  \n|Security Mode|Transport|  \n|Interoperability|With existing Web service clients and services|  \n|Authentication (Server)<br /><br /> Authentication (Client)|Yes (using HTTPS)<br /><br /> Yes (through User name/Password)|  \n|Integrity|Yes|  \n|Confidentiality|Yes|  \n|Transport|HTTPS|  \n|Binding|<xref:System.ServiceModel.WSHttpBinding>|  \n  \n## Service  \n The following code and configuration are meant to run independently. Do one of the following:  \n  \n-   Create a stand-alone service using the code with no configuration.  \n  \n-   Create a service using the supplied configuration, but do not define any endpoints.  \n  \n### Code  \n The following code shows how to create a service endpoint that uses a Windows domain user name and password for transfer security. Note that the service requires an X.509 certificate to authenticate to the client. For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md) and [How to: Configure a Port with an SSL Certificate](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md).  \n  \n [!code-csharp[C_SecurityScenarios#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_securityscenarios/cs/source.cs#1)]\n [!code-vb[C_SecurityScenarios#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_securityscenarios/vb/source.vb#1)]  \n  \n## Configuration  \n The following configures a service to use basic authentication with transport-level security:  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"utf-8\"?>  \n<configuration>  \n    <system.serviceModel>  \n        <bindings>  \n            <wsHttpBinding>  \n                <binding name=\"UsernameWithTransport\">  \n                    <security mode=\"Transport\">  \n                        <transport clientCredentialType=\"Basic\" />  \n                    </security>  \n                </binding>  \n            </wsHttpBinding>  \n        </bindings>  \n        <services>  \n            <service name=\"BasicAuthentication.Calculator\">  \n                <endpoint address=\"https://localhost/Calculator\"  \n                          binding=\"wsHttpBinding\"   \n                          bindingConfiguration=\"UsernameWithTransport\"  \n                          name=\"BasicEndpoint\"   \n                          contract=\"BasicAuthentication.ICalculator\" />  \n            </service>  \n        </services>  \n    </system.serviceModel>  \n</configuration>  \n```  \n  \n## Client  \n  \n### Code  \n The following code shows the client code that includes the user name and password. Note that the user must provide a valid Windows user name and password. The code to return the user name and password is not shown here. Use a dialog box or other interface to query the user for the information.  \n  \n> [!NOTE]\n>  User name and password can only be set using code.  \n  \n [!code-csharp[C_SecurityScenarios#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_securityscenarios/cs/source.cs#2)]\n [!code-vb[C_SecurityScenarios#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_securityscenarios/vb/source.vb#2)]  \n  \n### Configuration  \n The following code shows the client configuration.  \n  \n> [!NOTE]\n>  You cannot use configuration to set the user name and password. The configuration shown here must be augmented using code to set the user name and password.  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"utf-8\"?>  \n<configuration>  \n  <system.serviceModel>  \n    <bindings>  \n      <wsHttpBinding>  \n        <binding name=\"WSHttpBinding_ICalculator\" >  \n          <security mode=\"Transport\">  \n            <transport clientCredentialType=\"Basic\" />  \n          </security>  \n        </binding>  \n      </wsHttpBinding>  \n    </bindings>  \n    <client>  \n      <endpoint address=\"https://machineName/Calculator\"   \n                binding=\"wsHttpBinding\"  \n                bindingConfiguration=\"WSHttpBinding_ICalculator\"   \n                contract=\"ICalculator\"  \n                name=\"WSHttpBinding_ICalculator\" />  \n    </client>  \n  </system.serviceModel>  \n</configuration>  \n```  \n  \n## See also\n\n- <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A>\n- <xref:System.ServiceModel.Security.UserNamePasswordClientCredential>\n- [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)\n- [How to: Configure a Port with an SSL Certificate](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md)\n- [Security Overview](../../../../docs/framework/wcf/feature-details/security-overview.md)\n- [\\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)\n- [Security Model for Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)\n","nodes":[{"pos":[4,162],"embed":true,"restype":"x-metadata","content":"title: \"Transport Security with Basic Authentication\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: b54f491d-196b-4279-876c-76b83ec0442c","nodes":[{"content":"Transport Security with Basic Authentication","nodes":[{"pos":[0,44],"content":"Transport Security with Basic Authentication","nodes":[{"content":"Transport Security with Basic Authentication","pos":[0,44]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[169,213],"content":"Transport Security with Basic Authentication","linkify":"Transport Security with Basic Authentication","nodes":[{"content":"Transport Security with Basic Authentication","pos":[0,44]}]},{"content":"The following illustration shows a Windows Communication Foundation (WCF) service and client.","pos":[214,307]},{"content":"The server needs a valid X.509 certificate that can be used for Secure Sockets Layer (SSL), and the clients must trust the server’s certificate.","pos":[308,452]},{"content":"Further, the Web service already has an SSL implementation that can be used.","pos":[453,529]},{"content":"For more information about enabling basic authentication on Internet Information Services (IIS), see <bpt id=\"p1\">[</bpt><ph id=\"ph1\">https://go.microsoft.com/fwlink/?LinkId=83822</ph><ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=83822)</ept>.","pos":[530,726],"source":" For more information about enabling basic authentication on Internet Information Services (IIS), see [https://go.microsoft.com/fwlink/?LinkId=83822](https://go.microsoft.com/fwlink/?LinkId=83822)."},{"content":"Screenshot that shows transport security with basic authentication.","pos":[735,802]},{"content":"Characteristic","pos":[908,922]},{"content":"Description","pos":[923,934]},{"content":"Security Mode","pos":[982,995]},{"content":"Transport","pos":[996,1005]},{"content":"Interoperability","pos":[1010,1026]},{"content":"With existing Web service clients and services","pos":[1027,1073]},{"content":"Authentication (Server)","pos":[1078,1101]},{"content":"Authentication (Client)","pos":[1114,1137]},{"content":"Yes (using HTTPS)","pos":[1138,1155]},{"content":"Yes (through User name/Password)","pos":[1168,1200]},{"content":"Integrity","pos":[1205,1214]},{"content":"Yes","pos":[1215,1218]},{"content":"Confidentiality","pos":[1223,1238]},{"content":"Yes","pos":[1239,1242]},{"content":"Transport","pos":[1247,1256]},{"content":"HTTPS","pos":[1257,1262]},{"content":"Binding","pos":[1267,1274]},{"pos":[1325,1332],"content":"Service","linkify":"Service","nodes":[{"content":"Service","pos":[0,7]}]},{"content":"The following code and configuration are meant to run independently.","pos":[1336,1404]},{"content":"Do one of the following:","pos":[1405,1429]},{"content":"Create a stand-alone service using the code with no configuration.","pos":[1439,1505]},{"content":"Create a service using the supplied configuration, but do not define any endpoints.","pos":[1515,1598]},{"pos":[1608,1612],"content":"Code","linkify":"Code","nodes":[{"content":"Code","pos":[0,4]}]},{"content":"The following code shows how to create a service endpoint that uses a Windows domain user name and password for transfer security.","pos":[1616,1746]},{"content":"Note that the service requires an X.509 certificate to authenticate to the client.","pos":[1747,1829]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept> and <bpt id=\"p2\">[</bpt>How to: Configure a Port with an SSL Certificate<ept id=\"p2\">](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md)</ept>.","pos":[1830,2115],"source":" For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md) and [How to: Configure a Port with an SSL Certificate](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md)."},{"pos":[2384,2397],"content":"Configuration","linkify":"Configuration","nodes":[{"content":"Configuration","pos":[0,13]}]},{"content":"The following configures a service to use basic authentication with transport-level security:","pos":[2401,2494]},{"pos":[3446,3452],"content":"Client","linkify":"Client","nodes":[{"content":"Client","pos":[0,6]}]},{"pos":[3462,3466],"content":"Code","linkify":"Code","nodes":[{"content":"Code","pos":[0,4]}]},{"content":"The following code shows the client code that includes the user name and password.","pos":[3470,3552]},{"content":"Note that the user must provide a valid Windows user name and password.","pos":[3553,3624]},{"content":"The code to return the user name and password is not shown here.","pos":[3625,3689]},{"content":"Use a dialog box or other interface to query the user for the information.","pos":[3690,3764]},{"pos":[3772,3833],"content":"[!NOTE]\n User name and password can only be set using code.","leadings":["","> "],"nodes":[{"content":"User name and password can only be set using code.","pos":[9,59]}]},{"pos":[4103,4116],"content":"Configuration","linkify":"Configuration","nodes":[{"content":"Configuration","pos":[0,13]}]},{"content":"The following code shows the client configuration.","pos":[4120,4170]},{"pos":[4178,4345],"content":"[!NOTE]\n You cannot use configuration to set the user name and password. The configuration shown here must be augmented using code to set the user name and password.","leadings":["","> "],"nodes":[{"content":"You cannot use configuration to set the user name and password. The configuration shown here must be augmented using code to set the user name and password.","pos":[9,165],"nodes":[{"content":"You cannot use configuration to set the user name and password.","pos":[0,63]},{"content":"The configuration shown here must be augmented using code to set the user name and password.","pos":[64,156]}]}]},{"pos":[5079,5087],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5227,5331],"content":"<bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>","source":"[Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)"},{"pos":[5334,5483],"content":"<bpt id=\"p1\">[</bpt>How to: Configure a Port with an SSL Certificate<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md)</ept>","source":"[How to: Configure a Port with an SSL Certificate](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md)"},{"pos":[5486,5574],"content":"<bpt id=\"p1\">[</bpt>Security Overview<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/security-overview.md)</ept>","source":"[Security Overview](../../../../docs/framework/wcf/feature-details/security-overview.md)"},{"pos":[5577,5679],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)</ept>","source":"[\\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)"},{"pos":[5682,5788],"content":"<bpt id=\"p1\">[</bpt>Security Model for Windows Server App Fabric<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkID=201279&amp;clcid=0x409)</ept>","source":"[Security Model for Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)"}]}