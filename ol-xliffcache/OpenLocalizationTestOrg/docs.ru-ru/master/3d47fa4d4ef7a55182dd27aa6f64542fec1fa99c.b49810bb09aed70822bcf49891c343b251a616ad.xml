{"content":"---\ntitle: \"XmlSchemaCollection Schema Compilation\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 76f28770-7126-428f-9ed5-7b5ae8bad5ee\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# XmlSchemaCollection Schema Compilation\nThe **XmlSchemaCollection** is a cache or library where XML-Data Reduced (XDR) and XML Schema definition language (XSD) schemas can be stored and validated. **XmlSchemaCollection** improves performance by caching schemas in memory instead of accessing them from a file or URL.  \n  \n> [!NOTE]\n>  Although the **XmlSchemaCollection** class stores both XDR schemas and XML Schemas, any method and property that takes or returns an **XmlSchema** object supports XML Schemas only.  \n  \n> [!IMPORTANT]\n>  The <xref:System.Xml.Schema.XmlSchemaCollection> class is now obsolete and has been replaced with the <xref:System.Xml.Schema.XmlSchemaSet> class. For more information about the <xref:System.Xml.Schema.XmlSchemaSet> class see, [XmlSchemaSet for Schema Compilation](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md).  \n  \n## Add Schemas to the Collection  \n Schemas are loaded to the collection using the **Add** method of **XmlSchemaCollection**, at which time the schema is associated with a namespace URI. For XML Schemas, the namespace URI will typically be the target namespace for the schema. For XDR schemas, the namespace URI is the namespace specified when the schema was added to the collection.  \n  \n## Check for a Schema in the Collection  \n You can check to see if a schema is in the collection by using the **Contains** method. The **Contains** method takes either an **XmlSchema** object (for XML Schemas only) or a string representing the namespace URI associated with the schema (for XML Schemas and XDR schemas).  \n  \n## Retrieve a Schema from the Collection  \n You can retrieve a schema from the collection by using the **Item** property. The **Item** property takes a string representing the namespace URI associated with the schema, typically its target namespace, and returns an **XmlSchema** object. The **Item** property applies to XML Schemas only. The return value is always a null reference for XDR schemas because they do not have an object model available.  \n  \n## Validate XML Documents Using XmlSchemaCollection  \n You can validate an XML instance document using an **XmlSchemaCollection** by creating the **XmlSchemaCollection** object, adding your schemas to the collection, and setting the **Schemas** property on the **XmlValidatingReader** to assign the created **XmlSchemaCollection** to the **XmlValidatingReader**.  \n  \n### Improved Performance  \n It is recommended, if you are validating more than one document against the same schema, that you use the **XmlSchemaCollection** because it provides better performance by caching schemas in memory.  \n  \n The following code example creates the **XmlSchemaCollection** object, adds schemas to the collection, and sets the **Schemas** property.  \n  \n```vb  \nDim tr as XmlTextReader = new XmlTextReader(\"Books.xml\")  \nDim vr as XmlValidatingReader = new XmlValidatingReader(tr)  \nDim xsc as XmlSchemaCollection = new XmlSchemaCollection  \nxsc.Add(\"urn:bookstore-schema\", \"Books.xsd\")  \nvr.Schemas.Add(xsc)  \n```  \n  \n```csharp  \nXmlTextReader tr = new XmlTextReader(\"Books.xml\");  \nXmlValidatingReader vr = new XmlValidatingReader(tr);  \nXmlSchemaCollection xsc = new XmlSchemaCollection();  \nxsc.Add(\"urn:bookstore-schema\", \"Books.xsd\");    \nvr.Schemas.Add(xsc);  \n```  \n  \n## See also\n\n- [XDR Validation with XmlSchemaCollection](../../../../docs/standard/data/xml/xdr-validation-with-xmlschemacollection.md)\n- [XML Schema (XSD) Validation with XmlSchemaCollection](../../../../docs/standard/data/xml/xml-schema-xsd-validation-with-xmlschemacollection.md)\n","nodes":[{"pos":[4,224],"embed":true,"restype":"x-metadata","content":"title: \"XmlSchemaCollection Schema Compilation\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 76f28770-7126-428f-9ed5-7b5ae8bad5ee\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"XmlSchemaCollection Schema Compilation","nodes":[{"pos":[0,38],"content":"XmlSchemaCollection Schema Compilation","nodes":[{"content":"XmlSchemaCollection Schema Compilation","pos":[0,38]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[231,269],"content":"XmlSchemaCollection Schema Compilation","linkify":"XmlSchemaCollection Schema Compilation","nodes":[{"content":"XmlSchemaCollection Schema Compilation","pos":[0,38]}]},{"content":"The <bpt id=\"p1\">**</bpt>XmlSchemaCollection<ept id=\"p1\">**</ept> is a cache or library where XML-Data Reduced (XDR) and XML Schema definition language (XSD) schemas can be stored and validated.","pos":[270,426],"source":"The **XmlSchemaCollection** is a cache or library where XML-Data Reduced (XDR) and XML Schema definition language (XSD) schemas can be stored and validated."},{"content":"<bpt id=\"p1\">**</bpt>XmlSchemaCollection<ept id=\"p1\">**</ept> improves performance by caching schemas in memory instead of accessing them from a file or URL.","pos":[427,546],"source":"**XmlSchemaCollection** improves performance by caching schemas in memory instead of accessing them from a file or URL."},{"pos":[554,745],"content":"[!NOTE]\n Although the **XmlSchemaCollection** class stores both XDR schemas and XML Schemas, any method and property that takes or returns an **XmlSchema** object supports XML Schemas only.","leadings":["","> "],"nodes":[{"content":"Although the <bpt id=\"p1\">**</bpt>XmlSchemaCollection<ept id=\"p1\">**</ept> class stores both XDR schemas and XML Schemas, any method and property that takes or returns an <bpt id=\"p2\">**</bpt>XmlSchema<ept id=\"p2\">**</ept> object supports XML Schemas only.","pos":[9,189],"source":"Although the **XmlSchemaCollection** class stores both XDR schemas and XML Schemas, any method and property that takes or returns an **XmlSchema** object supports XML Schemas only."}]},{"pos":[753,1109],"content":"[!IMPORTANT]\n The <xref:System.Xml.Schema.XmlSchemaCollection> class is now obsolete and has been replaced with the <xref:System.Xml.Schema.XmlSchemaSet> class. For more information about the <xref:System.Xml.Schema.XmlSchemaSet> class see, [XmlSchemaSet for Schema Compilation](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md).","leadings":["","> "],"nodes":[{"content":"The <xref:System.Xml.Schema.XmlSchemaCollection> class is now obsolete and has been replaced with the <xref:System.Xml.Schema.XmlSchemaSet> class. For more information about the <xref:System.Xml.Schema.XmlSchemaSet> class see, [XmlSchemaSet for Schema Compilation](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md).","pos":[14,354],"nodes":[{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaCollection&gt;</ph> class is now obsolete and has been replaced with the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> class.","pos":[0,146],"source":"The <xref:System.Xml.Schema.XmlSchemaCollection> class is now obsolete and has been replaced with the <xref:System.Xml.Schema.XmlSchemaSet> class."},{"content":"For more information about the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> class see, <bpt id=\"p1\">[</bpt>XmlSchemaSet for Schema Compilation<ept id=\"p1\">](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md)</ept>.","pos":[147,340],"source":" For more information about the <xref:System.Xml.Schema.XmlSchemaSet> class see, [XmlSchemaSet for Schema Compilation](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md)."}]}]},{"pos":[1118,1147],"content":"Add Schemas to the Collection","linkify":"Add Schemas to the Collection","nodes":[{"content":"Add Schemas to the Collection","pos":[0,29]}]},{"content":"Schemas are loaded to the collection using the <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> method of <bpt id=\"p2\">**</bpt>XmlSchemaCollection<ept id=\"p2\">**</ept>, at which time the schema is associated with a namespace URI.","pos":[1151,1301],"source":"Schemas are loaded to the collection using the **Add** method of **XmlSchemaCollection**, at which time the schema is associated with a namespace URI."},{"content":"For XML Schemas, the namespace URI will typically be the target namespace for the schema.","pos":[1302,1391]},{"content":"For XDR schemas, the namespace URI is the namespace specified when the schema was added to the collection.","pos":[1392,1498]},{"pos":[1507,1543],"content":"Check for a Schema in the Collection","linkify":"Check for a Schema in the Collection","nodes":[{"content":"Check for a Schema in the Collection","pos":[0,36]}]},{"content":"You can check to see if a schema is in the collection by using the <bpt id=\"p1\">**</bpt>Contains<ept id=\"p1\">**</ept> method.","pos":[1547,1634],"source":"You can check to see if a schema is in the collection by using the **Contains** method."},{"content":"The <bpt id=\"p1\">**</bpt>Contains<ept id=\"p1\">**</ept> method takes either an <bpt id=\"p2\">**</bpt>XmlSchema<ept id=\"p2\">**</ept> object (for XML Schemas only) or a string representing the namespace URI associated with the schema (for XML Schemas and XDR schemas).","pos":[1635,1823],"source":" The **Contains** method takes either an **XmlSchema** object (for XML Schemas only) or a string representing the namespace URI associated with the schema (for XML Schemas and XDR schemas)."},{"pos":[1832,1869],"content":"Retrieve a Schema from the Collection","linkify":"Retrieve a Schema from the Collection","nodes":[{"content":"Retrieve a Schema from the Collection","pos":[0,37]}]},{"content":"You can retrieve a schema from the collection by using the <bpt id=\"p1\">**</bpt>Item<ept id=\"p1\">**</ept> property.","pos":[1873,1950],"source":"You can retrieve a schema from the collection by using the **Item** property."},{"content":"The <bpt id=\"p1\">**</bpt>Item<ept id=\"p1\">**</ept> property takes a string representing the namespace URI associated with the schema, typically its target namespace, and returns an <bpt id=\"p2\">**</bpt>XmlSchema<ept id=\"p2\">**</ept> object.","pos":[1951,2115],"source":" The **Item** property takes a string representing the namespace URI associated with the schema, typically its target namespace, and returns an **XmlSchema** object."},{"content":"The <bpt id=\"p1\">**</bpt>Item<ept id=\"p1\">**</ept> property applies to XML Schemas only.","pos":[2116,2166],"source":" The **Item** property applies to XML Schemas only."},{"content":"The return value is always a null reference for XDR schemas because they do not have an object model available.","pos":[2167,2278]},{"pos":[2287,2335],"content":"Validate XML Documents Using XmlSchemaCollection","linkify":"Validate XML Documents Using XmlSchemaCollection","nodes":[{"content":"Validate XML Documents Using XmlSchemaCollection","pos":[0,48]}]},{"pos":[2339,2646],"content":"You can validate an XML instance document using an <bpt id=\"p1\">**</bpt>XmlSchemaCollection<ept id=\"p1\">**</ept> by creating the <bpt id=\"p2\">**</bpt>XmlSchemaCollection<ept id=\"p2\">**</ept> object, adding your schemas to the collection, and setting the <bpt id=\"p3\">**</bpt>Schemas<ept id=\"p3\">**</ept> property on the <bpt id=\"p4\">**</bpt>XmlValidatingReader<ept id=\"p4\">**</ept> to assign the created <bpt id=\"p5\">**</bpt>XmlSchemaCollection<ept id=\"p5\">**</ept> to the <bpt id=\"p6\">**</bpt>XmlValidatingReader<ept id=\"p6\">**</ept>.","source":"You can validate an XML instance document using an **XmlSchemaCollection** by creating the **XmlSchemaCollection** object, adding your schemas to the collection, and setting the **Schemas** property on the **XmlValidatingReader** to assign the created **XmlSchemaCollection** to the **XmlValidatingReader**."},{"pos":[2656,2676],"content":"Improved Performance","linkify":"Improved Performance","nodes":[{"content":"Improved Performance","pos":[0,20]}]},{"pos":[2680,2878],"content":"It is recommended, if you are validating more than one document against the same schema, that you use the <bpt id=\"p1\">**</bpt>XmlSchemaCollection<ept id=\"p1\">**</ept> because it provides better performance by caching schemas in memory.","source":"It is recommended, if you are validating more than one document against the same schema, that you use the **XmlSchemaCollection** because it provides better performance by caching schemas in memory."},{"pos":[2885,3022],"content":"The following code example creates the <bpt id=\"p1\">**</bpt>XmlSchemaCollection<ept id=\"p1\">**</ept> object, adds schemas to the collection, and sets the <bpt id=\"p2\">**</bpt>Schemas<ept id=\"p2\">**</ept> property.","source":"The following code example creates the **XmlSchemaCollection** object, adds schemas to the collection, and sets the **Schemas** property."},{"pos":[3555,3563],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3567,3687],"content":"<bpt id=\"p1\">[</bpt>XDR Validation with XmlSchemaCollection<ept id=\"p1\">](../../../../docs/standard/data/xml/xdr-validation-with-xmlschemacollection.md)</ept>","source":"[XDR Validation with XmlSchemaCollection](../../../../docs/standard/data/xml/xdr-validation-with-xmlschemacollection.md)"},{"pos":[3690,3834],"content":"<bpt id=\"p1\">[</bpt>XML Schema (XSD) Validation with XmlSchemaCollection<ept id=\"p1\">](../../../../docs/standard/data/xml/xml-schema-xsd-validation-with-xmlschemacollection.md)</ept>","source":"[XML Schema (XSD) Validation with XmlSchemaCollection](../../../../docs/standard/data/xml/xml-schema-xsd-validation-with-xmlschemacollection.md)"}]}