{"content":"---\ntitle: \"Compiler Error CS1540\"\nms.date: 07/20/2015\nf1_keywords: \n  - \"CS1540\"\nhelpviewer_keywords: \n  - \"CS1540\"\nms.assetid: f35bbeb9-e2b2-4644-a7e6-cc2dbce1bd44\n---\n# Compiler Error CS1540\nCannot access protected member 'member' via a qualifier of type 'type1'; the qualifier must be of type 'type2' (or derived from it)  \n  \n A derived [class](../../../csharp/language-reference/keywords/class.md) cannot access protected members of its base class through an instance of the base class. An instance of the base class declared in the derived class might, at run time, be an instance of another type that is derived from the same base but is not otherwise related to the derived class. Because protected members can be accessed only by derived types, any attempts to access protected members that might not be valid at run time are marked by the compiler as not valid.  \n  \n In the `Employee` class in the following example, `emp2` and `emp3` both have type `Person` at compile time, but `emp2` has type `Manager` at run time. Because `Employee` is not derived from `Manager`, it cannot access the protected members of the base class, `Person`, through an instance of the `Manager` class. The compiler cannot determine what the run-time type of the two `Person` objects will be. Therefore, both the call from `emp2` and the call from `emp3` cause compiler error CS1540.  \n  \n```csharp  \nusing System;  \nusing System.Text;  \n  \nnamespace CS1540  \n{  \n    class Program1  \n    {  \n        static void Main()  \n        {  \n            Employee.PreparePayroll();  \n        }  \n    }  \n  \n    class Person  \n    {  \n        protected virtual void CalculatePay()   \n        {  \n            Console.WriteLine(\"CalculatePay in Person class.\");  \n        }  \n    }  \n  \n    class Manager : Person  \n    {  \n        protected override void CalculatePay()   \n        {  \n            Console.WriteLine(\"CalculatePay in Manager class.\");   \n  \n        }  \n    }  \n  \n    class Employee : Person  \n    {  \n        public static void PreparePayroll()  \n        {  \n            Employee emp1 = new Employee();  \n            Person emp2 = new Manager();  \n            Person emp3 = new Employee();  \n            // The following line calls the method in the Employee base class,  \n            // Person.  \n            emp1.CalculatePay();   \n  \n            // The following lines cause compiler error CS1540. The compiler   \n            // cannot determine at compile time what the run-time types of   \n            // emp2 and emp3 will be.  \n            //emp2.CalculatePay();   \n            //emp3.CalculatePay();  \n  \n        }  \n    }  \n}  \n```  \n  \n## See also\n\n- [Inheritance](../../../csharp/programming-guide/classes-and-structs/inheritance.md)\n- [Polymorphism](../../../csharp/programming-guide/classes-and-structs/polymorphism.md)\n- [Access Modifiers](../../../csharp/programming-guide/classes-and-structs/access-modifiers.md)\n- [Abstract and Sealed Classes and Class Members](../../../csharp/programming-guide/classes-and-structs/abstract-and-sealed-classes-and-class-members.md)\n","nodes":[{"pos":[4,165],"embed":true,"restype":"x-metadata","content":"title: \"Compiler Error CS1540\"\nms.date: 07/20/2015\nf1_keywords: \n  - \"CS1540\"\nhelpviewer_keywords: \n  - \"CS1540\"\nms.assetid: f35bbeb9-e2b2-4644-a7e6-cc2dbce1bd44","nodes":[{"content":"Compiler Error CS1540","nodes":[{"pos":[0,21],"content":"Compiler Error CS1540","nodes":[{"content":"Compiler Error CS1540","pos":[0,21]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[172,193],"content":"Compiler Error CS1540","linkify":"Compiler Error CS1540","nodes":[{"content":"Compiler Error CS1540","pos":[0,21]}]},{"content":"Cannot access protected member 'member' via a qualifier of type 'type1'; the qualifier must be of type 'type2' (or derived from it)","pos":[194,325]},{"content":"A derived <bpt id=\"p1\">[</bpt>class<ept id=\"p1\">](../../../csharp/language-reference/keywords/class.md)</ept> cannot access protected members of its base class through an instance of the base class.","pos":[332,492],"source":"A derived [class](../../../csharp/language-reference/keywords/class.md) cannot access protected members of its base class through an instance of the base class."},{"content":"An instance of the base class declared in the derived class might, at run time, be an instance of another type that is derived from the same base but is not otherwise related to the derived class.","pos":[493,689]},{"content":"Because protected members can be accessed only by derived types, any attempts to access protected members that might not be valid at run time are marked by the compiler as not valid.","pos":[690,872]},{"content":"In the <ph id=\"ph1\">`Employee`</ph> class in the following example, <ph id=\"ph2\">`emp2`</ph> and <ph id=\"ph3\">`emp3`</ph> both have type <ph id=\"ph4\">`Person`</ph> at compile time, but <ph id=\"ph5\">`emp2`</ph> has type <ph id=\"ph6\">`Manager`</ph> at run time.","pos":[879,1030],"source":"In the `Employee` class in the following example, `emp2` and `emp3` both have type `Person` at compile time, but `emp2` has type `Manager` at run time."},{"content":"Because <ph id=\"ph1\">`Employee`</ph> is not derived from <ph id=\"ph2\">`Manager`</ph>, it cannot access the protected members of the base class, <ph id=\"ph3\">`Person`</ph>, through an instance of the <ph id=\"ph4\">`Manager`</ph> class.","pos":[1031,1192],"source":" Because `Employee` is not derived from `Manager`, it cannot access the protected members of the base class, `Person`, through an instance of the `Manager` class."},{"content":"The compiler cannot determine what the run-time type of the two <ph id=\"ph1\">`Person`</ph> objects will be.","pos":[1193,1282],"source":" The compiler cannot determine what the run-time type of the two `Person` objects will be."},{"content":"Therefore, both the call from <ph id=\"ph1\">`emp2`</ph> and the call from <ph id=\"ph2\">`emp3`</ph> cause compiler error CS1540.","pos":[1283,1373],"source":" Therefore, both the call from `emp2` and the call from `emp3` cause compiler error CS1540."},{"pos":[2644,2652],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2656,2739],"content":"<bpt id=\"p1\">[</bpt>Inheritance<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/inheritance.md)</ept>","source":"[Inheritance](../../../csharp/programming-guide/classes-and-structs/inheritance.md)"},{"pos":[2742,2827],"content":"<bpt id=\"p1\">[</bpt>Polymorphism<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/polymorphism.md)</ept>","source":"[Polymorphism](../../../csharp/programming-guide/classes-and-structs/polymorphism.md)"},{"pos":[2830,2923],"content":"<bpt id=\"p1\">[</bpt>Access Modifiers<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/access-modifiers.md)</ept>","source":"[Access Modifiers](../../../csharp/programming-guide/classes-and-structs/access-modifiers.md)"},{"pos":[2926,3077],"content":"<bpt id=\"p1\">[</bpt>Abstract and Sealed Classes and Class Members<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/abstract-and-sealed-classes-and-class-members.md)</ept>","source":"[Abstract and Sealed Classes and Class Members](../../../csharp/programming-guide/classes-and-structs/abstract-and-sealed-classes-and-class-members.md)"}]}