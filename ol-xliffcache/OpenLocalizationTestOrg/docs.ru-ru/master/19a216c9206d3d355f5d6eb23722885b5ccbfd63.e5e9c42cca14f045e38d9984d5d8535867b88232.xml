{"content":"---\ntitle: \"How to: Sign XML Documents with Digital Signatures | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"signatures, XML signing\"\n  - \"System.Security.Cryptography.SignedXml class\"\n  - \"digital signatures, XML signing\"\n  - \"System.Security.Cryptography.RSACryptoServiceProvider class\"\n  - \"XML digital signatures\"\n  - \"XML signing\"\n  - \"signing XML\"\nms.assetid: 99692ac1-d8c9-42d7-b1bf-2737b01037e4\ncaps.latest.revision: 13\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# How to: Sign XML Documents with Digital Signatures\nYou can use the classes in the <xref:System.Security.Cryptography.Xml> namespace to sign an XML document or part of an XML document with a digital signature.  XML digital signatures (XMLDSIG) allow you to verify that data was not altered after it was signed.  For more information about the XMLDSIG standard, see the World Wide Web Consortium (W3C) recommendation [XML Signature Syntax and Processing](http://go.microsoft.com/fwlink/?LinkID=136777).  \n  \n The code example in this procedure demonstrates how to digitally sign an entire XML document and attach the signature to the document in a <`Signature`> element.  The example creates an RSA signing key, adds the key to a secure key container, and then uses the key to digitally sign an XML document.  The key can then be retrieved to verify the XML digital signature, or can be used to sign another XML document.  \n  \n For information about how to verify an XML digital signature that was created using this procedure, see [How to: Verify the Digital Signatures of XML Documents](../../../docs/standard/security/how-to-verify-the-digital-signatures-of-xml-documents.md).  \n  \n### To digitally sign an XML document  \n  \n1.  Create a <xref:System.Security.Cryptography.CspParameters> object and specify the name of the key container.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#2](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#2)]\n     [!code-vb[HowToSignXMLDocumentRSA#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#2)]  \n  \n2.  Generate an asymmetric key using the <xref:System.Security.Cryptography.RSACryptoServiceProvider> class.  The key is automatically saved to the key container when you pass the <xref:System.Security.Cryptography.CspParameters> object to the constructor of the <xref:System.Security.Cryptography.RSACryptoServiceProvider> class.  This key will be used to sign the XML document.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#3](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#3)]\n     [!code-vb[HowToSignXMLDocumentRSA#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#3)]  \n  \n3.  Create an <xref:System.Xml.XmlDocument> object by loading an XML file from disk.  The <xref:System.Xml.XmlDocument> object contains the XML element to encrypt.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#4](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#4)]\n     [!code-vb[HowToSignXMLDocumentRSA#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#4)]  \n  \n4.  Create a new <xref:System.Security.Cryptography.Xml.SignedXml> object and pass the <xref:System.Xml.XmlDocument> object to it.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#5](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#5)]\n     [!code-vb[HowToSignXMLDocumentRSA#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#5)]  \n  \n5.  Add the signing RSA key to the <xref:System.Security.Cryptography.Xml.SignedXml> object.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#6](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#6)]\n     [!code-vb[HowToSignXMLDocumentRSA#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#6)]  \n  \n6.  Create a <xref:System.Security.Cryptography.Xml.Reference> object that describes what to sign.  To sign the entire document, set the <xref:System.Security.Cryptography.Xml.Reference.Uri%2A> property to `\"\"`.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#7](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#7)]\n     [!code-vb[HowToSignXMLDocumentRSA#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#7)]  \n  \n7.  Add an <xref:System.Security.Cryptography.Xml.XmlDsigEnvelopedSignatureTransform> object to the <xref:System.Security.Cryptography.Xml.Reference> object.  A transformation allows the verifier to represent the XML data in the identical manner that the signer used.  XML data can be represented in different ways, so this step is vital to verification.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#8](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#8)]\n     [!code-vb[HowToSignXMLDocumentRSA#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#8)]  \n  \n8.  Add the <xref:System.Security.Cryptography.Xml.Reference> object to the <xref:System.Security.Cryptography.Xml.SignedXml> object.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#9](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#9)]\n     [!code-vb[HowToSignXMLDocumentRSA#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#9)]  \n  \n9. Compute the signature by calling the <xref:System.Security.Cryptography.Xml.SignedXml.ComputeSignature%2A> method.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#10](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#10)]\n     [!code-vb[HowToSignXMLDocumentRSA#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#10)]  \n  \n10. Retrieve the XML representation of the signature (a <`Signature`> element) and save it to a new <xref:System.Xml.XmlElement> object.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#11](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#11)]\n     [!code-vb[HowToSignXMLDocumentRSA#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#11)]  \n  \n11. Append the element to the <xref:System.Xml.XmlDocument> object.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#12](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#12)]\n     [!code-vb[HowToSignXMLDocumentRSA#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#12)]  \n  \n12. Save the document.  \n  \n     [!code-csharp[HowToSignXMLDocumentRSA#13](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#13)]\n     [!code-vb[HowToSignXMLDocumentRSA#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#13)]  \n  \n## Example  \n This example assumes that a file named `test.xml` exists in the same directory as the compiled program.  You can place the following XML into a file called `test.xml` and use it with this example.  \n  \n```  \n<root>  \n    <creditcard>  \n        <number>19834209</number>  \n        <expiry>02/02/2002</expiry>  \n    </creditcard>  \n</root>  \n```  \n  \n [!code-csharp[HowToSignXMLDocumentRSA#1](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#1)]\n [!code-vb[HowToSignXMLDocumentRSA#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#1)]  \n  \n## Compiling the Code  \n  \n-   To compile this example, you need to include a reference to `System.Security.dll`.  \n  \n-   Include the following namespaces: <xref:System.Xml>, <xref:System.Security.Cryptography>, and <xref:System.Security.Cryptography.Xml>.  \n  \n## .NET Framework Security  \n Never store or transfer the private key of an asymmetric key pair in plaintext.  For more information about symmetric and asymmetric cryptographic keys, see [Generating Keys for Encryption and Decryption](../../../docs/standard/security/generating-keys-for-encryption-and-decryption.md).  \n  \n Never embed a private key directly into your source code.  Embedded keys can be easily read from an assembly using the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) or by opening the assembly in a text editor such as Notepad.  \n  \n## See Also  \n <xref:System.Security.Cryptography.Xml>   \n [How to: Verify the Digital Signatures of XML Documents](../../../docs/standard/security/how-to-verify-the-digital-signatures-of-xml-documents.md)","nodes":[{"pos":[12,79],"content":"How to: Sign XML Documents with Digital Signatures | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Sign XML Documents with Digital Signatures | Microsoft Docs","pos":[0,67]}]},{"pos":[697,747],"content":"How to: Sign XML Documents with Digital Signatures","linkify":"How to: Sign XML Documents with Digital Signatures","nodes":[{"content":"How to: Sign XML Documents with Digital Signatures","pos":[0,50]}]},{"content":"You can use the classes in the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml&gt;</ph> namespace to sign an XML document or part of an XML document with a digital signature.","pos":[748,905],"source":"You can use the classes in the <xref:System.Security.Cryptography.Xml> namespace to sign an XML document or part of an XML document with a digital signature."},{"content":"XML digital signatures (XMLDSIG) allow you to verify that data was not altered after it was signed.","pos":[907,1006]},{"content":"For more information about the XMLDSIG standard, see the World Wide Web Consortium (W3C) recommendation <bpt id=\"p1\">[</bpt>XML Signature Syntax and Processing<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=136777)</ept>.","pos":[1008,1197],"source":"  For more information about the XMLDSIG standard, see the World Wide Web Consortium (W3C) recommendation [XML Signature Syntax and Processing](http://go.microsoft.com/fwlink/?LinkID=136777)."},{"content":"The code example in this procedure demonstrates how to digitally sign an entire XML document and attach the signature to the document in a &lt;<ph id=\"ph1\">`Signature`</ph>&gt; element.","pos":[1204,1365],"source":"The code example in this procedure demonstrates how to digitally sign an entire XML document and attach the signature to the document in a <`Signature`> element."},{"content":"The example creates an RSA signing key, adds the key to a secure key container, and then uses the key to digitally sign an XML document.","pos":[1367,1503]},{"content":"The key can then be retrieved to verify the XML digital signature, or can be used to sign another XML document.","pos":[1505,1616]},{"pos":[1623,1874],"content":"For information about how to verify an XML digital signature that was created using this procedure, see <bpt id=\"p1\">[</bpt>How to: Verify the Digital Signatures of XML Documents<ept id=\"p1\">](../../../docs/standard/security/how-to-verify-the-digital-signatures-of-xml-documents.md)</ept>.","source":"For information about how to verify an XML digital signature that was created using this procedure, see [How to: Verify the Digital Signatures of XML Documents](../../../docs/standard/security/how-to-verify-the-digital-signatures-of-xml-documents.md)."},{"pos":[1884,1917],"content":"To digitally sign an XML document","linkify":"To digitally sign an XML document","nodes":[{"content":"To digitally sign an XML document","pos":[0,33]}]},{"content":"Create a <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.CspParameters&gt;</ph> object and specify the name of the key container.","pos":[1927,2035],"source":"Create a <xref:System.Security.Cryptography.CspParameters> object and specify the name of the key container."},{"pos":[2046,2313],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#2<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#2)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#2<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#2)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#2](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#2)]\n [!code-vb[HowToSignXMLDocumentRSA#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#2)]"},{"content":"Generate an asymmetric key using the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.RSACryptoServiceProvider&gt;</ph> class.","pos":[2323,2427],"source":"Generate an asymmetric key using the <xref:System.Security.Cryptography.RSACryptoServiceProvider> class."},{"content":"The key is automatically saved to the key container when you pass the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.CspParameters&gt;</ph> object to the constructor of the <ph id=\"ph2\">&lt;xref:System.Security.Cryptography.RSACryptoServiceProvider&gt;</ph> class.","pos":[2429,2649],"source":"  The key is automatically saved to the key container when you pass the <xref:System.Security.Cryptography.CspParameters> object to the constructor of the <xref:System.Security.Cryptography.RSACryptoServiceProvider> class."},{"content":"This key will be used to sign the XML document.","pos":[2651,2698]},{"pos":[2709,2976],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#3<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#3)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#3<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#3)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#3](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#3)]\n [!code-vb[HowToSignXMLDocumentRSA#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#3)]"},{"content":"Create an <ph id=\"ph1\">&lt;xref:System.Xml.XmlDocument&gt;</ph> object by loading an XML file from disk.","pos":[2986,3066],"source":"Create an <xref:System.Xml.XmlDocument> object by loading an XML file from disk."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.XmlDocument&gt;</ph> object contains the XML element to encrypt.","pos":[3068,3145],"source":"  The <xref:System.Xml.XmlDocument> object contains the XML element to encrypt."},{"pos":[3156,3423],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#4<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#4)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#4<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#4)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#4](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#4)]\n [!code-vb[HowToSignXMLDocumentRSA#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#4)]"},{"content":"Create a new <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml.SignedXml&gt;</ph> object and pass the <ph id=\"ph2\">&lt;xref:System.Xml.XmlDocument&gt;</ph> object to it.","pos":[3433,3559],"source":"Create a new <xref:System.Security.Cryptography.Xml.SignedXml> object and pass the <xref:System.Xml.XmlDocument> object to it."},{"pos":[3570,3837],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#5<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#5)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#5<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#5)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#5](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#5)]\n [!code-vb[HowToSignXMLDocumentRSA#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#5)]"},{"content":"Add the signing RSA key to the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml.SignedXml&gt;</ph> object.","pos":[3847,3935],"source":"Add the signing RSA key to the <xref:System.Security.Cryptography.Xml.SignedXml> object."},{"pos":[3946,4213],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#6<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#6)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#6<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#6)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#6](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#6)]\n [!code-vb[HowToSignXMLDocumentRSA#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#6)]"},{"content":"Create a <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml.Reference&gt;</ph> object that describes what to sign.","pos":[4223,4317],"source":"Create a <xref:System.Security.Cryptography.Xml.Reference> object that describes what to sign."},{"content":"To sign the entire document, set the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml.Reference.Uri%2A&gt;</ph> property to <ph id=\"ph2\">`\"\"`</ph>.","pos":[4319,4430],"source":"  To sign the entire document, set the <xref:System.Security.Cryptography.Xml.Reference.Uri%2A> property to `\"\"`."},{"pos":[4441,4708],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#7<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#7)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#7<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#7)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#7](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#7)]\n [!code-vb[HowToSignXMLDocumentRSA#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#7)]"},{"content":"Add an <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml.XmlDsigEnvelopedSignatureTransform&gt;</ph> object to the <ph id=\"ph2\">&lt;xref:System.Security.Cryptography.Xml.Reference&gt;</ph> object.","pos":[4718,4871],"source":"Add an <xref:System.Security.Cryptography.Xml.XmlDsigEnvelopedSignatureTransform> object to the <xref:System.Security.Cryptography.Xml.Reference> object."},{"content":"A transformation allows the verifier to represent the XML data in the identical manner that the signer used.","pos":[4873,4981]},{"content":"XML data can be represented in different ways, so this step is vital to verification.","pos":[4983,5068]},{"pos":[5079,5346],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#8<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#8)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#8<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#8)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#8](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#8)]\n [!code-vb[HowToSignXMLDocumentRSA#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#8)]"},{"content":"Add the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml.Reference&gt;</ph> object to the <ph id=\"ph2\">&lt;xref:System.Security.Cryptography.Xml.SignedXml&gt;</ph> object.","pos":[5356,5485],"source":"Add the <xref:System.Security.Cryptography.Xml.Reference> object to the <xref:System.Security.Cryptography.Xml.SignedXml> object."},{"pos":[5496,5763],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#9<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#9)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#9<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#9)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#9](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#9)]\n [!code-vb[HowToSignXMLDocumentRSA#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#9)]"},{"content":"Compute the signature by calling the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml.SignedXml.ComputeSignature%2A&gt;</ph> method.","pos":[5772,5886],"source":"Compute the signature by calling the <xref:System.Security.Cryptography.Xml.SignedXml.ComputeSignature%2A> method."},{"pos":[5897,6168],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#10<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#10)</ept><ept id=\"p1\">]</ept>   <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#10<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#10)</ept><ept id=\"p3\">]</ept>","leadings":["","   "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#10](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#10)]\n  [!code-vb[HowToSignXMLDocumentRSA#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#10)]"},{"pos":[6178,6310],"content":"Retrieve the XML representation of the signature (a &lt;<ph id=\"ph1\">`Signature`</ph>&gt; element) and save it to a new <ph id=\"ph2\">&lt;xref:System.Xml.XmlElement&gt;</ph> object.","source":"Retrieve the XML representation of the signature (a <`Signature`> element) and save it to a new <xref:System.Xml.XmlElement> object."},{"pos":[6321,6592],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#11<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#11)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#11<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#11)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#11](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#11)]\n [!code-vb[HowToSignXMLDocumentRSA#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#11)]"},{"content":"Append the element to the <ph id=\"ph1\">&lt;xref:System.Xml.XmlDocument&gt;</ph> object.","pos":[6602,6665],"source":"Append the element to the <xref:System.Xml.XmlDocument> object."},{"pos":[6676,6947],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#12<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#12)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#12<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#12)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#12](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#12)]\n [!code-vb[HowToSignXMLDocumentRSA#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#12)]"},{"content":"Save the document.","pos":[6957,6975]},{"pos":[6986,7257],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#13<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#13)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#13<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#13)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[HowToSignXMLDocumentRSA#13](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#13)]\n [!code-vb[HowToSignXMLDocumentRSA#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#13)]"},{"pos":[7266,7273],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"This example assumes that a file named <ph id=\"ph1\">`test.xml`</ph> exists in the same directory as the compiled program.","pos":[7277,7380],"source":"This example assumes that a file named `test.xml` exists in the same directory as the compiled program."},{"content":"You can place the following XML into a file called <ph id=\"ph1\">`test.xml`</ph> and use it with this example.","pos":[7382,7473],"source":"  You can place the following XML into a file called `test.xml` and use it with this example."},{"pos":[7627,7890],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>HowToSignXMLDocumentRSA#1<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#1)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>HowToSignXMLDocumentRSA#1<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#1)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[HowToSignXMLDocumentRSA#1](../../../samples/snippets/csharp/VS_Snippets_CLR/HowToSignXMLDocumentRSA/cs/sample.cs#1)]\n [!code-vb[HowToSignXMLDocumentRSA#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/HowToSignXMLDocumentRSA/vb/sample.vb#1)]"},{"pos":[7899,7917],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"pos":[7927,8009],"content":"To compile this example, you need to include a reference to <ph id=\"ph1\">`System.Security.dll`</ph>.","source":"To compile this example, you need to include a reference to `System.Security.dll`."},{"content":"Include the following namespaces: <ph id=\"ph1\">&lt;xref:System.Xml&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Security.Cryptography&gt;</ph>, and <ph id=\"ph3\">&lt;xref:System.Security.Cryptography.Xml&gt;</ph>.","pos":[8019,8153],"source":"Include the following namespaces: <xref:System.Xml>, <xref:System.Security.Cryptography>, and <xref:System.Security.Cryptography.Xml>."},{"pos":[8162,8185],"content":".NET Framework Security","linkify":".NET Framework Security","nodes":[{"content":".NET Framework Security","pos":[0,23]}]},{"content":"Never store or transfer the private key of an asymmetric key pair in plaintext.","pos":[8189,8268]},{"content":"For more information about symmetric and asymmetric cryptographic keys, see <bpt id=\"p1\">[</bpt>Generating Keys for Encryption and Decryption<ept id=\"p1\">](../../../docs/standard/security/generating-keys-for-encryption-and-decryption.md)</ept>.","pos":[8270,8476],"source":"  For more information about symmetric and asymmetric cryptographic keys, see [Generating Keys for Encryption and Decryption](../../../docs/standard/security/generating-keys-for-encryption-and-decryption.md)."},{"content":"Never embed a private key directly into your source code.","pos":[8483,8540]},{"content":"Embedded keys can be easily read from an assembly using the <bpt id=\"p1\">[</bpt>Ildasm.exe (IL Disassembler)<ept id=\"p1\">](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)</ept> or by opening the assembly in a text editor such as Notepad.","pos":[8542,8754],"source":"  Embedded keys can be easily read from an assembly using the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) or by opening the assembly in a text editor such as Notepad."},{"pos":[8763,8771],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Security.Cryptography.Xml&gt;</ph>","pos":[8775,8814],"source":"<xref:System.Security.Cryptography.Xml> "},{"content":"<bpt id=\"p1\"> [</bpt>How to: Verify the Digital Signatures of XML Documents<ept id=\"p1\">](../../../docs/standard/security/how-to-verify-the-digital-signatures-of-xml-documents.md)</ept>","pos":[8818,8965],"source":" [How to: Verify the Digital Signatures of XML Documents](../../../docs/standard/security/how-to-verify-the-digital-signatures-of-xml-documents.md)"}]}