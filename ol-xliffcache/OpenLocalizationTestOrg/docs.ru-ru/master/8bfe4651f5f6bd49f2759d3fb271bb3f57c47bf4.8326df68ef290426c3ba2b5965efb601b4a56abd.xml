{"content":"---\ntitle: \"ICorProfilerInfo3::GetThreadStaticAddress2 Method | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\napi_name: \n  - \"ICorProfilerInfo3.GetThreadStaticAddress2 Method\"\napi_location: \n  - \"Mscorwks.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICorProfilerInfo3::GetThreadStaticAddress2\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"ICorProfilerInfo3::GetThreadStaticAddress2 method [.NET Framework profiling]\"\n  - \"GetThreadStaticAddress2 method [.NET Framework profiling]\"\nms.assetid: a9608861-ae64-4467-8a73-be05ad34beac\ntopic_type: \n  - \"apiref\"\ncaps.latest.revision: 12\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# ICorProfilerInfo3::GetThreadStaticAddress2 Method\nGets the address of the specified thread-static field that is in the scope of the specified thread and application domain.  \n  \n## Syntax  \n  \n```  \nHRESULT GetThreadStaticAddress2(  \n                [in] ClassID classId,  \n                [in] mdFieldDef fieldToken,  \n                [in] AppDomainID appDomainId,  \n                [in] ThreadID threadId,  \n                [out] void **ppAddress);  \n```  \n  \n#### Parameters  \n `classId`  \n [in] The ID of the class that contains the requested thread-static field.  \n  \n `fieldToken`  \n [in] The metadata token for the requested thread-static field.  \n  \n `appDomainId`  \n [in] The ID of the application domain.  \n  \n `threadId`  \n [in] The ID of the thread that is the scope for the requested static field.  \n  \n `ppAddress`  \n [out] A pointer to the address of the static field that is within the specified thread.  \n  \n## Remarks  \n The `GetThreadStaticAddress2` method may return one of the following:  \n  \n-   A CORPROF_E_DATAINCOMPLETE HRESULT if the given static field has not been assigned an address in the specified context.  \n  \n-   The addresses of objects that may be in the garbage collection heap. These addresses may become invalid after garbage collection, so after garbage collection, profilers should not assume that they are valid.  \n  \n Before a class’s class constructor is completed, `GetThreadStaticAddress2` will return CORPROF_E_DATAINCOMPLETE for all its static fields, although some of the static fields may already be initialized and rooting garbage collection objects.  \n  \n The [ICorProfilerInfo2::GetThreadStaticAddress](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-getthreadstaticaddress-method.md) method is similar to the `GetThreadStaticAddress2` method, but does not accept an application domain argument.  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** CorProf.idl, CorProf.h  \n  \n **Library:** CorGuids.lib  \n  \n **.NET Framework Versions:** [!INCLUDE[net_current_v40plus](../../../../includes/net-current-v40plus-md.md)]  \n  \n## See Also  \n [ICorProfilerInfo3 Interface](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo3-interface.md)   \n [Profiling Interfaces](../../../../docs/framework/unmanaged-api/profiling/profiling-interfaces.md)   \n [Profiling](../../../../docs/framework/unmanaged-api/profiling/index.md)","nodes":[{"pos":[12,78],"content":"ICorProfilerInfo3::GetThreadStaticAddress2 Method | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"ICorProfilerInfo3::GetThreadStaticAddress2 Method | Microsoft Docs","pos":[0,66]}]},{"pos":[782,831],"content":"ICorProfilerInfo3::GetThreadStaticAddress2 Method","linkify":"ICorProfilerInfo3::GetThreadStaticAddress2 Method","nodes":[{"content":"ICorProfilerInfo3::GetThreadStaticAddress2 Method","pos":[0,49]}]},{"content":"Gets the address of the specified thread-static field that is in the scope of the specified thread and application domain.","pos":[832,954]},{"pos":[963,969],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1249,1259],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] The ID of the class that contains the requested thread-static field.","pos":[1276,1349]},{"content":"[in] The metadata token for the requested thread-static field.","pos":[1372,1434]},{"content":"[in] The ID of the application domain.","pos":[1458,1496]},{"content":"[in] The ID of the thread that is the scope for the requested static field.","pos":[1517,1592]},{"content":"[out] A pointer to the address of the static field that is within the specified thread.","pos":[1614,1701]},{"pos":[1710,1717],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1721,1790],"content":"The <ph id=\"ph1\">`GetThreadStaticAddress2`</ph> method may return one of the following:","source":"The `GetThreadStaticAddress2` method may return one of the following:"},{"content":"A CORPROF_E_DATAINCOMPLETE HRESULT if the given static field has not been assigned an address in the specified context.","pos":[1800,1919]},{"content":"The addresses of objects that may be in the garbage collection heap.","pos":[1929,1997]},{"content":"These addresses may become invalid after garbage collection, so after garbage collection, profilers should not assume that they are valid.","pos":[1998,2136]},{"pos":[2143,2383],"content":"Before a class’s class constructor is completed, <ph id=\"ph1\">`GetThreadStaticAddress2`</ph> will return CORPROF_E_DATAINCOMPLETE for all its static fields, although some of the static fields may already be initialized and rooting garbage collection objects.","source":"Before a class’s class constructor is completed, `GetThreadStaticAddress2` will return CORPROF_E_DATAINCOMPLETE for all its static fields, although some of the static fields may already be initialized and rooting garbage collection objects."},{"pos":[2390,2651],"content":"The <bpt id=\"p1\">[</bpt>ICorProfilerInfo2::GetThreadStaticAddress<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-getthreadstaticaddress-method.md)</ept> method is similar to the <ph id=\"ph1\">`GetThreadStaticAddress2`</ph> method, but does not accept an application domain argument.","source":"The [ICorProfilerInfo2::GetThreadStaticAddress](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-getthreadstaticaddress-method.md) method is similar to the `GetThreadStaticAddress2` method, but does not accept an application domain argument."},{"pos":[2660,2672],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2676,2780],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[2787,2821],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> CorProf.idl, CorProf.h","source":"**Header:** CorProf.idl, CorProf.h"},{"pos":[2828,2853],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> CorGuids.lib","source":"**Library:** CorGuids.lib"},{"pos":[2860,2968],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> <ph id=\"ph1\">[!INCLUDE[net_current_v40plus](../../../../includes/net-current-v40plus-md.md)]</ph>","source":"**.NET Framework Versions:** [!INCLUDE[net_current_v40plus](../../../../includes/net-current-v40plus-md.md)]"},{"pos":[2977,2985],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>ICorProfilerInfo3 Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo3-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[2989,3102],"source":"[ICorProfilerInfo3 Interface](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo3-interface.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Profiling Interfaces<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/profiling-interfaces.md)</ept><ph id=\"ph1\"> </ph>","pos":[3105,3205],"source":" [Profiling Interfaces](../../../../docs/framework/unmanaged-api/profiling/profiling-interfaces.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Profiling<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/index.md)</ept>","pos":[3208,3281],"source":" [Profiling](../../../../docs/framework/unmanaged-api/profiling/index.md)"}]}