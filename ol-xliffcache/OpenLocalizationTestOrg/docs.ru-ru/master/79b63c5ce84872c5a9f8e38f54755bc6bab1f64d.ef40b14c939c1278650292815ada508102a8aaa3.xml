{"content":"---\ntitle: \"&lt;commonParameters&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: ffc20832-34d6-4622-8174-81924fd53514\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# &lt;commonParameters&gt;\nRepresents a collection of parameters that are used globally across multiple services. This collection will typically include the database connection string that might be shared by durable services.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<serviceBehaviors>  \n\\<behavior>  \n\\<workflowRuntime>  \n\\<commonParameters>  \n  \n## Syntax  \n  \n```  \n  \n<workflowRuntime>  \n   <commonParameters>  \n      <add name=\"String\" value=\"String\" />  \n   </commonParameters>  \n</workflowRuntime>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n None.  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)|Adds a name-value pair of common parameters used by services to the collection.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<workflowRuntime>](../../../../../docs/framework/configure-apps/file-schema/wcf/workflowruntime.md)|Specifies settings for an instance of <xref:System.Workflow.Runtime.WorkflowRuntime> for hosting workflow-based [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)] services.|  \n  \n## Remarks  \n The `<commonParameters>` element defines any parameters that are used globally across multiple services, for example `ConnectionString` when using the <xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService>.  \n  \n> [!NOTE]\n>  SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section. Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail. To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example.  \n  \n `<add`  \n  \n `type=\"System.Workflow.Runtime.Tracking.SqlTrackingService, System.Workflow.Runtime, Version=3.0.00000.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\"`  \n  \n `ConnectionString=\"Data Source=localhost;Initial Catalog=Partner20WFTP;Integrated Security=True;\" />`  \n  \n For services that commit work batches to persistence stores, such as <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService> and <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, you can enable them to retry their transaction by using the `EnableRetries` parameter as shown in the following example:  \n  \n```  \n<WorkflowRuntime Name=\"SampleApplication\" UnloadOnIdle=\"false\">  \n    <commonParameters>  \n        <add name=\"ConnectionString\" value=\"Initial Catalog=WorkflowStore;Data Source=localhost;Integrated Security=SSPI;\" />  \n        <add name=\"EnableRetries\" value=\"True\" />  \n    </commonParameters>  \n    <Services>  \n        <add type=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService, System.Workflow.Runtime, Version=3.0.00000.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" EnableRetries=\"False\" />   \n     </Services>  \n</WorkflowRuntime>  \n```  \n  \n Notice that the `EnableRetries` parameter can be set either at a global level (as shown in the *CommonParameters* section) or for individual services that support `EnableRetries` (as shown in the *Services* section).  \n  \n The following sample code shows how to change the common parameters programmatically.  \n  \n```  \nConfiguration config=WebConfigurationManager.OpenWebConfiguration(\"/Workflow\", \"Default Web Site\", null, \"localhost\");  \nWorkflowRuntimeSection wfruntime=config.GetSection(\"WorkflowRuntime\") as WorkflowRuntimeSection;  \nNameValueConfigurationCollection commonParameters=wfruntime.CommonParameters;  \ncommonParameters[\"ConnectionString\"].Value=\"another connection string\";  \nconfig.Save();  \n```  \n  \n For more information about using a configuration file to control the behavior of a <xref:System.Workflow.Runtime.WorkflowRuntime> object of a Windows Workflow Foundation host application, see [Workflow Configuration Files](http://msdn.microsoft.com/en-us/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909).  \n  \n## Example  \n  \n```  \n<commonParameters>  \n   <add name=\"ConnectionString\" value=\"Initial Catalog=WorkflowStore;Data Source=localhost;Integrated Security=SSPI;\"/>  \n   <add name=\"EnableRetries\" value=\"true\"/>  \n</commonParameters>  \n```  \n  \n## See Also  \n <xref:System.ServiceModel.Configuration.WorkflowRuntimeElement>   \n <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement>   \n <xref:System.Workflow.Runtime.WorkflowRuntime>   \n <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService>   \n <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>   \n [Workflow Configuration Files](http://msdn.microsoft.com/en-us/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909)   \n [\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)","nodes":[{"pos":[12,53],"content":"&lt;commonParameters&gt; | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>commonParameters<ph id=\"ph2\">&amp;gt;</ph> | Microsoft Docs","pos":[0,41],"source":"&lt;commonParameters&gt; | Microsoft Docs"}]},{"pos":[351,375],"content":"&lt;commonParameters&gt;","linkify":"&lt;commonParameters&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>commonParameters<ph id=\"ph2\">&amp;gt;</ph>","pos":[0,24],"source":"&lt;commonParameters&gt;"}]},{"content":"Represents a collection of parameters that are used globally across multiple services.","pos":[376,462]},{"content":"This collection will typically include the database connection string that might be shared by durable services.","pos":[463,574]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[581,603],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[606,618],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceBehaviors&gt;","pos":[621,640],"source":"\\<serviceBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[643,654],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>workflowRuntime&gt;","pos":[657,675],"source":"\\<workflowRuntime>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>commonParameters&gt;","pos":[678,697],"source":"\\<commonParameters>"},{"pos":[706,712],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[874,897],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[901,981]},{"pos":[991,1001],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"None.","pos":[1005,1010]},{"pos":[1020,1034],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[1041,1048]},{"content":"Description","pos":[1049,1060]},{"pos":[1101,1198],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)</ept>","source":"[\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)"},{"content":"Adds a name-value pair of common parameters used by services to the collection.","pos":[1199,1278]},{"pos":[1289,1304],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1311,1318]},{"content":"Description","pos":[1319,1330]},{"pos":[1371,1472],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>workflowRuntime&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/workflowruntime.md)</ept>","source":"[\\<workflowRuntime>](../../../../../docs/framework/configure-apps/file-schema/wcf/workflowruntime.md)"},{"pos":[1473,1653],"content":"Specifies settings for an instance of <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> for hosting workflow-based <ph id=\"ph2\">[!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)]</ph> services.","source":"Specifies settings for an instance of <xref:System.Workflow.Runtime.WorkflowRuntime> for hosting workflow-based [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)] services."},{"pos":[1663,1670],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1674,1911],"content":"The <ph id=\"ph1\">`&lt;commonParameters&gt;`</ph> element defines any parameters that are used globally across multiple services, for example <ph id=\"ph2\">`ConnectionString`</ph> when using the <ph id=\"ph3\">&lt;xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService&gt;</ph>.","source":"The `<commonParameters>` element defines any parameters that are used globally across multiple services, for example `ConnectionString` when using the <xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService>."},{"pos":[1919,2322],"content":"[!NOTE]\n SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section. Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail. To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example.","leadings":["","> "],"nodes":[{"content":" SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section. Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail. To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example.","pos":[8,401],"nodes":[{"content":"SQL Tracking service does not consistently use the <ph id=\"ph1\">`ConnectionString`</ph> value if it is specified in the <ph id=\"ph2\">`&lt;commonParameters&gt;`</ph> section.","pos":[1,132],"source":" SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section."},{"content":"Some of its operations such as retrieving the <ph id=\"ph1\">`StateMachineWorkflowInstance.StateHistory`</ph> property may fail.","pos":[133,241],"source":" Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail."},{"content":"To workaround this, specify the <ph id=\"ph1\">`ConnectionString`</ph> attribute in the configuration section for tracking provider, as indicated in the following example.","pos":[242,393],"source":" To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example."}]}]},{"pos":[2613,2953],"content":"For services that commit work batches to persistence stores, such as <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService&gt;</ph>, you can enable them to retry their transaction by using the <ph id=\"ph3\">`EnableRetries`</ph> parameter as shown in the following example:","source":"For services that commit work batches to persistence stores, such as <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService> and <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, you can enable them to retry their transaction by using the `EnableRetries` parameter as shown in the following example:"},{"pos":[3535,3751],"content":"Notice that the <ph id=\"ph1\">`EnableRetries`</ph> parameter can be set either at a global level (as shown in the <bpt id=\"p1\">*</bpt>CommonParameters<ept id=\"p1\">*</ept> section) or for individual services that support <ph id=\"ph2\">`EnableRetries`</ph> (as shown in the <bpt id=\"p2\">*</bpt>Services<ept id=\"p2\">*</ept> section).","source":"Notice that the `EnableRetries` parameter can be set either at a global level (as shown in the *CommonParameters* section) or for individual services that support `EnableRetries` (as shown in the *Services* section)."},{"content":"The following sample code shows how to change the common parameters programmatically.","pos":[3758,3843]},{"pos":[4256,4549],"content":"For more information about using a configuration file to control the behavior of a <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> object of a Windows Workflow Foundation host application, see <bpt id=\"p1\">[</bpt>Workflow Configuration Files<ept id=\"p1\">](http://msdn.microsoft.com/en-us/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909)</ept>.","source":"For more information about using a configuration file to control the behavior of a <xref:System.Workflow.Runtime.WorkflowRuntime> object of a Windows Workflow Foundation host application, see [Workflow Configuration Files](http://msdn.microsoft.com/en-us/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909)."},{"pos":[4558,4565],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4800,4808],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.WorkflowRuntimeElement&gt;</ph>","pos":[4812,4875],"source":"<xref:System.ServiceModel.Configuration.WorkflowRuntimeElement> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement&gt;</ph>","pos":[4880,4954],"source":" <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph>","pos":[4959,5005],"source":" <xref:System.Workflow.Runtime.WorkflowRuntime> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService&gt;</ph>","pos":[5010,5086],"source":" <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService&gt;</ph>","pos":[5091,5159],"source":" <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> "},{"content":"<bpt id=\"p1\"> [</bpt>Workflow Configuration Files<ept id=\"p1\">](http://msdn.microsoft.com/en-us/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909)</ept><ph id=\"ph1\"> </ph>","pos":[5163,5265],"source":" [Workflow Configuration Files](http://msdn.microsoft.com/en-us/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909) "},{"content":"<bpt id=\"p1\"> [</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)</ept>","pos":[5268,5366],"source":" [\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)"}]}