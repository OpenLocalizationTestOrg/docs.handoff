{"content":"---\ntitle: \"Configuring Serialization in a Workflow Service | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: aa70b290-a2ee-4c3c-90ea-d0a7665096ae\ncaps.latest.revision: 4\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Configuring Serialization in a Workflow Service\nWorkflow services are [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services and so have the option of using either the <xref:System.Runtime.Serialization.DataContractSerializer> (the default) or the <xref:System.Xml.Serialization.XmlSerializer>. When writing non-workflow services the type of serializer to use is specified on the service or operation contract. When creating [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] workflow services you don’t specify these contracts in code, but rather they are generated at runtime by contract inference. [!INCLUDE[crabout](../../../../includes/crabout-md.md)] contract inference, see  [Using Contracts in Workflow](../../../../docs/framework/wcf/feature-details/using-contracts-in-workflow.md).  The serializer is specified using the <xref:System.ServiceModel.Activities.Receive.SerializerOption%2A> property. This can be set in the designer as shown in the following illustration.  \n  \n ![Setting the serializer](../../../../docs/framework/wcf/feature-details/media/settingserialzier.png \"SettingSerialzier\")  \n  \n The serializer can also be set in code as shown in the following example,  \n  \n```  \nReceive approveExpense = new Receive  \n            {  \n                OperationName = \"ApproveExpense\",  \n                CanCreateInstance = true,  \n                ServiceContractName = \"FinanceService\",  \n                SerializerOption = SerializerOption.DataContractSerializer,  \n                Content = ReceiveContent.Create(new OutArgument<Expense>(expense))  \n            };  \n  \n```  \n  \n Known types can be specified on Workflow services as well. [!INCLUDE[crabout](../../../../includes/crabout-md.md)] Known Types see [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md). Known types can be specified in the designer or in code. To specify known types in the designer, click the ellipsis button next to the KnownTypes property in the properties window for a <xref:System.ServiceModel.Activities.Receive> activity as shown in the following illustration.  \n  \n ![KnownTypes property](../../../../docs/framework/wcf/feature-details/media/knowntypes.png \"KnownTypes\")  \n  \n This will display the Type Collections Editor that will allow you to search for and specify known types.  \n  \n ![Adding Known Types](../../../../docs/framework/wcf/feature-details/media/typecollectionseditor.gif \"TypeCollectionsEditor\")  \n  \n Click the **Add new type** link and use the drop down to select or search for a type to add to the known types collection. To specify known types in code use the <xref:System.ServiceModel.Activities.Receive.KnownTypes%2A> property as shown in the following example.  \n  \n```  \nReceive approveExpense = new Receive  \n            {  \n                OperationName = \"ApproveExpense\",  \n                CanCreateInstance = true,  \n                ServiceContractName = \"FinanceService\",  \n                SerializerOption = SerializerOption.DataContractSerializer,  \n                Content = ReceiveContent.Create(new OutArgument<Expense>(expense))  \n            };  \n            approveExpense.KnownTypes.Add(typeof(Travel));  \n            approveExpense.KnownTypes.Add(typeof(Meal));  \n  \n```  \n  \n To see a complete code example showing how to configure serialization for a workflow service see [Formatting messages in Workflow Services](../../../../docs/framework/windows-workflow-foundation/samples/formatting-messages-in-workflow-services.md).","nodes":[{"pos":[12,76],"content":"Configuring Serialization in a Workflow Service | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Configuring Serialization in a Workflow Service | Microsoft Docs","pos":[0,64]}]},{"pos":[374,421],"content":"Configuring Serialization in a Workflow Service","linkify":"Configuring Serialization in a Workflow Service","nodes":[{"content":"Configuring Serialization in a Workflow Service","pos":[0,47]}]},{"content":"Workflow services are <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> services and so have the option of using either the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph> (the default) or the <ph id=\"ph3\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph>.","pos":[422,678],"source":"Workflow services are [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services and so have the option of using either the <xref:System.Runtime.Serialization.DataContractSerializer> (the default) or the <xref:System.Xml.Serialization.XmlSerializer>."},{"content":"When writing non-workflow services the type of serializer to use is specified on the service or operation contract.","pos":[679,794]},{"content":"When creating <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> workflow services you don’t specify these contracts in code, but rather they are generated at runtime by contract inference.","pos":[795,989],"source":" When creating [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] workflow services you don’t specify these contracts in code, but rather they are generated at runtime by contract inference."},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> contract inference, see  <bpt id=\"p1\">[</bpt>Using Contracts in Workflow<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/using-contracts-in-workflow.md)</ept>.","pos":[990,1180],"source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] contract inference, see  [Using Contracts in Workflow](../../../../docs/framework/wcf/feature-details/using-contracts-in-workflow.md)."},{"content":"The serializer is specified using the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.Receive.SerializerOption%2A&gt;</ph> property.","pos":[1182,1295],"source":"  The serializer is specified using the <xref:System.ServiceModel.Activities.Receive.SerializerOption%2A> property."},{"content":"This can be set in the designer as shown in the following illustration.","pos":[1296,1367]},{"pos":[1374,1495],"content":"<bpt id=\"p1\">![</bpt>Setting the serializer<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/settingserialzier.png \"</bpt>SettingSerialzier<ept id=\"p2\">\")</ept>","source":"![Setting the serializer](../../../../docs/framework/wcf/feature-details/media/settingserialzier.png \"SettingSerialzier\")"},{"content":"The serializer can also be set in code as shown in the following example,","pos":[1502,1575]},{"content":"Known types can be specified on Workflow services as well.","pos":[1989,2047]},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> Known Types see <bpt id=\"p1\">[</bpt>Data Contract Known Types<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)</ept>.","pos":[2048,2225],"source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] Known Types see [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)."},{"content":"Known types can be specified in the designer or in code.","pos":[2226,2282]},{"content":"To specify known types in the designer, click the ellipsis button next to the KnownTypes property in the properties window for a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.Receive&gt;</ph> activity as shown in the following illustration.","pos":[2283,2506],"source":" To specify known types in the designer, click the ellipsis button next to the KnownTypes property in the properties window for a <xref:System.ServiceModel.Activities.Receive> activity as shown in the following illustration."},{"pos":[2513,2617],"content":"<bpt id=\"p1\">![</bpt>KnownTypes property<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/knowntypes.png \"</bpt>KnownTypes<ept id=\"p2\">\")</ept>","source":"![KnownTypes property](../../../../docs/framework/wcf/feature-details/media/knowntypes.png \"KnownTypes\")"},{"content":"This will display the Type Collections Editor that will allow you to search for and specify known types.","pos":[2624,2728]},{"pos":[2735,2860],"content":"<bpt id=\"p1\">![</bpt>Adding Known Types<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/typecollectionseditor.gif \"</bpt>TypeCollectionsEditor<ept id=\"p2\">\")</ept>","source":"![Adding Known Types](../../../../docs/framework/wcf/feature-details/media/typecollectionseditor.gif \"TypeCollectionsEditor\")"},{"content":"Click the <bpt id=\"p1\">**</bpt>Add new type<ept id=\"p1\">**</ept> link and use the drop down to select or search for a type to add to the known types collection.","pos":[2867,2989],"source":"Click the **Add new type** link and use the drop down to select or search for a type to add to the known types collection."},{"content":"To specify known types in code use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.Receive.KnownTypes%2A&gt;</ph> property as shown in the following example.","pos":[2990,3132],"source":" To specify known types in code use the <xref:System.ServiceModel.Activities.Receive.KnownTypes%2A> property as shown in the following example."},{"pos":[3666,3914],"content":"To see a complete code example showing how to configure serialization for a workflow service see <bpt id=\"p1\">[</bpt>Formatting messages in Workflow Services<ept id=\"p1\">](../../../../docs/framework/windows-workflow-foundation/samples/formatting-messages-in-workflow-services.md)</ept>.","source":"To see a complete code example showing how to configure serialization for a workflow service see [Formatting messages in Workflow Services](../../../../docs/framework/windows-workflow-foundation/samples/formatting-messages-in-workflow-services.md)."}]}