{"content":"---\ntitle: \"Out-of-Order Message Processing\"\nms.date: \"03/30/2017\"\nms.assetid: 33fc62a5-5d59-461c-a37a-0e1b51ac763d\n---\n# Out-of-Order Message Processing\nWorkflow services may depend on messages being sent in a specific order. A workflow service contains one or more <xref:System.ServiceModel.Activities.Receive> activities and each <xref:System.ServiceModel.Activities.Receive> activity is expecting a specific message. Without particular transport delivery guarantees, messages sent by clients may be delayed and therefore delivered in an order the workflow service may not expect. Implementing a workflow service that does not require messages be sent in a specific order is normally done using a Parallel activity. For a more complicated application protocol, the workflow would become very complex very quickly.  The out-of-order message processing feature in Windows Communication Foundation (WCF) allows you to create such a workflow without all of the complexity of nested Parallel activities. Out-of-order message processing is only supported on channels that support <xref:System.ServiceModel.Channels.ReceiveContext> such as the WCF MSMQ bindings.  \n  \n## Enabling Out-Of-Order Message Processing  \n Out-of-order message processing is enabled by setting the <xref:System.ServiceModel.Activities.WorkflowService.AllowBufferedReceive%2A> property to `true` on the WorkflowService. The following example shows how to set the <xref:System.ServiceModel.Activities.WorkflowService.AllowBufferedReceive%2A> property in code.  \n  \n```csharp  \n// Code: Opt-in to Buffered Receive processing...  \nWorkflowService service = new WorkflowService  \n{  \n    Name=\"MyService\",  \n    Body = workflow,  \n    AllowBufferedReceive = true  \n};  \n```  \n  \n You can also apply the `AllowBufferedReceive` attribute to a workflow service in XAML as shown in the following example.  \n  \n```xaml  \n// Xaml: Opt-in to Buffered Receive processing...  \n<WorkflowService AllowBufferedReceive=\"True\">  \n   <!--the actual children activities -->  \n</Sequence>  \n```  \n  \n## See also\n\n- <xref:System.ServiceModel.Channels.ReceiveContext>\n- [Workflow Services](../../../../docs/framework/wcf/feature-details/workflow-services.md)\n- [Queues and Reliable Sessions](../../../../docs/framework/wcf/feature-details/queues-and-reliable-sessions.md)\n","nodes":[{"pos":[4,115],"embed":true,"restype":"x-metadata","content":"title: \"Out-of-Order Message Processing\"\nms.date: \"03/30/2017\"\nms.assetid: 33fc62a5-5d59-461c-a37a-0e1b51ac763d","nodes":[{"content":"Out-of-Order Message Processing","nodes":[{"pos":[0,31],"content":"Out-of-Order Message Processing","nodes":[{"content":"Out-of-Order Message Processing","pos":[0,31]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[122,153],"content":"Out-of-Order Message Processing","linkify":"Out-of-Order Message Processing","nodes":[{"content":"Out-of-Order Message Processing","pos":[0,31]}]},{"content":"Workflow services may depend on messages being sent in a specific order.","pos":[154,226]},{"content":"A workflow service contains one or more <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.Receive&gt;</ph> activities and each <ph id=\"ph2\">&lt;xref:System.ServiceModel.Activities.Receive&gt;</ph> activity is expecting a specific message.","pos":[227,420],"source":" A workflow service contains one or more <xref:System.ServiceModel.Activities.Receive> activities and each <xref:System.ServiceModel.Activities.Receive> activity is expecting a specific message."},{"content":"Without particular transport delivery guarantees, messages sent by clients may be delayed and therefore delivered in an order the workflow service may not expect.","pos":[421,583]},{"content":"Implementing a workflow service that does not require messages be sent in a specific order is normally done using a Parallel activity.","pos":[584,718]},{"content":"For a more complicated application protocol, the workflow would become very complex very quickly.","pos":[719,816]},{"content":"The out-of-order message processing feature in Windows Communication Foundation (WCF) allows you to create such a workflow without all of the complexity of nested Parallel activities.","pos":[818,1001]},{"content":"Out-of-order message processing is only supported on channels that support <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.ReceiveContext&gt;</ph> such as the WCF MSMQ bindings.","pos":[1002,1158],"source":" Out-of-order message processing is only supported on channels that support <xref:System.ServiceModel.Channels.ReceiveContext> such as the WCF MSMQ bindings."},{"pos":[1167,1207],"content":"Enabling Out-Of-Order Message Processing","linkify":"Enabling Out-Of-Order Message Processing","nodes":[{"content":"Enabling Out-Of-Order Message Processing","pos":[0,40]}]},{"content":"Out-of-order message processing is enabled by setting the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.WorkflowService.AllowBufferedReceive%2A&gt;</ph> property to <ph id=\"ph2\">`true`</ph> on the WorkflowService.","pos":[1211,1389],"source":"Out-of-order message processing is enabled by setting the <xref:System.ServiceModel.Activities.WorkflowService.AllowBufferedReceive%2A> property to `true` on the WorkflowService."},{"content":"The following example shows how to set the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.WorkflowService.AllowBufferedReceive%2A&gt;</ph> property in code.","pos":[1390,1528],"source":" The following example shows how to set the <xref:System.ServiceModel.Activities.WorkflowService.AllowBufferedReceive%2A> property in code."},{"pos":[1746,1866],"content":"You can also apply the <ph id=\"ph1\">`AllowBufferedReceive`</ph> attribute to a workflow service in XAML as shown in the following example.","source":"You can also apply the `AllowBufferedReceive` attribute to a workflow service in XAML as shown in the following example."},{"pos":[2052,2060],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2117,2205],"content":"<bpt id=\"p1\">[</bpt>Workflow Services<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/workflow-services.md)</ept>","source":"[Workflow Services](../../../../docs/framework/wcf/feature-details/workflow-services.md)"},{"pos":[2208,2318],"content":"<bpt id=\"p1\">[</bpt>Queues and Reliable Sessions<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/queues-and-reliable-sessions.md)</ept>","source":"[Queues and Reliable Sessions](../../../../docs/framework/wcf/feature-details/queues-and-reliable-sessions.md)"}]}