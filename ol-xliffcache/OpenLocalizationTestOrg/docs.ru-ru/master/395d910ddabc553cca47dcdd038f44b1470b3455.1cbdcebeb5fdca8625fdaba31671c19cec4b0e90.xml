{"content":"---\ntitle: \"Standard Endpoints\"\nms.date: \"03/30/2017\"\nms.assetid: 3fcb4225-addc-44f2-935d-30e4943a8812\n---\n# Standard Endpoints\nEndpoints are defined by specifying an address, a binding, and a contract. Other parameters that may be set on an endpoint include behavior configuration, headers, and listen URIs.  For certain types of endpoints these values do not change. For example, metadata exchange endpoints always use the <xref:System.ServiceModel.Description.IMetadataExchange> contract. Other endpoints, such as <xref:System.ServiceModel.Description.WebHttpEndpoint> always require a specified endpoint behavior. The usability of an endpoint can be improved by having endpoints with default values for commonly used endpoint properties. Standard endpoints enable a developer to define an endpoint that has default values or where one or more endpoint’s properties does not change.  These endpoints allow you to use such an endpoint without having to specify information of a static nature. Standard endpoints can be used for infrastructure and application endpoints.  \n  \n## Infrastructure Endpoints  \n A service may expose endpoints with some of the properties not explicitly implemented by the service author. For example, the metadata exchange endpoint exposes the <xref:System.ServiceModel.Description.IMetadataExchange> contract but as a service author you do not implement that interface, it is implemented by WCF. Such infrastructure endpoints have default values for one or more endpoint properties, some of which may be unalterable. The <xref:System.ServiceModel.Description.ServiceEndpoint.Contract%2A> property of the metadata exchange endpoint must be <xref:System.ServiceModel.Description.IMetadataExchange>, while other properties like binding can be supplied by the developer. Infrastructure endpoints are identified by setting the <xref:System.ServiceModel.Description.ServiceEndpoint.IsSystemEndpoint%2A> property to `true`.  \n  \n## Application Endpoints  \n Application developers can define their own standard endpoints which specify default values for the address, binding, or contract. You define a standard endpoint by deriving a class from <xref:System.ServiceModel.Description.ServiceEndpoint> and setting the appropriate endpoint properties. You can provide default values for properties that can be changed. Some other properties will have static values that cannot change. The following example shows how to implement a standard endpoint.  \n  \n```csharp\npublic class CustomEndpoint : ServiceEndpoint\n{\n    public CustomEndpoint()\n        : this(string.Empty)\n    { }  \n    \n    public CustomEndpoint(string address)\n        : this(address, ContractDescription.GetContract(typeof(ICalculator)))\n    { }  \n    \n    // Create the custom endpoint with a fixed binding\n    public CustomEndpoint(string address, ContractDescription contract)\n        : base(contract)\n    {\n        this.Binding = new BasicHttpBinding();\n        this.IsSystemEndpoint = false;\n    }\n    \n    // Definition of the additional property of this endpoint\n    public bool Property { get; set; }\n}\n```\n  \n To use a user-defined custom endpoint in a configuration file you must derive a class from <xref:System.ServiceModel.Configuration.StandardEndpointElement>, derive a class from <xref:System.ServiceModel.Configuration.StandardEndpointCollectionElement%602>, and register the new standard endpoint in the extensions section in app.config or machine.config.  The <xref:System.ServiceModel.Configuration.StandardEndpointElement> provides configuration support for the standard endpoint, as shown in the following example.  \n  \n```csharp\npublic class CustomEndpointElement : StandardEndpointElement\n{\n    // Definition of the additional property for the standard endpoint element\n    public bool Property\n    {\n        get { return (bool)base[\"property\"]; }\n        set { base[\"property\"] = value; }\n    }\n\n    // The additional property needs to be added to the properties of the standard endpoint element\n    protected override ConfigurationPropertyCollection Properties\n    {\n        get\n        {\n            ConfigurationPropertyCollection properties = base.Properties;\n            properties.Add(new ConfigurationProperty(\"property\", typeof(bool), false, ConfigurationPropertyOptions.None));\n            return properties;\n        }\n    }\n\n    // Return the type of this standard endpoint\n    protected override Type EndpointType\n    {\n        get { return typeof(CustomEndpoint); }\n    }\n\n    // Create the custom service endpoint\n    protected override ServiceEndpoint CreateServiceEndpoint(ContractDescription contract)\n    {\n        return new CustomEndpoint();\n    }\n\n    // Read the value given to the property in config and save it\n    protected override void OnApplyConfiguration(ServiceEndpoint endpoint, ServiceEndpointElement serviceEndpointElement)\n    {\n        CustomEndpoint customEndpoint = (CustomEndpoint)endpoint;\n        customEndpoint.Property = this.Property;\n    }\n\n    // Read the value given to the property in config and save it\n    protected override void OnApplyConfiguration(ServiceEndpoint endpoint, ChannelEndpointElement channelEndpointElement)\n    {\n        CustomEndpoint customEndpoint = (CustomEndpoint)endpoint;\n        customEndpoint.Property = this.Property;\n    }\n\n    // No validation in this sample\n    protected override void OnInitializeAndValidate(ServiceEndpointElement serviceEndpointElement)\n    {\n    }\n\n    // No validation in this sample\n    protected override void OnInitializeAndValidate(ChannelEndpointElement channelEndpointElement)\n    {\n    }\n}\n```  \n  \n The <xref:System.ServiceModel.Configuration.StandardEndpointCollectionElement%602> provides the backing type for the collection that appears under the <`standardEndpoints`> section in the configuration for the standard endpoint.  The following example shows how to implement this class.  \n  \n```csharp\npublic class CustomEndpointCollectionElement : StandardEndpointCollectionElement<CustomEndpoint, CustomEndpointElement>\n{\n    // ...\n}\n```\n\nThe following example shows how to register a standard endpoint in the extensions section.\n\n```xml  \n<extensions>  \n      <standardEndpointExtensions>  \n        <add  \n          name=\"customStandardEndpoint\"  \n          type=\"CustomEndpointCollectionElement, Example.dll,  \n                Version=1.0.0.0, Culture=neutral, PublicKeyToken=ffffffffffffffff\"/>  \n```  \n  \n## Configuring a Standard Endpoint  \n Standard endpoints can be added in code or in configuration.  To add a standard endpoint in code simply instantiate the appropriate standard endpoint type and add it to the service host as shown in the following example:  \n  \n```csharp  \nserviceHost.AddServiceEndpoint(new CustomEndpoint());  \n```  \n  \n To add a standard endpoint in configuration, add an <`endpoint`> element to the <`service`> element and any needed configuration settings in the <`standardEndpoints`> element. The following example shows how to add a <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>, one of the standard endpoints that ships with [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)].  \n  \n```xml  \n<services>  \n  <service>  \n    <endpoint isSystemEndpoint=\"true\" kind=\"udpDiscoveryEndpoint\" />  \n  </service>  \n</services>  \n<standardEndpoints>    \n  <udpDiscoveryEndpoint>  \n     <standardEndpoint multicastAddress=\"soap.udp://239.255.255.250:3702\" />\n  </udpDiscoveryEndpoint>\n</standardEndpoints>\n```  \n  \n The type of standard endpoint is specified using the kind attribute in the <`endpoint`> element. The endpoint is configured within the <`standardEndpoints`> element. In the example above, a <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> endpoint is added and configured. The <`udpDiscoveryEndpoint`> element contains a <`standardEndpoint`> that sets the <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint.MulticastAddress%2A> property of the <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>.  \n  \n## Standard Endpoints Shipped with the .NET Framework  \n The following table lists the standard endpoints shipped with [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)].  \n  \n `Mex Endpoint`  \n A standard endpoint that is used to expose service metadata.  \n  \n <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>  \n A standard endpoint that is used by services to send announcement messages.  \n  \n <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>  \n A standard endpoint that is used by services to send discovery messages.  \n  \n <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>  \n A standard endpoint that is pre-configured for discovery operations over a UDP multicast binding.  \n  \n <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint>  \n A standard endpoint that is used by services to send announcement messages over a UDP binding.  \n  \n <xref:System.ServiceModel.Discovery.DynamicEndpoint>  \n A standard endpoint that uses WS-Discovery to find the endpoint address dynamically at runtime.  \n  \n <xref:System.ServiceModel.Description.ServiceMetadataEndpoint>  \n A standard endpoint for metadata exchange.  \n  \n <xref:System.ServiceModel.Description.WebHttpEndpoint>  \n A standard endpoint with a <xref:System.ServiceModel.WebHttpBinding> binding that automatically adds the <xref:System.ServiceModel.Description.WebHttpBehavior> behavior  \n  \n <xref:System.ServiceModel.Description.WebScriptEndpoint>  \n A standard endpoint with a <xref:System.ServiceModel.WebHttpBinding> binding that automatically adds the <xref:System.ServiceModel.Description.WebScriptEnablingBehavior> behavior.  \n  \n <xref:System.ServiceModel.Description.WebServiceEndpoint>  \n A standard endpoint with a <xref:System.ServiceModel.WebHttpBinding> binding.  \n  \n <xref:System.ServiceModel.Activities.WorkflowControlEndpoint>  \n A standard endpoint that enables you to call control operations on workflow instances.  \n  \n <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint>  \n A standard endpoint that supports workflow creation and bookmark resumption.\n","nodes":[{"pos":[4,102],"embed":true,"restype":"x-metadata","content":"title: \"Standard Endpoints\"\nms.date: \"03/30/2017\"\nms.assetid: 3fcb4225-addc-44f2-935d-30e4943a8812","nodes":[{"content":"Standard Endpoints","nodes":[{"pos":[0,18],"content":"Standard Endpoints","nodes":[{"content":"Standard Endpoints","pos":[0,18]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[109,127],"content":"Standard Endpoints","linkify":"Standard Endpoints","nodes":[{"content":"Standard Endpoints","pos":[0,18]}]},{"content":"Endpoints are defined by specifying an address, a binding, and a contract.","pos":[128,202]},{"content":"Other parameters that may be set on an endpoint include behavior configuration, headers, and listen URIs.","pos":[203,308]},{"content":"For certain types of endpoints these values do not change.","pos":[310,368]},{"content":"For example, metadata exchange endpoints always use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.IMetadataExchange&gt;</ph> contract.","pos":[369,491],"source":" For example, metadata exchange endpoints always use the <xref:System.ServiceModel.Description.IMetadataExchange> contract."},{"content":"Other endpoints, such as <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.WebHttpEndpoint&gt;</ph> always require a specified endpoint behavior.","pos":[492,617],"source":" Other endpoints, such as <xref:System.ServiceModel.Description.WebHttpEndpoint> always require a specified endpoint behavior."},{"content":"The usability of an endpoint can be improved by having endpoints with default values for commonly used endpoint properties.","pos":[618,741]},{"content":"Standard endpoints enable a developer to define an endpoint that has default values or where one or more endpoint’s properties does not change.","pos":[742,885]},{"content":"These endpoints allow you to use such an endpoint without having to specify information of a static nature.","pos":[887,994]},{"content":"Standard endpoints can be used for infrastructure and application endpoints.","pos":[995,1071]},{"pos":[1080,1104],"content":"Infrastructure Endpoints","linkify":"Infrastructure Endpoints","nodes":[{"content":"Infrastructure Endpoints","pos":[0,24]}]},{"content":"A service may expose endpoints with some of the properties not explicitly implemented by the service author.","pos":[1108,1216]},{"content":"For example, the metadata exchange endpoint exposes the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.IMetadataExchange&gt;</ph> contract but as a service author you do not implement that interface, it is implemented by WCF.","pos":[1217,1425],"source":" For example, the metadata exchange endpoint exposes the <xref:System.ServiceModel.Description.IMetadataExchange> contract but as a service author you do not implement that interface, it is implemented by WCF."},{"content":"Such infrastructure endpoints have default values for one or more endpoint properties, some of which may be unalterable.","pos":[1426,1546]},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceEndpoint.Contract%2A&gt;</ph> property of the metadata exchange endpoint must be <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.IMetadataExchange&gt;</ph>, while other properties like binding can be supplied by the developer.","pos":[1547,1796],"source":" The <xref:System.ServiceModel.Description.ServiceEndpoint.Contract%2A> property of the metadata exchange endpoint must be <xref:System.ServiceModel.Description.IMetadataExchange>, while other properties like binding can be supplied by the developer."},{"content":"Infrastructure endpoints are identified by setting the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceEndpoint.IsSystemEndpoint%2A&gt;</ph> property to <ph id=\"ph2\">`true`</ph>.","pos":[1797,1946],"source":" Infrastructure endpoints are identified by setting the <xref:System.ServiceModel.Description.ServiceEndpoint.IsSystemEndpoint%2A> property to `true`."},{"pos":[1955,1976],"content":"Application Endpoints","linkify":"Application Endpoints","nodes":[{"content":"Application Endpoints","pos":[0,21]}]},{"content":"Application developers can define their own standard endpoints which specify default values for the address, binding, or contract.","pos":[1980,2110]},{"content":"You define a standard endpoint by deriving a class from <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceEndpoint&gt;</ph> and setting the appropriate endpoint properties.","pos":[2111,2270],"source":" You define a standard endpoint by deriving a class from <xref:System.ServiceModel.Description.ServiceEndpoint> and setting the appropriate endpoint properties."},{"content":"You can provide default values for properties that can be changed.","pos":[2271,2337]},{"content":"Some other properties will have static values that cannot change.","pos":[2338,2403]},{"content":"The following example shows how to implement a standard endpoint.","pos":[2404,2469]},{"pos":[3106,3623],"content":"To use a user-defined custom endpoint in a configuration file you must derive a class from <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.StandardEndpointElement&gt;</ph>, derive a class from <ph id=\"ph2\">&lt;xref:System.ServiceModel.Configuration.StandardEndpointCollectionElement%602&gt;</ph>, and register the new standard endpoint in the extensions section in app.config or machine.config.  The <ph id=\"ph3\">&lt;xref:System.ServiceModel.Configuration.StandardEndpointElement&gt;</ph> provides configuration support for the standard endpoint, as shown in the following example.","source":"To use a user-defined custom endpoint in a configuration file you must derive a class from <xref:System.ServiceModel.Configuration.StandardEndpointElement>, derive a class from <xref:System.ServiceModel.Configuration.StandardEndpointCollectionElement%602>, and register the new standard endpoint in the extensions section in app.config or machine.config.  The <xref:System.ServiceModel.Configuration.StandardEndpointElement> provides configuration support for the standard endpoint, as shown in the following example."},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.StandardEndpointCollectionElement%602&gt;</ph> provides the backing type for the collection that appears under the &lt;<ph id=\"ph2\">`standardEndpoints`</ph>&gt; section in the configuration for the standard endpoint.","pos":[5619,5847],"source":"The <xref:System.ServiceModel.Configuration.StandardEndpointCollectionElement%602> provides the backing type for the collection that appears under the <`standardEndpoints`> section in the configuration for the standard endpoint."},{"content":"The following example shows how to implement this class.","pos":[5849,5905]},{"content":"The following example shows how to register a standard endpoint in the extensions section.","pos":[6061,6151]},{"pos":[6434,6465],"content":"Configuring a Standard Endpoint","linkify":"Configuring a Standard Endpoint","nodes":[{"content":"Configuring a Standard Endpoint","pos":[0,31]}]},{"content":"Standard endpoints can be added in code or in configuration.","pos":[6469,6529]},{"content":"To add a standard endpoint in code simply instantiate the appropriate standard endpoint type and add it to the service host as shown in the following example:","pos":[6531,6689]},{"content":"To add a standard endpoint in configuration, add an &lt;<ph id=\"ph1\">`endpoint`</ph>&gt; element to the &lt;<ph id=\"ph2\">`service`</ph>&gt; element and any needed configuration settings in the &lt;<ph id=\"ph3\">`standardEndpoints`</ph>&gt; element.","pos":[6773,6948],"source":"To add a standard endpoint in configuration, add an <`endpoint`> element to the <`service`> element and any needed configuration settings in the <`standardEndpoints`> element."},{"content":"The following example shows how to add a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint&gt;</ph>, one of the standard endpoints that ships with <ph id=\"ph2\">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]</ph>.","pos":[6949,7173],"source":" The following example shows how to add a <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>, one of the standard endpoints that ships with [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]."},{"content":"The type of standard endpoint is specified using the kind attribute in the &lt;<ph id=\"ph1\">`endpoint`</ph>&gt; element.","pos":[7500,7596],"source":"The type of standard endpoint is specified using the kind attribute in the <`endpoint`> element."},{"content":"The endpoint is configured within the &lt;<ph id=\"ph1\">`standardEndpoints`</ph>&gt; element.","pos":[7597,7665],"source":" The endpoint is configured within the <`standardEndpoints`> element."},{"content":"In the example above, a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint&gt;</ph> endpoint is added and configured.","pos":[7666,7781],"source":" In the example above, a <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> endpoint is added and configured."},{"content":"The &lt;<ph id=\"ph1\">`udpDiscoveryEndpoint`</ph>&gt; element contains a &lt;<ph id=\"ph2\">`standardEndpoint`</ph>&gt; that sets the <ph id=\"ph3\">&lt;xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint.MulticastAddress%2A&gt;</ph> property of the <ph id=\"ph4\">&lt;xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint&gt;</ph>.","pos":[7782,8017],"source":" The <`udpDiscoveryEndpoint`> element contains a <`standardEndpoint`> that sets the <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint.MulticastAddress%2A> property of the <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>."},{"pos":[8026,8076],"content":"Standard Endpoints Shipped with the .NET Framework","linkify":"Standard Endpoints Shipped with the .NET Framework","nodes":[{"content":"Standard Endpoints Shipped with the .NET Framework","pos":[0,50]}]},{"pos":[8080,8220],"content":"The following table lists the standard endpoints shipped with <ph id=\"ph1\">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]</ph>.","source":"The following table lists the standard endpoints shipped with [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]."},{"content":"A standard endpoint that is used to expose service metadata.","pos":[8245,8305]},{"content":"A standard endpoint that is used by services to send announcement messages.","pos":[8373,8448]},{"content":"A standard endpoint that is used by services to send discovery messages.","pos":[8513,8585]},{"content":"A standard endpoint that is pre-configured for discovery operations over a UDP multicast binding.","pos":[8653,8750]},{"content":"A standard endpoint that is used by services to send announcement messages over a UDP binding.","pos":[8821,8915]},{"content":"A standard endpoint that uses WS-Discovery to find the endpoint address dynamically at runtime.","pos":[8978,9073]},{"content":"A standard endpoint for metadata exchange.","pos":[9146,9188]},{"content":"A standard endpoint with a <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph> binding that automatically adds the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior&gt;</ph> behavior","pos":[9253,9421],"source":"A standard endpoint with a <xref:System.ServiceModel.WebHttpBinding> binding that automatically adds the <xref:System.ServiceModel.Description.WebHttpBehavior> behavior"},{"content":"A standard endpoint with a <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph> binding that automatically adds the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WebScriptEnablingBehavior&gt;</ph> behavior.","pos":[9488,9667],"source":"A standard endpoint with a <xref:System.ServiceModel.WebHttpBinding> binding that automatically adds the <xref:System.ServiceModel.Description.WebScriptEnablingBehavior> behavior."},{"content":"A standard endpoint with a <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph> binding.","pos":[9735,9812],"source":"A standard endpoint with a <xref:System.ServiceModel.WebHttpBinding> binding."},{"content":"A standard endpoint that enables you to call control operations on workflow instances.","pos":[9884,9970]},{"content":"A standard endpoint that supports workflow creation and bookmark resumption.","pos":[10042,10118]}]}