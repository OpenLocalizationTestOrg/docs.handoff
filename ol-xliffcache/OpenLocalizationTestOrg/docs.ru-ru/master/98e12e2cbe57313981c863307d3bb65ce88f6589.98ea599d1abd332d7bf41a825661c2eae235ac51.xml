{"content":"---\ntitle: \"Reliable Secure Profile\"\nms.date: \"03/30/2017\"\nms.assetid: 921edc41-e91b-40f9-bde9-b6148b633e61\n---\n# Reliable Secure Profile\nThis sample demonstrates how to compose WCF and [Reliable Secure Profile](https://go.microsoft.com/fwlink/?LinkId=178140) (RSP). This sample demonstrates the implementation of a [Make Connection](https://go.microsoft.com/fwlink/?LinkId=178141) channel which can be composed together with Reliable Messaging and optionally a secure channel to create a Reliable Secure Binding based on the RSP specification.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Extensibility\\Channels\\ReliableSecureProfile`  \n  \n## Discussion  \n This sample demonstrates a reliable asynchronous two-way message exchange scenario. The service has a duplex contract and the client implements the duplex callback contract. The client initiates a request to a service, for which a response is expected on a separate connection. The request message is sent reliably. The client does not want to open a listening endpoint at its end. Thus, it polls the service with ‘Make Connection’ requests for the service to send back the response on the back channel of this ‘Make Connection’ request. This sample demonstrates how to have secure reliable duplex communication over HTTP without the client exposing a listening endpoint (and creating a firewall exception).  \n  \n## To set up, build, and run the sample  \n  \n1.  Open the **ReliableSecureProfile** solution.  \n  \n2.  Right click the **Service** project in **Solution Explorer**, select **Debug**, **Start new instance** from the context menu. This starts up the service host.  \n  \n3.  Right click the **Client** project in **Solution Explorer**, select **Debug**, **Start new instance** from the context menu. This starts up the client.  \n  \n4.  Type in any string in the prompt on the client console window and click ENTER.This sends the input string to the service, which computes a hash of this string.  \n  \n5.  View the result on the client windows when the service calls back the duplex callback contract operation to display the result on the client console window. There is an intentional delay on the service to simulate a long running operation of processing the data.  \n  \n6.  Monitoring the HTTP traffic (by any of the online network monitoring tools like Network Monitor, Fiddler and so on) shows that a sequence for communication is established between the client and the service as laid down by the Reliable Secure Profile, and how the client polls the service with ‘Make Connection’ requests. When the service gets ready to send back the processed response, it uses the back channel of the last ‘Make Connection’ request to send back the results.  \n  \n7.  Press ENTER on the service console window to close the service. Press ENTER on the client console window to close the client.\n","nodes":[{"pos":[4,107],"embed":true,"restype":"x-metadata","content":"title: \"Reliable Secure Profile\"\nms.date: \"03/30/2017\"\nms.assetid: 921edc41-e91b-40f9-bde9-b6148b633e61","nodes":[{"content":"Reliable Secure Profile","nodes":[{"pos":[0,23],"content":"Reliable Secure Profile","nodes":[{"content":"Reliable Secure Profile","pos":[0,23]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[114,137],"content":"Reliable Secure Profile","linkify":"Reliable Secure Profile","nodes":[{"content":"Reliable Secure Profile","pos":[0,23]}]},{"content":"This sample demonstrates how to compose WCF and <bpt id=\"p1\">[</bpt>Reliable Secure Profile<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=178140)</ept> (RSP).","pos":[138,266],"source":"This sample demonstrates how to compose WCF and [Reliable Secure Profile](https://go.microsoft.com/fwlink/?LinkId=178140) (RSP)."},{"content":"This sample demonstrates the implementation of a <bpt id=\"p1\">[</bpt>Make Connection<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=178141)</ept> channel which can be composed together with Reliable Messaging and optionally a secure channel to create a Reliable Secure Binding based on the RSP specification.","pos":[267,544],"source":" This sample demonstrates the implementation of a [Make Connection](https://go.microsoft.com/fwlink/?LinkId=178141) channel which can be composed together with Reliable Messaging and optionally a secure channel to create a Reliable Secure Binding based on the RSP specification."},{"pos":[552,684],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[738,1048],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1049,1099]},{"pos":[1200,1210],"content":"Discussion","linkify":"Discussion","nodes":[{"content":"Discussion","pos":[0,10]}]},{"content":"This sample demonstrates a reliable asynchronous two-way message exchange scenario.","pos":[1214,1297]},{"content":"The service has a duplex contract and the client implements the duplex callback contract.","pos":[1298,1387]},{"content":"The client initiates a request to a service, for which a response is expected on a separate connection.","pos":[1388,1491]},{"content":"The request message is sent reliably.","pos":[1492,1529]},{"content":"The client does not want to open a listening endpoint at its end.","pos":[1530,1595]},{"content":"Thus, it polls the service with ‘Make Connection’ requests for the service to send back the response on the back channel of this ‘Make Connection’ request.","pos":[1596,1751]},{"content":"This sample demonstrates how to have secure reliable duplex communication over HTTP without the client exposing a listening endpoint (and creating a firewall exception).","pos":[1752,1921]},{"pos":[1930,1966],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[1976,2020],"content":"Open the <bpt id=\"p1\">**</bpt>ReliableSecureProfile<ept id=\"p1\">**</ept> solution.","source":"Open the **ReliableSecureProfile** solution."},{"content":"Right click the <bpt id=\"p1\">**</bpt>Service<ept id=\"p1\">**</ept> project in <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept>, select <bpt id=\"p3\">**</bpt>Debug<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Start new instance<ept id=\"p4\">**</ept> from the context menu.","pos":[2030,2155],"source":"Right click the **Service** project in **Solution Explorer**, select **Debug**, **Start new instance** from the context menu."},{"content":"This starts up the service host.","pos":[2156,2188]},{"content":"Right click the <bpt id=\"p1\">**</bpt>Client<ept id=\"p1\">**</ept> project in <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept>, select <bpt id=\"p3\">**</bpt>Debug<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Start new instance<ept id=\"p4\">**</ept> from the context menu.","pos":[2198,2322],"source":"Right click the **Client** project in **Solution Explorer**, select **Debug**, **Start new instance** from the context menu."},{"content":"This starts up the client.","pos":[2323,2349]},{"content":"Type in any string in the prompt on the client console window and click ENTER.This sends the input string to the service, which computes a hash of this string.","pos":[2359,2518]},{"content":"View the result on the client windows when the service calls back the duplex callback contract operation to display the result on the client console window.","pos":[2528,2684]},{"content":"There is an intentional delay on the service to simulate a long running operation of processing the data.","pos":[2685,2790]},{"content":"Monitoring the HTTP traffic (by any of the online network monitoring tools like Network Monitor, Fiddler and so on) shows that a sequence for communication is established between the client and the service as laid down by the Reliable Secure Profile, and how the client polls the service with ‘Make Connection’ requests.","pos":[2800,3120]},{"content":"When the service gets ready to send back the processed response, it uses the back channel of the last ‘Make Connection’ request to send back the results.","pos":[3121,3274]},{"content":"Press ENTER on the service console window to close the service.","pos":[3284,3347]},{"content":"Press ENTER on the client console window to close the client.","pos":[3348,3409]}]}