{"content":"---\ntitle: \"IIS Hosting Using Inline Code | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"Web hosted service\"\n  - \"IIS Hosting Using Inline Code Sample [Windows Communication Foundation]\"\nms.assetid: 56fe3687-a34b-4661-8e30-b33770f413fa\ncaps.latest.revision: 40\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# IIS Hosting Using Inline Code\nThis sample demonstrates how to implement a service hosted by Internet Information Services (IIS), where the service code is contained in-line in a .svc file and is compiled on demand. Service code can also be implemented directly in source code files located in the application's \\App_Code directory, or compiled into assembly deployed in \\bin. This sample does not demonstrate these techniques.  \n  \n> [!NOTE]\n>  The set-up procedure and build instructions for this sample are located at the end of this topic.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Services\\Hosting\\WebHost\\InlineCode`  \n  \n The sample demonstrates a typical service that implements a contract that defines a request-reply communication pattern. The service is hosted in IIS and the service code is entirely contained in the Service.svc file. The service is host-activated and compiled on-demand by the first message sent to the service. There is no pre-compilation necessary. The service implements an `ICalculator` contract as defined in the following code:  \n  \n```  \n// Define a service contract.  \n[ServiceContract(Namespace=\"http://Microsoft.ServiceModel.Samples\")]  \n    public interface ICalculator  \n{  \n    [OperationContract]  \n    double Add(double n1, double n2);  \n    [OperationContract]  \n    double Subtract(double n1, double n2);  \n    [OperationContract]  \n    double Multiply(double n1, double n2);  \n    [OperationContract]  \n    double Divide(double n1, double n2);  \n}  \n```  \n  \n The service implementation calculates and returns the appropriate result.  \n  \n```  \n<%@ServiceHost language=c# Debug=\"true\" Service=\"Microsoft.ServiceModel.Samples.CalculatorService\" %>   \nâ€¦  \n// Service class that implements the service contract.  \npublic class CalculatorService : ICalculator  \n{  \n    public double Add(double n1, double n2)  \n    {  \n        return n1 + n2;  \n    }  \n    public double Subtract(double n1, double n2)  \n    {  \n        return n1 - n2;  \n    }  \n    public double Multiply(double n1, double n2)  \n    {  \n        return n1 * n2;  \n    }  \n    public double Divide(double n1, double n2)  \n    {  \n        return n1 / n2;  \n    }  \n}  \n  \n```  \n  \n When you run the sample, the operation requests and responses are displayed in the client console window. Press ENTER in the client window to shut down the client.  \n  \n```  \nAdd(100,15.99) = 115.99  \nSubtract(145,76.54) = 68.46  \nMultiply(9,81.25) = 731.25  \nDivide(22,7) = 3.14285714285714  \n  \nPress <ENTER> to terminate client.  \n```  \n  \n### To set up, build, and run the sample  \n  \n1.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n3.  After the solution has been built, run setup.bat to set up the ServiceModelSamples Application in [!INCLUDE[iisver](../../../../includes/iisver-md.md)]. The ServiceModelSamples directory should now appear as an [!INCLUDE[iisver](../../../../includes/iisver-md.md)] Application.  \n  \n4.  To run the sample in a single- or cross-computer configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md). For an example on how to create a client application that can call this service, see [How to: Create a Client](../../../../docs/framework/wcf/how-to-create-a-wcf-client.md).  \n  \n## See Also  \n [AppFabric Hosting and Persistence Samples](http://go.microsoft.com/fwlink/?LinkId=193961)","nodes":[{"pos":[12,58],"content":"IIS Hosting Using Inline Code | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"IIS Hosting Using Inline Code | Microsoft Docs","pos":[0,46]}]},{"pos":[516,545],"content":"IIS Hosting Using Inline Code","linkify":"IIS Hosting Using Inline Code","nodes":[{"content":"IIS Hosting Using Inline Code","pos":[0,29]}]},{"content":"This sample demonstrates how to implement a service hosted by Internet Information Services (IIS), where the service code is contained in-line in a .svc file and is compiled on demand.","pos":[546,730]},{"content":"Service code can also be implemented directly in source code files located in the application's \\App_Code directory, or compiled into assembly deployed in \\bin.","pos":[731,891]},{"content":"This sample does not demonstrate these techniques.","pos":[892,942]},{"pos":[950,1058],"content":"[!NOTE]\n The set-up procedure and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The set-up procedure and build instructions for this sample are located at the end of this topic.","pos":[9,106]}]},{"pos":[1066,1199],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[13,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[1,55]},{"content":"Check for the following (default) directory before continuing.","pos":[56,118]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1253,1579],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1580,1630]},{"content":"The sample demonstrates a typical service that implements a contract that defines a request-reply communication pattern.","pos":[1726,1846]},{"content":"The service is hosted in IIS and the service code is entirely contained in the Service.svc file.","pos":[1847,1943]},{"content":"The service is host-activated and compiled on-demand by the first message sent to the service.","pos":[1944,2038]},{"content":"There is no pre-compilation necessary.","pos":[2039,2077]},{"content":"The service implements an <ph id=\"ph1\">`ICalculator`</ph> contract as defined in the following code:","pos":[2078,2160],"source":" The service implements an `ICalculator` contract as defined in the following code:"},{"content":"The service implementation calculates and returns the appropriate result.","pos":[2605,2678]},{"content":"When you run the sample, the operation requests and responses are displayed in the client console window.","pos":[3289,3394]},{"content":"Press ENTER in the client window to shut down the client.","pos":[3395,3452]},{"pos":[3636,3672],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[3682,3881],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[3891,4100],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"content":"After the solution has been built, run setup.bat to set up the ServiceModelSamples Application in <ph id=\"ph1\">[!INCLUDE[iisver](../../../../includes/iisver-md.md)]</ph>.","pos":[4110,4262],"source":"After the solution has been built, run setup.bat to set up the ServiceModelSamples Application in [!INCLUDE[iisver](../../../../includes/iisver-md.md)]."},{"content":"The ServiceModelSamples directory should now appear as an <ph id=\"ph1\">[!INCLUDE[iisver](../../../../includes/iisver-md.md)]</ph> Application.","pos":[4263,4387],"source":" The ServiceModelSamples directory should now appear as an [!INCLUDE[iisver](../../../../includes/iisver-md.md)] Application."},{"content":"To run the sample in a single- or cross-computer configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","pos":[4397,4606],"source":"To run the sample in a single- or cross-computer configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"content":"For an example on how to create a client application that can call this service, see <bpt id=\"p1\">[</bpt>How to: Create a Client<ept id=\"p1\">](../../../../docs/framework/wcf/how-to-create-a-wcf-client.md)</ept>.","pos":[4607,4780],"source":" For an example on how to create a client application that can call this service, see [How to: Create a Client](../../../../docs/framework/wcf/how-to-create-a-wcf-client.md)."},{"pos":[4789,4797],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[4801,4891],"content":"<bpt id=\"p1\">[</bpt>AppFabric Hosting and Persistence Samples<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=193961)</ept>","source":"[AppFabric Hosting and Persistence Samples](http://go.microsoft.com/fwlink/?LinkId=193961)"}]}