{"content":"---\ntitle: \"Using ServiceThrottlingBehavior to Control WCF Service Performance | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"behavior [WCF], service performance\"\nms.assetid: f9dc120c-dc24-49d5-930e-b22f5bc73423\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Using ServiceThrottlingBehavior to Control WCF Service Performance\nThe <xref:System.ServiceModel.Description.ServiceThrottlingBehavior> class exposes properties that you can use to limit how many instances or sessions are created at the application level. Using this behavior, you can fine-tune the performance of your [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] application.  \n  \n## Controlling Service Instances and Concurrent Calls  \n Use the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A> property to specify the maximum number of messages actively processing across a <xref:System.ServiceModel.ServiceHost> class, and the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A> property to specify the maximum number of <xref:System.ServiceModel.InstanceContext> objects in the service.  \n  \n Because determining the settings for these properties usually takes place after real-world experience running the application against loads, the settings for the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior> properties is typically specified in an application configuration file using the [\\<serviceThrottling>](../../../../docs/framework/configure-apps/file-schema/wcf/servicethrottling.md) element.  \n  \n The following code example shows the use of the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior> class from an application configuration file that sets the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentSessions%2A>, <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A>, and <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A> properties to 1 as a trivial example. Real-world experience determines the optimal settings for any particular application.  \n  \n [!code-xml[ServiceThrottlingBehavior#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/servicethrottlingbehavior/cs/hostapplication.exe.config#3)]   \n  \n The exact run-time behavior depends upon the values of the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> and <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> properties, which control how many messages can execute inside an operation at once and the lifetimes of the service <xref:System.ServiceModel.InstanceContext> relative to incoming channel sessions, respectively.  \n  \n For details, see <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A>, and <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A>.  \n  \n## See Also  \n <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>   \n <xref:System.ServiceModel.NetTcpBinding.MaxConnections%2A>","nodes":[{"pos":[4,450],"embed":true,"restype":"x-metadata","content":"title: \"Using ServiceThrottlingBehavior to Control WCF Service Performance | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"behavior [WCF], service performance\"\nms.assetid: f9dc120c-dc24-49d5-930e-b22f5bc73423\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Using ServiceThrottlingBehavior to Control WCF Service Performance | Microsoft Docs","nodes":[{"pos":[0,83],"content":"Using ServiceThrottlingBehavior to Control WCF Service Performance | Microsoft Docs","nodes":[{"content":"Using ServiceThrottlingBehavior to Control WCF Service Performance | Microsoft Docs","pos":[0,83]}]}],"path":["title"]}],"yml":true},{"pos":[457,523],"content":"Using ServiceThrottlingBehavior to Control WCF Service Performance","linkify":"Using ServiceThrottlingBehavior to Control WCF Service Performance","nodes":[{"content":"Using ServiceThrottlingBehavior to Control WCF Service Performance","pos":[0,66]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior&gt;</ph> class exposes properties that you can use to limit how many instances or sessions are created at the application level.","pos":[524,712],"source":"The <xref:System.ServiceModel.Description.ServiceThrottlingBehavior> class exposes properties that you can use to limit how many instances or sessions are created at the application level."},{"content":"Using this behavior, you can fine-tune the performance of your <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> application.","pos":[713,844],"source":" Using this behavior, you can fine-tune the performance of your [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] application."},{"pos":[853,903],"content":"Controlling Service Instances and Concurrent Calls","linkify":"Controlling Service Instances and Concurrent Calls","nodes":[{"content":"Controlling Service Instances and Concurrent Calls","pos":[0,50]}]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A&gt;</ph> property to specify the maximum number of messages actively processing across a <ph id=\"ph2\">&lt;xref:System.ServiceModel.ServiceHost&gt;</ph> class, and the <ph id=\"ph3\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A&gt;</ph> property to specify the maximum number of <ph id=\"ph4\">&lt;xref:System.ServiceModel.InstanceContext&gt;</ph> objects in the service.","pos":[907,1335],"source":"Use the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A> property to specify the maximum number of messages actively processing across a <xref:System.ServiceModel.ServiceHost> class, and the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A> property to specify the maximum number of <xref:System.ServiceModel.InstanceContext> objects in the service."},{"pos":[1342,1761],"content":"Because determining the settings for these properties usually takes place after real-world experience running the application against loads, the settings for the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior&gt;</ph> properties is typically specified in an application configuration file using the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>serviceThrottling&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/servicethrottling.md)</ept> element.","source":"Because determining the settings for these properties usually takes place after real-world experience running the application against loads, the settings for the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior> properties is typically specified in an application configuration file using the [\\<serviceThrottling>](../../../../docs/framework/configure-apps/file-schema/wcf/servicethrottling.md) element."},{"content":"The following code example shows the use of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior&gt;</ph> class from an application configuration file that sets the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentSessions%2A&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A&gt;</ph>, and <ph id=\"ph4\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A&gt;</ph> properties to 1 as a trivial example.","pos":[1768,2251],"source":"The following code example shows the use of the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior> class from an application configuration file that sets the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentSessions%2A>, <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A>, and <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A> properties to 1 as a trivial example."},{"content":"Real-world experience determines the optimal settings for any particular application.","pos":[2252,2337]},{"content":"The exact run-time behavior depends upon the values of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A&gt;</ph> properties, which control how many messages can execute inside an operation at once and the lifetimes of the service <ph id=\"ph3\">&lt;xref:System.ServiceModel.InstanceContext&gt;</ph> relative to incoming channel sessions, respectively.","pos":[2503,2924],"source":"The exact run-time behavior depends upon the values of the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> and <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> properties, which control how many messages can execute inside an operation at once and the lifetimes of the service <xref:System.ServiceModel.InstanceContext> relative to incoming channel sessions, respectively."},{"content":"For details, see <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A&gt;</ph>, and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A&gt;</ph>.","pos":[2931,3131],"source":"For details, see <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentCalls%2A>, and <xref:System.ServiceModel.Description.ServiceThrottlingBehavior.MaxConcurrentInstances%2A>."},{"pos":[3140,3148],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}