{"content":"---\ntitle: \"Emulating breaking in a While activity | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: ddff715d-d623-4b54-b841-60bacbc3ca21\ncaps.latest.revision: 10\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Emulating breaking in a While activity\nThis sample demonstrates how to break the looping mechanism of the following activities: <xref:System.Activities.Statements.DoWhile>, <xref:System.Activities.Statements.ForEach%601>, <xref:System.Activities.Statements.While>, and <xref:System.Activities.Statements.ParallelForEach%601>.  \n  \n This is useful because [!INCLUDE[wf](../../../../includes/wf-md.md)] does not include any activity to break the execution of these loops.  \n  \n## Scenario  \n The sample finds the first reliable vendor from a list of vendors (instances of the `Vendor` class). Each vendor has an `ID`, a `Name` and a numeric reliability value that determines how dependable the vendor is. The sample creates a custom activity called `FindReliableVendor` that receives two input parameters (a list of vendors and a minimum reliability value) and returns the first vendor of the list that matches the supplied criteria.  \n  \n## Breaking a Loop  \n [!INCLUDE[wf](../../../../includes/wf-md.md)] does not include an activity to break a loop. The code sample accomplishes breaking a loop by using an <xref:System.Activities.Statements.If> activity and several variables. In the sample, the <xref:System.Activities.Statements.While> activity is broken once the `reliableVendor` variable is assigned a value other than `null`.  \n  \n The following code example demonstrates how the sample breaks a while loop.  \n  \n```csharp  \n// Iterates while the \"i\" variable is lower than the size of the list   \n// and any reliable Vendor is found.        \nnew While(env => i.Get(env) < this.Vendors.Get(env).Count && reliableVendor.Get(env) == null)  \n{  \n    DisplayName = \"Main loop. Breaks when a reliable vendor is found\",  \n    Body = new Sequence  \n    {                              \n        Activities =  \n        {  \n            // This is the if used for setting the value of the break value…  \n            new If  \n            {  \n                DisplayName = \"Check for a reliable vendor\",  \n  \n                //  If a vendor satisfies the reliability level…  \n                Condition = new InArgument<bool>(env =>   \n                           this.Vendors.Get(env)[i.Get(env)].Reliability >   \n                           this.MinimumReliability.Get(env)),  \n  \n                // then assign that vendor to the reliable vendor variable and   \n                // the while condition becomes false (exit the loop).  \n                Then = new Assign<Vendor>  \n                {  \n                    To = reliableVendor,  \n                    Value = new InArgument<Vendor>(env =>   \n                                  this.Vendors.Get(env)[i.Get(env)])  \n                }  \n            },  \n  \n            // Increment the iteration variable.   \n            new Assign<int>  \n            {  \n                DisplayName = \"Increment iteration variable\",  \n                To = i,  \n                Value = new InArgument<int>(env => i.Get(env) + 1)  \n            }   \n        }  \n    }  \n}  \n  \n```  \n  \n#### To use this sample  \n  \n1.  Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the EmulatingBreakInWhile.sln solution file.  \n  \n2.  To build the solution, press CTRL+SHIFT+B.  \n  \n3.  To run the solution, press CTRL+F5.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Basic\\Built-InActivities\\EmulatingBreakInWhile`  \n  \n## See Also","nodes":[{"pos":[4,326],"embed":true,"restype":"x-metadata","content":"title: \"Emulating breaking in a While activity | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: ddff715d-d623-4b54-b841-60bacbc3ca21\ncaps.latest.revision: 10\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Emulating breaking in a While activity | Microsoft Docs","nodes":[{"pos":[0,55],"content":"Emulating breaking in a While activity | Microsoft Docs","nodes":[{"content":"Emulating breaking in a While activity | Microsoft Docs","pos":[0,55]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[333,371],"content":"Emulating breaking in a While activity","linkify":"Emulating breaking in a While activity","nodes":[{"content":"Emulating breaking in a While activity","pos":[0,38]}]},{"content":"This sample demonstrates how to break the looping mechanism of the following activities: <ph id=\"ph1\">&lt;xref:System.Activities.Statements.DoWhile&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Activities.Statements.ForEach%601&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Activities.Statements.While&gt;</ph>, and <ph id=\"ph4\">&lt;xref:System.Activities.Statements.ParallelForEach%601&gt;</ph>.","pos":[372,658],"source":"This sample demonstrates how to break the looping mechanism of the following activities: <xref:System.Activities.Statements.DoWhile>, <xref:System.Activities.Statements.ForEach%601>, <xref:System.Activities.Statements.While>, and <xref:System.Activities.Statements.ParallelForEach%601>."},{"pos":[665,802],"content":"This is useful because <ph id=\"ph1\">[!INCLUDE[wf](../../../../includes/wf-md.md)]</ph> does not include any activity to break the execution of these loops.","source":"This is useful because [!INCLUDE[wf](../../../../includes/wf-md.md)] does not include any activity to break the execution of these loops."},{"pos":[811,819],"content":"Scenario","linkify":"Scenario","nodes":[{"content":"Scenario","pos":[0,8]}]},{"content":"The sample finds the first reliable vendor from a list of vendors (instances of the <ph id=\"ph1\">`Vendor`</ph> class).","pos":[823,923],"source":"The sample finds the first reliable vendor from a list of vendors (instances of the `Vendor` class)."},{"content":"Each vendor has an <ph id=\"ph1\">`ID`</ph>, a <ph id=\"ph2\">`Name`</ph> and a numeric reliability value that determines how dependable the vendor is.","pos":[924,1035],"source":" Each vendor has an `ID`, a `Name` and a numeric reliability value that determines how dependable the vendor is."},{"content":"The sample creates a custom activity called <ph id=\"ph1\">`FindReliableVendor`</ph> that receives two input parameters (a list of vendors and a minimum reliability value) and returns the first vendor of the list that matches the supplied criteria.","pos":[1036,1264],"source":" The sample creates a custom activity called `FindReliableVendor` that receives two input parameters (a list of vendors and a minimum reliability value) and returns the first vendor of the list that matches the supplied criteria."},{"pos":[1273,1288],"content":"Breaking a Loop","linkify":"Breaking a Loop","nodes":[{"content":"Breaking a Loop","pos":[0,15]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[wf](../../../../includes/wf-md.md)]</ph> does not include an activity to break a loop.","pos":[1292,1383],"source":"[!INCLUDE[wf](../../../../includes/wf-md.md)] does not include an activity to break a loop."},{"content":"The code sample accomplishes breaking a loop by using an <ph id=\"ph1\">&lt;xref:System.Activities.Statements.If&gt;</ph> activity and several variables.","pos":[1384,1511],"source":" The code sample accomplishes breaking a loop by using an <xref:System.Activities.Statements.If> activity and several variables."},{"content":"In the sample, the <ph id=\"ph1\">&lt;xref:System.Activities.Statements.While&gt;</ph> activity is broken once the <ph id=\"ph2\">`reliableVendor`</ph> variable is assigned a value other than <ph id=\"ph3\">`null`</ph>.","pos":[1512,1665],"source":" In the sample, the <xref:System.Activities.Statements.While> activity is broken once the `reliableVendor` variable is assigned a value other than `null`."},{"content":"The following code example demonstrates how the sample breaks a while loop.","pos":[1672,1747]},{"pos":[3354,3372],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[3382,3492],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph>, open the EmulatingBreakInWhile.sln solution file.","source":"Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the EmulatingBreakInWhile.sln solution file."},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[3502,3544]},{"content":"To run the solution, press CTRL+F5.","pos":[3554,3589]},{"pos":[3597,3729],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[3783,4109],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[4110,4160]},{"pos":[4262,4270],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}