{"content":"---\ntitle: \"<behaviorExtensions>\"\nms.date: \"03/30/2017\"\nms.assetid: 59f2791a-c78f-40d7-aa80-0d9cd10135d9\n---\n# \\<behaviorExtensions>\nBehavior extensions enable the user to create user-defined behavior elements. These elements can be used alongside the standard Windows Communication Foundation (WCF) behavior elements. The `behaviorExtensions` section defines the element such that it can be used in configuration. Here is an example of a typical behavior extension.  \n  \n```xml  \n<system.serviceModel>\n  <extensions>\n    <behaviorExtensions>\n      <add name=\"myBehavior\"\n           type=\"Microsoft.ServiceModel.Samples.MyBehaviorSection, MyBehavior,\n                 Version=1.0.0.0, Culture=neutral, PublicKeyToken=null\" />\n    </behaviorExtensions>\n  </extensions>\n</system.serviceModel>\n```  \n  \n To add configuration abilities to the element, you need to write and register a configuration element. For more information on this, see the <xref:System.Configuration> documentation.  \n  \n After the element and its configuration type are defined, the extension can be used, as shown in the following example.  \n  \n```xml  \n<behaviors>\n  <behavior configurationName=\"testChannelBehavior\">\n    <myBehavior />\n    <channelSecurity cacheCookies=\"false\"\n                     detectReplays=\"false\"\n                     maxCachedNonces=\"9\"\n                     maxClockSkew=\"00:00:03\"\n                     maxCookieCachingTime=\"00:07:24\"\n                     replayWindow=\"00:07:22.2190000\" />\n  </behavior>\n</behaviors>\n```  \n  \n## Security  \n It is strongly recommended that you use fully qualified assembly names when registering types in the `machine.config` and `app.config` files. If the type is not uniquely defined, the CLR type loader searches for it in the following locations in the specified order:  \n  \n If the assembly of the type is known, the loader searches the configuration file's redirect locations, GAC, the current assembly using configuration information, and the application base directory. If the assembly is unknown, the loader searches the current assembly, mscorlib, and the location returned by the `TypeResolve` event handler. This CLR search order can be modified with hooks such as the Type Forwarding mechanism and the AppDomain.TypeResolve event.  \n  \n An attacker can exploit the CLR search order and execute unauthorized code. Using fully qualified (strong) names uniquely identifies a type and further increases security of your system.  \n  \n For more information, see [How the Runtime Locates Assemblies](https://go.microsoft.com/fwlink/?LinkId=95336) and <xref:System.AppDomain.TypeResolve>.  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>\n- [Configuring and Extending the Runtime with Behaviors](../../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)\n","nodes":[{"pos":[4,104],"embed":true,"restype":"x-metadata","content":"title: \"<behaviorExtensions>\"\nms.date: \"03/30/2017\"\nms.assetid: 59f2791a-c78f-40d7-aa80-0d9cd10135d9","nodes":[{"content":"<behaviorExtensions>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[111,132],"content":"\\<behaviorExtensions>","linkify":"\\<behaviorExtensions>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviorExtensions&gt;","pos":[0,21],"source":"\\<behaviorExtensions>"}]},{"content":"Behavior extensions enable the user to create user-defined behavior elements.","pos":[133,210]},{"content":"These elements can be used alongside the standard Windows Communication Foundation (WCF) behavior elements.","pos":[211,318]},{"content":"The <ph id=\"ph1\">`behaviorExtensions`</ph> section defines the element such that it can be used in configuration.","pos":[319,414],"source":" The `behaviorExtensions` section defines the element such that it can be used in configuration."},{"content":"Here is an example of a typical behavior extension.","pos":[415,466]},{"content":"To add configuration abilities to the element, you need to write and register a configuration element.","pos":[801,903]},{"content":"For more information on this, see the <ph id=\"ph1\">&lt;xref:System.Configuration&gt;</ph> documentation.","pos":[904,984],"source":" For more information on this, see the <xref:System.Configuration> documentation."},{"content":"After the element and its configuration type are defined, the extension can be used, as shown in the following example.","pos":[991,1110]},{"pos":[1528,1536],"content":"Security","linkify":"Security","nodes":[{"content":"Security","pos":[0,8]}]},{"content":"It is strongly recommended that you use fully qualified assembly names when registering types in the <ph id=\"ph1\">`machine.config`</ph> and <ph id=\"ph2\">`app.config`</ph> files.","pos":[1540,1681],"source":"It is strongly recommended that you use fully qualified assembly names when registering types in the `machine.config` and `app.config` files."},{"content":"If the type is not uniquely defined, the CLR type loader searches for it in the following locations in the specified order:","pos":[1682,1805]},{"content":"If the assembly of the type is known, the loader searches the configuration file's redirect locations, GAC, the current assembly using configuration information, and the application base directory.","pos":[1812,2009]},{"content":"If the assembly is unknown, the loader searches the current assembly, mscorlib, and the location returned by the <ph id=\"ph1\">`TypeResolve`</ph> event handler.","pos":[2010,2151],"source":" If the assembly is unknown, the loader searches the current assembly, mscorlib, and the location returned by the `TypeResolve` event handler."},{"content":"This CLR search order can be modified with hooks such as the Type Forwarding mechanism and the AppDomain.TypeResolve event.","pos":[2152,2275]},{"content":"An attacker can exploit the CLR search order and execute unauthorized code.","pos":[2282,2357]},{"content":"Using fully qualified (strong) names uniquely identifies a type and further increases security of your system.","pos":[2358,2468]},{"pos":[2475,2625],"content":"For more information, see <bpt id=\"p1\">[</bpt>How the Runtime Locates Assemblies<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=95336)</ept> and <ph id=\"ph1\">&lt;xref:System.AppDomain.TypeResolve&gt;</ph>.","source":"For more information, see [How the Runtime Locates Assemblies](https://go.microsoft.com/fwlink/?LinkId=95336) and <xref:System.AppDomain.TypeResolve>."},{"pos":[2634,2642],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2714,2869],"content":"<bpt id=\"p1\">[</bpt>Configuring and Extending the Runtime with Behaviors<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)</ept>","source":"[Configuring and Extending the Runtime with Behaviors](../../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)"}]}