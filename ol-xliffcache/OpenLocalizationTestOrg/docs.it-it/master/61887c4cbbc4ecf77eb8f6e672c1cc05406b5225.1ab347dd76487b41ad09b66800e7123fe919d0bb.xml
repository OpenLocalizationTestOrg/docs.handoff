{"content":"---\ntitle: \"WCF Analytic Tracing | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6029c7c7-3515-4d36-9d43-13e8f4971790\ncaps.latest.revision: 21\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# WCF Analytic Tracing\nThis sample demonstrates how to add your own tracing events into the stream of analytic traces that [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] writes to ETW in [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]. Analytic traces are meant to make it easy to get visibility into your services without paying a high performance penalty. This sample shows how to use the <xref:System.Diagnostics.Eventing?displayProperty=fullName> APIs to write events that integrate with [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services.  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] the <xref:System.Diagnostics.Eventing?displayProperty=fullName> APIs, see <xref:System.Diagnostics.Eventing?displayProperty=fullName>.  \n  \n To learn more about event tracing in Windows, see [Improve Debugging and Performance Tuning with ETW](http://go.microsoft.com/fwlink/?LinkId=166488).  \n  \n## Disposing EventProvider  \n This sample uses the <xref:System.Diagnostics.Eventing.EventProvider?displayProperty=fullName> class, which implements <xref:System.IDisposable?displayProperty=fullName>. When implementing tracing for a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service, it is likely that you may use the <xref:System.Diagnostics.Eventing.EventProvider>’s resources for the lifetime of the service. For this reason, and for readability, this sample never disposes of the wrapped <xref:System.Diagnostics.Eventing.EventProvider>. If for some reason your service has different requirements for tracing and you must dispose of this resource, then you should modify this sample in accordance with the best practices for disposing of unmanaged resources. [!INCLUDE[crabout](../../../../includes/crabout-md.md)] disposing unmanaged resources, see [Implementing a Dispose Method](http://go.microsoft.com/fwlink/?LinkId=166436).  \n  \n## Self-Hosting vs. Web Hosting  \n For Web-hosted services, WCF’s analytic traces provide a field, called \"HostReference\", which is used to identify the service that is emitting the traces. The extensible user traces can participate in this model and this sample demonstrates best practices for doing so. The format of a Web host reference when the pipe ‘&#124;’ character actually appears in the resulting string can be any one of the following:  \n  \n-   If the application is not at the root.  \n  \n     \\<SiteName>\\<ApplicationVirtualPath>&#124;\\<ServiceVirtualPath>&#124;\\<ServiceName>  \n  \n-   If the application is at the root.  \n  \n     \\<SiteName>&#124;\\<ServiceVirtualPath>&#124;\\<ServiceName>  \n  \n For self-hosted services, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]’s analytic traces do not populate the \"HostReference\" field. The `WCFUserEventProvider` class in this sample behaves consistently when used by a self-hosted service.  \n  \n## Custom Event Details  \n [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]’s ETW Event Provider manifest defines three events that are designed to be emitted by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service authors from within service code. The following table shows a breakdown of the three events.  \n  \n|Event|Description|Event ID|  \n|-----------|-----------------|--------------|  \n|UserDefinedInformationEventOccurred|Emit this event when something of note happens in your service that is not a problem. For example, you might emit an event after successfully making a call to a database.|301|  \n|UserDefinedWarningOccurred|Emit this event when a problem occurs that may result in a failure in the future. For example, you may emit a warning event when a call to a database fails but you were able to recover by falling back to a redundant data store.|302|  \n|UserDefinedErrorOccurred|Emit this event when your service fails to behave as expected. For example, you might emit an event if a call to a database fails and you could not retrieve the data from elsewhere.|303|  \n  \n#### To use this sample  \n  \n1.  Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open the WCFAnalyticTracingExtensibility.sln solution file.  \n  \n2.  To build the solution, press CTRL+SHIFT+B.  \n  \n3.  To run the solution, press CTRL+F5.  \n  \n     In the Web browser, click **Calculator.svc**. The URI of the WSDL document for the service should appear in the browser. Copy that URI.  \n  \n4.  Run the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client (WcfTestClient.exe).  \n  \n     The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client (WcfTestClient.exe) is located in the \\<[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Install Dir>\\Common7\\IDE\\ WcfTestClient.exe (default [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] install dir is C:\\Program Files\\Microsoft Visual Studio 10.0).  \n  \n5.  Within the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client, add the service by selecting **File**, and then **Add Service**.  \n  \n     Add the endpoint address in the input box.  \n  \n6.  Click **OK** to close the dialog.  \n  \n     The ICalculator service is added in the left pane under **My Service Projects**.  \n  \n7.  Open the Event Viewer application.  \n  \n     Before invoking the service, start Event Viewer and ensure that the event log is listening for tracking events emitted from the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service.  \n  \n8.  From the **Start** menu, select **Administrative Tools**, and then **Event Viewer**. Enable the **Analytic** and **Debug** logs.  \n  \n9. In the tree view in Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, and then **Application Server-Applications**. Right-click **Application Server-Applications**, select **View**, and then **Show Analytic and Debug Logs**.  \n  \n     Ensure that the **Show Analytic and Debug Logs** option is checked. Enable the **Analytic** log.  \n  \n     In the tree view in Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**, and then **Analytic**. Right-click **Analytic** and select **Enable Log**.  \n  \n10. Test the service using the WCF Test Client.  \n  \n    1.  In the WCF Test Client, double-click **Add()** under the ICalculator service node.  \n  \n         The **Add()** method appears in the right pane with two parameters.  \n  \n    2.  Type in 2 for the first parameter and 3 for the second parameter.  \n  \n    3.  Click **Invoke** to invoke the method.  \n  \n11. Go to the **Event Viewer** window that you have already opened. Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.  \n  \n12. Right-click the **Analytic** node and select **Refresh**.  \n  \n     The events appear in the right pane.  \n  \n13. Locate the event with the ID of 303 and double-click it to open it up and inspect its contents.  \n  \n     This event was emitted by the `Add()` method of the ICalculator service and has a payload equal to \"2+3=5\".  \n  \n#### To clean up (Optional)  \n  \n1.  Open **Event Viewer**.  \n  \n2.  Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, and then **Application-Server-Applications**. Right-click **Analytic** and select **Disable Log**.  \n  \n3.  Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application-Server-Applications**, and then **Analytic**. Right-click **Analytic** and select **Clear Log**.  \n  \n4.  Click **Clear** to clear the events.  \n  \n## Known Issue  \n There is a known issue in the **Event Viewer** where it may fail to decode ETW events. You may see an error message that says: \"The description for Event ID \\<id> from source Microsoft-Windows-Application Server-Applications cannot be found. Either the component that raises this event is not installed on your local computer or the installation is corrupted. You can install or repair the component on the local computer.\" If you encounter this error, select **Refresh** from the **Actions** menu. The event should then decode properly.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Management\\ETWTrace`  \n  \n## See Also  \n [AppFabric Monitoring Samples](http://go.microsoft.com/fwlink/?LinkId=193959)","nodes":[{"pos":[4,341],"embed":true,"restype":"x-metadata","content":"title: \"WCF Analytic Tracing | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6029c7c7-3515-4d36-9d43-13e8f4971790\ncaps.latest.revision: 21\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"WCF Analytic Tracing | Microsoft Docs","nodes":[{"pos":[0,37],"content":"WCF Analytic Tracing | Microsoft Docs","nodes":[{"content":"WCF Analytic Tracing | Microsoft Docs","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[348,368],"content":"WCF Analytic Tracing","linkify":"WCF Analytic Tracing","nodes":[{"content":"WCF Analytic Tracing","pos":[0,20]}]},{"content":"This sample demonstrates how to add your own tracing events into the stream of analytic traces that <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> writes to ETW in <ph id=\"ph2\">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]</ph>.","pos":[369,620],"source":"This sample demonstrates how to add your own tracing events into the stream of analytic traces that [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] writes to ETW in [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]."},{"content":"Analytic traces are meant to make it easy to get visibility into your services without paying a high performance penalty.","pos":[621,742]},{"content":"This sample shows how to use the <ph id=\"ph1\">&lt;xref:System.Diagnostics.Eventing?displayProperty=fullName&gt;</ph> APIs to write events that integrate with <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> services.","pos":[743,942],"source":" This sample shows how to use the <xref:System.Diagnostics.Eventing?displayProperty=fullName> APIs to write events that integrate with [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services."},{"pos":[1005,1139],"content":"the <ph id=\"ph1\">&lt;xref:System.Diagnostics.Eventing?displayProperty=fullName&gt;</ph> APIs, see <ph id=\"ph2\">&lt;xref:System.Diagnostics.Eventing?displayProperty=fullName&gt;</ph>.","source":" the <xref:System.Diagnostics.Eventing?displayProperty=fullName> APIs, see <xref:System.Diagnostics.Eventing?displayProperty=fullName>."},{"pos":[1146,1295],"content":"To learn more about event tracing in Windows, see <bpt id=\"p1\">[</bpt>Improve Debugging and Performance Tuning with ETW<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=166488)</ept>.","source":"To learn more about event tracing in Windows, see [Improve Debugging and Performance Tuning with ETW](http://go.microsoft.com/fwlink/?LinkId=166488)."},{"pos":[1304,1327],"content":"Disposing EventProvider","linkify":"Disposing EventProvider","nodes":[{"content":"Disposing EventProvider","pos":[0,23]}]},{"content":"This sample uses the <ph id=\"ph1\">&lt;xref:System.Diagnostics.Eventing.EventProvider?displayProperty=fullName&gt;</ph> class, which implements <ph id=\"ph2\">&lt;xref:System.IDisposable?displayProperty=fullName&gt;</ph>.","pos":[1331,1501],"source":"This sample uses the <xref:System.Diagnostics.Eventing.EventProvider?displayProperty=fullName> class, which implements <xref:System.IDisposable?displayProperty=fullName>."},{"content":"When implementing tracing for a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service, it is likely that you may use the <ph id=\"ph2\">&lt;xref:System.Diagnostics.Eventing.EventProvider&gt;</ph>’s resources for the lifetime of the service.","pos":[1502,1726],"source":" When implementing tracing for a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service, it is likely that you may use the <xref:System.Diagnostics.Eventing.EventProvider>’s resources for the lifetime of the service."},{"content":"For this reason, and for readability, this sample never disposes of the wrapped <ph id=\"ph1\">&lt;xref:System.Diagnostics.Eventing.EventProvider&gt;</ph>.","pos":[1727,1856],"source":" For this reason, and for readability, this sample never disposes of the wrapped <xref:System.Diagnostics.Eventing.EventProvider>."},{"content":"If for some reason your service has different requirements for tracing and you must dispose of this resource, then you should modify this sample in accordance with the best practices for disposing of unmanaged resources.","pos":[1857,2077]},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> disposing unmanaged resources, see <bpt id=\"p1\">[</bpt>Implementing a Dispose Method<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=166436)</ept>.","pos":[2078,2248],"source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] disposing unmanaged resources, see [Implementing a Dispose Method](http://go.microsoft.com/fwlink/?LinkId=166436)."},{"pos":[2257,2285],"content":"Self-Hosting vs. Web Hosting","linkify":"Self-Hosting vs. Web Hosting","nodes":[{"content":"Self-Hosting vs. Web Hosting","pos":[0,28]}]},{"content":"For Web-hosted services, WCF’s analytic traces provide a field, called \"HostReference\", which is used to identify the service that is emitting the traces.","pos":[2289,2443]},{"content":"The extensible user traces can participate in this model and this sample demonstrates best practices for doing so.","pos":[2444,2558]},{"content":"The format of a Web host reference when the pipe ‘&amp;#124;’ character actually appears in the resulting string can be any one of the following:","pos":[2559,2700],"source":" The format of a Web host reference when the pipe ‘&#124;’ character actually appears in the resulting string can be any one of the following:"},{"content":"If the application is not at the root.","pos":[2710,2748]},{"content":"<ph id=\"ph1\">\\&lt;</ph>SiteName&gt;<ph id=\"ph2\">\\&lt;</ph>ApplicationVirtualPath&gt;&amp;#124;<ph id=\"ph3\">\\&lt;</ph>ServiceVirtualPath&gt;&amp;#124;<ph id=\"ph4\">\\&lt;</ph>ServiceName&gt;","pos":[2759,2842],"source":"\\<SiteName>\\<ApplicationVirtualPath>&#124;\\<ServiceVirtualPath>&#124;\\<ServiceName>"},{"content":"If the application is at the root.","pos":[2852,2886]},{"content":"<ph id=\"ph1\">\\&lt;</ph>SiteName&gt;&amp;#124;<ph id=\"ph2\">\\&lt;</ph>ServiceVirtualPath&gt;&amp;#124;<ph id=\"ph3\">\\&lt;</ph>ServiceName&gt;","pos":[2897,2955],"source":"\\<SiteName>&#124;\\<ServiceVirtualPath>&#124;\\<ServiceName>"},{"content":"For self-hosted services, <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph>’s analytic traces do not populate the \"HostReference\" field.","pos":[2962,3104],"source":"For self-hosted services, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]’s analytic traces do not populate the \"HostReference\" field."},{"content":"The <ph id=\"ph1\">`WCFUserEventProvider`</ph> class in this sample behaves consistently when used by a self-hosted service.","pos":[3105,3209],"source":" The `WCFUserEventProvider` class in this sample behaves consistently when used by a self-hosted service."},{"pos":[3218,3238],"content":"Custom Event Details","linkify":"Custom Event Details","nodes":[{"content":"Custom Event Details","pos":[0,20]}]},{"content":"’s ETW Event Provider manifest defines three events that are designed to be emitted by <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service authors from within service code.","pos":[3297,3481],"source":"’s ETW Event Provider manifest defines three events that are designed to be emitted by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service authors from within service code."},{"content":"The following table shows a breakdown of the three events.","pos":[3482,3540]},{"content":"Event","pos":[3547,3552]},{"content":"Description","pos":[3553,3564]},{"content":"Event ID","pos":[3565,3573]},{"content":"UserDefinedInformationEventOccurred","pos":[3627,3662]},{"content":"Emit this event when something of note happens in your service that is not a problem.","pos":[3663,3748]},{"content":"For example, you might emit an event after successfully making a call to a database.","pos":[3749,3833]},{"content":"301","pos":[3834,3837]},{"content":"UserDefinedWarningOccurred","pos":[3842,3868]},{"content":"Emit this event when a problem occurs that may result in a failure in the future.","pos":[3869,3950]},{"content":"For example, you may emit a warning event when a call to a database fails but you were able to recover by falling back to a redundant data store.","pos":[3951,4096]},{"content":"302","pos":[4097,4100]},{"content":"UserDefinedErrorOccurred","pos":[4105,4129]},{"content":"Emit this event when your service fails to behave as expected.","pos":[4130,4192]},{"content":"For example, you might emit an event if a call to a database fails and you could not retrieve the data from elsewhere.","pos":[4193,4311]},{"content":"303","pos":[4312,4315]},{"pos":[4327,4345],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[4355,4493],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph>, open the WCFAnalyticTracingExtensibility.sln solution file.","source":"Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open the WCFAnalyticTracingExtensibility.sln solution file."},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[4503,4545]},{"content":"To run the solution, press CTRL+F5.","pos":[4555,4590]},{"content":"In the Web browser, click <bpt id=\"p1\">**</bpt>Calculator.svc<ept id=\"p1\">**</ept>.","pos":[4601,4646],"source":"In the Web browser, click **Calculator.svc**."},{"content":"The URI of the WSDL document for the service should appear in the browser.","pos":[4647,4721]},{"content":"Copy that URI.","pos":[4722,4736]},{"pos":[4746,4842],"content":"Run the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> test client (WcfTestClient.exe).","source":"Run the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client (WcfTestClient.exe)."},{"pos":[4853,5224],"content":"The <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> test client (WcfTestClient.exe) is located in the <ph id=\"ph2\">\\&lt;</ph><ph id=\"ph3\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph> Install Dir&gt;\\Common7\\IDE\\ WcfTestClient.exe (default <ph id=\"ph4\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph> install dir is C:\\Program Files\\Microsoft Visual Studio 10.0).","source":"The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client (WcfTestClient.exe) is located in the \\<[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Install Dir>\\Common7\\IDE\\ WcfTestClient.exe (default [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] install dir is C:\\Program Files\\Microsoft Visual Studio 10.0)."},{"pos":[5234,5378],"content":"Within the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> test client, add the service by selecting <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept>, and then <bpt id=\"p2\">**</bpt>Add Service<ept id=\"p2\">**</ept>.","source":"Within the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client, add the service by selecting **File**, and then **Add Service**."},{"content":"Add the endpoint address in the input box.","pos":[5389,5431]},{"pos":[5441,5474],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to close the dialog.","source":"Click **OK** to close the dialog."},{"pos":[5485,5565],"content":"The ICalculator service is added in the left pane under <bpt id=\"p1\">**</bpt>My Service Projects<ept id=\"p1\">**</ept>.","source":"The ICalculator service is added in the left pane under **My Service Projects**."},{"content":"Open the Event Viewer application.","pos":[5575,5609]},{"pos":[5620,5812],"content":"Before invoking the service, start Event Viewer and ensure that the event log is listening for tracking events emitted from the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service.","source":"Before invoking the service, start Event Viewer and ensure that the event log is listening for tracking events emitted from the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service."},{"content":"From the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> menu, select <bpt id=\"p2\">**</bpt>Administrative Tools<ept id=\"p2\">**</ept>, and then <bpt id=\"p3\">**</bpt>Event Viewer<ept id=\"p3\">**</ept>.","pos":[5822,5906],"source":"From the **Start** menu, select **Administrative Tools**, and then **Event Viewer**."},{"content":"Enable the <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Debug<ept id=\"p2\">**</ept> logs.","pos":[5907,5950],"source":" Enable the **Analytic** and **Debug** logs."},{"content":"In the tree view in Event Viewer, navigate to <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Applications and Services Logs<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Microsoft<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Windows<ept id=\"p4\">**</ept>, and then <bpt id=\"p5\">**</bpt>Application Server-Applications<ept id=\"p5\">**</ept>.","pos":[5959,6132],"source":"In the tree view in Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, and then **Application Server-Applications**."},{"content":"Right-click <bpt id=\"p1\">**</bpt>Application Server-Applications<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept>, and then <bpt id=\"p3\">**</bpt>Show Analytic and Debug Logs<ept id=\"p3\">**</ept>.","pos":[6133,6241],"source":" Right-click **Application Server-Applications**, select **View**, and then **Show Analytic and Debug Logs**."},{"content":"Ensure that the <bpt id=\"p1\">**</bpt>Show Analytic and Debug Logs<ept id=\"p1\">**</ept> option is checked.","pos":[6252,6319],"source":"Ensure that the **Show Analytic and Debug Logs** option is checked."},{"content":"Enable the <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> log.","pos":[6320,6348],"source":" Enable the **Analytic** log."},{"content":"In the tree view in Event Viewer, navigate to <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Applications and Services Logs<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Microsoft<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Windows<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>Application Server-Applications<ept id=\"p5\">**</ept>, and then <bpt id=\"p6\">**</bpt>Analytic<ept id=\"p6\">**</ept>.","pos":[6359,6546],"source":"In the tree view in Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**, and then **Analytic**."},{"content":"Right-click <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Enable Log<ept id=\"p2\">**</ept>.","pos":[6547,6598],"source":" Right-click **Analytic** and select **Enable Log**."},{"content":"Test the service using the WCF Test Client.","pos":[6608,6651]},{"pos":[6665,6747],"content":"In the WCF Test Client, double-click <bpt id=\"p1\">**</bpt>Add()<ept id=\"p1\">**</ept> under the ICalculator service node.","source":"In the WCF Test Client, double-click **Add()** under the ICalculator service node."},{"pos":[6762,6829],"content":"The <bpt id=\"p1\">**</bpt>Add()<ept id=\"p1\">**</ept> method appears in the right pane with two parameters.","source":"The **Add()** method appears in the right pane with two parameters."},{"content":"Type in 2 for the first parameter and 3 for the second parameter.","pos":[6843,6908]},{"pos":[6922,6960],"content":"Click <bpt id=\"p1\">**</bpt>Invoke<ept id=\"p1\">**</ept> to invoke the method.","source":"Click **Invoke** to invoke the method."},{"content":"Go to the <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept> window that you have already opened.","pos":[6970,7033],"source":"Go to the **Event Viewer** window that you have already opened."},{"content":"Navigate to <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Applications and Services Logs<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Microsoft<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Windows<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>Application Server-Applications<ept id=\"p5\">**</ept>.","pos":[7034,7164],"source":" Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**."},{"pos":[7174,7231],"content":"Right-click the <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> node and select <bpt id=\"p2\">**</bpt>Refresh<ept id=\"p2\">**</ept>.","source":"Right-click the **Analytic** node and select **Refresh**."},{"content":"The events appear in the right pane.","pos":[7242,7278]},{"content":"Locate the event with the ID of 303 and double-click it to open it up and inspect its contents.","pos":[7288,7383]},{"pos":[7394,7501],"content":"This event was emitted by the <ph id=\"ph1\">`Add()`</ph> method of the ICalculator service and has a payload equal to \"2+3=5\".","source":"This event was emitted by the `Add()` method of the ICalculator service and has a payload equal to \"2+3=5\"."},{"pos":[7512,7534],"content":"To clean up (Optional)","linkify":"To clean up (Optional)","nodes":[{"content":"To clean up (Optional)","pos":[0,22]}]},{"pos":[7544,7566],"content":"Open <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept>.","source":"Open **Event Viewer**."},{"content":"Navigate to <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Applications and Services Logs<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Microsoft<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Windows<ept id=\"p4\">**</ept>, and then <bpt id=\"p5\">**</bpt>Application-Server-Applications<ept id=\"p5\">**</ept>.","pos":[7576,7715],"source":"Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, and then **Application-Server-Applications**."},{"content":"Right-click <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Disable Log<ept id=\"p2\">**</ept>.","pos":[7716,7768],"source":" Right-click **Analytic** and select **Disable Log**."},{"content":"Navigate to <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Applications and Services Logs<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Microsoft<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Windows<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>Application-Server-Applications<ept id=\"p5\">**</ept>, and then <bpt id=\"p6\">**</bpt>Analytic<ept id=\"p6\">**</ept>.","pos":[7778,7931],"source":"Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application-Server-Applications**, and then **Analytic**."},{"content":"Right-click <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Clear Log<ept id=\"p2\">**</ept>.","pos":[7932,7982],"source":" Right-click **Analytic** and select **Clear Log**."},{"pos":[7992,8028],"content":"Click <bpt id=\"p1\">**</bpt>Clear<ept id=\"p1\">**</ept> to clear the events.","source":"Click **Clear** to clear the events."},{"pos":[8037,8048],"content":"Known Issue","linkify":"Known Issue","nodes":[{"content":"Known Issue","pos":[0,11]}]},{"content":"There is a known issue in the <bpt id=\"p1\">**</bpt>Event Viewer<ept id=\"p1\">**</ept> where it may fail to decode ETW events.","pos":[8052,8138],"source":"There is a known issue in the **Event Viewer** where it may fail to decode ETW events."},{"content":"You may see an error message that says: \"The description for Event ID <ph id=\"ph1\">\\&lt;</ph>id&gt; from source Microsoft-Windows-Application Server-Applications cannot be found.","pos":[8139,8293],"source":" You may see an error message that says: \"The description for Event ID \\<id> from source Microsoft-Windows-Application Server-Applications cannot be found."},{"content":"Either the component that raises this event is not installed on your local computer or the installation is corrupted.","pos":[8294,8411]},{"content":"You can install or repair the component on the local computer.\"","pos":[8412,8475]},{"content":"If you encounter this error, select <bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>Actions<ept id=\"p2\">**</ept> menu.","pos":[8476,8550],"source":" If you encounter this error, select **Refresh** from the **Actions** menu."},{"content":"The event should then decode properly.","pos":[8551,8589]},{"pos":[8597,8730],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[14,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[0,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[8784,9110],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[9111,9161]},{"pos":[9243,9251],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[9255,9332],"content":"<bpt id=\"p1\">[</bpt>AppFabric Monitoring Samples<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=193959)</ept>","source":"[AppFabric Monitoring Samples](http://go.microsoft.com/fwlink/?LinkId=193959)"}]}