{"content":"---\ntitle: Alternation Constructs in .NET Regular Expressions\ndescription: Learn how to use alternation constructs for conditional matching in regular expressions.\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"either/or matching\"\n  - \"alternative matching patterns\"\n  - \"regular expressions, alternation constructs\"\n  - \"alternation constructs\"\n  - \"optional matching patterns\"\n  - \"constructs, alternation\"\n  - \".NET Framework regular expressions, alternation constructs\"\nms.assetid: 071e22e9-fbb0-4ecf-add1-8d2424f9f2d1\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nms.custom: seodec18\n---\n# Alternation Constructs in Regular Expressions\n<a name=\"top\"></a> Alternation constructs modify a regular expression to enable either/or or conditional matching. .NET supports three alternation constructs:  \n  \n-   [Pattern matching with &#124;](#Either_Or)  \n  \n-   [Conditional matching with (?(expression)yes&#124;no)](#Conditional_Expr)  \n  \n-   [Conditional matching based on a valid captured group](#Conditional_Group)  \n  \n<a name=\"Either_Or\"></a>   \n## Pattern Matching with &#124;  \n You can use the vertical bar (`|`) character to match any one of a series of patterns, where the `|` character separates each pattern.  \n  \n Like the positive character class, the `|` character can be used to match any one of a number of single characters. The following example uses both a positive character class and either/or pattern matching with the `|` character to locate occurrences of the words \"gray\" or \"grey\" in a string. In this case, the `|` character produces a regular expression that is more verbose.  \n  \n [!code-csharp[RegularExpressions.Language.Alternation#1](../../../samples/snippets/csharp/VS_Snippets_CLR/regularexpressions.language.alternation/cs/alternation1.cs#1)]\n [!code-vb[RegularExpressions.Language.Alternation#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/regularexpressions.language.alternation/vb/alternation1.vb#1)]  \n  \n The regular expression that uses the `|` character, `\\bgr(a|e)y\\b`, is interpreted as shown in the following table.  \n  \n|Pattern|Description|  \n|-------------|-----------------|  \n|`\\b`|Start at a word boundary.|  \n|`gr`|Match the characters \"gr\".|  \n|<code>(a&#124;e)</code>|Match either an \"a\" or an \"e\".|  \n|`y\\b`|Match a \"y\" on a word boundary.|  \n  \n The `|` character can also be used to perform an either/or match with multiple characters or subexpressions, which can include any combination of character literals and regular expression language elements. (The character class does not provide this functionality.) The following example uses the `|` character to extract either a U.S. Social Security Number (SSN), which is a 9-digit number with the format *ddd*-*dd*-*dddd*, or a U.S. Employer Identification Number (EIN), which is a 9-digit number with the format *dd*-*ddddddd*.  \n  \n [!code-csharp[RegularExpressions.Language.Alternation#2](../../../samples/snippets/csharp/VS_Snippets_CLR/regularexpressions.language.alternation/cs/alternation2.cs#2)]\n [!code-vb[RegularExpressions.Language.Alternation#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/regularexpressions.language.alternation/vb/alternation2.vb#2)]  \n  \n The regular expression `\\b(\\d{2}-\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b` is interpreted as shown in the following table.  \n  \n|Pattern|Description|  \n|-------------|-----------------|  \n|`\\b`|Start at a word boundary.|  \n|<code>(\\d{2}-\\d{7}&#124;\\d{3}-\\d{2}-\\d{4})</code>|Match either of the following: two decimal digits followed by a hyphen followed by seven decimal digits; or three decimal digits, a hyphen, two decimal digits, another hyphen, and four decimal digits.|  \n|`\\d`|End the match at a word boundary.|  \n  \n [Back to top](#top)  \n  \n<a name=\"Conditional_Expr\"></a>   \n## Conditional Matching with an Expression  \n This language element attempts to match one of two patterns depending on whether it can match an initial pattern. Its syntax is:  \n  \n `(?(` *expression* `)` *yes* `|` *no* `)`  \n  \n where *expression* is the initial pattern to match, *yes* is the pattern to match if *expression* is matched, and *no* is the optional pattern to match if *expression* is not matched. The regular expression engine treats *expression* as a zero-width assertion; that is, the regular expression engine does not advance in the input stream after it evaluates *expression*. Therefore, this construct is equivalent to the following:  \n  \n `(?(?=` *expression* `)` *yes* `|` *no* `)`  \n  \n where `(?=`*expression*`)` is a zero-width assertion construct. (For more information, see [Grouping Constructs](../../../docs/standard/base-types/grouping-constructs-in-regular-expressions.md).) Because the regular expression engine interprets *expression* as an anchor (a zero-width assertion), *expression* must either be a zero-width assertion (for more information, see [Anchors](../../../docs/standard/base-types/anchors-in-regular-expressions.md)) or a subexpression that is also contained in *yes*. Otherwise, the *yes* pattern cannot be matched.  \n  \n> [!NOTE]\n>  If *expression*is a named or numbered capturing group, the alternation construct is interpreted as a capture test; for more information, see the next section, [Conditional Matching Based on a Valid Capture Group](#Conditional_Group). In other words, the regular expression engine does not attempt to match the captured substring, but instead tests for the presence or absence of the group.  \n  \n The following example is a variation of the example that appears in the [Either/Or Pattern Matching with &#124;](#Either_Or) section. It uses conditional matching to determine whether the first three characters after a word boundary are two digits followed by a hyphen. If they are, it attempts to match a U.S. Employer Identification Number (EIN). If not, it attempts to match a U.S. Social Security Number (SSN).  \n  \n [!code-csharp[RegularExpressions.Language.Alternation#3](../../../samples/snippets/csharp/VS_Snippets_CLR/regularexpressions.language.alternation/cs/alternation3.cs#3)]\n [!code-vb[RegularExpressions.Language.Alternation#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/regularexpressions.language.alternation/vb/alternation3.vb#3)]  \n  \n The regular expression pattern `\\b(?(\\d{2}-)\\d{2}-\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b` is interpreted as shown in the following table.  \n  \n|Pattern|Description|  \n|-------------|-----------------|  \n|`\\b`|Start at a word boundary.|  \n|`(?(\\d{2}-)`|Determine whether the next three characters consist of two digits followed by a hyphen.|  \n|`\\d{2}-\\d{7}`|If the previous pattern matches, match two digits followed by a hyphen followed by seven digits.|  \n|`\\d{3}-\\d{2}-\\d{4}`|If the previous pattern does not match, match three decimal digits, a hyphen, two decimal digits, another hyphen, and four decimal digits.|  \n|`\\b`|Match a word boundary.|  \n  \n [Back to top](#top)  \n  \n<a name=\"Conditional_Group\"></a>   \n## Conditional Matching Based on a Valid Captured Group  \n This language element attempts to match one of two patterns depending on whether it has matched a specified capturing group. Its syntax is:  \n  \n `(?(` *name* `)` *yes* `|` *no* `)`  \n  \n or  \n  \n `(?(` *number* `)` *yes* `|` *no* `)`  \n  \n where *name* is the name and *number* is the number of a capturing group, *yes* is the expression to match if *name* or *number* has a match, and *no* is the optional expression to match if it does not.  \n  \n If *name* does not correspond to the name of a capturing group that is used in the regular expression pattern, the alternation construct is interpreted as an expression test, as explained in the previous section. Typically, this means that *expression* evaluates to `false`. If *number* does not correspond to a numbered capturing group that is used in the regular expression pattern, the regular expression engine throws an <xref:System.ArgumentException>.  \n  \n The following example is a variation of the example that appears in the [Either/Or Pattern Matching with &#124;](#Either_Or) section. It uses a capturing group named `n2` that consists of two digits followed by a hyphen. The alternation construct tests whether this capturing group has been matched in the input string. If it has, the alternation construct attempts to match the last seven digits of a nine-digit U.S. Employer Identification Number (EIN). If it has not, it attempts to match a nine-digit U.S. Social Security Number (SSN).  \n  \n [!code-csharp[RegularExpressions.Language.Alternation#4](../../../samples/snippets/csharp/VS_Snippets_CLR/regularexpressions.language.alternation/cs/alternation4.cs#4)]\n [!code-vb[RegularExpressions.Language.Alternation#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/regularexpressions.language.alternation/vb/alternation4.vb#4)]  \n  \n The regular expression pattern `\\b(?<n2>\\d{2}-)?(?(n2)\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b` is interpreted as shown in the following table.  \n  \n|Pattern|Description|  \n|-------------|-----------------|  \n|`\\b`|Start at a word boundary.|  \n|`(?<n2>\\d{2}-)?`|Match zero or one occurrence of two digits followed by a hyphen. Name this capturing group `n2`.|  \n|`(?(n2)`|Test whether `n2` was matched in the input string.|  \n|`)\\d{7}`|If `n2` was matched, match seven decimal digits.|  \n|<code>&#124;\\d{3}-\\d{2}-\\d{4}</code>|If `n2` was not matched, match three decimal digits, a hyphen, two decimal digits, another hyphen, and four decimal digits.|  \n|`\\b`|Match a word boundary.|  \n  \n A variation of this example that uses a numbered group instead of a named group is shown in the following example. Its regular expression pattern is `\\b(\\d{2}-)?(?(1)\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b`.  \n  \n [!code-csharp[RegularExpressions.Language.Alternation#5](../../../samples/snippets/csharp/VS_Snippets_CLR/regularexpressions.language.alternation/cs/alternation5.cs#5)]\n [!code-vb[RegularExpressions.Language.Alternation#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/regularexpressions.language.alternation/vb/alternation5.vb#5)]  \n  \n## See also\n\n- [Regular Expression Language - Quick Reference](../../../docs/standard/base-types/regular-expression-language-quick-reference.md)\n","nodes":[{"pos":[4,649],"embed":true,"restype":"x-metadata","content":"title: Alternation Constructs in .NET Regular Expressions\ndescription: Learn how to use alternation constructs for conditional matching in regular expressions.\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"either/or matching\"\n  - \"alternative matching patterns\"\n  - \"regular expressions, alternation constructs\"\n  - \"alternation constructs\"\n  - \"optional matching patterns\"\n  - \"constructs, alternation\"\n  - \".NET Framework regular expressions, alternation constructs\"\nms.assetid: 071e22e9-fbb0-4ecf-add1-8d2424f9f2d1\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nms.custom: seodec18","nodes":[{"content":"Alternation Constructs in .NET Regular Expressions","nodes":[{"pos":[0,50],"content":"Alternation Constructs in .NET Regular Expressions","nodes":[{"content":"Alternation Constructs in .NET Regular Expressions","pos":[0,50]}]}],"path":["title"],"nosxs":false},{"content":"Learn how to use alternation constructs for conditional matching in regular expressions.","nodes":[{"pos":[0,88],"content":"Learn how to use alternation constructs for conditional matching in regular expressions.","nodes":[{"content":"Learn how to use alternation constructs for conditional matching in regular expressions.","pos":[0,88]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[656,701],"content":"Alternation Constructs in Regular Expressions","linkify":"Alternation Constructs in Regular Expressions","nodes":[{"content":"Alternation Constructs in Regular Expressions","pos":[0,45]}]},{"content":"<bpt id=\"p1\">&lt;a name=\"top\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept> Alternation constructs modify a regular expression to enable either/or or conditional matching.","pos":[702,816],"source":"<a name=\"top\"></a> Alternation constructs modify a regular expression to enable either/or or conditional matching."},{"content":".NET supports three alternation constructs:","pos":[817,860]},{"pos":[870,912],"content":"<bpt id=\"p1\">[</bpt>Pattern matching with &amp;#124;<ept id=\"p1\">](#Either_Or)</ept>","source":"[Pattern matching with &#124;](#Either_Or)"},{"pos":[922,995],"content":"<bpt id=\"p1\">[</bpt>Conditional matching with (?(expression)yes&amp;#124;no)<ept id=\"p1\">](#Conditional_Expr)</ept>","source":"[Conditional matching with (?(expression)yes&#124;no)](#Conditional_Expr)"},{"pos":[1005,1079],"content":"<bpt id=\"p1\">[</bpt>Conditional matching based on a valid captured group<ept id=\"p1\">](#Conditional_Group)</ept>","source":"[Conditional matching based on a valid captured group](#Conditional_Group)"},{"pos":[1116,1144],"content":"Pattern Matching with &#124;","linkify":"Pattern Matching with &#124;","nodes":[{"content":"Pattern Matching with &amp;#124;","pos":[0,28],"source":"Pattern Matching with &#124;"}]},{"pos":[1148,1282],"content":"You can use the vertical bar (<ph id=\"ph1\">`|`</ph>) character to match any one of a series of patterns, where the <ph id=\"ph2\">`|`</ph> character separates each pattern.","source":"You can use the vertical bar (`|`) character to match any one of a series of patterns, where the `|` character separates each pattern."},{"content":"Like the positive character class, the <ph id=\"ph1\">`|`</ph> character can be used to match any one of a number of single characters.","pos":[1289,1404],"source":"Like the positive character class, the `|` character can be used to match any one of a number of single characters."},{"content":"The following example uses both a positive character class and either/or pattern matching with the <ph id=\"ph1\">`|`</ph> character to locate occurrences of the words \"gray\" or \"grey\" in a string.","pos":[1405,1582],"source":" The following example uses both a positive character class and either/or pattern matching with the `|` character to locate occurrences of the words \"gray\" or \"grey\" in a string."},{"content":"In this case, the <ph id=\"ph1\">`|`</ph> character produces a regular expression that is more verbose.","pos":[1583,1666],"source":" In this case, the `|` character produces a regular expression that is more verbose."},{"pos":[2019,2134],"content":"The regular expression that uses the <ph id=\"ph1\">`|`</ph> character, <ph id=\"ph2\">`\\bgr(a|e)y\\b`</ph>, is interpreted as shown in the following table.","source":"The regular expression that uses the `|` character, `\\bgr(a|e)y\\b`, is interpreted as shown in the following table."},{"content":"Pattern","pos":[2141,2148]},{"content":"Description","pos":[2149,2160]},{"content":"Start at a word boundary.","pos":[2206,2231]},{"content":"Match the characters \"gr\".","pos":[2241,2267]},{"content":"Match either an \"a\" or an \"e\".","pos":[2296,2326]},{"content":"Match a \"y\" on a word boundary.","pos":[2337,2368]},{"content":"The <ph id=\"ph1\">`|`</ph> character can also be used to perform an either/or match with multiple characters or subexpressions, which can include any combination of character literals and regular expression language elements.","pos":[2376,2582],"source":"The `|` character can also be used to perform an either/or match with multiple characters or subexpressions, which can include any combination of character literals and regular expression language elements."},{"content":"(The character class does not provide this functionality.) The following example uses the <ph id=\"ph1\">`|`</ph> character to extract either a U.S. Social Security Number (SSN), which is a 9-digit number with the format <bpt id=\"p1\">*</bpt>ddd<ept id=\"p1\">*</ept><ph id=\"ph2\">-</ph><bpt id=\"p2\">*</bpt>dd<ept id=\"p2\">*</ept><ph id=\"ph3\">-</ph><bpt id=\"p3\">*</bpt>dddd<ept id=\"p3\">*</ept>, or a U.S. Employer Identification Number (EIN), which is a 9-digit number with the format <bpt id=\"p4\">*</bpt>dd<ept id=\"p4\">*</ept><ph id=\"ph4\">-</ph><bpt id=\"p5\">*</bpt>ddddddd<ept id=\"p5\">*</ept>.","pos":[2583,2908],"source":" (The character class does not provide this functionality.) The following example uses the `|` character to extract either a U.S. Social Security Number (SSN), which is a 9-digit number with the format *ddd*-*dd*-*dddd*, or a U.S. Employer Identification Number (EIN), which is a 9-digit number with the format *dd*-*ddddddd*."},{"pos":[3261,3369],"content":"The regular expression <ph id=\"ph1\">`\\b(\\d{2}-\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b`</ph> is interpreted as shown in the following table.","source":"The regular expression `\\b(\\d{2}-\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b` is interpreted as shown in the following table."},{"content":"Pattern","pos":[3376,3383]},{"content":"Description","pos":[3384,3395]},{"content":"Start at a word boundary.","pos":[3441,3466]},{"content":"Match either of the following: two decimal digits followed by a hyphen followed by seven decimal digits; or three decimal digits, a hyphen, two decimal digits, another hyphen, and four decimal digits.","pos":[3521,3721]},{"content":"End the match at a word boundary.","pos":[3731,3764]},{"pos":[3772,3791],"content":"<bpt id=\"p1\">[</bpt>Back to top<ept id=\"p1\">](#top)</ept>","source":"[Back to top](#top)"},{"pos":[3835,3874],"content":"Conditional Matching with an Expression","linkify":"Conditional Matching with an Expression","nodes":[{"content":"Conditional Matching with an Expression","pos":[0,39]}]},{"content":"This language element attempts to match one of two patterns depending on whether it can match an initial pattern.","pos":[3878,3991]},{"content":"Its syntax is:","pos":[3992,4006]},{"pos":[4013,4054],"content":"<ph id=\"ph1\">`(?(`</ph> <bpt id=\"p1\">*</bpt>expression<ept id=\"p1\">*</ept> <ph id=\"ph2\">`)`</ph> <bpt id=\"p2\">*</bpt>yes<ept id=\"p2\">*</ept> <ph id=\"ph3\">`|`</ph> <bpt id=\"p3\">*</bpt>no<ept id=\"p3\">*</ept> <ph id=\"ph4\">`)`</ph>","source":"`(?(` *expression* `)` *yes* `|` *no* `)`"},{"content":"where <bpt id=\"p1\">*</bpt>expression<ept id=\"p1\">*</ept> is the initial pattern to match, <bpt id=\"p2\">*</bpt>yes<ept id=\"p2\">*</ept> is the pattern to match if <bpt id=\"p3\">*</bpt>expression<ept id=\"p3\">*</ept> is matched, and <bpt id=\"p4\">*</bpt>no<ept id=\"p4\">*</ept> is the optional pattern to match if <bpt id=\"p5\">*</bpt>expression<ept id=\"p5\">*</ept> is not matched.","pos":[4061,4244],"source":"where *expression* is the initial pattern to match, *yes* is the pattern to match if *expression* is matched, and *no* is the optional pattern to match if *expression* is not matched."},{"content":"The regular expression engine treats <bpt id=\"p1\">*</bpt>expression<ept id=\"p1\">*</ept> as a zero-width assertion; that is, the regular expression engine does not advance in the input stream after it evaluates <bpt id=\"p2\">*</bpt>expression<ept id=\"p2\">*</ept>.","pos":[4245,4430],"source":" The regular expression engine treats *expression* as a zero-width assertion; that is, the regular expression engine does not advance in the input stream after it evaluates *expression*."},{"content":"Therefore, this construct is equivalent to the following:","pos":[4431,4488]},{"pos":[4495,4538],"content":"<ph id=\"ph1\">`(?(?=`</ph> <bpt id=\"p1\">*</bpt>expression<ept id=\"p1\">*</ept> <ph id=\"ph2\">`)`</ph> <bpt id=\"p2\">*</bpt>yes<ept id=\"p2\">*</ept> <ph id=\"ph3\">`|`</ph> <bpt id=\"p3\">*</bpt>no<ept id=\"p3\">*</ept> <ph id=\"ph4\">`)`</ph>","source":"`(?(?=` *expression* `)` *yes* `|` *no* `)`"},{"content":"where <ph id=\"ph1\">`(?=`</ph><bpt id=\"p1\">*</bpt>expression<ept id=\"p1\">*</ept><ph id=\"ph2\">`)`</ph> is a zero-width assertion construct.","pos":[4545,4608],"source":"where `(?=`*expression*`)` is a zero-width assertion construct."},{"content":"(For more information, see <bpt id=\"p1\">[</bpt>Grouping Constructs<ept id=\"p1\">](../../../docs/standard/base-types/grouping-constructs-in-regular-expressions.md)</ept>.) Because the regular expression engine interprets <bpt id=\"p2\">*</bpt>expression<ept id=\"p2\">*</ept> as an anchor (a zero-width assertion), <bpt id=\"p3\">*</bpt>expression<ept id=\"p3\">*</ept> must either be a zero-width assertion (for more information, see <bpt id=\"p4\">[</bpt>Anchors<ept id=\"p4\">](../../../docs/standard/base-types/anchors-in-regular-expressions.md)</ept>) or a subexpression that is also contained in <bpt id=\"p5\">*</bpt>yes<ept id=\"p5\">*</ept>.","pos":[4609,5051],"source":" (For more information, see [Grouping Constructs](../../../docs/standard/base-types/grouping-constructs-in-regular-expressions.md).) Because the regular expression engine interprets *expression* as an anchor (a zero-width assertion), *expression* must either be a zero-width assertion (for more information, see [Anchors](../../../docs/standard/base-types/anchors-in-regular-expressions.md)) or a subexpression that is also contained in *yes*."},{"content":"Otherwise, the <bpt id=\"p1\">*</bpt>yes<ept id=\"p1\">*</ept> pattern cannot be matched.","pos":[5052,5099],"source":" Otherwise, the *yes* pattern cannot be matched."},{"pos":[5107,5507],"content":"[!NOTE]\n If *expression*is a named or numbered capturing group, the alternation construct is interpreted as a capture test; for more information, see the next section, [Conditional Matching Based on a Valid Capture Group](#Conditional_Group). In other words, the regular expression engine does not attempt to match the captured substring, but instead tests for the presence or absence of the group.","leadings":["","> "],"nodes":[{"content":"If *expression*is a named or numbered capturing group, the alternation construct is interpreted as a capture test; for more information, see the next section, [Conditional Matching Based on a Valid Capture Group](#Conditional_Group). In other words, the regular expression engine does not attempt to match the captured substring, but instead tests for the presence or absence of the group.","pos":[9,398],"nodes":[{"content":"If <bpt id=\"p1\">*</bpt>expression<ept id=\"p1\">*</ept>is a named or numbered capturing group, the alternation construct is interpreted as a capture test; for more information, see the next section, <bpt id=\"p2\">[</bpt>Conditional Matching Based on a Valid Capture Group<ept id=\"p2\">](#Conditional_Group)</ept>.","pos":[0,233],"source":"If *expression*is a named or numbered capturing group, the alternation construct is interpreted as a capture test; for more information, see the next section, [Conditional Matching Based on a Valid Capture Group](#Conditional_Group)."},{"content":"In other words, the regular expression engine does not attempt to match the captured substring, but instead tests for the presence or absence of the group.","pos":[234,389]}]}]},{"content":"The following example is a variation of the example that appears in the <bpt id=\"p1\">[</bpt>Either/Or Pattern Matching with &amp;#124;<ept id=\"p1\">](#Either_Or)</ept> section.","pos":[5514,5647],"source":"The following example is a variation of the example that appears in the [Either/Or Pattern Matching with &#124;](#Either_Or) section."},{"content":"It uses conditional matching to determine whether the first three characters after a word boundary are two digits followed by a hyphen.","pos":[5648,5783]},{"content":"If they are, it attempts to match a U.S. Employer Identification Number (EIN).","pos":[5784,5862]},{"content":"If not, it attempts to match a U.S. Social Security Number (SSN).","pos":[5863,5928]},{"pos":[6281,6406],"content":"The regular expression pattern <ph id=\"ph1\">`\\b(?(\\d{2}-)\\d{2}-\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b`</ph> is interpreted as shown in the following table.","source":"The regular expression pattern `\\b(?(\\d{2}-)\\d{2}-\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b` is interpreted as shown in the following table."},{"content":"Pattern","pos":[6413,6420]},{"content":"Description","pos":[6421,6432]},{"content":"Start at a word boundary.","pos":[6478,6503]},{"content":"Determine whether the next three characters consist of two digits followed by a hyphen.","pos":[6521,6608]},{"content":"If the previous pattern matches, match two digits followed by a hyphen followed by seven digits.","pos":[6627,6723]},{"content":"If the previous pattern does not match, match three decimal digits, a hyphen, two decimal digits, another hyphen, and four decimal digits.","pos":[6748,6886]},{"content":"Match a word boundary.","pos":[6896,6918]},{"pos":[6926,6945],"content":"<bpt id=\"p1\">[</bpt>Back to top<ept id=\"p1\">](#top)</ept>","source":"[Back to top](#top)"},{"pos":[6990,7042],"content":"Conditional Matching Based on a Valid Captured Group","linkify":"Conditional Matching Based on a Valid Captured Group","nodes":[{"content":"Conditional Matching Based on a Valid Captured Group","pos":[0,52]}]},{"content":"This language element attempts to match one of two patterns depending on whether it has matched a specified capturing group.","pos":[7046,7170]},{"content":"Its syntax is:","pos":[7171,7185]},{"pos":[7192,7227],"content":"<ph id=\"ph1\">`(?(`</ph> <bpt id=\"p1\">*</bpt>name<ept id=\"p1\">*</ept> <ph id=\"ph2\">`)`</ph> <bpt id=\"p2\">*</bpt>yes<ept id=\"p2\">*</ept> <ph id=\"ph3\">`|`</ph> <bpt id=\"p3\">*</bpt>no<ept id=\"p3\">*</ept> <ph id=\"ph4\">`)`</ph>","source":"`(?(` *name* `)` *yes* `|` *no* `)`"},{"content":"or","pos":[7234,7236]},{"pos":[7243,7280],"content":"<ph id=\"ph1\">`(?(`</ph> <bpt id=\"p1\">*</bpt>number<ept id=\"p1\">*</ept> <ph id=\"ph2\">`)`</ph> <bpt id=\"p2\">*</bpt>yes<ept id=\"p2\">*</ept> <ph id=\"ph3\">`|`</ph> <bpt id=\"p3\">*</bpt>no<ept id=\"p3\">*</ept> <ph id=\"ph4\">`)`</ph>","source":"`(?(` *number* `)` *yes* `|` *no* `)`"},{"pos":[7287,7489],"content":"where <bpt id=\"p1\">*</bpt>name<ept id=\"p1\">*</ept> is the name and <bpt id=\"p2\">*</bpt>number<ept id=\"p2\">*</ept> is the number of a capturing group, <bpt id=\"p3\">*</bpt>yes<ept id=\"p3\">*</ept> is the expression to match if <bpt id=\"p4\">*</bpt>name<ept id=\"p4\">*</ept> or <bpt id=\"p5\">*</bpt>number<ept id=\"p5\">*</ept> has a match, and <bpt id=\"p6\">*</bpt>no<ept id=\"p6\">*</ept> is the optional expression to match if it does not.","source":"where *name* is the name and *number* is the number of a capturing group, *yes* is the expression to match if *name* or *number* has a match, and *no* is the optional expression to match if it does not."},{"content":"If <bpt id=\"p1\">*</bpt>name<ept id=\"p1\">*</ept> does not correspond to the name of a capturing group that is used in the regular expression pattern, the alternation construct is interpreted as an expression test, as explained in the previous section.","pos":[7496,7708],"source":"If *name* does not correspond to the name of a capturing group that is used in the regular expression pattern, the alternation construct is interpreted as an expression test, as explained in the previous section."},{"content":"Typically, this means that <bpt id=\"p1\">*</bpt>expression<ept id=\"p1\">*</ept> evaluates to <ph id=\"ph1\">`false`</ph>.","pos":[7709,7770],"source":" Typically, this means that *expression* evaluates to `false`."},{"content":"If <bpt id=\"p1\">*</bpt>number<ept id=\"p1\">*</ept> does not correspond to a numbered capturing group that is used in the regular expression pattern, the regular expression engine throws an <ph id=\"ph1\">&lt;xref:System.ArgumentException&gt;</ph>.","pos":[7771,7953],"source":" If *number* does not correspond to a numbered capturing group that is used in the regular expression pattern, the regular expression engine throws an <xref:System.ArgumentException>."},{"content":"The following example is a variation of the example that appears in the <bpt id=\"p1\">[</bpt>Either/Or Pattern Matching with &amp;#124;<ept id=\"p1\">](#Either_Or)</ept> section.","pos":[7960,8093],"source":"The following example is a variation of the example that appears in the [Either/Or Pattern Matching with &#124;](#Either_Or) section."},{"content":"It uses a capturing group named <ph id=\"ph1\">`n2`</ph> that consists of two digits followed by a hyphen.","pos":[8094,8180],"source":" It uses a capturing group named `n2` that consists of two digits followed by a hyphen."},{"content":"The alternation construct tests whether this capturing group has been matched in the input string.","pos":[8181,8279]},{"content":"If it has, the alternation construct attempts to match the last seven digits of a nine-digit U.S. Employer Identification Number (EIN).","pos":[8280,8415]},{"content":"If it has not, it attempts to match a nine-digit U.S. Social Security Number (SSN).","pos":[8416,8499]},{"pos":[8852,8981],"content":"The regular expression pattern <ph id=\"ph1\">`\\b(?&lt;n2&gt;\\d{2}-)?(?(n2)\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b`</ph> is interpreted as shown in the following table.","source":"The regular expression pattern `\\b(?<n2>\\d{2}-)?(?(n2)\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b` is interpreted as shown in the following table."},{"content":"Pattern","pos":[8988,8995]},{"content":"Description","pos":[8996,9007]},{"content":"Start at a word boundary.","pos":[9053,9078]},{"content":"Match zero or one occurrence of two digits followed by a hyphen.","pos":[9100,9164]},{"content":"Name this capturing group <ph id=\"ph1\">`n2`</ph>.","pos":[9165,9196],"source":" Name this capturing group `n2`."},{"pos":[9210,9260],"content":"Test whether <ph id=\"ph1\">`n2`</ph> was matched in the input string.","source":"Test whether `n2` was matched in the input string."},{"pos":[9274,9322],"content":"If <ph id=\"ph1\">`n2`</ph> was matched, match seven decimal digits.","source":"If `n2` was matched, match seven decimal digits."},{"pos":[9364,9487],"content":"If <ph id=\"ph1\">`n2`</ph> was not matched, match three decimal digits, a hyphen, two decimal digits, another hyphen, and four decimal digits.","source":"If `n2` was not matched, match three decimal digits, a hyphen, two decimal digits, another hyphen, and four decimal digits."},{"content":"Match a word boundary.","pos":[9497,9519]},{"content":"A variation of this example that uses a numbered group instead of a named group is shown in the following example.","pos":[9527,9641]},{"content":"Its regular expression pattern is <ph id=\"ph1\">`\\b(\\d{2}-)?(?(1)\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b`</ph>.","pos":[9642,9721],"source":" Its regular expression pattern is `\\b(\\d{2}-)?(?(1)\\d{7}|\\d{3}-\\d{2}-\\d{4})\\b`."},{"pos":[10076,10084],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[10088,10217],"content":"<bpt id=\"p1\">[</bpt>Regular Expression Language - Quick Reference<ept id=\"p1\">](../../../docs/standard/base-types/regular-expression-language-quick-reference.md)</ept>","source":"[Regular Expression Language - Quick Reference](../../../docs/standard/base-types/regular-expression-language-quick-reference.md)"}]}