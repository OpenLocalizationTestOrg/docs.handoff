{"content":"---\ntitle: \"Usage of Standard Endpoints | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: ecd6a62f-9619-4778-a497-6f888087a9ea\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Usage of Standard Endpoints\nThis sample demonstrates how to use standard endpoints in service configuration files. A standard endpoint allows the user to simplify endpoint definitions by using a single property to describe an address, binding and contract combination with additional properties associated to it. This sample demonstrates how to define and implement a custom standard endpoint and how to define specific properties in the endpoint.  \n  \n## Sample Details  \n Service endpoints can be specified by supplying three parameters: address, binding and contract. Other parameters that can be supplied include behavior configuration, headers, listen URI, and so on. In some cases, any or all of addresses, bindings and contracts have values that cannot change. For this reason, it is possible to use standard endpoints. Some examples of such endpoints include metadata exchange endpoints and discovery endpoints. Standard endpoints also improve usability by allowing configuration of service endpoints without having to provide information of a fixed nature or to create their own standard endpoints, for example to improve usability by supplying a reasonable set of default values and thus reducing the verbosity of configuration files.  \n  \n This sample consists of two projects: the service that defines two standard endpoints and the client that communicates with the service. The way the standard endpoints are defined for the service in the configuration file is show in the following example.  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"utf-8\" ?>  \n<configuration>  \n  <system.serviceModel>  \n    <extensions>  \n      <endpointExtensions>  \n        <add name=\"customEndpoint\" type=\"Microsoft.Samples.StandardEndpoints.CustomEndpointCollectionElement, service\" />  \n      </endpointExtensions>  \n    </extensions>  \n    <services>  \n      <service name=\"Microsoft.Samples.StandardEndpoints.CalculatorService\">  \n        <endpoint address=\"http://localhost:8000/Samples/Service.svc/customEndpoint\" contract=\"Microsoft.Samples.StandardEndpoints.ICalculator\" kind=\"customEndpoint\" />  \n        <endpoint kind=\"mexEndpoint\" />  \n      </service>  \n    </services>  \n    <behaviors>  \n      <serviceBehaviors>  \n        <behavior>  \n          <serviceMetadata httpGetEnabled=\"True\"/>  \n        </behavior>  \n      </serviceBehaviors>  \n    </behaviors>  \n    <standardEndpoints>  \n      <customEndpoint>  \n        <standardEndpoint property=\"True\" />  \n      </customEndpoint>  \n    </standardEndpoints>  \n  </system.serviceModel>  \n</configuration>  \n  \n```  \n  \n The first endpoint defined for the service is of kind `customEndpoint`, whose definition can be seen in the `<standardEndpoints>` section, in which the property `property` is given the value `true`. This is the case of an endpoint customized with a new property. The second endpoint corresponds to a metadata endpoint, in which the values for address, binding and contract are fixed.  \n  \n To define the standard endpoint element, a class that derives from `StandardEndpointElement` must be created. In the case of this sample, the `CustomEndpointElement` class has been defined as shown in the following example.  \n  \n```csharp  \npublic class CustomEndpointElement : StandardEndpointElement  \n{  \n    public bool Property  \n    {  \n        get { return (bool)base[\"property\"]; }  \n        set { base[\"property\"] = value; }  \n    }  \n  \n    protected override ConfigurationPropertyCollection Properties  \n    {  \n        get  \n        {  \n            ConfigurationPropertyCollection properties = base.Properties;  \n            properties.Add(new ConfigurationProperty(\"property\", typeof(bool), false, ConfigurationPropertyOptions.None));  \n            return properties;  \n        }  \n    }  \n  \n    protected override Type EndpointType  \n    {  \n        get { return typeof(CustomEndpoint); }  \n    }  \n  \n    protected override ServiceEndpoint CreateServiceEndpoint(ContractDescription contract)  \n    {  \n        return new CustomEndpoint();  \n    }  \n  \n    protected override void OnApplyConfiguration(ServiceEndpoint endpoint, ServiceEndpointElement serviceEndpointElement)  \n    {  \n        CustomEndpoint customEndpoint = (CustomEndpoint)endpoint;  \n        customEndpoint.Property = this.Property;  \n    }  \n  \n    protected override void OnApplyConfiguration(ServiceEndpoint endpoint, ChannelEndpointElement channelEndpointElement)  \n    {  \n        CustomEndpoint customEndpoint = (CustomEndpoint)endpoint;  \n        customEndpoint.Property = this.Property;  \n    }  \n  \n    protected override void OnInitializeAndValidate(ServiceEndpointElement serviceEndpointElement)  \n    {  \n    }  \n  \n    protected override void OnInitializeAndValidate(ChannelEndpointElement channelEndpointElement)  \n    {  \n    }  \n}  \n  \n```  \n  \n In the `CreateServiceEndpoint` function, a `CustomEndpoint` object is created. Its definition is shown in the following example.  \n  \n```  \npublic class CustomEndpoint : ServiceEndpoint  \n    {  \n        public CustomEndpoint()  \n            : this(string.Empty)  \n        {  \n        }  \n  \n        public CustomEndpoint(string address)  \n            : this(address, ContractDescription.GetContract(typeof(ICalculator)))  \n        {  \n        }  \n  \n        public CustomEndpoint(string address, ContractDescription contract)  \n            : base(contract)  \n        {  \n            this.Binding = new BasicHttpBinding();  \n            this.IsSystemEndpoint = false;  \n        }  \n  \n        public bool Property  \n        {  \n            get;  \n            set;  \n        }  \n    }  \n  \n```  \n  \n To perform the communication between service and client, a service reference is created in the client to the service. When the sample is built and executed, the service executes and the client communicates with it. Note that the service reference should be updated every time there is some change in the service.  \n  \n#### To use this sample  \n  \n1.  Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open the StandardEndpoints.sln file.  \n  \n2.  Enable multiple projects to start up.  \n  \n    1.  In **Solution Explorer**, right-click the Standard Endpoints solution and then select **Properties**.  \n  \n    2.  In **Common Properties**, select **Startup Project**, and then click **Multiple Startup Projects**.  \n  \n    3.  Move the Service project to the beginning of the list, with the **Action** set to **Start**.  \n  \n    4.  Move the Client project after the Service project, also with the **Action** set to **Start**.  \n  \n         This specifies that the Client project is executed after the Service project.  \n  \n3.  To run the solution, press F5.  \n  \n> [!NOTE]\n>  If these steps do not work, then make sure that your environment has been properly set up, using the following steps.  \n>   \n>  1.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n> 2.  To build the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n> 3.  To run the sample in a single or multiple computer configurations, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Services\\StandardEndpoints`  \n  \n## See Also","nodes":[{"pos":[12,56],"content":"Usage of Standard Endpoints | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Usage of Standard Endpoints | Microsoft Docs","pos":[0,44]}]},{"pos":[354,381],"content":"Usage of Standard Endpoints","linkify":"Usage of Standard Endpoints","nodes":[{"content":"Usage of Standard Endpoints","pos":[0,27]}]},{"content":"This sample demonstrates how to use standard endpoints in service configuration files.","pos":[382,468]},{"content":"A standard endpoint allows the user to simplify endpoint definitions by using a single property to describe an address, binding and contract combination with additional properties associated to it.","pos":[469,666]},{"content":"This sample demonstrates how to define and implement a custom standard endpoint and how to define specific properties in the endpoint.","pos":[667,801]},{"pos":[810,824],"content":"Sample Details","linkify":"Sample Details","nodes":[{"content":"Sample Details","pos":[0,14]}]},{"content":"Service endpoints can be specified by supplying three parameters: address, binding and contract.","pos":[828,924]},{"content":"Other parameters that can be supplied include behavior configuration, headers, listen URI, and so on.","pos":[925,1026]},{"content":"In some cases, any or all of addresses, bindings and contracts have values that cannot change.","pos":[1027,1121]},{"content":"For this reason, it is possible to use standard endpoints.","pos":[1122,1180]},{"content":"Some examples of such endpoints include metadata exchange endpoints and discovery endpoints.","pos":[1181,1273]},{"content":"Standard endpoints also improve usability by allowing configuration of service endpoints without having to provide information of a fixed nature or to create their own standard endpoints, for example to improve usability by supplying a reasonable set of default values and thus reducing the verbosity of configuration files.","pos":[1274,1598]},{"content":"This sample consists of two projects: the service that defines two standard endpoints and the client that communicates with the service.","pos":[1605,1741]},{"content":"The way the standard endpoints are defined for the service in the configuration file is show in the following example.","pos":[1742,1860]},{"content":"The first endpoint defined for the service is of kind <ph id=\"ph1\">`customEndpoint`</ph>, whose definition can be seen in the <ph id=\"ph2\">`&lt;standardEndpoints&gt;`</ph> section, in which the property <ph id=\"ph3\">`property`</ph> is given the value <ph id=\"ph4\">`true`</ph>.","pos":[2927,3125],"source":"The first endpoint defined for the service is of kind `customEndpoint`, whose definition can be seen in the `<standardEndpoints>` section, in which the property `property` is given the value `true`."},{"content":"This is the case of an endpoint customized with a new property.","pos":[3126,3189]},{"content":"The second endpoint corresponds to a metadata endpoint, in which the values for address, binding and contract are fixed.","pos":[3190,3310]},{"content":"To define the standard endpoint element, a class that derives from <ph id=\"ph1\">`StandardEndpointElement`</ph> must be created.","pos":[3317,3426],"source":"To define the standard endpoint element, a class that derives from `StandardEndpointElement` must be created."},{"content":"In the case of this sample, the <ph id=\"ph1\">`CustomEndpointElement`</ph> class has been defined as shown in the following example.","pos":[3427,3540],"source":" In the case of this sample, the `CustomEndpointElement` class has been defined as shown in the following example."},{"content":"In the <ph id=\"ph1\">`CreateServiceEndpoint`</ph> function, a <ph id=\"ph2\">`CustomEndpoint`</ph> object is created.","pos":[5163,5241],"source":"In the `CreateServiceEndpoint` function, a `CustomEndpoint` object is created."},{"content":"Its definition is shown in the following example.","pos":[5242,5291]},{"content":"To perform the communication between service and client, a service reference is created in the client to the service.","pos":[5962,6079]},{"content":"When the sample is built and executed, the service executes and the client communicates with it.","pos":[6080,6176]},{"content":"Note that the service reference should be updated every time there is some change in the service.","pos":[6177,6274]},{"pos":[6285,6303],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[6313,6428],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph>, open the StandardEndpoints.sln file.","source":"Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open the StandardEndpoints.sln file."},{"content":"Enable multiple projects to start up.","pos":[6438,6475]},{"pos":[6489,6590],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the Standard Endpoints solution and then select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","source":"In **Solution Explorer**, right-click the Standard Endpoints solution and then select **Properties**."},{"pos":[6604,6703],"content":"In <bpt id=\"p1\">**</bpt>Common Properties<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Startup Project<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Multiple Startup Projects<ept id=\"p3\">**</ept>.","source":"In **Common Properties**, select **Startup Project**, and then click **Multiple Startup Projects**."},{"pos":[6717,6809],"content":"Move the Service project to the beginning of the list, with the <bpt id=\"p1\">**</bpt>Action<ept id=\"p1\">**</ept> set to <bpt id=\"p2\">**</bpt>Start<ept id=\"p2\">**</ept>.","source":"Move the Service project to the beginning of the list, with the **Action** set to **Start**."},{"pos":[6823,6916],"content":"Move the Client project after the Service project, also with the <bpt id=\"p1\">**</bpt>Action<ept id=\"p1\">**</ept> set to <bpt id=\"p2\">**</bpt>Start<ept id=\"p2\">**</ept>.","source":"Move the Client project after the Service project, also with the **Action** set to **Start**."},{"content":"This specifies that the Client project is executed after the Service project.","pos":[6931,7008]},{"content":"To run the solution, press F5.","pos":[7018,7048]},{"pos":[7056,7184],"content":"[!NOTE]\n If these steps do not work, then make sure that your environment has been properly set up, using the following steps.","leadings":["","> "],"nodes":[{"content":"If these steps do not work, then make sure that your environment has been properly set up, using the following steps.","pos":[9,126]}]},{"pos":[7199,7398],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[7407,7577],"content":"To build the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[7586,7798],"content":"To run the sample in a single or multiple computer configurations, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single or multiple computer configurations, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[7806,7938],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[1,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[7992,8318],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[8319,8369]},{"pos":[8458,8466],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}