{"content":"---\ntitle: \"Windows Communication Foundation Privacy Information\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"Windows Communication Foundation, privacy information\"\n  - \"WCF, privacy information\"\n  - \"privacy information [WCF]\"\nms.assetid: c9553724-f3e7-45cb-9ea5-450a22d309d9\n---\n# Windows Communication Foundation Privacy Information\nMicrosoft is committed to protecting end-users' privacy. When you build an application using Windows Communication Foundation (WCF), version 3.0, your application may impact your end-users' privacy. For example, your application may explicitly collect user contact information, or it may request or send information over the Internet to your Web site. If you embed Microsoft technology in your application, that technology may have its own behavior that might affect privacy. WCF does not send any information to Microsoft from your application unless you or the end-user choose to send it to us.  \n  \n## WCF in Brief  \n WCF is a distributed messaging framework using the Microsoft .NET Framework that allows developers to build distributed applications. Messages communicated between two applications contain header and body information.  \n  \n Headers may contain message routing, security information, transactions, and more depending on the services used by the application. Messages are typically encrypted by default. The one exception is when using the `BasicHttpBinding`, which was designed for use with non-secured, legacy Web services. As the application designer, you are responsible for the final design. Messages in the SOAP body contain application-specific data; however, this data, such as application-defined personal information, can be secured by using WCF encryption or confidentiality features. The following sections describe the features that potentially impact privacy.  \n  \n## Messaging  \n Each WCF message has an address header that specifies the message destination and where the reply should go.  \n  \n The address component of an endpoint address is a Uniform Resource Identifier (URI) that identifies the endpoint. The address can be a network address or a logical address. The address may include machine name (hostname, fully qualified domain name) and an IP address. The endpoint address may also contain a globally unique identifier (GUID), or a collection of GUIDs for temporary addressing used to discern each address. Each message contains a message ID that is a GUID. This feature follows the WS-Addressing reference standard.  \n  \n The WCF messaging layer does not write any personal information to the local machine. However, it might propagate personal information at the network level if a service developer has created a service that exposes such information (for example, by using a person's name in an endpoint name, or including personal information in the endpoint's Web Services Description Language but not requiring clients to use https to access the WSDL). Also, if a developer runs the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool against an endpoint that exposes personal information, the tool's output could contain that information, and the output file is written to the local hard disk.  \n  \n## Hosting  \n The hosting feature in WCF allows applications to start on demand or to enable port sharing between multiple applications. An WCF application can be hosted in Internet Information Services (IIS), similar to [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)].  \n  \n Hosting does not expose any specific information on the network and it does not keep data on the machine.  \n  \n## Message Security  \n WCF security provides the security capabilities for messaging applications. The security functions provided include authentication and authorization.  \n  \n Authentication is performed by passing credentials between the clients and services. Authentication can be either through transport-level security or through SOAP message-level security, as follows:  \n  \n-   In SOAP message security, authentication is performed through credentials like username/passwords, X.509 certificates, Kerberos tickets, and SAML tokens, all of which might contain personal information, depending on the issuer.  \n  \n-   Using transport security, authentication is done through traditional transport authentication mechanisms like HTTP authentication schemes (Basic, Digest, Negotiate, Integrated Windows Authorization, NTLM, None, and Anonymous), and form authentication.  \n  \n Authentication can result in a secure session established between the communicating endpoints. The session is identified by a GUID that lasts the lifetime of the security session. The following table shows what is kept and where.  \n  \n|Data|Storage|  \n|----------|-------------|  \n|Presentation credentials, such as username, X.509 certificates, Kerberos tokens, and references to credentials.|Standard Windows credential management mechanisms such as the Windows certificate store.|  \n|User membership information, such as usernames and passwords.|[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] membership providers.|  \n|Identity information about the service used to authenticate the service to clients.|Endpoint address of the service.|  \n|Caller information.|Auditing logs.|  \n  \n## Auditing  \n Auditing records the success and failure of authentication and authorization events. Auditing records contain the following data: service URI, action URI, and the caller's identification.  \n  \n Auditing also records when the administrator modifies the configuration of message logging (turning it on or off), because message logging may log application-specific data in headers and bodies. For [!INCLUDE[wxp](../../../includes/wxp-md.md)], a record is logged in the application event log. For [!INCLUDE[wv](../../../includes/wv-md.md)] and [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], a record is logged in the security event log.  \n  \n## Transactions  \n The transactions feature provides transactional services to a WCF application.  \n  \n Transaction headers used in transaction propagation may contain Transaction IDs or Enlistment IDs, which are GUIDs.  \n  \n The Transactions feature uses the Microsoft Distributed Transaction Coordinator (MSDTC) Transaction Manager (a Windows component) to manage transaction state. By default, communications between Transactions Managers are encrypted. Transaction Managers may log endpoint references, Transaction IDs, and Enlistment IDs as part of their durable state. The lifetime of this state is determined by the lifetime of the Transaction Managerâ€™s log file. The MSDTC service owns and maintains this log.  \n  \n The Transactions feature implements the WS-Coordination and WS-Atomic Transaction standards.  \n  \n## Reliable Sessions  \n Reliable sessions in WCF provide the transfer of messages when transport or intermediary failures occur. They provide an exactly-once transfer of messages even when the underlying transport disconnects (for example, a TCP connection on a wireless network) or loses a message (an HTTP proxy dropping an outgoing or incoming message). Reliable sessions also recover message reordering (as may happen in the case of multipath routing), preserving the order in which the messages were sent.  \n  \n Reliable sessions are implemented using the WS-ReliableMessaging (WS-RM) protocol. They add WS-RM headers that contain session information, which is used to identify all messages associated with a particular reliable session. Each WS-RM session has an identifier, which is a GUID.  \n  \n No personal information is retained on the end-user's machine.  \n  \n## Queued Channels  \n Queues store messages from a sending application on behalf of a receiving application and later forward these messages to the receiving application. They help ensure the transfer of messages from sending applications to receiving applications when, for example, the receiving application is transient. WCF provides support for queuing by using Microsoft Message Queuing (MSMQ) as a transport.  \n  \n The queued channels feature does not add headers to a message. Instead it creates a Message Queuing message with appropriate Message Queuing message properties set, and invokes Message Queuing methods to put the message in the Message Queuing queue. Message Queuing is an optional component that ships with Windows.  \n  \n No information is retained on the end-user's machine by the queued channels feature, because it uses Message Queuing as the queuing infrastructure.  \n  \n## COM+ Integration  \n This feature wraps existing COM and COM+ functionality to create services that are compatible with WCF services. This feature does not use specific headers and it does not retain data on the end-user's machine.  \n  \n## COM Service Moniker  \n This provides an unmanaged wrapper to a standard WCF client. This feature does not have specific headers on the wire nor does it persist data on the machine.  \n  \n## Peer Channel  \n A peer channel enables development of multiparty applications using WCF. Multiparty messaging occurs in the context of a mesh. Meshes are identified by a name that nodes can join. Each node in the peer channel creates a TCP listener at a user-specified port and establishes connections with other nodes in the mesh to ensure resiliency. To connect to other nodes in the mesh, nodes also exchange some data, including the listener address and the machine's IP addresses, with other nodes in the mesh. Messages sent around in the mesh can contain security information that pertains to the sender to prevent message spoofing and tampering.  \n  \n No personal information is stored on the end-user's machine.  \n  \n## IT Professional Experience  \n  \n### Tracing  \n The diagnostics feature of the WCF infrastructure logs messages that pass through the transport and service model layers, and the activities and events associated with these messages. This feature is turned off by default. It is enabled using the applicationâ€™s configuration file and the tracing behavior may be modified using the WCF WMI provider at run time. When enabled, the tracing infrastructure emits a diagnostic trace that contains messages, activities, and processing events to configured listeners. The format and location of the output are determined by the administratorâ€™s listener configuration choices, but is typically an XML formatted file. The administrator is responsible for setting the access control list (ACL) on the trace files. In particular, when hosted by Windows Activation System (WAS), the administrator should make sure the files are not served from the public virtual root directory if that is not desired.  \n  \n There are two types of tracing: Message logging and Service Model diagnostic tracing, described in the following section. Each type is configured through its own trace source: <xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A> and <xref:System.ServiceModel>. Both of these logging trace sources capture data that is local to the application.  \n  \n### Message Logging  \n The message logging trace source (<xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A>) allows an administrator to log the messages that flow through the system. Through configuration, the user may decide to log entire messages or message headers only, whether to log at the transport and/or service model layers, and whether to include malformed messages. Also, the user may configure filtering to restrict which messages are logged.  \n  \n By default, message logging is disabled. The local machine administrator can prevent the application-level administrator from turning message logging on.  \n  \n#### Encrypted and Decrypted Message Logging  \n Messages are logged, encrypted, or decrypted, as described in the following terms.  \n  \n Transport Logging  \n Logs messages received and sent at the transport level. These messages contain all headers, and may be encrypted before being sent on the wire and when being received.  \n  \n If messages are encrypted before being sent on the wire and when they are received, they are logged encrypted as well. An exception is when a security protocol is used (https): they are then logged decrypted before being sent and after being received even if they are encrypted on the wire.  \n  \n Service Logging  \n Logs messages received or sent at the service model level, after channel header processing has occurred, just before and after entering user code.  \n  \n Messages logged at this level are decrypted even if they were secured and encrypted on the wire.  \n  \n Malformed Message Logging  \n Logs messages that the WCF infrastructure cannot understand or process.  \n  \n Messages are logged as-is, that is, encrypted or not  \n  \n When messages are logged in decrypted or unencrypted form, by default WCF removes security keys and potentially personal information from the messages before logging them. The next sections describe what information is removed, and when. The machine administrator and application deployer must both take certain configuration actions to change the default behavior to log keys and potentially personal information.  \n  \n#### Information Removed from Message Headers When Logging Decrypted/Unencrypted Messages  \n When messages are logged in decrypted/unencrypted form, security keys and potentially personal information are removed by default from message headers and message bodies before they are logged. The following list shows what WCF considers keys and potentially personal information.  \n  \n Keys that are removed:  \n  \n \\- For xmlns:wst=\"http://schemas.xmlsoap.org/ws/2004/04/trust\" and xmlns:wst=\"http://schemas.xmlsoap.org/ws/2005/02/trust\"  \n  \n wst:BinarySecret  \n  \n wst:Entropy  \n  \n \\- For xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.1.xsd\" and xmlns:wsse=\"http://docs.oasis-open.org/wss/2005/xx/oasis-2005xx-wss-wssecurity-secext-1.1.xsd\"  \n  \n wsse:Password  \n  \n wsse:Nonce  \n  \n Potentially personal information that is removed:  \n  \n \\- For xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.1.xsd\" and xmlns:wsse=\"http://docs.oasis-open.org/wss/2005/xx/oasis-2005xx-wss-wssecurity-secext-1.1.xsd\"  \n  \n wsse:Username  \n  \n wsse:BinarySecurityToken  \n  \n \\- For xmlns:saml=\"urn:oasis:names:tc:SAML:1.0:assertion\" the items in bold (below) are removed:  \n  \n \\<Assertion  \n  \n MajorVersion=\"1\"  \n  \n MinorVersion=\"1\"  \n  \n AssertionId=\"[ID]\"  \n  \n Issuer=\"[string]\"  \n  \n IssueInstant=\"[dateTime]\"  \n  \n >  \n  \n \\<Conditions NotBefore=\"[dateTime]\" NotOnOrAfter=\"[dateTime]\">  \n  \n \\<AudienceRestrictionCondition>  \n  \n \\<Audience>[uri]\\</Audience>+  \n  \n \\</AudienceRestrictionCondition>*  \n  \n \\<DoNotCacheCondition />*  \n  \n <\\!-- abstract base type  \n  \n \\<Condition />*  \n  \n -->  \n  \n \\</Conditions>?  \n  \n \\<Advice>  \n  \n \\<AssertionIDReference>[ID]\\</AssertionIDReference>*  \n  \n \\<Assertion>[assertion]\\</Assertion>*  \n  \n [any]*  \n  \n \\</Advice>?  \n  \n <\\!-- Abstract base types  \n  \n \\<Statement />*  \n  \n \\<SubjectStatement>  \n  \n \\<Subject>  \n  \n `<NameIdentifier`  \n  \n `NameQualifier=\"[string]\"?`  \n  \n `Format=\"[uri]\"?`  \n  \n `>`  \n  \n `[string]`  \n  \n `</NameIdentifier>?`  \n  \n \\<SubjectConfirmation>  \n  \n \\<ConfirmationMethod>[anyUri]\\</ConfirmationMethod>+  \n  \n \\<SubjectConfirmationData>[any]\\</SubjectConfirmationData>?  \n  \n \\<ds:KeyInfo>...\\</ds:KeyInfo>?  \n  \n \\</SubjectConfirmation>?  \n  \n \\</Subject>  \n  \n \\</SubjectStatement>*  \n  \n -->  \n  \n \\<AuthenticationStatement  \n  \n AuthenticationMethod=\"[uri]\"  \n  \n AuthenticationInstant=\"[dateTime]\"  \n  \n >  \n  \n [Subject]  \n  \n `<SubjectLocality`  \n  \n `IPAddress=\"[string]\"?`  \n  \n `DNSAddress=\"[string]\"?`  \n  \n `/>?`  \n  \n <AuthorityBinding  \n  \n AuthorityKind=\"[QName]\"  \n  \n Location=\"[uri]\"  \n  \n Binding=\"[uri]\"  \n  \n />*  \n  \n \\</AuthenticationStatement>*  \n  \n \\<AttributeStatement>  \n  \n [Subject]  \n  \n \\<Attribute  \n  \n AttributeName=\"[string]\"  \n  \n AttributeNamespace=\"[uri]\"  \n  \n >  \n  \n `<AttributeValue>[any]</AttributeValue>+`  \n  \n \\</Attribute>+  \n  \n \\</AttributeStatement>*  \n  \n \\<AuthorizationDecisionStatement  \n  \n Resource=\"[uri]\"  \n  \n Decision=\"[Permit&#124;Deny&#124;Indeterminate]\"  \n  \n >  \n  \n [Subject]  \n  \n \\<Action Namespace=\"[uri]\">[string]\\</Action>+  \n  \n \\<Evidence>  \n  \n \\<AssertionIDReference>[ID]\\</AssertionIDReference>+  \n  \n \\<Assertion>[assertion]\\</Assertion>+  \n  \n \\</Evidence>?  \n  \n \\</AuthorizationDecisionStatement>*  \n  \n \\</Assertion>  \n  \n#### Information Removed from Message Bodies When Logging Decrypted/Unencrypted Messages  \n As previously described, WCF removes keys and known potentially personal information from message headers for logged decrypted/unencrypted messages. In addition, WCF removes keys and known potentially personal information from message bodies for the body elements and actions in the following list, which describe security messages involved in key exchange.  \n  \n For the following namespaces:  \n  \n xmlns:wst=\"http://schemas.xmlsoap.org/ws/2004/04/trust\" and xmlns:wst=\"http://schemas.xmlsoap.org/ws/2005/02/trust\" (for example, if no action available)  \n  \n Information is removed for these body elements, which involve key exchange:  \n  \n wst:RequestSecurityToken  \n  \n wst:RequestSecurityTokenResponse  \n  \n wst:RequestSecurityTokenResponseCollection  \n  \n Information is also removed for each of the following Actions:  \n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/Issue`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/Issue`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/Renew`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/Renew`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/Cancel`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/Cancel`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/Validate`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/Validate`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/SCT`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/SCT`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/SCT/Amend`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/SCT/Amend`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/SCT/Renew`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/SCT/Renew`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RST/SCT/Cancel`\n  \n- `http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/SCT/Cancel`\n  \n- `http://schemas.xmlsoap.org/ws/2004/04/security/trust/RST/SCT`\n  \n- `http://schemas.xmlsoap.org/ws/2004/04/security/trust/RSTR/SCT`\n  \n- `http://schemas.xmlsoap.org/ws/2004/04/security/trust/RST/SCT-Amend`\n  \n- `http://schemas.xmlsoap.org/ws/2004/04/security/trust/RSTR/SCT-Amend`\n  \n#### No Information Is Removed from Application-specific Headers and Body Data  \n WCF does not track personal information in application-specific headers (for example, query strings) or body data (for example, credit card number).  \n  \n When message logging is on, personal information in application-specific headers and body information may be visible in the logs. Again, the application deployer is responsible for setting the ACLs on the configuration and log files. He also can turn off logging if he does not want this information to be visible, or he may filter out this information from the log files after it is logged.  \n  \n### Service Model Tracing  \n The Service Model trace source (<xref:System.ServiceModel>) enables tracing of activities and events related to message processing. This feature uses the .NET Framework diagnostic functionality from <xref:System.Diagnostics>. As with the <xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A> property, the location and its ACL are user-configurable using .NET Framework application configuration files. As with message logging, the file location is always configured when the administrator enables tracing; thus, the administrator controls the ACL.  \n  \n Traces contain message headers when a message is in scope. The same rules for hiding potentially personal information in message headers in the previous section apply: the personal information previously identified is removed by default from the headers in traces. Both the machine administrator and the application deployer must modify the configuration in order to log potentially personal information. However, personal information contained in application-specific headers is logged in traces. The application deployer is responsible for setting the ACLs on the configuration and trace files. He also can turn off tracing if he does not want this information to be visible, or he can filter out this information from the trace files after it is logged.  \n  \n As part of ServiceModel Tracing, Unique IDs (called Activity IDs, and typically a GUID) link different activities together as a message flows through different parts of the infrastructure.  \n  \n#### Custom Trace Listeners  \n For both message logging and tracing, a custom trace listener can be configured, which can send traces and messages on the wire (for example, to a remote database). The application deployer is responsible for configuring custom listeners or enabling users to do so. He is also responsible for any personal information exposed at the remote location, and for properly applying ACLs to this location.  \n  \n### Other features for IT Professionals  \n WCF has a WMI provider that exposes the WCF infrastructure configuration information through WMI (shipped with Windows). By default, the WMI interface is available to administrators.  \n  \n WCF configuration uses the .NET Framework configuration mechanism. The configuration files are stored on the machine. The application developer and the administrator create the configuration files and ACL for each of the application's requirements. A configuration file can contain endpoint addresses and links to certificates in the certificate store. The certificates can be used to provide application data to configure various properties of the features used by the application.  \n  \n WCF also uses the .NET Framework process dump functionality by calling the <xref:System.Environment.FailFast%2A> method.  \n  \n### IT Pro Tools  \n WCF also provides the following IT professional tools, which ship in the Windows SDK.  \n  \n#### SvcTraceViewer.exe  \n The viewer displays WCF trace files. The viewer shows whatever information is contained in the traces.  \n  \n#### SvcConfigEditor.exe  \n The editor allows the user to create and edit WCF configuration files. The editor shows whatever information is contained in the configuration files. The same task can be accomplished with a text editor.  \n  \n#### ServiceModel_Reg  \n This tool allows the user to manage ServiceModel installs on a machine. The tool displays status messages in a console window when it runs and, in the process, may display information about the configuration of the WCF installation.  \n  \n#### WSATConfig.exe and WSATUI.dll  \n These tools allow IT Professionals to configure interoperable WS-AtomicTransaction network support in WCF. The tools display and allow the user to change the values of the most commonly used WS-AtomicTransaction settings stored in the registry.  \n  \n## Cross-cutting Features  \n The following features are cross-cutting. That is, they can be composed with any of the preceding features.  \n  \n### Service Framework  \n Headers can contain an instance ID, which is a GUID that associates a message with an instance of a CLR class.  \n  \n The Web Services Description Language (WSDL) contains a definition of the port. Each port has an endpoint address and a binding that represents the services used by the application. Exposing WSDL can be turned off using configuration. No information is retained on the machine.  \n  \n## See also\n\n- [Windows Communication Foundation](index.md)\n- [Security](../../../docs/framework/wcf/feature-details/security.md)\n","nodes":[{"pos":[4,281],"embed":true,"restype":"x-metadata","content":"title: \"Windows Communication Foundation Privacy Information\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"Windows Communication Foundation, privacy information\"\n  - \"WCF, privacy information\"\n  - \"privacy information [WCF]\"\nms.assetid: c9553724-f3e7-45cb-9ea5-450a22d309d9","nodes":[{"content":"Windows Communication Foundation Privacy Information","nodes":[{"pos":[0,52],"content":"Windows Communication Foundation Privacy Information","nodes":[{"content":"Windows Communication Foundation Privacy Information","pos":[0,52]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[288,340],"content":"Windows Communication Foundation Privacy Information","linkify":"Windows Communication Foundation Privacy Information","nodes":[{"content":"Windows Communication Foundation Privacy Information","pos":[0,52]}]},{"content":"Microsoft is committed to protecting end-users' privacy.","pos":[341,397]},{"content":"When you build an application using Windows Communication Foundation (WCF), version 3.0, your application may impact your end-users' privacy.","pos":[398,539]},{"content":"For example, your application may explicitly collect user contact information, or it may request or send information over the Internet to your Web site.","pos":[540,692]},{"content":"If you embed Microsoft technology in your application, that technology may have its own behavior that might affect privacy.","pos":[693,816]},{"content":"WCF does not send any information to Microsoft from your application unless you or the end-user choose to send it to us.","pos":[817,937]},{"pos":[946,958],"content":"WCF in Brief","linkify":"WCF in Brief","nodes":[{"content":"WCF in Brief","pos":[0,12]}]},{"content":"WCF is a distributed messaging framework using the Microsoft .NET Framework that allows developers to build distributed applications.","pos":[962,1095]},{"content":"Messages communicated between two applications contain header and body information.","pos":[1096,1179]},{"content":"Headers may contain message routing, security information, transactions, and more depending on the services used by the application.","pos":[1186,1318]},{"content":"Messages are typically encrypted by default.","pos":[1319,1363]},{"content":"The one exception is when using the <ph id=\"ph1\">`BasicHttpBinding`</ph>, which was designed for use with non-secured, legacy Web services.","pos":[1364,1485],"source":" The one exception is when using the `BasicHttpBinding`, which was designed for use with non-secured, legacy Web services."},{"content":"As the application designer, you are responsible for the final design.","pos":[1486,1556]},{"content":"Messages in the SOAP body contain application-specific data; however, this data, such as application-defined personal information, can be secured by using WCF encryption or confidentiality features.","pos":[1557,1755]},{"content":"The following sections describe the features that potentially impact privacy.","pos":[1756,1833]},{"pos":[1842,1851],"content":"Messaging","linkify":"Messaging","nodes":[{"content":"Messaging","pos":[0,9]}]},{"content":"Each WCF message has an address header that specifies the message destination and where the reply should go.","pos":[1855,1963]},{"content":"The address component of an endpoint address is a Uniform Resource Identifier (URI) that identifies the endpoint.","pos":[1970,2083]},{"content":"The address can be a network address or a logical address.","pos":[2084,2142]},{"content":"The address may include machine name (hostname, fully qualified domain name) and an IP address.","pos":[2143,2238]},{"content":"The endpoint address may also contain a globally unique identifier (GUID), or a collection of GUIDs for temporary addressing used to discern each address.","pos":[2239,2393]},{"content":"Each message contains a message ID that is a GUID.","pos":[2394,2444]},{"content":"This feature follows the WS-Addressing reference standard.","pos":[2445,2503]},{"content":"The WCF messaging layer does not write any personal information to the local machine.","pos":[2510,2595]},{"content":"However, it might propagate personal information at the network level if a service developer has created a service that exposes such information (for example, by using a person's name in an endpoint name, or including personal information in the endpoint's Web Services Description Language but not requiring clients to use https to access the WSDL).","pos":[2596,2946]},{"content":"Also, if a developer runs the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> tool against an endpoint that exposes personal information, the tool's output could contain that information, and the output file is written to the local hard disk.","pos":[2947,3271],"source":" Also, if a developer runs the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool against an endpoint that exposes personal information, the tool's output could contain that information, and the output file is written to the local hard disk."},{"pos":[3280,3287],"content":"Hosting","linkify":"Hosting","nodes":[{"content":"Hosting","pos":[0,7]}]},{"content":"The hosting feature in WCF allows applications to start on demand or to enable port sharing between multiple applications.","pos":[3291,3413]},{"content":"An WCF application can be hosted in Internet Information Services (IIS), similar to <ph id=\"ph1\">[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]</ph>.","pos":[3414,3553],"source":" An WCF application can be hosted in Internet Information Services (IIS), similar to [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]."},{"content":"Hosting does not expose any specific information on the network and it does not keep data on the machine.","pos":[3560,3665]},{"pos":[3674,3690],"content":"Message Security","linkify":"Message Security","nodes":[{"content":"Message Security","pos":[0,16]}]},{"content":"WCF security provides the security capabilities for messaging applications.","pos":[3694,3769]},{"content":"The security functions provided include authentication and authorization.","pos":[3770,3843]},{"content":"Authentication is performed by passing credentials between the clients and services.","pos":[3850,3934]},{"content":"Authentication can be either through transport-level security or through SOAP message-level security, as follows:","pos":[3935,4048]},{"content":"In SOAP message security, authentication is performed through credentials like username/passwords, X.509 certificates, Kerberos tickets, and SAML tokens, all of which might contain personal information, depending on the issuer.","pos":[4058,4285]},{"content":"Using transport security, authentication is done through traditional transport authentication mechanisms like HTTP authentication schemes (Basic, Digest, Negotiate, Integrated Windows Authorization, NTLM, None, and Anonymous), and form authentication.","pos":[4295,4546]},{"content":"Authentication can result in a secure session established between the communicating endpoints.","pos":[4553,4647]},{"content":"The session is identified by a GUID that lasts the lifetime of the security session.","pos":[4648,4732]},{"content":"The following table shows what is kept and where.","pos":[4733,4782]},{"content":"Data","pos":[4789,4793]},{"content":"Storage","pos":[4794,4801]},{"content":"Presentation credentials, such as username, X.509 certificates, Kerberos tokens, and references to credentials.","pos":[4835,4946]},{"content":"Standard Windows credential management mechanisms such as the Windows certificate store.","pos":[4947,5035]},{"content":"User membership information, such as usernames and passwords.","pos":[5040,5101]},{"pos":[5102,5178],"content":"<ph id=\"ph1\">[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]</ph> membership providers.","source":"[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] membership providers."},{"content":"Identity information about the service used to authenticate the service to clients.","pos":[5183,5266]},{"content":"Endpoint address of the service.","pos":[5267,5299]},{"content":"Caller information.","pos":[5304,5323]},{"content":"Auditing logs.","pos":[5324,5338]},{"pos":[5348,5356],"content":"Auditing","linkify":"Auditing","nodes":[{"content":"Auditing","pos":[0,8]}]},{"content":"Auditing records the success and failure of authentication and authorization events.","pos":[5360,5444]},{"content":"Auditing records contain the following data: service URI, action URI, and the caller's identification.","pos":[5445,5547]},{"content":"Auditing also records when the administrator modifies the configuration of message logging (turning it on or off), because message logging may log application-specific data in headers and bodies.","pos":[5554,5749]},{"content":"For <ph id=\"ph1\">[!INCLUDE[wxp](../../../includes/wxp-md.md)]</ph>, a record is logged in the application event log.","pos":[5750,5848],"source":" For [!INCLUDE[wxp](../../../includes/wxp-md.md)], a record is logged in the application event log."},{"content":"For <ph id=\"ph1\">[!INCLUDE[wv](../../../includes/wv-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph>, a record is logged in the security event log.","pos":[5849,5997],"source":" For [!INCLUDE[wv](../../../includes/wv-md.md)] and [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], a record is logged in the security event log."},{"pos":[6006,6018],"content":"Transactions","linkify":"Transactions","nodes":[{"content":"Transactions","pos":[0,12]}]},{"content":"The transactions feature provides transactional services to a WCF application.","pos":[6022,6100]},{"content":"Transaction headers used in transaction propagation may contain Transaction IDs or Enlistment IDs, which are GUIDs.","pos":[6107,6222]},{"content":"The Transactions feature uses the Microsoft Distributed Transaction Coordinator (MSDTC) Transaction Manager (a Windows component) to manage transaction state.","pos":[6229,6387]},{"content":"By default, communications between Transactions Managers are encrypted.","pos":[6388,6459]},{"content":"Transaction Managers may log endpoint references, Transaction IDs, and Enlistment IDs as part of their durable state.","pos":[6460,6577]},{"content":"The lifetime of this state is determined by the lifetime of the Transaction Managerâ€™s log file.","pos":[6578,6673]},{"content":"The MSDTC service owns and maintains this log.","pos":[6674,6720]},{"content":"The Transactions feature implements the WS-Coordination and WS-Atomic Transaction standards.","pos":[6727,6819]},{"pos":[6828,6845],"content":"Reliable Sessions","linkify":"Reliable Sessions","nodes":[{"content":"Reliable Sessions","pos":[0,17]}]},{"content":"Reliable sessions in WCF provide the transfer of messages when transport or intermediary failures occur.","pos":[6849,6953]},{"content":"They provide an exactly-once transfer of messages even when the underlying transport disconnects (for example, a TCP connection on a wireless network) or loses a message (an HTTP proxy dropping an outgoing or incoming message).","pos":[6954,7181]},{"content":"Reliable sessions also recover message reordering (as may happen in the case of multipath routing), preserving the order in which the messages were sent.","pos":[7182,7335]},{"content":"Reliable sessions are implemented using the WS-ReliableMessaging (WS-RM) protocol.","pos":[7342,7424]},{"content":"They add WS-RM headers that contain session information, which is used to identify all messages associated with a particular reliable session.","pos":[7425,7567]},{"content":"Each WS-RM session has an identifier, which is a GUID.","pos":[7568,7622]},{"content":"No personal information is retained on the end-user's machine.","pos":[7629,7691]},{"pos":[7700,7715],"content":"Queued Channels","linkify":"Queued Channels","nodes":[{"content":"Queued Channels","pos":[0,15]}]},{"content":"Queues store messages from a sending application on behalf of a receiving application and later forward these messages to the receiving application.","pos":[7719,7867]},{"content":"They help ensure the transfer of messages from sending applications to receiving applications when, for example, the receiving application is transient.","pos":[7868,8020]},{"content":"WCF provides support for queuing by using Microsoft Message Queuing (MSMQ) as a transport.","pos":[8021,8111]},{"content":"The queued channels feature does not add headers to a message.","pos":[8118,8180]},{"content":"Instead it creates a Message Queuing message with appropriate Message Queuing message properties set, and invokes Message Queuing methods to put the message in the Message Queuing queue.","pos":[8181,8367]},{"content":"Message Queuing is an optional component that ships with Windows.","pos":[8368,8433]},{"content":"No information is retained on the end-user's machine by the queued channels feature, because it uses Message Queuing as the queuing infrastructure.","pos":[8440,8587]},{"pos":[8596,8612],"content":"COM+ Integration","linkify":"COM+ Integration","nodes":[{"content":"COM+ Integration","pos":[0,16]}]},{"content":"This feature wraps existing COM and COM+ functionality to create services that are compatible with WCF services.","pos":[8616,8728]},{"content":"This feature does not use specific headers and it does not retain data on the end-user's machine.","pos":[8729,8826]},{"pos":[8835,8854],"content":"COM Service Moniker","linkify":"COM Service Moniker","nodes":[{"content":"COM Service Moniker","pos":[0,19]}]},{"content":"This provides an unmanaged wrapper to a standard WCF client.","pos":[8858,8918]},{"content":"This feature does not have specific headers on the wire nor does it persist data on the machine.","pos":[8919,9015]},{"pos":[9024,9036],"content":"Peer Channel","linkify":"Peer Channel","nodes":[{"content":"Peer Channel","pos":[0,12]}]},{"content":"A peer channel enables development of multiparty applications using WCF.","pos":[9040,9112]},{"content":"Multiparty messaging occurs in the context of a mesh.","pos":[9113,9166]},{"content":"Meshes are identified by a name that nodes can join.","pos":[9167,9219]},{"content":"Each node in the peer channel creates a TCP listener at a user-specified port and establishes connections with other nodes in the mesh to ensure resiliency.","pos":[9220,9376]},{"content":"To connect to other nodes in the mesh, nodes also exchange some data, including the listener address and the machine's IP addresses, with other nodes in the mesh.","pos":[9377,9539]},{"content":"Messages sent around in the mesh can contain security information that pertains to the sender to prevent message spoofing and tampering.","pos":[9540,9676]},{"content":"No personal information is stored on the end-user's machine.","pos":[9683,9743]},{"pos":[9752,9778],"content":"IT Professional Experience","linkify":"IT Professional Experience","nodes":[{"content":"IT Professional Experience","pos":[0,26]}]},{"pos":[9788,9795],"content":"Tracing","linkify":"Tracing","nodes":[{"content":"Tracing","pos":[0,7]}]},{"content":"The diagnostics feature of the WCF infrastructure logs messages that pass through the transport and service model layers, and the activities and events associated with these messages.","pos":[9799,9982]},{"content":"This feature is turned off by default.","pos":[9983,10021]},{"content":"It is enabled using the applicationâ€™s configuration file and the tracing behavior may be modified using the WCF WMI provider at run time.","pos":[10022,10159]},{"content":"When enabled, the tracing infrastructure emits a diagnostic trace that contains messages, activities, and processing events to configured listeners.","pos":[10160,10308]},{"content":"The format and location of the output are determined by the administratorâ€™s listener configuration choices, but is typically an XML formatted file.","pos":[10309,10456]},{"content":"The administrator is responsible for setting the access control list (ACL) on the trace files.","pos":[10457,10551]},{"content":"In particular, when hosted by Windows Activation System (WAS), the administrator should make sure the files are not served from the public virtual root directory if that is not desired.","pos":[10552,10737]},{"content":"There are two types of tracing: Message logging and Service Model diagnostic tracing, described in the following section.","pos":[10744,10865]},{"content":"Each type is configured through its own trace source: <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel&gt;</ph>.","pos":[10866,11028],"source":" Each type is configured through its own trace source: <xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A> and <xref:System.ServiceModel>."},{"content":"Both of these logging trace sources capture data that is local to the application.","pos":[11029,11111]},{"pos":[11121,11136],"content":"Message Logging","linkify":"Message Logging","nodes":[{"content":"Message Logging","pos":[0,15]}]},{"content":"The message logging trace source (<ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A&gt;</ph>) allows an administrator to log the messages that flow through the system.","pos":[11140,11325],"source":"The message logging trace source (<xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A>) allows an administrator to log the messages that flow through the system."},{"content":"Through configuration, the user may decide to log entire messages or message headers only, whether to log at the transport and/or service model layers, and whether to include malformed messages.","pos":[11326,11520]},{"content":"Also, the user may configure filtering to restrict which messages are logged.","pos":[11521,11598]},{"content":"By default, message logging is disabled.","pos":[11605,11645]},{"content":"The local machine administrator can prevent the application-level administrator from turning message logging on.","pos":[11646,11758]},{"pos":[11769,11808],"content":"Encrypted and Decrypted Message Logging","linkify":"Encrypted and Decrypted Message Logging","nodes":[{"content":"Encrypted and Decrypted Message Logging","pos":[0,39]}]},{"content":"Messages are logged, encrypted, or decrypted, as described in the following terms.","pos":[11812,11894]},{"content":"Transport Logging","pos":[11901,11918]},{"content":"Logs messages received and sent at the transport level.","pos":[11922,11977]},{"content":"These messages contain all headers, and may be encrypted before being sent on the wire and when being received.","pos":[11978,12089]},{"content":"If messages are encrypted before being sent on the wire and when they are received, they are logged encrypted as well.","pos":[12096,12214]},{"content":"An exception is when a security protocol is used (https): they are then logged decrypted before being sent and after being received even if they are encrypted on the wire.","pos":[12215,12386]},{"content":"Service Logging","pos":[12393,12408]},{"content":"Logs messages received or sent at the service model level, after channel header processing has occurred, just before and after entering user code.","pos":[12412,12558]},{"content":"Messages logged at this level are decrypted even if they were secured and encrypted on the wire.","pos":[12565,12661]},{"content":"Malformed Message Logging","pos":[12668,12693]},{"content":"Logs messages that the WCF infrastructure cannot understand or process.","pos":[12697,12768]},{"content":"Messages are logged as-is, that is, encrypted or not","pos":[12775,12827]},{"content":"When messages are logged in decrypted or unencrypted form, by default WCF removes security keys and potentially personal information from the messages before logging them.","pos":[12834,13005]},{"content":"The next sections describe what information is removed, and when.","pos":[13006,13071]},{"content":"The machine administrator and application deployer must both take certain configuration actions to change the default behavior to log keys and potentially personal information.","pos":[13072,13248]},{"pos":[13259,13343],"content":"Information Removed from Message Headers When Logging Decrypted/Unencrypted Messages","linkify":"Information Removed from Message Headers When Logging Decrypted/Unencrypted Messages","nodes":[{"content":"Information Removed from Message Headers When Logging Decrypted/Unencrypted Messages","pos":[0,84]}]},{"content":"When messages are logged in decrypted/unencrypted form, security keys and potentially personal information are removed by default from message headers and message bodies before they are logged.","pos":[13347,13540]},{"content":"The following list shows what WCF considers keys and potentially personal information.","pos":[13541,13627]},{"content":"Keys that are removed:","pos":[13634,13656]},{"content":"<ph id=\"ph1\">\\-</ph> For xmlns:wst=\"<ph id=\"ph2\">http://schemas.xmlsoap.org/ws/2004/04/trust</ph>\" and xmlns:wst=\"<ph id=\"ph3\">http://schemas.xmlsoap.org/ws/2005/02/trust</ph>\"","pos":[13663,13785],"source":"\\- For xmlns:wst=\"http://schemas.xmlsoap.org/ws/2004/04/trust\" and xmlns:wst=\"http://schemas.xmlsoap.org/ws/2005/02/trust\""},{"content":"wst:BinarySecret","pos":[13792,13808]},{"content":"wst:Entropy","pos":[13815,13826]},{"content":"<ph id=\"ph1\">\\-</ph> For xmlns:wsse=\"<ph id=\"ph2\">http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.1.xsd</ph>\" and xmlns:wsse=\"<ph id=\"ph3\">http://docs.oasis-open.org/wss/2005/xx/oasis-2005xx-wss-wssecurity-secext-1.1.xsd</ph>\"","pos":[13833,14033],"source":"\\- For xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.1.xsd\" and xmlns:wsse=\"http://docs.oasis-open.org/wss/2005/xx/oasis-2005xx-wss-wssecurity-secext-1.1.xsd\""},{"content":"wsse:Password","pos":[14040,14053]},{"content":"wsse:Nonce","pos":[14060,14070]},{"content":"Potentially personal information that is removed:","pos":[14077,14126]},{"content":"<ph id=\"ph1\">\\-</ph> For xmlns:wsse=\"<ph id=\"ph2\">http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.1.xsd</ph>\" and xmlns:wsse=\"<ph id=\"ph3\">http://docs.oasis-open.org/wss/2005/xx/oasis-2005xx-wss-wssecurity-secext-1.1.xsd</ph>\"","pos":[14133,14333],"source":"\\- For xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.1.xsd\" and xmlns:wsse=\"http://docs.oasis-open.org/wss/2005/xx/oasis-2005xx-wss-wssecurity-secext-1.1.xsd\""},{"content":"wsse:Username","pos":[14340,14353]},{"content":"wsse:BinarySecurityToken","pos":[14360,14384]},{"content":"<ph id=\"ph1\">\\-</ph> For xmlns:saml=\"urn:oasis:names:tc:SAML:1.0:assertion\" the items in bold (below) are removed:","pos":[14391,14487],"source":"\\- For xmlns:saml=\"urn:oasis:names:tc:SAML:1.0:assertion\" the items in bold (below) are removed:"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Assertion","pos":[14494,14505],"source":"\\<Assertion"},{"content":"MajorVersion=\"1\"","pos":[14512,14528]},{"content":"MinorVersion=\"1\"","pos":[14535,14551]},{"content":"AssertionId=\"[ID]\"","pos":[14558,14576]},{"content":"Issuer=\"[string]\"","pos":[14583,14600]},{"content":"IssueInstant=\"[dateTime]\"","pos":[14607,14632]},{"content":"<ph id=\"ph1\">\\&lt;</ph>Conditions NotBefore=\"[dateTime]\" NotOnOrAfter=\"[dateTime]\"&gt;","pos":[14647,14709],"source":"\\<Conditions NotBefore=\"[dateTime]\" NotOnOrAfter=\"[dateTime]\">"},{"content":"<ph id=\"ph1\">\\&lt;</ph>AudienceRestrictionCondition&gt;","pos":[14716,14747],"source":"\\<AudienceRestrictionCondition>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Audience&gt;[uri]<ph id=\"ph2\">\\&lt;</ph>/Audience&gt;+","pos":[14754,14783],"source":"\\<Audience>[uri]\\</Audience>+"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/AudienceRestrictionCondition&gt;*","pos":[14790,14823],"source":"\\</AudienceRestrictionCondition>*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>DoNotCacheCondition /&gt;*","pos":[14830,14855],"source":"\\<DoNotCacheCondition />*"},{"content":"<ph id=\"ph1\">&lt;</ph><ph id=\"ph2\">\\!</ph>-- abstract base type","pos":[14862,14886],"source":"<\\!-- abstract base type"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Condition /&gt;*","pos":[14893,14908],"source":"\\<Condition />*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/Conditions&gt;?","pos":[14925,14940],"source":"\\</Conditions>?"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Advice&gt;","pos":[14947,14956],"source":"\\<Advice>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>AssertionIDReference&gt;[ID]<ph id=\"ph2\">\\&lt;</ph>/AssertionIDReference&gt;*","pos":[14963,15015],"source":"\\<AssertionIDReference>[ID]\\</AssertionIDReference>*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Assertion&gt;[assertion]<ph id=\"ph2\">\\&lt;</ph>/Assertion&gt;*","pos":[15022,15059],"source":"\\<Assertion>[assertion]\\</Assertion>*"},{"content":"[any]*","pos":[15066,15072]},{"content":"<ph id=\"ph1\">\\&lt;</ph>/Advice&gt;?","pos":[15079,15090],"source":"\\</Advice>?"},{"content":"<ph id=\"ph1\">&lt;</ph><ph id=\"ph2\">\\!</ph>-- Abstract base types","pos":[15097,15122],"source":"<\\!-- Abstract base types"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Statement /&gt;*","pos":[15129,15144],"source":"\\<Statement />*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>SubjectStatement&gt;","pos":[15151,15170],"source":"\\<SubjectStatement>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Subject&gt;","pos":[15177,15187],"source":"\\<Subject>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>SubjectConfirmation&gt;","pos":[15330,15352],"source":"\\<SubjectConfirmation>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>ConfirmationMethod&gt;[anyUri]<ph id=\"ph2\">\\&lt;</ph>/ConfirmationMethod&gt;+","pos":[15359,15411],"source":"\\<ConfirmationMethod>[anyUri]\\</ConfirmationMethod>+"},{"content":"<ph id=\"ph1\">\\&lt;</ph>SubjectConfirmationData&gt;[any]<ph id=\"ph2\">\\&lt;</ph>/SubjectConfirmationData&gt;?","pos":[15418,15477],"source":"\\<SubjectConfirmationData>[any]\\</SubjectConfirmationData>?"},{"content":"<ph id=\"ph1\">\\&lt;</ph>ds:KeyInfo&gt;...<ph id=\"ph2\">\\&lt;</ph>/ds:KeyInfo&gt;?","pos":[15484,15515],"source":"\\<ds:KeyInfo>...\\</ds:KeyInfo>?"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/SubjectConfirmation&gt;?","pos":[15522,15546],"source":"\\</SubjectConfirmation>?"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/Subject&gt;","pos":[15553,15564],"source":"\\</Subject>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/SubjectStatement&gt;*","pos":[15571,15592],"source":"\\</SubjectStatement>*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>AuthenticationStatement","pos":[15609,15634],"source":"\\<AuthenticationStatement"},{"content":"AuthenticationMethod=\"[uri]\"","pos":[15641,15669]},{"content":"AuthenticationInstant=\"[dateTime]\"","pos":[15676,15710]},{"content":"[Subject]","pos":[15725,15734]},{"content":"&lt;AuthorityBinding","pos":[15839,15856],"source":"<AuthorityBinding"},{"content":"AuthorityKind=\"[QName]\"","pos":[15863,15886]},{"content":"Location=\"[uri]\"","pos":[15893,15909]},{"content":"Binding=\"[uri]\"","pos":[15916,15931]},{"content":"<ph id=\"ph1\">\\&lt;</ph>/AuthenticationStatement&gt;*","pos":[15948,15976],"source":"\\</AuthenticationStatement>*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>AttributeStatement&gt;","pos":[15983,16004],"source":"\\<AttributeStatement>"},{"content":"[Subject]","pos":[16011,16020]},{"content":"<ph id=\"ph1\">\\&lt;</ph>Attribute","pos":[16027,16038],"source":"\\<Attribute"},{"content":"AttributeName=\"[string]\"","pos":[16045,16069]},{"content":"AttributeNamespace=\"[uri]\"","pos":[16076,16102]},{"content":"<ph id=\"ph1\">\\&lt;</ph>/Attribute&gt;+","pos":[16165,16179],"source":"\\</Attribute>+"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/AttributeStatement&gt;*","pos":[16186,16209],"source":"\\</AttributeStatement>*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>AuthorizationDecisionStatement","pos":[16216,16248],"source":"\\<AuthorizationDecisionStatement"},{"content":"Resource=\"[uri]\"","pos":[16255,16271]},{"content":"Decision=\"[Permit&amp;#124;Deny&amp;#124;Indeterminate]\"","pos":[16278,16326],"source":"Decision=\"[Permit&#124;Deny&#124;Indeterminate]\""},{"content":"[Subject]","pos":[16341,16350]},{"content":"<ph id=\"ph1\">\\&lt;</ph>Action Namespace=\"[uri]\"&gt;[string]<ph id=\"ph2\">\\&lt;</ph>/Action&gt;+","pos":[16357,16403],"source":"\\<Action Namespace=\"[uri]\">[string]\\</Action>+"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Evidence&gt;","pos":[16410,16421],"source":"\\<Evidence>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>AssertionIDReference&gt;[ID]<ph id=\"ph2\">\\&lt;</ph>/AssertionIDReference&gt;+","pos":[16428,16480],"source":"\\<AssertionIDReference>[ID]\\</AssertionIDReference>+"},{"content":"<ph id=\"ph1\">\\&lt;</ph>Assertion&gt;[assertion]<ph id=\"ph2\">\\&lt;</ph>/Assertion&gt;+","pos":[16487,16524],"source":"\\<Assertion>[assertion]\\</Assertion>+"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/Evidence&gt;?","pos":[16531,16544],"source":"\\</Evidence>?"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/AuthorizationDecisionStatement&gt;*","pos":[16551,16586],"source":"\\</AuthorizationDecisionStatement>*"},{"content":"<ph id=\"ph1\">\\&lt;</ph>/Assertion&gt;","pos":[16593,16606],"source":"\\</Assertion>"},{"pos":[16617,16700],"content":"Information Removed from Message Bodies When Logging Decrypted/Unencrypted Messages","linkify":"Information Removed from Message Bodies When Logging Decrypted/Unencrypted Messages","nodes":[{"content":"Information Removed from Message Bodies When Logging Decrypted/Unencrypted Messages","pos":[0,83]}]},{"content":"As previously described, WCF removes keys and known potentially personal information from message headers for logged decrypted/unencrypted messages.","pos":[16704,16852]},{"content":"In addition, WCF removes keys and known potentially personal information from message bodies for the body elements and actions in the following list, which describe security messages involved in key exchange.","pos":[16853,17061]},{"content":"For the following namespaces:","pos":[17068,17097]},{"content":"xmlns:wst=\"<ph id=\"ph1\">http://schemas.xmlsoap.org/ws/2004/04/trust</ph>\" and xmlns:wst=\"<ph id=\"ph2\">http://schemas.xmlsoap.org/ws/2005/02/trust</ph>\" (for example, if no action available)","pos":[17104,17257],"source":"xmlns:wst=\"http://schemas.xmlsoap.org/ws/2004/04/trust\" and xmlns:wst=\"http://schemas.xmlsoap.org/ws/2005/02/trust\" (for example, if no action available)"},{"content":"Information is removed for these body elements, which involve key exchange:","pos":[17264,17339]},{"content":"wst:RequestSecurityToken","pos":[17346,17370]},{"content":"wst:RequestSecurityTokenResponse","pos":[17377,17409]},{"content":"wst:RequestSecurityTokenResponseCollection","pos":[17416,17458]},{"content":"Information is also removed for each of the following Actions:","pos":[17465,17527]},{"pos":[18838,18911],"content":"No Information Is Removed from Application-specific Headers and Body Data","linkify":"No Information Is Removed from Application-specific Headers and Body Data","nodes":[{"content":"No Information Is Removed from Application-specific Headers and Body Data","pos":[0,73]}]},{"content":"WCF does not track personal information in application-specific headers (for example, query strings) or body data (for example, credit card number).","pos":[18915,19063]},{"content":"When message logging is on, personal information in application-specific headers and body information may be visible in the logs.","pos":[19070,19199]},{"content":"Again, the application deployer is responsible for setting the ACLs on the configuration and log files.","pos":[19200,19303]},{"content":"He also can turn off logging if he does not want this information to be visible, or he may filter out this information from the log files after it is logged.","pos":[19304,19461]},{"pos":[19471,19492],"content":"Service Model Tracing","linkify":"Service Model Tracing","nodes":[{"content":"Service Model Tracing","pos":[0,21]}]},{"content":"The Service Model trace source (<ph id=\"ph1\">&lt;xref:System.ServiceModel&gt;</ph>) enables tracing of activities and events related to message processing.","pos":[19496,19627],"source":"The Service Model trace source (<xref:System.ServiceModel>) enables tracing of activities and events related to message processing."},{"content":"This feature uses the .NET Framework diagnostic functionality from <ph id=\"ph1\">&lt;xref:System.Diagnostics&gt;</ph>.","pos":[19628,19721],"source":" This feature uses the .NET Framework diagnostic functionality from <xref:System.Diagnostics>."},{"content":"As with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A&gt;</ph> property, the location and its ACL are user-configurable using .NET Framework application configuration files.","pos":[19722,19921],"source":" As with the <xref:System.ServiceModel.Configuration.DiagnosticSection.MessageLogging%2A> property, the location and its ACL are user-configurable using .NET Framework application configuration files."},{"content":"As with message logging, the file location is always configured when the administrator enables tracing; thus, the administrator controls the ACL.","pos":[19922,20067]},{"content":"Traces contain message headers when a message is in scope.","pos":[20074,20132]},{"content":"The same rules for hiding potentially personal information in message headers in the previous section apply: the personal information previously identified is removed by default from the headers in traces.","pos":[20133,20338]},{"content":"Both the machine administrator and the application deployer must modify the configuration in order to log potentially personal information.","pos":[20339,20478]},{"content":"However, personal information contained in application-specific headers is logged in traces.","pos":[20479,20571]},{"content":"The application deployer is responsible for setting the ACLs on the configuration and trace files.","pos":[20572,20670]},{"content":"He also can turn off tracing if he does not want this information to be visible, or he can filter out this information from the trace files after it is logged.","pos":[20671,20830]},{"content":"As part of ServiceModel Tracing, Unique IDs (called Activity IDs, and typically a GUID) link different activities together as a message flows through different parts of the infrastructure.","pos":[20837,21025]},{"pos":[21036,21058],"content":"Custom Trace Listeners","linkify":"Custom Trace Listeners","nodes":[{"content":"Custom Trace Listeners","pos":[0,22]}]},{"content":"For both message logging and tracing, a custom trace listener can be configured, which can send traces and messages on the wire (for example, to a remote database).","pos":[21062,21226]},{"content":"The application deployer is responsible for configuring custom listeners or enabling users to do so.","pos":[21227,21327]},{"content":"He is also responsible for any personal information exposed at the remote location, and for properly applying ACLs to this location.","pos":[21328,21460]},{"pos":[21470,21505],"content":"Other features for IT Professionals","linkify":"Other features for IT Professionals","nodes":[{"content":"Other features for IT Professionals","pos":[0,35]}]},{"content":"WCF has a WMI provider that exposes the WCF infrastructure configuration information through WMI (shipped with Windows).","pos":[21509,21629]},{"content":"By default, the WMI interface is available to administrators.","pos":[21630,21691]},{"content":"WCF configuration uses the .NET Framework configuration mechanism.","pos":[21698,21764]},{"content":"The configuration files are stored on the machine.","pos":[21765,21815]},{"content":"The application developer and the administrator create the configuration files and ACL for each of the application's requirements.","pos":[21816,21946]},{"content":"A configuration file can contain endpoint addresses and links to certificates in the certificate store.","pos":[21947,22050]},{"content":"The certificates can be used to provide application data to configure various properties of the features used by the application.","pos":[22051,22180]},{"pos":[22187,22307],"content":"WCF also uses the .NET Framework process dump functionality by calling the <ph id=\"ph1\">&lt;xref:System.Environment.FailFast%2A&gt;</ph> method.","source":"WCF also uses the .NET Framework process dump functionality by calling the <xref:System.Environment.FailFast%2A> method."},{"pos":[22317,22329],"content":"IT Pro Tools","linkify":"IT Pro Tools","nodes":[{"content":"IT Pro Tools","pos":[0,12]}]},{"content":"WCF also provides the following IT professional tools, which ship in the Windows SDK.","pos":[22333,22418]},{"pos":[22429,22447],"content":"SvcTraceViewer.exe","linkify":"SvcTraceViewer.exe","nodes":[{"content":"SvcTraceViewer.exe","pos":[0,18]}]},{"content":"The viewer displays WCF trace files.","pos":[22451,22487]},{"content":"The viewer shows whatever information is contained in the traces.","pos":[22488,22553]},{"pos":[22564,22583],"content":"SvcConfigEditor.exe","linkify":"SvcConfigEditor.exe","nodes":[{"content":"SvcConfigEditor.exe","pos":[0,19]}]},{"content":"The editor allows the user to create and edit WCF configuration files.","pos":[22587,22657]},{"content":"The editor shows whatever information is contained in the configuration files.","pos":[22658,22736]},{"content":"The same task can be accomplished with a text editor.","pos":[22737,22790]},{"pos":[22801,22817],"content":"ServiceModel_Reg","linkify":"ServiceModel_Reg","nodes":[{"content":"ServiceModel_Reg","pos":[0,16]}]},{"content":"This tool allows the user to manage ServiceModel installs on a machine.","pos":[22821,22892]},{"content":"The tool displays status messages in a console window when it runs and, in the process, may display information about the configuration of the WCF installation.","pos":[22893,23053]},{"pos":[23064,23093],"content":"WSATConfig.exe and WSATUI.dll","linkify":"WSATConfig.exe and WSATUI.dll","nodes":[{"content":"WSATConfig.exe and WSATUI.dll","pos":[0,29]}]},{"content":"These tools allow IT Professionals to configure interoperable WS-AtomicTransaction network support in WCF.","pos":[23097,23203]},{"content":"The tools display and allow the user to change the values of the most commonly used WS-AtomicTransaction settings stored in the registry.","pos":[23204,23341]},{"pos":[23350,23372],"content":"Cross-cutting Features","linkify":"Cross-cutting Features","nodes":[{"content":"Cross-cutting Features","pos":[0,22]}]},{"content":"The following features are cross-cutting.","pos":[23376,23417]},{"content":"That is, they can be composed with any of the preceding features.","pos":[23418,23483]},{"pos":[23493,23510],"content":"Service Framework","linkify":"Service Framework","nodes":[{"content":"Service Framework","pos":[0,17]}]},{"content":"Headers can contain an instance ID, which is a GUID that associates a message with an instance of a CLR class.","pos":[23514,23624]},{"content":"The Web Services Description Language (WSDL) contains a definition of the port.","pos":[23631,23710]},{"content":"Each port has an endpoint address and a binding that represents the services used by the application.","pos":[23711,23812]},{"content":"Exposing WSDL can be turned off using configuration.","pos":[23813,23865]},{"content":"No information is retained on the machine.","pos":[23866,23908]},{"pos":[23917,23925],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[23929,23973],"content":"<bpt id=\"p1\">[</bpt>Windows Communication Foundation<ept id=\"p1\">](index.md)</ept>","source":"[Windows Communication Foundation](index.md)"},{"pos":[23976,24043],"content":"<bpt id=\"p1\">[</bpt>Security<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/security.md)</ept>","source":"[Security](../../../docs/framework/wcf/feature-details/security.md)"}]}