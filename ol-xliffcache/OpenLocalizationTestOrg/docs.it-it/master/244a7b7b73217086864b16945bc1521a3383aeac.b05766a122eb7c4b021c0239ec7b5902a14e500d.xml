{"content":"---\ntitle: \"SystemWebRouting Integration Sample\"\nms.date: \"03/30/2017\"\nms.assetid: f1c94802-95c4-49e4-b1e2-ee9dd126ff93\n---\n# SystemWebRouting Integration Sample\nThis sample demonstrates the hosting layer’s integration with the classes in the <xref:System.Web.Routing> namespace. The classes in the <xref:System.Web.Routing> namespace allow an application to use URLs that do not directly correspond to a physical resource. Using Web routing allows the developer to create virtual addresses for HTTP that are then mapped back to actual WCF services. This is useful when a WCF service must be hosted without requiring a physical file or resource, or when services must be accessed with URLs that do not contain files such as .html or .aspx. This sample demonstrates how to utilize the <xref:System.Web.Routing.RouteTable> class to create virtual URIs that map to running services defined in global.asax. \n\n> [!NOTE]\n>  The classes in the <xref:System.Web.Routing> namespace only work for services hosted over HTTP.  \n  \nThis example uses WCF to create two RSS feeds: a `movies` feed and a `channels` feed. The URLs to activate the services do not contain an extension and are registered in the `Application_Start` method of the `Global` class derived from the <xref:System.Web.HttpApplication> class.  \n  \n> [!NOTE]\n>  This sample only works in Internet Information Services (IIS) 7.0 and later, as IIS 6.0 uses a different method for supporting extension-less URLs.  \n\n#### To download this sample\n  \nThis sample may already be installed on your computer. Check for the following (default) directory before continuing.  \n   \n`<InstallDrive>:\\WF_WCF_Samples`  \n   \n If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n   \n`<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Services\\Hosting\\WebRoutingIntegration`  \n  \n#### To use this sample  \n  \n1.  Using Visual Studio, open the WebRoutingIntegration.sln file.  \n  \n2.  To run the solution and start the Web development server, press F5.  \n  \n     A directory listing for the sample appears. Note that there are no files with an .svc file extension.  \n  \n3.  In the address bar, add `movies` to the URL, so that it reads `http://localhost:[port]/movies` and press ENTER.  \n  \n     The movies feed appears in the browser.  \n  \n4.  In the address bar, add `channels` to the URL, so that is reads `http://localhost:[port]/channels` and press ENTER.  \n  \n     The channels feed appears in the browser.  \n  \n5.  Close the Web browser, by pressing ALT+F4.  \n  \n     If the development server has not exited, right-click the notification area icon and select **Stop**.  \n  \n#### To use this sample when hosted in IIS  \n  \n1.  Using Visual Studio, open the WebRoutingIntegration.sln file.  \n  \n2.  Build the project, by pressing CTRL+SHIFT+B.  \n  \n3.  Create a Web application in Internet Information Services (IIS) Manager.  \n  \n    1.  In IIS Manager, right click the **Default Web Site** and select **Add an Application**.  \n  \n    2.  For the **alias**, type in `WebRoutingIntegration`.  \n  \n    3.  For the **Physical Path**, select the Service folder inside the project.  \n  \n    4.  Press **OK**.  \n  \n4.  Start the application, by right-clicking the Web application and selecting **Manage Application** and then **Browse**.  \n  \n5.  In the address bar, add `movies` to the URL, so that is reads `http://localhost:[port]/movies` and press ENTER.  \n  \n     The movies feed appears in the browser.  \n  \n6.  In the address bar, add `channels` to the URL, so that is reads `http://localhost:[port]/channels` and press ENTER.  \n  \n     The channels feed appears in the browser.  \n  \n7.  Close the Web browser, by pressing ALT+F4.  \n  \n This sample demonstrates that the hosting layer is capable of composing with the classes in the <xref:System.Web.Routing> namespace for routing the requests of services hosted over HTTP.  \n  \n> [!NOTE]\n>  You must update the default application pool version to [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)] if it’s set to version 2.  \n  \n## See also\n\n- [AppFabric Hosting and Persistence Samples](https://go.microsoft.com/fwlink/?LinkId=193961)\n","nodes":[{"pos":[4,119],"embed":true,"restype":"x-metadata","content":"title: \"SystemWebRouting Integration Sample\"\nms.date: \"03/30/2017\"\nms.assetid: f1c94802-95c4-49e4-b1e2-ee9dd126ff93","nodes":[{"content":"SystemWebRouting Integration Sample","nodes":[{"pos":[0,35],"content":"SystemWebRouting Integration Sample","nodes":[{"content":"SystemWebRouting Integration Sample","pos":[0,35]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[126,161],"content":"SystemWebRouting Integration Sample","linkify":"SystemWebRouting Integration Sample","nodes":[{"content":"SystemWebRouting Integration Sample","pos":[0,35]}]},{"content":"This sample demonstrates the hosting layer’s integration with the classes in the <ph id=\"ph1\">&lt;xref:System.Web.Routing&gt;</ph> namespace.","pos":[162,279],"source":"This sample demonstrates the hosting layer’s integration with the classes in the <xref:System.Web.Routing> namespace."},{"content":"The classes in the <ph id=\"ph1\">&lt;xref:System.Web.Routing&gt;</ph> namespace allow an application to use URLs that do not directly correspond to a physical resource.","pos":[280,423],"source":" The classes in the <xref:System.Web.Routing> namespace allow an application to use URLs that do not directly correspond to a physical resource."},{"content":"Using Web routing allows the developer to create virtual addresses for HTTP that are then mapped back to actual WCF services.","pos":[424,549]},{"content":"This is useful when a WCF service must be hosted without requiring a physical file or resource, or when services must be accessed with URLs that do not contain files such as .html or .aspx.","pos":[550,739]},{"content":"This sample demonstrates how to utilize the <ph id=\"ph1\">&lt;xref:System.Web.Routing.RouteTable&gt;</ph> class to create virtual URIs that map to running services defined in global.asax.","pos":[740,902],"source":" This sample demonstrates how to utilize the <xref:System.Web.Routing.RouteTable> class to create virtual URIs that map to running services defined in global.asax."},{"pos":[907,1013],"content":"[!NOTE]\n The classes in the <xref:System.Web.Routing> namespace only work for services hosted over HTTP.","leadings":["","> "],"nodes":[{"content":"The classes in the <ph id=\"ph1\">&lt;xref:System.Web.Routing&gt;</ph> namespace only work for services hosted over HTTP.","pos":[9,104],"source":"The classes in the <xref:System.Web.Routing> namespace only work for services hosted over HTTP."}]},{"content":"This example uses WCF to create two RSS feeds: a <ph id=\"ph1\">`movies`</ph> feed and a <ph id=\"ph2\">`channels`</ph> feed.","pos":[1019,1104],"source":"This example uses WCF to create two RSS feeds: a `movies` feed and a `channels` feed."},{"content":"The URLs to activate the services do not contain an extension and are registered in the <ph id=\"ph1\">`Application_Start`</ph> method of the <ph id=\"ph2\">`Global`</ph> class derived from the <ph id=\"ph3\">&lt;xref:System.Web.HttpApplication&gt;</ph> class.","pos":[1105,1299],"source":" The URLs to activate the services do not contain an extension and are registered in the `Application_Start` method of the `Global` class derived from the <xref:System.Web.HttpApplication> class."},{"pos":[1307,1465],"content":"[!NOTE]\n This sample only works in Internet Information Services (IIS) 7.0 and later, as IIS 6.0 uses a different method for supporting extension-less URLs.","leadings":["","> "],"nodes":[{"content":"This sample only works in Internet Information Services (IIS) 7.0 and later, as IIS 6.0 uses a different method for supporting extension-less URLs.","pos":[9,156]}]},{"pos":[1474,1497],"content":"To download this sample","linkify":"To download this sample","nodes":[{"content":"To download this sample","pos":[0,23]}]},{"content":"This sample may already be installed on your computer.","pos":[1501,1555]},{"content":"Check for the following (default) directory before continuing.","pos":[1556,1618]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1665,1975],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1976,2026]},{"pos":[2125,2143],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"content":"Using Visual Studio, open the WebRoutingIntegration.sln file.","pos":[2153,2214]},{"content":"To run the solution and start the Web development server, press F5.","pos":[2224,2291]},{"content":"A directory listing for the sample appears.","pos":[2302,2345]},{"content":"Note that there are no files with an .svc file extension.","pos":[2346,2403]},{"pos":[2413,2524],"content":"In the address bar, add <ph id=\"ph1\">`movies`</ph> to the URL, so that it reads <ph id=\"ph2\">`http://localhost:[port]/movies`</ph> and press ENTER.","source":"In the address bar, add `movies` to the URL, so that it reads `http://localhost:[port]/movies` and press ENTER."},{"content":"The movies feed appears in the browser.","pos":[2535,2574]},{"pos":[2584,2699],"content":"In the address bar, add <ph id=\"ph1\">`channels`</ph> to the URL, so that is reads <ph id=\"ph2\">`http://localhost:[port]/channels`</ph> and press ENTER.","source":"In the address bar, add `channels` to the URL, so that is reads `http://localhost:[port]/channels` and press ENTER."},{"content":"The channels feed appears in the browser.","pos":[2710,2751]},{"content":"Close the Web browser, by pressing ALT+F4.","pos":[2761,2803]},{"pos":[2814,2915],"content":"If the development server has not exited, right-click the notification area icon and select <bpt id=\"p1\">**</bpt>Stop<ept id=\"p1\">**</ept>.","source":"If the development server has not exited, right-click the notification area icon and select **Stop**."},{"pos":[2926,2963],"content":"To use this sample when hosted in IIS","linkify":"To use this sample when hosted in IIS","nodes":[{"content":"To use this sample when hosted in IIS","pos":[0,37]}]},{"content":"Using Visual Studio, open the WebRoutingIntegration.sln file.","pos":[2973,3034]},{"content":"Build the project, by pressing CTRL+SHIFT+B.","pos":[3044,3088]},{"content":"Create a Web application in Internet Information Services (IIS) Manager.","pos":[3098,3170]},{"pos":[3184,3271],"content":"In IIS Manager, right click the <bpt id=\"p1\">**</bpt>Default Web Site<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Add an Application<ept id=\"p2\">**</ept>.","source":"In IIS Manager, right click the **Default Web Site** and select **Add an Application**."},{"pos":[3285,3336],"content":"For the <bpt id=\"p1\">**</bpt>alias<ept id=\"p1\">**</ept>, type in <ph id=\"ph1\">`WebRoutingIntegration`</ph>.","source":"For the **alias**, type in `WebRoutingIntegration`."},{"pos":[3350,3422],"content":"For the <bpt id=\"p1\">**</bpt>Physical Path<ept id=\"p1\">**</ept>, select the Service folder inside the project.","source":"For the **Physical Path**, select the Service folder inside the project."},{"pos":[3436,3449],"content":"Press <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Press **OK**."},{"pos":[3459,3577],"content":"Start the application, by right-clicking the Web application and selecting <bpt id=\"p1\">**</bpt>Manage Application<ept id=\"p1\">**</ept> and then <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept>.","source":"Start the application, by right-clicking the Web application and selecting **Manage Application** and then **Browse**."},{"pos":[3587,3698],"content":"In the address bar, add <ph id=\"ph1\">`movies`</ph> to the URL, so that is reads <ph id=\"ph2\">`http://localhost:[port]/movies`</ph> and press ENTER.","source":"In the address bar, add `movies` to the URL, so that is reads `http://localhost:[port]/movies` and press ENTER."},{"content":"The movies feed appears in the browser.","pos":[3709,3748]},{"pos":[3758,3873],"content":"In the address bar, add <ph id=\"ph1\">`channels`</ph> to the URL, so that is reads <ph id=\"ph2\">`http://localhost:[port]/channels`</ph> and press ENTER.","source":"In the address bar, add `channels` to the URL, so that is reads `http://localhost:[port]/channels` and press ENTER."},{"content":"The channels feed appears in the browser.","pos":[3884,3925]},{"content":"Close the Web browser, by pressing ALT+F4.","pos":[3935,3977]},{"pos":[3984,4170],"content":"This sample demonstrates that the hosting layer is capable of composing with the classes in the <ph id=\"ph1\">&lt;xref:System.Web.Routing&gt;</ph> namespace for routing the requests of services hosted over HTTP.","source":"This sample demonstrates that the hosting layer is capable of composing with the classes in the <xref:System.Web.Routing> namespace for routing the requests of services hosted over HTTP."},{"pos":[4178,4336],"content":"[!NOTE]\n You must update the default application pool version to [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)] if it’s set to version 2.","leadings":["","> "],"nodes":[{"content":"You must update the default application pool version to <ph id=\"ph1\">[!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]</ph> if it’s set to version 2.","pos":[9,156],"source":"You must update the default application pool version to [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)] if it’s set to version 2."}]},{"pos":[4345,4353],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4357,4448],"content":"<bpt id=\"p1\">[</bpt>AppFabric Hosting and Persistence Samples<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=193961)</ept>","source":"[AppFabric Hosting and Persistence Samples](https://go.microsoft.com/fwlink/?LinkId=193961)"}]}