{"content":"---\ntitle: \"<UseSmallInternalThreadStacks> Element\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"UseSmallInternalThreadStacks element\"\n  - \"<UseSmallInternalThreadStacks> element\"\nms.assetid: 1e3f6ec0-1cac-4e1c-9c81-17d948ae5874\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# \\<UseSmallInternalThreadStacks> Element\nRequests that the common language runtime (CLR) reduce memory use by specifying explicit stack sizes when it creates certain threads that it uses internally, instead of using the default stack size for those threads.  \n  \n \\<configuration> Element  \n\\<runtime> Element  \n\\<UseSmallInternalThreadStacks> Element  \n  \n## Syntax  \n  \n```xml  \n<UseSmallInternalThreadStacks enabled=\"true|false\" />  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|enabled|Required attribute.<br /><br /> Specifies whether to request that the CLR use explicit stack sizes instead of the default stack size when it creates certain threads that it uses internally. The explicit stack sizes are smaller than the default stack size of 1 MB.|  \n  \n## enabled Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|true|Request explicit stack sizes.|  \n|false|Use the default stack size. This is the default for the [!INCLUDE[net_v40_long](../../../../../includes/net-v40-long-md.md)].|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`configuration`|The root element in every configuration file used by the common language runtime and .NET Framework applications.|  \n|`runtime`|Contains information about assembly binding and garbage collection.|  \n  \n## Remarks  \n This configuration element is used to request reduced virtual memory use in a process, because the explicit thread sizes that the CLR uses for its internal threads, if the request is honored, are smaller than the default size.  \n  \n> [!IMPORTANT]\n>  This configuration element is a request to the CLR rather than an absolute requirement. In the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)], the request is honored only for the x86 architecture. This element might be ignored completely in future versions of the CLR, or replaced by explicit stack sizes that are always used for selected internal threads.  \n  \n Specifying this configuration element trades reliability for smaller virtual memory use if the CLR honors the request, because smaller stack sizes could potentially make stack overflows more likely.  \n  \n## Example  \n The following example shows how to request that the CLR use explicit stack sizes for certain threads that it uses internally.  \n  \n```xml  \n<configuration>  \n   <runtime>  \n      <UseSmallInternalThreadStacks enabled=\"true\" />  \n   </runtime>  \n</configuration>  \n```  \n  \n## See also\n\n- [Runtime Settings Schema](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md)\n- [Configuration File Schema](../../../../../docs/framework/configure-apps/file-schema/index.md)\n","nodes":[{"pos":[4,272],"embed":true,"restype":"x-metadata","content":"title: \"<UseSmallInternalThreadStacks> Element\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"UseSmallInternalThreadStacks element\"\n  - \"<UseSmallInternalThreadStacks> element\"\nms.assetid: 1e3f6ec0-1cac-4e1c-9c81-17d948ae5874\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"<UseSmallInternalThreadStacks> Element","nodes":[{"pos":[0,38],"content":"<ph id=\"ph1\">&lt;UseSmallInternalThreadStacks&gt;</ph> Element","source":"<UseSmallInternalThreadStacks> Element"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[279,318],"content":"\\<UseSmallInternalThreadStacks> Element","linkify":"\\<UseSmallInternalThreadStacks> Element","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>UseSmallInternalThreadStacks&gt; Element","pos":[0,39],"source":"\\<UseSmallInternalThreadStacks> Element"}]},{"content":"Requests that the common language runtime (CLR) reduce memory use by specifying explicit stack sizes when it creates certain threads that it uses internally, instead of using the default stack size for those threads.","pos":[319,535]},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt; Element","pos":[542,566],"source":"\\<configuration> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>runtime&gt; Element","pos":[569,587],"source":"\\<runtime> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>UseSmallInternalThreadStacks&gt; Element","pos":[590,629],"source":"\\<UseSmallInternalThreadStacks> Element"},{"pos":[638,644],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[727,750],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[754,834]},{"pos":[844,854],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[861,870]},{"content":"Description","pos":[871,882]},{"content":"enabled","pos":[925,932]},{"content":"Required attribute.","pos":[933,952]},{"content":"Specifies whether to request that the CLR use explicit stack sizes instead of the default stack size when it creates certain threads that it uses internally.","pos":[965,1122]},{"content":"The explicit stack sizes are smaller than the default stack size of 1 MB.","pos":[1123,1196]},{"pos":[1206,1223],"content":"enabled Attribute","linkify":"enabled Attribute","nodes":[{"content":"enabled Attribute","pos":[0,17]}]},{"content":"Value","pos":[1230,1235]},{"content":"Description","pos":[1236,1247]},{"content":"true","pos":[1286,1290]},{"content":"Request explicit stack sizes.","pos":[1291,1320]},{"content":"false","pos":[1325,1330]},{"content":"Use the default stack size.","pos":[1331,1358]},{"content":"This is the default for the <ph id=\"ph1\">[!INCLUDE[net_v40_long](../../../../../includes/net-v40-long-md.md)]</ph>.","pos":[1359,1456],"source":" This is the default for the [!INCLUDE[net_v40_long](../../../../../includes/net-v40-long-md.md)]."},{"pos":[1467,1481],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[1485,1490]},{"pos":[1500,1515],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1522,1529]},{"content":"Description","pos":[1530,1541]},{"content":"The root element in every configuration file used by the common language runtime and .NET Framework applications.","pos":[1598,1711]},{"content":"Contains information about assembly binding and garbage collection.","pos":[1726,1793]},{"pos":[1803,1810],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This configuration element is used to request reduced virtual memory use in a process, because the explicit thread sizes that the CLR uses for its internal threads, if the request is honored, are smaller than the default size.","pos":[1814,2040]},{"pos":[2048,2444],"content":"[!IMPORTANT]\n This configuration element is a request to the CLR rather than an absolute requirement. In the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)], the request is honored only for the x86 architecture. This element might be ignored completely in future versions of the CLR, or replaced by explicit stack sizes that are always used for selected internal threads.","leadings":["","> "],"nodes":[{"content":"This configuration element is a request to the CLR rather than an absolute requirement. In the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)], the request is honored only for the x86 architecture. This element might be ignored completely in future versions of the CLR, or replaced by explicit stack sizes that are always used for selected internal threads.","pos":[14,394],"nodes":[{"content":"This configuration element is a request to the CLR rather than an absolute requirement.","pos":[0,87]},{"content":"In the <ph id=\"ph1\">[!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)]</ph>, the request is honored only for the x86 architecture.","pos":[88,220],"source":" In the [!INCLUDE[net_v40_short](../../../../../includes/net-v40-short-md.md)], the request is honored only for the x86 architecture."},{"content":"This element might be ignored completely in future versions of the CLR, or replaced by explicit stack sizes that are always used for selected internal threads.","pos":[221,380]}]}]},{"content":"Specifying this configuration element trades reliability for smaller virtual memory use if the CLR honors the request, because smaller stack sizes could potentially make stack overflows more likely.","pos":[2451,2649]},{"pos":[2658,2665],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows how to request that the CLR use explicit stack sizes for certain threads that it uses internally.","pos":[2669,2794]},{"pos":[2945,2953],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2957,3057],"content":"<bpt id=\"p1\">[</bpt>Runtime Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md)</ept>","source":"[Runtime Settings Schema](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md)"},{"pos":[3060,3154],"content":"<bpt id=\"p1\">[</bpt>Configuration File Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/index.md)</ept>","source":"[Configuration File Schema](../../../../../docs/framework/configure-apps/file-schema/index.md)"}]}