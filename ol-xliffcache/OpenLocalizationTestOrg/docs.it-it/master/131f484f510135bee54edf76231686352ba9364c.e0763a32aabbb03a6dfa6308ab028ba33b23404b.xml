{"content":"---\ntitle: \"Basic Validation | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: ba1343cc-aaab-4ade-b0c0-1dd5063bf4ad\ncaps.latest.revision: 9\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Basic Validation\nThis sample consists of an activity, `CreateProduct`, which validates that its `Cost` argument is smaller than or equal to its `Price` argument.  \n  \n## Sample Details  \n There are two authors that use validation, the activity author (creates the validation logic for the activity) and the workflow author that calls validation services on a specific workflow. In this scenario, the activity author wants to enforce that every instance of his activity must have a smaller or equal cost than that of the price.  \n  \n The activity author (inside the activity) must:  \n  \n-   Create a constraint (`PriceGreaterThanCost`). This is where all the validation logic resides.  \n  \n-   Override `System.Activities.CodeActivity.OnGetConstraints()` and add the constraint (`PriceGreaterThanCost`) to the constraints <xref:System.Collections.IList>.  \n  \n The workflow author (main program) must:  \n  \n-   Create a workflow with an instance of the activity to validate (`CreateProduct`).  \n  \n-   Call <xref:System.Activities.Validation.ActivityValidationServices.Validate%2A>, which returns a <xref:System.Activities.Validation.ValidationResults> collection of <xref:System.Activities.Validation.ValidationError>.  \n  \n-   (Optional) Print the <xref:System.Activities.Validation.ValidationError> objects.  \n  \n#### To set up, build, and run the sample  \n  \n1.  Open the BasicValidation.sln sample solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].  \n  \n2.  Build and run the solution.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Basic\\Validation\\BasicValidation`  \n  \n## See Also","nodes":[{"pos":[12,45],"content":"Basic Validation | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Basic Validation | Microsoft Docs","pos":[0,33]}]},{"pos":[310,326],"content":"Basic Validation","linkify":"Basic Validation","nodes":[{"content":"Basic Validation","pos":[0,16]}]},{"pos":[327,471],"content":"This sample consists of an activity, <ph id=\"ph1\">`CreateProduct`</ph>, which validates that its <ph id=\"ph2\">`Cost`</ph> argument is smaller than or equal to its <ph id=\"ph3\">`Price`</ph> argument.","source":"This sample consists of an activity, `CreateProduct`, which validates that its `Cost` argument is smaller than or equal to its `Price` argument."},{"pos":[480,494],"content":"Sample Details","linkify":"Sample Details","nodes":[{"content":"Sample Details","pos":[0,14]}]},{"content":"There are two authors that use validation, the activity author (creates the validation logic for the activity) and the workflow author that calls validation services on a specific workflow.","pos":[498,687]},{"content":"In this scenario, the activity author wants to enforce that every instance of his activity must have a smaller or equal cost than that of the price.","pos":[688,836]},{"content":"The activity author (inside the activity) must:","pos":[843,890]},{"content":"Create a constraint (<ph id=\"ph1\">`PriceGreaterThanCost`</ph>).","pos":[900,945],"source":"Create a constraint (`PriceGreaterThanCost`)."},{"content":"This is where all the validation logic resides.","pos":[946,993]},{"pos":[1003,1163],"content":"Override <ph id=\"ph1\">`System.Activities.CodeActivity.OnGetConstraints()`</ph> and add the constraint (<ph id=\"ph2\">`PriceGreaterThanCost`</ph>) to the constraints <ph id=\"ph3\">&lt;xref:System.Collections.IList&gt;</ph>.","source":"Override `System.Activities.CodeActivity.OnGetConstraints()` and add the constraint (`PriceGreaterThanCost`) to the constraints <xref:System.Collections.IList>."},{"content":"The workflow author (main program) must:","pos":[1170,1210]},{"pos":[1220,1301],"content":"Create a workflow with an instance of the activity to validate (<ph id=\"ph1\">`CreateProduct`</ph>).","source":"Create a workflow with an instance of the activity to validate (`CreateProduct`)."},{"content":"Call <ph id=\"ph1\">&lt;xref:System.Activities.Validation.ActivityValidationServices.Validate%2A&gt;</ph>, which returns a <ph id=\"ph2\">&lt;xref:System.Activities.Validation.ValidationResults&gt;</ph> collection of <ph id=\"ph3\">&lt;xref:System.Activities.Validation.ValidationError&gt;</ph>.","pos":[1311,1528],"source":"Call <xref:System.Activities.Validation.ActivityValidationServices.Validate%2A>, which returns a <xref:System.Activities.Validation.ValidationResults> collection of <xref:System.Activities.Validation.ValidationError>."},{"content":"(Optional) Print the <ph id=\"ph1\">&lt;xref:System.Activities.Validation.ValidationError&gt;</ph> objects.","pos":[1538,1619],"source":"(Optional) Print the <xref:System.Activities.Validation.ValidationError> objects."},{"pos":[1630,1666],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[1676,1778],"content":"Open the BasicValidation.sln sample solution in <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph>.","source":"Open the BasicValidation.sln sample solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]."},{"content":"Build and run the solution.","pos":[1788,1815]},{"pos":[1823,1955],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[1,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2009,2335],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2336,2386]},{"pos":[2474,2482],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}