{"content":"---\ntitle: \"How to: Dynamically Create a Database\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: fb7f23c4-4572-4c38-9898-a287807d070c\n---\n# How to: Dynamically Create a Database\nIn LINQ to SQL, an object model is mapped to a relational database. Mapping is enabled by using attribute-based mapping or an external mapping file to describe the structure of the relational database. In both scenarios, there is enough information about the relational database that you can create a new instance of the database using the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method.  \n  \n The <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method creates a replica of the database only to the extent of the information encoded in the object model. Mapping files and attributes from your object model might not encode everything about the structure of an existing database. Mapping information does not represent the contents of user-defined functions, stored procedures, triggers, or check constraints. This behavior is sufficient for a variety of databases.  \n  \n You can use the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method in any number of scenarios, especially if a known data provider like Microsoft SQL Server 2008 is available. Typical scenarios include the following:  \n  \n-   You are building an application that automatically installs itself on a customer system.  \n  \n-   You are building a client application that needs a local database to save its offline state.  \n  \n You can also use the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method with SQL Server by using an .mdf file or a catalog name, depending on your connection string. [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] uses the connection string to define the database to be created and on which server the database is to be created.  \n  \n> [!NOTE]\n>  Whenever possible, use Windows Integrated Security to connect to the database so that passwords are not required in the connection string.  \n  \n## Example  \n The following code provides an example of how to create a new database named MyDVDs.mdf.  \n  \n [!code-csharp[DLinqSubmittingChanges#5](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSubmittingChanges/cs/Program.cs#5)]\n [!code-vb[DLinqSubmittingChanges#5](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSubmittingChanges/vb/Module1.vb#5)]  \n  \n## Example  \n You can use the object model to create a database by doing the following:  \n  \n [!code-csharp[DLinqSubmittingChanges#6](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSubmittingChanges/cs/Program.cs#6)]\n [!code-vb[DLinqSubmittingChanges#6](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSubmittingChanges/vb/Module1.vb#6)]  \n  \n## Example  \n When building an application that automatically installs itself on a  customer system, see if the database already exists and drop it before creating a new one. The <xref:System.Data.Linq.DataContext> class provides the <xref:System.Data.Linq.DataContext.DatabaseExists%2A> and <xref:System.Data.Linq.DataContext.DeleteDatabase%2A> methods to help you with this process.  \n  \n The following example shows one way these methods can be used to implement this approach:  \n  \n [!code-csharp[DLinqSubmittingChanges#7](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSubmittingChanges/cs/Program.cs#7)]\n [!code-vb[DLinqSubmittingChanges#7](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSubmittingChanges/vb/Module1.vb#7)]  \n  \n## See also\n\n- [Attribute-Based Mapping](../../../../../../docs/framework/data/adonet/sql/linq/attribute-based-mapping.md)\n- [External Mapping](../../../../../../docs/framework/data/adonet/sql/linq/external-mapping.md)\n- [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md)\n- [Background Information](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)\n- [Making and Submitting Data Changes](../../../../../../docs/framework/data/adonet/sql/linq/making-and-submitting-data-changes.md)\n","nodes":[{"pos":[4,155],"embed":true,"restype":"x-metadata","content":"title: \"How to: Dynamically Create a Database\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: fb7f23c4-4572-4c38-9898-a287807d070c","nodes":[{"content":"How to: Dynamically Create a Database","nodes":[{"pos":[0,37],"content":"How to: Dynamically Create a Database","nodes":[{"content":"How to: Dynamically Create a Database","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[162,199],"content":"How to: Dynamically Create a Database","linkify":"How to: Dynamically Create a Database","nodes":[{"content":"How to: Dynamically Create a Database","pos":[0,37]}]},{"content":"In LINQ to SQL, an object model is mapped to a relational database.","pos":[200,267]},{"content":"Mapping is enabled by using attribute-based mapping or an external mapping file to describe the structure of the relational database.","pos":[268,401]},{"content":"In both scenarios, there is enough information about the relational database that you can create a new instance of the database using the <ph id=\"ph1\">&lt;xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType&gt;</ph> method.","pos":[402,630],"source":" In both scenarios, there is enough information about the relational database that you can create a new instance of the database using the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType&gt;</ph> method creates a replica of the database only to the extent of the information encoded in the object model.","pos":[637,831],"source":"The <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method creates a replica of the database only to the extent of the information encoded in the object model."},{"content":"Mapping files and attributes from your object model might not encode everything about the structure of an existing database.","pos":[832,956]},{"content":"Mapping information does not represent the contents of user-defined functions, stored procedures, triggers, or check constraints.","pos":[957,1086]},{"content":"This behavior is sufficient for a variety of databases.","pos":[1087,1142]},{"content":"You can use the <ph id=\"ph1\">&lt;xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType&gt;</ph> method in any number of scenarios, especially if a known data provider like Microsoft SQL Server 2008 is available.","pos":[1149,1363],"source":"You can use the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method in any number of scenarios, especially if a known data provider like Microsoft SQL Server 2008 is available."},{"content":"Typical scenarios include the following:","pos":[1364,1404]},{"content":"You are building an application that automatically installs itself on a customer system.","pos":[1414,1502]},{"content":"You are building a client application that needs a local database to save its offline state.","pos":[1512,1604]},{"content":"You can also use the <ph id=\"ph1\">&lt;xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType&gt;</ph> method with SQL Server by using an .mdf file or a catalog name, depending on your connection string.","pos":[1611,1815],"source":"You can also use the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method with SQL Server by using an .mdf file or a catalog name, depending on your connection string."},{"content":"<ph id=\"ph1\">[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]</ph> uses the connection string to define the database to be created and on which server the database is to be created.","pos":[1816,1998],"source":"[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] uses the connection string to define the database to be created and on which server the database is to be created."},{"pos":[2006,2155],"content":"[!NOTE]\n Whenever possible, use Windows Integrated Security to connect to the database so that passwords are not required in the connection string.","leadings":["","> "],"nodes":[{"content":"Whenever possible, use Windows Integrated Security to connect to the database so that passwords are not required in the connection string.","pos":[9,147]}]},{"pos":[2164,2171],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code provides an example of how to create a new database named MyDVDs.mdf.","pos":[2175,2263]},{"pos":[2560,2567],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"You can use the object model to create a database by doing the following:","pos":[2571,2644]},{"pos":[2941,2948],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"When building an application that automatically installs itself on a  customer system, see if the database already exists and drop it before creating a new one.","pos":[2952,3112]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Data.Linq.DataContext&gt;</ph> class provides the <ph id=\"ph2\">&lt;xref:System.Data.Linq.DataContext.DatabaseExists%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Data.Linq.DataContext.DeleteDatabase%2A&gt;</ph> methods to help you with this process.","pos":[3113,3322],"source":" The <xref:System.Data.Linq.DataContext> class provides the <xref:System.Data.Linq.DataContext.DatabaseExists%2A> and <xref:System.Data.Linq.DataContext.DeleteDatabase%2A> methods to help you with this process."},{"content":"The following example shows one way these methods can be used to implement this approach:","pos":[3329,3418]},{"pos":[3715,3723],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3727,3834],"content":"<bpt id=\"p1\">[</bpt>Attribute-Based Mapping<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/attribute-based-mapping.md)</ept>","source":"[Attribute-Based Mapping](../../../../../../docs/framework/data/adonet/sql/linq/attribute-based-mapping.md)"},{"pos":[3837,3930],"content":"<bpt id=\"p1\">[</bpt>External Mapping<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/external-mapping.md)</ept>","source":"[External Mapping](../../../../../../docs/framework/data/adonet/sql/linq/external-mapping.md)"},{"pos":[3933,4034],"content":"<bpt id=\"p1\">[</bpt>SQL-CLR Type Mapping<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md)</ept>","source":"[SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md)"},{"pos":[4037,4142],"content":"<bpt id=\"p1\">[</bpt>Background Information<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)</ept>","source":"[Background Information](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)"},{"pos":[4145,4274],"content":"<bpt id=\"p1\">[</bpt>Making and Submitting Data Changes<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/making-and-submitting-data-changes.md)</ept>","source":"[Making and Submitting Data Changes](../../../../../../docs/framework/data/adonet/sql/linq/making-and-submitting-data-changes.md)"}]}