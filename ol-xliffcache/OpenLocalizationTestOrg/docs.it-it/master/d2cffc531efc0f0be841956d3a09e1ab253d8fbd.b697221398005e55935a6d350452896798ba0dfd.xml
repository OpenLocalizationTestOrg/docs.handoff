{"content":"---\ntitle: \"Mitigation: Default AuthorizationContext | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6cfeee63-b148-429a-a7e6-6fe9b0cb7610\ncaps.latest.revision: 3\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Mitigation: Default AuthorizationContext\nThe implementation of the <xref:System.IdentityModel.Policy.AuthorizationContext> returned by a call to the <xref:System.IdentityModel.Policy.AuthorizationContext.CreateDefaultAuthorizationContext%28System.Collections.Generic.IList%7BSystem.IdentityModel.Policy.IAuthorizationPolicy%7D%29> with a `null``authorizationPolicies` argument has changed its implementation in the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)].  \n  \n## Impact  \n In rare cases, WCF apps that use custom authentication may see behavioral differences.  \n  \n## Mitigation  \n You can restore the previous behavior in either of two ways:  \n  \n-   Recompile your app to target an earlier version of the .NET Framework than 4.6. For IIS-hosted services, use the `<httpRuntime targetFramework=\"x.x\" />` element to target an earlier version of the .NET Framework.  \n  \n-   Add the following line to the `<appSettings>` section of your app.config file:  \n  \n    ```  \n    <add key=\"appContext.SetSwitch:Switch.System.IdentityModel.EnableCachedEmptyDefaultAuthorizationContext\" value=\"true\" />  \n    ```  \n  \n## See Also  \n [Retargeting Changes](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-6.md)","nodes":[{"pos":[12,69],"content":"Mitigation: Default AuthorizationContext | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Mitigation: Default AuthorizationContext | Microsoft Docs","pos":[0,57]}]},{"pos":[372,412],"content":"Mitigation: Default AuthorizationContext","linkify":"Mitigation: Default AuthorizationContext","nodes":[{"content":"Mitigation: Default AuthorizationContext","pos":[0,40]}]},{"pos":[413,840],"content":"The implementation of the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Policy.AuthorizationContext&gt;</ph> returned by a call to the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Policy.AuthorizationContext.CreateDefaultAuthorizationContext%28System.Collections.Generic.IList%7BSystem.IdentityModel.Policy.IAuthorizationPolicy%7D%29&gt;</ph> with a <ph id=\"ph3\">`null``authorizationPolicies`</ph> argument has changed its implementation in the <ph id=\"ph4\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph>.","source":"The implementation of the <xref:System.IdentityModel.Policy.AuthorizationContext> returned by a call to the <xref:System.IdentityModel.Policy.AuthorizationContext.CreateDefaultAuthorizationContext%28System.Collections.Generic.IList%7BSystem.IdentityModel.Policy.IAuthorizationPolicy%7D%29> with a `null``authorizationPolicies` argument has changed its implementation in the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)]."},{"pos":[849,855],"content":"Impact","linkify":"Impact","nodes":[{"content":"Impact","pos":[0,6]}]},{"content":"In rare cases, WCF apps that use custom authentication may see behavioral differences.","pos":[859,945]},{"pos":[954,964],"content":"Mitigation","linkify":"Mitigation","nodes":[{"content":"Mitigation","pos":[0,10]}]},{"content":"You can restore the previous behavior in either of two ways:","pos":[968,1028]},{"content":"Recompile your app to target an earlier version of the .NET Framework than 4.6.","pos":[1038,1117]},{"content":"For IIS-hosted services, use the <ph id=\"ph1\">`&lt;httpRuntime targetFramework=\"x.x\" /&gt;`</ph> element to target an earlier version of the .NET Framework.","pos":[1118,1250],"source":" For IIS-hosted services, use the `<httpRuntime targetFramework=\"x.x\" />` element to target an earlier version of the .NET Framework."},{"pos":[1260,1338],"content":"Add the following line to the <ph id=\"ph1\">`&lt;appSettings&gt;`</ph> section of your app.config file:","source":"Add the following line to the `<appSettings>` section of your app.config file:"},{"pos":[1497,1505],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[1509,1619],"content":"<bpt id=\"p1\">[</bpt>Retargeting Changes<ept id=\"p1\">](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-6.md)</ept>","source":"[Retargeting Changes](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-6.md)"}]}