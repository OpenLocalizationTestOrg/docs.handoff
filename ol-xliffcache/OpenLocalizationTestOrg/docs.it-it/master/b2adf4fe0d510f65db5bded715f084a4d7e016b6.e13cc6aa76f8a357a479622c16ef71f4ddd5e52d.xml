{"content":"---\ntitle: \"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)\"\nms.date: 08/24/2018\nhelpviewer_keywords:\n  - \"WCF Data Services, providers\"\n  - \"WCF Data Services, Entity Framework\"\nms.assetid: 6d11fec8-0108-42f5-8719-2a7866d04428\n---\n# How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)\n\nWCF Data Services exposes entity data as a data service. This entity data is provided by the [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)][!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] when the data source is a relational database. This topic shows you how to create an [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]-based data model in a Visual Studio Web application that is based on an existing database and use this data model to create a new data service.\n\nThe [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] also provides a command line tool that can generate an [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] model outside of a Visual Studio project. For more information, see [How to: Use EdmGen.exe to Generate the Model and Mapping Files](../../../../docs/framework/data/adonet/ef/how-to-use-edmgen-exe-to-generate-the-model-and-mapping-files.md).\n\n## To add an Entity Framework model that is based on an existing database to an existing Web application\n\n1. On the **Project** menu, click **Add** > **New Item**.\n\n2. In the **Templates** pane, click the **Data** category, and then select **ADO.NET Entity Data Model**.\n\n3. Enter the model name and then click **Add**.\n\n     The first page of the [!INCLUDE[adonet_edm](../../../../includes/adonet-edm-md.md)] Wizard is displayed.\n\n4. In the **Choose Model Contents** dialog box, select **Generate from database**. Then click **Next**.\n\n5. Click the **New Connection** button.\n\n6. In the **Connection Properties** dialog box, type your server name, select the authentication method, type the database name, and then click **OK**.\n\n     The **Choose Your Data Connection** dialog box is updated with your database connection settings.\n\n7. Ensure that the **Save entity connection settings in App.Config as:** checkbox is checked. Then click **Next**.\n\n8. In the **Choose Your Database Objects** dialog box, select all of database objects that you plan to expose in the data service.\n\n    > [!NOTE]\n    > Objects included in the data model are not automatically exposed by the data service. They must be explicitly exposed by the service itself. For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).\n\n9. Click **Finish** to complete the wizard.\n\n     This creates a default data model based on the specific database. The [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] enables to customize the data model. For more information, see [Entity Data Model Tools Tasks](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738480(v=vs.100)).\n\n## To create the data service by using the new data model\n\n1. In Visual Studio, open the .edmx file that represents the data model.\n\n2. In the **Model Browser**, right-click the model, click **Properties**, and then note the name of the entity container.\n\n3. In **Solution Explorer**, right-click the name of your [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] project, and then click **Add** > **New Item**.\n\n4. In the **Add New Item** dialog box, select the **WCF Data Service** template in the **Web** category.\n\n   ![WCF Data Service item template in Visual Studio 2015](media/wcf-data-service-item-template.png)\n\n   > [!NOTE]\n   > The **WCF Data Service** template is available in Visual Studio 2015, but not in Visual Studio 2017.\n\n5. Supply a name for the service, and then click **OK**.\n\n     Visual Studio creates the XML markup and code files for the new service. By default, the code-editor window opens.\n\n6. In the code for the data service, replace the comment `/* TODO: put your data source class name here */` in the definition of the class that defines the data service with the type that inherits from the <xref:System.Data.Objects.ObjectContext> class and that is the entity container of the data model, which was noted in step 2.\n\n7. In the code for the data service, enable authorized clients to access the entity sets that the data service exposes. For more information, see [Creating the Data Service](../../../../docs/framework/data/wcf/creating-the-data-service.md).\n\n8. To test the Northwind.svc data service by using a Web browser, follow the instructions in the topic [Accessing the Service from a Web Browser](../../../../docs/framework/data/wcf/accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).\n\n## See also\n\n- [Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)\n- [Data Services Providers](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)\n- [How to: Create a Data Service Using the Reflection Provider](../../../../docs/framework/data/wcf/create-a-data-service-using-rp-wcf-data-services.md)\n- [How to: Create a Data Service Using a LINQ to SQL Data Source](../../../../docs/framework/data/wcf/create-a-data-service-using-linq-to-sql-wcf.md)","nodes":[{"pos":[4,275],"embed":true,"restype":"x-metadata","content":"title: \"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)\"\nms.date: 08/24/2018\nhelpviewer_keywords:\n  - \"WCF Data Services, providers\"\n  - \"WCF Data Services, Entity Framework\"\nms.assetid: 6d11fec8-0108-42f5-8719-2a7866d04428","nodes":[{"content":"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)","nodes":[{"pos":[0,95],"content":"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)","nodes":[{"content":"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)","pos":[0,95]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[282,377],"content":"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)","linkify":"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)","nodes":[{"content":"How to: Create a Data Service Using an ADO.NET Entity Framework Data Source (WCF Data Services)","pos":[0,95]}]},{"content":"WCF Data Services exposes entity data as a data service.","pos":[379,435]},{"content":"This entity data is provided by the <ph id=\"ph1\">[!INCLUDE[vstecado](../../../../includes/vstecado-md.md)]</ph><ph id=\"ph2\">[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]</ph> when the data source is a relational database.","pos":[436,635],"source":" This entity data is provided by the [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)][!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] when the data source is a relational database."},{"content":"This topic shows you how to create an <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]</ph>-based data model in a Visual Studio Web application that is based on an existing database and use this data model to create a new data service.","pos":[636,877],"source":" This topic shows you how to create an [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]-based data model in a Visual Studio Web application that is based on an existing database and use this data model to create a new data service."},{"content":"The <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]</ph> also provides a command line tool that can generate an <ph id=\"ph2\">[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]</ph> model outside of a Visual Studio project.","pos":[879,1099],"source":"The [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] also provides a command line tool that can generate an [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] model outside of a Visual Studio project."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Use EdmGen.exe to Generate the Model and Mapping Files<ept id=\"p1\">](../../../../docs/framework/data/adonet/ef/how-to-use-edmgen-exe-to-generate-the-model-and-mapping-files.md)</ept>.","pos":[1100,1299],"source":" For more information, see [How to: Use EdmGen.exe to Generate the Model and Mapping Files](../../../../docs/framework/data/adonet/ef/how-to-use-edmgen-exe-to-generate-the-model-and-mapping-files.md)."},{"pos":[1304,1405],"content":"To add an Entity Framework model that is based on an existing database to an existing Web application","linkify":"To add an Entity Framework model that is based on an existing database to an existing Web application","nodes":[{"content":"To add an Entity Framework model that is based on an existing database to an existing Web application","pos":[0,101]}]},{"pos":[1410,1464],"content":"On the <bpt id=\"p1\">**</bpt>Project<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>New Item<ept id=\"p3\">**</ept>.","source":"On the **Project** menu, click **Add** > **New Item**."},{"pos":[1469,1571],"content":"In the <bpt id=\"p1\">**</bpt>Templates<ept id=\"p1\">**</ept> pane, click the <bpt id=\"p2\">**</bpt>Data<ept id=\"p2\">**</ept> category, and then select <bpt id=\"p3\">**</bpt>ADO.NET Entity Data Model<ept id=\"p3\">**</ept>.","source":"In the **Templates** pane, click the **Data** category, and then select **ADO.NET Entity Data Model**."},{"pos":[1576,1620],"content":"Enter the model name and then click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>.","source":"Enter the model name and then click **Add**."},{"pos":[1627,1731],"content":"The first page of the <ph id=\"ph1\">[!INCLUDE[adonet_edm](../../../../includes/adonet-edm-md.md)]</ph> Wizard is displayed.","source":"The first page of the [!INCLUDE[adonet_edm](../../../../includes/adonet-edm-md.md)] Wizard is displayed."},{"content":"In the <bpt id=\"p1\">**</bpt>Choose Model Contents<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Generate from database<ept id=\"p2\">**</ept>.","pos":[1736,1815],"source":"In the **Choose Model Contents** dialog box, select **Generate from database**."},{"content":"Then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[1816,1836],"source":" Then click **Next**."},{"pos":[1841,1877],"content":"Click the <bpt id=\"p1\">**</bpt>New Connection<ept id=\"p1\">**</ept> button.","source":"Click the **New Connection** button."},{"pos":[1882,2030],"content":"In the <bpt id=\"p1\">**</bpt>Connection Properties<ept id=\"p1\">**</ept> dialog box, type your server name, select the authentication method, type the database name, and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","source":"In the **Connection Properties** dialog box, type your server name, select the authentication method, type the database name, and then click **OK**."},{"pos":[2037,2134],"content":"The <bpt id=\"p1\">**</bpt>Choose Your Data Connection<ept id=\"p1\">**</ept> dialog box is updated with your database connection settings.","source":"The **Choose Your Data Connection** dialog box is updated with your database connection settings."},{"content":"Ensure that the <bpt id=\"p1\">**</bpt>Save entity connection settings in App.Config as:<ept id=\"p1\">**</ept> checkbox is checked.","pos":[2139,2229],"source":"Ensure that the **Save entity connection settings in App.Config as:** checkbox is checked."},{"content":"Then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[2230,2250],"source":" Then click **Next**."},{"pos":[2255,2382],"content":"In the <bpt id=\"p1\">**</bpt>Choose Your Database Objects<ept id=\"p1\">**</ept> dialog box, select all of database objects that you plan to expose in the data service.","source":"In the **Choose Your Database Objects** dialog box, select all of database objects that you plan to expose in the data service."},{"pos":[2390,2689],"content":"[!NOTE]\nObjects included in the data model are not automatically exposed by the data service. They must be explicitly exposed by the service itself. For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).","leadings":["","    > "],"nodes":[{"content":"Objects included in the data model are not automatically exposed by the data service. They must be explicitly exposed by the service itself. For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).","pos":[8,293],"nodes":[{"content":"Objects included in the data model are not automatically exposed by the data service.","pos":[0,85]},{"content":"They must be explicitly exposed by the service itself.","pos":[86,140]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Configuring the Data Service<ept id=\"p1\">](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md)</ept>.","pos":[141,285],"source":" For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md)."}]}]},{"pos":[2694,2734],"content":"Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept> to complete the wizard.","source":"Click **Finish** to complete the wizard."},{"content":"This creates a default data model based on the specific database.","pos":[2741,2806]},{"content":"The <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]</ph> enables to customize the data model.","pos":[2807,2907],"source":" The [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] enables to customize the data model."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Entity Data Model Tools Tasks<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738480(v=vs.100))</ept>.","pos":[2908,3055],"source":" For more information, see [Entity Data Model Tools Tasks](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738480(v=vs.100))."},{"pos":[3060,3114],"content":"To create the data service by using the new data model","linkify":"To create the data service by using the new data model","nodes":[{"content":"To create the data service by using the new data model","pos":[0,54]}]},{"content":"In Visual Studio, open the .edmx file that represents the data model.","pos":[3119,3188]},{"pos":[3193,3311],"content":"In the <bpt id=\"p1\">**</bpt>Model Browser<ept id=\"p1\">**</ept>, right-click the model, click <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>, and then note the name of the entity container.","source":"In the **Model Browser**, right-click the model, click **Properties**, and then note the name of the entity container."},{"pos":[3316,3476],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the name of your <ph id=\"ph1\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> project, and then click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>New Item<ept id=\"p3\">**</ept>.","source":"In **Solution Explorer**, right-click the name of your [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] project, and then click **Add** > **New Item**."},{"pos":[3481,3582],"content":"In the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> dialog box, select the <bpt id=\"p2\">**</bpt>WCF Data Service<ept id=\"p2\">**</ept> template in the <bpt id=\"p3\">**</bpt>Web<ept id=\"p3\">**</ept> category.","source":"In the **Add New Item** dialog box, select the **WCF Data Service** template in the **Web** category."},{"content":"WCF Data Service item template in Visual Studio 2015","pos":[3589,3641]},{"pos":[3691,3804],"content":"[!NOTE]\nThe **WCF Data Service** template is available in Visual Studio 2015, but not in Visual Studio 2017.","leadings":["","   > "],"nodes":[{"content":"The <bpt id=\"p1\">**</bpt>WCF Data Service<ept id=\"p1\">**</ept> template is available in Visual Studio 2015, but not in Visual Studio 2017.","pos":[8,108],"source":"The **WCF Data Service** template is available in Visual Studio 2015, but not in Visual Studio 2017."}]},{"pos":[3809,3862],"content":"Supply a name for the service, and then click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Supply a name for the service, and then click **OK**."},{"content":"Visual Studio creates the XML markup and code files for the new service.","pos":[3869,3941]},{"content":"By default, the code-editor window opens.","pos":[3942,3983]},{"pos":[3988,4316],"content":"In the code for the data service, replace the comment <ph id=\"ph1\">`/* TODO: put your data source class name here */`</ph> in the definition of the class that defines the data service with the type that inherits from the <ph id=\"ph2\">&lt;xref:System.Data.Objects.ObjectContext&gt;</ph> class and that is the entity container of the data model, which was noted in step 2.","source":"In the code for the data service, replace the comment `/* TODO: put your data source class name here */` in the definition of the class that defines the data service with the type that inherits from the <xref:System.Data.Objects.ObjectContext> class and that is the entity container of the data model, which was noted in step 2."},{"content":"In the code for the data service, enable authorized clients to access the entity sets that the data service exposes.","pos":[4321,4437]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Creating the Data Service<ept id=\"p1\">](../../../../docs/framework/data/wcf/creating-the-data-service.md)</ept>.","pos":[4438,4558],"source":" For more information, see [Creating the Data Service](../../../../docs/framework/data/wcf/creating-the-data-service.md)."},{"pos":[4563,4816],"content":"To test the Northwind.svc data service by using a Web browser, follow the instructions in the topic <bpt id=\"p1\">[</bpt>Accessing the Service from a Web Browser<ept id=\"p1\">](../../../../docs/framework/data/wcf/accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md)</ept>.","source":"To test the Northwind.svc data service by using a Web browser, follow the instructions in the topic [Accessing the Service from a Web Browser](../../../../docs/framework/data/wcf/accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md)."},{"pos":[4821,4829],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4833,4928],"content":"<bpt id=\"p1\">[</bpt>Defining WCF Data Services<ept id=\"p1\">](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)</ept>","source":"[Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)"},{"pos":[4931,5038],"content":"<bpt id=\"p1\">[</bpt>Data Services Providers<ept id=\"p1\">](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)</ept>","source":"[Data Services Providers](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)"},{"pos":[5041,5191],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Data Service Using the Reflection Provider<ept id=\"p1\">](../../../../docs/framework/data/wcf/create-a-data-service-using-rp-wcf-data-services.md)</ept>","source":"[How to: Create a Data Service Using the Reflection Provider](../../../../docs/framework/data/wcf/create-a-data-service-using-rp-wcf-data-services.md)"},{"pos":[5194,5341],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Data Service Using a LINQ to SQL Data Source<ept id=\"p1\">](../../../../docs/framework/data/wcf/create-a-data-service-using-linq-to-sql-wcf.md)</ept>","source":"[How to: Create a Data Service Using a LINQ to SQL Data Source](../../../../docs/framework/data/wcf/create-a-data-service-using-linq-to-sql-wcf.md)"}]}