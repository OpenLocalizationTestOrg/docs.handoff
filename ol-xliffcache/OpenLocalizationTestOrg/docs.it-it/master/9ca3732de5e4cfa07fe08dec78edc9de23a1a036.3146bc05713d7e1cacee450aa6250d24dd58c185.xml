{"content":"---\ntitle: \"Working with Data Definition Language\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: ec50083d-44f4-4093-9b23-5eacd601f96e\n---\n# Working with Data Definition Language\nStarting with the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] version 4, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] supports data definition language (DDL). This allows you to create or delete a database instance based on the connection string and the metadata of the storage (SSDL) model.  \n  \n The following methods on the <xref:System.Data.Objects.ObjectContext> use the connection string and the SSDL content to accomplish the following: create or delete the database, check whether the database exists, and view the generated DDL script:  \n  \n-   <xref:System.Data.Objects.ObjectContext.CreateDatabase%2A>  \n  \n-   <xref:System.Data.Objects.ObjectContext.DeleteDatabase%2A>  \n  \n-   <xref:System.Data.Objects.ObjectContext.DatabaseExists%2A>  \n  \n-   <xref:System.Data.Objects.ObjectContext.CreateDatabaseScript%2A>  \n  \n> [!NOTE]\n>  Executing the DDL commands assumes sufficient permissions.  \n  \n The methods previously listed delegate most of the work to the underlying ADO.NET data provider. It is the provider’s responsibility to ensure that the naming convention used to generate database objects is consistent with conventions used for querying and updates.  \n  \n The following example shows you how to generate the database based on the existing model. It also adds a new entity object to the object context and then saves it to the database.  \n  \n## Procedures  \n  \n#### To define a database based on the existing model  \n  \n1.  Create a console application.  \n  \n2.  Add an existing model to your application.  \n  \n    1.  Add an empty model named `SchoolModel`. To create an empty model, see the [How to: Create a New .edmx File](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc716703(v=vs.100)) topic.  \n  \n     The SchoolModel.edmx file is added to your project.  \n  \n    1.  Copy the conceptual, storage, and mapping content for the School model from the [School Model](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896300(v=vs.100)) topic.  \n  \n    2.  Open the SchoolModel.edmx file and paste the content within the `edmx:Runtime` tags.  \n  \n3.  Add the following code to your main function. The code initializes the connection string to your database server, views the DDL script, creates the database, adds a new entity to the context, and saves the changes to the database.  \n  \n     [!code-csharp[DP ObjectServices Concepts#DDL](../../../../../samples/snippets/csharp/VS_Snippets_Data/DP ObjectServices Concepts/CS/Source.cs#ddl)]\n     [!code-vb[DP ObjectServices Concepts#DDL](../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP ObjectServices Concepts/VB/Source.vb#ddl)]\n","nodes":[{"pos":[4,155],"embed":true,"restype":"x-metadata","content":"title: \"Working with Data Definition Language\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: ec50083d-44f4-4093-9b23-5eacd601f96e","nodes":[{"content":"Working with Data Definition Language","nodes":[{"pos":[0,37],"content":"Working with Data Definition Language","nodes":[{"content":"Working with Data Definition Language","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[162,199],"content":"Working with Data Definition Language","linkify":"Working with Data Definition Language","nodes":[{"content":"Working with Data Definition Language","pos":[0,37]}]},{"content":"Starting with the <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)]</ph> version 4, the <ph id=\"ph2\">[!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)]</ph> supports data definition language (DDL).","pos":[200,403],"source":"Starting with the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] version 4, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] supports data definition language (DDL)."},{"content":"This allows you to create or delete a database instance based on the connection string and the metadata of the storage (SSDL) model.","pos":[404,536]},{"pos":[543,789],"content":"The following methods on the <ph id=\"ph1\">&lt;xref:System.Data.Objects.ObjectContext&gt;</ph> use the connection string and the SSDL content to accomplish the following: create or delete the database, check whether the database exists, and view the generated DDL script:","source":"The following methods on the <xref:System.Data.Objects.ObjectContext> use the connection string and the SSDL content to accomplish the following: create or delete the database, check whether the database exists, and view the generated DDL script:"},{"pos":[1075,1144],"content":"[!NOTE]\n Executing the DDL commands assumes sufficient permissions.","leadings":["","> "],"nodes":[{"content":"Executing the DDL commands assumes sufficient permissions.","pos":[9,67]}]},{"content":"The methods previously listed delegate most of the work to the underlying ADO.NET data provider.","pos":[1151,1247]},{"content":"It is the provider’s responsibility to ensure that the naming convention used to generate database objects is consistent with conventions used for querying and updates.","pos":[1248,1416]},{"content":"The following example shows you how to generate the database based on the existing model.","pos":[1423,1512]},{"content":"It also adds a new entity object to the object context and then saves it to the database.","pos":[1513,1602]},{"pos":[1611,1621],"content":"Procedures","linkify":"Procedures","nodes":[{"content":"Procedures","pos":[0,10]}]},{"pos":[1632,1680],"content":"To define a database based on the existing model","linkify":"To define a database based on the existing model","nodes":[{"content":"To define a database based on the existing model","pos":[0,48]}]},{"content":"Create a console application.","pos":[1690,1719]},{"content":"Add an existing model to your application.","pos":[1729,1771]},{"content":"Add an empty model named <ph id=\"ph1\">`SchoolModel`</ph>.","pos":[1785,1824],"source":"Add an empty model named `SchoolModel`."},{"content":"To create an empty model, see the <bpt id=\"p1\">[</bpt>How to: Create a New .edmx File<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc716703(v=vs.100))</ept> topic.","pos":[1825,1988],"source":" To create an empty model, see the [How to: Create a New .edmx File](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc716703(v=vs.100)) topic."},{"content":"The SchoolModel.edmx file is added to your project.","pos":[1999,2050]},{"pos":[2064,2254],"content":"Copy the conceptual, storage, and mapping content for the School model from the <bpt id=\"p1\">[</bpt>School Model<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896300(v=vs.100))</ept> topic.","source":"Copy the conceptual, storage, and mapping content for the School model from the [School Model](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896300(v=vs.100)) topic."},{"pos":[2268,2352],"content":"Open the SchoolModel.edmx file and paste the content within the <ph id=\"ph1\">`edmx:Runtime`</ph> tags.","source":"Open the SchoolModel.edmx file and paste the content within the `edmx:Runtime` tags."},{"content":"Add the following code to your main function.","pos":[2362,2407]},{"content":"The code initializes the connection string to your database server, views the DDL script, creates the database, adds a new entity to the context, and saves the changes to the database.","pos":[2408,2592]},{"pos":[2603,2904],"content":"[!code-csharp[DP ObjectServices Concepts#DDL](../../../../../samples/snippets/csharp/VS_Snippets_Data/DP ObjectServices Concepts/CS/Source.cs#ddl)]\n [!code-vb[DP ObjectServices Concepts#DDL](../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP ObjectServices Concepts/VB/Source.vb#ddl)]","leadings":["","    "],"nodes":[]}]}