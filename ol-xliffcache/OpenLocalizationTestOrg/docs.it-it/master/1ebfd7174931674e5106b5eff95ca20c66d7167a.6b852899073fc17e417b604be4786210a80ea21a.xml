{"content":"---\ntitle: \"How to: Serialize Using DataContractSerializer (C#) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"2015-07-20\"\nms.prod: .net\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nms.assetid: 3320ecbf-cdbe-480e-979c-2c14bbef9988\ncaps.latest.revision: 3\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# How to: Serialize Using DataContractSerializer (C#)\nThis topic shows an example that serializes and deserializes using <xref:System.Runtime.Serialization.DataContractSerializer>.  \n  \n## Example  \n The following example creates a number of objects that contain <xref:System.Xml.Linq.XElement> objects. It then serializes them to text files, and then deserializes them from the text files.  \n  \n```csharp  \nusing System;  \nusing System.Xml;  \nusing System.Xml.Linq;  \nusing System.IO;  \nusing System.Runtime.Serialization;  \n  \npublic class XLinqTest  \n{  \n    public static void Main()  \n    {  \n        Test<XElement>(CreateXElement());  \n        Test<XElementContainer>(new XElementContainer());  \n        Test<XElementNullContainer>(new XElementNullContainer());  \n    }  \n  \n    public static void Test<T>(T obj)  \n    {  \n        DataContractSerializer s = new DataContractSerializer(typeof(T));  \n        using (FileStream fs = File.Open(\"test\" + typeof(T).Name + \".xml\", FileMode.Create))  \n        {  \n            Console.WriteLine(\"Testing for type: {0}\", typeof(T));   \n            s.WriteObject(fs, obj);  \n        }  \n        using (FileStream fs = File.Open(\"test\" + typeof(T).Name + \".xml\", FileMode.Open))  \n        {  \n            object s2 = s.ReadObject(fs);  \n            if (s2 == null)  \n                Console.WriteLine(\"  Deserialized object is null (Nothing in VB)\");  \n            else  \n                Console.WriteLine(\"  Deserialized type: {0}\", s2.GetType());  \n        }  \n    }  \n  \n    public static XElement CreateXElement()  \n    {  \n        return new XElement(XName.Get(\"NameInNamespace\", \"http://www.adventure-works.org\"));  \n    }  \n}  \n  \n[DataContract]  \npublic class XElementContainer  \n{  \n    [DataMember]  \n    public XElement member;  \n  \n    public XElementContainer()  \n    {  \n        member = XLinqTest.CreateXElement();  \n    }  \n}  \n  \n[DataContract]  \npublic class XElementNullContainer  \n{  \n    [DataMember]  \n    public XElement member;  \n  \n    public XElementNullContainer()  \n    {  \n        member = null;  \n    }  \n}  \n```  \n  \n This example produces the following output:  \n  \n```  \nTesting for type: System.Xml.Linq.XElement  \n  Deserialized type: System.Xml.Linq.XElement  \nTesting for type: XElementContainer  \n  Deserialized type: XElementContainer  \nTesting for type: XElementNullContainer  \n  Deserialized type: XElementNullContainer  \n```  \n  \n## See Also  \n [Serializing Object Graphs that Contain XElement Objects (C#)](../../../../csharp/programming-guide/concepts/linq/serializing-object-graphs-that-contain-xelement-objects.md)","nodes":[{"pos":[12,80],"content":"How to: Serialize Using DataContractSerializer (C#) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Serialize Using DataContractSerializer (C#) | Microsoft Docs","pos":[0,68]}]},{"pos":[439,490],"content":"How to: Serialize Using DataContractSerializer (C#)","linkify":"How to: Serialize Using DataContractSerializer (C#)","nodes":[{"content":"How to: Serialize Using DataContractSerializer (C#)","pos":[0,51]}]},{"content":"This topic shows an example that serializes and deserializes using <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph>.","pos":[491,617],"source":"This topic shows an example that serializes and deserializes using <xref:System.Runtime.Serialization.DataContractSerializer>."},{"pos":[626,633],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example creates a number of objects that contain <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XElement&gt;</ph> objects.","pos":[637,740],"source":"The following example creates a number of objects that contain <xref:System.Xml.Linq.XElement> objects."},{"content":"It then serializes them to text files, and then deserializes them from the text files.","pos":[741,827]},{"content":"This example produces the following output:","pos":[2530,2573]},{"pos":[2856,2864],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[2868,3041],"content":"<bpt id=\"p1\">[</bpt>Serializing Object Graphs that Contain XElement Objects (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/serializing-object-graphs-that-contain-xelement-objects.md)</ept>","source":"[Serializing Object Graphs that Contain XElement Objects (C#)](../../../../csharp/programming-guide/concepts/linq/serializing-object-graphs-that-contain-xelement-objects.md)"}]}