{"content":"---\ntitle: .NET Core app deployment with Visual Studio | Microsoft Docs\ndescription: Learn .NET Core app deployment with Visual Studio\nkeywords: .NET, .NET Core, .NET Core deployment\nauthor: rpetrusha\nms.author: ronpet\nms.date: 04/18/2017\nms.topic: article\nms.prod: .net-core\nms.devlang: dotnet\nms.assetid: 01049a21-fd50-4419-9ab2-0e4a2e091050\n---\n\n# Deploying .NET Core apps with Visual Studio\n\nYou can deploy a .NET Core application either as a *framework-dependent deployment*, which includes your application binaries but depends on the presence of .NET Core on the target system, or as a *self-contained deployment*, which includes both your application and .NET Core binaries. For an overview of .NET Core application deployment, see [.NET Core Application Deployment](index.md).\n\nThe following sections show how to use Microsoft Visual Studio to create the following kinds of deployments:\n\n- Framework-dependent deployment\n- Framework-dependent deployment with third-party dependencies\n- Self-contained deployment\n- Self-contained deployment with third-party dependencies\n\nFor information on using Visual Studio to develop .NET Core applications, see [Prerequisites for .NET Core on Windows](../windows-prerequisites.md#prerequisites-with-visual-studio-2017).\n\n## Framework-dependent deployment\n\nDeploying a framework-dependent deployment with no third-party dependencies simply involves building, testing, and publishing the app. A simple example written in C# illustrates the process.  \n\n1. Create the project.\n\n   Select **File** > **New** > **Project**. In the **New Project** dialog, select **.NET Core** in the **Installed** project types pane, and select the **Console App (.NET Core)** template in the center pane. Enter a project name, such as \"FDD\", in the **Name** text box. Select the **OK** button.\n\n1. Add the application's source code.\n\n   Open the *Program.cs* file in the editor and replace the auto-generated code with the following code. It prompts the user to enter text and displays the individual words entered by the user. It uses the regular expression `\\w+` to separate the words in the input text.\n\n   [!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]\n\n1. Create a Debug build of your app.\n\n   Select **Build** > **Build Solution**. You can also compile and run the Debug build of your application by selecting **Debug** > **Start Debugging**.\n\n1. Deploy your app.\n\n   After you've debugged and tested the program, create the files to be deployed with your app. To publish from Visual Studio, do the following:\n\n      1. Change the solution configuration from **Debug** to **Release** on the toolbar to build a Release (rather than a Debug) version of your app.\n\n      1. Right-click on the project (not the solution) in **Solution Explorer**, and select **Publish**.\n\n      1. In the **Publish** tab, select **Publish**. Visual Studio writes the files that comprise your application to the local file system.\n\n      1. The **Publish** tab now shows a single profile, **FolderProfile**. The profile's configuration settings are shown in the **Summary** section of the tab.\n\n   The resulting files are placed in a directory named `PublishOutput` that is in a subdirectory of your project's *.\\bin\\release* subdirectory.\n\nAlong with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app. The file is useful primarily for debugging exceptions. You can choose not to package it with your application's files. You should, however, save it in the event that you want to debug the Release build of your app.\n\nDeploy the complete set of application files in any way you like. For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice. Once installed, users can then execute your application by using the `dotnet` command and providing the application filename, such as `dotnet fdd.dll`.\n\nIn addition to the application binaries, your installer should also either bundle the shared framework installer or check for it as a prerequisite as part of the application installation.  Installation of the shared framework requires Administrator/root access since it is machine-wide.\n\n## Framework-dependent deployment with third-party dependencies\n\nDeploying a framework-dependent deployment with one or more third-party dependencies requires that any dependencies be available to your project. The following additional steps are required before you can build your app:\n\n1. Use the **NuGet Package Manager** to add a reference to a NuGet package to your project; and if the package is not already available on your system, install it. To open the package manager, select **Tools** > **NuGet Package Manager** > **Manage NuGet Packages for Solution**.\n\n1. Confirm that `Newtonsoft.Json` is installed on your system and, if it is not, install it. The **Installed** tab lists NuGet packages installed on your system. If `Newtonsoft.Json` is not listed there, select the **Browse** tab and enter \"Newtonsoft.Json\" in the search box. Select `Newtonsoft.Json` and, in the right pane, select your project before selecting **Install**.\n\n1. If `Newtonsoft.Json` is already installed on your system, add it to your project by selecting your project in the right pane of hte **Manage Packages for Solution** tab.\n\nNote that a framework-dependent deployment with third-party dependencies is only as portable as its third-party dependencies. For example, if a third-party library only supports macOS, the app isn't portable to Windows systems. This happens if the third-party dependency itself depends on native code. A good example of this is [Kestrel server](http://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel), which requires a native dependency on [libuv](https://github.com/libuv/libuv). When an FDD is created for an application with this kind of third-party dependency, the published output contains a folder for each [Runtime Identifier (RID)](../rid-catalog.md#what-are-rids) that the native dependency supports (and that exists in its NuGet package).\n\n## <a name=\"simpleSelf\"></a> Self-contained deployment without third-party dependencies\n\nDeploying a self-contained deployment with no third-party dependencies involves creating the project, modifying the *csproj* file, building, testing, and publishing the app. A simple example written in C# illustrates the process. \n\n1. Create the project.\n\n   Select **File** > **New** > **Project**. In the **Add New Project** dialog, select **.NET Core** in the **Installed** project types pane, and select the **Console App (.NET Core)** template in the center pane. Enter a project name, such as \"SCD\", in the **Name** text box, and select the **OK** button.\n\n1. Add the application's source code.\n\n   Open the *Program.cs* file in your editor, and replace the auto-generated code with the following code. It prompts the user to enter text and displays the individual words entered by the user. It uses the regular expression `\\w+` to separate the words in the input text.\n\n   [!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]\n\n1. Define the platforms that your app will target.\n\n   1. Right-click on your project (not the solution) In **Solution Explorer**, and select **Edit SCD.csproj**.\n\n   1. Create a `<RuntimeIdentifiers>` tag in the `<PropertyGroup>` section of your *csproj* file that defines the platforms your app targets, and specify the runtime identifier (RID) of each platform that you target. Note that you also need to add a semicolon to separate the RIDs. See [Runtime IDentifier catalog](../rid-catalog.md) for a list of runtime identifiers. \n\n   For example, the following example indicates that the app runs on 64-bit Windows 10 operating systems and the 64-bit OS X Version 10.11 operating system.\n\n       ```xml\n        <PropertyGroup>\n          <RuntimeIdentifiers>win10-x64;osx.10.11-x64</RuntimeIdentifiers>\n        </PropertyGroup>\n       ```\n   Note that the `<RuntimeIdentifiers>` element can go into any `<PropertyGroup>` that you have in your *csproj* file. A complete sample *csproj* file appears later in this section.\n\n1. Create a Debug build of your app.\n\n   Select **Build** > **Build Solution**. You can also compile and run the Debug build of your application by selecting **Debug** > **Start Debugging**.\n\n1. Publish your app.\n\n   After you've debugged and tested the program, create the files to be deployed with your app for each platform that it targets.\n\n   To publish your app from Visual Studio, do the following:\n\n      1. Change the solution configuration from **Debug** to **Release** on the toolbar to build a Release (rather than a Debug) version of your app.\n\n      1. Right-click on the project (not the solution) in **Solution Explorer** and select **Publish**. \n\n      1. In the **Publish** tab, select **Publish**. Visual Studio writes the files that comprise your application to the local file system.\n\n      1. The **Publish** tab now shows a single profile, **FolderProfile**. The profile's configuration settings are shown in the **Summary** section of the tab. **Target Runtime** identifies which runtime has been published, and **Target Location** identifies where the files for the self-contained deployment were written.\n\n      1. Visual Studio by default writes all published files to a single directory. For convenience, it's best to create separate profiles for each target runtime and to place published files in a platform-specific directory. This involves creating a separate publishing profile for each target platform. So now rebuild the application for each platform by doing the following:\n\n         1. Select **Create new profile** in the **Publish** dialog.\n\n         1. In the **Pick a publish target** dialog, change the **Choose a folder** location to *bin\\Release\\PublishOutput\\win10-x64*. Select **OK**.\n\n         1. Select the new profile (**FolderProfile1**) in the list of profiles, and make sure that the **Target Runtime** is `win10-x64`. If it isn't, select **Settings**. In the **Profile Settings** dialog, change the **Target Runtime** to `win10-x64` and select **Save**. Otherwise, select **Cancel**.\n\n         1. Select **Publish** to publish your app for 64-bit Windows 10 platforms.\n\n         1. Follow the previous steps again to create a profile for the `osx.10.11-x64` platform. The **Target Location** is *bin\\Release\\PublishOutput\\osx.10.11-x64*, and the **Target Runtime** is `osx.10.11-x64`. The name that Visual Studio assigns to this profile is **FolderProfile2**.\n\n      Note that each target location contains the complete set of files (both your app files and all .NET Core files) needed to launch your app.\n\nAlong with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app. The file is useful primarily for debugging exceptions. You can choose not to package it with your application's files. You should, however, save it in the event that you want to debug the Release build of your app.\n\nDeploy the published files in any way you like. For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice.\n\nThe following is the complete *csproj* file for this project.\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>netcoreapp1.1</TargetFramework>\n    <RuntimeIdentifiers>win10-x64;osx.10.11-x64</RuntimeIdentifiers>\n  </PropertyGroup>\n</Project>\n```\n\n## Self-contained deployment with third-party dependencies\n\nDeploying a self-contained deployment with one or more third-party dependencies involves adding the dependencies. The following additional steps are required before you can build your app:\n\n1. Use the **NuGet Package Manager** to add a reference to a NuGet package to your project; and if the package is not already available on your system, install it. To open the package manager, select **Tools** > **NuGet Package Manager** > **Manage NuGet Packages for Solution**.\n\n1. Confirm that `Newtonsoft.Json` is installed on your system and, if it is not, install it. The **Installed** tab lists NuGet packages installed on your system. If `Newtonsoft.Json` is not listed there, select the **Browse** tab and enter \"Newtonsoft.Json\" in the search box. Select `Newtonsoft.Json` and, in the right pane, select your project before selecting **Install**.\n\n1. If `Newtonsoft.Json` is already installed on your system, add it to your project by selecting your project in the right pane of the **Manage Packages for Solution** tab.\n\nThe following is the complete *csproj* file for this project:\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>netcoreapp1.1</TargetFramework>\n    <RuntimeIdentifiers>win10-x64;osx.10.11-x64</RuntimeIdentifiers>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageReference Include=\"Newtonsoft.Json\" Version=\"10.0.2\" />\n  </ItemGroup>\n</Project>\n```\n\nWhen you deploy your application, any third-party dependencies used in your app are also contained with your application files. Third-party libraries aren't required on the system on which the app is running.\n\nNote that you can only deploy a self-contained deployment with a third-party library to platforms supported by that library. This is similar to having third-party dependencies with native dependencies in your framework-dependent deployment, where the native dependencies won't exist on the target platform unless they were previously installed there.\n\n# See also\n[.NET Core Application Deployment](index.md)   \n[.NET Core Runtime IDentifier (RID) catalog](../rid-catalog.md)   \n","nodes":[{"pos":[4,343],"embed":true,"restype":"x-metadata","content":"title: .NET Core app deployment with Visual Studio | Microsoft Docs\ndescription: Learn .NET Core app deployment with Visual Studio\nkeywords: .NET, .NET Core, .NET Core deployment\nauthor: rpetrusha\nms.author: ronpet\nms.date: 04/18/2017\nms.topic: article\nms.prod: .net-core\nms.devlang: dotnet\nms.assetid: 01049a21-fd50-4419-9ab2-0e4a2e091050","nodes":[{"content":".NET Core app deployment with Visual Studio | Microsoft Docs","nodes":[{"pos":[0,60],"content":".NET Core app deployment with Visual Studio | Microsoft Docs","nodes":[{"content":".NET Core app deployment with Visual Studio | Microsoft Docs","pos":[0,60]}]}],"path":["title"]},{"content":"Learn .NET Core app deployment with Visual Studio","nodes":[{"pos":[0,49],"content":"Learn .NET Core app deployment with Visual Studio","nodes":[{"content":"Learn .NET Core app deployment with Visual Studio","pos":[0,49]}]}],"path":["description"]},{"content":".NET, .NET Core, .NET Core deployment","nodes":[{"pos":[0,37],"content":".NET, .NET Core, .NET Core deployment","nodes":[{"content":".NET, .NET Core, .NET Core deployment","pos":[0,37]}]}],"path":["keywords"]}],"yml":true},{"pos":[351,394],"content":"Deploying .NET Core apps with Visual Studio","linkify":"Deploying .NET Core apps with Visual Studio","nodes":[{"content":"Deploying .NET Core apps with Visual Studio","pos":[0,43]}]},{"content":"You can deploy a .NET Core application either as a <bpt id=\"p1\">*</bpt>framework-dependent deployment<ept id=\"p1\">*</ept>, which includes your application binaries but depends on the presence of .NET Core on the target system, or as a <bpt id=\"p2\">*</bpt>self-contained deployment<ept id=\"p2\">*</ept>, which includes both your application and .NET Core binaries.","pos":[396,682],"source":"You can deploy a .NET Core application either as a *framework-dependent deployment*, which includes your application binaries but depends on the presence of .NET Core on the target system, or as a *self-contained deployment*, which includes both your application and .NET Core binaries."},{"content":"For an overview of .NET Core application deployment, see <bpt id=\"p1\">[</bpt>.NET Core Application Deployment<ept id=\"p1\">](index.md)</ept>.","pos":[683,785],"source":" For an overview of .NET Core application deployment, see [.NET Core Application Deployment](index.md)."},{"content":"The following sections show how to use Microsoft Visual Studio to create the following kinds of deployments:","pos":[787,895]},{"content":"Framework-dependent deployment","pos":[899,929]},{"content":"Framework-dependent deployment with third-party dependencies","pos":[932,992]},{"content":"Self-contained deployment","pos":[995,1020]},{"content":"Self-contained deployment with third-party dependencies","pos":[1023,1078]},{"pos":[1080,1266],"content":"For information on using Visual Studio to develop .NET Core applications, see <bpt id=\"p1\">[</bpt>Prerequisites for .NET Core on Windows<ept id=\"p1\">](../windows-prerequisites.md#prerequisites-with-visual-studio-2017)</ept>.","source":"For information on using Visual Studio to develop .NET Core applications, see [Prerequisites for .NET Core on Windows](../windows-prerequisites.md#prerequisites-with-visual-studio-2017)."},{"pos":[1271,1301],"content":"Framework-dependent deployment","linkify":"Framework-dependent deployment","nodes":[{"content":"Framework-dependent deployment","pos":[0,30]}]},{"content":"Deploying a framework-dependent deployment with no third-party dependencies simply involves building, testing, and publishing the app.","pos":[1303,1437]},{"content":"A simple example written in C# illustrates the process.","pos":[1438,1493]},{"content":"Create the project.","pos":[1500,1519]},{"content":"Select <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept>.","pos":[1524,1564],"source":"Select **File** > **New** > **Project**."},{"content":"In the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog, select <bpt id=\"p2\">**</bpt>.NET Core<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Installed<ept id=\"p3\">**</ept> project types pane, and select the <bpt id=\"p4\">**</bpt>Console App (.NET Core)<ept id=\"p4\">**</ept> template in the center pane.","pos":[1565,1729],"source":" In the **New Project** dialog, select **.NET Core** in the **Installed** project types pane, and select the **Console App (.NET Core)** template in the center pane."},{"content":"Enter a project name, such as \"FDD\", in the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> text box.","pos":[1730,1792],"source":" Enter a project name, such as \"FDD\", in the **Name** text box."},{"content":"Select the <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> button.","pos":[1793,1818],"source":" Select the **OK** button."},{"content":"Add the application's source code.","pos":[1823,1857]},{"content":"Open the <bpt id=\"p1\">*</bpt>Program.cs<ept id=\"p1\">*</ept> file in the editor and replace the auto-generated code with the following code.","pos":[1862,1963],"source":"Open the *Program.cs* file in the editor and replace the auto-generated code with the following code."},{"content":"It prompts the user to enter text and displays the individual words entered by the user.","pos":[1964,2052]},{"content":"It uses the regular expression <ph id=\"ph1\">`\\w+`</ph> to separate the words in the input text.","pos":[2053,2130],"source":" It uses the regular expression `\\w+` to separate the words in the input text."},{"pos":[2135,2223],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>deployment#1<ept id=\"p2\">](../../../samples/snippets/core/deploying/deployment-example.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]"},{"content":"Create a Debug build of your app.","pos":[2228,2261]},{"content":"Select <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Build Solution<ept id=\"p2\">**</ept>.","pos":[2266,2304],"source":"Select **Build** > **Build Solution**."},{"content":"You can also compile and run the Debug build of your application by selecting <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Start Debugging<ept id=\"p2\">**</ept>.","pos":[2305,2415],"source":" You can also compile and run the Debug build of your application by selecting **Debug** > **Start Debugging**."},{"content":"Deploy your app.","pos":[2420,2436]},{"content":"After you've debugged and tested the program, create the files to be deployed with your app.","pos":[2441,2533]},{"content":"To publish from Visual Studio, do the following:","pos":[2534,2582]},{"pos":[2593,2733],"content":"Change the solution configuration from <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>Release<ept id=\"p2\">**</ept> on the toolbar to build a Release (rather than a Debug) version of your app.","source":"Change the solution configuration from **Debug** to **Release** on the toolbar to build a Release (rather than a Debug) version of your app."},{"pos":[2744,2839],"content":"Right-click on the project (not the solution) in <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, and select <bpt id=\"p2\">**</bpt>Publish<ept id=\"p2\">**</ept>.","source":"Right-click on the project (not the solution) in **Solution Explorer**, and select **Publish**."},{"content":"In the <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> tab, select <bpt id=\"p2\">**</bpt>Publish<ept id=\"p2\">**</ept>.","pos":[2850,2893],"source":"In the **Publish** tab, select **Publish**."},{"content":"Visual Studio writes the files that comprise your application to the local file system.","pos":[2894,2981]},{"content":"The <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> tab now shows a single profile, <bpt id=\"p2\">**</bpt>FolderProfile<ept id=\"p2\">**</ept>.","pos":[2992,3058],"source":"The **Publish** tab now shows a single profile, **FolderProfile**."},{"content":"The profile's configuration settings are shown in the <bpt id=\"p1\">**</bpt>Summary<ept id=\"p1\">**</ept> section of the tab.","pos":[3059,3144],"source":" The profile's configuration settings are shown in the **Summary** section of the tab."},{"pos":[3149,3290],"content":"The resulting files are placed in a directory named <ph id=\"ph1\">`PublishOutput`</ph> that is in a subdirectory of your project's <bpt id=\"p1\">*</bpt>.\\bin\\release<ept id=\"p1\">*</ept> subdirectory.","source":"The resulting files are placed in a directory named `PublishOutput` that is in a subdirectory of your project's *.\\bin\\release* subdirectory."},{"content":"Along with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app.","pos":[3292,3440]},{"content":"The file is useful primarily for debugging exceptions.","pos":[3441,3495]},{"content":"You can choose not to package it with your application's files.","pos":[3496,3559]},{"content":"You should, however, save it in the event that you want to debug the Release build of your app.","pos":[3560,3655]},{"content":"Deploy the complete set of application files in any way you like.","pos":[3657,3722]},{"content":"For example, you can package them in a Zip file, use a simple <ph id=\"ph1\">`copy`</ph> command, or deploy them with any installation package of your choice.","pos":[3723,3861],"source":" For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice."},{"content":"Once installed, users can then execute your application by using the <ph id=\"ph1\">`dotnet`</ph> command and providing the application filename, such as <ph id=\"ph2\">`dotnet fdd.dll`</ph>.","pos":[3862,4013],"source":" Once installed, users can then execute your application by using the `dotnet` command and providing the application filename, such as `dotnet fdd.dll`."},{"content":"In addition to the application binaries, your installer should also either bundle the shared framework installer or check for it as a prerequisite as part of the application installation.","pos":[4015,4202]},{"content":"Installation of the shared framework requires Administrator/root access since it is machine-wide.","pos":[4204,4301]},{"pos":[4306,4366],"content":"Framework-dependent deployment with third-party dependencies","linkify":"Framework-dependent deployment with third-party dependencies","nodes":[{"content":"Framework-dependent deployment with third-party dependencies","pos":[0,60]}]},{"content":"Deploying a framework-dependent deployment with one or more third-party dependencies requires that any dependencies be available to your project.","pos":[4368,4513]},{"content":"The following additional steps are required before you can build your app:","pos":[4514,4588]},{"content":"Use the <bpt id=\"p1\">**</bpt>NuGet Package Manager<ept id=\"p1\">**</ept> to add a reference to a NuGet package to your project; and if the package is not already available on your system, install it.","pos":[4593,4753],"source":"Use the **NuGet Package Manager** to add a reference to a NuGet package to your project; and if the package is not already available on your system, install it."},{"content":"To open the package manager, select <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>NuGet Package Manager<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Manage NuGet Packages for Solution<ept id=\"p3\">**</ept>.","pos":[4754,4869],"source":" To open the package manager, select **Tools** > **NuGet Package Manager** > **Manage NuGet Packages for Solution**."},{"content":"Confirm that <ph id=\"ph1\">`Newtonsoft.Json`</ph> is installed on your system and, if it is not, install it.","pos":[4874,4963],"source":"Confirm that `Newtonsoft.Json` is installed on your system and, if it is not, install it."},{"content":"The <bpt id=\"p1\">**</bpt>Installed<ept id=\"p1\">**</ept> tab lists NuGet packages installed on your system.","pos":[4964,5032],"source":" The **Installed** tab lists NuGet packages installed on your system."},{"content":"If <ph id=\"ph1\">`Newtonsoft.Json`</ph> is not listed there, select the <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> tab and enter \"Newtonsoft.Json\" in the search box.","pos":[5033,5147],"source":" If `Newtonsoft.Json` is not listed there, select the **Browse** tab and enter \"Newtonsoft.Json\" in the search box."},{"content":"Select <ph id=\"ph1\">`Newtonsoft.Json`</ph> and, in the right pane, select your project before selecting <bpt id=\"p1\">**</bpt>Install<ept id=\"p1\">**</ept>.","pos":[5148,5246],"source":" Select `Newtonsoft.Json` and, in the right pane, select your project before selecting **Install**."},{"pos":[5251,5420],"content":"If <ph id=\"ph1\">`Newtonsoft.Json`</ph> is already installed on your system, add it to your project by selecting your project in the right pane of hte <bpt id=\"p1\">**</bpt>Manage Packages for Solution<ept id=\"p1\">**</ept> tab.","source":"If `Newtonsoft.Json` is already installed on your system, add it to your project by selecting your project in the right pane of hte **Manage Packages for Solution** tab."},{"content":"Note that a framework-dependent deployment with third-party dependencies is only as portable as its third-party dependencies.","pos":[5422,5547]},{"content":"For example, if a third-party library only supports macOS, the app isn't portable to Windows systems.","pos":[5548,5649]},{"content":"This happens if the third-party dependency itself depends on native code.","pos":[5650,5723]},{"content":"A good example of this is <bpt id=\"p1\">[</bpt>Kestrel server<ept id=\"p1\">](http://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel)</ept>, which requires a native dependency on <bpt id=\"p2\">[</bpt>libuv<ept id=\"p2\">](https://github.com/libuv/libuv)</ept>.","pos":[5724,5914],"source":" A good example of this is [Kestrel server](http://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel), which requires a native dependency on [libuv](https://github.com/libuv/libuv)."},{"content":"When an FDD is created for an application with this kind of third-party dependency, the published output contains a folder for each <bpt id=\"p1\">[</bpt>Runtime Identifier (RID)<ept id=\"p1\">](../rid-catalog.md#what-are-rids)</ept> that the native dependency supports (and that exists in its NuGet package).","pos":[5915,6182],"source":" When an FDD is created for an application with this kind of third-party dependency, the published output contains a folder for each [Runtime Identifier (RID)](../rid-catalog.md#what-are-rids) that the native dependency supports (and that exists in its NuGet package)."},{"pos":[6187,6271],"content":"<bpt id=\"p1\">&lt;a name=\"simpleSelf\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept> Self-contained deployment without third-party dependencies","linkify":"<a name=\"simpleSelf\"></a> Self-contained deployment without third-party dependencies","source":"<a name=\"simpleSelf\"></a> Self-contained deployment without third-party dependencies"},{"content":"Deploying a self-contained deployment with no third-party dependencies involves creating the project, modifying the <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file, building, testing, and publishing the app.","pos":[6273,6446],"source":"Deploying a self-contained deployment with no third-party dependencies involves creating the project, modifying the *csproj* file, building, testing, and publishing the app."},{"content":"A simple example written in C# illustrates the process.","pos":[6447,6502]},{"content":"Create the project.","pos":[6508,6527]},{"content":"Select <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept>.","pos":[6532,6572],"source":"Select **File** > **New** > **Project**."},{"content":"In the <bpt id=\"p1\">**</bpt>Add New Project<ept id=\"p1\">**</ept> dialog, select <bpt id=\"p2\">**</bpt>.NET Core<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Installed<ept id=\"p3\">**</ept> project types pane, and select the <bpt id=\"p4\">**</bpt>Console App (.NET Core)<ept id=\"p4\">**</ept> template in the center pane.","pos":[6573,6741],"source":" In the **Add New Project** dialog, select **.NET Core** in the **Installed** project types pane, and select the **Console App (.NET Core)** template in the center pane."},{"content":"Enter a project name, such as \"SCD\", in the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> text box, and select the <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept> button.","pos":[6742,6834],"source":" Enter a project name, such as \"SCD\", in the **Name** text box, and select the **OK** button."},{"content":"Add the application's source code.","pos":[6839,6873]},{"content":"Open the <bpt id=\"p1\">*</bpt>Program.cs<ept id=\"p1\">*</ept> file in your editor, and replace the auto-generated code with the following code.","pos":[6878,6981],"source":"Open the *Program.cs* file in your editor, and replace the auto-generated code with the following code."},{"content":"It prompts the user to enter text and displays the individual words entered by the user.","pos":[6982,7070]},{"content":"It uses the regular expression <ph id=\"ph1\">`\\w+`</ph> to separate the words in the input text.","pos":[7071,7148],"source":" It uses the regular expression `\\w+` to separate the words in the input text."},{"pos":[7153,7241],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>deployment#1<ept id=\"p2\">](../../../samples/snippets/core/deploying/deployment-example.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]"},{"content":"Define the platforms that your app will target.","pos":[7246,7293]},{"pos":[7301,7405],"content":"Right-click on your project (not the solution) In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, and select <bpt id=\"p2\">**</bpt>Edit SCD.csproj<ept id=\"p2\">**</ept>.","source":"Right-click on your project (not the solution) In **Solution Explorer**, and select **Edit SCD.csproj**."},{"content":"Create a <ph id=\"ph1\">`&lt;RuntimeIdentifiers&gt;`</ph> tag in the <ph id=\"ph2\">`&lt;PropertyGroup&gt;`</ph> section of your <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file that defines the platforms your app targets, and specify the runtime identifier (RID) of each platform that you target.","pos":[7413,7623],"source":"Create a `<RuntimeIdentifiers>` tag in the `<PropertyGroup>` section of your *csproj* file that defines the platforms your app targets, and specify the runtime identifier (RID) of each platform that you target."},{"content":"Note that you also need to add a semicolon to separate the RIDs.","pos":[7624,7688]},{"content":"See <bpt id=\"p1\">[</bpt>Runtime IDentifier catalog<ept id=\"p1\">](../rid-catalog.md)</ept> for a list of runtime identifiers.","pos":[7689,7775],"source":" See [Runtime IDentifier catalog](../rid-catalog.md) for a list of runtime identifiers."},{"content":"For example, the following example indicates that the app runs on 64-bit Windows 10 operating systems and the 64-bit OS X Version 10.11 operating system.","pos":[7781,7934]},{"content":"Note that the <ph id=\"ph1\">`&lt;RuntimeIdentifiers&gt;`</ph> element can go into any <ph id=\"ph2\">`&lt;PropertyGroup&gt;`</ph> that you have in your <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file.","pos":[8088,8203],"source":"Note that the `<RuntimeIdentifiers>` element can go into any `<PropertyGroup>` that you have in your *csproj* file."},{"content":"A complete sample <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file appears later in this section.","pos":[8204,8266],"source":" A complete sample *csproj* file appears later in this section."},{"content":"Create a Debug build of your app.","pos":[8271,8304]},{"content":"Select <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Build Solution<ept id=\"p2\">**</ept>.","pos":[8309,8347],"source":"Select **Build** > **Build Solution**."},{"content":"You can also compile and run the Debug build of your application by selecting <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Start Debugging<ept id=\"p2\">**</ept>.","pos":[8348,8458],"source":" You can also compile and run the Debug build of your application by selecting **Debug** > **Start Debugging**."},{"content":"Publish your app.","pos":[8463,8480]},{"content":"After you've debugged and tested the program, create the files to be deployed with your app for each platform that it targets.","pos":[8485,8611]},{"content":"To publish your app from Visual Studio, do the following:","pos":[8616,8673]},{"pos":[8684,8824],"content":"Change the solution configuration from <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>Release<ept id=\"p2\">**</ept> on the toolbar to build a Release (rather than a Debug) version of your app.","source":"Change the solution configuration from **Debug** to **Release** on the toolbar to build a Release (rather than a Debug) version of your app."},{"pos":[8835,8929],"content":"Right-click on the project (not the solution) in <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Publish<ept id=\"p2\">**</ept>.","source":"Right-click on the project (not the solution) in **Solution Explorer** and select **Publish**."},{"content":"In the <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> tab, select <bpt id=\"p2\">**</bpt>Publish<ept id=\"p2\">**</ept>.","pos":[8941,8984],"source":"In the **Publish** tab, select **Publish**."},{"content":"Visual Studio writes the files that comprise your application to the local file system.","pos":[8985,9072]},{"content":"The <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> tab now shows a single profile, <bpt id=\"p2\">**</bpt>FolderProfile<ept id=\"p2\">**</ept>.","pos":[9083,9149],"source":"The **Publish** tab now shows a single profile, **FolderProfile**."},{"content":"The profile's configuration settings are shown in the <bpt id=\"p1\">**</bpt>Summary<ept id=\"p1\">**</ept> section of the tab. <bpt id=\"p2\">**</bpt>Target Runtime<ept id=\"p2\">**</ept> identifies which runtime has been published, and <bpt id=\"p3\">**</bpt>Target Location<ept id=\"p3\">**</ept> identifies where the files for the self-contained deployment were written.","pos":[9150,9398],"source":" The profile's configuration settings are shown in the **Summary** section of the tab. **Target Runtime** identifies which runtime has been published, and **Target Location** identifies where the files for the self-contained deployment were written."},{"content":"Visual Studio by default writes all published files to a single directory.","pos":[9409,9483]},{"content":"For convenience, it's best to create separate profiles for each target runtime and to place published files in a platform-specific directory.","pos":[9484,9625]},{"content":"This involves creating a separate publishing profile for each target platform.","pos":[9626,9704]},{"content":"So now rebuild the application for each platform by doing the following:","pos":[9705,9777]},{"pos":[9791,9847],"content":"Select <bpt id=\"p1\">**</bpt>Create new profile<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Publish<ept id=\"p2\">**</ept> dialog.","source":"Select **Create new profile** in the **Publish** dialog."},{"content":"In the <bpt id=\"p1\">**</bpt>Pick a publish target<ept id=\"p1\">**</ept> dialog, change the <bpt id=\"p2\">**</bpt>Choose a folder<ept id=\"p2\">**</ept> location to <bpt id=\"p3\">*</bpt>bin\\Release\\PublishOutput\\win10-x64<ept id=\"p3\">*</ept>.","pos":[9861,9983],"source":"In the **Pick a publish target** dialog, change the **Choose a folder** location to *bin\\Release\\PublishOutput\\win10-x64*."},{"content":"Select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[9984,9998],"source":" Select **OK**."},{"content":"Select the new profile (<bpt id=\"p1\">**</bpt>FolderProfile1<ept id=\"p1\">**</ept>) in the list of profiles, and make sure that the <bpt id=\"p2\">**</bpt>Target Runtime<ept id=\"p2\">**</ept> is <ph id=\"ph1\">`win10-x64`</ph>.","pos":[10012,10138],"source":"Select the new profile (**FolderProfile1**) in the list of profiles, and make sure that the **Target Runtime** is `win10-x64`."},{"content":"If it isn't, select <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>.","pos":[10139,10172],"source":" If it isn't, select **Settings**."},{"content":"In the <bpt id=\"p1\">**</bpt>Profile Settings<ept id=\"p1\">**</ept> dialog, change the <bpt id=\"p2\">**</bpt>Target Runtime<ept id=\"p2\">**</ept> to <ph id=\"ph1\">`win10-x64`</ph> and select <bpt id=\"p3\">**</bpt>Save<ept id=\"p3\">**</ept>.","pos":[10173,10274],"source":" In the **Profile Settings** dialog, change the **Target Runtime** to `win10-x64` and select **Save**."},{"content":"Otherwise, select <bpt id=\"p1\">**</bpt>Cancel<ept id=\"p1\">**</ept>.","pos":[10275,10304],"source":" Otherwise, select **Cancel**."},{"pos":[10318,10389],"content":"Select <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> to publish your app for 64-bit Windows 10 platforms.","source":"Select **Publish** to publish your app for 64-bit Windows 10 platforms."},{"content":"Follow the previous steps again to create a profile for the <ph id=\"ph1\">`osx.10.11-x64`</ph> platform.","pos":[10403,10488],"source":"Follow the previous steps again to create a profile for the `osx.10.11-x64` platform."},{"content":"The <bpt id=\"p1\">**</bpt>Target Location<ept id=\"p1\">**</ept> is <bpt id=\"p2\">*</bpt>bin\\Release\\PublishOutput\\osx.10.11-x64<ept id=\"p2\">*</ept>, and the <bpt id=\"p3\">**</bpt>Target Runtime<ept id=\"p3\">**</ept> is <ph id=\"ph1\">`osx.10.11-x64`</ph>.","pos":[10489,10605],"source":" The **Target Location** is *bin\\Release\\PublishOutput\\osx.10.11-x64*, and the **Target Runtime** is `osx.10.11-x64`."},{"content":"The name that Visual Studio assigns to this profile is <bpt id=\"p1\">**</bpt>FolderProfile2<ept id=\"p1\">**</ept>.","pos":[10606,10680],"source":" The name that Visual Studio assigns to this profile is **FolderProfile2**."},{"content":"Note that each target location contains the complete set of files (both your app files and all .NET Core files) needed to launch your app.","pos":[10688,10826]},{"content":"Along with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app.","pos":[10828,10976]},{"content":"The file is useful primarily for debugging exceptions.","pos":[10977,11031]},{"content":"You can choose not to package it with your application's files.","pos":[11032,11095]},{"content":"You should, however, save it in the event that you want to debug the Release build of your app.","pos":[11096,11191]},{"content":"Deploy the published files in any way you like.","pos":[11193,11240]},{"content":"For example, you can package them in a Zip file, use a simple <ph id=\"ph1\">`copy`</ph> command, or deploy them with any installation package of your choice.","pos":[11241,11379],"source":" For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice."},{"pos":[11381,11442],"content":"The following is the complete <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file for this project.","source":"The following is the complete *csproj* file for this project."},{"pos":[11696,11751],"content":"Self-contained deployment with third-party dependencies","linkify":"Self-contained deployment with third-party dependencies","nodes":[{"content":"Self-contained deployment with third-party dependencies","pos":[0,55]}]},{"content":"Deploying a self-contained deployment with one or more third-party dependencies involves adding the dependencies.","pos":[11753,11866]},{"content":"The following additional steps are required before you can build your app:","pos":[11867,11941]},{"content":"Use the <bpt id=\"p1\">**</bpt>NuGet Package Manager<ept id=\"p1\">**</ept> to add a reference to a NuGet package to your project; and if the package is not already available on your system, install it.","pos":[11946,12106],"source":"Use the **NuGet Package Manager** to add a reference to a NuGet package to your project; and if the package is not already available on your system, install it."},{"content":"To open the package manager, select <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>NuGet Package Manager<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Manage NuGet Packages for Solution<ept id=\"p3\">**</ept>.","pos":[12107,12222],"source":" To open the package manager, select **Tools** > **NuGet Package Manager** > **Manage NuGet Packages for Solution**."},{"content":"Confirm that <ph id=\"ph1\">`Newtonsoft.Json`</ph> is installed on your system and, if it is not, install it.","pos":[12227,12316],"source":"Confirm that `Newtonsoft.Json` is installed on your system and, if it is not, install it."},{"content":"The <bpt id=\"p1\">**</bpt>Installed<ept id=\"p1\">**</ept> tab lists NuGet packages installed on your system.","pos":[12317,12385],"source":" The **Installed** tab lists NuGet packages installed on your system."},{"content":"If <ph id=\"ph1\">`Newtonsoft.Json`</ph> is not listed there, select the <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> tab and enter \"Newtonsoft.Json\" in the search box.","pos":[12386,12500],"source":" If `Newtonsoft.Json` is not listed there, select the **Browse** tab and enter \"Newtonsoft.Json\" in the search box."},{"content":"Select <ph id=\"ph1\">`Newtonsoft.Json`</ph> and, in the right pane, select your project before selecting <bpt id=\"p1\">**</bpt>Install<ept id=\"p1\">**</ept>.","pos":[12501,12599],"source":" Select `Newtonsoft.Json` and, in the right pane, select your project before selecting **Install**."},{"pos":[12604,12773],"content":"If <ph id=\"ph1\">`Newtonsoft.Json`</ph> is already installed on your system, add it to your project by selecting your project in the right pane of the <bpt id=\"p1\">**</bpt>Manage Packages for Solution<ept id=\"p1\">**</ept> tab.","source":"If `Newtonsoft.Json` is already installed on your system, add it to your project by selecting your project in the right pane of the **Manage Packages for Solution** tab."},{"pos":[12775,12836],"content":"The following is the complete <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file for this project:","source":"The following is the complete *csproj* file for this project:"},{"content":"When you deploy your application, any third-party dependencies used in your app are also contained with your application files.","pos":[13184,13311]},{"content":"Third-party libraries aren't required on the system on which the app is running.","pos":[13312,13392]},{"content":"Note that you can only deploy a self-contained deployment with a third-party library to platforms supported by that library.","pos":[13394,13518]},{"content":"This is similar to having third-party dependencies with native dependencies in your framework-dependent deployment, where the native dependencies won't exist on the target platform unless they were previously installed there.","pos":[13519,13744]},{"pos":[13748,13756],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>.NET Core Application Deployment<ept id=\"p1\">](index.md)</ept><ph id=\"ph1\"> </ph>","pos":[13757,13802],"source":"[.NET Core Application Deployment](index.md) "},{"content":"<bpt id=\"p1\">[</bpt>.NET Core Runtime IDentifier (RID) catalog<ept id=\"p1\">](../rid-catalog.md)</ept>","pos":[13805,13868],"source":"[.NET Core Runtime IDentifier (RID) catalog](../rid-catalog.md)"}]}