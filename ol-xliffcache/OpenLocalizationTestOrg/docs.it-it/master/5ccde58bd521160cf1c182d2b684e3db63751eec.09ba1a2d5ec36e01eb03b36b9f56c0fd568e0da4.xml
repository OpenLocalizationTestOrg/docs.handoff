{"content":"---\ntitle: \"Global and Local Transformations | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"matrices, using transformations\"\n  - \"transformations, global\"\n  - \"transformations, local\"\nms.assetid: b601d66d-d572-4f11-9d2e-92f0dc8893f3\ncaps.latest.revision: 13\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Global and Local Transformations\nA global transformation is a transformation that applies to every item drawn by a given <xref:System.Drawing.Graphics> object. In contrast, a local transformation is a transformation that applies to a specific item to be drawn.  \n  \n## Global Transformations  \n To create a global transformation, construct a <xref:System.Drawing.Graphics> object, and then manipulate its <xref:System.Drawing.Graphics.Transform%2A> property. The <xref:System.Drawing.Graphics.Transform%2A> property is a <xref:System.Drawing.Drawing2D.Matrix> object, so it can hold any sequence of affine transformations. The transformation stored in the <xref:System.Drawing.Graphics.Transform%2A> property is called the world transformation. The <xref:System.Drawing.Graphics> class provides several methods for building up a composite world transformation: <xref:System.Drawing.Graphics.MultiplyTransform%2A>, <xref:System.Drawing.Graphics.RotateTransform%2A>, <xref:System.Drawing.Graphics.ScaleTransform%2A>, and <xref:System.Drawing.Graphics.TranslateTransform%2A>. The following example draws an ellipse twice: once before creating a world transformation and once after. The transformation first scales by a factor of 0.5 in the y direction, then translates 50 units in the x direction, and then rotates 30 degrees.  \n  \n [!code-csharp[System.Drawing.CoordinateSystems#21](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#21)]\n [!code-vb[System.Drawing.CoordinateSystems#21](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#21)]  \n  \n The following illustration shows the matrices involved in the transformation.  \n  \n ![Transformations](../../../../docs/framework/winforms/advanced/media/aboutgdip05-art14.gif \"AboutGdip05_art14\")  \n  \n> [!NOTE]\n>  In the preceding example, the ellipse is rotated about the origin of the coordinate system, which is at the upper-left corner of the client area. This produces a different result than rotating the ellipse about its own center.  \n  \n## Local Transformations  \n A local transformation applies to a specific item to be drawn. For example, a <xref:System.Drawing.Drawing2D.GraphicsPath> object has a <xref:System.Drawing.Drawing2D.GraphicsPath.Transform%2A> method that allows you to transform the data points of that path. The following example draws a rectangle with no transformation and a path with a rotation transformation. (Assume that there is no world transformation.)  \n  \n [!code-csharp[System.Drawing.CoordinateSystems#22](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#22)]\n [!code-vb[System.Drawing.CoordinateSystems#22](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#22)]  \n  \n You can combine the world transformation with local transformations to achieve a variety of results. For example, you can use the world transformation to revise the coordinate system and use local transformations to rotate and scale objects drawn on the new coordinate system.  \n  \n Suppose you want a coordinate system that has its origin 200 pixels from the left edge of the client area and 150 pixels from the top of the client area. Furthermore, assume that you want the unit of measure to be the pixel, with the x-axis pointing to the right and the y-axis pointing up. The default coordinate system has the y-axis pointing down, so you need to perform a reflection across the horizontal axis. The following illustration shows the matrix of such a reflection.  \n  \n ![Transformations](../../../../docs/framework/winforms/advanced/media/aboutgdip05-art15.gif \"AboutGdip05_art15\")  \n  \n Next, assume you need to perform a translation 200 units to the right and 150 units down.  \n  \n The following example establishes the coordinate system just described by setting the world transformation of a <xref:System.Drawing.Graphics> object.  \n  \n [!code-csharp[System.Drawing.CoordinateSystems#23](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#23)]\n [!code-vb[System.Drawing.CoordinateSystems#23](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#23)]  \n  \n The following code (placed at the end of the preceding example) creates a path that consists of a single rectangle with its lower-left corner at the origin of the new coordinate system. The rectangle is filled once with no local transformation and once with a local transformation. The local transformation consists of a horizontal scaling by a factor of 2 followed by a 30-degree rotation.  \n  \n [!code-csharp[System.Drawing.CoordinateSystems#24](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#24)]\n [!code-vb[System.Drawing.CoordinateSystems#24](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#24)]  \n  \n The following illustration shows the new coordinate system and the two rectangles.  \n  \n ![Transformations](../../../../docs/framework/winforms/advanced/media/aboutgdip05-art16.gif \"AboutGdip05_art16\")  \n  \n## See Also  \n [Coordinate Systems and Transformations](../../../../docs/framework/winforms/advanced/coordinate-systems-and-transformations.md)   \n [Using Transformations in Managed GDI+](../../../../docs/framework/winforms/advanced/using-transformations-in-managed-gdi.md)","nodes":[{"pos":[4,511],"nodes":[{"content":"Global and Local Transformations | Microsoft Docs","nodes":[{"pos":[0,49],"content":"Global and Local Transformations | Microsoft Docs","nodes":[{"content":"Global and Local Transformations | Microsoft Docs","pos":[0,49]}]}],"pos":[6,58],"yaml":true}],"content":"title: \"Global and Local Transformations | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"matrices, using transformations\"\n  - \"transformations, global\"\n  - \"transformations, local\"\nms.assetid: b601d66d-d572-4f11-9d2e-92f0dc8893f3\ncaps.latest.revision: 13\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","yamlblock":true},{"pos":[518,550],"content":"Global and Local Transformations","linkify":"Global and Local Transformations","nodes":[{"content":"Global and Local Transformations","pos":[0,32]}]},{"content":"A global transformation is a transformation that applies to every item drawn by a given <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object.","pos":[551,677],"source":"A global transformation is a transformation that applies to every item drawn by a given <xref:System.Drawing.Graphics> object."},{"content":"In contrast, a local transformation is a transformation that applies to a specific item to be drawn.","pos":[678,778]},{"pos":[787,809],"content":"Global Transformations","linkify":"Global Transformations","nodes":[{"content":"Global Transformations","pos":[0,22]}]},{"content":"To create a global transformation, construct a <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object, and then manipulate its <ph id=\"ph2\">&lt;xref:System.Drawing.Graphics.Transform%2A&gt;</ph> property.","pos":[813,976],"source":"To create a global transformation, construct a <xref:System.Drawing.Graphics> object, and then manipulate its <xref:System.Drawing.Graphics.Transform%2A> property."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.Transform%2A&gt;</ph> property is a <ph id=\"ph2\">&lt;xref:System.Drawing.Drawing2D.Matrix&gt;</ph> object, so it can hold any sequence of affine transformations.","pos":[977,1140],"source":" The <xref:System.Drawing.Graphics.Transform%2A> property is a <xref:System.Drawing.Drawing2D.Matrix> object, so it can hold any sequence of affine transformations."},{"content":"The transformation stored in the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.Transform%2A&gt;</ph> property is called the world transformation.","pos":[1141,1262],"source":" The transformation stored in the <xref:System.Drawing.Graphics.Transform%2A> property is called the world transformation."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> class provides several methods for building up a composite world transformation: <ph id=\"ph2\">&lt;xref:System.Drawing.Graphics.MultiplyTransform%2A&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Drawing.Graphics.RotateTransform%2A&gt;</ph>, <ph id=\"ph4\">&lt;xref:System.Drawing.Graphics.ScaleTransform%2A&gt;</ph>, and <ph id=\"ph5\">&lt;xref:System.Drawing.Graphics.TranslateTransform%2A&gt;</ph>.","pos":[1263,1590],"source":" The <xref:System.Drawing.Graphics> class provides several methods for building up a composite world transformation: <xref:System.Drawing.Graphics.MultiplyTransform%2A>, <xref:System.Drawing.Graphics.RotateTransform%2A>, <xref:System.Drawing.Graphics.ScaleTransform%2A>, and <xref:System.Drawing.Graphics.TranslateTransform%2A>."},{"content":"The following example draws an ellipse twice: once before creating a world transformation and once after.","pos":[1591,1696]},{"content":"The transformation first scales by a factor of 0.5 in the y direction, then translates 50 units in the x direction, and then rotates 30 degrees.","pos":[1697,1841]},{"pos":[1848,2167],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.CoordinateSystems#21<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#21)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.CoordinateSystems#21<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#21)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.CoordinateSystems#21](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#21)]\n [!code-vb[System.Drawing.CoordinateSystems#21](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#21)]"},{"content":"The following illustration shows the matrices involved in the transformation.","pos":[2174,2251]},{"pos":[2258,2370],"content":"<bpt id=\"p1\">![</bpt>Transformations<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/winforms/advanced/media/aboutgdip05-art14.gif \"</bpt>AboutGdip05_art14<ept id=\"p2\">\")</ept>","source":"![Transformations](../../../../docs/framework/winforms/advanced/media/aboutgdip05-art14.gif \"AboutGdip05_art14\")"},{"pos":[2378,2615],"content":"[!NOTE]\n In the preceding example, the ellipse is rotated about the origin of the coordinate system, which is at the upper-left corner of the client area. This produces a different result than rotating the ellipse about its own center.","leadings":["","> "],"nodes":[{"content":"In the preceding example, the ellipse is rotated about the origin of the coordinate system, which is at the upper-left corner of the client area. This produces a different result than rotating the ellipse about its own center.","pos":[9,235],"nodes":[{"content":"In the preceding example, the ellipse is rotated about the origin of the coordinate system, which is at the upper-left corner of the client area.","pos":[0,145]},{"content":"This produces a different result than rotating the ellipse about its own center.","pos":[146,226]}]}]},{"pos":[2624,2645],"content":"Local Transformations","linkify":"Local Transformations","nodes":[{"content":"Local Transformations","pos":[0,21]}]},{"content":"A local transformation applies to a specific item to be drawn.","pos":[2649,2711]},{"content":"For example, a <ph id=\"ph1\">&lt;xref:System.Drawing.Drawing2D.GraphicsPath&gt;</ph> object has a <ph id=\"ph2\">&lt;xref:System.Drawing.Drawing2D.GraphicsPath.Transform%2A&gt;</ph> method that allows you to transform the data points of that path.","pos":[2712,2908],"source":" For example, a <xref:System.Drawing.Drawing2D.GraphicsPath> object has a <xref:System.Drawing.Drawing2D.GraphicsPath.Transform%2A> method that allows you to transform the data points of that path."},{"content":"The following example draws a rectangle with no transformation and a path with a rotation transformation.","pos":[2909,3014]},{"content":"(Assume that there is no world transformation.)","pos":[3015,3062]},{"pos":[3069,3388],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.CoordinateSystems#22<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#22)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.CoordinateSystems#22<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#22)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.CoordinateSystems#22](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#22)]\n [!code-vb[System.Drawing.CoordinateSystems#22](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#22)]"},{"content":"You can combine the world transformation with local transformations to achieve a variety of results.","pos":[3395,3495]},{"content":"For example, you can use the world transformation to revise the coordinate system and use local transformations to rotate and scale objects drawn on the new coordinate system.","pos":[3496,3671]},{"content":"Suppose you want a coordinate system that has its origin 200 pixels from the left edge of the client area and 150 pixels from the top of the client area.","pos":[3678,3831]},{"content":"Furthermore, assume that you want the unit of measure to be the pixel, with the x-axis pointing to the right and the y-axis pointing up.","pos":[3832,3968]},{"content":"The default coordinate system has the y-axis pointing down, so you need to perform a reflection across the horizontal axis.","pos":[3969,4092]},{"content":"The following illustration shows the matrix of such a reflection.","pos":[4093,4158]},{"pos":[4165,4277],"content":"<bpt id=\"p1\">![</bpt>Transformations<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/winforms/advanced/media/aboutgdip05-art15.gif \"</bpt>AboutGdip05_art15<ept id=\"p2\">\")</ept>","source":"![Transformations](../../../../docs/framework/winforms/advanced/media/aboutgdip05-art15.gif \"AboutGdip05_art15\")"},{"content":"Next, assume you need to perform a translation 200 units to the right and 150 units down.","pos":[4284,4373]},{"content":"The following example establishes the coordinate system just described by setting the world transformation of a <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object.","pos":[4380,4530],"source":"The following example establishes the coordinate system just described by setting the world transformation of a <xref:System.Drawing.Graphics> object."},{"pos":[4537,4856],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.CoordinateSystems#23<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#23)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.CoordinateSystems#23<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#23)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.CoordinateSystems#23](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#23)]\n [!code-vb[System.Drawing.CoordinateSystems#23](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#23)]"},{"content":"The following code (placed at the end of the preceding example) creates a path that consists of a single rectangle with its lower-left corner at the origin of the new coordinate system.","pos":[4863,5048]},{"content":"The rectangle is filled once with no local transformation and once with a local transformation.","pos":[5049,5144]},{"content":"The local transformation consists of a horizontal scaling by a factor of 2 followed by a 30-degree rotation.","pos":[5145,5253]},{"pos":[5260,5579],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.CoordinateSystems#24<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#24)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.CoordinateSystems#24<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#24)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.CoordinateSystems#24](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/CS/Class1.cs#24)]\n [!code-vb[System.Drawing.CoordinateSystems#24](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.CoordinateSystems/VB/Class1.vb#24)]"},{"content":"The following illustration shows the new coordinate system and the two rectangles.","pos":[5586,5668]},{"pos":[5675,5787],"content":"<bpt id=\"p1\">![</bpt>Transformations<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/winforms/advanced/media/aboutgdip05-art16.gif \"</bpt>AboutGdip05_art16<ept id=\"p2\">\")</ept>","source":"![Transformations](../../../../docs/framework/winforms/advanced/media/aboutgdip05-art16.gif \"AboutGdip05_art16\")"},{"pos":[5796,5804],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Coordinate Systems and Transformations<ept id=\"p1\">](../../../../docs/framework/winforms/advanced/coordinate-systems-and-transformations.md)</ept><ph id=\"ph1\"> </ph>","pos":[5808,5937],"source":"[Coordinate Systems and Transformations](../../../../docs/framework/winforms/advanced/coordinate-systems-and-transformations.md) "},{"content":"<bpt id=\"p1\">[</bpt>Using Transformations in Managed GDI+<ept id=\"p1\">](../../../../docs/framework/winforms/advanced/using-transformations-in-managed-gdi.md)</ept>","pos":[5941,6066],"source":"[Using Transformations in Managed GDI+](../../../../docs/framework/winforms/advanced/using-transformations-in-managed-gdi.md)"}]}