{"content":"---\ntitle: \"REF (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: c5f4cb35-69e9-44cc-b63b-ee38922bbda1\n---\n# REF (Entity SQL)\nReturns a reference to an entity instance.  \n  \n## Syntax  \n  \n```  \nREF( expression )   \n```  \n  \n## Arguments  \n `expression`  \n Any valid expression that yields an instance of an entity type.  \n  \n## Return Value  \n A reference to the specified entity instance.  \n  \n## Remarks  \n An entity reference consists of the entity key and an entity set name. Because different entity sets can be based on the same entity type, a particular entity key can appear in multiple entity sets. However, an entity reference is always unique. If the input expression represents a persisted entity, a reference to this entity will be returned. If the input expression is not a persisted entity, a null reference will be returned.  \n  \n If the property extraction operator (.) is used to access a property of an entity, the reference is automatically dereferenced.  \n  \n## Example  \n The following Entity SQL query uses the REF operator to return the reference for an input entity argument. The same query dereferences the reference because we are using a property extraction operation (.) to access a property of the Product entity. The query is based on the AdventureWorks Sales Model. To compile and run this query, follow these steps:  \n  \n1.  Follow the procedure in [How to: Execute a Query that Returns PrimitiveType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md).  \n  \n2.  Pass the following query as an argument to the `ExecutePrimitiveTypeQuery` method:  \n  \n [!code-csharp[DP EntityServices Concepts 2#REF](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#ref)]  \n  \n## See also\n\n- [DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)\n- [CREATEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md)\n- [KEY](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md)\n- [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)\n- [Type Definitions](../../../../../../docs/framework/data/adonet/ef/language-reference/type-definitions-entity-sql.md)\n","nodes":[{"pos":[4,100],"embed":true,"restype":"x-metadata","content":"title: \"REF (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: c5f4cb35-69e9-44cc-b63b-ee38922bbda1","nodes":[{"content":"REF (Entity SQL)","nodes":[{"pos":[0,16],"content":"REF (Entity SQL)","nodes":[{"content":"REF (Entity SQL)","pos":[0,16]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[107,123],"content":"REF (Entity SQL)","linkify":"REF (Entity SQL)","nodes":[{"content":"REF (Entity SQL)","pos":[0,16]}]},{"content":"Returns a reference to an entity instance.","pos":[124,166]},{"pos":[175,181],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[226,235],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"Any valid expression that yields an instance of an entity type.","pos":[255,318]},{"pos":[327,339],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A reference to the specified entity instance.","pos":[343,388]},{"pos":[397,404],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"An entity reference consists of the entity key and an entity set name.","pos":[408,478]},{"content":"Because different entity sets can be based on the same entity type, a particular entity key can appear in multiple entity sets.","pos":[479,606]},{"content":"However, an entity reference is always unique.","pos":[607,653]},{"content":"If the input expression represents a persisted entity, a reference to this entity will be returned.","pos":[654,753]},{"content":"If the input expression is not a persisted entity, a null reference will be returned.","pos":[754,839]},{"content":"If the property extraction operator (.) is used to access a property of an entity, the reference is automatically dereferenced.","pos":[846,973]},{"pos":[982,989],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following Entity SQL query uses the REF operator to return the reference for an input entity argument.","pos":[993,1099]},{"content":"The same query dereferences the reference because we are using a property extraction operation (.) to access a property of the Product entity.","pos":[1100,1242]},{"content":"The query is based on the AdventureWorks Sales Model.","pos":[1243,1296]},{"content":"To compile and run this query, follow these steps:","pos":[1297,1347]},{"pos":[1357,1552],"content":"Follow the procedure in <bpt id=\"p1\">[</bpt>How to: Execute a Query that Returns PrimitiveType Results<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md)</ept>.","source":"Follow the procedure in [How to: Execute a Query that Returns PrimitiveType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md)."},{"pos":[1562,1644],"content":"Pass the following query as an argument to the <ph id=\"ph1\">`ExecutePrimitiveTypeQuery`</ph> method:","source":"Pass the following query as an argument to the `ExecutePrimitiveTypeQuery` method:"},{"pos":[1817,1825],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1829,1924],"content":"<bpt id=\"p1\">[</bpt>DEREF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)</ept>","source":"[DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)"},{"pos":[1927,2030],"content":"<bpt id=\"p1\">[</bpt>CREATEREF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md)</ept>","source":"[CREATEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md)"},{"pos":[2033,2124],"content":"<bpt id=\"p1\">[</bpt>KEY<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md)</ept>","source":"[KEY](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md)"},{"pos":[2127,2241],"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept>","source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)"},{"pos":[2244,2361],"content":"<bpt id=\"p1\">[</bpt>Type Definitions<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/type-definitions-entity-sql.md)</ept>","source":"[Type Definitions](../../../../../../docs/framework/data/adonet/ef/language-reference/type-definitions-entity-sql.md)"}]}