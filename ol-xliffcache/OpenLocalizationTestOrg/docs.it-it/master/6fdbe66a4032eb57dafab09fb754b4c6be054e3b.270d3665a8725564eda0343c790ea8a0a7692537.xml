{"content":"---\ntitle: \"Custom Message Formatters | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: c07435f3-5214-4791-8961-2c2b61306d71\ncaps.latest.revision: 4\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Custom Message Formatters\nThe content in a message is often in the form of XML, which is usually not a convenient format for an application. Applications manipulate objects, getting and setting their properties. [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] uses the *Data Contract* to convert a <xref:System.ServiceModel.Channels.Message> object into an object easily handled by an application. These processes are called serialization and deserialization. Note that these same terms are used to describe the serialization and deserialization done by the transport layer to and from the message wire format, which is an unrelated process.  \n  \n You can use a custom message formatter if you need to implement a specialized conversion between messages and objects that you cannot accomplish by means of a Data Contract. Do this by modifying or extending the execution behavior of a specific contract operation on a client or a service.  \n  \n## Custom Message Formatters on the Client  \n The <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> interface defines methods that are used to control the conversion of messages into objects and objects into messages for client applications.  \n  \n You must implement this interface. First override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A> method to deserialize a message. This method is called after an incoming message is received, but before it is dispatched to the client operation.  \n  \n Next, override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A> method to serialize an object. This method is called prior to sending an outgoing message.  \n  \n To insert the custom formatter into the service application, assign the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> object to the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> property using an operation behavior. For information about behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).  \n  \n## Custom Message Formatters on the Service  \n The <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter> interface defines methods that convert a <xref:System.ServiceModel.Channels.Message> object into parameters for an operation and from parameters into a <xref:System.ServiceModel.Channels.Message> object in a service application.  \n  \n You must implement this interface. First override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A> method to deserialize a message. This method is called after an incoming message is received, but before it is dispatched to the client operation.  \n  \n Next, override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A> method to serialize an object. This method is called prior to sending an outgoing message.  \n  \n To insert the custom formatter into the service application, assign the <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter> object to the <xref:System.ServiceModel.Dispatcher.DispatchOperation.Formatter%2A> property using an operation behavior. For information about behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).  \n  \n## See Also  \n <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter>   \n <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter>   \n [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)","nodes":[{"pos":[12,54],"content":"Custom Message Formatters | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Custom Message Formatters | Microsoft Docs","pos":[0,42]}]},{"pos":[352,377],"content":"Custom Message Formatters","linkify":"Custom Message Formatters","nodes":[{"content":"Custom Message Formatters","pos":[0,25]}]},{"content":"The content in a message is often in the form of XML, which is usually not a convenient format for an application.","pos":[378,492]},{"content":"Applications manipulate objects, getting and setting their properties.","pos":[493,563]},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> uses the <bpt id=\"p1\">*</bpt>Data Contract<ept id=\"p1\">*</ept> to convert a <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.Message&gt;</ph> object into an object easily handled by an application.","pos":[564,757],"source":"[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] uses the *Data Contract* to convert a <xref:System.ServiceModel.Channels.Message> object into an object easily handled by an application."},{"content":"These processes are called serialization and deserialization.","pos":[758,819]},{"content":"Note that these same terms are used to describe the serialization and deserialization done by the transport layer to and from the message wire format, which is an unrelated process.","pos":[820,1001]},{"content":"You can use a custom message formatter if you need to implement a specialized conversion between messages and objects that you cannot accomplish by means of a Data Contract.","pos":[1008,1181]},{"content":"Do this by modifying or extending the execution behavior of a specific contract operation on a client or a service.","pos":[1182,1297]},{"pos":[1306,1345],"content":"Custom Message Formatters on the Client","linkify":"Custom Message Formatters on the Client","nodes":[{"content":"Custom Message Formatters on the Client","pos":[0,39]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IClientMessageFormatter&gt;</ph> interface defines methods that are used to control the conversion of messages into objects and objects into messages for client applications.","pos":[1349,1556],"source":"The <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> interface defines methods that are used to control the conversion of messages into objects and objects into messages for client applications."},{"content":"You must implement this interface.","pos":[1563,1597]},{"content":"First override the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A&gt;</ph> method to deserialize a message.","pos":[1598,1731],"source":" First override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A> method to deserialize a message."},{"content":"This method is called after an incoming message is received, but before it is dispatched to the client operation.","pos":[1732,1845]},{"content":"Next, override the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A&gt;</ph> method to serialize an object.","pos":[1852,1983],"source":"Next, override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A> method to serialize an object."},{"content":"This method is called prior to sending an outgoing message.","pos":[1984,2043]},{"content":"To insert the custom formatter into the service application, assign the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IClientMessageFormatter&gt;</ph> object to the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A&gt;</ph> property using an operation behavior.","pos":[2050,2302],"source":"To insert the custom formatter into the service application, assign the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> object to the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> property using an operation behavior."},{"content":"For information about behaviors, see <bpt id=\"p1\">[</bpt>Configuring and Extending the Runtime with Behaviors<ept id=\"p1\">](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)</ept>.","pos":[2303,2493],"source":" For information about behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)."},{"pos":[2502,2542],"content":"Custom Message Formatters on the Service","linkify":"Custom Message Formatters on the Service","nodes":[{"content":"Custom Message Formatters on the Service","pos":[0,40]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter&gt;</ph> interface defines methods that convert a <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.Message&gt;</ph> object into parameters for an operation and from parameters into a <ph id=\"ph3\">&lt;xref:System.ServiceModel.Channels.Message&gt;</ph> object in a service application.","pos":[2546,2842],"source":"The <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter> interface defines methods that convert a <xref:System.ServiceModel.Channels.Message> object into parameters for an operation and from parameters into a <xref:System.ServiceModel.Channels.Message> object in a service application."},{"content":"You must implement this interface.","pos":[2849,2883]},{"content":"First override the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A&gt;</ph> method to deserialize a message.","pos":[2884,3017],"source":" First override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A> method to deserialize a message."},{"content":"This method is called after an incoming message is received, but before it is dispatched to the client operation.","pos":[3018,3131]},{"content":"Next, override the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A&gt;</ph> method to serialize an object.","pos":[3138,3269],"source":"Next, override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A> method to serialize an object."},{"content":"This method is called prior to sending an outgoing message.","pos":[3270,3329]},{"content":"To insert the custom formatter into the service application, assign the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter&gt;</ph> object to the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Dispatcher.DispatchOperation.Formatter%2A&gt;</ph> property using an operation behavior.","pos":[3336,3592],"source":"To insert the custom formatter into the service application, assign the <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter> object to the <xref:System.ServiceModel.Dispatcher.DispatchOperation.Formatter%2A> property using an operation behavior."},{"content":"For information about behaviors, see <bpt id=\"p1\">[</bpt>Configuring and Extending the Runtime with Behaviors<ept id=\"p1\">](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)</ept>.","pos":[3593,3783],"source":" For information about behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)."},{"pos":[3792,3800],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\"> [</bpt>Configuring and Extending the Runtime with Behaviors<ept id=\"p1\">](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)</ept>","pos":[3937,4090],"source":" [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)"}]}