{"content":"---\ntitle: \"&lt;listeners&gt; Element for &lt;trace&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.diagnostics/trace/listeners\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"<listeners> element\"\n  - \"listeners element\"\nms.assetid: 1394c2c3-6304-46db-87c1-8e8b16f5ad5b\ncaps.latest.revision: 17\nauthor: \"mcleblanc\"\nms.author: \"markl\"\nmanager: \"markl\"\n---\n# &lt;listeners&gt; Element for &lt;trace&gt;\nSpecifies a listener that collects, stores, and routes messages. Listeners direct the tracing output to an appropriate target.  \n  \n \\<configuration> Element  \n\\<system.diagnostics> Element  \n\\<trace> Element  \n\\<listeners> Element for \\<trace>  \n  \n## Syntax  \n  \n```  \n<listeners>   \n  <add>...</add>  \n  <clear/>  \n  <remove ... />  \n</listeners>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n None.  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<add>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/add-element-for-listeners-for-trace.md)|Adds a listener to the `Listeners` collection.|  \n|[\\<clear>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/clear-element-for-listeners-for-trace.md)|Clears the `Listeners` collection for trace.|  \n|[\\<remove>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/remove-element-for-listeners-for-trace.md)|Removes a listener from the `Listeners` collection.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`configuration`|The root element in every configuration file used by the common language runtime and .NET Framework applications.|  \n|`system.diagnostics`|Specifies the root element for the ASP.NET configuration section.|  \n|`trace`|Contains listeners that collect, store, and route tracing messages.|  \n  \n## Remarks  \n The <xref:System.Diagnostics.Debug> and <xref:System.Diagnostics.Trace> classes share the same **Listeners** collection. If you add a listener object to the collection in one of these classes, the other class uses the same listener. The listener classes shipped with the .NET Framework derive from the <xref:System.Diagnostics.TraceListener> class.  \n  \n## Configuration File  \n This element can be used in the machine configuration file (Machine.config) and the application configuration file.  \n  \n## Example  \n The following example shows how to use the **\\<listeners>** element to add the listeners `MyListener` and `MyEventListener` to the **Listeners** collection. `MyListener` creates a file called `MyListener.log` and writes the output to the file. `MyEventListener` creates an entry in the event log.  \n  \n```  \n<configuration>  \n  <system.diagnostics>  \n    <trace autoflush=\"true\" indentsize=\"0\">  \n      <listeners>  \n        <add name=\"myListener\"   \n          type=\"System.Diagnostics.TextWriterTraceListener,   \n            system, version=1.0.3300.0, Culture=neutral,   \n            PublicKeyToken=b77a5c561934e089\"   \n          initializeData=\"c:\\myListener.log\" />  \n        <add name=\"MyEventListener\"  \n          type=\"System.Diagnostics.EventLogTraceListener,   \n            system, version=1.0.3300.0, Culture=neutral,   \n            PublicKeyToken=b77a5c561934e089\"  \n          initializeData=\"MyConfigEventLog\"/>  \n      </listeners>  \n    </trace>  \n  </system.diagnostics>  \n</configuration>  \n```  \n  \n## See Also  \n <xref:System.Diagnostics.TraceListener>   \n [Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)","nodes":[{"pos":[12,72],"content":"&lt;listeners&gt; Element for &lt;trace&gt; | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>listeners<ph id=\"ph2\">&amp;gt;</ph> Element for <ph id=\"ph3\">&amp;lt;</ph>trace<ph id=\"ph4\">&amp;gt;</ph> | Microsoft Docs","pos":[0,60],"source":"&lt;listeners&gt; Element for &lt;trace&gt; | Microsoft Docs"}]},{"pos":[622,665],"content":"&lt;listeners&gt; Element for &lt;trace&gt;","linkify":"&lt;listeners&gt; Element for &lt;trace&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>listeners<ph id=\"ph2\">&amp;gt;</ph> Element for <ph id=\"ph3\">&amp;lt;</ph>trace<ph id=\"ph4\">&amp;gt;</ph>","pos":[0,43],"source":"&lt;listeners&gt; Element for &lt;trace&gt;"}]},{"content":"Specifies a listener that collects, stores, and routes messages.","pos":[666,730]},{"content":"Listeners direct the tracing output to an appropriate target.","pos":[731,792]},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt; Element","pos":[799,823],"source":"\\<configuration> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.diagnostics&gt; Element","pos":[826,855],"source":"\\<system.diagnostics> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>trace&gt; Element","pos":[858,874],"source":"\\<trace> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>listeners&gt; Element for <ph id=\"ph2\">\\&lt;</ph>trace&gt;","pos":[877,910],"source":"\\<listeners> Element for \\<trace>"},{"pos":[919,925],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1030,1053],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[1057,1137]},{"pos":[1147,1157],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"None.","pos":[1161,1166]},{"pos":[1176,1190],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[1197,1204]},{"content":"Description","pos":[1205,1216]},{"pos":[1257,1374],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/add-element-for-listeners-for-trace.md)</ept>","source":"[\\<add>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/add-element-for-listeners-for-trace.md)"},{"pos":[1375,1421],"content":"Adds a listener to the <ph id=\"ph1\">`Listeners`</ph> collection.","source":"Adds a listener to the `Listeners` collection."},{"pos":[1426,1547],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>clear&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/clear-element-for-listeners-for-trace.md)</ept>","source":"[\\<clear>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/clear-element-for-listeners-for-trace.md)"},{"pos":[1548,1592],"content":"Clears the <ph id=\"ph1\">`Listeners`</ph> collection for trace.","source":"Clears the `Listeners` collection for trace."},{"pos":[1597,1720],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>remove&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/remove-element-for-listeners-for-trace.md)</ept>","source":"[\\<remove>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/remove-element-for-listeners-for-trace.md)"},{"pos":[1721,1772],"content":"Removes a listener from the <ph id=\"ph1\">`Listeners`</ph> collection.","source":"Removes a listener from the `Listeners` collection."},{"pos":[1783,1798],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1805,1812]},{"content":"Description","pos":[1813,1824]},{"content":"The root element in every configuration file used by the common language runtime and .NET Framework applications.","pos":[1881,1994]},{"content":"Specifies the root element for the ASP.NET configuration section.","pos":[2020,2085]},{"content":"Contains listeners that collect, store, and route tracing messages.","pos":[2098,2165]},{"pos":[2175,2182],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.Debug&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Diagnostics.Trace&gt;</ph> classes share the same <bpt id=\"p1\">**</bpt>Listeners<ept id=\"p1\">**</ept> collection.","pos":[2186,2306],"source":"The <xref:System.Diagnostics.Debug> and <xref:System.Diagnostics.Trace> classes share the same **Listeners** collection."},{"content":"If you add a listener object to the collection in one of these classes, the other class uses the same listener.","pos":[2307,2418]},{"content":"The listener classes shipped with the .NET Framework derive from the <ph id=\"ph1\">&lt;xref:System.Diagnostics.TraceListener&gt;</ph> class.","pos":[2419,2534],"source":" The listener classes shipped with the .NET Framework derive from the <xref:System.Diagnostics.TraceListener> class."},{"pos":[2543,2561],"content":"Configuration File","linkify":"Configuration File","nodes":[{"content":"Configuration File","pos":[0,18]}]},{"content":"This element can be used in the machine configuration file (Machine.config) and the application configuration file.","pos":[2565,2680]},{"pos":[2689,2696],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows how to use the <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\&lt;</ph>listeners&gt;<ept id=\"p1\">**</ept> element to add the listeners <ph id=\"ph2\">`MyListener`</ph> and <ph id=\"ph3\">`MyEventListener`</ph> to the <bpt id=\"p2\">**</bpt>Listeners<ept id=\"p2\">**</ept> collection.","pos":[2700,2856],"source":"The following example shows how to use the **\\<listeners>** element to add the listeners `MyListener` and `MyEventListener` to the **Listeners** collection."},{"content":"<ph id=\"ph1\">`MyListener`</ph> creates a file called <ph id=\"ph2\">`MyListener.log`</ph> and writes the output to the file.","pos":[2857,2943],"source":"`MyListener` creates a file called `MyListener.log` and writes the output to the file."},{"content":"<ph id=\"ph1\">`MyEventListener`</ph> creates an entry in the event log.","pos":[2944,2996],"source":"`MyEventListener` creates an entry in the event log."},{"pos":[3719,3727],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\"> [</bpt>Trace and Debug Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)</ept>","pos":[3774,3887],"source":" [Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)"}]}