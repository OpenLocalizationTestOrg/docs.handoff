{"content":"---\ntitle: \"HAVING (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: b5d52d97-8372-4335-beac-2d0b79dc3707\n---\n# HAVING (Entity SQL)\nSpecifies a search condition for a group or an aggregate.  \n  \n## Syntax  \n  \n```  \n[ HAVING search_condition ]  \n```  \n  \n## Arguments  \n `search_condition`  \n Specifies the search condition for the group or the aggregate to meet. When HAVING is used with GROUP BY ALL, the HAVING clause overrides ALL.  \n  \n## Remarks  \n The HAVING clause is used to specify an additional filtering condition on the result of a grouping. If no GROUP BY clause is specified in the query expression, an implicit single-set group is assumed.  \n  \n> [!NOTE]\n>  HAVING can be used only with the [SELECT](../../../../../../docs/framework/data/adonet/ef/language-reference/select-entity-sql.md) statement. When [GROUP BY](../../../../../../docs/framework/data/adonet/ef/language-reference/group-by-entity-sql.md) is not used, HAVING behaves like a WHERE clause.  \n  \n The HAVING clause works like the WHERE clause except that it is applied after the GROUP BY operation. This means that the HAVING clause can only make references to grouping aliases and aggregates, as illustrated in the following example.  \n  \n```  \nSELECT Name, SUM(o.Price * o.Quantity) AS Total FROM orderLines AS o GROUP BY o.Product AS Name  \nHAVING SUM(o.Quantity) > 1  \n```  \n  \n The previous restricts the groups to only those that include more than one product.  \n  \n## Example  \n The following Entity SQL query uses the HAVING and GROUP BY operators to specify a search condition for a group or an aggregate. The query is based on the AdventureWorks Sales Model. To compile and run this query, follow these steps:  \n  \n1.  Follow the procedure in [How to: Execute a Query that Returns PrimitiveType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md).  \n  \n2.  Pass the following query as an argument to the `ExecutePrimitiveTypeQuery` method:  \n  \n [!code-csharp[DP EntityServices Concepts 2#HAVING](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#having)]  \n  \n## See also\n\n- [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)\n- [Query Expressions](../../../../../../docs/framework/data/adonet/ef/language-reference/query-expressions-entity-sql.md)\n","nodes":[{"pos":[4,103],"embed":true,"restype":"x-metadata","content":"title: \"HAVING (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: b5d52d97-8372-4335-beac-2d0b79dc3707","nodes":[{"content":"HAVING (Entity SQL)","nodes":[{"pos":[0,19],"content":"HAVING (Entity SQL)","nodes":[{"content":"HAVING (Entity SQL)","pos":[0,19]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[110,129],"content":"HAVING (Entity SQL)","linkify":"HAVING (Entity SQL)","nodes":[{"content":"HAVING (Entity SQL)","pos":[0,19]}]},{"content":"Specifies a search condition for a group or an aggregate.","pos":[130,187]},{"pos":[196,202],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[256,265],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"Specifies the search condition for the group or the aggregate to meet.","pos":[291,361]},{"content":"When HAVING is used with GROUP BY ALL, the HAVING clause overrides ALL.","pos":[362,433]},{"pos":[442,449],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The HAVING clause is used to specify an additional filtering condition on the result of a grouping.","pos":[453,552]},{"content":"If no GROUP BY clause is specified in the query expression, an implicit single-set group is assumed.","pos":[553,653]},{"pos":[661,969],"content":"[!NOTE]\n HAVING can be used only with the [SELECT](../../../../../../docs/framework/data/adonet/ef/language-reference/select-entity-sql.md) statement. When [GROUP BY](../../../../../../docs/framework/data/adonet/ef/language-reference/group-by-entity-sql.md) is not used, HAVING behaves like a WHERE clause.","leadings":["","> "],"nodes":[{"content":"HAVING can be used only with the [SELECT](../../../../../../docs/framework/data/adonet/ef/language-reference/select-entity-sql.md) statement. When [GROUP BY](../../../../../../docs/framework/data/adonet/ef/language-reference/group-by-entity-sql.md) is not used, HAVING behaves like a WHERE clause.","pos":[9,306],"nodes":[{"content":"HAVING can be used only with the <bpt id=\"p1\">[</bpt>SELECT<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/select-entity-sql.md)</ept> statement.","pos":[0,141],"source":"HAVING can be used only with the [SELECT](../../../../../../docs/framework/data/adonet/ef/language-reference/select-entity-sql.md) statement."},{"content":"When <bpt id=\"p1\">[</bpt>GROUP BY<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/group-by-entity-sql.md)</ept> is not used, HAVING behaves like a WHERE clause.","pos":[142,297],"source":" When [GROUP BY](../../../../../../docs/framework/data/adonet/ef/language-reference/group-by-entity-sql.md) is not used, HAVING behaves like a WHERE clause."}]}]},{"content":"The HAVING clause works like the WHERE clause except that it is applied after the GROUP BY operation.","pos":[976,1077]},{"content":"This means that the HAVING clause can only make references to grouping aliases and aggregates, as illustrated in the following example.","pos":[1078,1213]},{"content":"The previous restricts the groups to only those that include more than one product.","pos":[1362,1445]},{"pos":[1454,1461],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following Entity SQL query uses the HAVING and GROUP BY operators to specify a search condition for a group or an aggregate.","pos":[1465,1593]},{"content":"The query is based on the AdventureWorks Sales Model.","pos":[1594,1647]},{"content":"To compile and run this query, follow these steps:","pos":[1648,1698]},{"pos":[1708,1903],"content":"Follow the procedure in <bpt id=\"p1\">[</bpt>How to: Execute a Query that Returns PrimitiveType Results<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md)</ept>.","source":"Follow the procedure in [How to: Execute a Query that Returns PrimitiveType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md)."},{"pos":[1913,1995],"content":"Pass the following query as an argument to the <ph id=\"ph1\">`ExecutePrimitiveTypeQuery`</ph> method:","source":"Pass the following query as an argument to the `ExecutePrimitiveTypeQuery` method:"},{"pos":[2174,2182],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2186,2300],"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept>","source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)"},{"pos":[2303,2422],"content":"<bpt id=\"p1\">[</bpt>Query Expressions<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/query-expressions-entity-sql.md)</ept>","source":"[Query Expressions](../../../../../../docs/framework/data/adonet/ef/language-reference/query-expressions-entity-sql.md)"}]}