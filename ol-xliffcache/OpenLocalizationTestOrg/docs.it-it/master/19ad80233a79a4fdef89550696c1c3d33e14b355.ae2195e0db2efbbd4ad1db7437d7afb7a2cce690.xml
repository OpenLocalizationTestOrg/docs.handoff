{"content":"---\ntitle: \"Retargeting Changes in the .NET Framework 4.6 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"retargeting changes, .NET Framework\"\n  - \"retargeting changes, .NET Framework 4.6\"\n  - \"application compatibility\"\nms.assetid: fa849255-f90f-4bf1-b0ff-b173c12110d7\ncaps.latest.revision: 15\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Retargeting Changes in the .NET Framework 4.6\nIn rare cases, retargeting changes may affect apps that are recompiled to target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)]. Unless specified otherwise, these changes do not affect binaries that target a previous version of the .NET Framework but are running under the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)].  \n  \n The [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] includes retargeting changes in the following areas:  \n  \n-   [Core](#Core)  \n  \n-   [ASP.NET](#ASP)  \n  \n-   [Networking](#Net)  \n  \n-   [Windows Communications Foundation (WCF)](#WCF)  \n  \n-   [Windows Forms](#WinForms)  \n  \n-   [Windows Presentation Foundation (WPF)](#WPF)  \n  \n-   [XML](#XML)  \n  \n<a name=\"Core\"></a>   \n## Core  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName>, <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>, and task-based asynchronous operations with <xref:System.Threading.Tasks.Task> and <xref:System.Threading.Tasks.Task%601>|For apps that target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] and later versions, <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> are stored in a thread's <xref:System.Threading.ExecutionContext>, which flows across asynchronous operations.|Changes to the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> properties will be reflected in asynchronous tasks which are launched subsequently. For more information, see [Mitigation: Culture and Asynchronous Operations](../../../docs/framework/migration-guide/mitigation-culture-and-asynchronous-operations.md).|Minor|  \n  \n<a name=\"ASP\"></a>   \n## ASP.NET  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName> with a `tagKey` value of <xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName>|In conformance with the HTML standard, the <xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName> method now renders <xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName> as a non-closing tag in an HTML response.|The BR tag now produces one line break. Previously, it produced two line breaks.<br /><br /> Apps that depend on the `<BR>` tag to produce two line breaks can restore the previous behavior by adding an additional call to the <xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName> method with the <xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName> argument.|Minor|  \n  \n<a name=\"Net\"></a>   \n## Networking  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.Net.ServicePointManager?displayProperty=fullName> and <xref:System.Net.Security.SslStream?displayProperty=fullName>|Starting with apps that target the .NET Framework 4.6, the <xref:System.Net.ServicePointManager?displayProperty=fullName> and <xref:System.Net.Security.SslStream?displayProperty=fullName> classes are allowed to use one of the following three protocols: Tls1.0, Tls1.1, or Tls 1.2.<br /><br /> Apps that target a previous version of the NET Framework, even if they run on the NET Framework 4.6, are unaffected.|This change affects any app that targets the .NET Framework 4.6 and that uses SSL to talk to an HTTPS server or a socket server using any of the following types: <xref:System.Net.Http.HttpClient>, <xref:System.Net.HttpWebRequest>, <xref:System.Net.FtpWebRequest>, <xref:System.Net.Mail.SmtpClient>, and <xref:System.Net.Security.SslStream>.  For more information, see [Mitigation: TLS Protocols](../../../docs/framework/migration-guide/mitigation-tls-protocols.md).|Minor|  \n  \n<a name=\"WCF\"></a>   \n## Windows Communications Foundation (WCF)  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.IdentityModel.Policy.AuthorizationContext.CreateDefaultAuthorizationContext%2A?displayProperty=fullName>|The implementation of the <xref:System.IdentityModel.Policy.AuthorizationContext> returned by a call to the <xref:System.IdentityModel.Policy.AuthorizationContext.CreateDefaultAuthorizationContext%28System.Collections.Generic.IList%7BSystem.IdentityModel.Policy.IAuthorizationPolicy%7D%29> with a `null``authorizationPolicies` argument has changed its implementation in the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)].|In rare cases, WCF apps that use custom authentication may see behavioral differences. If the old behavior is needed, see [Mitigation: Default AuthorizationContext](../../../docs/framework/migration-guide/mitigation-default-authorizationcontext.md).|Minor|  \n  \n<a name=\"WinForms\"></a>   \n## Windows Forms  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=fullName>|Starting with the apps that target the .NET Framework 4.6, the <xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=fullName> method successfully converts icons with PNG frames into <xref:System.Drawing.Bitmap> objects.<br /><br /> In apps that target the .NET Framework 4.5.2 and earlier versions, the <xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=fullName> method throws an <xref:System.ArgumentOutOfRangeException> exception if the <xref:System.Drawing.Icon> object has PNG frames.|This change affects apps that are recompiled to target the .NET Framework 4.6 and that provide special handling for the <xref:System.ArgumentOutOfRangeException> exception that is thrown if an <xref:System.Drawing.Icon> object has PNG frames. If this behavior is undesirable, a configuration switch restores the previous behavior. For more information, see [Mitigation: PNG Frames in Icon Objects](../../../docs/framework/migration-guide/mitigation-png-frames-in-icon-objects.md).|Minor|  \n  \n<a name=\"WPF\"></a>   \n## Windows Presentation Foundation (WPF)  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>|In apps that target the .NET Framework 4.6 and the .NET Framework 4.6.1, changes to the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> or <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> properties that are made within a <xref:System.Windows.Threading.Dispatcher> are lost at the end of that dispatcher operation. Similarly, changes to <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> or <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> made outside of a dispatcher operation may not be reflected when that operation executes.|Changes to the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and  <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> properties may not flow between WPF UI callbacks and other code in a WPF application. For more information, see [Mitigation: Culture and Dispatcher Operations in WPF Apps](../../../docs/framework/migration-guide/mitigation-culture-and-dispatcher-operations-in-wpf-apps.md).|Minor|  \n|Layout rounding at high DPIs|The way in which margins are rounded and borders and the background inside of them has changed.|The layout of WPF controls can change slightly. For more information, see [Mitigation: WPF Layout](../../../docs/framework/migration-guide/mitigation-wpf-layout.md).|Minor|  \n  \n<a name=\"XML\"></a>   \n## XML  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|XSD schema validation|Starting with the .NET Framework 4.6, XSD schema validation detects violation of the unique constraint if a compound key is used and one key is empty.|See [Mitigation: XML Schema Validation](../../../docs/framework/migration-guide/mitigation-xml-schema-validation.md)|Minor|  \n|<xref:System.Xml.XmlWriter>|For apps that target the .NET Framework 4.5.2 or previous versions, writing an invalid surrogate pair using exception fallback handling does not always throw an exception.<br /><br /> For apps that target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)], attempting to write an invalid surrogate pair throws an <xref:System.ArgumentException> exception.|Apps that are recompiled to target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] and that write invalid surrogate pairs will throw an exception in cases when previously they did not.|Edge|","nodes":[{"pos":[12,74],"content":"Retargeting Changes in the .NET Framework 4.6 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Retargeting Changes in the .NET Framework 4.6 | Microsoft Docs","pos":[0,62]}]},{"pos":[520,565],"content":"Retargeting Changes in the .NET Framework 4.6","linkify":"Retargeting Changes in the .NET Framework 4.6","nodes":[{"content":"Retargeting Changes in the .NET Framework 4.6","pos":[0,45]}]},{"content":"In rare cases, retargeting changes may affect apps that are recompiled to target the <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph>.","pos":[566,704],"source":"In rare cases, retargeting changes may affect apps that are recompiled to target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)]."},{"content":"Unless specified otherwise, these changes do not affect binaries that target a previous version of the .NET Framework but are running under the <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph>.","pos":[705,902],"source":" Unless specified otherwise, these changes do not affect binaries that target a previous version of the .NET Framework but are running under the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)]."},{"pos":[909,1018],"content":"The <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph> includes retargeting changes in the following areas:","source":"The [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] includes retargeting changes in the following areas:"},{"pos":[1028,1041],"content":"<bpt id=\"p1\">[</bpt>Core<ept id=\"p1\">](#Core)</ept>","source":"[Core](#Core)"},{"pos":[1051,1066],"content":"<bpt id=\"p1\">[</bpt>ASP.NET<ept id=\"p1\">](#ASP)</ept>","source":"[ASP.NET](#ASP)"},{"pos":[1076,1094],"content":"<bpt id=\"p1\">[</bpt>Networking<ept id=\"p1\">](#Net)</ept>","source":"[Networking](#Net)"},{"pos":[1104,1151],"content":"<bpt id=\"p1\">[</bpt>Windows Communications Foundation (WCF)<ept id=\"p1\">](#WCF)</ept>","source":"[Windows Communications Foundation (WCF)](#WCF)"},{"pos":[1161,1187],"content":"<bpt id=\"p1\">[</bpt>Windows Forms<ept id=\"p1\">](#WinForms)</ept>","source":"[Windows Forms](#WinForms)"},{"pos":[1197,1242],"content":"<bpt id=\"p1\">[</bpt>Windows Presentation Foundation (WPF)<ept id=\"p1\">](#WPF)</ept>","source":"[Windows Presentation Foundation (WPF)](#WPF)"},{"pos":[1252,1263],"content":"<bpt id=\"p1\">[</bpt>XML<ept id=\"p1\">](#XML)</ept>","source":"[XML](#XML)"},{"pos":[1295,1299],"content":"Core","linkify":"Core","nodes":[{"content":"Core","pos":[0,4]}]},{"content":"Feature","pos":[1306,1313]},{"content":"Change","pos":[1314,1320]},{"content":"Impact","pos":[1321,1327]},{"content":"Scope","pos":[1328,1333]},{"content":"<ph id=\"ph1\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName&gt;</ph>, and task-based asynchronous operations with <ph id=\"ph3\">&lt;xref:System.Threading.Tasks.Task&gt;</ph> and <ph id=\"ph4\">&lt;xref:System.Threading.Tasks.Task%601&gt;</ph>","pos":[1394,1685],"source":"<xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName>, <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>, and task-based asynchronous operations with <xref:System.Threading.Tasks.Task> and <xref:System.Threading.Tasks.Task%601>"},{"pos":[1686,2066],"content":"For apps that target the <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph> and later versions, <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName&gt;</ph> are stored in a thread's <ph id=\"ph4\">&lt;xref:System.Threading.ExecutionContext&gt;</ph>, which flows across asynchronous operations.","source":"For apps that target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] and later versions, <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> are stored in a thread's <xref:System.Threading.ExecutionContext>, which flows across asynchronous operations."},{"content":"Changes to the <ph id=\"ph1\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName&gt;</ph> properties will be reflected in asynchronous tasks which are launched subsequently.","pos":[2067,2337],"source":"Changes to the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> properties will be reflected in asynchronous tasks which are launched subsequently."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Mitigation: Culture and Asynchronous Operations<ept id=\"p1\">](../../../docs/framework/migration-guide/mitigation-culture-and-asynchronous-operations.md)</ept>.","pos":[2338,2505],"source":" For more information, see [Mitigation: Culture and Asynchronous Operations](../../../docs/framework/migration-guide/mitigation-culture-and-asynchronous-operations.md)."},{"content":"Minor","pos":[2506,2511]},{"pos":[2543,2550],"content":"ASP.NET","linkify":"ASP.NET","nodes":[{"content":"ASP.NET","pos":[0,7]}]},{"content":"Feature","pos":[2557,2564]},{"content":"Change","pos":[2565,2571]},{"content":"Impact","pos":[2572,2578]},{"content":"Scope","pos":[2579,2584]},{"pos":[2645,2846],"content":"<ph id=\"ph1\">&lt;xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName&gt;</ph> with a <ph id=\"ph2\">`tagKey`</ph> value of <ph id=\"ph3\">&lt;xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName&gt;</ph>","source":"<xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName> with a `tagKey` value of <xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName>"},{"content":"In conformance with the HTML standard, the <ph id=\"ph1\">&lt;xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName&gt;</ph> method now renders <ph id=\"ph2\">&lt;xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName&gt;</ph> as a non-closing tag in an HTML response.","pos":[2847,3127],"source":"In conformance with the HTML standard, the <xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName> method now renders <xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName> as a non-closing tag in an HTML response."},{"content":"The BR tag now produces one line break.","pos":[3128,3167]},{"content":"Previously, it produced two line breaks.","pos":[3168,3208]},{"content":"Apps that depend on the <ph id=\"ph1\">`&lt;BR&gt;`</ph> tag to produce two line breaks can restore the previous behavior by adding an additional call to the <ph id=\"ph2\">&lt;xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName&gt;</ph> method with the <ph id=\"ph3\">&lt;xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName&gt;</ph> argument.","pos":[3221,3555],"source":" Apps that depend on the `<BR>` tag to produce two line breaks can restore the previous behavior by adding an additional call to the <xref:System.Web.UI.HtmlTextWriter.RenderBeginTag%28System.Web.UI.HtmlTextWriterTag%29?displayProperty=fullName> method with the <xref:System.Web.UI.HtmlTextWriterTag?displayProperty=fullName> argument."},{"content":"Minor","pos":[3556,3561]},{"pos":[3593,3603],"content":"Networking","linkify":"Networking","nodes":[{"content":"Networking","pos":[0,10]}]},{"content":"Feature","pos":[3610,3617]},{"content":"Change","pos":[3618,3624]},{"content":"Impact","pos":[3625,3631]},{"content":"Scope","pos":[3632,3637]},{"content":"<ph id=\"ph1\">&lt;xref:System.Net.ServicePointManager?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Net.Security.SslStream?displayProperty=fullName&gt;</ph>","pos":[3698,3826],"source":"<xref:System.Net.ServicePointManager?displayProperty=fullName> and <xref:System.Net.Security.SslStream?displayProperty=fullName>"},{"content":"Starting with apps that target the .NET Framework 4.6, the <ph id=\"ph1\">&lt;xref:System.Net.ServicePointManager?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Net.Security.SslStream?displayProperty=fullName&gt;</ph> classes are allowed to use one of the following three protocols: Tls1.0, Tls1.1, or Tls 1.2.","pos":[3827,4107],"source":"Starting with apps that target the .NET Framework 4.6, the <xref:System.Net.ServicePointManager?displayProperty=fullName> and <xref:System.Net.Security.SslStream?displayProperty=fullName> classes are allowed to use one of the following three protocols: Tls1.0, Tls1.1, or Tls 1.2."},{"content":"Apps that target a previous version of the NET Framework, even if they run on the NET Framework 4.6, are unaffected.","pos":[4120,4236]},{"content":"This change affects any app that targets the .NET Framework 4.6 and that uses SSL to talk to an HTTPS server or a socket server using any of the following types: <ph id=\"ph1\">&lt;xref:System.Net.Http.HttpClient&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Net.HttpWebRequest&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Net.FtpWebRequest&gt;</ph>, <ph id=\"ph4\">&lt;xref:System.Net.Mail.SmtpClient&gt;</ph>, and <ph id=\"ph5\">&lt;xref:System.Net.Security.SslStream&gt;</ph>.","pos":[4237,4577],"source":"This change affects any app that targets the .NET Framework 4.6 and that uses SSL to talk to an HTTPS server or a socket server using any of the following types: <xref:System.Net.Http.HttpClient>, <xref:System.Net.HttpWebRequest>, <xref:System.Net.FtpWebRequest>, <xref:System.Net.Mail.SmtpClient>, and <xref:System.Net.Security.SslStream>."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Mitigation: TLS Protocols<ept id=\"p1\">](../../../docs/framework/migration-guide/mitigation-tls-protocols.md)</ept>.","pos":[4579,4702],"source":"  For more information, see [Mitigation: TLS Protocols](../../../docs/framework/migration-guide/mitigation-tls-protocols.md)."},{"content":"Minor","pos":[4703,4708]},{"pos":[4740,4779],"content":"Windows Communications Foundation (WCF)","linkify":"Windows Communications Foundation (WCF)","nodes":[{"content":"Windows Communications Foundation (WCF)","pos":[0,39]}]},{"content":"Feature","pos":[4786,4793]},{"content":"Change","pos":[4794,4800]},{"content":"Impact","pos":[4801,4807]},{"content":"Scope","pos":[4808,4813]},{"pos":[4992,5419],"content":"The implementation of the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Policy.AuthorizationContext&gt;</ph> returned by a call to the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Policy.AuthorizationContext.CreateDefaultAuthorizationContext%28System.Collections.Generic.IList%7BSystem.IdentityModel.Policy.IAuthorizationPolicy%7D%29&gt;</ph> with a <ph id=\"ph3\">`null``authorizationPolicies`</ph> argument has changed its implementation in the <ph id=\"ph4\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph>.","source":"The implementation of the <xref:System.IdentityModel.Policy.AuthorizationContext> returned by a call to the <xref:System.IdentityModel.Policy.AuthorizationContext.CreateDefaultAuthorizationContext%28System.Collections.Generic.IList%7BSystem.IdentityModel.Policy.IAuthorizationPolicy%7D%29> with a `null``authorizationPolicies` argument has changed its implementation in the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)]."},{"content":"In rare cases, WCF apps that use custom authentication may see behavioral differences.","pos":[5420,5506]},{"content":"If the old behavior is needed, see <bpt id=\"p1\">[</bpt>Mitigation: Default AuthorizationContext<ept id=\"p1\">](../../../docs/framework/migration-guide/mitigation-default-authorizationcontext.md)</ept>.","pos":[5507,5669],"source":" If the old behavior is needed, see [Mitigation: Default AuthorizationContext](../../../docs/framework/migration-guide/mitigation-default-authorizationcontext.md)."},{"content":"Minor","pos":[5670,5675]},{"pos":[5712,5725],"content":"Windows Forms","linkify":"Windows Forms","nodes":[{"content":"Windows Forms","pos":[0,13]}]},{"content":"Feature","pos":[5732,5739]},{"content":"Change","pos":[5740,5746]},{"content":"Impact","pos":[5747,5753]},{"content":"Scope","pos":[5754,5759]},{"content":"Starting with the apps that target the .NET Framework 4.6, the <ph id=\"ph1\">&lt;xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=fullName&gt;</ph> method successfully converts icons with PNG frames into <ph id=\"ph2\">&lt;xref:System.Drawing.Bitmap&gt;</ph> objects.","pos":[5884,6104],"source":"Starting with the apps that target the .NET Framework 4.6, the <xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=fullName> method successfully converts icons with PNG frames into <xref:System.Drawing.Bitmap> objects."},{"content":"In apps that target the .NET Framework 4.5.2 and earlier versions, the <ph id=\"ph1\">&lt;xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=fullName&gt;</ph> method throws an <ph id=\"ph2\">&lt;xref:System.ArgumentOutOfRangeException&gt;</ph> exception if the <ph id=\"ph3\">&lt;xref:System.Drawing.Icon&gt;</ph> object has PNG frames.","pos":[6117,6377],"source":"In apps that target the .NET Framework 4.5.2 and earlier versions, the <xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=fullName> method throws an <xref:System.ArgumentOutOfRangeException> exception if the <xref:System.Drawing.Icon> object has PNG frames."},{"content":"This change affects apps that are recompiled to target the .NET Framework 4.6 and that provide special handling for the <ph id=\"ph1\">&lt;xref:System.ArgumentOutOfRangeException&gt;</ph> exception that is thrown if an <ph id=\"ph2\">&lt;xref:System.Drawing.Icon&gt;</ph> object has PNG frames.","pos":[6378,6620],"source":"This change affects apps that are recompiled to target the .NET Framework 4.6 and that provide special handling for the <xref:System.ArgumentOutOfRangeException> exception that is thrown if an <xref:System.Drawing.Icon> object has PNG frames."},{"content":"If this behavior is undesirable, a configuration switch restores the previous behavior.","pos":[6621,6708]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Mitigation: PNG Frames in Icon Objects<ept id=\"p1\">](../../../docs/framework/migration-guide/mitigation-png-frames-in-icon-objects.md)</ept>.","pos":[6709,6858],"source":" For more information, see [Mitigation: PNG Frames in Icon Objects](../../../docs/framework/migration-guide/mitigation-png-frames-in-icon-objects.md)."},{"content":"Minor","pos":[6859,6864]},{"pos":[6896,6933],"content":"Windows Presentation Foundation (WPF)","linkify":"Windows Presentation Foundation (WPF)","nodes":[{"content":"Windows Presentation Foundation (WPF)","pos":[0,37]}]},{"content":"Feature","pos":[6940,6947]},{"content":"Change","pos":[6948,6954]},{"content":"Impact","pos":[6955,6961]},{"content":"Scope","pos":[6962,6967]},{"content":"<ph id=\"ph1\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName&gt;</ph>","pos":[7028,7199],"source":"<xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>"},{"content":"In apps that target the .NET Framework 4.6 and the .NET Framework 4.6.1, changes to the <ph id=\"ph1\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName&gt;</ph> properties that are made within a <ph id=\"ph3\">&lt;xref:System.Windows.Threading.Dispatcher&gt;</ph> are lost at the end of that dispatcher operation.","pos":[7200,7585],"source":"In apps that target the .NET Framework 4.6 and the .NET Framework 4.6.1, changes to the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> or <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> properties that are made within a <xref:System.Windows.Threading.Dispatcher> are lost at the end of that dispatcher operation."},{"content":"Similarly, changes to <ph id=\"ph1\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName&gt;</ph> made outside of a dispatcher operation may not be reflected when that operation executes.","pos":[7586,7868],"source":" Similarly, changes to <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> or <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> made outside of a dispatcher operation may not be reflected when that operation executes."},{"content":"Changes to the <ph id=\"ph1\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName&gt;</ph> and  <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName&gt;</ph> properties may not flow between WPF UI callbacks and other code in a WPF application.","pos":[7869,8142],"source":"Changes to the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=fullName> and  <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> properties may not flow between WPF UI callbacks and other code in a WPF application."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Mitigation: Culture and Dispatcher Operations in WPF Apps<ept id=\"p1\">](../../../docs/framework/migration-guide/mitigation-culture-and-dispatcher-operations-in-wpf-apps.md)</ept>.","pos":[8143,8330],"source":" For more information, see [Mitigation: Culture and Dispatcher Operations in WPF Apps](../../../docs/framework/migration-guide/mitigation-culture-and-dispatcher-operations-in-wpf-apps.md)."},{"content":"Minor","pos":[8331,8336]},{"content":"Layout rounding at high DPIs","pos":[8341,8369]},{"content":"The way in which margins are rounded and borders and the background inside of them has changed.","pos":[8370,8465]},{"content":"The layout of WPF controls can change slightly.","pos":[8466,8513]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Mitigation: WPF Layout<ept id=\"p1\">](../../../docs/framework/migration-guide/mitigation-wpf-layout.md)</ept>.","pos":[8514,8631],"source":" For more information, see [Mitigation: WPF Layout](../../../docs/framework/migration-guide/mitigation-wpf-layout.md)."},{"content":"Minor","pos":[8632,8637]},{"pos":[8669,8672],"content":"XML","linkify":"XML","nodes":[{"content":"XML","pos":[0,3]}]},{"content":"Feature","pos":[8679,8686]},{"content":"Change","pos":[8687,8693]},{"content":"Impact","pos":[8694,8700]},{"content":"Scope","pos":[8701,8706]},{"content":"XSD schema validation","pos":[8767,8788]},{"content":"Starting with the .NET Framework 4.6, XSD schema validation detects violation of the unique constraint if a compound key is used and one key is empty.","pos":[8789,8939]},{"pos":[8940,9056],"content":"See <bpt id=\"p1\">[</bpt>Mitigation: XML Schema Validation<ept id=\"p1\">](../../../docs/framework/migration-guide/mitigation-xml-schema-validation.md)</ept>","source":"See [Mitigation: XML Schema Validation](../../../docs/framework/migration-guide/mitigation-xml-schema-validation.md)"},{"content":"Minor","pos":[9057,9062]},{"content":"For apps that target the .NET Framework 4.5.2 or previous versions, writing an invalid surrogate pair using exception fallback handling does not always throw an exception.","pos":[9095,9266]},{"content":"For apps that target the <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph>, attempting to write an invalid surrogate pair throws an <ph id=\"ph2\">&lt;xref:System.ArgumentException&gt;</ph> exception.","pos":[9279,9456],"source":" For apps that target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)], attempting to write an invalid surrogate pair throws an <xref:System.ArgumentException> exception."},{"pos":[9457,9650],"content":"Apps that are recompiled to target the <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph> and that write invalid surrogate pairs will throw an exception in cases when previously they did not.","source":"Apps that are recompiled to target the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] and that write invalid surrogate pairs will throw an exception in cases when previously they did not."},{"content":"Edge","pos":[9651,9655]}]}