{"content":"---\ntitle: \"<claimsAuthorizationManager>\"\nms.date: \"03/30/2017\"\nms.assetid: 9354eee3-f692-4ad6-8427-3169686b8bcc\nauthor: \"BrucePerlerMS\"\n---\n# \\<claimsAuthorizationManager>\nRegisters a claims authorization manager for the incoming claims.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<claimsAuthorizationManager>  \n  \n## Syntax  \n  \n```xml  \n<system.identityModel>  \n  <identityConfiguration>  \n    <claimsAuthorizationManager type = xs:string>  \n      <optionalConfigurationElements />  \n    </claimsAuthorizationManager>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|type|A custom type that derives from the <xref:System.Security.Claims.ClaimsAuthorizationManager> class. For more information about how to specify the `type` attribute, see [Custom Type References](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md).|  \n  \n### Child Elements  \n If there is no `type` attribute, or if the `type` attribute references the <xref:System.Security.Claims.ClaimsAuthenticationManager> class, the `<claimsAuthorizationManager>` element does not take child elements; however, classes derived from <xref:System.Security.Claims.ClaimsAuthorizationManager> can define child configuration elements.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)|Specifies service-level identity settings.|  \n  \n## Remarks  \n The default behavior provided through the <xref:System.Security.Claims.ClaimsAuthorizationManager> class always authorizes the incoming claims. If no `type` attribute is specified or if the `type` attribute specifies the <xref:System.Security.Claims.ClaimsAuthorizationManager> class, the `<claimsAuthorizationManager>` element does not take child elements. You can specify the `type` attribute to register a type derived from the <xref:System.Security.Claims.ClaimsAuthorizationManager> class to implement custom behavior. Derived classes can support configuration through child elements of the `<claimsAuthorizationManager>` element by overriding the <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> method to handle these elements. The schema defined for the child elements is up to the designer of the class.  \n  \n> [!IMPORTANT]\n>  When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the identity configuration that is referenced by the `<federationConfiguration>` element configures the claims authorization manager and policy that is used to make authorization decisions. This is true, even in scenarios that are not passive Web scenarios, for example Windows Communication Foundation (WCF) applications or an application that is not Web-based. If the application is not a passive Web application, the `<claimsAuthorizationManager>` element (and its child policy elements, if present) of the referenced identity configuration are the only settings applied. All other settings are ignored. For more information, see the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element.  \n  \n This element sets the <xref:System.IdentityModel.Configuration.IdentityConfiguration.ClaimsAuthorizationManager%2A?displayProperty=nameWithType> property.  \n  \n## Example  \n The following XML shows the configuration for a claims authorization manager that implements policy composed of resource-action pairs each of which specifies boolean combinations of the claims that a requestor must possess to perform the action on the resource. The code that implements the claims authorization manager capable of using this policy can be found in the `ClaimsBasedAuthorization` sample.  \n  \n```xml  \n<system.identityModel>  \n    <identityConfiguration>  \n      <claimsAuthorizationManager type=\"ClaimsAuthorizationLibrary.MyClaimsAuthorizationManager, ClaimsAuthorizationLibrary\">  \n        <policy resource=\"http://localhost:28491/Developers.aspx\" action=\"GET\">  \n          <or>  \n            <claim claimType=\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\" claimValue=\"developer\" />  \n            <claim claimType=\"http://schemas.xmlsoap.org/claims/Group\" claimValue=\"Administrator\" />  \n          </or>  \n        </policy>  \n        <policy resource=\"http://localhost:28491/Administrators.aspx\" action=\"GET\">  \n          <and>  \n            <claim claimType=\"http://schemas.xmlsoap.org/claims/Group\" claimValue=\"Administrator\" />  \n            <claim claimType=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/country\" claimValue=\"USA\" />  \n          </and>  \n        </policy>  \n        <policy resource=\"http://localhost:28491/Default.aspx\" action=\"GET\">  \n        </policy>  \n        <policy resource=\"http://localhost:28491/\" action=\"GET\">  \n        </policy>  \n        <policy resource=\"http://localhost:28491/Claims.aspx\" action=\"GET\">  \n        </policy>  \n      </claimsAuthorizationManager>  \n    <identityConfiguration>  \n<system.identityModel>  \n```\n","nodes":[{"pos":[4,136],"embed":true,"restype":"x-metadata","content":"title: \"<claimsAuthorizationManager>\"\nms.date: \"03/30/2017\"\nms.assetid: 9354eee3-f692-4ad6-8427-3169686b8bcc\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"<claimsAuthorizationManager>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[143,172],"content":"\\<claimsAuthorizationManager>","linkify":"\\<claimsAuthorizationManager>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>claimsAuthorizationManager&gt;","pos":[0,29],"source":"\\<claimsAuthorizationManager>"}]},{"content":"Registers a claims authorization manager for the incoming claims.","pos":[173,238]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[245,268],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[271,295],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>claimsAuthorizationManager&gt;","pos":[298,327],"source":"\\<claimsAuthorizationManager>"},{"pos":[336,342],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[607,630],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[634,714]},{"pos":[724,734],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[741,750]},{"content":"Description","pos":[751,762]},{"content":"type","pos":[805,809]},{"content":"A custom type that derives from the <ph id=\"ph1\">&lt;xref:System.Security.Claims.ClaimsAuthorizationManager&gt;</ph> class.","pos":[810,909],"source":"A custom type that derives from the <xref:System.Security.Claims.ClaimsAuthorizationManager> class."},{"content":"For more information about how to specify the <ph id=\"ph1\">`type`</ph> attribute, see <bpt id=\"p1\">[</bpt>Custom Type References<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md)</ept>.","pos":[910,1098],"source":" For more information about how to specify the `type` attribute, see [Custom Type References](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md)."},{"pos":[1109,1123],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"pos":[1127,1467],"content":"If there is no <ph id=\"ph1\">`type`</ph> attribute, or if the <ph id=\"ph2\">`type`</ph> attribute references the <ph id=\"ph3\">&lt;xref:System.Security.Claims.ClaimsAuthenticationManager&gt;</ph> class, the <ph id=\"ph4\">`&lt;claimsAuthorizationManager&gt;`</ph> element does not take child elements; however, classes derived from <ph id=\"ph5\">&lt;xref:System.Security.Claims.ClaimsAuthorizationManager&gt;</ph> can define child configuration elements.","source":"If there is no `type` attribute, or if the `type` attribute references the <xref:System.Security.Claims.ClaimsAuthenticationManager> class, the `<claimsAuthorizationManager>` element does not take child elements; however, classes derived from <xref:System.Security.Claims.ClaimsAuthorizationManager> can define child configuration elements."},{"pos":[1477,1492],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1499,1506]},{"content":"Description","pos":[1507,1518]},{"pos":[1559,1696],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)</ept>","source":"[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)"},{"content":"Specifies service-level identity settings.","pos":[1697,1739]},{"pos":[1749,1756],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The default behavior provided through the <ph id=\"ph1\">&lt;xref:System.Security.Claims.ClaimsAuthorizationManager&gt;</ph> class always authorizes the incoming claims.","pos":[1760,1903],"source":"The default behavior provided through the <xref:System.Security.Claims.ClaimsAuthorizationManager> class always authorizes the incoming claims."},{"content":"If no <ph id=\"ph1\">`type`</ph> attribute is specified or if the <ph id=\"ph2\">`type`</ph> attribute specifies the <ph id=\"ph3\">&lt;xref:System.Security.Claims.ClaimsAuthorizationManager&gt;</ph> class, the <ph id=\"ph4\">`&lt;claimsAuthorizationManager&gt;`</ph> element does not take child elements.","pos":[1904,2117],"source":" If no `type` attribute is specified or if the `type` attribute specifies the <xref:System.Security.Claims.ClaimsAuthorizationManager> class, the `<claimsAuthorizationManager>` element does not take child elements."},{"content":"You can specify the <ph id=\"ph1\">`type`</ph> attribute to register a type derived from the <ph id=\"ph2\">&lt;xref:System.Security.Claims.ClaimsAuthorizationManager&gt;</ph> class to implement custom behavior.","pos":[2118,2283],"source":" You can specify the `type` attribute to register a type derived from the <xref:System.Security.Claims.ClaimsAuthorizationManager> class to implement custom behavior."},{"content":"Derived classes can support configuration through child elements of the <ph id=\"ph1\">`&lt;claimsAuthorizationManager&gt;`</ph> element by overriding the <ph id=\"ph2\">&lt;xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A&gt;</ph> method to handle these elements.","pos":[2284,2529],"source":" Derived classes can support configuration through child elements of the `<claimsAuthorizationManager>` element by overriding the <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> method to handle these elements."},{"content":"The schema defined for the child elements is up to the designer of the class.","pos":[2530,2607]},{"pos":[2615,3634],"content":"[!IMPORTANT]\n When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the identity configuration that is referenced by the `<federationConfiguration>` element configures the claims authorization manager and policy that is used to make authorization decisions. This is true, even in scenarios that are not passive Web scenarios, for example Windows Communication Foundation (WCF) applications or an application that is not Web-based. If the application is not a passive Web application, the `<claimsAuthorizationManager>` element (and its child policy elements, if present) of the referenced identity configuration are the only settings applied. All other settings are ignored. For more information, see the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element.","leadings":["","> "],"nodes":[{"content":"When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the identity configuration that is referenced by the `<federationConfiguration>` element configures the claims authorization manager and policy that is used to make authorization decisions. This is true, even in scenarios that are not passive Web scenarios, for example Windows Communication Foundation (WCF) applications or an application that is not Web-based. If the application is not a passive Web application, the `<claimsAuthorizationManager>` element (and its child policy elements, if present) of the referenced identity configuration are the only settings applied. All other settings are ignored. For more information, see the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element.","pos":[14,1017],"nodes":[{"content":"When using the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Services.ClaimsPrincipalPermission&gt;</ph> or the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute&gt;</ph> class to provide claims-based access control in your code, the identity configuration that is referenced by the <ph id=\"ph3\">`&lt;federationConfiguration&gt;`</ph> element configures the claims authorization manager and policy that is used to make authorization decisions.","pos":[0,405],"source":"When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the identity configuration that is referenced by the `<federationConfiguration>` element configures the claims authorization manager and policy that is used to make authorization decisions."},{"content":"This is true, even in scenarios that are not passive Web scenarios, for example Windows Communication Foundation (WCF) applications or an application that is not Web-based.","pos":[406,578]},{"content":"If the application is not a passive Web application, the <ph id=\"ph1\">`&lt;claimsAuthorizationManager&gt;`</ph> element (and its child policy elements, if present) of the referenced identity configuration are the only settings applied.","pos":[579,790],"source":" If the application is not a passive Web application, the `<claimsAuthorizationManager>` element (and its child policy elements, if present) of the referenced identity configuration are the only settings applied."},{"content":"All other settings are ignored.","pos":[791,822]},{"content":"For more information, see the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>federationConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md)</ept> element.","pos":[823,1003],"source":" For more information, see the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element."}]}]},{"pos":[3641,3795],"content":"This element sets the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Configuration.IdentityConfiguration.ClaimsAuthorizationManager%2A?displayProperty=nameWithType&gt;</ph> property.","source":"This element sets the <xref:System.IdentityModel.Configuration.IdentityConfiguration.ClaimsAuthorizationManager%2A?displayProperty=nameWithType> property."},{"pos":[3804,3811],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XML shows the configuration for a claims authorization manager that implements policy composed of resource-action pairs each of which specifies boolean combinations of the claims that a requestor must possess to perform the action on the resource.","pos":[3815,4076]},{"content":"The code that implements the claims authorization manager capable of using this policy can be found in the <ph id=\"ph1\">`ClaimsBasedAuthorization`</ph> sample.","pos":[4077,4218],"source":" The code that implements the claims authorization manager capable of using this policy can be found in the `ClaimsBasedAuthorization` sample."}]}