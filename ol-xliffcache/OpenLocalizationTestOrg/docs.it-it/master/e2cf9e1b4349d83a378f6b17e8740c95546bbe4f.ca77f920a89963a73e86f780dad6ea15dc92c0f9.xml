{"content":"---\ntitle: \"Editing XML Schemas\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nms.assetid: fa09c8e5-c2b9-49d2-bb0d-40330cd13e4d\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Editing XML Schemas\nEditing an XML schema is one of the most important features of the Schema Object Model (SOM). All of the pre-schema-compilation properties of the SOM can be used to change the existing values in an XML schema. The XML schema can then be recompiled to reflect the changes.  \n  \n The first step in editing a schema loaded into the SOM is to traverse the schema. You should be familiar with traversing a schema using the SOM API before you attempt to edit a schema. You should also be familiar with the pre- and post-schema-compilation properties of the Post-Schema-Compilation-Infoset (PSCI).  \n  \n## Editing an XML Schema  \n In this section, two code examples are provided, both of which edit the customer schema created in the [Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md) topic. The first code example adds a new `PhoneNumber` element to the `Customer` element and the second code example adds a new `Title` attribute to the `FirstName` element. The first sample also uses the post-schema-compilation <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collection as the means of traversing the customer schema while the second code example uses the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection.  \n  \n### PhoneNumber Element Example  \n This first code example adds a new `PhoneNumber` element to the `Customer` element of the customer schema. The code example edits the customer schema in the following steps.  \n  \n1.  Adds the customer schema to a new <xref:System.Xml.Schema.XmlSchemaSet> object and then compiles it. Any schema validation warnings and errors encountered reading or compiling the schema are handled by the <xref:System.Xml.Schema.ValidationEventHandler> delegate.  \n  \n2.  Retrieves the compiled <xref:System.Xml.Schema.XmlSchema> object from the <xref:System.Xml.Schema.XmlSchemaSet> by iterating over the <xref:System.Xml.Schema.XmlSchemaSet.Schemas%2A> property. Because the schema is compiled, Post-Schema-Compilation-Infoset (PSCI) properties are accessible.  \n  \n3.  Creates the `PhoneNumber` element using the <xref:System.Xml.Schema.XmlSchemaElement> class, the `xs:string` simple type restriction using the <xref:System.Xml.Schema.XmlSchemaSimpleType> and <xref:System.Xml.Schema.XmlSchemaSimpleTypeRestriction> classes, adds a pattern facet to the <xref:System.Xml.Schema.XmlSchemaSimpleTypeRestriction.Facets%2A> property of the restriction, and adds the restriction to the <xref:System.Xml.Schema.XmlSchemaSimpleType.Content%2A> property of the simple type and the simple type to the <xref:System.Xml.Schema.XmlSchemaElement.SchemaType%2A> of the `PhoneNumber` element.  \n  \n4.  Iterates over each <xref:System.Xml.Schema.XmlSchemaElement> in the <xref:System.Xml.Schema.XmlSchemaObjectTable.Values%2A> collection of the post-schema-compilation <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collection.  \n  \n5.  If the <xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A> of the element is `\"Customer\"`, gets the complex type of the `Customer` element using the <xref:System.Xml.Schema.XmlSchemaComplexType> class and the sequence particle of the complex type using the <xref:System.Xml.Schema.XmlSchemaSequence> class.  \n  \n6.  Adds the new `PhoneNumber` element to the sequence containing the existing `FirstName` and `LastName` elements using the pre-schema-compilation <xref:System.Xml.Schema.XmlSchemaSequence.Items%2A> collection of the sequence.  \n  \n7.  Finally, reprocesses and compiles the modified <xref:System.Xml.Schema.XmlSchema> object using the <xref:System.Xml.Schema.XmlSchemaSet.Reprocess%2A> and <xref:System.Xml.Schema.XmlSchemaSet.Compile%2A> methods of the <xref:System.Xml.Schema.XmlSchemaSet> class and writes it to the console.  \n  \n The following is the complete code example.  \n  \n [!code-cpp[XmlSchemaEditExample1#1](../../../../samples/snippets/cpp/VS_Snippets_Data/XmlSchemaEditExample1/CPP/XmlSchemaEditExample1.cpp#1)]\n [!code-csharp[XmlSchemaEditExample1#1](../../../../samples/snippets/csharp/VS_Snippets_Data/XmlSchemaEditExample1/CS/XmlSchemaEditExample1.cs#1)]\n [!code-vb[XmlSchemaEditExample1#1](../../../../samples/snippets/visualbasic/VS_Snippets_Data/XmlSchemaEditExample1/VB/XmlSchemaEditExample1.vb#1)]  \n  \n The following is the modified customer schema created in the [Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md) topic.  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"utf-8\"?>  \n<xs:schema xmlns:tns=\"http://www.tempuri.org\" targetNamespace=\"http://www.tempuri.org\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">  \n  <xs:element name=\"Customer\">  \n    <xs:complexType>  \n      <xs:sequence>  \n        <xs:element name=\"FirstName\" type=\"xs:string\" />  \n        <xs:element name=\"LastName\" type=\"tns:LastNameType\" />  \n        <xs:element name=\"PhoneNumber\">           <xs:simpleType>             <xs:restriction base=\"xs:string\">               <xs:pattern value=\"\\d{3}-\\d{3}-\\d(4)\" />             </xs:restriction>           </xs:simpleType>         </xs:element>  \n      </xs:sequence>  \n      <xs:attribute name=\"CustomerId\" type=\"xs:positiveInteger\" use=\"required\" /  \n>  \n    </xs:complexType>  \n  </xs:element>  \n  <xs:simpleType name=\"LastNameType\">  \n    <xs:restriction base=\"xs:string\">  \n      <xs:maxLength value=\"20\" />  \n    </xs:restriction>  \n  </xs:simpleType>  \n</xs:schema>  \n```  \n  \n### Title Attribute Example  \n This second code example, adds a new `Title` attribute to the `FirstName` element of the customer schema. In the first code example, the type of the `FirstName` element is `xs:string`. For the `FirstName` element to have an attribute along with string content, its type must be changed to a complex type with a simple content extension content model.  \n  \n The code example edits the customer schema in the following steps.  \n  \n1.  Adds the customer schema to a new <xref:System.Xml.Schema.XmlSchemaSet> object and then compiles it. Any schema validation warnings and errors encountered reading or compiling the schema are handled by the <xref:System.Xml.Schema.ValidationEventHandler> delegate.  \n  \n2.  Retrieves the compiled <xref:System.Xml.Schema.XmlSchema> object from the <xref:System.Xml.Schema.XmlSchemaSet> by iterating over the <xref:System.Xml.Schema.XmlSchemaSet.Schemas%2A> property. Because the schema is compiled, Post-Schema-Compilation-Infoset (PSCI) properties are accessible.  \n  \n3.  Creates a new complex type for the `FirstName` element using the <xref:System.Xml.Schema.XmlSchemaComplexType> class.  \n  \n4.  Creates a new simple content extension, with a base type of `xs:string`, using the <xref:System.Xml.Schema.XmlSchemaSimpleContent> and <xref:System.Xml.Schema.XmlSchemaSimpleContentExtension> classes.  \n  \n5.  Creates the new `Title` attribute using the <xref:System.Xml.Schema.XmlSchemaAttribute> class, with a <xref:System.Xml.Schema.XmlSchemaAttribute.SchemaTypeName%2A> of `xs:string` and adds the attribute to the simple content extension.  \n  \n6.  Sets the content model of the simple content to the simple content extension and the content model of the complex type to the simple content.  \n  \n7.  Adds the new complex type to the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection.  \n  \n8.  Iterates over each <xref:System.Xml.Schema.XmlSchemaObject> in the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection.  \n  \n> [!NOTE]\n>  Because the `FirstName` element is not a global element in the schema, it is not available in the <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> or <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collections. The code example locates the `FirstName` element by first locating the `Customer` element.  \n>   \n>  The first code example traversed the schema using the post-schema-compilation <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collection. In this sample, the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection is used to traverse the schema. While both collections provide access to the global elements in the schema, iterating through the <xref:System.Xml.Schema.XmlSchema.Items%2A> collection is more time consuming because you must iterate over all global elements in the schema and it does not have any PSCI properties. The PSCI collections (<xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType>, <xref:System.Xml.Schema.XmlSchema.Attributes%2A?displayProperty=nameWithType>, <xref:System.Xml.Schema.XmlSchema.SchemaTypes%2A?displayProperty=nameWithType>, and so on) provide direct access to their global elements, attributes, and types and their PSCI properties.  \n  \n1.  If the <xref:System.Xml.Schema.XmlSchemaObject> is an element, whose <xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A> is `\"Customer\"`, gets the complex type of the `Customer` element using the <xref:System.Xml.Schema.XmlSchemaComplexType> class and the sequence particle of the complex type using the <xref:System.Xml.Schema.XmlSchemaSequence> class.  \n  \n2.  Iterates over each <xref:System.Xml.Schema.XmlSchemaParticle> in the pre-schema-compilation <xref:System.Xml.Schema.XmlSchemaSequence.Items%2A?displayProperty=nameWithType> collection.  \n  \n3.  If the <xref:System.Xml.Schema.XmlSchemaParticle> is an element, who's <xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A> is `\"FirstName\"`, sets the <xref:System.Xml.Schema.XmlSchemaElement.SchemaTypeName%2A> of the `FirstName` element to the new `FirstName` complex type.  \n  \n4.  Finally, reprocesses and compiles the modified <xref:System.Xml.Schema.XmlSchema> object using the <xref:System.Xml.Schema.XmlSchemaSet.Reprocess%2A> and <xref:System.Xml.Schema.XmlSchemaSet.Compile%2A> methods of the <xref:System.Xml.Schema.XmlSchemaSet> class and writes it to the console.  \n  \n The following is the complete code example.  \n  \n [!code-cpp[XmlSchemaEditExample2#1](../../../../samples/snippets/cpp/VS_Snippets_Data/XmlSchemaEditExample2/CPP/XmlSchemaEditExample2.cpp#1)]\n [!code-csharp[XmlSchemaEditExample2#1](../../../../samples/snippets/csharp/VS_Snippets_Data/XmlSchemaEditExample2/CS/XmlSchemaEditExample2.cs#1)]\n [!code-vb[XmlSchemaEditExample2#1](../../../../samples/snippets/visualbasic/VS_Snippets_Data/XmlSchemaEditExample2/VB/XmlSchemaEditExample2.vb#1)]  \n  \n The following is the modified customer schema created in the [Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md) topic.  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\" utf-8\"?>  \n<xs:schema xmlns:tns=\"http://www.tempuri.org\" targetNamespace=\"http://www.tempuri.org\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">  \n  <xs:element name=\"Customer\">  \n    <xs:complexType>  \n      <xs:sequence>  \n        <xs:element name=\"FirstName\" type=\"tns:FirstNameComplexType\" />  \n        <xs:element name=\"LastName\" type=\"tns:LastNameType\" />  \n      </xs:sequence>  \n      <xs:attribute name=\"CustomerId\" type=\"xs:positiveInteger\" use=\"required\" /  \n>  \n    </xs:complexType>  \n  </xs:element>  \n  <xs:simpleType name=\"LastNameType\">  \n    <xs:restriction base=\"xs:string\">  \n      <xs:maxLength value=\"20\" />  \n    </xs:restriction>  \n  </xs:simpleType>  \n  <xs:complexType name=\"FirstNameComplexType\">     <xs:simpleContent>       <xs:extension base=\"xs:string\">         <xs:attribute name=\"Title\" type=\"xs:string\" />       </xs:extension>     </xs:simpleContent>   </xs:complexType>  \n</xs:schema>  \n```  \n  \n## See also\n\n- [XML Schema Object Model Overview](../../../../docs/standard/data/xml/xml-schema-object-model-overview.md)\n- [Reading and Writing XML Schemas](../../../../docs/standard/data/xml/reading-and-writing-xml-schemas.md)\n- [Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md)\n- [Traversing XML Schemas](../../../../docs/standard/data/xml/traversing-xml-schemas.md)\n- [Including or Importing XML Schemas](../../../../docs/standard/data/xml/including-or-importing-xml-schemas.md)\n- [XmlSchemaSet for Schema Compilation](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md)\n- [Post-Schema Compilation Infoset](../../../../docs/standard/data/xml/post-schema-compilation-infoset.md)\n","nodes":[{"pos":[4,215],"embed":true,"restype":"x-metadata","content":"title: \"Editing XML Schemas\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nms.assetid: fa09c8e5-c2b9-49d2-bb0d-40330cd13e4d\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Editing XML Schemas","nodes":[{"pos":[0,19],"content":"Editing XML Schemas","nodes":[{"content":"Editing XML Schemas","pos":[0,19]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[222,241],"content":"Editing XML Schemas","linkify":"Editing XML Schemas","nodes":[{"content":"Editing XML Schemas","pos":[0,19]}]},{"content":"Editing an XML schema is one of the most important features of the Schema Object Model (SOM).","pos":[242,335]},{"content":"All of the pre-schema-compilation properties of the SOM can be used to change the existing values in an XML schema.","pos":[336,451]},{"content":"The XML schema can then be recompiled to reflect the changes.","pos":[452,513]},{"content":"The first step in editing a schema loaded into the SOM is to traverse the schema.","pos":[520,601]},{"content":"You should be familiar with traversing a schema using the SOM API before you attempt to edit a schema.","pos":[602,704]},{"content":"You should also be familiar with the pre- and post-schema-compilation properties of the Post-Schema-Compilation-Infoset (PSCI).","pos":[705,832]},{"pos":[841,862],"content":"Editing an XML Schema","linkify":"Editing an XML Schema","nodes":[{"content":"Editing an XML Schema","pos":[0,21]}]},{"content":"In this section, two code examples are provided, both of which edit the customer schema created in the <bpt id=\"p1\">[</bpt>Building XML Schemas<ept id=\"p1\">](../../../../docs/standard/data/xml/building-xml-schemas.md)</ept> topic.","pos":[866,1058],"source":"In this section, two code examples are provided, both of which edit the customer schema created in the [Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md) topic."},{"content":"The first code example adds a new <ph id=\"ph1\">`PhoneNumber`</ph> element to the <ph id=\"ph2\">`Customer`</ph> element and the second code example adds a new <ph id=\"ph3\">`Title`</ph> attribute to the <ph id=\"ph4\">`FirstName`</ph> element.","pos":[1059,1225],"source":" The first code example adds a new `PhoneNumber` element to the `Customer` element and the second code example adds a new `Title` attribute to the `FirstName` element."},{"content":"The first sample also uses the post-schema-compilation <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType&gt;</ph> collection as the means of traversing the customer schema while the second code example uses the pre-schema-compilation <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType&gt;</ph> collection.","pos":[1226,1561],"source":" The first sample also uses the post-schema-compilation <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collection as the means of traversing the customer schema while the second code example uses the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection."},{"pos":[1571,1598],"content":"PhoneNumber Element Example","linkify":"PhoneNumber Element Example","nodes":[{"content":"PhoneNumber Element Example","pos":[0,27]}]},{"content":"This first code example adds a new <ph id=\"ph1\">`PhoneNumber`</ph> element to the <ph id=\"ph2\">`Customer`</ph> element of the customer schema.","pos":[1602,1708],"source":"This first code example adds a new `PhoneNumber` element to the `Customer` element of the customer schema."},{"content":"The code example edits the customer schema in the following steps.","pos":[1709,1775]},{"content":"Adds the customer schema to a new <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> object and then compiles it.","pos":[1785,1885],"source":"Adds the customer schema to a new <xref:System.Xml.Schema.XmlSchemaSet> object and then compiles it."},{"content":"Any schema validation warnings and errors encountered reading or compiling the schema are handled by the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.ValidationEventHandler&gt;</ph> delegate.","pos":[1886,2048],"source":" Any schema validation warnings and errors encountered reading or compiling the schema are handled by the <xref:System.Xml.Schema.ValidationEventHandler> delegate."},{"content":"Retrieves the compiled <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema&gt;</ph> object from the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> by iterating over the <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchemaSet.Schemas%2A&gt;</ph> property.","pos":[2058,2250],"source":"Retrieves the compiled <xref:System.Xml.Schema.XmlSchema> object from the <xref:System.Xml.Schema.XmlSchemaSet> by iterating over the <xref:System.Xml.Schema.XmlSchemaSet.Schemas%2A> property."},{"content":"Because the schema is compiled, Post-Schema-Compilation-Infoset (PSCI) properties are accessible.","pos":[2251,2348]},{"pos":[2358,2966],"content":"Creates the <ph id=\"ph1\">`PhoneNumber`</ph> element using the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaElement&gt;</ph> class, the <ph id=\"ph3\">`xs:string`</ph> simple type restriction using the <ph id=\"ph4\">&lt;xref:System.Xml.Schema.XmlSchemaSimpleType&gt;</ph> and <ph id=\"ph5\">&lt;xref:System.Xml.Schema.XmlSchemaSimpleTypeRestriction&gt;</ph> classes, adds a pattern facet to the <ph id=\"ph6\">&lt;xref:System.Xml.Schema.XmlSchemaSimpleTypeRestriction.Facets%2A&gt;</ph> property of the restriction, and adds the restriction to the <ph id=\"ph7\">&lt;xref:System.Xml.Schema.XmlSchemaSimpleType.Content%2A&gt;</ph> property of the simple type and the simple type to the <ph id=\"ph8\">&lt;xref:System.Xml.Schema.XmlSchemaElement.SchemaType%2A&gt;</ph> of the <ph id=\"ph9\">`PhoneNumber`</ph> element.","source":"Creates the `PhoneNumber` element using the <xref:System.Xml.Schema.XmlSchemaElement> class, the `xs:string` simple type restriction using the <xref:System.Xml.Schema.XmlSchemaSimpleType> and <xref:System.Xml.Schema.XmlSchemaSimpleTypeRestriction> classes, adds a pattern facet to the <xref:System.Xml.Schema.XmlSchemaSimpleTypeRestriction.Facets%2A> property of the restriction, and adds the restriction to the <xref:System.Xml.Schema.XmlSchemaSimpleType.Content%2A> property of the simple type and the simple type to the <xref:System.Xml.Schema.XmlSchemaElement.SchemaType%2A> of the `PhoneNumber` element."},{"pos":[2976,3229],"content":"Iterates over each <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaElement&gt;</ph> in the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaObjectTable.Values%2A&gt;</ph> collection of the post-schema-compilation <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType&gt;</ph> collection.","source":"Iterates over each <xref:System.Xml.Schema.XmlSchemaElement> in the <xref:System.Xml.Schema.XmlSchemaObjectTable.Values%2A> collection of the post-schema-compilation <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collection."},{"pos":[3239,3552],"content":"If the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A&gt;</ph> of the element is <ph id=\"ph2\">`\"Customer\"`</ph>, gets the complex type of the <ph id=\"ph3\">`Customer`</ph> element using the <ph id=\"ph4\">&lt;xref:System.Xml.Schema.XmlSchemaComplexType&gt;</ph> class and the sequence particle of the complex type using the <ph id=\"ph5\">&lt;xref:System.Xml.Schema.XmlSchemaSequence&gt;</ph> class.","source":"If the <xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A> of the element is `\"Customer\"`, gets the complex type of the `Customer` element using the <xref:System.Xml.Schema.XmlSchemaComplexType> class and the sequence particle of the complex type using the <xref:System.Xml.Schema.XmlSchemaSequence> class."},{"pos":[3562,3785],"content":"Adds the new <ph id=\"ph1\">`PhoneNumber`</ph> element to the sequence containing the existing <ph id=\"ph2\">`FirstName`</ph> and <ph id=\"ph3\">`LastName`</ph> elements using the pre-schema-compilation <ph id=\"ph4\">&lt;xref:System.Xml.Schema.XmlSchemaSequence.Items%2A&gt;</ph> collection of the sequence.","source":"Adds the new `PhoneNumber` element to the sequence containing the existing `FirstName` and `LastName` elements using the pre-schema-compilation <xref:System.Xml.Schema.XmlSchemaSequence.Items%2A> collection of the sequence."},{"pos":[3795,4086],"content":"Finally, reprocesses and compiles the modified <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema&gt;</ph> object using the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaSet.Reprocess%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchemaSet.Compile%2A&gt;</ph> methods of the <ph id=\"ph4\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> class and writes it to the console.","source":"Finally, reprocesses and compiles the modified <xref:System.Xml.Schema.XmlSchema> object using the <xref:System.Xml.Schema.XmlSchemaSet.Reprocess%2A> and <xref:System.Xml.Schema.XmlSchemaSet.Compile%2A> methods of the <xref:System.Xml.Schema.XmlSchemaSet> class and writes it to the console."},{"content":"The following is the complete code example.","pos":[4093,4136]},{"pos":[4143,4579],"content":"[!code-cpp[XmlSchemaEditExample1#1](../../../../samples/snippets/cpp/VS_Snippets_Data/XmlSchemaEditExample1/CPP/XmlSchemaEditExample1.cpp#1)]\n[!code-csharp[XmlSchemaEditExample1#1](../../../../samples/snippets/csharp/VS_Snippets_Data/XmlSchemaEditExample1/CS/XmlSchemaEditExample1.cs#1)]\n[!code-vb[XmlSchemaEditExample1#1](../../../../samples/snippets/visualbasic/VS_Snippets_Data/XmlSchemaEditExample1/VB/XmlSchemaEditExample1.vb#1)]","leadings":[""," "," "],"nodes":[]},{"pos":[4586,4736],"content":"The following is the modified customer schema created in the <bpt id=\"p1\">[</bpt>Building XML Schemas<ept id=\"p1\">](../../../../docs/standard/data/xml/building-xml-schemas.md)</ept> topic.","source":"The following is the modified customer schema created in the [Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md) topic."},{"pos":[5717,5740],"content":"Title Attribute Example","linkify":"Title Attribute Example","nodes":[{"content":"Title Attribute Example","pos":[0,23]}]},{"content":"This second code example, adds a new <ph id=\"ph1\">`Title`</ph> attribute to the <ph id=\"ph2\">`FirstName`</ph> element of the customer schema.","pos":[5744,5849],"source":"This second code example, adds a new `Title` attribute to the `FirstName` element of the customer schema."},{"content":"In the first code example, the type of the <ph id=\"ph1\">`FirstName`</ph> element is <ph id=\"ph2\">`xs:string`</ph>.","pos":[5850,5928],"source":" In the first code example, the type of the `FirstName` element is `xs:string`."},{"content":"For the <ph id=\"ph1\">`FirstName`</ph> element to have an attribute along with string content, its type must be changed to a complex type with a simple content extension content model.","pos":[5929,6094],"source":" For the `FirstName` element to have an attribute along with string content, its type must be changed to a complex type with a simple content extension content model."},{"content":"The code example edits the customer schema in the following steps.","pos":[6101,6167]},{"content":"Adds the customer schema to a new <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> object and then compiles it.","pos":[6177,6277],"source":"Adds the customer schema to a new <xref:System.Xml.Schema.XmlSchemaSet> object and then compiles it."},{"content":"Any schema validation warnings and errors encountered reading or compiling the schema are handled by the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.ValidationEventHandler&gt;</ph> delegate.","pos":[6278,6440],"source":" Any schema validation warnings and errors encountered reading or compiling the schema are handled by the <xref:System.Xml.Schema.ValidationEventHandler> delegate."},{"content":"Retrieves the compiled <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema&gt;</ph> object from the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> by iterating over the <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchemaSet.Schemas%2A&gt;</ph> property.","pos":[6450,6642],"source":"Retrieves the compiled <xref:System.Xml.Schema.XmlSchema> object from the <xref:System.Xml.Schema.XmlSchemaSet> by iterating over the <xref:System.Xml.Schema.XmlSchemaSet.Schemas%2A> property."},{"content":"Because the schema is compiled, Post-Schema-Compilation-Infoset (PSCI) properties are accessible.","pos":[6643,6740]},{"pos":[6750,6867],"content":"Creates a new complex type for the <ph id=\"ph1\">`FirstName`</ph> element using the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaComplexType&gt;</ph> class.","source":"Creates a new complex type for the `FirstName` element using the <xref:System.Xml.Schema.XmlSchemaComplexType> class."},{"pos":[6877,7077],"content":"Creates a new simple content extension, with a base type of <ph id=\"ph1\">`xs:string`</ph>, using the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaSimpleContent&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchemaSimpleContentExtension&gt;</ph> classes.","source":"Creates a new simple content extension, with a base type of `xs:string`, using the <xref:System.Xml.Schema.XmlSchemaSimpleContent> and <xref:System.Xml.Schema.XmlSchemaSimpleContentExtension> classes."},{"pos":[7087,7321],"content":"Creates the new <ph id=\"ph1\">`Title`</ph> attribute using the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaAttribute&gt;</ph> class, with a <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchemaAttribute.SchemaTypeName%2A&gt;</ph> of <ph id=\"ph4\">`xs:string`</ph> and adds the attribute to the simple content extension.","source":"Creates the new `Title` attribute using the <xref:System.Xml.Schema.XmlSchemaAttribute> class, with a <xref:System.Xml.Schema.XmlSchemaAttribute.SchemaTypeName%2A> of `xs:string` and adds the attribute to the simple content extension."},{"content":"Sets the content model of the simple content to the simple content extension and the content model of the complex type to the simple content.","pos":[7331,7472]},{"pos":[7482,7622],"content":"Adds the new complex type to the pre-schema-compilation <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType&gt;</ph> collection.","source":"Adds the new complex type to the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection."},{"pos":[7632,7806],"content":"Iterates over each <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaObject&gt;</ph> in the pre-schema-compilation <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType&gt;</ph> collection.","source":"Iterates over each <xref:System.Xml.Schema.XmlSchemaObject> in the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection."},{"pos":[7814,8178],"content":"[!NOTE]\n Because the `FirstName` element is not a global element in the schema, it is not available in the <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> or <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collections. The code example locates the `FirstName` element by first locating the `Customer` element.","leadings":["","> "],"nodes":[{"content":"Because the `FirstName` element is not a global element in the schema, it is not available in the <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> or <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collections. The code example locates the `FirstName` element by first locating the `Customer` element.","pos":[9,362],"nodes":[{"content":"Because the <ph id=\"ph1\">`FirstName`</ph> element is not a global element in the schema, it is not available in the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType&gt;</ph> collections.","pos":[0,262],"source":"Because the `FirstName` element is not a global element in the schema, it is not available in the <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> or <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collections."},{"content":"The code example locates the <ph id=\"ph1\">`FirstName`</ph> element by first locating the <ph id=\"ph2\">`Customer`</ph> element.","pos":[263,353],"source":" The code example locates the `FirstName` element by first locating the `Customer` element."}]}]},{"content":"The first code example traversed the schema using the post-schema-compilation <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType&gt;</ph> collection.","pos":[8189,8354],"source":"The first code example traversed the schema using the post-schema-compilation <xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType> collection."},{"content":"In this sample, the pre-schema-compilation <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType&gt;</ph> collection is used to traverse the schema.","pos":[8355,8513],"source":" In this sample, the pre-schema-compilation <xref:System.Xml.Schema.XmlSchema.Items%2A?displayProperty=nameWithType> collection is used to traverse the schema."},{"content":"While both collections provide access to the global elements in the schema, iterating through the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema.Items%2A&gt;</ph> collection is more time consuming because you must iterate over all global elements in the schema and it does not have any PSCI properties.","pos":[8514,8795],"source":" While both collections provide access to the global elements in the schema, iterating through the <xref:System.Xml.Schema.XmlSchema.Items%2A> collection is more time consuming because you must iterate over all global elements in the schema and it does not have any PSCI properties."},{"content":"The PSCI collections (<ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchema.Attributes%2A?displayProperty=nameWithType&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchema.SchemaTypes%2A?displayProperty=nameWithType&gt;</ph>, and so on) provide direct access to their global elements, attributes, and types and their PSCI properties.","pos":[8796,9161],"source":" The PSCI collections (<xref:System.Xml.Schema.XmlSchema.Elements%2A?displayProperty=nameWithType>, <xref:System.Xml.Schema.XmlSchema.Attributes%2A?displayProperty=nameWithType>, <xref:System.Xml.Schema.XmlSchema.SchemaTypes%2A?displayProperty=nameWithType>, and so on) provide direct access to their global elements, attributes, and types and their PSCI properties."},{"pos":[9171,9531],"content":"If the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaObject&gt;</ph> is an element, whose <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A&gt;</ph> is <ph id=\"ph3\">`\"Customer\"`</ph>, gets the complex type of the <ph id=\"ph4\">`Customer`</ph> element using the <ph id=\"ph5\">&lt;xref:System.Xml.Schema.XmlSchemaComplexType&gt;</ph> class and the sequence particle of the complex type using the <ph id=\"ph6\">&lt;xref:System.Xml.Schema.XmlSchemaSequence&gt;</ph> class.","source":"If the <xref:System.Xml.Schema.XmlSchemaObject> is an element, whose <xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A> is `\"Customer\"`, gets the complex type of the `Customer` element using the <xref:System.Xml.Schema.XmlSchemaComplexType> class and the sequence particle of the complex type using the <xref:System.Xml.Schema.XmlSchemaSequence> class."},{"pos":[9541,9725],"content":"Iterates over each <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaParticle&gt;</ph> in the pre-schema-compilation <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaSequence.Items%2A?displayProperty=nameWithType&gt;</ph> collection.","source":"Iterates over each <xref:System.Xml.Schema.XmlSchemaParticle> in the pre-schema-compilation <xref:System.Xml.Schema.XmlSchemaSequence.Items%2A?displayProperty=nameWithType> collection."},{"pos":[9735,10015],"content":"If the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaParticle&gt;</ph> is an element, who's <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A&gt;</ph> is <ph id=\"ph3\">`\"FirstName\"`</ph>, sets the <ph id=\"ph4\">&lt;xref:System.Xml.Schema.XmlSchemaElement.SchemaTypeName%2A&gt;</ph> of the <ph id=\"ph5\">`FirstName`</ph> element to the new <ph id=\"ph6\">`FirstName`</ph> complex type.","source":"If the <xref:System.Xml.Schema.XmlSchemaParticle> is an element, who's <xref:System.Xml.Schema.XmlSchemaElement.QualifiedName%2A> is `\"FirstName\"`, sets the <xref:System.Xml.Schema.XmlSchemaElement.SchemaTypeName%2A> of the `FirstName` element to the new `FirstName` complex type."},{"pos":[10025,10316],"content":"Finally, reprocesses and compiles the modified <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchema&gt;</ph> object using the <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlSchemaSet.Reprocess%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Xml.Schema.XmlSchemaSet.Compile%2A&gt;</ph> methods of the <ph id=\"ph4\">&lt;xref:System.Xml.Schema.XmlSchemaSet&gt;</ph> class and writes it to the console.","source":"Finally, reprocesses and compiles the modified <xref:System.Xml.Schema.XmlSchema> object using the <xref:System.Xml.Schema.XmlSchemaSet.Reprocess%2A> and <xref:System.Xml.Schema.XmlSchemaSet.Compile%2A> methods of the <xref:System.Xml.Schema.XmlSchemaSet> class and writes it to the console."},{"content":"The following is the complete code example.","pos":[10323,10366]},{"pos":[10373,10809],"content":"[!code-cpp[XmlSchemaEditExample2#1](../../../../samples/snippets/cpp/VS_Snippets_Data/XmlSchemaEditExample2/CPP/XmlSchemaEditExample2.cpp#1)]\n[!code-csharp[XmlSchemaEditExample2#1](../../../../samples/snippets/csharp/VS_Snippets_Data/XmlSchemaEditExample2/CS/XmlSchemaEditExample2.cs#1)]\n[!code-vb[XmlSchemaEditExample2#1](../../../../samples/snippets/visualbasic/VS_Snippets_Data/XmlSchemaEditExample2/VB/XmlSchemaEditExample2.vb#1)]","leadings":[""," "," "],"nodes":[]},{"pos":[10816,10966],"content":"The following is the modified customer schema created in the <bpt id=\"p1\">[</bpt>Building XML Schemas<ept id=\"p1\">](../../../../docs/standard/data/xml/building-xml-schemas.md)</ept> topic.","source":"The following is the modified customer schema created in the [Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md) topic."},{"pos":[11945,11953],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[11957,12063],"content":"<bpt id=\"p1\">[</bpt>XML Schema Object Model Overview<ept id=\"p1\">](../../../../docs/standard/data/xml/xml-schema-object-model-overview.md)</ept>","source":"[XML Schema Object Model Overview](../../../../docs/standard/data/xml/xml-schema-object-model-overview.md)"},{"pos":[12066,12170],"content":"<bpt id=\"p1\">[</bpt>Reading and Writing XML Schemas<ept id=\"p1\">](../../../../docs/standard/data/xml/reading-and-writing-xml-schemas.md)</ept>","source":"[Reading and Writing XML Schemas](../../../../docs/standard/data/xml/reading-and-writing-xml-schemas.md)"},{"pos":[12173,12255],"content":"<bpt id=\"p1\">[</bpt>Building XML Schemas<ept id=\"p1\">](../../../../docs/standard/data/xml/building-xml-schemas.md)</ept>","source":"[Building XML Schemas](../../../../docs/standard/data/xml/building-xml-schemas.md)"},{"pos":[12258,12344],"content":"<bpt id=\"p1\">[</bpt>Traversing XML Schemas<ept id=\"p1\">](../../../../docs/standard/data/xml/traversing-xml-schemas.md)</ept>","source":"[Traversing XML Schemas](../../../../docs/standard/data/xml/traversing-xml-schemas.md)"},{"pos":[12347,12457],"content":"<bpt id=\"p1\">[</bpt>Including or Importing XML Schemas<ept id=\"p1\">](../../../../docs/standard/data/xml/including-or-importing-xml-schemas.md)</ept>","source":"[Including or Importing XML Schemas](../../../../docs/standard/data/xml/including-or-importing-xml-schemas.md)"},{"pos":[12460,12572],"content":"<bpt id=\"p1\">[</bpt>XmlSchemaSet for Schema Compilation<ept id=\"p1\">](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md)</ept>","source":"[XmlSchemaSet for Schema Compilation](../../../../docs/standard/data/xml/xmlschemaset-for-schema-compilation.md)"},{"pos":[12575,12679],"content":"<bpt id=\"p1\">[</bpt>Post-Schema Compilation Infoset<ept id=\"p1\">](../../../../docs/standard/data/xml/post-schema-compilation-infoset.md)</ept>","source":"[Post-Schema Compilation Infoset](../../../../docs/standard/data/xml/post-schema-compilation-infoset.md)"}]}