{"content":"---\ntitle: \"How to: Create a Duplex Federated Binding | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 4331d2bc-5455-492a-9189-634a82597726\ncaps.latest.revision: 7\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Create a Duplex Federated Binding\n<xref:System.ServiceModel.WSFederationHttpBinding> only supports the datagram and request/reply message exchange contracts. To use the duplex message exchange contract, you must create a custom binding. The following procedures show how to do this in configuration, using Message mode security for the HTTP and TCP transports, and using mixed mode security for the TCP transport. Sample code showing all 3 bindings is at the end of this topic.  \n  \n You can also create the binding in code. For a description of the binding elements stack to create, see [How to: Create a Custom Binding Using the SecurityBindingElement](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md).  \n  \n### To create a duplex federated custom binding with HTTP  \n  \n1.  In the [\\<bindings>](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) node of the configuration file, create a [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) element.  \n  \n2.  Inside the [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) element, create a [\\<binding>](../../../../docs/framework/misc/binding.md) element with the `name` attribute set to `FederationDuplexHttpMessageSecurityBinding`.  \n  \n3.  Inside the [\\<binding>](../../../../docs/framework/misc/binding.md) element, create a [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element with the `authenticationMode` attribute set to `SecureConversation`.  \n  \n4.  Inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create a [\\<secureConversationBootstrap>](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md) element with the `authenticationMode` attribute set to `IssuedTokenForCertificate` or `IssuedTokenForSslNegotiated`.  \n  \n5.  Following the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create an empty [\\<compositeDuplex>](../../../../docs/framework/configure-apps/file-schema/wcf/compositeduplex.md) element.  \n  \n6.  Following the [\\<compositeDuplex>](../../../../docs/framework/configure-apps/file-schema/wcf/compositeduplex.md) element, create an empty [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element.  \n  \n7.  Following the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create an empty [\\<httpTransport>](../../../../docs/framework/configure-apps/file-schema/wcf/httptransport.md) element.  \n  \n### To create a duplex federated custom binding with TCP message security mode  \n  \n1.  In the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) node of the configuration file, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element.  \n  \n2.  Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element with the `name` attribute set to `FederationDuplexTcpMessageSecurityBinding`.  \n  \n3.  Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element with the `authenticationMode` attribute set to `SecureConversation`.  \n  \n4.  Inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create a [\\<secureConversationBootstrap>](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md) element with the `authenticationMode` attribute set to `IssuedTokenForCertificate` or `IssuedTokenForSslNegotiated`.  \n  \n5.  Following the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create an empty [\\<tcpTransport>](../../../../docs/framework/configure-apps/file-schema/wcf/tcptransport.md) element.  \n  \n### To create a duplex federated custom binding with TCP mixed security mode  \n  \n1.  In the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) node of the configuration file, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element.  \n  \n2.  Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element with the `name` attribute set to `FederationDuplexTcpTransportSecurityWithMessageCredentialBinding`.  \n  \n3.  Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element with the `authenticationMode` attribute set to `SecureConversation`.  \n  \n4.  Inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create a [\\<secureConversationBootstrap>](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md) element with the `authenticationMode` attribute set to `IssuedTokenForCertificate` or `IssuedTokenForSslNegotiated`.  \n  \n5.  Following the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create an empty [\\<sslStreamSecurity>](../../../../docs/framework/configure-apps/file-schema/wcf/sslstreamsecurity.md) element.  \n  \n6.  Following the [\\<sslStreamSecurity>](../../../../docs/framework/configure-apps/file-schema/wcf/sslstreamsecurity.md) element, create an empty [\\<tcpTransport>](../../../../docs/framework/configure-apps/file-schema/wcf/tcptransport.md) element.  \n  \n## Code Sample  \n  \n#### Sample with 3 Bindings  \n  \n1.  Insert the following code into your configuration file.  \n  \n## Example  \n  \n```  \n  \n<bindings>  \n   <customBinding>  \n      <binding name=\"FederationDuplexHttpMessageSecurityBinding\">  \n<!-- duplex contract requires secure conversation with require cancellation = true -->  \n          <security authenticationMode=\"SecureConversation\">  \n              <secureConversationBootstrap authenticationMode=\"IssuedTokenForSslNegotiated\" />  \n          </security>  \n          <compositeDuplex />  \n          <oneWay />  \n          <httpTransport />  \n       </binding>  \n<!-- duplex over https is not supported -->  \n       <binding name=\"FederationDuplexTcpMessageSecurityBinding\">  \n<!-- duplex contract requires secure conversation with require cancellation = true -->  \n          <security authenticationMode=\"SecureConversation\">  \n              <secureConversationBootstrap authenticationMode=\"IssuedTokenForSslNegotiated\" />  \n          </security>  \n          <tcpTransport />  \n       </binding>              \n       <binding name=\"FederationDuplexTcpTransportSecurityWithMessageCredentialsBinding\">  \n<!-- duplex contract requires secure conversation with require cancellation = true -->  \n          <security authenticationMode=\"SecureConversation\">  \n              <secureConversationBootstrap authenticationMode=\"IssuedTokenOverTransport\" />  \n          </security>  \n<!-- requireClientCertificate = true or <windowsStreamSecurity /> can be used, but does not make sense for most scenarios -->  \n          <sslStreamSecurity />  \n          <tcpTransport />  \n       </binding>              \n    </customBinding>  \n</bindings>  \n  \n```","nodes":[{"pos":[12,70],"content":"How to: Create a Duplex Federated Binding | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Create a Duplex Federated Binding | Microsoft Docs","pos":[0,58]}]},{"pos":[368,409],"content":"How to: Create a Duplex Federated Binding","linkify":"How to: Create a Duplex Federated Binding","nodes":[{"content":"How to: Create a Duplex Federated Binding","pos":[0,41]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> only supports the datagram and request/reply message exchange contracts.","pos":[410,533],"source":"<xref:System.ServiceModel.WSFederationHttpBinding> only supports the datagram and request/reply message exchange contracts."},{"content":"To use the duplex message exchange contract, you must create a custom binding.","pos":[534,612]},{"content":"The following procedures show how to do this in configuration, using Message mode security for the HTTP and TCP transports, and using mixed mode security for the TCP transport.","pos":[613,789]},{"content":"Sample code showing all 3 bindings is at the end of this topic.","pos":[790,853]},{"content":"You can also create the binding in code.","pos":[860,900]},{"content":"For a description of the binding elements stack to create, see <bpt id=\"p1\">[</bpt>How to: Create a Custom Binding Using the SecurityBindingElement<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md)</ept>.","pos":[901,1146],"source":" For a description of the binding elements stack to create, see [How to: Create a Custom Binding Using the SecurityBindingElement](../../../../docs/framework/wcf/feature-details/how-to-create-a-custom-binding-using-the-securitybindingelement.md)."},{"pos":[1156,1209],"content":"To create a duplex federated custom binding with HTTP","linkify":"To create a duplex federated custom binding with HTTP","nodes":[{"content":"To create a duplex federated custom binding with HTTP","pos":[0,53]}]},{"pos":[1219,1455],"content":"In the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>bindings&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md)</ept> node of the configuration file, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>customBinding&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)</ept> element.","source":"In the [\\<bindings>](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) node of the configuration file, create a [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) element."},{"pos":[1465,1732],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>customBinding&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>binding&gt;<ept id=\"p2\">](../../../../docs/framework/misc/binding.md)</ept> element with the <ph id=\"ph3\">`name`</ph> attribute set to <ph id=\"ph4\">`FederationDuplexHttpMessageSecurityBinding`</ph>.","source":"Inside the [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) element, create a [\\<binding>](../../../../docs/framework/misc/binding.md) element with the `name` attribute set to `FederationDuplexHttpMessageSecurityBinding`."},{"pos":[1742,2006],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>binding&gt;<ept id=\"p1\">](../../../../docs/framework/misc/binding.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>security&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element with the <ph id=\"ph3\">`authenticationMode`</ph> attribute set to <ph id=\"ph4\">`SecureConversation`</ph>.","source":"Inside the [\\<binding>](../../../../docs/framework/misc/binding.md) element, create a [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element with the `authenticationMode` attribute set to `SecureConversation`."},{"pos":[2016,2386],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>secureConversationBootstrap&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md)</ept> element with the <ph id=\"ph3\">`authenticationMode`</ph> attribute set to <ph id=\"ph4\">`IssuedTokenForCertificate`</ph> or <ph id=\"ph5\">`IssuedTokenForSslNegotiated`</ph>.","source":"Inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create a [\\<secureConversationBootstrap>](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md) element with the `authenticationMode` attribute set to `IssuedTokenForCertificate` or `IssuedTokenForSslNegotiated`."},{"pos":[2396,2644],"content":"Following the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element, create an empty <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>compositeDuplex&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/compositeduplex.md)</ept> element.","source":"Following the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create an empty [\\<compositeDuplex>](../../../../docs/framework/configure-apps/file-schema/wcf/compositeduplex.md) element."},{"pos":[2654,2881],"content":"Following the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>compositeDuplex&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/compositeduplex.md)</ept> element, create an empty <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>oneWay&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element.","source":"Following the [\\<compositeDuplex>](../../../../docs/framework/configure-apps/file-schema/wcf/compositeduplex.md) element, create an empty [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element."},{"pos":[2891,3114],"content":"Following the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>oneWay&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element, create an empty <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>httpTransport&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/httptransport.md)</ept> element.","source":"Following the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create an empty [\\<httpTransport>](../../../../docs/framework/configure-apps/file-schema/wcf/httptransport.md) element."},{"pos":[3124,3198],"content":"To create a duplex federated custom binding with TCP message security mode","linkify":"To create a duplex federated custom binding with TCP message security mode","nodes":[{"content":"To create a duplex federated custom binding with TCP message security mode","pos":[0,74]}]},{"pos":[3208,3426],"content":"In the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>oneWay&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> node of the configuration file, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>oneWay&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element.","source":"In the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) node of the configuration file, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element."},{"pos":[3436,3712],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>oneWay&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>oneWay&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element with the <ph id=\"ph3\">`name`</ph> attribute set to <ph id=\"ph4\">`FederationDuplexTcpMessageSecurityBinding`</ph>.","source":"Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element with the `name` attribute set to `FederationDuplexTcpMessageSecurityBinding`."},{"pos":[3722,4010],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>oneWay&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>security&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element with the <ph id=\"ph3\">`authenticationMode`</ph> attribute set to <ph id=\"ph4\">`SecureConversation`</ph>.","source":"Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element with the `authenticationMode` attribute set to `SecureConversation`."},{"pos":[4020,4390],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>secureConversationBootstrap&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md)</ept> element with the <ph id=\"ph3\">`authenticationMode`</ph> attribute set to <ph id=\"ph4\">`IssuedTokenForCertificate`</ph> or <ph id=\"ph5\">`IssuedTokenForSslNegotiated`</ph>.","source":"Inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create a [\\<secureConversationBootstrap>](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md) element with the `authenticationMode` attribute set to `IssuedTokenForCertificate` or `IssuedTokenForSslNegotiated`."},{"pos":[4400,4642],"content":"Following the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element, create an empty <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>tcpTransport&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/tcptransport.md)</ept> element.","source":"Following the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create an empty [\\<tcpTransport>](../../../../docs/framework/configure-apps/file-schema/wcf/tcptransport.md) element."},{"pos":[4652,4724],"content":"To create a duplex federated custom binding with TCP mixed security mode","linkify":"To create a duplex federated custom binding with TCP mixed security mode","nodes":[{"content":"To create a duplex federated custom binding with TCP mixed security mode","pos":[0,72]}]},{"pos":[4734,4952],"content":"In the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>oneWay&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> node of the configuration file, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>oneWay&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element.","source":"In the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) node of the configuration file, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element."},{"pos":[4962,5261],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>oneWay&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>oneWay&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element with the <ph id=\"ph3\">`name`</ph> attribute set to <ph id=\"ph4\">`FederationDuplexTcpTransportSecurityWithMessageCredentialBinding`</ph>.","source":"Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element with the `name` attribute set to `FederationDuplexTcpTransportSecurityWithMessageCredentialBinding`."},{"pos":[5271,5559],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>oneWay&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>security&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element with the <ph id=\"ph3\">`authenticationMode`</ph> attribute set to <ph id=\"ph4\">`SecureConversation`</ph>.","source":"Inside the [\\<oneWay>](../../../../docs/framework/configure-apps/file-schema/wcf/oneway.md) element, create a [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element with the `authenticationMode` attribute set to `SecureConversation`."},{"pos":[5569,5939],"content":"Inside the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element, create a <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>secureConversationBootstrap&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md)</ept> element with the <ph id=\"ph3\">`authenticationMode`</ph> attribute set to <ph id=\"ph4\">`IssuedTokenForCertificate`</ph> or <ph id=\"ph5\">`IssuedTokenForSslNegotiated`</ph>.","source":"Inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create a [\\<secureConversationBootstrap>](../../../../docs/framework/configure-apps/file-schema/wcf/secureconversationbootstrap.md) element with the `authenticationMode` attribute set to `IssuedTokenForCertificate` or `IssuedTokenForSslNegotiated`."},{"pos":[5949,6201],"content":"Following the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> element, create an empty <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>sslStreamSecurity&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/sslstreamsecurity.md)</ept> element.","source":"Following the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) element, create an empty [\\<sslStreamSecurity>](../../../../docs/framework/configure-apps/file-schema/wcf/sslstreamsecurity.md) element."},{"pos":[6211,6454],"content":"Following the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>sslStreamSecurity&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/sslstreamsecurity.md)</ept> element, create an empty <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>tcpTransport&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/tcptransport.md)</ept> element.","source":"Following the [\\<sslStreamSecurity>](../../../../docs/framework/configure-apps/file-schema/wcf/sslstreamsecurity.md) element, create an empty [\\<tcpTransport>](../../../../docs/framework/configure-apps/file-schema/wcf/tcptransport.md) element."},{"pos":[6463,6474],"content":"Code Sample","linkify":"Code Sample","nodes":[{"content":"Code Sample","pos":[0,11]}]},{"pos":[6485,6507],"content":"Sample with 3 Bindings","linkify":"Sample with 3 Bindings","nodes":[{"content":"Sample with 3 Bindings","pos":[0,22]}]},{"content":"Insert the following code into your configuration file.","pos":[6517,6572]},{"pos":[6581,6588],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]}]}