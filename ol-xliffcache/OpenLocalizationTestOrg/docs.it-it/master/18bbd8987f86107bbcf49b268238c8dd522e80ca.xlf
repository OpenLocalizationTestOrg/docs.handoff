<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="markdown" source-language="en-US" target-language="it-it">
    <header>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-b81d562" tool-company="Microsoft" />
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">18bbd8987f86107bbcf49b268238c8dd522e80ca</xliffext:olfilehash>
      <xliffext:olfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">docs\framework\windows-workflow-foundation\samples\built-in-configuration.md</xliffext:olfilepath>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">net-med-mt</xliffext:oltranslationpriority>
      <xliffext:oltranslationtype xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">Machine Translation</xliffext:oltranslationtype>
      <xliffext:olskeletonhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">e3016d3f9ce6c420d8d21dbe18cb30112ba08068</xliffext:olskeletonhash>
      <xliffext:olxliffhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">3d1a3b1fdbc787b784ab847fba2a7f8022b82b0c</xliffext:olxliffhash>
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Built-in Configuration | Microsoft Docs</source>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Built-in Configuration</source>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>This sample demonstrates the use and configuration of the SQL workflow instance store.</source>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>The SQL workflow instance store is a SQL-based implementation of an instance store.</source>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>It allows an instance to save and load its state to and from a SQL Server or SQL Server Express database.</source>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>The samples may already be installed on your computer.</source>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Check for the following (default) directory before continuing.</source>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>If this directory does not exist, go to (download page) to download all <ph id="ph1">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id="ph2">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.</source>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>This sample is located in the following directory.</source>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Sample Details</source>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>This sample consists of a workflow that implements a counting service.</source>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Once the service's start method is invoked, the service counts from 0 to 59.</source>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>The counter is incremented once every 2 seconds.</source>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>After each count, the workflow persists.</source>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>The counting workflow is self-hosted by a workflow service host.</source>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>The program's <ph id="ph1">`Main`</ph> method creates an instance of the workflow service host that hosts the counting workflow.</source>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>It defines the endpoints under which the counting workflow can be reached.</source>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>After that, it defines a SQL workflow instance store behavior, which is used to configure the SQL workflow instance store.</source>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>Next, the program creates a client that calls the start method of the counting workflow.</source>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Once the program is started, the counter automatically starts counting.</source>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Note that it might take a few seconds to load the instance and configure the SQL workflow instance store.</source>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> the workflow instance store, see <bpt id="p1">[</bpt>SQL Workflow Instance Store<ept id="p1">](../../../../docs/framework/windows-workflow-foundation/sql-workflow-instance-store.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>The sample consists of two parts:</source>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>InstanceStore1 shows how <ph id="ph1">&lt;xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore&gt;</ph> is configured using C# code (see Program.cs).</source>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>InstanceStore2 shows how <ph id="ph1">&lt;xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore&gt;</ph> is configured using XML (see App.config).</source>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>The following settings are available to configure the SQL Workflow Instance Store behavior:</source>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`HostLockRenewalPeriod`</ph>.</source>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>This time defines the interval with which the host renews the ownership lock of the instances it runs.</source>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>The lock information is stored in the Instance Store.</source>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>If the ownership is not renewed for two of the intervals defined in <ph id="ph1">`HostLockRenewalPeriod`</ph>, the instance is considered abandoned.</source>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>If another <ph id="ph1">&lt;xref:System.ServiceModel.Activities.WorkflowServiceHost&gt;</ph> is running the same workflow and connected to the same instance store (either on the same computer or a different computer), it recovers that instance.</source>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>(Instance Recovery is out of scope for this sample.)</source>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`RunnableInstancesDetectionPeriod`</ph>.</source>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>This period defines the interval in which the host polls for instances that have become runnable.</source>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>Instances may become runnable if any of the following events occur:</source>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>A Durable Timer (<ph id="ph1">&lt;xref:System.Activities.Statements.Delay&gt;</ph>) expires.</source>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>Another host misses its <ph id="ph1">`HostLockRenewal`</ph> heartbeat (for example, due to a computer crash) and the instance is recovered.</source>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`InstanceCompletionAction`</ph>.</source>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>This property, if set to <ph id="ph1">`DeleteNothing`</ph>, keeps completed instances in the Instance Store; if set to <ph id="ph2">`DeleteAll`</ph>, instances are deleted from the store upon completion.</source>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Note that</source>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Terminating the host by pressing ENTER before the counting has completed does not complete the workflow instance.</source>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`InstanceLockedExceptionAction`</ph>.</source>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>This setting defines what a host should do if it wants to load an instance that is locked by another host.</source>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>The following options exist:</source>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>If set to <ph id="ph1">`NoRetry`</ph>: Do not retry the load and return an <ph id="ph2">`InstanceLockedException`</ph> to the host.</source>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>If set to <ph id="ph1">`BasicRetry`</ph>: Keep retrying to load the instance.</source>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>The retries are scheduled according to a simple linear algorithm (for example, retry every 5 seconds).</source>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>If set to <ph id="ph1">`AggressiveRetry`</ph>: Keep retrying to load the instance.</source>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>The retries are scheduled according to an aggressive exponential back-off algorithm.</source>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>Set the Encoding option.</source>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>This setting defines how the instance state is stored in the SQL Workflow Instance Store.</source>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>The following options exist:</source>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>The instance state is compressed using the GZip compression algorithm.</source>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>The instance state is not compressed.</source>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>To use this sample</source>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>Open a <ph id="ph1">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph> command prompt as an Administrator if permissions are available.</source>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Navigate to the sample directory (\WF\Basic\Persistence\BuiltInConfiguration\CS) and run CreateInstanceStore.cmd.</source>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>If Administrator privileges are not available, Create SQL Server login.</source>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>Go to <ph id="ph1">`Security`</ph>, <bpt id="p1">**</bpt>Logins<ept id="p1">**</ept>.</source>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>Right-click <bpt id="p1">**</bpt>Logins<ept id="p1">**</ept> and create a new login.</source>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>Add your ACL user to SQL role.</source>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>Open <bpt id="p1">**</bpt>Databases<ept id="p1">**</ept>, <bpt id="p2">**</bpt>InstanceStore<ept id="p2">**</ept>, <bpt id="p3">**</bpt>Security<ept id="p3">**</ept>.</source>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>Right-click <bpt id="p1">**</bpt>Users<ept id="p1">**</ept> and select <bpt id="p2">**</bpt>New users<ept id="p2">**</ept>.</source>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Set the <bpt id="p1">**</bpt>Login name<ept id="p1">**</ept> to the user created in the previous step.</source>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>Add the user to the Database role membership <bpt id="p1">**</bpt>System.Activities.DurableInstancing.InstanceStoreUsers<ept id="p1">**</ept> (and others).</source>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>Note that the user might exist already (for example, user dbo).</source>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>Open the InstanceStore.sln file in <ph id="ph1">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph> and build the solution by pressing CTRL+SHIFT+B.</source>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source>In <ph id="ph1">[!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)]</ph>, navigate to the sample’s appropriate bin\debug directory (\WF\Basic\Persistence\BuiltInConfiguration\cs\InstanceStore(1 or 2)\bin\debug), right click InstanceStore.exe and select <bpt id="p1">**</bpt>Run as administrator<ept id="p1">**</ept>.</source>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>This sample must be run with administrative privileges because it opens a channel listener.</source>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>If you created the instance store in a database other than a local installation of SQL Server Express you must update the database connection string (<ph id="ph1">`const string ConnectionString`</ph> in Program.cs of the InstanceStore1 project, and the <ph id="ph2">`connectionString`</ph> attribute in App.config of the InstanceStore2 project) in the sample and recompile the sample.</source>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>To verify the sample is running correctly</source>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>While the sample is running, start SQL Server Management Studio.</source>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Object Explorer<ept id="p1">**</ept>, select <bpt id="p2">**</bpt>Databases<ept id="p2">**</ept>, <bpt id="p3">**</bpt>InstanceStore<ept id="p3">**</ept>, <bpt id="p4">**</bpt>Tables<ept id="p4">**</ept>, and then <bpt id="p5">**</bpt>System.Activities.DurableInstancing.InstanceTable<ept id="p5">**</ept>.</source>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>Right click <bpt id="p1">**</bpt>InstanceTable<ept id="p1">**</ept> and select <bpt id="p2">**</bpt>Select Top 1000 Rows<ept id="p2">**</ept>.</source>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>Observe that there is a new entry and that the <bpt id="p1">**</bpt>Lock Expiration<ept id="p1">**</ept> changes every 5 seconds, (click the taskbar’s <bpt id="p2">**</bpt>Execute<ept id="p2">**</ept> button to refresh the query).</source>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>This is a consequence of setting the <bpt id="p1">**</bpt>Host Lock Renewal Period<ept id="p1">**</ept> to 5.</source>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>Observe after the counting completes, that the entry in the instance table is removed.</source>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>This is a consequence of setting <bpt id="p1">**</bpt>Instance Completion Action<ept id="p1">**</ept> to <bpt id="p2">**</bpt>DeleteAll<ept id="p2">**</ept>.</source>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>Press ENTER to terminate the workflow host application and observe that the <bpt id="p1">**</bpt>LockOwnersTable<ept id="p1">**</ept> is deleted.</source>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>To uninstall the sample</source>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>Run RemoveInstanceStore.cmd in the sample directory (\WF\Basic\Persistence\BuiltInConfiguration).</source>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>The samples may already be installed on your computer.</source>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>Check for the following (default) directory before continuing.</source>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>If this directory does not exist, go to <bpt id="p1">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id="ph1">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id="ph2">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.</source>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source>This sample is located in the following directory.</source>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source>See Also</source>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>AppFabric Hosting and Persistence Samples<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=193961)</ept></source>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>