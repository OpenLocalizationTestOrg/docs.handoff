{"content":"---\ntitle: \"Dynamically Enabling Analytic Tracing\"\nms.date: \"03/30/2017\"\nms.assetid: 58b63cfc-307a-427d-b69d-9917ff9f44ac\n---\n# Dynamically Enabling Analytic Tracing\nUsing tools that ship with the Windows operating system, you can enable or disable tracing dynamically using Event Tracing for Windows (ETW). For all [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] Windows Communication Foundation (WCF) services, analytic tracing can be enabled and disabled dynamically without modifying the application’s Web.config file or restarting the service. This allows the application that emits the trace events to remain undisturbed.  \n  \n WCF tracing options can be configured in a similar way. For example, you can change the severity level from **Error** to **Information** without disturbing the application. This can be done using the following tools:  \n  \n-   **Logman** – A command line tool for configuring, controlling, and querying tracing data. For more information, see [Logman Create Trace](https://go.microsoft.com/fwlink/?LinkId=165426) and [Logman Update Trace](https://go.microsoft.com/fwlink/?LinkId=165427).  \n  \n-   **EventViewer** - Windows graphical management tool for viewing the results of tracing. For more information, see [WCF Services and Event Tracing for Windows](../../../../../docs/framework/wcf/samples/wcf-services-and-event-tracing-for-windows.md) and [Event Viewer](https://go.microsoft.com/fwlink/?LinkId=165428).  \n  \n-   **Perfmon** – Windows graphical management tool that uses counters to monitor tracing counters and the effects of tracing on performance. For more information, see [Create a Data Collector Set Manually](https://go.microsoft.com/fwlink/?LinkId=165429).  \n  \n### Keywords  \n When using the <xref:System.ServiceModel.Activation.Configuration.ServiceModelActivationSectionGroup.Diagnostics%2A> class, .NET Framework trace messages are generally filtered by the severity level (for example, Error, Warning, and Information). ETW supports the severity level concept, but introduces a new, flexible filter mechanism using keywords. Keywords are arbitrary textual values that let tracing events provide additional context about what that event means.  \n  \n For WCF analytic tracing, each trace event has two types of keywords. First, each event has one or more scenario keywords. These keywords denote the scenarios that this event is intended to support. There are three scenario keywords, each designed for a specific purpose as shown in the following table. Filtering using keywords can be changed dynamically without disturbing the WCF service. That means that you can dynamically change your current tracing scenario and the amount of tracing information you gather. For example, you can change `HealthMonitoring` to `Troubleshooting` and increase Tracing Event granularity.  \n  \n|Keyword|Description|  \n|-------------|-----------------|  \n|`HealthMonitoring`|Very lightweight, minimal tracing that lets you monitor your service’s activity.|  \n|`EndToEndMonitoring`|Events used to support message flow tracing.|  \n|`Troubleshooting`|More granular events around the extensibility points of WCF.|  \n  \n The second group of keywords define which component of the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] emitted the event.  \n  \n|Keyword|Description|  \n|-------------|-----------------|  \n|`UserEvents`|Events emitted by the user code and not the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)].|  \n|`ServiceModel`|Events emitted by the WCF runtime.|  \n|`ServiceHost`|Events emitted by the service host.|  \n|`WCFMessageLogging`|WCF message logging events.|  \n  \n## See also\n\n- [WCF Services and Event Tracing for Windows](../../../../../docs/framework/wcf/samples/wcf-services-and-event-tracing-for-windows.md)\n","nodes":[{"pos":[4,121],"embed":true,"restype":"x-metadata","content":"title: \"Dynamically Enabling Analytic Tracing\"\nms.date: \"03/30/2017\"\nms.assetid: 58b63cfc-307a-427d-b69d-9917ff9f44ac","nodes":[{"content":"Dynamically Enabling Analytic Tracing","nodes":[{"pos":[0,37],"content":"Dynamically Enabling Analytic Tracing","nodes":[{"content":"Dynamically Enabling Analytic Tracing","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[128,165],"content":"Dynamically Enabling Analytic Tracing","linkify":"Dynamically Enabling Analytic Tracing","nodes":[{"content":"Dynamically Enabling Analytic Tracing","pos":[0,37]}]},{"content":"Using tools that ship with the Windows operating system, you can enable or disable tracing dynamically using Event Tracing for Windows (ETW).","pos":[166,307]},{"content":"For all <ph id=\"ph1\">[!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)]</ph> Windows Communication Foundation (WCF) services, analytic tracing can be enabled and disabled dynamically without modifying the application’s Web.config file or restarting the service.","pos":[308,581],"source":" For all [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] Windows Communication Foundation (WCF) services, analytic tracing can be enabled and disabled dynamically without modifying the application’s Web.config file or restarting the service."},{"content":"This allows the application that emits the trace events to remain undisturbed.","pos":[582,660]},{"content":"WCF tracing options can be configured in a similar way.","pos":[667,722]},{"content":"For example, you can change the severity level from <bpt id=\"p1\">**</bpt>Error<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>Information<ept id=\"p2\">**</ept> without disturbing the application.","pos":[723,839],"source":" For example, you can change the severity level from **Error** to **Information** without disturbing the application."},{"content":"This can be done using the following tools:","pos":[840,883]},{"content":"<bpt id=\"p1\">**</bpt>Logman<ept id=\"p1\">**</ept> – A command line tool for configuring, controlling, and querying tracing data.","pos":[893,982],"source":"**Logman** – A command line tool for configuring, controlling, and querying tracing data."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Logman Create Trace<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=165426)</ept> and <bpt id=\"p2\">[</bpt>Logman Update Trace<ept id=\"p2\">](https://go.microsoft.com/fwlink/?LinkId=165427)</ept>.","pos":[983,1153],"source":" For more information, see [Logman Create Trace](https://go.microsoft.com/fwlink/?LinkId=165426) and [Logman Update Trace](https://go.microsoft.com/fwlink/?LinkId=165427)."},{"content":"<bpt id=\"p1\">**</bpt>EventViewer<ept id=\"p1\">**</ept> - Windows graphical management tool for viewing the results of tracing.","pos":[1163,1250],"source":"**EventViewer** - Windows graphical management tool for viewing the results of tracing."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WCF Services and Event Tracing for Windows<ept id=\"p1\">](../../../../../docs/framework/wcf/samples/wcf-services-and-event-tracing-for-windows.md)</ept> and <bpt id=\"p2\">[</bpt>Event Viewer<ept id=\"p2\">](https://go.microsoft.com/fwlink/?LinkId=165428)</ept>.","pos":[1251,1478],"source":" For more information, see [WCF Services and Event Tracing for Windows](../../../../../docs/framework/wcf/samples/wcf-services-and-event-tracing-for-windows.md) and [Event Viewer](https://go.microsoft.com/fwlink/?LinkId=165428)."},{"content":"<bpt id=\"p1\">**</bpt>Perfmon<ept id=\"p1\">**</ept> – Windows graphical management tool that uses counters to monitor tracing counters and the effects of tracing on performance.","pos":[1488,1625],"source":"**Perfmon** – Windows graphical management tool that uses counters to monitor tracing counters and the effects of tracing on performance."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Create a Data Collector Set Manually<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=165429)</ept>.","pos":[1626,1739],"source":" For more information, see [Create a Data Collector Set Manually](https://go.microsoft.com/fwlink/?LinkId=165429)."},{"pos":[1749,1757],"content":"Keywords","linkify":"Keywords","nodes":[{"content":"Keywords","pos":[0,8]}]},{"content":"When using the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activation.Configuration.ServiceModelActivationSectionGroup.Diagnostics%2A&gt;</ph> class, .NET Framework trace messages are generally filtered by the severity level (for example, Error, Warning, and Information).","pos":[1761,2007],"source":"When using the <xref:System.ServiceModel.Activation.Configuration.ServiceModelActivationSectionGroup.Diagnostics%2A> class, .NET Framework trace messages are generally filtered by the severity level (for example, Error, Warning, and Information)."},{"content":"ETW supports the severity level concept, but introduces a new, flexible filter mechanism using keywords.","pos":[2008,2112]},{"content":"Keywords are arbitrary textual values that let tracing events provide additional context about what that event means.","pos":[2113,2230]},{"content":"For WCF analytic tracing, each trace event has two types of keywords.","pos":[2237,2306]},{"content":"First, each event has one or more scenario keywords.","pos":[2307,2359]},{"content":"These keywords denote the scenarios that this event is intended to support.","pos":[2360,2435]},{"content":"There are three scenario keywords, each designed for a specific purpose as shown in the following table.","pos":[2436,2540]},{"content":"Filtering using keywords can be changed dynamically without disturbing the WCF service.","pos":[2541,2628]},{"content":"That means that you can dynamically change your current tracing scenario and the amount of tracing information you gather.","pos":[2629,2751]},{"content":"For example, you can change <ph id=\"ph1\">`HealthMonitoring`</ph> to <ph id=\"ph2\">`Troubleshooting`</ph> and increase Tracing Event granularity.","pos":[2752,2859],"source":" For example, you can change `HealthMonitoring` to `Troubleshooting` and increase Tracing Event granularity."},{"content":"Keyword","pos":[2866,2873]},{"content":"Description","pos":[2874,2885]},{"content":"Very lightweight, minimal tracing that lets you monitor your service’s activity.","pos":[2945,3025]},{"content":"Events used to support message flow tracing.","pos":[3051,3095]},{"content":"More granular events around the extensibility points of WCF.","pos":[3118,3178]},{"pos":[3186,3330],"content":"The second group of keywords define which component of the <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)]</ph> emitted the event.","source":"The second group of keywords define which component of the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] emitted the event."},{"content":"Keyword","pos":[3337,3344]},{"content":"Description","pos":[3345,3356]},{"pos":[3410,3521],"content":"Events emitted by the user code and not the <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)]</ph>.","source":"Events emitted by the user code and not the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)]."},{"content":"Events emitted by the WCF runtime.","pos":[3541,3575]},{"content":"Events emitted by the service host.","pos":[3594,3629]},{"content":"WCF message logging events.","pos":[3654,3681]},{"pos":[3691,3699],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3703,3836],"content":"<bpt id=\"p1\">[</bpt>WCF Services and Event Tracing for Windows<ept id=\"p1\">](../../../../../docs/framework/wcf/samples/wcf-services-and-event-tracing-for-windows.md)</ept>","source":"[WCF Services and Event Tracing for Windows](../../../../../docs/framework/wcf/samples/wcf-services-and-event-tracing-for-windows.md)"}]}