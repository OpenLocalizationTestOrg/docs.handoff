{"content":"---\ntitle: \"How to: Disable Secure Sessions on a WSFederationHttpBinding\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"WCF, federation\"\n  - \"federation\"\nms.assetid: 675fa143-6a4e-4be3-8afc-673334ab55ec\n---\n# How to: Disable Secure Sessions on a WSFederationHttpBinding\nSome services may require federated credentials but not support secure sessions. In that case, you must disable the secure session feature. Unlike the <xref:System.ServiceModel.WSHttpBinding>, the <xref:System.ServiceModel.WSFederationHttpBinding> class does not provide a way to disable secure sessions when communicating with a service. Instead, you must create a custom binding that replaces the secure session settings with a bootstrap.  \n  \n This topic demonstrates how to modify the binding elements contained within a <xref:System.ServiceModel.WSFederationHttpBinding> to create a custom binding. The result is identical to the <xref:System.ServiceModel.WSFederationHttpBinding> except that it does not use secure sessions.  \n  \n### To create a custom federated binding without secure session  \n  \n1.  Create an instance of the <xref:System.ServiceModel.WSFederationHttpBinding> class either imperatively in code or by loading one from the configuration file.  \n  \n2.  Clone the <xref:System.ServiceModel.WSFederationHttpBinding> into a <xref:System.ServiceModel.Channels.CustomBinding>.  \n  \n3.  Find the <xref:System.ServiceModel.Channels.SecurityBindingElement> in the <xref:System.ServiceModel.Channels.CustomBinding>.  \n  \n4.  Find the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters> in the <xref:System.ServiceModel.Channels.SecurityBindingElement>.  \n  \n5.  Replace the original <xref:System.ServiceModel.Channels.SecurityBindingElement> with the bootstrap security binding element from the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters>.  \n  \n## Example  \n This following example creates a custom federated binding without secure session.  \n  \n [!code-csharp[c_CustomFederationBinding#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customfederationbinding/cs/c_customfederationbinding.cs#0)]\n [!code-vb[c_CustomFederationBinding#0](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customfederationbinding/vb/c_customfederationbinding.vb#0)]  \n  \n## Compiling the Code  \n  \n-   To compile the code example, create a project that references the System.ServiceModel.dll assembly.  \n  \n## See also\n\n- [Bindings and Security](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)\n","nodes":[{"pos":[4,239],"embed":true,"restype":"x-metadata","content":"title: \"How to: Disable Secure Sessions on a WSFederationHttpBinding\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"WCF, federation\"\n  - \"federation\"\nms.assetid: 675fa143-6a4e-4be3-8afc-673334ab55ec","nodes":[{"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding","nodes":[{"pos":[0,60],"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding","nodes":[{"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding","pos":[0,60]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[246,306],"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding","linkify":"How to: Disable Secure Sessions on a WSFederationHttpBinding","nodes":[{"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding","pos":[0,60]}]},{"content":"Some services may require federated credentials but not support secure sessions.","pos":[307,387]},{"content":"In that case, you must disable the secure session feature.","pos":[388,446]},{"content":"Unlike the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSHttpBinding&gt;</ph>, the <ph id=\"ph2\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> class does not provide a way to disable secure sessions when communicating with a service.","pos":[447,645],"source":" Unlike the <xref:System.ServiceModel.WSHttpBinding>, the <xref:System.ServiceModel.WSFederationHttpBinding> class does not provide a way to disable secure sessions when communicating with a service."},{"content":"Instead, you must create a custom binding that replaces the secure session settings with a bootstrap.","pos":[646,747]},{"content":"This topic demonstrates how to modify the binding elements contained within a <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> to create a custom binding.","pos":[754,910],"source":"This topic demonstrates how to modify the binding elements contained within a <xref:System.ServiceModel.WSFederationHttpBinding> to create a custom binding."},{"content":"The result is identical to the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> except that it does not use secure sessions.","pos":[911,1037],"source":" The result is identical to the <xref:System.ServiceModel.WSFederationHttpBinding> except that it does not use secure sessions."},{"pos":[1047,1106],"content":"To create a custom federated binding without secure session","linkify":"To create a custom federated binding without secure session","nodes":[{"content":"To create a custom federated binding without secure session","pos":[0,59]}]},{"pos":[1116,1273],"content":"Create an instance of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> class either imperatively in code or by loading one from the configuration file.","source":"Create an instance of the <xref:System.ServiceModel.WSFederationHttpBinding> class either imperatively in code or by loading one from the configuration file."},{"pos":[1283,1401],"content":"Clone the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> into a <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.CustomBinding&gt;</ph>.","source":"Clone the <xref:System.ServiceModel.WSFederationHttpBinding> into a <xref:System.ServiceModel.Channels.CustomBinding>."},{"pos":[1411,1536],"content":"Find the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.SecurityBindingElement&gt;</ph> in the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.CustomBinding&gt;</ph>.","source":"Find the <xref:System.ServiceModel.Channels.SecurityBindingElement> in the <xref:System.ServiceModel.Channels.CustomBinding>."},{"pos":[1546,1706],"content":"Find the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters&gt;</ph> in the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.SecurityBindingElement&gt;</ph>.","source":"Find the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters> in the <xref:System.ServiceModel.Channels.SecurityBindingElement>."},{"pos":[1716,1934],"content":"Replace the original <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.SecurityBindingElement&gt;</ph> with the bootstrap security binding element from the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters&gt;</ph>.","source":"Replace the original <xref:System.ServiceModel.Channels.SecurityBindingElement> with the bootstrap security binding element from the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters>."},{"pos":[1943,1950],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"This following example creates a custom federated binding without secure session.","pos":[1954,2035]},{"pos":[2366,2384],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"content":"To compile the code example, create a project that references the System.ServiceModel.dll assembly.","pos":[2394,2493]},{"pos":[2502,2510],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2514,2610],"content":"<bpt id=\"p1\">[</bpt>Bindings and Security<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)</ept>","source":"[Bindings and Security](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)"}]}