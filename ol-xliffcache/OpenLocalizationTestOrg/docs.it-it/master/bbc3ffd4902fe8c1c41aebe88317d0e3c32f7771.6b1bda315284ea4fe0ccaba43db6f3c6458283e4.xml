{"content":"---\ntitle: \"OFTYPE (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: 6d259ca7-bbf0-40f8-a154-181d25c0d67e\n---\n# OFTYPE (Entity SQL)\nReturns a collection of objects from a query expression that is of a specific type.  \n  \n## Syntax  \n  \n```  \nOFTYPE ( expression, [ONLY] test_type )  \n```  \n  \n## Arguments  \n `expression`  \n Any valid query expression that returns a collection of objects.  \n  \n `test_type`  \n The type to test each object returned by `expression` against. The type must be qualified by a namespace.  \n  \n## Return Value  \n A collection of objects that are of type `test_type`, or a base type or derived type of `test_type`. If ONLY is specified, only instances of the `test_type` or an empty collection will be returned.  \n  \n## Remarks  \n An `OFTYPE` expression specifies a type expression that is issued to perform a type test against each element of a collection.  The `OFTYPE` expression produces a new collection of the specified type containing only those elements that were either equivalent to that type or a sub-type of it.  \n  \n An `OFTYPE` expression is an abbreviation of the following query expression:  \n  \n```  \nselect value treat(t as T) from ts as t where t is of (T)  \n```  \n  \n Given that a Manager is a subtype of Employee, the following expression produces a collection of only managers from a collection of employees:  \n  \n```  \nOfType(employees, NamespaceName.Manager)  \n```  \n  \n It is also possible to up cast a collection using the type filter:  \n  \n```  \nOfType(executives, NamespaceName.Manager)  \n```  \n  \n Since all executives are managers, the resulting collection still contains all the original executives, though the collection is now typed as a collection of managers.  \n  \n The following table shows the behavior of the `OFTYPE` operator over some patterns. All exceptions are thrown from the client side before the provider is invoked:  \n  \n|Pattern|Behavior|  \n|-------------|--------------|  \n|OFTYPE(Collection(EntityType), EntityType)|Collection(EntityType)|  \n|OFTYPE(Collection(ComplexType), ComplexType)|Throws|  \n|OFTYPE(Collection(RowType), RowType)|Throws|  \n  \n## Example  \n The following [!INCLUDE[esql](../../../../../../includes/esql-md.md)] query uses the OFTYPE operator to return a collection of OnsiteCourse objects from a collection of Course objects. The query is based on the [School Model](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896300(v=vs.100)).  \n  \n [!code-csharp[DP EntityServices Concepts 2#OFTYPE](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#oftype)]  \n  \n## See also\n\n- [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)\n","nodes":[{"pos":[4,103],"embed":true,"restype":"x-metadata","content":"title: \"OFTYPE (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: 6d259ca7-bbf0-40f8-a154-181d25c0d67e","nodes":[{"content":"OFTYPE (Entity SQL)","nodes":[{"pos":[0,19],"content":"OFTYPE (Entity SQL)","nodes":[{"content":"OFTYPE (Entity SQL)","pos":[0,19]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[110,129],"content":"OFTYPE (Entity SQL)","linkify":"OFTYPE (Entity SQL)","nodes":[{"content":"OFTYPE (Entity SQL)","pos":[0,19]}]},{"content":"Returns a collection of objects from a query expression that is of a specific type.","pos":[130,213]},{"pos":[222,228],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[294,303],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"Any valid query expression that returns a collection of objects.","pos":[323,387]},{"content":"The type to test each object returned by <ph id=\"ph1\">`expression`</ph> against.","pos":[409,471],"source":"The type to test each object returned by `expression` against."},{"content":"The type must be qualified by a namespace.","pos":[472,514]},{"pos":[523,535],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A collection of objects that are of type <ph id=\"ph1\">`test_type`</ph>, or a base type or derived type of <ph id=\"ph2\">`test_type`</ph>.","pos":[539,639],"source":"A collection of objects that are of type `test_type`, or a base type or derived type of `test_type`."},{"content":"If ONLY is specified, only instances of the <ph id=\"ph1\">`test_type`</ph> or an empty collection will be returned.","pos":[640,736],"source":" If ONLY is specified, only instances of the `test_type` or an empty collection will be returned."},{"pos":[745,752],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"An <ph id=\"ph1\">`OFTYPE`</ph> expression specifies a type expression that is issued to perform a type test against each element of a collection.","pos":[756,882],"source":"An `OFTYPE` expression specifies a type expression that is issued to perform a type test against each element of a collection."},{"content":"The <ph id=\"ph1\">`OFTYPE`</ph> expression produces a new collection of the specified type containing only those elements that were either equivalent to that type or a sub-type of it.","pos":[884,1048],"source":"  The `OFTYPE` expression produces a new collection of the specified type containing only those elements that were either equivalent to that type or a sub-type of it."},{"pos":[1055,1131],"content":"An <ph id=\"ph1\">`OFTYPE`</ph> expression is an abbreviation of the following query expression:","source":"An `OFTYPE` expression is an abbreviation of the following query expression:"},{"content":"Given that a Manager is a subtype of Employee, the following expression produces a collection of only managers from a collection of employees:","pos":[1213,1355]},{"content":"It is also possible to up cast a collection using the type filter:","pos":[1420,1486]},{"content":"Since all executives are managers, the resulting collection still contains all the original executives, though the collection is now typed as a collection of managers.","pos":[1552,1719]},{"content":"The following table shows the behavior of the <ph id=\"ph1\">`OFTYPE`</ph> operator over some patterns.","pos":[1726,1809],"source":"The following table shows the behavior of the `OFTYPE` operator over some patterns."},{"content":"All exceptions are thrown from the client side before the provider is invoked:","pos":[1810,1888]},{"content":"Pattern","pos":[1895,1902]},{"content":"Behavior","pos":[1903,1911]},{"content":"OFTYPE(Collection(EntityType), EntityType)","pos":[1949,1991]},{"content":"Collection(EntityType)","pos":[1992,2014]},{"content":"OFTYPE(Collection(ComplexType), ComplexType)","pos":[2019,2063]},{"content":"Throws","pos":[2064,2070]},{"content":"OFTYPE(Collection(RowType), RowType)","pos":[2075,2111]},{"content":"Throws","pos":[2112,2118]},{"pos":[2128,2135],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following <ph id=\"ph1\">[!INCLUDE[esql](../../../../../../includes/esql-md.md)]</ph> query uses the OFTYPE operator to return a collection of OnsiteCourse objects from a collection of Course objects.","pos":[2139,2323],"source":"The following [!INCLUDE[esql](../../../../../../includes/esql-md.md)] query uses the OFTYPE operator to return a collection of OnsiteCourse objects from a collection of Course objects."},{"content":"The query is based on the <bpt id=\"p1\">[</bpt>School Model<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896300(v=vs.100))</ept>.","pos":[2324,2454],"source":" The query is based on the [School Model](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896300(v=vs.100))."},{"pos":[2633,2641],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2645,2759],"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept>","source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)"}]}