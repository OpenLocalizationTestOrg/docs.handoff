{"content":"---\ntitle: \"Bidirectional Features in WPF Overview | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"FlowDocument property\"\n  - \"Span elements\"\n  - \"FlowDirection property\"\n  - \"bidirectional features\"\nms.assetid: fd850e25-7dba-408c-b521-8873e51dc968\ncaps.latest.revision: 22\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Bidirectional Features in WPF Overview\nUnlike any other development platform,              [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has many features that support rapid development of bidirectional content, for example, mixed left to right and right to left data in the same document. At the same time,              [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] creates an excellent experience for users who require bidirectional features such as Arabic and Hebrew speaking users.  \n  \n The following sections explain many bidirectional features together with examples illustrating how to achieve the best display of bidirectional content. Most of the samples use              [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)], though you can easily apply the concepts to              [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] or              [!INCLUDE[TLA#tla_visualb](../../../../includes/tlasharptla-visualb-md.md)] code.  \n  \n\n  \n<a name=\"FlowDirection\"></a>   \n## FlowDirection  \n The basic property that defines the content flow direction in a                  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application is                  <xref:System.Windows.FrameworkElement.FlowDirection%2A>. This property can be set to one of two enumeration values,                  <xref:System.Windows.FlowDirection> or                  <xref:System.Windows.FlowDirection>. The property is available to all                  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that inherit from                  <xref:System.Windows.FrameworkElement>.  \n  \n The following examples set the flow direction of a                  <xref:System.Windows.Controls.TextBox> element.  \n  \n **Left-to-right flow direction**  \n  \n [!code-xml[LTRRTL#LTR](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#ltr)]  \n  \n **Right-to-left flow direction**  \n  \n [!code-xml[LTRRTL#RTL](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#rtl)]  \n  \n The following graphic shows how the previous code renders.  \n  \n **Graphic That Illustrates FlowDirection**  \n  \n ![TextBlock alignment](../../../../docs/framework/wpf/advanced/media/lefttorightrighttoleft.PNG \"LefttoRightRighttoLeft\")  \n  \n An element within a                  [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] tree will inherit the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> from its container. In the following example, the                  <xref:System.Windows.Controls.TextBlock> is inside a                  <xref:System.Windows.Controls.Grid>, which resides in a                  <xref:System.Windows.Window>. Setting the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> for the                  <xref:System.Windows.Window> implies setting it for the                  <xref:System.Windows.Controls.Grid> and                  <xref:System.Windows.Controls.TextBlock> as well.  \n  \n The following example demonstrates setting                  <xref:System.Windows.FrameworkElement.FlowDirection%2A>.  \n  \n [!code-xml[FlowDirection#FlowDirection](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FlowDirection/CS/Window1.xaml#flowdirection)]  \n  \n The top level                  <xref:System.Windows.Window> has a                  <xref:System.Windows.FlowDirection><xref:System.Windows.FlowDirection>, so all elements contained within it also inherit the same                  <xref:System.Windows.FrameworkElement.FlowDirection%2A>. For an element to override a specified                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> it must add an explicit direction change such as the second                  <xref:System.Windows.Controls.TextBlock> in the previous example which changes to                  <xref:System.Windows.FlowDirection>. When no                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> is defined, the default                  <xref:System.Windows.FlowDirection> applies.  \n  \n The following graphic shows the output of the previous example.  \n  \n **Graphic That Illustrates Explicitly Assigned FlowDirection**  \n  \n ![Flow direction illustration](../../../../docs/framework/wpf/advanced/media/flowdir.PNG \"FlowDir\")  \n  \n<a name=\"FlowDocument\"></a>   \n## FlowDocument  \n Many development platforms such as                  [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)],                  [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] and Java provide special support for bidirectional content development. Markup languages such as                  [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] give content writers the necessary markup to display text in any required direction, for example the                  [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] 4.0 tag, \"dir\" that takes \"rtl\" or \"ltr\" as values. This tag is similar to the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> property, but the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> property works in a more advanced way to layout textual content and can be used for content other than text.  \n  \n In                  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a                  <xref:System.Windows.Documents.FlowDocument> is a versatile                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element that can host a combination of text, tables, images and other elements. The samples in the following sections use this element.  \n  \n Adding text to a                  <xref:System.Windows.Documents.FlowDocument> can be done in more that one way. A simple way to do so is through a                  <xref:System.Windows.Documents.Paragraph> which is a block-level element used to group content such as text. To add text to inline-level elements the samples use                  <xref:System.Windows.Documents.Span> and                  <xref:System.Windows.Documents.Run>.                  <xref:System.Windows.Documents.Span> is an inline-level flow content element used for grouping other inline elements, while a                  <xref:System.Windows.Documents.Run> is an inline-level flow content element intended to contain a run of unformatted text. A                  <xref:System.Windows.Documents.Span> can contain multiple                  <xref:System.Windows.Documents.Run> elements.  \n  \n The first document example contains a document that has a number of network share names; for example                  `\\\\server1\\folder\\file.ext`. Whether you have this network link in an Arabic or English document, you always want it to appear in the same way. The following graphic shows the link in an Arabic                  <xref:System.Windows.FlowDirection> document.  \n  \n **Graphic That Illustrates Using the Span Element**  \n  \n ![Document that flows from right to left](../../../../docs/framework/wpf/advanced/media/flowdocument.PNG \"FlowDocument\")  \n  \n Because the text is                  <xref:System.Windows.FlowDirection>, all special characters, such as the \"\\\\\", separate the text in a right to left order. That results in the link not being shown in the correct order, therefore to solve the problem, the text must be embedded to preserve a separate                  <xref:System.Windows.Documents.Run> flowing                  <xref:System.Windows.FlowDirection>. Instead of having a separate                  <xref:System.Windows.Documents.Run> for each language, a better way to solve the problem is to embed the less frequently used English text into a larger Arabic                  <xref:System.Windows.Documents.Span>.  \n  \n The following graphic illustrates this.  \n  \n **Graphic That Illustrates Using the Run Element Embedded in a Span Element**  \n  \n ![XamlPad screen shot](../../../../docs/framework/wpf/advanced/media/runspan.PNG \"RunSpan\")  \n  \n The following example demonstrates using                  <xref:System.Windows.Documents.Run> and                  <xref:System.Windows.Documents.Span> elements in documents.  \n  \n [!code-xml[RunSpan#RunSpan](../../../../samples/snippets/csharp/VS_Snippets_Wpf/RunSpan/CS/Window1.xaml#runspan)]  \n  \n<a name=\"SpanElements\"></a>   \n## Span Elements  \n The                  <xref:System.Windows.Documents.Span> element works as a boundary separator between texts with different flow directions.  Even                  <xref:System.Windows.Documents.Span> elements with the same flow direction are considered to have different bidirectional scopes which means that the                  <xref:System.Windows.Documents.Span> elements are ordered in the container’s                  <xref:System.Windows.FlowDirection>, only the content within the                  <xref:System.Windows.Documents.Span> element follows the                  <xref:System.Windows.FlowDirection> of the                  <xref:System.Windows.Documents.Span>.  \n  \n The following graphic shows the flow direction of several                  <xref:System.Windows.Controls.TextBlock> elements.  \n  \n **Graphic That Illustrates FlowDirection in Several TextBlock Elements**  \n  \n ![Text blocks with different flow directions](../../../../docs/framework/wpf/advanced/media/span.PNG \"Span\")  \n  \n The following example shows how to use the                  <xref:System.Windows.Documents.Span> and                  <xref:System.Windows.Documents.Run> elements to produce the results shown in the previous graphic.  \n  \n [!code-xml[Span#Span](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Span/CS/Window1.xaml#span)]  \n  \n In the                  <xref:System.Windows.Controls.TextBlock> elements in the sample, the                  <xref:System.Windows.Documents.Span> elements are laid out according to the                  <xref:System.Windows.FlowDirection> of their parents, but the text within each                  <xref:System.Windows.Documents.Span> element flows according to its own                  <xref:System.Windows.FlowDirection>. This is applicable to Latin and Arabic – or any other language.  \n  \n### Adding xml:lang  \n The following graphic shows another example that uses numbers and arithmetic expressions, such as                          `\"200.0+21.4=221.4\"`. Notice that only the                          <xref:System.Windows.FlowDirection> is set.  \n  \n **Graphic That Displays Numbers Using Only FlowDirection**  \n  \n ![Numbers that flow from right to left](../../../../docs/framework/wpf/advanced/media/langattribute.PNG \"LangAttribute\")  \n  \n Users of this application will be disappointed by the output, even though the                          <xref:System.Windows.FlowDirection> is correct the numbers are not shaped as Arabic numbers should be shaped.  \n  \n XAML elements can include an                          [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] attribute (                         `xml:lang`) that defines the language of each element. XAML also supports a                          [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] language principle whereby                          `xml:lang` values applied to parent elements in the tree are used by child elements. In the previous example, because a language was not defined for the                          <xref:System.Windows.Documents.Run> element or any of its top level elements, the default                          `xml:lang` was used, which is                          `en-US` for XAML. The internal number shaping algorithm of                          [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] selects numbers in the corresponding language – in this case English. To make the Arabic numbers render correctly                          `xml:lang` needs to be set.  \n  \n The following graphic shows the example with                          `xml:lang` added.  \n  \n **Graphic That Illustrates Using the xml:lang Attribute**  \n  \n ![Arabic numbers that flow from right to left](../../../../docs/framework/wpf/advanced/media/langattribute2.PNG \"LangAttribute2\")  \n  \n The following example adds                          `xml:lang` to the application.  \n  \n [!code-xml[LangAttribute#LangAttribute](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LangAttribute/CS/Window1.xaml#langattribute)]  \n  \n Be aware that many languages have different                          `xml:lang` values depending on the targeted region, for example,                          `\"ar-SA\"` and                          `\"ar-EG\"` represent two variations of Arabic. The previous examples illustrate that you need to define both the                          `xml:lang` and                          <xref:System.Windows.FlowDirection> values.  \n  \n<a name=\"FlowDirectionNontext\"></a>   \n## FlowDirection with Non-text Elements  \n <xref:System.Windows.FlowDirection> defines not only how text flows in a textual element but also the flow direction of almost every other                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element. The following graphic shows a                  <xref:System.Windows.Controls.ToolBar> that uses a horizontal                  <xref:System.Windows.Media.LinearGradientBrush> to draw its background.  \n  \n **Graphic That Shows a ToolBar with a Left to Right Gradient**  \n  \n ![Gradient screen shot](../../../../docs/framework/wpf/advanced/media/gradient.PNG \"Gradient\")  \n  \n After setting the                  <xref:System.Windows.FlowDirection> to                  <xref:System.Windows.FlowDirection>, not only the                  <xref:System.Windows.Controls.ToolBar> buttons are arranged from right to left, but even the                  <xref:System.Windows.Media.LinearGradientBrush> realigns its offsets to flow from right to left.  \n  \n The following graphic shows the realignment of the                  <xref:System.Windows.Media.LinearGradientBrush>.  \n  \n **Graphic That Shows a ToolBar with a Right to Left Gradient**  \n  \n ![A gradient that flows from right to left](../../../../docs/framework/wpf/advanced/media/gradient2-wpf.PNG \"Gradient2_WPF\")  \n  \n The following example draws a                  <xref:System.Windows.FlowDirection><xref:System.Windows.Controls.ToolBar>. (To draw it left to right, remove the                  <xref:System.Windows.FlowDirection> attribute on the                  <xref:System.Windows.Controls.ToolBar>.  \n  \n [!code-xml[Gradient#Gradient](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Gradient/CS/Window1.xaml#gradient)]  \n  \n<a name=\"FlowDirectionExceptions\"></a>   \n### FlowDirection Exceptions  \n There are a few cases where                          <xref:System.Windows.FlowDirection> does not behave as expected. This section covers two of these exceptions.  \n  \n **Image**  \n  \n An                          <xref:System.Windows.Controls.Image> represents a control that displays an image. In                          [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] it can be used with a                          <xref:System.Windows.Controls.Image.Source%2A> property that defines the                          [!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)] of the                          <xref:System.Windows.Controls.Image> to display.  \n  \n Unlike other                          [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements, an                          <xref:System.Windows.Controls.Image> does not inherit the                          <xref:System.Windows.FlowDirection> from the container. However, if the                          <xref:System.Windows.FlowDirection> is set explicitly to                          <xref:System.Windows.FlowDirection>, an                          <xref:System.Windows.Controls.Image> is displayed flipped horizontally. This is implemented as a convenient feature for developers of bidirectional content; because in some cases, horizontally flipping the image produces the desired effect.  \n  \n The following graphic shows a flipped                          <xref:System.Windows.Controls.Image>.  \n  \n **Graphic That Illustrates a Flipped Image**  \n  \n ![XamlPad screen shot](../../../../docs/framework/wpf/advanced/media/image.PNG \"Image\")  \n  \n The following example demonstrates that the                          <xref:System.Windows.Controls.Image> fails to inherit the                          <xref:System.Windows.FlowDirection> from the                          <xref:System.Windows.Controls.StackPanel> that contains it.                          **Note** You must have a file named                          **ms_logo.jpg** on your C:\\ drive to run this example.  \n  \n [!code-xml[Image#Image](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Image/CS/Window1.xaml#image)]  \n  \n **Note** Included in the download files is an                          **ms_logo.jpg** file. The code assumes that the .jpg file is not inside your project but somewhere on the C:\\ drive. You must copy the .jpg from the project files to your C:\\ drive or change the code to look for the file inside the project. To do this change                          `Source=\"file://c:/ms_logo.jpg\"` to                          `Source=\"ms_logo.jpg\"`.  \n  \n **Paths**  \n  \n In addition to an                          <xref:System.Windows.Controls.Image>, another interesting element is                          <xref:System.Windows.Shapes.Path>. A Path is an object that can draw a series of connected lines and curves. It behaves in a manner similar to an                          <xref:System.Windows.Controls.Image> regarding its                          <xref:System.Windows.FlowDirection>; for example its                          <xref:System.Windows.FlowDirection><xref:System.Windows.FlowDirection> is a horizontal mirror of its                          <xref:System.Windows.FlowDirection> one. However, unlike an                          <xref:System.Windows.Controls.Image>,                          <xref:System.Windows.Shapes.Path> inherits its                          <xref:System.Windows.FlowDirection> from the container and one does not need to specify it explicitly.  \n  \n The following example draws a simple arrow using 3 lines. The first arrow inherits the                          <xref:System.Windows.FlowDirection> flow direction from the                          <xref:System.Windows.Controls.StackPanel> so that its start and end points are measured from a root on the right side. The second arrow which has an explicit                          <xref:System.Windows.FlowDirection><xref:System.Windows.FlowDirection> also starts on the right side. However, the third arrow has its starting root on the left side. For more information on drawing see                          <xref:System.Windows.Media.LineGeometry> and                          <xref:System.Windows.Media.GeometryGroup>.  \n  \n [!code-xml[Paths#Paths](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Paths/CS/Window1.xaml#paths)]  \n  \n The following graphic shows the output of the previous example.  \n  \n **Graphic That Illustrates Arrows Drawn Using the Path Element**  \n  \n ![Paths](../../../../docs/framework/wpf/advanced/media/paths.PNG \"Paths\")  \n  \n The                          <xref:System.Windows.Controls.Image> and                          <xref:System.Windows.Shapes.Path> are two examples of a how                          [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] uses                          <xref:System.Windows.FlowDirection>. Beside laying out                          [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements in a specific direction within a container,                          <xref:System.Windows.FlowDirection> can be used with elements such as                          <xref:System.Windows.Controls.InkPresenter> which renders ink on a surface,                          <xref:System.Windows.Media.LinearGradientBrush>,                          <xref:System.Windows.Media.RadialGradientBrush>. Whenever you need a right to left behavior for your content that mimics a left to right behavior, or vice versa,                          [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] provides that capability.  \n  \n<a name=\"NumberSubstitution\"></a>   \n## Number Substitution  \n Historically,                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] has supported number substitution by allowing the representation of different cultural shapes for the same digits while keeping the internal storage of these digits unified among different locales, for example numbers are stored in their well known hexadecimal values, 0x40, 0x41, but displayed according to the selected language.  \n  \n This has allowed applications to process numerical values without the need to convert them from one language to another, for example a user can open an                  [!INCLUDE[TLA#tla_xl](../../../../includes/tlasharptla-xl-md.md)] spreadsheet in a localized Arabic                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see the numbers shaped in Arabic, but open it in a European version of                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see European representation of the same numbers. This is also necessary for other symbols such as comma separators and percentage symbol because they usually accompany numbers in the same document.  \n  \n [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] continues the same tradition, and adds further support for this feature that allows more user control over when and how substitution is used. While this feature is designed for any language, it is particularly useful in bidirectional content where shaping digits for a specific language is usually a challenge for application developers because of the various cultures an application might run on.  \n  \n The core property controlling how number substitution works in                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is the                  <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> dependency property. The                  <xref:System.Windows.Media.NumberSubstitution> class specifies how numbers in text are to be displayed. It has three public properties that define its behavior. Following is a summary of each of the properties.  \n  \n **CultureSource:**  \n  \n This property specifies how the culture for numbers is determined. It takes one of three                  <xref:System.Windows.Media.NumberCultureSource> enumeration values.  \n  \n-   Override: Number culture is that of                          <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property.  \n  \n-   Text: Number culture is the culture of the text run. In markup, this would be                          `xml:lang`, or its alias                          `Language` property (                         <xref:System.Windows.FrameworkElement.Language%2A> or                          <xref:System.Windows.FrameworkContentElement.Language%2A>). Also, it is the default for classes deriving from                          <xref:System.Windows.FrameworkContentElement>. Such classes include                          <xref:System.Windows.Documents.Paragraph?displayProperty=fullName>,                          <xref:System.Windows.Documents.Table?displayProperty=fullName>,                          <xref:System.Windows.Documents.TableCell?displayProperty=fullName> and so forth.  \n  \n-   User: Number culture is the culture of the current thread. This property is the default for all subclasses of                          <xref:System.Windows.FrameworkElement> such as                          <xref:System.Windows.Controls.Page>,                          <xref:System.Windows.Window> and                          <xref:System.Windows.Controls.TextBlock>.  \n  \n **CultureOverride**:  \n  \n The                  <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property is used only if the                  <xref:System.Windows.Media.NumberSubstitution.CultureSource%2A> property is set to                  <xref:System.Windows.Media.NumberCultureSource> and is ignored otherwise. It specifies the number culture. A value of                  `null`, the default value, is interpreted as en-US.  \n  \n **Substitution**:  \n  \n This property specifies the type of number substitution to perform. It takes one of the following                  <xref:System.Windows.Media.NumberSubstitutionMethod> enumeration values.  \n  \n-   <xref:System.Windows.Media.NumberSubstitutionMethod>: The substitution method is determined based on the number culture's                          <xref:System.Globalization.NumberFormatInfo.DigitSubstitution%2A?displayProperty=fullName> property. This is the default.  \n  \n-   <xref:System.Windows.Media.NumberSubstitutionMethod>: If the number culture is an Arabic or Farsi culture, it specifies that the digits depend on the context.  \n  \n-   <xref:System.Windows.Media.NumberSubstitutionMethod>: Numbers are always rendered as European digits.  \n  \n-   <xref:System.Windows.Media.NumberSubstitutionMethod>: Numbers are rendered using the national digits for the number culture, as specified by the culture's                          <xref:System.Globalization.CultureInfo.NumberFormat%2A>.  \n  \n-   <xref:System.Windows.Media.NumberSubstitutionMethod>: Numbers are rendered using the traditional digits for the number culture. For most cultures, this is the same as                          <xref:System.Windows.Media.NumberSubstitutionMethod>. However,                          <xref:System.Windows.Media.NumberSubstitutionMethod> results in Latin digits for some Arabic cultures, whereas this value results in Arabic digits for all Arabic cultures.  \n  \n What do those values mean for a bidirectional content developer? In most cases, the developer might need only to define                  <xref:System.Windows.FlowDirection> and the language of each textual                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element, for example                  `Language=\"ar-SA\"` and the                  <xref:System.Windows.Media.NumberSubstitution> logic takes care of displaying the numbers according to the correct                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]. The following example demonstrates using Arabic and English numbers in a                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application running in an Arabic version of                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].  \n  \n [!code-xml[Numbers#Numbers](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers/CS/Window1.xaml#numbers)]  \n  \n The following graphic shows the output of the previous sample if you are running in an Arabic version of                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].  \n  \n **Graphic That Shows Arabic and English Numbers Displayed**  \n  \n ![XamlPad screen shot with numbers](../../../../docs/framework/wpf/advanced/media/numbers.PNG \"Numbers\")  \n  \n The                  <xref:System.Windows.FlowDirection> was important in this case because setting the                  <xref:System.Windows.FlowDirection> to                  <xref:System.Windows.FlowDirection> instead would have yielded European digits. The following sections discuss how to have a unified display of digits throughout your document. If this example is not running on Arabic Windows, all the digits display as European digits.  \n  \n **Defining Substitution Rules**  \n  \n In a real application you might need to set the Language programmatically. For example, you want to set the                  `xml:lang` attribute to be the same as the one used by the system’s                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], or maybe change the language depending on the application state.  \n  \n If you want to make changes based on the application's state, make use of other features provided by                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].  \n  \n First, set the application component’s                  `NumberSubstitution.CultureSource=\"Text\"`. Using this setting makes sure that the settings do not come from the                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] for text elements that have \"User\" as the default, such as                  <xref:System.Windows.Controls.TextBlock>.  \n  \n For example:  \n  \n||  \n|-|  \n|`<TextBlock`<br /><br /> `Name=\"text1\" NumberSubstitution.CultureSource=\"Text\">`<br /><br /> `1234+5679=6913`<br /><br /> `</TextBlock>`|  \n  \n In the corresponding                  [!INCLUDE[TLA2#tla_lhcshrp](../../../../includes/tla2sharptla-lhcshrp-md.md)] code, set the                  `Language` property for example, to                  `\"ar-SA\"`.  \n  \n||  \n|-|  \n|`text1.Language =`<br /><br /> `System.Windows.Markup.XmlLanguage.GetLanguage(\"ar-SA\");`|  \n  \n If you need to set the                  `Language` property to the current user’s                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] language use the following code.  \n  \n||  \n|-|  \n|`text1.Language =`<br /><br /> `System.Windows.Markup.XmlLanguage.GetLanguage(`<br /><br /> `System.Globalization.CultureInfo.CurrentUICulture.IetfLanguageTag);`|  \n  \n <xref:System.Globalization.CultureInfo.CurrentCulture%2A> represents the current culture used by the current thread at run time.  \n  \n Your final                  [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] example should be similar to the following example.  \n  \n [!code-xml[Numbers2#Numbers2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers2/CS/Window1.xaml#numbers2)]  \n  \n Your final                  [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] example should be similar to the following.  \n  \n [!code-csharp[NumbersCSharp#NumbersCSharp](../../../../samples/snippets/csharp/VS_Snippets_Wpf/NumbersCSharp/CSharp/Window1.xaml.cs#numberscsharp)]  \n  \n The following graphic shows what the window looks like for either programming language.  \n  \n **Graphic That Displays Arabic Numbers**  \n  \n ![Arabic numbers](../../../../docs/framework/wpf/advanced/media/numbers2.PNG \"Numbers2\")  \n  \n **Using the Substitution Property**  \n  \n The way number substitution works in                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] depends on both the Language of the text element and its                  <xref:System.Windows.FlowDirection>. If the                  <xref:System.Windows.FlowDirection> is left to right, then European digits are rendered. However if it is preceded by Arabic text, or has the language set to \"ar\" and the                  <xref:System.Windows.FlowDirection> is                  <xref:System.Windows.FlowDirection>, Arabic digits are rendered instead.  \n  \n In some cases, however, you might want to create a unified application, for example European digits for all users. Or Arabic digits in                  <xref:System.Windows.Documents.Table> cells with a specific                  <xref:System.Windows.Style>. One easy way to do that is using the                  <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property.  \n  \n In the following example, the first                  <xref:System.Windows.Controls.TextBlock> does not have the                  <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property set, so the algorithm displays Arabic digits as expected. However in the second                  <xref:System.Windows.Controls.TextBlock>, the substitution is set to European overriding the default substitution for Arabic numbers, and European digits are displayed.  \n  \n [!code-xml[Numbers3#Numbers3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers3/CS/Window1.xaml#numbers3)]","nodes":[{"pos":[12,67],"content":"Bidirectional Features in WPF Overview | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Bidirectional Features in WPF Overview | Microsoft Docs","pos":[0,55]}]},{"pos":[503,541],"content":"Bidirectional Features in WPF Overview","linkify":"Bidirectional Features in WPF Overview","nodes":[{"content":"Bidirectional Features in WPF Overview","pos":[0,38]}]},{"content":"Unlike any other development platform,              <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> has many features that support rapid development of bidirectional content, for example, mixed left to right and right to left data in the same document.","pos":[542,828],"source":"Unlike any other development platform,              [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has many features that support rapid development of bidirectional content, for example, mixed left to right and right to left data in the same document."},{"content":"At the same time,              <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> creates an excellent experience for users who require bidirectional features such as Arabic and Hebrew speaking users.","pos":[829,1060],"source":" At the same time,              [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] creates an excellent experience for users who require bidirectional features such as Arabic and Hebrew speaking users."},{"content":"The following sections explain many bidirectional features together with examples illustrating how to achieve the best display of bidirectional content.","pos":[1067,1219]},{"content":"Most of the samples use              <ph id=\"ph1\">[!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]</ph>, though you can easily apply the concepts to              <ph id=\"ph2\">[!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)]</ph> or              <ph id=\"ph3\">[!INCLUDE[TLA#tla_visualb](../../../../includes/tlasharptla-visualb-md.md)]</ph> code.","pos":[1220,1564],"source":" Most of the samples use              [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)], though you can easily apply the concepts to              [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] or              [!INCLUDE[TLA#tla_visualb](../../../../includes/tlasharptla-visualb-md.md)] code."},{"pos":[1609,1622],"content":"FlowDirection","linkify":"FlowDirection","nodes":[{"content":"FlowDirection","pos":[0,13]}]},{"content":"The basic property that defines the content flow direction in a                  <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> application is                  <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph>.","pos":[1626,1877],"source":"The basic property that defines the content flow direction in a                  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application is                  <xref:System.Windows.FrameworkElement.FlowDirection%2A>."},{"content":"This property can be set to one of two enumeration values,                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> or                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph>.","pos":[1878,2046],"source":" This property can be set to one of two enumeration values,                  <xref:System.Windows.FlowDirection> or                  <xref:System.Windows.FlowDirection>."},{"content":"The property is available to all                  <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> elements that inherit from                  <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement&gt;</ph>.","pos":[2047,2262],"source":" The property is available to all                  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that inherit from                  <xref:System.Windows.FrameworkElement>."},{"content":"The following examples set the flow direction of a                  <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBox&gt;</ph> element.","pos":[2269,2384],"source":"The following examples set the flow direction of a                  <xref:System.Windows.Controls.TextBox> element."},{"pos":[2391,2423],"content":"<bpt id=\"p1\">**</bpt>Left-to-right flow direction<ept id=\"p1\">**</ept>","source":"**Left-to-right flow direction**"},{"pos":[2430,2531],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>LTRRTL#LTR<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#ltr)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[LTRRTL#LTR](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#ltr)]"},{"pos":[2538,2570],"content":"<bpt id=\"p1\">**</bpt>Right-to-left flow direction<ept id=\"p1\">**</ept>","source":"**Right-to-left flow direction**"},{"pos":[2577,2678],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>LTRRTL#RTL<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#rtl)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[LTRRTL#RTL](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#rtl)]"},{"content":"The following graphic shows how the previous code renders.","pos":[2685,2743]},{"pos":[2750,2792],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates FlowDirection<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates FlowDirection**"},{"pos":[2799,2920],"content":"<bpt id=\"p1\">![</bpt>TextBlock alignment<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/lefttorightrighttoleft.PNG \"</bpt>LefttoRightRighttoLeft<ept id=\"p2\">\")</ept>","source":"![TextBlock alignment](../../../../docs/framework/wpf/advanced/media/lefttorightrighttoleft.PNG \"LefttoRightRighttoLeft\")"},{"content":"An element within a                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]</ph> tree will inherit the                  <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph> from its container.","pos":[2927,3144],"source":"An element within a                  [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] tree will inherit the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> from its container."},{"content":"In the following example, the                  <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> is inside a                  <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Grid&gt;</ph>, which resides in a                  <ph id=\"ph3\">&lt;xref:System.Windows.Window&gt;</ph>.","pos":[3145,3364],"source":" In the following example, the                  <xref:System.Windows.Controls.TextBlock> is inside a                  <xref:System.Windows.Controls.Grid>, which resides in a                  <xref:System.Windows.Window>."},{"content":"Setting the                  <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph> for the                  <ph id=\"ph2\">&lt;xref:System.Windows.Window&gt;</ph> implies setting it for the                  <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Grid&gt;</ph> and                  <ph id=\"ph4\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> as well.","pos":[3365,3654],"source":" Setting the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> for the                  <xref:System.Windows.Window> implies setting it for the                  <xref:System.Windows.Controls.Grid> and                  <xref:System.Windows.Controls.TextBlock> as well."},{"content":"The following example demonstrates setting                  <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph>.","pos":[3661,3777],"source":"The following example demonstrates setting                  <xref:System.Windows.FrameworkElement.FlowDirection%2A>."},{"pos":[3784,3921],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>FlowDirection#FlowDirection<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FlowDirection/CS/Window1.xaml#flowdirection)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[FlowDirection#FlowDirection](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FlowDirection/CS/Window1.xaml#flowdirection)]"},{"content":"The top level                  <ph id=\"ph1\">&lt;xref:System.Windows.Window&gt;</ph> has a                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph><ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph>, so all elements contained within it also inherit the same                  <ph id=\"ph4\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph>.","pos":[3928,4214],"source":"The top level                  <xref:System.Windows.Window> has a                  <xref:System.Windows.FlowDirection><xref:System.Windows.FlowDirection>, so all elements contained within it also inherit the same                  <xref:System.Windows.FrameworkElement.FlowDirection%2A>."},{"content":"For an element to override a specified                  <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph> it must add an explicit direction change such as the second                  <ph id=\"ph2\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> in the previous example which changes to                  <ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph>.","pos":[4215,4539],"source":" For an element to override a specified                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> it must add an explicit direction change such as the second                  <xref:System.Windows.Controls.TextBlock> in the previous example which changes to                  <xref:System.Windows.FlowDirection>."},{"content":"When no                  <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph> is defined, the default                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph> applies.","pos":[4540,4706],"source":" When no                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> is defined, the default                  <xref:System.Windows.FlowDirection> applies."},{"content":"The following graphic shows the output of the previous example.","pos":[4713,4776]},{"pos":[4783,4845],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates Explicitly Assigned FlowDirection<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates Explicitly Assigned FlowDirection**"},{"pos":[4852,4951],"content":"<bpt id=\"p1\">![</bpt>Flow direction illustration<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/flowdir.PNG \"</bpt>FlowDir<ept id=\"p2\">\")</ept>","source":"![Flow direction illustration](../../../../docs/framework/wpf/advanced/media/flowdir.PNG \"FlowDir\")"},{"pos":[4991,5003],"content":"FlowDocument","linkify":"FlowDocument","nodes":[{"content":"FlowDocument","pos":[0,12]}]},{"content":"Many development platforms such as                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)]</ph>,                  <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> and Java provide special support for bidirectional content development.","pos":[5007,5290],"source":"Many development platforms such as                  [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)],                  [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] and Java provide special support for bidirectional content development."},{"content":"Markup languages such as                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)]</ph> give content writers the necessary markup to display text in any required direction, for example the                  <ph id=\"ph2\">[!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)]</ph> 4.0 tag, \"dir\" that takes \"rtl\" or \"ltr\" as values.","pos":[5291,5642],"source":" Markup languages such as                  [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] give content writers the necessary markup to display text in any required direction, for example the                  [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] 4.0 tag, \"dir\" that takes \"rtl\" or \"ltr\" as values."},{"content":"This tag is similar to the                  <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph> property, but the                  <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement.FlowDirection%2A&gt;</ph> property works in a more advanced way to layout textual content and can be used for content other than text.","pos":[5643,5942],"source":" This tag is similar to the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> property, but the                  <xref:System.Windows.FrameworkElement.FlowDirection%2A> property works in a more advanced way to layout textual content and can be used for content other than text."},{"content":"In                  <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph>, a                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.FlowDocument&gt;</ph> is a versatile                  <ph id=\"ph3\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> element that can host a combination of text, tables, images and other elements.","pos":[5949,6295],"source":"In                  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a                  <xref:System.Windows.Documents.FlowDocument> is a versatile                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element that can host a combination of text, tables, images and other elements."},{"content":"The samples in the following sections use this element.","pos":[6296,6351]},{"content":"Adding text to a                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.FlowDocument&gt;</ph> can be done in more that one way.","pos":[6358,6470],"source":"Adding text to a                  <xref:System.Windows.Documents.FlowDocument> can be done in more that one way."},{"content":"A simple way to do so is through a                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Paragraph&gt;</ph> which is a block-level element used to group content such as text.","pos":[6471,6631],"source":" A simple way to do so is through a                  <xref:System.Windows.Documents.Paragraph> which is a block-level element used to group content such as text."},{"content":"To add text to inline-level elements the samples use                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Span&gt;</ph> and                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Run&gt;</ph>.","pos":[6632,6796],"source":" To add text to inline-level elements the samples use                  <xref:System.Windows.Documents.Span> and                  <xref:System.Windows.Documents.Run>."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Documents.Span&gt;</ph> is an inline-level flow content element used for grouping other inline elements, while a                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Run&gt;</ph> is an inline-level flow content element intended to contain a run of unformatted text.","pos":[6814,7079],"source":"<xref:System.Windows.Documents.Span> is an inline-level flow content element used for grouping other inline elements, while a                  <xref:System.Windows.Documents.Run> is an inline-level flow content element intended to contain a run of unformatted text."},{"content":"A                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Span&gt;</ph> can contain multiple                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Run&gt;</ph> elements.","pos":[7080,7219],"source":" A                  <xref:System.Windows.Documents.Span> can contain multiple                  <xref:System.Windows.Documents.Run> elements."},{"content":"The first document example contains a document that has a number of network share names; for example                  <ph id=\"ph1\">`\\\\server1\\folder\\file.ext`</ph>.","pos":[7226,7372],"source":"The first document example contains a document that has a number of network share names; for example                  `\\\\server1\\folder\\file.ext`."},{"content":"Whether you have this network link in an Arabic or English document, you always want it to appear in the same way.","pos":[7373,7487]},{"content":"The following graphic shows the link in an Arabic                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> document.","pos":[7488,7600],"source":" The following graphic shows the link in an Arabic                  <xref:System.Windows.FlowDirection> document."},{"pos":[7607,7658],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates Using the Span Element<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates Using the Span Element**"},{"pos":[7665,7785],"content":"<bpt id=\"p1\">![</bpt>Document that flows from right to left<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/flowdocument.PNG \"</bpt>FlowDocument<ept id=\"p2\">\")</ept>","source":"![Document that flows from right to left](../../../../docs/framework/wpf/advanced/media/flowdocument.PNG \"FlowDocument\")"},{"content":"Because the text is                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph>, all special characters, such as the \"<ph id=\"ph2\">\\\\</ph>\", separate the text in a right to left order.","pos":[7792,7951],"source":"Because the text is                  <xref:System.Windows.FlowDirection>, all special characters, such as the \"\\\\\", separate the text in a right to left order."},{"content":"That results in the link not being shown in the correct order, therefore to solve the problem, the text must be embedded to preserve a separate                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Run&gt;</ph> flowing                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph>.","pos":[7952,8210],"source":" That results in the link not being shown in the correct order, therefore to solve the problem, the text must be embedded to preserve a separate                  <xref:System.Windows.Documents.Run> flowing                  <xref:System.Windows.FlowDirection>."},{"content":"Instead of having a separate                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Run&gt;</ph> for each language, a better way to solve the problem is to embed the less frequently used English text into a larger Arabic                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Span&gt;</ph>.","pos":[8211,8471],"source":" Instead of having a separate                  <xref:System.Windows.Documents.Run> for each language, a better way to solve the problem is to embed the less frequently used English text into a larger Arabic                  <xref:System.Windows.Documents.Span>."},{"content":"The following graphic illustrates this.","pos":[8478,8517]},{"pos":[8524,8601],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates Using the Run Element Embedded in a Span Element<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates Using the Run Element Embedded in a Span Element**"},{"pos":[8608,8699],"content":"<bpt id=\"p1\">![</bpt>XamlPad screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/runspan.PNG \"</bpt>RunSpan<ept id=\"p2\">\")</ept>","source":"![XamlPad screen shot](../../../../docs/framework/wpf/advanced/media/runspan.PNG \"RunSpan\")"},{"content":"The following example demonstrates using                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Run&gt;</ph> and                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Span&gt;</ph> elements in documents.","pos":[8706,8880],"source":"The following example demonstrates using                  <xref:System.Windows.Documents.Run> and                  <xref:System.Windows.Documents.Span> elements in documents."},{"pos":[8887,9000],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>RunSpan#RunSpan<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/RunSpan/CS/Window1.xaml#runspan)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[RunSpan#RunSpan](../../../../samples/snippets/csharp/VS_Snippets_Wpf/RunSpan/CS/Window1.xaml#runspan)]"},{"pos":[9040,9053],"content":"Span Elements","linkify":"Span Elements","nodes":[{"content":"Span Elements","pos":[0,13]}]},{"content":"The                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Span&gt;</ph> element works as a boundary separator between texts with different flow directions.","pos":[9057,9198],"source":"The                  <xref:System.Windows.Documents.Span> element works as a boundary separator between texts with different flow directions."},{"content":"Even                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Span&gt;</ph> elements with the same flow direction are considered to have different bidirectional scopes which means that the                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Span&gt;</ph> elements are ordered in the container’s                  <ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph>, only the content within the                  <ph id=\"ph4\">&lt;xref:System.Windows.Documents.Span&gt;</ph> element follows the                  <ph id=\"ph5\">&lt;xref:System.Windows.FlowDirection&gt;</ph> of the                  <ph id=\"ph6\">&lt;xref:System.Windows.Documents.Span&gt;</ph>.","pos":[9200,9736],"source":"  Even                  <xref:System.Windows.Documents.Span> elements with the same flow direction are considered to have different bidirectional scopes which means that the                  <xref:System.Windows.Documents.Span> elements are ordered in the container’s                  <xref:System.Windows.FlowDirection>, only the content within the                  <xref:System.Windows.Documents.Span> element follows the                  <xref:System.Windows.FlowDirection> of the                  <xref:System.Windows.Documents.Span>."},{"content":"The following graphic shows the flow direction of several                  <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> elements.","pos":[9743,9868],"source":"The following graphic shows the flow direction of several                  <xref:System.Windows.Controls.TextBlock> elements."},{"pos":[9875,9947],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates FlowDirection in Several TextBlock Elements<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates FlowDirection in Several TextBlock Elements**"},{"pos":[9954,10062],"content":"<bpt id=\"p1\">![</bpt>Text blocks with different flow directions<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/span.PNG \"</bpt>Span<ept id=\"p2\">\")</ept>","source":"![Text blocks with different flow directions](../../../../docs/framework/wpf/advanced/media/span.PNG \"Span\")"},{"content":"The following example shows how to use the                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Span&gt;</ph> and                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Run&gt;</ph> elements to produce the results shown in the previous graphic.","pos":[10069,10285],"source":"The following example shows how to use the                  <xref:System.Windows.Documents.Span> and                  <xref:System.Windows.Documents.Run> elements to produce the results shown in the previous graphic."},{"pos":[10292,10393],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Span#Span<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Span/CS/Window1.xaml#span)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Span#Span](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Span/CS/Window1.xaml#span)]"},{"content":"In the                  <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> elements in the sample, the                  <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Span&gt;</ph> elements are laid out according to the                  <ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph> of their parents, but the text within each                  <ph id=\"ph4\">&lt;xref:System.Windows.Documents.Span&gt;</ph> element flows according to its own                  <ph id=\"ph5\">&lt;xref:System.Windows.FlowDirection&gt;</ph>.","pos":[10400,10824],"source":"In the                  <xref:System.Windows.Controls.TextBlock> elements in the sample, the                  <xref:System.Windows.Documents.Span> elements are laid out according to the                  <xref:System.Windows.FlowDirection> of their parents, but the text within each                  <xref:System.Windows.Documents.Span> element flows according to its own                  <xref:System.Windows.FlowDirection>."},{"content":"This is applicable to Latin and Arabic – or any other language.","pos":[10825,10888]},{"pos":[10898,10913],"content":"Adding xml:lang","linkify":"Adding xml:lang","nodes":[{"content":"Adding xml:lang","pos":[0,15]}]},{"content":"The following graphic shows another example that uses numbers and arithmetic expressions, such as                          <ph id=\"ph1\">`\"200.0+21.4=221.4\"`</ph>.","pos":[10917,11061],"source":"The following graphic shows another example that uses numbers and arithmetic expressions, such as                          `\"200.0+21.4=221.4\"`."},{"content":"Notice that only the                          <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> is set.","pos":[11062,11151],"source":" Notice that only the                          <xref:System.Windows.FlowDirection> is set."},{"pos":[11158,11216],"content":"<bpt id=\"p1\">**</bpt>Graphic That Displays Numbers Using Only FlowDirection<ept id=\"p1\">**</ept>","source":"**Graphic That Displays Numbers Using Only FlowDirection**"},{"pos":[11223,11343],"content":"<bpt id=\"p1\">![</bpt>Numbers that flow from right to left<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/langattribute.PNG \"</bpt>LangAttribute<ept id=\"p2\">\")</ept>","source":"![Numbers that flow from right to left](../../../../docs/framework/wpf/advanced/media/langattribute.PNG \"LangAttribute\")"},{"content":"Users of this application will be disappointed by the output, even though the                          <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> is correct the numbers are not shaped as Arabic numbers should be shaped.","pos":[11350,11562],"source":"Users of this application will be disappointed by the output, even though the                          <xref:System.Windows.FlowDirection> is correct the numbers are not shaped as Arabic numbers should be shaped."},{"content":"XAML elements can include an                          <ph id=\"ph1\">[!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)]</ph> attribute (                         <ph id=\"ph2\">`xml:lang`</ph>) that defines the language of each element.","pos":[11569,11781],"source":"XAML elements can include an                          [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] attribute (                         `xml:lang`) that defines the language of each element."},{"content":"XAML also supports a                          <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]</ph> language principle whereby                          <ph id=\"ph2\">`xml:lang`</ph> values applied to parent elements in the tree are used by child elements.","pos":[11782,12034],"source":" XAML also supports a                          [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] language principle whereby                          `xml:lang` values applied to parent elements in the tree are used by child elements."},{"content":"In the previous example, because a language was not defined for the                          <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Run&gt;</ph> element or any of its top level elements, the default                          <ph id=\"ph2\">`xml:lang`</ph> was used, which is                          <ph id=\"ph3\">`en-US`</ph> for XAML.","pos":[12035,12315],"source":" In the previous example, because a language was not defined for the                          <xref:System.Windows.Documents.Run> element or any of its top level elements, the default                          `xml:lang` was used, which is                          `en-US` for XAML."},{"content":"The internal number shaping algorithm of                          <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> selects numbers in the corresponding language – in this case English.","pos":[12316,12531],"source":" The internal number shaping algorithm of                          [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] selects numbers in the corresponding language – in this case English."},{"content":"To make the Arabic numbers render correctly                          <ph id=\"ph1\">`xml:lang`</ph> needs to be set.","pos":[12532,12628],"source":" To make the Arabic numbers render correctly                          `xml:lang` needs to be set."},{"pos":[12635,12722],"content":"The following graphic shows the example with                          <ph id=\"ph1\">`xml:lang`</ph> added.","source":"The following graphic shows the example with                          `xml:lang` added."},{"pos":[12729,12786],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates Using the xml:lang Attribute<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates Using the xml:lang Attribute**"},{"pos":[12793,12922],"content":"<bpt id=\"p1\">![</bpt>Arabic numbers that flow from right to left<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/langattribute2.PNG \"</bpt>LangAttribute2<ept id=\"p2\">\")</ept>","source":"![Arabic numbers that flow from right to left](../../../../docs/framework/wpf/advanced/media/langattribute2.PNG \"LangAttribute2\")"},{"pos":[12929,13011],"content":"The following example adds                          <ph id=\"ph1\">`xml:lang`</ph> to the application.","source":"The following example adds                          `xml:lang` to the application."},{"pos":[13018,13155],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>LangAttribute#LangAttribute<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LangAttribute/CS/Window1.xaml#langattribute)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[LangAttribute#LangAttribute](../../../../samples/snippets/csharp/VS_Snippets_Wpf/LangAttribute/CS/Window1.xaml#langattribute)]"},{"content":"Be aware that many languages have different                          <ph id=\"ph1\">`xml:lang`</ph> values depending on the targeted region, for example,                          <ph id=\"ph2\">`\"ar-SA\"`</ph> and                          <ph id=\"ph3\">`\"ar-EG\"`</ph> represent two variations of Arabic.","pos":[13162,13405],"source":"Be aware that many languages have different                          `xml:lang` values depending on the targeted region, for example,                          `\"ar-SA\"` and                          `\"ar-EG\"` represent two variations of Arabic."},{"content":"The previous examples illustrate that you need to define both the                          <ph id=\"ph1\">`xml:lang`</ph> and                          <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph> values.","pos":[13406,13580],"source":" The previous examples illustrate that you need to define both the                          `xml:lang` and                          <xref:System.Windows.FlowDirection> values."},{"pos":[13628,13664],"content":"FlowDirection with Non-text Elements","linkify":"FlowDirection with Non-text Elements","nodes":[{"content":"FlowDirection with Non-text Elements","pos":[0,36]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> defines not only how text flows in a textual element but also the flow direction of almost every other                  <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> element.","pos":[13668,13900],"source":"<xref:System.Windows.FlowDirection> defines not only how text flows in a textual element but also the flow direction of almost every other                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element."},{"content":"The following graphic shows a                  <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ToolBar&gt;</ph> that uses a horizontal                  <ph id=\"ph2\">&lt;xref:System.Windows.Media.LinearGradientBrush&gt;</ph> to draw its background.","pos":[13901,14098],"source":" The following graphic shows a                  <xref:System.Windows.Controls.ToolBar> that uses a horizontal                  <xref:System.Windows.Media.LinearGradientBrush> to draw its background."},{"pos":[14105,14167],"content":"<bpt id=\"p1\">**</bpt>Graphic That Shows a ToolBar with a Left to Right Gradient<ept id=\"p1\">**</ept>","source":"**Graphic That Shows a ToolBar with a Left to Right Gradient**"},{"pos":[14174,14268],"content":"<bpt id=\"p1\">![</bpt>Gradient screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/gradient.PNG \"</bpt>Gradient<ept id=\"p2\">\")</ept>","source":"![Gradient screen shot](../../../../docs/framework/wpf/advanced/media/gradient.PNG \"Gradient\")"},{"content":"After setting the                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> to                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph>, not only the                  <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ToolBar&gt;</ph> buttons are arranged from right to left, but even the                  <ph id=\"ph4\">&lt;xref:System.Windows.Media.LinearGradientBrush&gt;</ph> realigns its offsets to flow from right to left.","pos":[14275,14639],"source":"After setting the                  <xref:System.Windows.FlowDirection> to                  <xref:System.Windows.FlowDirection>, not only the                  <xref:System.Windows.Controls.ToolBar> buttons are arranged from right to left, but even the                  <xref:System.Windows.Media.LinearGradientBrush> realigns its offsets to flow from right to left."},{"content":"The following graphic shows the realignment of the                  <ph id=\"ph1\">&lt;xref:System.Windows.Media.LinearGradientBrush&gt;</ph>.","pos":[14646,14762],"source":"The following graphic shows the realignment of the                  <xref:System.Windows.Media.LinearGradientBrush>."},{"pos":[14769,14831],"content":"<bpt id=\"p1\">**</bpt>Graphic That Shows a ToolBar with a Right to Left Gradient<ept id=\"p1\">**</ept>","source":"**Graphic That Shows a ToolBar with a Right to Left Gradient**"},{"pos":[14838,14962],"content":"<bpt id=\"p1\">![</bpt>A gradient that flows from right to left<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/gradient2-wpf.PNG \"</bpt>Gradient2_WPF<ept id=\"p2\">\")</ept>","source":"![A gradient that flows from right to left](../../../../docs/framework/wpf/advanced/media/gradient2-wpf.PNG \"Gradient2_WPF\")"},{"content":"The following example draws a                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph><ph id=\"ph2\">&lt;xref:System.Windows.Controls.ToolBar&gt;</ph>.","pos":[14969,15090],"source":"The following example draws a                  <xref:System.Windows.FlowDirection><xref:System.Windows.Controls.ToolBar>."},{"content":"(To draw it left to right, remove the                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> attribute on the                  <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ToolBar&gt;</ph>.","pos":[15091,15255],"source":" (To draw it left to right, remove the                  <xref:System.Windows.FlowDirection> attribute on the                  <xref:System.Windows.Controls.ToolBar>."},{"pos":[15262,15379],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Gradient#Gradient<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Gradient/CS/Window1.xaml#gradient)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Gradient#Gradient](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Gradient/CS/Window1.xaml#gradient)]"},{"pos":[15431,15455],"content":"FlowDirection Exceptions","linkify":"FlowDirection Exceptions","nodes":[{"content":"FlowDirection Exceptions","pos":[0,24]}]},{"content":"There are a few cases where                          <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> does not behave as expected.","pos":[15459,15576],"source":"There are a few cases where                          <xref:System.Windows.FlowDirection> does not behave as expected."},{"content":"This section covers two of these exceptions.","pos":[15577,15621]},{"pos":[15628,15637],"content":"<bpt id=\"p1\">**</bpt>Image<ept id=\"p1\">**</ept>","source":"**Image**"},{"content":"An                          <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph> represents a control that displays an image.","pos":[15644,15753],"source":"An                          <xref:System.Windows.Controls.Image> represents a control that displays an image."},{"content":"In                          <ph id=\"ph1\">[!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]</ph> it can be used with a                          <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Image.Source%2A&gt;</ph> property that defines the                          <ph id=\"ph3\">[!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)]</ph> of the                          <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Image&gt;</ph> to display.","pos":[15754,16155],"source":" In                          [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] it can be used with a                          <xref:System.Windows.Controls.Image.Source%2A> property that defines the                          [!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)] of the                          <xref:System.Windows.Controls.Image> to display."},{"content":"Unlike other                          <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> elements, an                          <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Image&gt;</ph> does not inherit the                          <ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph> from the container.","pos":[16162,16444],"source":"Unlike other                          [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements, an                          <xref:System.Windows.Controls.Image> does not inherit the                          <xref:System.Windows.FlowDirection> from the container."},{"content":"However, if the                          <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> is set explicitly to                          <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph>, an                          <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Image&gt;</ph> is displayed flipped horizontally.","pos":[16445,16704],"source":" However, if the                          <xref:System.Windows.FlowDirection> is set explicitly to                          <xref:System.Windows.FlowDirection>, an                          <xref:System.Windows.Controls.Image> is displayed flipped horizontally."},{"content":"This is implemented as a convenient feature for developers of bidirectional content; because in some cases, horizontally flipping the image produces the desired effect.","pos":[16705,16873]},{"content":"The following graphic shows a flipped                          <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph>.","pos":[16880,16980],"source":"The following graphic shows a flipped                          <xref:System.Windows.Controls.Image>."},{"pos":[16987,17031],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates a Flipped Image<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates a Flipped Image**"},{"pos":[17038,17125],"content":"<bpt id=\"p1\">![</bpt>XamlPad screen shot<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/image.PNG \"</bpt>Image<ept id=\"p2\">\")</ept>","source":"![XamlPad screen shot](../../../../docs/framework/wpf/advanced/media/image.PNG \"Image\")"},{"content":"The following example demonstrates that the                          <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph> fails to inherit the                          <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph> from the                          <ph id=\"ph3\">&lt;xref:System.Windows.Controls.StackPanel&gt;</ph> that contains it.","pos":[17132,17413],"source":"The following example demonstrates that the                          <xref:System.Windows.Controls.Image> fails to inherit the                          <xref:System.Windows.FlowDirection> from the                          <xref:System.Windows.Controls.StackPanel> that contains it."},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept> You must have a file named                          <bpt id=\"p2\">**</bpt>ms_logo.jpg<ept id=\"p2\">**</ept> on your C:\\ drive to run this example.","pos":[17439,17554],"source":"**Note** You must have a file named                          **ms_logo.jpg** on your C:\\ drive to run this example."},{"pos":[17561,17666],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Image#Image<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Image/CS/Window1.xaml#image)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Image#Image](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Image/CS/Window1.xaml#image)]"},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept> Included in the download files is an                          <bpt id=\"p2\">**</bpt>ms_logo.jpg<ept id=\"p2\">**</ept> file.","pos":[17673,17765],"source":"**Note** Included in the download files is an                          **ms_logo.jpg** file."},{"content":"The code assumes that the .jpg file is not inside your project but somewhere on the C:\\ drive.","pos":[17766,17860]},{"content":"You must copy the .jpg from the project files to your C:\\ drive or change the code to look for the file inside the project.","pos":[17861,17984]},{"content":"To do this change                          <ph id=\"ph1\">`Source=\"file://c:/ms_logo.jpg\"`</ph> to                          <ph id=\"ph2\">`Source=\"ms_logo.jpg\"`</ph>.","pos":[17985,18112],"source":" To do this change                          `Source=\"file://c:/ms_logo.jpg\"` to                          `Source=\"ms_logo.jpg\"`."},{"pos":[18119,18128],"content":"<bpt id=\"p1\">**</bpt>Paths<ept id=\"p1\">**</ept>","source":"**Paths**"},{"content":"In addition to an                          <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph>, another interesting element is                          <ph id=\"ph2\">&lt;xref:System.Windows.Shapes.Path&gt;</ph>.","pos":[18135,18306],"source":"In addition to an                          <xref:System.Windows.Controls.Image>, another interesting element is                          <xref:System.Windows.Shapes.Path>."},{"content":"A Path is an object that can draw a series of connected lines and curves.","pos":[18307,18380]},{"content":"It behaves in a manner similar to an                          <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph> regarding its                          <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph>; for example its                          <ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph><ph id=\"ph4\">&lt;xref:System.Windows.FlowDirection&gt;</ph> is a horizontal mirror of its                          <ph id=\"ph5\">&lt;xref:System.Windows.FlowDirection&gt;</ph> one.","pos":[18381,18763],"source":" It behaves in a manner similar to an                          <xref:System.Windows.Controls.Image> regarding its                          <xref:System.Windows.FlowDirection>; for example its                          <xref:System.Windows.FlowDirection><xref:System.Windows.FlowDirection> is a horizontal mirror of its                          <xref:System.Windows.FlowDirection> one."},{"content":"However, unlike an                          <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph>,                          <ph id=\"ph2\">&lt;xref:System.Windows.Shapes.Path&gt;</ph> inherits its                          <ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph> from the container and one does not need to specify it explicitly.","pos":[18764,19045],"source":" However, unlike an                          <xref:System.Windows.Controls.Image>,                          <xref:System.Windows.Shapes.Path> inherits its                          <xref:System.Windows.FlowDirection> from the container and one does not need to specify it explicitly."},{"content":"The following example draws a simple arrow using 3 lines.","pos":[19052,19109]},{"content":"The first arrow inherits the                          <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> flow direction from the                          <ph id=\"ph2\">&lt;xref:System.Windows.Controls.StackPanel&gt;</ph> so that its start and end points are measured from a root on the right side.","pos":[19110,19367],"source":" The first arrow inherits the                          <xref:System.Windows.FlowDirection> flow direction from the                          <xref:System.Windows.Controls.StackPanel> so that its start and end points are measured from a root on the right side."},{"content":"The second arrow which has an explicit                          <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph><ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph> also starts on the right side.","pos":[19368,19533],"source":" The second arrow which has an explicit                          <xref:System.Windows.FlowDirection><xref:System.Windows.FlowDirection> also starts on the right side."},{"content":"However, the third arrow has its starting root on the left side.","pos":[19534,19598]},{"content":"For more information on drawing see                          <ph id=\"ph1\">&lt;xref:System.Windows.Media.LineGeometry&gt;</ph> and                          <ph id=\"ph2\">&lt;xref:System.Windows.Media.GeometryGroup&gt;</ph>.","pos":[19599,19772],"source":" For more information on drawing see                          <xref:System.Windows.Media.LineGeometry> and                          <xref:System.Windows.Media.GeometryGroup>."},{"pos":[19779,19884],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Paths#Paths<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Paths/CS/Window1.xaml#paths)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Paths#Paths](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Paths/CS/Window1.xaml#paths)]"},{"content":"The following graphic shows the output of the previous example.","pos":[19891,19954]},{"pos":[19961,20025],"content":"<bpt id=\"p1\">**</bpt>Graphic That Illustrates Arrows Drawn Using the Path Element<ept id=\"p1\">**</ept>","source":"**Graphic That Illustrates Arrows Drawn Using the Path Element**"},{"pos":[20032,20105],"content":"<bpt id=\"p1\">![</bpt>Paths<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/paths.PNG \"</bpt>Paths<ept id=\"p2\">\")</ept>","source":"![Paths](../../../../docs/framework/wpf/advanced/media/paths.PNG \"Paths\")"},{"content":"The                          <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph> and                          <ph id=\"ph2\">&lt;xref:System.Windows.Shapes.Path&gt;</ph> are two examples of a how                          <ph id=\"ph3\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> uses                          <ph id=\"ph4\">&lt;xref:System.Windows.FlowDirection&gt;</ph>.","pos":[20112,20438],"source":"The                          <xref:System.Windows.Controls.Image> and                          <xref:System.Windows.Shapes.Path> are two examples of a how                          [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] uses                          <xref:System.Windows.FlowDirection>."},{"content":"Beside laying out                          <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> elements in a specific direction within a container,                          <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph> can be used with elements such as                          <ph id=\"ph3\">&lt;xref:System.Windows.Controls.InkPresenter&gt;</ph> which renders ink on a surface,                          <ph id=\"ph4\">&lt;xref:System.Windows.Media.LinearGradientBrush&gt;</ph>,                          <ph id=\"ph5\">&lt;xref:System.Windows.Media.RadialGradientBrush&gt;</ph>.","pos":[20439,20946],"source":" Beside laying out                          [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements in a specific direction within a container,                          <xref:System.Windows.FlowDirection> can be used with elements such as                          <xref:System.Windows.Controls.InkPresenter> which renders ink on a surface,                          <xref:System.Windows.Media.LinearGradientBrush>,                          <xref:System.Windows.Media.RadialGradientBrush>."},{"content":"Whenever you need a right to left behavior for your content that mimics a left to right behavior, or vice versa,                          <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> provides that capability.","pos":[20947,21190],"source":" Whenever you need a right to left behavior for your content that mimics a left to right behavior, or vice versa,                          [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] provides that capability."},{"pos":[21236,21255],"content":"Number Substitution","linkify":"Number Substitution","nodes":[{"content":"Number Substitution","pos":[0,19]}]},{"pos":[21259,21692],"content":"Historically,                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]</ph> has supported number substitution by allowing the representation of different cultural shapes for the same digits while keeping the internal storage of these digits unified among different locales, for example numbers are stored in their well known hexadecimal values, 0x40, 0x41, but displayed according to the selected language.","source":"Historically,                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] has supported number substitution by allowing the representation of different cultural shapes for the same digits while keeping the internal storage of these digits unified among different locales, for example numbers are stored in their well known hexadecimal values, 0x40, 0x41, but displayed according to the selected language."},{"content":"This has allowed applications to process numerical values without the need to convert them from one language to another, for example a user can open an                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_xl](../../../../includes/tlasharptla-xl-md.md)]</ph> spreadsheet in a localized Arabic                  <ph id=\"ph2\">[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]</ph> and see the numbers shaped in Arabic, but open it in a European version of                  <ph id=\"ph3\">[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]</ph> and see European representation of the same numbers.","pos":[21699,22273],"source":"This has allowed applications to process numerical values without the need to convert them from one language to another, for example a user can open an                  [!INCLUDE[TLA#tla_xl](../../../../includes/tlasharptla-xl-md.md)] spreadsheet in a localized Arabic                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see the numbers shaped in Arabic, but open it in a European version of                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see European representation of the same numbers."},{"content":"This is also necessary for other symbols such as comma separators and percentage symbol because they usually accompany numbers in the same document.","pos":[22274,22422]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> continues the same tradition, and adds further support for this feature that allows more user control over when and how substitution is used.","pos":[22429,22650],"source":"[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] continues the same tradition, and adds further support for this feature that allows more user control over when and how substitution is used."},{"content":"While this feature is designed for any language, it is particularly useful in bidirectional content where shaping digits for a specific language is usually a challenge for application developers because of the various cultures an application might run on.","pos":[22651,22906]},{"content":"The core property controlling how number substitution works in                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> is the                  <ph id=\"ph2\">&lt;xref:System.Windows.Media.NumberSubstitution.Substitution%2A&gt;</ph> dependency property.","pos":[22913,23180],"source":"The core property controlling how number substitution works in                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is the                  <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> dependency property."},{"content":"The                  <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitution&gt;</ph> class specifies how numbers in text are to be displayed.","pos":[23181,23305],"source":" The                  <xref:System.Windows.Media.NumberSubstitution> class specifies how numbers in text are to be displayed."},{"content":"It has three public properties that define its behavior.","pos":[23306,23362]},{"content":"Following is a summary of each of the properties.","pos":[23363,23412]},{"pos":[23419,23437],"content":"<bpt id=\"p1\">**</bpt>CultureSource:<ept id=\"p1\">**</ept>","source":"**CultureSource:**"},{"content":"This property specifies how the culture for numbers is determined.","pos":[23444,23510]},{"content":"It takes one of three                  <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberCultureSource&gt;</ph> enumeration values.","pos":[23511,23617],"source":" It takes one of three                  <xref:System.Windows.Media.NumberCultureSource> enumeration values."},{"content":"Override: Number culture is that of                          <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A&gt;</ph> property.","pos":[23627,23763],"source":"Override: Number culture is that of                          <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property."},{"content":"Text: Number culture is the culture of the text run.","pos":[23773,23825]},{"content":"In markup, this would be                          <ph id=\"ph1\">`xml:lang`</ph>, or its alias                          <ph id=\"ph2\">`Language`</ph> property (                         <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkElement.Language%2A&gt;</ph> or                          <ph id=\"ph4\">&lt;xref:System.Windows.FrameworkContentElement.Language%2A&gt;</ph>).","pos":[23826,24110],"source":" In markup, this would be                          `xml:lang`, or its alias                          `Language` property (                         <xref:System.Windows.FrameworkElement.Language%2A> or                          <xref:System.Windows.FrameworkContentElement.Language%2A>)."},{"content":"Also, it is the default for classes deriving from                          <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkContentElement&gt;</ph>.","pos":[24111,24232],"source":" Also, it is the default for classes deriving from                          <xref:System.Windows.FrameworkContentElement>."},{"content":"Such classes include                          <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Paragraph?displayProperty=fullName&gt;</ph>,                          <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Table?displayProperty=fullName&gt;</ph>,                          <ph id=\"ph3\">&lt;xref:System.Windows.Documents.TableCell?displayProperty=fullName&gt;</ph> and so forth.","pos":[24233,24541],"source":" Such classes include                          <xref:System.Windows.Documents.Paragraph?displayProperty=fullName>,                          <xref:System.Windows.Documents.Table?displayProperty=fullName>,                          <xref:System.Windows.Documents.TableCell?displayProperty=fullName> and so forth."},{"content":"User: Number culture is the culture of the current thread.","pos":[24551,24609]},{"content":"This property is the default for all subclasses of                          <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement&gt;</ph> such as                          <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>,                          <ph id=\"ph3\">&lt;xref:System.Windows.Window&gt;</ph> and                          <ph id=\"ph4\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph>.","pos":[24610,24919],"source":" This property is the default for all subclasses of                          <xref:System.Windows.FrameworkElement> such as                          <xref:System.Windows.Controls.Page>,                          <xref:System.Windows.Window> and                          <xref:System.Windows.Controls.TextBlock>."},{"pos":[24926,24946],"content":"<bpt id=\"p1\">**</bpt>CultureOverride<ept id=\"p1\">**</ept>:","source":"**CultureOverride**:"},{"content":"The                  <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A&gt;</ph> property is used only if the                  <ph id=\"ph2\">&lt;xref:System.Windows.Media.NumberSubstitution.CultureSource%2A&gt;</ph> property is set to                  <ph id=\"ph3\">&lt;xref:System.Windows.Media.NumberCultureSource&gt;</ph> and is ignored otherwise.","pos":[24953,25259],"source":"The                  <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property is used only if the                  <xref:System.Windows.Media.NumberSubstitution.CultureSource%2A> property is set to                  <xref:System.Windows.Media.NumberCultureSource> and is ignored otherwise."},{"content":"It specifies the number culture.","pos":[25260,25292]},{"content":"A value of                  <ph id=\"ph1\">`null`</ph>, the default value, is interpreted as en-US.","pos":[25293,25372],"source":" A value of                  `null`, the default value, is interpreted as en-US."},{"pos":[25379,25396],"content":"<bpt id=\"p1\">**</bpt>Substitution<ept id=\"p1\">**</ept>:","source":"**Substitution**:"},{"content":"This property specifies the type of number substitution to perform.","pos":[25403,25470]},{"content":"It takes one of the following                  <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph> enumeration values.","pos":[25471,25590],"source":" It takes one of the following                  <xref:System.Windows.Media.NumberSubstitutionMethod> enumeration values."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph>: The substitution method is determined based on the number culture's                          <ph id=\"ph2\">&lt;xref:System.Globalization.NumberFormatInfo.DigitSubstitution%2A?displayProperty=fullName&gt;</ph> property.","pos":[25600,25847],"source":"<xref:System.Windows.Media.NumberSubstitutionMethod>: The substitution method is determined based on the number culture's                          <xref:System.Globalization.NumberFormatInfo.DigitSubstitution%2A?displayProperty=fullName> property."},{"content":"This is the default.","pos":[25848,25868]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph>: If the number culture is an Arabic or Farsi culture, it specifies that the digits depend on the context.","pos":[25878,26036],"source":"<xref:System.Windows.Media.NumberSubstitutionMethod>: If the number culture is an Arabic or Farsi culture, it specifies that the digits depend on the context."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph>: Numbers are always rendered as European digits.","pos":[26046,26147],"source":"<xref:System.Windows.Media.NumberSubstitutionMethod>: Numbers are always rendered as European digits."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph>: Numbers are rendered using the national digits for the number culture, as specified by the culture's                          <ph id=\"ph2\">&lt;xref:System.Globalization.CultureInfo.NumberFormat%2A&gt;</ph>.","pos":[26157,26393],"source":"<xref:System.Windows.Media.NumberSubstitutionMethod>: Numbers are rendered using the national digits for the number culture, as specified by the culture's                          <xref:System.Globalization.CultureInfo.NumberFormat%2A>."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph>: Numbers are rendered using the traditional digits for the number culture.","pos":[26403,26530],"source":"<xref:System.Windows.Media.NumberSubstitutionMethod>: Numbers are rendered using the traditional digits for the number culture."},{"content":"For most cultures, this is the same as                          <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph>.","pos":[26531,26648],"source":" For most cultures, this is the same as                          <xref:System.Windows.Media.NumberSubstitutionMethod>."},{"content":"However,                          <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitutionMethod&gt;</ph> results in Latin digits for some Arabic cultures, whereas this value results in Arabic digits for all Arabic cultures.","pos":[26649,26854],"source":" However,                          <xref:System.Windows.Media.NumberSubstitutionMethod> results in Latin digits for some Arabic cultures, whereas this value results in Arabic digits for all Arabic cultures."},{"content":"What do those values mean for a bidirectional content developer?","pos":[26861,26925]},{"content":"In most cases, the developer might need only to define                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> and the language of each textual                  <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> element, for example                  <ph id=\"ph3\">`Language=\"ar-SA\"`</ph> and the                  <ph id=\"ph4\">&lt;xref:System.Windows.Media.NumberSubstitution&gt;</ph> logic takes care of displaying the numbers according to the correct                  <ph id=\"ph5\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph>.","pos":[26926,27434],"source":" In most cases, the developer might need only to define                  <xref:System.Windows.FlowDirection> and the language of each textual                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element, for example                  `Language=\"ar-SA\"` and the                  <xref:System.Windows.Media.NumberSubstitution> logic takes care of displaying the numbers according to the correct                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]."},{"content":"The following example demonstrates using Arabic and English numbers in a                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> application running in an Arabic version of                  <ph id=\"ph2\">[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]</ph>.","pos":[27435,27738],"source":" The following example demonstrates using Arabic and English numbers in a                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application running in an Arabic version of                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]."},{"pos":[27745,27858],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Numbers#Numbers<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers/CS/Window1.xaml#numbers)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Numbers#Numbers](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers/CS/Window1.xaml#numbers)]"},{"pos":[27865,28059],"content":"The following graphic shows the output of the previous sample if you are running in an Arabic version of                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]</ph>.","source":"The following graphic shows the output of the previous sample if you are running in an Arabic version of                  [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]."},{"pos":[28066,28125],"content":"<bpt id=\"p1\">**</bpt>Graphic That Shows Arabic and English Numbers Displayed<ept id=\"p1\">**</ept>","source":"**Graphic That Shows Arabic and English Numbers Displayed**"},{"pos":[28132,28236],"content":"<bpt id=\"p1\">![</bpt>XamlPad screen shot with numbers<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/numbers.PNG \"</bpt>Numbers<ept id=\"p2\">\")</ept>","source":"![XamlPad screen shot with numbers](../../../../docs/framework/wpf/advanced/media/numbers.PNG \"Numbers\")"},{"content":"The                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> was important in this case because setting the                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph> to                  <ph id=\"ph3\">&lt;xref:System.Windows.FlowDirection&gt;</ph> instead would have yielded European digits.","pos":[28243,28499],"source":"The                  <xref:System.Windows.FlowDirection> was important in this case because setting the                  <xref:System.Windows.FlowDirection> to                  <xref:System.Windows.FlowDirection> instead would have yielded European digits."},{"content":"The following sections discuss how to have a unified display of digits throughout your document.","pos":[28500,28596]},{"content":"If this example is not running on Arabic Windows, all the digits display as European digits.","pos":[28597,28689]},{"pos":[28696,28727],"content":"<bpt id=\"p1\">**</bpt>Defining Substitution Rules<ept id=\"p1\">**</ept>","source":"**Defining Substitution Rules**"},{"content":"In a real application you might need to set the Language programmatically.","pos":[28734,28808]},{"content":"For example, you want to set the                  <ph id=\"ph1\">`xml:lang`</ph> attribute to be the same as the one used by the system’s                  <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph>, or maybe change the language depending on the application state.","pos":[28809,29077],"source":" For example, you want to set the                  `xml:lang` attribute to be the same as the one used by the system’s                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], or maybe change the language depending on the application state."},{"pos":[29084,29282],"content":"If you want to make changes based on the application's state, make use of other features provided by                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph>.","source":"If you want to make changes based on the application's state, make use of other features provided by                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]."},{"content":"First, set the application component’s                  <ph id=\"ph1\">`NumberSubstitution.CultureSource=\"Text\"`</ph>.","pos":[29289,29387],"source":"First, set the application component’s                  `NumberSubstitution.CultureSource=\"Text\"`."},{"content":"Using this setting makes sure that the settings do not come from the                  <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> for text elements that have \"User\" as the default, such as                  <ph id=\"ph2\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph>.","pos":[29388,29659],"source":" Using this setting makes sure that the settings do not come from the                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] for text elements that have \"User\" as the default, such as                  <xref:System.Windows.Controls.TextBlock>."},{"content":"For example:","pos":[29666,29678]},{"pos":[29840,30050],"content":"In the corresponding                  <ph id=\"ph1\">[!INCLUDE[TLA2#tla_lhcshrp](../../../../includes/tla2sharptla-lhcshrp-md.md)]</ph> code, set the                  <ph id=\"ph2\">`Language`</ph> property for example, to                  <ph id=\"ph3\">`\"ar-SA\"`</ph>.","source":"In the corresponding                  [!INCLUDE[TLA2#tla_lhcshrp](../../../../includes/tla2sharptla-lhcshrp-md.md)] code, set the                  `Language` property for example, to                  `\"ar-SA\"`."},{"pos":[30164,30363],"content":"If you need to set the                  <ph id=\"ph1\">`Language`</ph> property to the current user’s                  <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> language use the following code.","source":"If you need to set the                  `Language` property to the current user’s                  [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] language use the following code."},{"content":"<ph id=\"ph1\">&lt;xref:System.Globalization.CultureInfo.CurrentCulture%2A&gt;</ph> represents the current culture used by the current thread at run time.","pos":[30550,30678],"source":"<xref:System.Globalization.CultureInfo.CurrentCulture%2A> represents the current culture used by the current thread at run time."},{"pos":[30685,30844],"content":"Your final                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]</ph> example should be similar to the following example.","source":"Your final                  [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] example should be similar to the following example."},{"pos":[30851,30968],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Numbers2#Numbers2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers2/CS/Window1.xaml#numbers2)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Numbers2#Numbers2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers2/CS/Window1.xaml#numbers2)]"},{"pos":[30975,31118],"content":"Your final                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)]</ph> example should be similar to the following.","source":"Your final                  [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)] example should be similar to the following."},{"pos":[31125,31272],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>NumbersCSharp#NumbersCSharp<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/NumbersCSharp/CSharp/Window1.xaml.cs#numberscsharp)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[NumbersCSharp#NumbersCSharp](../../../../samples/snippets/csharp/VS_Snippets_Wpf/NumbersCSharp/CSharp/Window1.xaml.cs#numberscsharp)]"},{"content":"The following graphic shows what the window looks like for either programming language.","pos":[31279,31366]},{"pos":[31373,31413],"content":"<bpt id=\"p1\">**</bpt>Graphic That Displays Arabic Numbers<ept id=\"p1\">**</ept>","source":"**Graphic That Displays Arabic Numbers**"},{"pos":[31420,31508],"content":"<bpt id=\"p1\">![</bpt>Arabic numbers<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/advanced/media/numbers2.PNG \"</bpt>Numbers2<ept id=\"p2\">\")</ept>","source":"![Arabic numbers](../../../../docs/framework/wpf/advanced/media/numbers2.PNG \"Numbers2\")"},{"pos":[31515,31550],"content":"<bpt id=\"p1\">**</bpt>Using the Substitution Property<ept id=\"p1\">**</ept>","source":"**Using the Substitution Property**"},{"content":"The way number substitution works in                  <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> depends on both the Language of the text element and its                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph>.","pos":[31557,31801],"source":"The way number substitution works in                  [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] depends on both the Language of the text element and its                  <xref:System.Windows.FlowDirection>."},{"content":"If the                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> is left to right, then European digits are rendered.","pos":[31802,31914],"source":" If the                  <xref:System.Windows.FlowDirection> is left to right, then European digits are rendered."},{"content":"However if it is preceded by Arabic text, or has the language set to \"ar\" and the                  <ph id=\"ph1\">&lt;xref:System.Windows.FlowDirection&gt;</ph> is                  <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection&gt;</ph>, Arabic digits are rendered instead.","pos":[31915,32142],"source":" However if it is preceded by Arabic text, or has the language set to \"ar\" and the                  <xref:System.Windows.FlowDirection> is                  <xref:System.Windows.FlowDirection>, Arabic digits are rendered instead."},{"content":"In some cases, however, you might want to create a unified application, for example European digits for all users.","pos":[32149,32263]},{"content":"Or Arabic digits in                  <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Table&gt;</ph> cells with a specific                  <ph id=\"ph2\">&lt;xref:System.Windows.Style&gt;</ph>.","pos":[32264,32406],"source":" Or Arabic digits in                  <xref:System.Windows.Documents.Table> cells with a specific                  <xref:System.Windows.Style>."},{"content":"One easy way to do that is using the                  <ph id=\"ph1\">&lt;xref:System.Windows.Media.NumberSubstitution.Substitution%2A&gt;</ph> property.","pos":[32407,32533],"source":" One easy way to do that is using the                  <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property."},{"content":"In the following example, the first                  <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> does not have the                  <ph id=\"ph2\">&lt;xref:System.Windows.Media.NumberSubstitution.Substitution%2A&gt;</ph> property set, so the algorithm displays Arabic digits as expected.","pos":[32540,32798],"source":"In the following example, the first                  <xref:System.Windows.Controls.TextBlock> does not have the                  <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property set, so the algorithm displays Arabic digits as expected."},{"content":"However in the second                  <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph>, the substitution is set to European overriding the default substitution for Arabic numbers, and European digits are displayed.","pos":[32799,33006],"source":" However in the second                  <xref:System.Windows.Controls.TextBlock>, the substitution is set to European overriding the default substitution for Arabic numbers, and European digits are displayed."},{"pos":[33013,33130],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Numbers3#Numbers3<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers3/CS/Window1.xaml#numbers3)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Numbers3#Numbers3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Numbers3/CS/Window1.xaml#numbers3)]"}]}