{"content":"---\ntitle: \"LINQ and File Directories (C#)\"\nms.date: 07/20/2015\nms.assetid: b66c55e4-0f72-44e5-b086-519f9962335c\n---\n# LINQ and File Directories (C#)\nMany file system operations are essentially queries and are therefore well-suited to the LINQ approach.  \n  \n Note that the queries in this section are non-destructive. They are not used to change the contents of the original files or folders. This follows the rule that queries should not cause any side-effects. In general, any code (including queries that perform create / update / delete operators) that modifies source data should be kept separate from the code that just queries the data.  \n  \n This section contains the following topics:  \n  \n [How to: Query for Files with a Specified Attribute or Name (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-files-with-a-specified-attribute-or-name.md)  \n Shows how to search for files by examining one or more properties of its <xref:System.IO.FileInfo> object.  \n  \n [How to: Group Files by Extension (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-group-files-by-extension-linq.md)  \n Shows how to return groups of <xref:System.IO.FileInfo> object based on their file name extension.  \n  \n [How to: Query for the Total Number of Bytes in a Set of Folders (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-the-total-number-of-bytes-in-a-set-of-folders-linq.md)  \n Shows how to return the total number of bytes in all the files in a specified directory tree.  \n  \n [How to: Compare the Contents of Two Folders (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-compare-the-contents-of-two-folders-linq.md)s  \n Shows how to return all the files that are present in two specified folders, and also all the files that are present in one folder but not the other.  \n  \n [How to: Query for the Largest File or Files in a Directory Tree (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-the-largest-file-or-files-in-a-directory-tree-linq.md)  \n Shows how to return the largest or smallest file, or a specified number of files, in a directory tree.  \n  \n [How to: Query for Duplicate Files in a Directory Tree (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-duplicate-files-in-a-directory-tree-linq.md)  \n Shows how to group for all file names that occur in more than one location in a specified directory tree. Also shows how to perform more complex comparisons based on a custom comparer.  \n  \n [How to: Query the Contents of Files in a Folder (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-the-contents-of-files-in-a-folder-lin.md)  \n Shows how to iterate through folders in a tree, open each file, and query the file's contents.  \n  \n## Comments  \n There is some complexity involved in creating a data source that accurately represents the contents of the file system and handles exceptions gracefully. The examples in this section create a snapshot collection of <xref:System.IO.FileInfo> objects that represents all the files under a specified root folder and all its subfolders. The actual state of each <xref:System.IO.FileInfo> may change in the time between when you begin and end executing a query. For example, you can create a list of <xref:System.IO.FileInfo> objects to use as a data source. If you try to access the `Length` property in a query, the <xref:System.IO.FileInfo> object will try to access the file system to update the value of `Length`. If the file no longer exists, you will get a <xref:System.IO.FileNotFoundException> in your query, even though you are not querying the file system directly. Some queries in this section use a separate method that consumes these particular exceptions in certain cases. Another option is to keep your data source updated dynamically by using the <xref:System.IO.FileSystemWatcher>.  \n  \n## See also\n\n- [LINQ to Objects (C#)](../../../../csharp/programming-guide/concepts/linq/linq-to-objects.md)\n","nodes":[{"pos":[4,112],"embed":true,"restype":"x-metadata","content":"title: \"LINQ and File Directories (C#)\"\nms.date: 07/20/2015\nms.assetid: b66c55e4-0f72-44e5-b086-519f9962335c","nodes":[{"content":"LINQ and File Directories (C#)","nodes":[{"pos":[0,30],"content":"LINQ and File Directories (C#)","nodes":[{"content":"LINQ and File Directories (C#)","pos":[0,30]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[119,149],"content":"LINQ and File Directories (C#)","linkify":"LINQ and File Directories (C#)","nodes":[{"content":"LINQ and File Directories (C#)","pos":[0,30]}]},{"content":"Many file system operations are essentially queries and are therefore well-suited to the LINQ approach.","pos":[150,253]},{"content":"Note that the queries in this section are non-destructive.","pos":[260,318]},{"content":"They are not used to change the contents of the original files or folders.","pos":[319,393]},{"content":"This follows the rule that queries should not cause any side-effects.","pos":[394,463]},{"content":"In general, any code (including queries that perform create / update / delete operators) that modifies source data should be kept separate from the code that just queries the data.","pos":[464,644]},{"content":"This section contains the following topics:","pos":[651,694]},{"content":"<bpt id=\"p1\">[</bpt>How to: Query for Files with a Specified Attribute or Name (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-files-with-a-specified-attribute-or-name.md)</ept>","pos":[701,879],"source":"[How to: Query for Files with a Specified Attribute or Name (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-files-with-a-specified-attribute-or-name.md)"},{"content":"Shows how to search for files by examining one or more properties of its <ph id=\"ph1\">&lt;xref:System.IO.FileInfo&gt;</ph> object.","pos":[883,989],"source":"Shows how to search for files by examining one or more properties of its <xref:System.IO.FileInfo> object."},{"content":"<bpt id=\"p1\">[</bpt>How to: Group Files by Extension (LINQ) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/how-to-group-files-by-extension-linq.md)</ept>","pos":[996,1134],"source":"[How to: Group Files by Extension (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-group-files-by-extension-linq.md)"},{"content":"Shows how to return groups of <ph id=\"ph1\">&lt;xref:System.IO.FileInfo&gt;</ph> object based on their file name extension.","pos":[1138,1236],"source":"Shows how to return groups of <xref:System.IO.FileInfo> object based on their file name extension."},{"content":"<bpt id=\"p1\">[</bpt>How to: Query for the Total Number of Bytes in a Set of Folders (LINQ) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-the-total-number-of-bytes-in-a-set-of-folders-linq.md)</ept>","pos":[1243,1443],"source":"[How to: Query for the Total Number of Bytes in a Set of Folders (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-the-total-number-of-bytes-in-a-set-of-folders-linq.md)"},{"content":"Shows how to return the total number of bytes in all the files in a specified directory tree.","pos":[1447,1540]},{"content":"<bpt id=\"p1\">[</bpt>How to: Compare the Contents of Two Folders (LINQ) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/how-to-compare-the-contents-of-two-folders-linq.md)</ept>s","pos":[1547,1708],"source":"[How to: Compare the Contents of Two Folders (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-compare-the-contents-of-two-folders-linq.md)s"},{"content":"Shows how to return all the files that are present in two specified folders, and also all the files that are present in one folder but not the other.","pos":[1712,1861]},{"content":"<bpt id=\"p1\">[</bpt>How to: Query for the Largest File or Files in a Directory Tree (LINQ) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-the-largest-file-or-files-in-a-directory-tree-linq.md)</ept>","pos":[1868,2068],"source":"[How to: Query for the Largest File or Files in a Directory Tree (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-the-largest-file-or-files-in-a-directory-tree-linq.md)"},{"content":"Shows how to return the largest or smallest file, or a specified number of files, in a directory tree.","pos":[2072,2174]},{"content":"<bpt id=\"p1\">[</bpt>How to: Query for Duplicate Files in a Directory Tree (LINQ) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-duplicate-files-in-a-directory-tree-linq.md)</ept>","pos":[2181,2361],"source":"[How to: Query for Duplicate Files in a Directory Tree (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-for-duplicate-files-in-a-directory-tree-linq.md)"},{"content":"Shows how to group for all file names that occur in more than one location in a specified directory tree.","pos":[2365,2470]},{"content":"Also shows how to perform more complex comparisons based on a custom comparer.","pos":[2471,2549]},{"content":"<bpt id=\"p1\">[</bpt>How to: Query the Contents of Files in a Folder (LINQ) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/how-to-query-the-contents-of-files-in-a-folder-lin.md)</ept>","pos":[2556,2723],"source":"[How to: Query the Contents of Files in a Folder (LINQ) (C#)](../../../../csharp/programming-guide/concepts/linq/how-to-query-the-contents-of-files-in-a-folder-lin.md)"},{"content":"Shows how to iterate through folders in a tree, open each file, and query the file's contents.","pos":[2727,2821]},{"pos":[2830,2838],"content":"Comments","linkify":"Comments","nodes":[{"content":"Comments","pos":[0,8]}]},{"content":"There is some complexity involved in creating a data source that accurately represents the contents of the file system and handles exceptions gracefully.","pos":[2842,2995]},{"content":"The examples in this section create a snapshot collection of <ph id=\"ph1\">&lt;xref:System.IO.FileInfo&gt;</ph> objects that represents all the files under a specified root folder and all its subfolders.","pos":[2996,3174],"source":" The examples in this section create a snapshot collection of <xref:System.IO.FileInfo> objects that represents all the files under a specified root folder and all its subfolders."},{"content":"The actual state of each <ph id=\"ph1\">&lt;xref:System.IO.FileInfo&gt;</ph> may change in the time between when you begin and end executing a query.","pos":[3175,3298],"source":" The actual state of each <xref:System.IO.FileInfo> may change in the time between when you begin and end executing a query."},{"content":"For example, you can create a list of <ph id=\"ph1\">&lt;xref:System.IO.FileInfo&gt;</ph> objects to use as a data source.","pos":[3299,3395],"source":" For example, you can create a list of <xref:System.IO.FileInfo> objects to use as a data source."},{"content":"If you try to access the <ph id=\"ph1\">`Length`</ph> property in a query, the <ph id=\"ph2\">&lt;xref:System.IO.FileInfo&gt;</ph> object will try to access the file system to update the value of <ph id=\"ph3\">`Length`</ph>.","pos":[3396,3555],"source":" If you try to access the `Length` property in a query, the <xref:System.IO.FileInfo> object will try to access the file system to update the value of `Length`."},{"content":"If the file no longer exists, you will get a <ph id=\"ph1\">&lt;xref:System.IO.FileNotFoundException&gt;</ph> in your query, even though you are not querying the file system directly.","pos":[3556,3713],"source":" If the file no longer exists, you will get a <xref:System.IO.FileNotFoundException> in your query, even though you are not querying the file system directly."},{"content":"Some queries in this section use a separate method that consumes these particular exceptions in certain cases.","pos":[3714,3824]},{"content":"Another option is to keep your data source updated dynamically by using the <ph id=\"ph1\">&lt;xref:System.IO.FileSystemWatcher&gt;</ph>.","pos":[3825,3936],"source":" Another option is to keep your data source updated dynamically by using the <xref:System.IO.FileSystemWatcher>."},{"pos":[3945,3953],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3957,4050],"content":"<bpt id=\"p1\">[</bpt>LINQ to Objects (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/linq-to-objects.md)</ept>","source":"[LINQ to Objects (C#)](../../../../csharp/programming-guide/concepts/linq/linq-to-objects.md)"}]}