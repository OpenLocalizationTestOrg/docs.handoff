{"content":"---\ntitle: \"How to: Specify a Client Binding in Configuration\"\nms.date: \"03/30/2017\"\nms.assetid: 4a7c79aa-50ee-4991-891e-adc0599323a7\n---\n# How to: Specify a Client Binding in Configuration\nIn this example, a client console application is created to use a calculator service, and the binding for that client is specified declaratively in configuration. The client accesses the `CalculatorService`, which implements the `ICalculator` interface, and both the service and the client use the <xref:System.ServiceModel.BasicHttpBinding> class.  \n  \n The procedure outlined assumes that the calculator service is running. For information about how to build the service, see [How to: Specify a Service Binding in Configuration](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md). It also uses the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) that Windows Communication Foundation (WCF) provides to automatically generate the client components. The tool generates the client code and configuration for accessing the service.  \n  \n The client is built in two parts. Svcutil.exe generates the `ClientCalculator` that implements the `ICalculator` interface. This client application is then constructed by constructing an instance of `ClientCalculator`.  \n  \n It is usually the best practice to specify the binding and address information declaratively in configuration rather than imperatively in code. Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed. More generally, keeping the binding and addressing information out of the code allows them to change without having to recompile or redeploy the application.  \n  \n You can perform all of the following configuration steps by using the [Configuration Editor Tool (SvcConfigEditor.exe)](../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md).  \n  \n For the source copy of this example, see the [BasicBinding](../../../docs/framework/wcf/samples/basicbinding.md) sample.  \n  \n### Specifying a client binding in configuration  \n  \n1.  Use Svcutil.exe from the command line to generate code from service metadata.  \n  \n    ```  \n    Svcutil.exe <service's Metadata Exchange (MEX) address or HTTP GET address>   \n    ```  \n  \n2.  The client that is generated contains the `ICalculator` interface that defines the service contract that the client implementation must satisfy.  \n  \n     [!code-csharp[C_HowTo_ConfigureClientBinding#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/generatedclient.cs#1)]\n     [!code-csharp[C_HowTo_ConfigureClientBinding#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/source.cs#1)]  \n  \n3.  The generated client also contains the implementation of the `ClientCalculator`.  \n  \n     [!code-csharp[C_HowTo_ConfigureClientBinding#2](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/generatedclient.cs#2)]\n     [!code-csharp[C_HowTo_ConfigureClientBinding#2](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/source.cs#2)]  \n  \n4.  Svcutil.exe also generates the configuration for the client that uses the <xref:System.ServiceModel.BasicHttpBinding> class. When using Visual Studio, name this file App.config. Note that the address and binding information are not specified anywhere inside the implementation of the service. Also, code does not have to be written to retrieve that information from the configuration file.  \n  \n     [!code-xml[C_HowTo_ConfigureClientBinding#100](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/common/client.exe.config#100)]   \n            \n5.  Create an instance of the `ClientCalculator` in an application, and then call the service operations.  \n  \n     [!code-csharp[C_HowTo_ConfigureClientBinding#3](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/client.cs#3)]  \n  \n6.  Compile and run the client.  \n  \n## See also\n\n- [Using Bindings to Configure Services and Clients](../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)\n","nodes":[{"pos":[4,133],"embed":true,"restype":"x-metadata","content":"title: \"How to: Specify a Client Binding in Configuration\"\nms.date: \"03/30/2017\"\nms.assetid: 4a7c79aa-50ee-4991-891e-adc0599323a7","nodes":[{"content":"How to: Specify a Client Binding in Configuration","nodes":[{"pos":[0,49],"content":"How to: Specify a Client Binding in Configuration","nodes":[{"content":"How to: Specify a Client Binding in Configuration","pos":[0,49]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[140,189],"content":"How to: Specify a Client Binding in Configuration","linkify":"How to: Specify a Client Binding in Configuration","nodes":[{"content":"How to: Specify a Client Binding in Configuration","pos":[0,49]}]},{"content":"In this example, a client console application is created to use a calculator service, and the binding for that client is specified declaratively in configuration.","pos":[190,352]},{"content":"The client accesses the <ph id=\"ph1\">`CalculatorService`</ph>, which implements the <ph id=\"ph2\">`ICalculator`</ph> interface, and both the service and the client use the <ph id=\"ph3\">&lt;xref:System.ServiceModel.BasicHttpBinding&gt;</ph> class.","pos":[353,538],"source":" The client accesses the `CalculatorService`, which implements the `ICalculator` interface, and both the service and the client use the <xref:System.ServiceModel.BasicHttpBinding> class."},{"content":"The procedure outlined assumes that the calculator service is running.","pos":[545,615]},{"content":"For information about how to build the service, see <bpt id=\"p1\">[</bpt>How to: Specify a Service Binding in Configuration<ept id=\"p1\">](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md)</ept>.","pos":[616,803],"source":" For information about how to build the service, see [How to: Specify a Service Binding in Configuration](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md)."},{"content":"It also uses the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> that Windows Communication Foundation (WCF) provides to automatically generate the client components.","pos":[804,1052],"source":" It also uses the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) that Windows Communication Foundation (WCF) provides to automatically generate the client components."},{"content":"The tool generates the client code and configuration for accessing the service.","pos":[1053,1132]},{"content":"The client is built in two parts.","pos":[1139,1172]},{"content":"Svcutil.exe generates the <ph id=\"ph1\">`ClientCalculator`</ph> that implements the <ph id=\"ph2\">`ICalculator`</ph> interface.","pos":[1173,1262],"source":" Svcutil.exe generates the `ClientCalculator` that implements the `ICalculator` interface."},{"content":"This client application is then constructed by constructing an instance of <ph id=\"ph1\">`ClientCalculator`</ph>.","pos":[1263,1357],"source":" This client application is then constructed by constructing an instance of `ClientCalculator`."},{"content":"It is usually the best practice to specify the binding and address information declaratively in configuration rather than imperatively in code.","pos":[1364,1507]},{"content":"Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed.","pos":[1508,1695]},{"content":"More generally, keeping the binding and addressing information out of the code allows them to change without having to recompile or redeploy the application.","pos":[1696,1853]},{"pos":[1860,2058],"content":"You can perform all of the following configuration steps by using the <bpt id=\"p1\">[</bpt>Configuration Editor Tool (SvcConfigEditor.exe)<ept id=\"p1\">](../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md)</ept>.","source":"You can perform all of the following configuration steps by using the [Configuration Editor Tool (SvcConfigEditor.exe)](../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md)."},{"pos":[2065,2185],"content":"For the source copy of this example, see the <bpt id=\"p1\">[</bpt>BasicBinding<ept id=\"p1\">](../../../docs/framework/wcf/samples/basicbinding.md)</ept> sample.","source":"For the source copy of this example, see the [BasicBinding](../../../docs/framework/wcf/samples/basicbinding.md) sample."},{"pos":[2195,2239],"content":"Specifying a client binding in configuration","linkify":"Specifying a client binding in configuration","nodes":[{"content":"Specifying a client binding in configuration","pos":[0,44]}]},{"content":"Use Svcutil.exe from the command line to generate code from service metadata.","pos":[2249,2326]},{"pos":[2442,2586],"content":"The client that is generated contains the <ph id=\"ph1\">`ICalculator`</ph> interface that defines the service contract that the client implementation must satisfy.","source":"The client that is generated contains the `ICalculator` interface that defines the service contract that the client implementation must satisfy."},{"pos":[2597,2900],"content":"[!code-csharp[C_HowTo_ConfigureClientBinding#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/generatedclient.cs#1)]\n [!code-csharp[C_HowTo_ConfigureClientBinding#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/source.cs#1)]","leadings":["","    "],"nodes":[]},{"pos":[2910,2990],"content":"The generated client also contains the implementation of the <ph id=\"ph1\">`ClientCalculator`</ph>.","source":"The generated client also contains the implementation of the `ClientCalculator`."},{"pos":[3001,3304],"content":"[!code-csharp[C_HowTo_ConfigureClientBinding#2](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/generatedclient.cs#2)]\n [!code-csharp[C_HowTo_ConfigureClientBinding#2](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_configureclientbinding/cs/source.cs#2)]","leadings":["","    "],"nodes":[]},{"content":"Svcutil.exe also generates the configuration for the client that uses the <ph id=\"ph1\">&lt;xref:System.ServiceModel.BasicHttpBinding&gt;</ph> class.","pos":[3314,3438],"source":"Svcutil.exe also generates the configuration for the client that uses the <xref:System.ServiceModel.BasicHttpBinding> class."},{"content":"When using Visual Studio, name this file App.config. Note that the address and binding information are not specified anywhere inside the implementation of the service.","pos":[3439,3606]},{"content":"Also, code does not have to be written to retrieve that information from the configuration file.","pos":[3607,3703]},{"pos":[3892,3993],"content":"Create an instance of the <ph id=\"ph1\">`ClientCalculator`</ph> in an application, and then call the service operations.","source":"Create an instance of the `ClientCalculator` in an application, and then call the service operations."},{"content":"Compile and run the client.","pos":[4158,4185]},{"pos":[4194,4202],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4206,4337],"content":"<bpt id=\"p1\">[</bpt>Using Bindings to Configure Services and Clients<ept id=\"p1\">](../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)</ept>","source":"[Using Bindings to Configure Services and Clients](../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)"}]}