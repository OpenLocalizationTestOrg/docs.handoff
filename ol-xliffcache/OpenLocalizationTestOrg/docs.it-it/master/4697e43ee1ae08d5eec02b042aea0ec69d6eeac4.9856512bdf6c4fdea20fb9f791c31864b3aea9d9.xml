{"content":"---\ntitle: \"Service Trace Viewer Tool (SvcTraceViewer.exe)\"\nms.date: \"03/30/2017\"\nms.assetid: 9027efd3-df8d-47ed-8bcd-f53d55ed803c\n---\n# Service Trace Viewer Tool (SvcTraceViewer.exe)\nWindows Communication Foundation (WCF) Service Trace Viewer Tool helps you analyze diagnostic traces that are generated by WCF. Service Trace Viewer provides a way to easily merge, view, and filter trace messages in the log so that you can diagnose, repair, and verify WCF service issues.  \n  \n## Configuring Tracing  \n Diagnostic traces provide you with information that shows what is happening throughout your application's operation. As the name implies, you can follow operations from their source to destination and through intermediate points as well.  \n  \n You can configure tracing using the application’s configuration file—either Web.config for Web-hosted applications, or *Appname*.config for self-hosted applications. The following is an example:  \n  \n```xml  \n<system.diagnostics>  \n    <trace autoflush=\"true\" />  \n    <sources>  \n            <source name=\"System.ServiceModel\"   \n                    switchValue=\"Information, ActivityTracing\"  \n                    propagateActivity=\"true\">  \n            <listeners>  \n               <add name=\"sdt\"   \n                   type=\"System.Diagnostics.XmlWriterTraceListener\"   \n                   initializeData= \"SdrConfigExample.e2e\" />  \n            </listeners>  \n         </source>  \n    </sources>  \n</system.diagnostics>  \n```  \n  \n In this example, the name and type of the trace listener is specified. The Listener is named `sdt` and the standard .NET Framework trace listener (System.Diagnostics.XmlWriterTraceListener) is added as the type. The `initializeData` attribute is used to set the name of the log file for that Listener to be `SdrConfigExample.e2e`. For the log file, you can substitute a fully-qualified path for a simple file name.  \n  \n The example creates a file in the root directory called SdrConfigExample.e2e. When you use the Trace Viewer to open the file as described in the \"Opening and Viewing WCF Trace Files\" section, you can see all the messages that have been sent.  \n  \n The tracing level is controlled by the `switchValue` setting. The available tracing levels are described in the following table.  \n  \n|Trace Level|Description|  \n|-----------------|-----------------|  \n|Critical|-   Logs Fail-Fast and Event Log entries, and trace correlation information. The following are some examples of when you might use the Critical level:<br />-   Your AppDomain went down because of an unhandled exception.<br />-   Your application fails to start.<br />-   The message that caused the failure originated from the process MyApp.exe.|  \n|Error|-   Logs all exceptions. You can use the Error level in the following situations:<br />-   Your code crashed because of an Invalid Cast Exception.<br />-   A \"failed to create endpoint\" exception is causing your application to fail on startup.|  \n|Warning|-   A condition exists that may subsequently result in an error or critical failure. You can use this level in the following situations:<br />-   The application is receiving more requests than its throttling settings allows.<br />-   The receiving queue is at 98 percent of its configured capacity.|  \n|Information|-   Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated. You can utilize such information for capacity planning and performance management. You can use this level in the following situations:<br />-   A failure occurred after the message reached the AppDomain and was deserialized.<br />-   A failure occurred while the HTTP binding was being created.|  \n|Verbose|-   Debug-level tracing for both user code and servicing. Set this level when:<br />-   You are not sure which method in your code was called when the failure occurred.<br />-   You have an incorrect endpoint configured and the service failed to start because the entry in the reservation store is locked.|  \n|ActivityTracing|Flow events between processing activities and components.<br /><br /> This level allows administrators and developers to correlate applications in the same application domain.<br /><br /> -   Traces for activity boundaries: start/stop.<br />-   Traces for transfers.|  \n  \n You can use `add` to specify the name and type of the trace listener you want to use. In the example configuration, the Listener is named `sdt` and the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) is added as the type. Use `initializeData` to set the name of the log file for that Listener. In addition, you can substitute a fully-qualified path for a simple file name.  \n\nStarting in .NET Framework 4.8, ComboBox controls in some high contrast themes are displayed in the correct color. You can disable this change by removing the following setting from the *svcTraceViewer.exe.config* file:\n\n```xml\n<AppContextSwitchOverrides value=\"Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false\" />\n```\n\n## Using the Service Trace Viewer Tool  \n  \n### Opening and Viewing WCF Trace Files  \n The Service Trace Viewer supports three file types:  \n  \n-   WCF Tracing File (.svcLog)  \n  \n-   Event Tracing File (.etl)  \n  \n-   Crimson Tracing File  \n  \n Service Trace Viewer enables you to open any supported trace file, add and integrate additional trace files, or open and merge a group of trace files simultaneously.  \n  \n##### To open a trace file  \n  \n1.  Start Service Trace Viewer by using a command window to navigate to your WCF installation location (C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0\\Bin), and then type `SvcTraceViewer.exe`.  \n  \n> [!NOTE]\n>  The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj. You can use two parameters in command line to register and unregister the file extensions.  \n>   \n>  /register: register the association of file extensions \".svclog\" and \".stvproj\" with SvcTraceViewer.exe  \n>   \n>  /unregister: unregister the association of file extensions \".svclog\" and \".stvproj\" with SvcTraceViewer.exe  \n  \n1.  When Service Trace Viewer starts, click **File** and then point to **Open**. Navigate to the location where your trace files are stored.  \n  \n2.  Double-click the trace file that you want to open.  \n  \n    > [!NOTE]\n    >  Press SHIFT while clicking multiple trace files to select and open them simultaneously. Service Trace Viewer merges the content of all files and presents one view. For example, you can open trace files of both client and service. This is useful when you have enabled message logging and activity propagation in configuration. In this way, you can examine message exchange between client and service. You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details.  \n  \n3.  To add additional trace files to the collection that is open, click **File** and then point to **Add**. In the window that opens, navigate to the location of the trace files and double-click the file you want to add.  \n  \n> [!CAUTION]\n>  It is not recommended that you load a trace log file bigger than 200MB. If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource. The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory. It is recommended that you configure partial loading to avoid this. For more information on how to do this, see \"Loading Large Trace Files\" section.  \n  \n#### Event Tracing and Crimson Tracing  \n The viewer’s native format is the activity tracing format that WCF emits. Traces emitted in a different format must be converted before the viewer displays them. Currently, in addition to the activity tracing format, the viewer supports event tracing and crimson tracing.  \n  \n When you open a file that does not contain activity traces, the viewer attempts to convert the file. You must specify the name and location of the file that will contain the converted trace data. Once the data has been converted, the viewer displays the content of the new file.  \n  \n> [!NOTE]\n>  Conversion requires disk space to store the converted trace data. Make sure you have enough disk space available to store the data before you start a conversion. Otherwise, the conversion fails.  \n  \n### Managing Projects  \n The viewer supports projects to facilitate viewing multiple trace files. For example, if you have a client trace file and a service trace file, you can add them to a project. Then, every time you open the project, all the trace files in the project are loaded simultaneously.  \n  \n There are two ways to manage projects:  \n  \n-   In the **File** menu, you can open, save and close projects.  \n  \n-   In the **Project** tab, you can add files to a project.  \n  \n### Viewing WCF Traces  \n WCF emits traces using the activity tracing format. In the activity tracing model, individual traces are grouped in activities according to their purpose. Logical control flow is transferred between activities. For example, during the lifetime of an application, many \"message send activities\" appear and disappear. For more information on viewing traces and activities, and the user interface of the Service Trace Viewer too, see [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).  \n  \n#### Switching to Different Views  \n The Service Trace Viewer provides the following different views. They are displayed as tabs on the left pane of the Viewer, and can also be accessed from the **View** menu.  \n  \n-   Activity View  \n  \n-   Project View  \n  \n-   Message View  \n  \n-   Graph View  \n  \n##### Activity view  \n Once the trace files are opened, you can see the traces grouped into activities and displayed in the **Activity** view in the left-hand pane.  \n  \n The **Activity** view displays activity names, number of traces in the activity, duration time, start time and end time.  \n  \n By clicking any of the listed activities, the traces in this activity are displayed in the trace pane on the right. You can then select a trace to view its details.  \n  \n You can select multiple activities by pressing the **Ctrl** or **Shift** key and clicking the desired activities. The trace pane displays all the traces of the selected activities.  \n  \n You can double-click an activity to display it in **Graph** View. The alternative way is to select an activity and switch to **Graph** View.  \n  \n> [!NOTE]\n>  The activity \"000000000000\" is a special activity that cannot be displayed in the Graph View. Because all other activities are linked to it, displaying this activity has a severe performance impact.  \n  \n You can click the column title to sort the activity list. Activities that contain warning traces have a yellow background and those that contain error traces have a red one.  \n  \n There are different types of activities and each type corresponds to an icon on the left side of each activity. You can refer to the Understanding Trace Icons section for their meaning.  \n  \n##### Project View  \n This view enables you to manage trace files in the current project. See the Managing Project section for more details.  \n  \n##### Graph View  \n One of the most powerful features of Service Trace Viewer is the **Graph** view, which displays the trace data for a given activity in chart form. The chart form enables you to see the stepwise execution of events and the interrelationships between multiple activities as data moves between them.  \n  \n To switch to **Graph** view, select an activity in the **Activity** view and click the **Activity** tab, or a message log trace in the **Message** View. If multiple trace files are loaded and the activity involves traces from more than one file, all of the relevant traces appear in the graph view. Double-clicking on the activities and message log traces also leads you to the **Graph** view.  \n  \n In **Graph** view, each vertical column represents an activity, and each block in the column represents a trace. The activities are grouped by process (or thread). The small arrows between activities represent transfers. The big arrows between processes represent message exchange. The activity in selection is always in yellow.  \n  \n###### Selecting Traces in the Graph  \n  \n1.  Click a block in the graph.  \n  \n2.  Use the up and down keys to select its neighboring traces.  \n  \n3.  Observe the trace information in the Trace Pane and Detail Pane.  \n  \n###### Expanding or Collapsing Activity Transfers  \n You can expand activity transfers when the activity in selection transfers out to another activity. It enables you to follow the transfers.  \n  \n To expand or collapse activity transfers,  \n  \n1.  Locate the transfer trace with a \"+\" sign on the left of the transfer icon.  \n  \n2.  Click the \"+\", or press **Ctrl** and \"+\" using the keyboard.  \n  \n3.  The next activity appears in the graph.  \n  \n4.  A \"-\" appears on the left of the transfer icon. Click the \"-\" sign or press Ctrl and \"-\", the activity transfer collapses.  \n  \n> [!NOTE]\n>  When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed. These new activities appear in collapsed form. If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.  \n  \n###### Expanding or Collapsing Activities Vertically  \n The viewer hides unnecessary detail in the activity graph by collapsing activities. In a collapsed activity, individual traces are not displayed. Only transfers trace appear. If you want to view all traces in an activity, expand the activity vertically by clicking the expand symbol of the activity in the header of the graph.  \n  \n To expand or collapse activities vertically,  \n  \n1.  Click the \"+\" icon in the activity header to expand the activity vertically.  \n  \n2.  Notice that all traces are displayed in the graph.  \n  \n3.  Click the \"-\" icon in the activity header to collapse the activity vertically.  \n  \n4.  Notice that only important transfers, message logs, warning and exception traces are shown in the activity.  \n  \n###### Options  \n You can select two options from the **Option** menu in Graph view.  \n  \n-   Show Activity Boundary Traces, which when unchecked ignore the activity boundary traces in the graph.  \n  \n-   Show Non-message Verbose Traces, which when unchecked ignore verbose level traces, except for message traces. In most cases, verbose level traces are less important for analysis. This option is helpful when you do not want to analyze verbose level traces and only want to focus on more important traces.  \n  \n###### Layout Mode  \n The viewer has two Layout Modes: **Process** and **Thread**. This setting defines the largest unit of organization. The default Layout Mode is **Process**, which means that activities are grouped by processes in the graph.  \n  \n###### Execution List  \n You can select which process or thread to be displayed in the graph from this drop-down list. For example, if you have the trace files of two clients (A and B) and one service opened, and you only want to display the service and client A in the graph, you can deselect client B from the list.  \n  \n#### Viewing Trace Details  \n To view a trace detail, select a trace in the Trace pane. The details are displayed in the Detail pane.  \n  \n##### Trace Pane  \n The upper right pane in the Service Trace Viewer is the Trace Pane. It lists all the traces in the selected activity with extra information, for example, trace level, thread ID, and process name.  \n  \n You can copy the raw XML of the trace to the clipboard by right-clicking a trace and selecting **Copy Trace to Clipboard**.  \n  \n##### Detail Pane  \n The bottom left pane in the Service Trace Viewer is the Detail Pane. It provides three tabs to view trace details.  \n  \n The **Formatted** view displays the information in a more organized way. It lists all known XML elements in tables and trees, making it easier to read and understand the information.  \n  \n The **XML** view displays XML corresponding to the selected trace. It supports highlighting and syntax color. When you use **Find** to search strings, it highlights the search results.  \n  \n The **Message** view displays the message part of the XML in message log traces. It is invisible when you select a non-message trace.  \n  \n### Filtering WCF Traces  \n To make the analysis of trace easier, you can filter them in the following ways:  \n  \n-   The filter toolbar provides access to pre-defined and custom filters. It can be enabled through the **View** menu.  \n  \n-   The pre-defined filter of the viewer can be used to selectively filter parts of the WCF traces. By default, it is set to allow all infrastructure traces to pass through. The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.  \n  \n-   Custom XPath filters give users full control over filtering. They can be defined in the **Custom Filter** under **View** menu.  \n  \n Only traces that passes through all filters is displayed.  \n  \n#### Using the Filter Toolbar  \n The filter toolbar appears across the top of the tool. If it is not present, you can activate it in the **View** menu. The bar has three components:  \n  \n-   Look for: **Look for** defines the subject to look for in the filter operation. For example, if you want to find all traces that were emitted in the context of process X, set this field to X and the **Search In** field to ‘Process Name’. This field changes to a DateTime selector control when a time-based filter is selected.  \n  \n-   Search in: This field defines the type of filter to apply.  \n  \n-   Level: The level setting defines the minimum trace level allowed by the filter. For example, if the level is set to Error and Up, only traces at the Error and critical level are displayed. This filter combines with the criteria specified by Look For and Search In.  \n  \n The **Filter Now** button starts the filter operation. Some filters, especially when they are applied to a large data set, take a long time to complete. You can cancel the filter operation by pressing the **Stop** button that appears in the status bar under the **Operations** menu.  \n  \n The **Clear** button resets pre-defined and custom filters to allow all traces to pass through.  \n  \n#### Filter Options  \n The viewer can automatically remove WCF traces from the view. It can selectively remove traces emitted by specific areas of WCF, for example, removing transaction related traces from the view.  \n  \n The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu.  \n  \n#### Custom Filters  \n If you are familiar with the XML Path Language (XPath), you can use it to construct custom filters to search the trace data for any XML element of interest. The filters are accessible through the filter toolbar.  \n  \n Custom filters can include parameters. You can also import pre-existing custom filters.  \n  \n##### Creating a custom filter  \n Filters can be created in two ways:  \n  \n###### Creating a Custom Filter using the Template Wizard  \n You can click an existing trace and create a filter based on the structure of the trace. This example creates a custom filter based on thread ID.  \n  \n1.  In the trace pane in the top right area of the viewer, select a trace that includes the element you want to filter for.  \n  \n2.  Click the **Create Custom Filter** button located at the top of the trace pane.  \n  \n3.  In the dialog box that appears, enter a name for your filter. In this example, enter `Thread ID`. You can also provide a description of your filter.  \n  \n4.  The tree view on the left displays the structure of the trace record you selected in step 1. Browse to the element you want to create a condition for. In this example, browse to the ThreadID to be located in the XPath: /E2ETraceEvent/System/Execution/@ThreadID node. Double-click the ThreadID attribute in the tree view. This creates an expression for the attribute on the right of the dialog.  \n  \n5.  Change the parameter field for the ThreadID condition from None to ‘{0}’. This step enables the ThreadID value to be configured when the filter is applied. (See the How to Apply a Filter section) You can define up to four parameters. Conditions are combined using the OR operator.  \n  \n6.  Click **Ok** to create the filter.  \n  \n> [!NOTE]\n>  Once a filter has been created using the template wizard, it can only be edited manually. It is not possible to activate the wizard for a filter that has been created previously. In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator. If you require an AND operation, you can edit the filter expression after it has been created.  \n  \n###### Creating a Custom Filter Manually  \n The Custom Filters menu allows you to enter XPath filters manually.  \n  \n1.  In the View menu, click the **Custom Filters** menu item.  \n  \n2.  In the dialog that appears, click **New.**  \n  \n3.  At the minimum, specify a Filter Name and XPath expression.  \n  \n4.  Click **OK**.  \n  \n###### Applying a Custom Filter  \n Once a custom filter has been created, it is accessible though the filter toolbar. Select the filter you want to apply in the **Search In** field of the filter toolbar. For the previous example, select ‘Thread ID’.  \n  \n1.  Specify the value you are looking for in the **Find What** field. In our example, enter the ID of the thread you want to search for.  \n  \n2.  Click **Filter Now**, and observe the result of the operation.  \n  \n If your filter uses multiple parameters, enter them using ‘;’ as a separator in the **Find What** field. For example, the following string defines 3 parameters: ‘1;findValue;text’. The viewer applies ‘1’ to the {0} parameter of the filter. ‘findValue’ and ‘text’ are applied to {1} and {2} respectively.  \n  \n###### Sharing custom Filters  \n Custom filters can be shared between different sessions and different users. You can export the filters to a definition file and import this file at another location.  \n  \n To import a custom filter:  \n  \n1.  In the **View** menu, click **Custom Filters**.  \n  \n2.  In the dialog box that opens, click the **Import** button.  \n  \n3.  Navigate to the custom filter file (.stvcf), click the file, and click the **Open** button.  \n  \n To export a custom filter:  \n  \n1.  In the View menu, click **Custom Filters**.  \n  \n2.  In the dialog box that opens, select the filter you want to export.  \n  \n3.  Click the **Export** button.  \n  \n4.  Specify the name and location of the custom filter definition file (.stvcf), and click the **Save** button.  \n  \n> [!NOTE]\n>  These custom filters can only be imported and exported from Service Trace Viewer. They cannot be read by other tools.  \n  \n### Finding Data  \n The viewer provides the following ways to find data:  \n  \n-   The Find toolbar provides a quick access to the most common find options.  \n  \n-   The Find dialog provides more find options. It is accessible through the **Edit** menu, or by the short key Ctrl + F.  \n  \n The find toolbar appears at the top of the viewer. If it is not present, you can activate it in the **View** menu. The bar has two components:  \n  \n-   Find What: Allows you to enter search keyword.  \n  \n-   Look In: Allows you to enter the search scope. You can select whether to search in all activities or in the current activity only.  \n  \n The find dialog provides two additional options:  \n  \n-   Find target:  \n  \n    -   The \"Raw log data\" option searches the keyword in all raw data.  \n  \n    -   The \"XML Text\" and \"XML Attribute\" options only search in XML elements.  \n  \n    -   The \"Logged Message\" option searches the keyword only in messages.  \n  \n-   Ignore root activity: The search ignores the traces in the \"000000000000\" activity. This improves performance in large trace files when the root activity has thousands of traces, most of which are transfers.  \n  \n### Navigating Traces  \n Because traces are recorded step by step during application runtime, navigating traces can help you to debug your application. The Service Trace Viewer provides various ways to navigate in traces.  \n  \n#### Step Forward or Backward  \n If you consider each trace as a line of code in the program, stepping forward is very similar to \"Step over\" in the Visual Studio Integrated Development Environment (IDE). The difference is that you can also step backward in the traces. Stepping forward means moving to the next trace in the activity.  \n  \n-   Step Forward: Use the **Activity** menu, or press \"F10\". You can also use arrow key \"down\" in the trace pane.  \n  \n-   Step Backward: Use the **Activity** menu, or press \"F9\". You can also use arrow key \"up\" in the trace pane.  \n  \n> [!NOTE]\n>  This can take you to an activity occurring in a different process or even on a different computer, because WCF messages can carry activity IDs that span machines.  \n  \n#### Follow Transfer  \n Transfer traces are special traces in the trace file. An activity may transfer to another activity by a transfer trace. For example, \"Activity A\" may transfer to \"Activity B\". In such case, there is a transfer trace in the \"Activity A\" with the name \"To: Activity\" and the transfer icon. This transfer trace is a link between the two traces. In \"Activity B\", there might also be a transfer trace at the end of the activity to transfer back to \"Activity A\". This is similar to function calls in programs: A calls B, then B returns.  \n  \n \"Follow transfer\" is similar to \"Step into\" in a debugger. It follows the transfer from A to B. It does not have any effect on other traces.  \n  \n There are two ways to follow a transfer: by mouse or by keyboard:  \n  \n-   By Mouse: Double-click the transfer trace in the trace pane.  \n  \n-   By Keyboard: Select a transfer trace, and use \"Follow Transfer\" in the **Activity** menu, or press \"F11\"  \n  \n> [!NOTE]\n>  In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing. However, it is also possible that Activity A does not wait, and continues to log traces. It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense. You can understand activity transfers better in Graph view.  \n  \n#### Jump to Next or Previous Transfer  \n When you are analyzing the current activity, or selected activities when multiple activities are selected, you may want to quickly find the activities it transfers to. \"Jump to next transfer\" allows you to locate the next transfer trace in the activity. Once you find the transfer trace, you can use \"Follow transfer\" to step into the next activity.  \n  \n-   Jump to Next Transfer: Use the **Activity** menu, or press \"Ctrl + F10\".  \n  \n-   Jump to Previous Transfer: Use the **Activity** menu, or press \"Ctrl + F9\".  \n  \n#### Navigate in Graph View  \n Although navigating in the activity pane and trace pane is similar to debugging, using **Graph** view provides a much better experience in navigation. See \"Graph View\" section for more information.  \n  \n### Loading Large Trace Files  \n Trace files can be very large. For example, if you turn on tracing on the \"Verbose\" level, the resulting trace file for running a few minutes can easily be hundreds of megabytes or even larger, depending on network speed and communication pattern.  \n  \n When you open a very large trace file in the Service Trace Viewer, system performance can be negatively impacted. The loading speed and the response time after loading can be slow. Actual speed differs from time to time, depending on your hardware configuration. In most PCs, loading a trace file larger than 200M has a severe performance impact. For traces files larger than 1G, the tool may use up all available memory, or stop responding for a very long time.  \n  \n In order to avoid the slow loading and response time in analyzing large trace files, the Service Trace Viewer provides a feature called \"Partial Loading\", which only loads a small part of the trace at a time. For example, you may have a trace file over 1GB, running for several days on the server. When some errors have occurred and you want to analyze the trace, it is not necessary to open the entire trace file. Instead, you can load the traces within a certain period of time when the error might have occurred. Because the scope is smaller, the Service Trace Viewer tool can load the file faster and you can identify the errors using a smaller set of data.  \n  \n#### Enabling Partial Loading  \n You do not need to manually enable partial loading. If the total size of the trace file(s) you attempt to load exceeds 40MB, Service Trace Viewer automatically displays a Partial Loading dialog for you to select the part that you want to load.  \n  \n> [!NOTE]\n>  Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown. The actual loading size can be smaller than the Estimated Size in the partial loading dialog.  \n  \n#### Adjusting Partial Loading  \n After you have partially loaded the trace file, you may want to change the data set being loaded. You can do so by adjusting the Partial Loading toolbar at the top of the viewer.  \n  \n1.  Move the toolbar by mouse, or input the Begin and End time.  \n  \n2.  Click the **Adjust** button.  \n  \n## Understanding Trace Icons  \n The following is a list of icons that the Service Trace Viewer tool uses in the **Activity** view, **Graph** view and **Trace** pane to represent different items.  \n  \n> [!NOTE]\n>  Some traces that are not categorized (for example, \"a message is closed\") have no icon.  \n  \n### Activity Tracing Traces  \n  \n|Icon|Description|  \n|----------|-----------------|  \n|![Warning trace](../../../docs/framework/wcf/media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif \"7457c4ed-8383-4ac7-bada-bcb27409da58\")|Warning trace: A trace that is emitted at the warning level|  \n|![Error trace](../../../docs/framework/wcf/media/7d908807-4967-4f6d-9226-d52125db69ca.gif \"7d908807-4967-4f6d-9226-d52125db69ca\")|Error trace: A trace that is emitted at the error level.|  \n|![Activity Start trace:](../../../docs/framework/wcf/media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif \"8a728f91-5f80-4a95-afe8-0b6acd6e0317\")|Activity Start trace: A trace that marks the beginning of an activity. It contains the name of the activity. As the application designer or developer, you should define one activity Start trace per activity id per process or thread.<br /><br /> If the activity id is propagated across trace sources for trace correlation, you can then see multiple Starts for the same activity id (one per trace source). The Start trace is emitted if ActivityTracing is enabled for the trace source.|  \n|![Activity Stop trace](../../../docs/framework/wcf/media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif \"a0493e95-653e-4af8-84a4-4d09a400bc31\")|Activity Stop trace: A trace that marks the end of an activity. . It contains the name of the activity. As the application designer or developer, you should define one activity Stop trace per activity id per trace source. No traces from a given trace source appear after the activity Stop emitted by that trace source, except if the trace time granularity is not sufficiently small. When that happens, two traces with the same time, including a Stop, may be interleaved when displayed. If the activity id is propagated across trace sources for trace correlation, you can see multiple Stops for the same activity id (one per trace source). The Stop trace is emitted if ActivityTracing is enabled for the trace source.|  \n|![Activity Suspend trace](../../../docs/framework/wcf/media/6f7f4191-df2b-4592-8998-8379769e2d32.gif \"6f7f4191-df2b-4592-8998-8379769e2d32\")|Activity Suspend trace: A trace that marks the time an activity is paused. No traces are emitted in a suspended activity until the activity resumes. A suspended activity denotes that no processing is happening in that activity in the scope of the trace source. Suspend/Resume traces are useful for profiling. The Suspend trace is emitted if ActivityTracing is enabled for the trace source.|  \n|![Activity resume trace](../../../docs/framework/wcf/media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif \"1060d9d2-c9c8-4e0a-9988-cdc2f7030f17\")|Activity resume trace: A trace that marks the time an activity is resumed after it had been suspended. Traces may be emitted again in that activity. Suspend/Resume traces are useful for profiling. The Resume trace is emitted if ActivityTracing is enabled for the trace source.|  \n|![Transfer](../../../docs/framework/wcf/media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif \"b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5\")|Transfer: A trace that is emitted when logical control flow is transferred from one activity to another. The activity the transfer originates from may continue to perform work in parallel to the activity the transfer goes to. The Transfer trace is emitted if ActivityTracing is enabled for the trace source.|  \n|![Transfer From](../../../docs/framework/wcf/media/1df215cb-b344-4f36-a20d-195999bda741.gif \"1df215cb-b344-4f36-a20d-195999bda741\")|Transfer From: A trace that defines a transfer from another activity to the current activity.|  \n|![Transfer To](../../../docs/framework/wcf/media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif \"74255b6e-7c47-46ef-8e53-870c76b04c3f\")|Transfer To: A trace that defines a transfer of logical control flow from the current activity to another activity.|  \n  \n### WCF Traces  \n  \n|Icon|Description|  \n|----------|-----------------|  \n|![Message Log trace](../../../docs/framework/wcf/media/7c66e994-2476-4260-a0db-98948b9af197.gif \"7c66e994-2476-4260-a0db-98948b9af197\")|Message Log trace: A trace that is emitted when a WCF message is logged by the message logging feature, when the `System.ServiceModel.MessageLogging` trace source is enabled. Clicking on this trace displays the message. There are four configurable logging points for a message: ServiceLevelSendRequest, TransportSend, TransportReceive, and ServiceLevelReceiveRequest, which can also be  specified by the `messageSource` attribute in the message log trace.|  \n|![Message Received trace](../../../docs/framework/wcf/media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif \"de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c\")|Message Received trace: A trace that is emitted when a WCF message is received, if the `System.ServiceModel` trace source is enabled at the Information or Verbose level. This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.|  \n|![Message Sent trace](../../../docs/framework/wcf/media/558943c4-17cf-4c12-9405-677e995ac387.gif \"558943c4-17cf-4c12-9405-677e995ac387\")|Message Sent trace: A trace that is emitted when a WCF message is sent if the `System.ServiceModel` trace source is enabled at the Information or Verbose level. This trace is essential for viewing the message correlation arrow in the Activity **Graph** view.|  \n  \n### Activities  \n  \n|Icon|Description|  \n|----------|-----------------|  \n|![Activity](../../../docs/framework/wcf/media/wcfc-defaultactivityc.gif \"wcfc_defaultActivityc\")|Activity: Indicates that the current activity is a generic activity.|  \n|![Root activity](../../../docs/framework/wcf/media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif \"5dc8e0eb-1c32-4076-8c66-594935beaee9\")|Root activity: Indicates the root activity of a process.|  \n  \n### WCF Activities  \n  \n|Icon|Description|  \n|----------|-----------------|  \n|![Environment activity](../../../docs/framework/wcf/media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif \"29fa00ac-cf78-46e5-822d-56222fff61d1\")|Environment activity: An activity that creates, opens, or closes a WCF host or client. Errors that have happened during these phases will appear in this activity.|  \n|![Listen activity](../../../docs/framework/wcf/media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif \"d7b135f6-ec7d-45d7-9913-037ab30e4c26\")|Listen activity: An activity that logs traces related to a listener. Inside this activity, we can view listener information and connection requests.|  \n|![Receive Bytes activity](../../../docs/framework/wcf/media/2f628580-b80f-45a7-925b-616c96426c0e.gif \"2f628580-b80f-45a7-925b-616c96426c0e\")|Receive Bytes activity: An activity that groups all traces related to receiving incoming bytes on a connection between two endpoints. This activity is essential in correlating with transport activities that propagate their activity id such as http.sys. Connection errors such as aborts will appear in this activity.|  \n|![Process Message activity](../../../docs/framework/wcf/media/wcfc-executionactivityiconc.GIF \"wcfc_ExecutionActivityIconc\")|Process Message activity: An activity that groups traces related to creating a WCF message. Errors due to a bad envelope or a malformed message will appear in that activity. Inside this activity, we can inspect message headers to see if an activity id was propagated from the caller. If this is true, when we transfer to Process Action activity (the next icon), we can also assign to that activity the propagated activity id for correlation between the caller and callee’s traces.|  \n|![Message Log trace](../../../docs/framework/wcf/media/7c66e994-2476-4260-a0db-98948b9af197.gif \"7c66e994-2476-4260-a0db-98948b9af197\")|Process Action activity: An activity that groups all traces related to a WCF request across two endpoints. If `propagateActivity` is set to `true` on both endpoints in configuration, all traces from both endpoints are merged into one activity for direct correlation. Such activity will contain errors due to transport or security processing, extending to the user code boundary and back (if a response exists).|  \n|![Process Message activity](../../../docs/framework/wcf/media/wcfc-executionactivityiconc.GIF \"wcfc_ExecutionActivityIconc\")|Execute User Code activity: An activity that groups user code traces for processing a request.|  \n  \n## Troubleshooting  \n If you do not have permission to write to the registry, you get the following error message \"The Microsoft Service Trace Viewer was not registered to the system\" when you use the \"`svctraceviewer /register`\" command to register the tool. If this occurs, you should log in using an account that has write access to the registry.  \n  \n In addition, the Service Trace Viewer tool writes some settings (for example, custom filters and filter options) to the SvcTraceViewer.exe.settings file in its assembly folder. If you do not have read permission for the file, you can still launch the tool, but you cannot load the settings.  \n  \n If you get the error message \"An unknown error occurred while processing one or more traces\" when opening the .etl file, it means that the format of the .etl file is invalid.  \n  \n If you open a trace log created using an Arabic operating system, you may notice that the time filter does not work. For example, year 2005 corresponds to year 1427 in Arabic calendar. However, the time range supported by the Service Trace Viewer tool filter does not support a date earlier than 1752. This can imply that you are not able to select a correct date in the filter. To resolve this problem, you can create a custom filter (**View/Custom Filters**) using an XPath expression to include a specific time range.  \n  \n## See also\n\n- [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)\n- [Configuring Tracing](../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md)\n- [End-to-End Tracing](./diagnostics/tracing/end-to-end-tracing.md)\n","nodes":[{"pos":[4,130],"embed":true,"restype":"x-metadata","content":"title: \"Service Trace Viewer Tool (SvcTraceViewer.exe)\"\nms.date: \"03/30/2017\"\nms.assetid: 9027efd3-df8d-47ed-8bcd-f53d55ed803c","nodes":[{"content":"Service Trace Viewer Tool (SvcTraceViewer.exe)","nodes":[{"pos":[0,46],"content":"Service Trace Viewer Tool (SvcTraceViewer.exe)","nodes":[{"content":"Service Trace Viewer Tool (SvcTraceViewer.exe)","pos":[0,46]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[137,183],"content":"Service Trace Viewer Tool (SvcTraceViewer.exe)","linkify":"Service Trace Viewer Tool (SvcTraceViewer.exe)","nodes":[{"content":"Service Trace Viewer Tool (SvcTraceViewer.exe)","pos":[0,46]}]},{"content":"Windows Communication Foundation (WCF) Service Trace Viewer Tool helps you analyze diagnostic traces that are generated by WCF.","pos":[184,311]},{"content":"Service Trace Viewer provides a way to easily merge, view, and filter trace messages in the log so that you can diagnose, repair, and verify WCF service issues.","pos":[312,472]},{"pos":[481,500],"content":"Configuring Tracing","linkify":"Configuring Tracing","nodes":[{"content":"Configuring Tracing","pos":[0,19]}]},{"content":"Diagnostic traces provide you with information that shows what is happening throughout your application's operation.","pos":[504,620]},{"content":"As the name implies, you can follow operations from their source to destination and through intermediate points as well.","pos":[621,741]},{"content":"You can configure tracing using the application’s configuration file—either Web.config for Web-hosted applications, or <bpt id=\"p1\">*</bpt>Appname<ept id=\"p1\">*</ept>.config for self-hosted applications.","pos":[748,913],"source":"You can configure tracing using the application’s configuration file—either Web.config for Web-hosted applications, or *Appname*.config for self-hosted applications."},{"content":"The following is an example:","pos":[914,942]},{"content":"In this example, the name and type of the trace listener is specified.","pos":[1485,1555]},{"content":"The Listener is named <ph id=\"ph1\">`sdt`</ph> and the standard .NET Framework trace listener (System.Diagnostics.XmlWriterTraceListener) is added as the type.","pos":[1556,1696],"source":" The Listener is named `sdt` and the standard .NET Framework trace listener (System.Diagnostics.XmlWriterTraceListener) is added as the type."},{"content":"The <ph id=\"ph1\">`initializeData`</ph> attribute is used to set the name of the log file for that Listener to be <ph id=\"ph2\">`SdrConfigExample.e2e`</ph>.","pos":[1697,1815],"source":" The `initializeData` attribute is used to set the name of the log file for that Listener to be `SdrConfigExample.e2e`."},{"content":"For the log file, you can substitute a fully-qualified path for a simple file name.","pos":[1816,1899]},{"content":"The example creates a file in the root directory called SdrConfigExample.e2e.","pos":[1906,1983]},{"content":"When you use the Trace Viewer to open the file as described in the \"Opening and Viewing WCF Trace Files\" section, you can see all the messages that have been sent.","pos":[1984,2147]},{"content":"The tracing level is controlled by the <ph id=\"ph1\">`switchValue`</ph> setting.","pos":[2154,2215],"source":"The tracing level is controlled by the `switchValue` setting."},{"content":"The available tracing levels are described in the following table.","pos":[2216,2282]},{"content":"Trace Level","pos":[2289,2300]},{"content":"Description","pos":[2301,2312]},{"content":"Critical","pos":[2357,2365]},{"content":"-   Logs Fail-Fast and Event Log entries, and trace correlation information.","pos":[2366,2442]},{"content":"The following are some examples of when you might use the Critical level:","pos":[2443,2516]},{"content":"-   Your AppDomain went down because of an unhandled exception.","pos":[2522,2585]},{"content":"-   Your application fails to start.","pos":[2591,2627]},{"content":"-   The message that caused the failure originated from the process MyApp.exe.","pos":[2633,2711]},{"content":"Error","pos":[2716,2721]},{"content":"-   Logs all exceptions.","pos":[2722,2746]},{"content":"You can use the Error level in the following situations:","pos":[2747,2803]},{"content":"-   Your code crashed because of an Invalid Cast Exception.","pos":[2809,2868]},{"content":"-   A \"failed to create endpoint\" exception is causing your application to fail on startup.","pos":[2874,2965]},{"content":"Warning","pos":[2970,2977]},{"content":"-   A condition exists that may subsequently result in an error or critical failure.","pos":[2978,3062]},{"content":"You can use this level in the following situations:","pos":[3063,3114]},{"content":"-   The application is receiving more requests than its throttling settings allows.","pos":[3120,3203]},{"content":"-   The receiving queue is at 98 percent of its configured capacity.","pos":[3209,3277]},{"content":"Information","pos":[3282,3293]},{"content":"-   Messages helpful for monitoring and diagnosing system status, measuring performance, or profiling are generated.","pos":[3294,3410]},{"content":"You can utilize such information for capacity planning and performance management.","pos":[3411,3493]},{"content":"You can use this level in the following situations:","pos":[3494,3545]},{"content":"-   A failure occurred after the message reached the AppDomain and was deserialized.","pos":[3551,3635]},{"content":"-   A failure occurred while the HTTP binding was being created.","pos":[3641,3705]},{"content":"Verbose","pos":[3710,3717]},{"content":"-   Debug-level tracing for both user code and servicing.","pos":[3718,3775]},{"content":"Set this level when:","pos":[3776,3796]},{"content":"-   You are not sure which method in your code was called when the failure occurred.","pos":[3802,3886]},{"content":"-   You have an incorrect endpoint configured and the service failed to start because the entry in the reservation store is locked.","pos":[3892,4023]},{"content":"ActivityTracing","pos":[4028,4043]},{"content":"Flow events between processing activities and components.","pos":[4044,4101]},{"content":"This level allows administrators and developers to correlate applications in the same application domain.","pos":[4114,4219]},{"content":"-   Traces for activity boundaries: start/stop.","pos":[4232,4279]},{"content":"-   Traces for transfers.","pos":[4285,4310]},{"content":"You can use <ph id=\"ph1\">`add`</ph> to specify the name and type of the trace listener you want to use.","pos":[4318,4403],"source":"You can use `add` to specify the name and type of the trace listener you want to use."},{"content":"In the example configuration, the Listener is named <ph id=\"ph1\">`sdt`</ph> and the standard .NET Framework trace listener (<ph id=\"ph2\">`System.Diagnostics.XmlWriterTraceListener`</ph>) is added as the type.","pos":[4404,4576],"source":" In the example configuration, the Listener is named `sdt` and the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) is added as the type."},{"content":"Use <ph id=\"ph1\">`initializeData`</ph> to set the name of the log file for that Listener.","pos":[4577,4648],"source":" Use `initializeData` to set the name of the log file for that Listener."},{"content":"In addition, you can substitute a fully-qualified path for a simple file name.","pos":[4649,4727]},{"content":"Starting in .NET Framework 4.8, ComboBox controls in some high contrast themes are displayed in the correct color.","pos":[4731,4845]},{"content":"You can disable this change by removing the following setting from the <bpt id=\"p1\">*</bpt>svcTraceViewer.exe.config<ept id=\"p1\">*</ept> file:","pos":[4846,4950],"source":" You can disable this change by removing the following setting from the *svcTraceViewer.exe.config* file:"},{"pos":[5095,5130],"content":"Using the Service Trace Viewer Tool","linkify":"Using the Service Trace Viewer Tool","nodes":[{"content":"Using the Service Trace Viewer Tool","pos":[0,35]}]},{"pos":[5140,5175],"content":"Opening and Viewing WCF Trace Files","linkify":"Opening and Viewing WCF Trace Files","nodes":[{"content":"Opening and Viewing WCF Trace Files","pos":[0,35]}]},{"content":"The Service Trace Viewer supports three file types:","pos":[5179,5230]},{"content":"WCF Tracing File (.svcLog)","pos":[5240,5266]},{"content":"Event Tracing File (.etl)","pos":[5276,5301]},{"content":"Crimson Tracing File","pos":[5311,5331]},{"content":"Service Trace Viewer enables you to open any supported trace file, add and integrate additional trace files, or open and merge a group of trace files simultaneously.","pos":[5338,5503]},{"pos":[5515,5535],"content":"To open a trace file","linkify":"To open a trace file","nodes":[{"content":"To open a trace file","pos":[0,20]}]},{"pos":[5545,5731],"content":"Start Service Trace Viewer by using a command window to navigate to your WCF installation location (C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0\\Bin), and then type <ph id=\"ph1\">`SvcTraceViewer.exe`</ph>.","source":"Start Service Trace Viewer by using a command window to navigate to your WCF installation location (C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0\\Bin), and then type `SvcTraceViewer.exe`."},{"pos":[5739,5927],"content":"[!NOTE]\n The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj. You can use two parameters in command line to register and unregister the file extensions.","leadings":["","> "],"nodes":[{"content":"The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj. You can use two parameters in command line to register and unregister the file extensions.","pos":[9,186],"nodes":[{"content":"The Service Trace Viewer tool can associate with two file types: .svclog and .stvproj.","pos":[0,86]},{"content":"You can use two parameters in command line to register and unregister the file extensions.","pos":[87,177]}]}]},{"content":"/register: register the association of file extensions \".svclog\" and \".stvproj\" with SvcTraceViewer.exe","pos":[5938,6041]},{"content":"/unregister: unregister the association of file extensions \".svclog\" and \".stvproj\" with SvcTraceViewer.exe","pos":[6052,6159]},{"content":"When Service Trace Viewer starts, click <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> and then point to <bpt id=\"p2\">**</bpt>Open<ept id=\"p2\">**</ept>.","pos":[6169,6245],"source":"When Service Trace Viewer starts, click **File** and then point to **Open**."},{"content":"Navigate to the location where your trace files are stored.","pos":[6246,6305]},{"content":"Double-click the trace file that you want to open.","pos":[6315,6365]},{"pos":[6377,6920],"content":"[!NOTE]\nPress SHIFT while clicking multiple trace files to select and open them simultaneously. Service Trace Viewer merges the content of all files and presents one view. For example, you can open trace files of both client and service. This is useful when you have enabled message logging and activity propagation in configuration. In this way, you can examine message exchange between client and service. You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details.","leadings":["","    >  "],"nodes":[{"content":"Press SHIFT while clicking multiple trace files to select and open them simultaneously. Service Trace Viewer merges the content of all files and presents one view. For example, you can open trace files of both client and service. This is useful when you have enabled message logging and activity propagation in configuration. In this way, you can examine message exchange between client and service. You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details.","pos":[8,536],"nodes":[{"content":"Press SHIFT while clicking multiple trace files to select and open them simultaneously.","pos":[0,87]},{"content":"Service Trace Viewer merges the content of all files and presents one view.","pos":[88,163]},{"content":"For example, you can open trace files of both client and service.","pos":[164,229]},{"content":"This is useful when you have enabled message logging and activity propagation in configuration.","pos":[230,325]},{"content":"In this way, you can examine message exchange between client and service.","pos":[326,399]},{"content":"You can also drag multiple files into the viewer, or use the <bpt id=\"p1\">**</bpt>Project<ept id=\"p1\">**</ept> tab. See the Managing Project section for more details.","pos":[400,528],"source":" You can also drag multiple files into the viewer, or use the **Project** tab. See the Managing Project section for more details."}]}]},{"content":"To add additional trace files to the collection that is open, click <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> and then point to <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","pos":[6930,7033],"source":"To add additional trace files to the collection that is open, click **File** and then point to **Add**."},{"content":"In the window that opens, navigate to the location of the trace files and double-click the file you want to add.","pos":[7034,7146]},{"pos":[7154,7631],"content":"[!CAUTION]\n It is not recommended that you load a trace log file bigger than 200MB. If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource. The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory. It is recommended that you configure partial loading to avoid this. For more information on how to do this, see \"Loading Large Trace Files\" section.","leadings":["","> "],"nodes":[{"content":"It is not recommended that you load a trace log file bigger than 200MB. If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource. The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory. It is recommended that you configure partial loading to avoid this. For more information on how to do this, see \"Loading Large Trace Files\" section.","pos":[12,475],"nodes":[{"content":"It is not recommended that you load a trace log file bigger than 200MB.","pos":[0,71]},{"content":"If you attempt to load a file larger than this limit, the loading process may take a long time, depending on your computer resource.","pos":[72,204]},{"content":"The Service Trace Viewer tool may not be responsive for a long time, or it may exhaust your machine's memory.","pos":[205,314]},{"content":"It is recommended that you configure partial loading to avoid this.","pos":[315,382]},{"content":"For more information on how to do this, see \"Loading Large Trace Files\" section.","pos":[383,463]}]}]},{"pos":[7642,7675],"content":"Event Tracing and Crimson Tracing","linkify":"Event Tracing and Crimson Tracing","nodes":[{"content":"Event Tracing and Crimson Tracing","pos":[0,33]}]},{"content":"The viewer’s native format is the activity tracing format that WCF emits.","pos":[7679,7752]},{"content":"Traces emitted in a different format must be converted before the viewer displays them.","pos":[7753,7840]},{"content":"Currently, in addition to the activity tracing format, the viewer supports event tracing and crimson tracing.","pos":[7841,7950]},{"content":"When you open a file that does not contain activity traces, the viewer attempts to convert the file.","pos":[7957,8057]},{"content":"You must specify the name and location of the file that will contain the converted trace data.","pos":[8058,8152]},{"content":"Once the data has been converted, the viewer displays the content of the new file.","pos":[8153,8235]},{"pos":[8243,8448],"content":"[!NOTE]\n Conversion requires disk space to store the converted trace data. Make sure you have enough disk space available to store the data before you start a conversion. Otherwise, the conversion fails.","leadings":["","> "],"nodes":[{"content":"Conversion requires disk space to store the converted trace data. Make sure you have enough disk space available to store the data before you start a conversion. Otherwise, the conversion fails.","pos":[9,203],"nodes":[{"content":"Conversion requires disk space to store the converted trace data.","pos":[0,65]},{"content":"Make sure you have enough disk space available to store the data before you start a conversion.","pos":[66,161]},{"content":"Otherwise, the conversion fails.","pos":[162,194]}]}]},{"pos":[8458,8475],"content":"Managing Projects","linkify":"Managing Projects","nodes":[{"content":"Managing Projects","pos":[0,17]}]},{"content":"The viewer supports projects to facilitate viewing multiple trace files.","pos":[8479,8551]},{"content":"For example, if you have a client trace file and a service trace file, you can add them to a project.","pos":[8552,8653]},{"content":"Then, every time you open the project, all the trace files in the project are loaded simultaneously.","pos":[8654,8754]},{"content":"There are two ways to manage projects:","pos":[8761,8799]},{"pos":[8809,8869],"content":"In the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, you can open, save and close projects.","source":"In the **File** menu, you can open, save and close projects."},{"pos":[8879,8934],"content":"In the <bpt id=\"p1\">**</bpt>Project<ept id=\"p1\">**</ept> tab, you can add files to a project.","source":"In the **Project** tab, you can add files to a project."},{"pos":[8944,8962],"content":"Viewing WCF Traces","linkify":"Viewing WCF Traces","nodes":[{"content":"Viewing WCF Traces","pos":[0,18]}]},{"content":"WCF emits traces using the activity tracing format.","pos":[8966,9017]},{"content":"In the activity tracing model, individual traces are grouped in activities according to their purpose.","pos":[9018,9120]},{"content":"Logical control flow is transferred between activities.","pos":[9121,9176]},{"content":"For example, during the lifetime of an application, many \"message send activities\" appear and disappear.","pos":[9177,9281]},{"content":"For more information on viewing traces and activities, and the user interface of the Service Trace Viewer too, see <bpt id=\"p1\">[</bpt>Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting<ept id=\"p1\">](../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)</ept>.","pos":[9282,9605],"source":" For more information on viewing traces and activities, and the user interface of the Service Trace Viewer too, see [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)."},{"pos":[9616,9644],"content":"Switching to Different Views","linkify":"Switching to Different Views","nodes":[{"content":"Switching to Different Views","pos":[0,28]}]},{"content":"The Service Trace Viewer provides the following different views.","pos":[9648,9712]},{"content":"They are displayed as tabs on the left pane of the Viewer, and can also be accessed from the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu.","pos":[9713,9820],"source":" They are displayed as tabs on the left pane of the Viewer, and can also be accessed from the **View** menu."},{"content":"Activity View","pos":[9830,9843]},{"content":"Project View","pos":[9853,9865]},{"content":"Message View","pos":[9875,9887]},{"content":"Graph View","pos":[9897,9907]},{"pos":[9919,9932],"content":"Activity view","linkify":"Activity view","nodes":[{"content":"Activity view","pos":[0,13]}]},{"pos":[9936,10077],"content":"Once the trace files are opened, you can see the traces grouped into activities and displayed in the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> view in the left-hand pane.","source":"Once the trace files are opened, you can see the traces grouped into activities and displayed in the **Activity** view in the left-hand pane."},{"pos":[10084,10204],"content":"The <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> view displays activity names, number of traces in the activity, duration time, start time and end time.","source":"The **Activity** view displays activity names, number of traces in the activity, duration time, start time and end time."},{"content":"By clicking any of the listed activities, the traces in this activity are displayed in the trace pane on the right.","pos":[10211,10326]},{"content":"You can then select a trace to view its details.","pos":[10327,10375]},{"content":"You can select multiple activities by pressing the <bpt id=\"p1\">**</bpt>Ctrl<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Shift<ept id=\"p2\">**</ept> key and clicking the desired activities.","pos":[10382,10495],"source":"You can select multiple activities by pressing the **Ctrl** or **Shift** key and clicking the desired activities."},{"content":"The trace pane displays all the traces of the selected activities.","pos":[10496,10562]},{"content":"You can double-click an activity to display it in <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> View.","pos":[10569,10634],"source":"You can double-click an activity to display it in **Graph** View."},{"content":"The alternative way is to select an activity and switch to <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> View.","pos":[10635,10709],"source":" The alternative way is to select an activity and switch to **Graph** View."},{"pos":[10717,10926],"content":"[!NOTE]\n The activity \"000000000000\" is a special activity that cannot be displayed in the Graph View. Because all other activities are linked to it, displaying this activity has a severe performance impact.","leadings":["","> "],"nodes":[{"content":"The activity \"000000000000\" is a special activity that cannot be displayed in the Graph View. Because all other activities are linked to it, displaying this activity has a severe performance impact.","pos":[9,207],"nodes":[{"content":"The activity \"000000000000\" is a special activity that cannot be displayed in the Graph View.","pos":[0,93]},{"content":"Because all other activities are linked to it, displaying this activity has a severe performance impact.","pos":[94,198]}]}]},{"content":"You can click the column title to sort the activity list.","pos":[10933,10990]},{"content":"Activities that contain warning traces have a yellow background and those that contain error traces have a red one.","pos":[10991,11106]},{"content":"There are different types of activities and each type corresponds to an icon on the left side of each activity.","pos":[11113,11224]},{"content":"You can refer to the Understanding Trace Icons section for their meaning.","pos":[11225,11298]},{"pos":[11310,11322],"content":"Project View","linkify":"Project View","nodes":[{"content":"Project View","pos":[0,12]}]},{"content":"This view enables you to manage trace files in the current project.","pos":[11326,11393]},{"content":"See the Managing Project section for more details.","pos":[11394,11444]},{"pos":[11456,11466],"content":"Graph View","linkify":"Graph View","nodes":[{"content":"Graph View","pos":[0,10]}]},{"content":"One of the most powerful features of Service Trace Viewer is the <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> view, which displays the trace data for a given activity in chart form.","pos":[11470,11616],"source":"One of the most powerful features of Service Trace Viewer is the **Graph** view, which displays the trace data for a given activity in chart form."},{"content":"The chart form enables you to see the stepwise execution of events and the interrelationships between multiple activities as data moves between them.","pos":[11617,11766]},{"content":"To switch to <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> view, select an activity in the <bpt id=\"p2\">**</bpt>Activity<ept id=\"p2\">**</ept> view and click the <bpt id=\"p3\">**</bpt>Activity<ept id=\"p3\">**</ept> tab, or a message log trace in the <bpt id=\"p4\">**</bpt>Message<ept id=\"p4\">**</ept> View.","pos":[11773,11925],"source":"To switch to **Graph** view, select an activity in the **Activity** view and click the **Activity** tab, or a message log trace in the **Message** View."},{"content":"If multiple trace files are loaded and the activity involves traces from more than one file, all of the relevant traces appear in the graph view.","pos":[11926,12071]},{"content":"Double-clicking on the activities and message log traces also leads you to the <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> view.","pos":[12072,12166],"source":" Double-clicking on the activities and message log traces also leads you to the **Graph** view."},{"content":"In <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> view, each vertical column represents an activity, and each block in the column represents a trace.","pos":[12173,12285],"source":"In **Graph** view, each vertical column represents an activity, and each block in the column represents a trace."},{"content":"The activities are grouped by process (or thread).","pos":[12286,12336]},{"content":"The small arrows between activities represent transfers.","pos":[12337,12393]},{"content":"The big arrows between processes represent message exchange.","pos":[12394,12454]},{"content":"The activity in selection is always in yellow.","pos":[12455,12501]},{"pos":[12514,12543],"content":"Selecting Traces in the Graph","linkify":"Selecting Traces in the Graph","nodes":[{"content":"Selecting Traces in the Graph","pos":[0,29]}]},{"content":"Click a block in the graph.","pos":[12553,12580]},{"content":"Use the up and down keys to select its neighboring traces.","pos":[12590,12648]},{"content":"Observe the trace information in the Trace Pane and Detail Pane.","pos":[12658,12722]},{"pos":[12735,12777],"content":"Expanding or Collapsing Activity Transfers","linkify":"Expanding or Collapsing Activity Transfers","nodes":[{"content":"Expanding or Collapsing Activity Transfers","pos":[0,42]}]},{"content":"You can expand activity transfers when the activity in selection transfers out to another activity.","pos":[12781,12880]},{"content":"It enables you to follow the transfers.","pos":[12881,12920]},{"content":"To expand or collapse activity transfers,","pos":[12927,12968]},{"content":"Locate the transfer trace with a \"+\" sign on the left of the transfer icon.","pos":[12978,13053]},{"pos":[13063,13123],"content":"Click the \"+\", or press <bpt id=\"p1\">**</bpt>Ctrl<ept id=\"p1\">**</ept> and \"+\" using the keyboard.","source":"Click the \"+\", or press **Ctrl** and \"+\" using the keyboard."},{"content":"The next activity appears in the graph.","pos":[13133,13172]},{"content":"A \"-\" appears on the left of the transfer icon.","pos":[13182,13229]},{"content":"Click the \"-\" sign or press Ctrl and \"-\", the activity transfer collapses.","pos":[13230,13304]},{"pos":[13312,13667],"content":"[!NOTE]\n When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed. These new activities appear in collapsed form. If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.","leadings":["","> "],"nodes":[{"content":"When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed. These new activities appear in collapsed form. If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.","pos":[9,353],"nodes":[{"content":"When an activity has multiple transfers into it and you expand one of the transfers, activities that lead up to the new activity from the root activity are displayed.","pos":[0,166]},{"content":"These new activities appear in collapsed form.","pos":[167,213]},{"content":"If you want to see the details of these activities, expand them vertically by clicking the expand icon in the header of the graph.","pos":[214,344]}]}]},{"pos":[13680,13725],"content":"Expanding or Collapsing Activities Vertically","linkify":"Expanding or Collapsing Activities Vertically","nodes":[{"content":"Expanding or Collapsing Activities Vertically","pos":[0,45]}]},{"content":"The viewer hides unnecessary detail in the activity graph by collapsing activities.","pos":[13729,13812]},{"content":"In a collapsed activity, individual traces are not displayed.","pos":[13813,13874]},{"content":"Only transfers trace appear.","pos":[13875,13903]},{"content":"If you want to view all traces in an activity, expand the activity vertically by clicking the expand symbol of the activity in the header of the graph.","pos":[13904,14055]},{"content":"To expand or collapse activities vertically,","pos":[14062,14106]},{"content":"Click the \"+\" icon in the activity header to expand the activity vertically.","pos":[14116,14192]},{"content":"Notice that all traces are displayed in the graph.","pos":[14202,14252]},{"content":"Click the \"-\" icon in the activity header to collapse the activity vertically.","pos":[14262,14340]},{"content":"Notice that only important transfers, message logs, warning and exception traces are shown in the activity.","pos":[14350,14457]},{"pos":[14470,14477],"content":"Options","linkify":"Options","nodes":[{"content":"Options","pos":[0,7]}]},{"pos":[14481,14547],"content":"You can select two options from the <bpt id=\"p1\">**</bpt>Option<ept id=\"p1\">**</ept> menu in Graph view.","source":"You can select two options from the **Option** menu in Graph view."},{"content":"Show Activity Boundary Traces, which when unchecked ignore the activity boundary traces in the graph.","pos":[14557,14658]},{"content":"Show Non-message Verbose Traces, which when unchecked ignore verbose level traces, except for message traces.","pos":[14668,14777]},{"content":"In most cases, verbose level traces are less important for analysis.","pos":[14778,14846]},{"content":"This option is helpful when you do not want to analyze verbose level traces and only want to focus on more important traces.","pos":[14847,14971]},{"pos":[14984,14995],"content":"Layout Mode","linkify":"Layout Mode","nodes":[{"content":"Layout Mode","pos":[0,11]}]},{"content":"The viewer has two Layout Modes: <bpt id=\"p1\">**</bpt>Process<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Thread<ept id=\"p2\">**</ept>.","pos":[14999,15059],"source":"The viewer has two Layout Modes: **Process** and **Thread**."},{"content":"This setting defines the largest unit of organization.","pos":[15060,15114]},{"content":"The default Layout Mode is <bpt id=\"p1\">**</bpt>Process<ept id=\"p1\">**</ept>, which means that activities are grouped by processes in the graph.","pos":[15115,15221],"source":" The default Layout Mode is **Process**, which means that activities are grouped by processes in the graph."},{"pos":[15234,15248],"content":"Execution List","linkify":"Execution List","nodes":[{"content":"Execution List","pos":[0,14]}]},{"content":"You can select which process or thread to be displayed in the graph from this drop-down list.","pos":[15252,15345]},{"content":"For example, if you have the trace files of two clients (A and B) and one service opened, and you only want to display the service and client A in the graph, you can deselect client B from the list.","pos":[15346,15544]},{"pos":[15555,15576],"content":"Viewing Trace Details","linkify":"Viewing Trace Details","nodes":[{"content":"Viewing Trace Details","pos":[0,21]}]},{"content":"To view a trace detail, select a trace in the Trace pane.","pos":[15580,15637]},{"content":"The details are displayed in the Detail pane.","pos":[15638,15683]},{"pos":[15695,15705],"content":"Trace Pane","linkify":"Trace Pane","nodes":[{"content":"Trace Pane","pos":[0,10]}]},{"content":"The upper right pane in the Service Trace Viewer is the Trace Pane.","pos":[15709,15776]},{"content":"It lists all the traces in the selected activity with extra information, for example, trace level, thread ID, and process name.","pos":[15777,15904]},{"pos":[15911,16034],"content":"You can copy the raw XML of the trace to the clipboard by right-clicking a trace and selecting <bpt id=\"p1\">**</bpt>Copy Trace to Clipboard<ept id=\"p1\">**</ept>.","source":"You can copy the raw XML of the trace to the clipboard by right-clicking a trace and selecting **Copy Trace to Clipboard**."},{"pos":[16046,16057],"content":"Detail Pane","linkify":"Detail Pane","nodes":[{"content":"Detail Pane","pos":[0,11]}]},{"content":"The bottom left pane in the Service Trace Viewer is the Detail Pane.","pos":[16061,16129]},{"content":"It provides three tabs to view trace details.","pos":[16130,16175]},{"content":"The <bpt id=\"p1\">**</bpt>Formatted<ept id=\"p1\">**</ept> view displays the information in a more organized way.","pos":[16182,16254],"source":"The **Formatted** view displays the information in a more organized way."},{"content":"It lists all known XML elements in tables and trees, making it easier to read and understand the information.","pos":[16255,16364]},{"content":"The <bpt id=\"p1\">**</bpt>XML<ept id=\"p1\">**</ept> view displays XML corresponding to the selected trace.","pos":[16371,16437],"source":"The **XML** view displays XML corresponding to the selected trace."},{"content":"It supports highlighting and syntax color.","pos":[16438,16480]},{"content":"When you use <bpt id=\"p1\">**</bpt>Find<ept id=\"p1\">**</ept> to search strings, it highlights the search results.","pos":[16481,16555],"source":" When you use **Find** to search strings, it highlights the search results."},{"content":"The <bpt id=\"p1\">**</bpt>Message<ept id=\"p1\">**</ept> view displays the message part of the XML in message log traces.","pos":[16562,16642],"source":"The **Message** view displays the message part of the XML in message log traces."},{"content":"It is invisible when you select a non-message trace.","pos":[16643,16695]},{"pos":[16705,16725],"content":"Filtering WCF Traces","linkify":"Filtering WCF Traces","nodes":[{"content":"Filtering WCF Traces","pos":[0,20]}]},{"content":"To make the analysis of trace easier, you can filter them in the following ways:","pos":[16729,16809]},{"content":"The filter toolbar provides access to pre-defined and custom filters.","pos":[16819,16888]},{"content":"It can be enabled through the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu.","pos":[16889,16933],"source":" It can be enabled through the **View** menu."},{"content":"The pre-defined filter of the viewer can be used to selectively filter parts of the WCF traces.","pos":[16943,17038]},{"content":"By default, it is set to allow all infrastructure traces to pass through.","pos":[17039,17112]},{"content":"The settings of this filter are defined in the <bpt id=\"p1\">**</bpt>Filter Options<ept id=\"p1\">**</ept> sub-menu under <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept> menu.","pos":[17113,17208],"source":" The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu."},{"content":"Custom XPath filters give users full control over filtering.","pos":[17218,17278]},{"content":"They can be defined in the <bpt id=\"p1\">**</bpt>Custom Filter<ept id=\"p1\">**</ept> under <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept> menu.","pos":[17279,17344],"source":" They can be defined in the **Custom Filter** under **View** menu."},{"content":"Only traces that passes through all filters is displayed.","pos":[17351,17408]},{"pos":[17419,17443],"content":"Using the Filter Toolbar","linkify":"Using the Filter Toolbar","nodes":[{"content":"Using the Filter Toolbar","pos":[0,24]}]},{"content":"The filter toolbar appears across the top of the tool.","pos":[17447,17501]},{"content":"If it is not present, you can activate it in the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu.","pos":[17502,17565],"source":" If it is not present, you can activate it in the **View** menu."},{"content":"The bar has three components:","pos":[17566,17595]},{"content":"Look for: <bpt id=\"p1\">**</bpt>Look for<ept id=\"p1\">**</ept> defines the subject to look for in the filter operation.","pos":[17605,17684],"source":"Look for: **Look for** defines the subject to look for in the filter operation."},{"content":"For example, if you want to find all traces that were emitted in the context of process X, set this field to X and the <bpt id=\"p1\">**</bpt>Search In<ept id=\"p1\">**</ept> field to ‘Process Name’.","pos":[17685,17842],"source":" For example, if you want to find all traces that were emitted in the context of process X, set this field to X and the **Search In** field to ‘Process Name’."},{"content":"This field changes to a DateTime selector control when a time-based filter is selected.","pos":[17843,17930]},{"content":"Search in: This field defines the type of filter to apply.","pos":[17940,17998]},{"content":"Level: The level setting defines the minimum trace level allowed by the filter.","pos":[18008,18087]},{"content":"For example, if the level is set to Error and Up, only traces at the Error and critical level are displayed.","pos":[18088,18196]},{"content":"This filter combines with the criteria specified by Look For and Search In.","pos":[18197,18272]},{"content":"The <bpt id=\"p1\">**</bpt>Filter Now<ept id=\"p1\">**</ept> button starts the filter operation.","pos":[18279,18333],"source":"The **Filter Now** button starts the filter operation."},{"content":"Some filters, especially when they are applied to a large data set, take a long time to complete.","pos":[18334,18431]},{"content":"You can cancel the filter operation by pressing the <bpt id=\"p1\">**</bpt>Stop<ept id=\"p1\">**</ept> button that appears in the status bar under the <bpt id=\"p2\">**</bpt>Operations<ept id=\"p2\">**</ept> menu.","pos":[18432,18561],"source":" You can cancel the filter operation by pressing the **Stop** button that appears in the status bar under the **Operations** menu."},{"pos":[18568,18663],"content":"The <bpt id=\"p1\">**</bpt>Clear<ept id=\"p1\">**</ept> button resets pre-defined and custom filters to allow all traces to pass through.","source":"The **Clear** button resets pre-defined and custom filters to allow all traces to pass through."},{"pos":[18674,18688],"content":"Filter Options","linkify":"Filter Options","nodes":[{"content":"Filter Options","pos":[0,14]}]},{"content":"The viewer can automatically remove WCF traces from the view.","pos":[18692,18753]},{"content":"It can selectively remove traces emitted by specific areas of WCF, for example, removing transaction related traces from the view.","pos":[18754,18884]},{"pos":[18891,18986],"content":"The settings of this filter are defined in the <bpt id=\"p1\">**</bpt>Filter Options<ept id=\"p1\">**</ept> sub-menu under <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept> menu.","source":"The settings of this filter are defined in the **Filter Options** sub-menu under **View** menu."},{"pos":[18997,19011],"content":"Custom Filters","linkify":"Custom Filters","nodes":[{"content":"Custom Filters","pos":[0,14]}]},{"content":"If you are familiar with the XML Path Language (XPath), you can use it to construct custom filters to search the trace data for any XML element of interest.","pos":[19015,19171]},{"content":"The filters are accessible through the filter toolbar.","pos":[19172,19226]},{"content":"Custom filters can include parameters.","pos":[19233,19271]},{"content":"You can also import pre-existing custom filters.","pos":[19272,19320]},{"pos":[19332,19356],"content":"Creating a custom filter","linkify":"Creating a custom filter","nodes":[{"content":"Creating a custom filter","pos":[0,24]}]},{"content":"Filters can be created in two ways:","pos":[19360,19395]},{"pos":[19408,19458],"content":"Creating a Custom Filter using the Template Wizard","linkify":"Creating a Custom Filter using the Template Wizard","nodes":[{"content":"Creating a Custom Filter using the Template Wizard","pos":[0,50]}]},{"content":"You can click an existing trace and create a filter based on the structure of the trace.","pos":[19462,19550]},{"content":"This example creates a custom filter based on thread ID.","pos":[19551,19607]},{"content":"In the trace pane in the top right area of the viewer, select a trace that includes the element you want to filter for.","pos":[19617,19736]},{"pos":[19746,19825],"content":"Click the <bpt id=\"p1\">**</bpt>Create Custom Filter<ept id=\"p1\">**</ept> button located at the top of the trace pane.","source":"Click the **Create Custom Filter** button located at the top of the trace pane."},{"content":"In the dialog box that appears, enter a name for your filter.","pos":[19835,19896]},{"content":"In this example, enter <ph id=\"ph1\">`Thread ID`</ph>.","pos":[19897,19932],"source":" In this example, enter `Thread ID`."},{"content":"You can also provide a description of your filter.","pos":[19933,19983]},{"content":"The tree view on the left displays the structure of the trace record you selected in step 1.","pos":[19993,20085]},{"content":"Browse to the element you want to create a condition for.","pos":[20086,20143]},{"content":"In this example, browse to the ThreadID to be located in the XPath: <ph id=\"ph1\">/E2ETraceEvent/System/Execution/@ThreadID</ph> node.","pos":[20144,20259],"source":" In this example, browse to the ThreadID to be located in the XPath: /E2ETraceEvent/System/Execution/@ThreadID node."},{"content":"Double-click the ThreadID attribute in the tree view.","pos":[20260,20313]},{"content":"This creates an expression for the attribute on the right of the dialog.","pos":[20314,20386]},{"content":"Change the parameter field for the ThreadID condition from None to ‘<ph id=\"ph1\">{0}</ph>’.","pos":[20396,20469],"source":"Change the parameter field for the ThreadID condition from None to ‘{0}’."},{"content":"This step enables the ThreadID value to be configured when the filter is applied.","pos":[20470,20551]},{"content":"(See the How to Apply a Filter section) You can define up to four parameters.","pos":[20552,20629]},{"content":"Conditions are combined using the OR operator.","pos":[20630,20676]},{"pos":[20686,20720],"content":"Click <bpt id=\"p1\">**</bpt>Ok<ept id=\"p1\">**</ept> to create the filter.","source":"Click **Ok** to create the filter."},{"pos":[20728,21126],"content":"[!NOTE]\n Once a filter has been created using the template wizard, it can only be edited manually. It is not possible to activate the wizard for a filter that has been created previously. In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator. If you require an AND operation, you can edit the filter expression after it has been created.","leadings":["","> "],"nodes":[{"content":"Once a filter has been created using the template wizard, it can only be edited manually. It is not possible to activate the wizard for a filter that has been created previously. In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator. If you require an AND operation, you can edit the filter expression after it has been created.","pos":[9,396],"nodes":[{"content":"Once a filter has been created using the template wizard, it can only be edited manually.","pos":[0,89]},{"content":"It is not possible to activate the wizard for a filter that has been created previously.","pos":[90,178]},{"content":"In addition, the conditions of an XPath filter created in the template wizard are combined using the OR operator.","pos":[179,292]},{"content":"If you require an AND operation, you can edit the filter expression after it has been created.","pos":[293,387]}]}]},{"pos":[21139,21172],"content":"Creating a Custom Filter Manually","linkify":"Creating a Custom Filter Manually","nodes":[{"content":"Creating a Custom Filter Manually","pos":[0,33]}]},{"content":"The Custom Filters menu allows you to enter XPath filters manually.","pos":[21176,21243]},{"pos":[21253,21310],"content":"In the View menu, click the <bpt id=\"p1\">**</bpt>Custom Filters<ept id=\"p1\">**</ept> menu item.","source":"In the View menu, click the **Custom Filters** menu item."},{"pos":[21320,21362],"content":"In the dialog that appears, click <bpt id=\"p1\">**</bpt>New.<ept id=\"p1\">**</ept>","source":"In the dialog that appears, click **New.**"},{"content":"At the minimum, specify a Filter Name and XPath expression.","pos":[21372,21431]},{"pos":[21441,21454],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Click **OK**."},{"pos":[21467,21491],"content":"Applying a Custom Filter","linkify":"Applying a Custom Filter","nodes":[{"content":"Applying a Custom Filter","pos":[0,24]}]},{"content":"Once a custom filter has been created, it is accessible though the filter toolbar.","pos":[21495,21577]},{"content":"Select the filter you want to apply in the <bpt id=\"p1\">**</bpt>Search In<ept id=\"p1\">**</ept> field of the filter toolbar.","pos":[21578,21663],"source":" Select the filter you want to apply in the **Search In** field of the filter toolbar."},{"content":"For the previous example, select ‘Thread ID’.","pos":[21664,21709]},{"content":"Specify the value you are looking for in the <bpt id=\"p1\">**</bpt>Find What<ept id=\"p1\">**</ept> field.","pos":[21719,21784],"source":"Specify the value you are looking for in the **Find What** field."},{"content":"In our example, enter the ID of the thread you want to search for.","pos":[21785,21851]},{"pos":[21861,21923],"content":"Click <bpt id=\"p1\">**</bpt>Filter Now<ept id=\"p1\">**</ept>, and observe the result of the operation.","source":"Click **Filter Now**, and observe the result of the operation."},{"content":"If your filter uses multiple parameters, enter them using ‘;’ as a separator in the <bpt id=\"p1\">**</bpt>Find What<ept id=\"p1\">**</ept> field.","pos":[21930,22034],"source":"If your filter uses multiple parameters, enter them using ‘;’ as a separator in the **Find What** field."},{"content":"For example, the following string defines 3 parameters: ‘1;findValue;text’.","pos":[22035,22110]},{"content":"The viewer applies ‘1’ to the <ph id=\"ph1\">{0}</ph> parameter of the filter.","pos":[22111,22169],"source":" The viewer applies ‘1’ to the {0} parameter of the filter."},{"content":"‘findValue’ and ‘text’ are applied to <ph id=\"ph1\">{1}</ph> and <ph id=\"ph2\">{2}</ph> respectively.","pos":[22170,22233],"source":" ‘findValue’ and ‘text’ are applied to {1} and {2} respectively."},{"pos":[22246,22268],"content":"Sharing custom Filters","linkify":"Sharing custom Filters","nodes":[{"content":"Sharing custom Filters","pos":[0,22]}]},{"content":"Custom filters can be shared between different sessions and different users.","pos":[22272,22348]},{"content":"You can export the filters to a definition file and import this file at another location.","pos":[22349,22438]},{"content":"To import a custom filter:","pos":[22445,22471]},{"pos":[22481,22528],"content":"In the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Custom Filters<ept id=\"p2\">**</ept>.","source":"In the **View** menu, click **Custom Filters**."},{"pos":[22538,22596],"content":"In the dialog box that opens, click the <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept> button.","source":"In the dialog box that opens, click the **Import** button."},{"pos":[22606,22697],"content":"Navigate to the custom filter file (.stvcf), click the file, and click the <bpt id=\"p1\">**</bpt>Open<ept id=\"p1\">**</ept> button.","source":"Navigate to the custom filter file (.stvcf), click the file, and click the **Open** button."},{"content":"To export a custom filter:","pos":[22704,22730]},{"pos":[22740,22783],"content":"In the View menu, click <bpt id=\"p1\">**</bpt>Custom Filters<ept id=\"p1\">**</ept>.","source":"In the View menu, click **Custom Filters**."},{"content":"In the dialog box that opens, select the filter you want to export.","pos":[22793,22860]},{"pos":[22870,22898],"content":"Click the <bpt id=\"p1\">**</bpt>Export<ept id=\"p1\">**</ept> button.","source":"Click the **Export** button."},{"pos":[22908,23015],"content":"Specify the name and location of the custom filter definition file (.stvcf), and click the <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> button.","source":"Specify the name and location of the custom filter definition file (.stvcf), and click the **Save** button."},{"pos":[23023,23151],"content":"[!NOTE]\n These custom filters can only be imported and exported from Service Trace Viewer. They cannot be read by other tools.","leadings":["","> "],"nodes":[{"content":"These custom filters can only be imported and exported from Service Trace Viewer. They cannot be read by other tools.","pos":[9,126],"nodes":[{"content":"These custom filters can only be imported and exported from Service Trace Viewer.","pos":[0,81]},{"content":"They cannot be read by other tools.","pos":[82,117]}]}]},{"pos":[23161,23173],"content":"Finding Data","linkify":"Finding Data","nodes":[{"content":"Finding Data","pos":[0,12]}]},{"content":"The viewer provides the following ways to find data:","pos":[23177,23229]},{"content":"The Find toolbar provides a quick access to the most common find options.","pos":[23239,23312]},{"content":"The Find dialog provides more find options.","pos":[23322,23365]},{"content":"It is accessible through the <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept> menu, or by the short key Ctrl + F.","pos":[23366,23439],"source":" It is accessible through the **Edit** menu, or by the short key Ctrl + F."},{"content":"The find toolbar appears at the top of the viewer.","pos":[23446,23496]},{"content":"If it is not present, you can activate it in the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu.","pos":[23497,23560],"source":" If it is not present, you can activate it in the **View** menu."},{"content":"The bar has two components:","pos":[23561,23588]},{"content":"Find What: Allows you to enter search keyword.","pos":[23598,23644]},{"content":"Look In: Allows you to enter the search scope.","pos":[23654,23700]},{"content":"You can select whether to search in all activities or in the current activity only.","pos":[23701,23784]},{"content":"The find dialog provides two additional options:","pos":[23791,23839]},{"content":"Find target:","pos":[23849,23861]},{"content":"The \"Raw log data\" option searches the keyword in all raw data.","pos":[23875,23938]},{"content":"The \"XML Text\" and \"XML Attribute\" options only search in XML elements.","pos":[23952,24023]},{"content":"The \"Logged Message\" option searches the keyword only in messages.","pos":[24037,24103]},{"content":"Ignore root activity: The search ignores the traces in the \"000000000000\" activity.","pos":[24113,24196]},{"content":"This improves performance in large trace files when the root activity has thousands of traces, most of which are transfers.","pos":[24197,24320]},{"pos":[24330,24347],"content":"Navigating Traces","linkify":"Navigating Traces","nodes":[{"content":"Navigating Traces","pos":[0,17]}]},{"content":"Because traces are recorded step by step during application runtime, navigating traces can help you to debug your application.","pos":[24351,24477]},{"content":"The Service Trace Viewer provides various ways to navigate in traces.","pos":[24478,24547]},{"pos":[24558,24582],"content":"Step Forward or Backward","linkify":"Step Forward or Backward","nodes":[{"content":"Step Forward or Backward","pos":[0,24]}]},{"content":"If you consider each trace as a line of code in the program, stepping forward is very similar to \"Step over\" in the Visual Studio Integrated Development Environment (IDE).","pos":[24586,24757]},{"content":"The difference is that you can also step backward in the traces.","pos":[24758,24822]},{"content":"Stepping forward means moving to the next trace in the activity.","pos":[24823,24887]},{"content":"Step Forward: Use the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> menu, or press \"F10\".","pos":[24897,24953],"source":"Step Forward: Use the **Activity** menu, or press \"F10\"."},{"content":"You can also use arrow key \"down\" in the trace pane.","pos":[24954,25006]},{"content":"Step Backward: Use the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> menu, or press \"F9\".","pos":[25016,25072],"source":"Step Backward: Use the **Activity** menu, or press \"F9\"."},{"content":"You can also use arrow key \"up\" in the trace pane.","pos":[25073,25123]},{"pos":[25131,25304],"content":"[!NOTE]\n This can take you to an activity occurring in a different process or even on a different computer, because WCF messages can carry activity IDs that span machines.","leadings":["","> "],"nodes":[{"content":"This can take you to an activity occurring in a different process or even on a different computer, because WCF messages can carry activity IDs that span machines.","pos":[9,171]}]},{"pos":[25315,25330],"content":"Follow Transfer","linkify":"Follow Transfer","nodes":[{"content":"Follow Transfer","pos":[0,15]}]},{"content":"Transfer traces are special traces in the trace file.","pos":[25334,25387]},{"content":"An activity may transfer to another activity by a transfer trace.","pos":[25388,25453]},{"content":"For example, \"Activity A\" may transfer to \"Activity B\".","pos":[25454,25509]},{"content":"In such case, there is a transfer trace in the \"Activity A\" with the name \"To: Activity\" and the transfer icon.","pos":[25510,25621]},{"content":"This transfer trace is a link between the two traces.","pos":[25622,25675]},{"content":"In \"Activity B\", there might also be a transfer trace at the end of the activity to transfer back to \"Activity A\".","pos":[25676,25790]},{"content":"This is similar to function calls in programs: A calls B, then B returns.","pos":[25791,25864]},{"content":"\"Follow transfer\" is similar to \"Step into\" in a debugger.","pos":[25871,25929]},{"content":"It follows the transfer from A to B. It does not have any effect on other traces.","pos":[25930,26011]},{"content":"There are two ways to follow a transfer: by mouse or by keyboard:","pos":[26018,26083]},{"content":"By Mouse: Double-click the transfer trace in the trace pane.","pos":[26093,26153]},{"pos":[26163,26267],"content":"By Keyboard: Select a transfer trace, and use \"Follow Transfer\" in the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> menu, or press \"F11\"","source":"By Keyboard: Select a transfer trace, and use \"Follow Transfer\" in the **Activity** menu, or press \"F11\""},{"pos":[26275,26815],"content":"[!NOTE]\n In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing. However, it is also possible that Activity A does not wait, and continues to log traces. It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense. You can understand activity transfers better in Graph view.","leadings":["","> "],"nodes":[{"content":"In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing. However, it is also possible that Activity A does not wait, and continues to log traces. It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense. You can understand activity transfers better in Graph view.","pos":[9,538],"nodes":[{"content":"In many cases, when Activity A transfers to Activity B, Activity A waits until Activity B transfers back to Activity A. This means that Activity A has no trace logged during the period when Activity B is actively tracing.","pos":[0,221]},{"content":"However, it is also possible that Activity A does not wait, and continues to log traces.","pos":[222,310]},{"content":"It is also possible that Activity B does not transfer back to Activity A. Therefore, activity transfers are still different from function calls in this sense.","pos":[311,469]},{"content":"You can understand activity transfers better in Graph view.","pos":[470,529]}]}]},{"pos":[26826,26859],"content":"Jump to Next or Previous Transfer","linkify":"Jump to Next or Previous Transfer","nodes":[{"content":"Jump to Next or Previous Transfer","pos":[0,33]}]},{"content":"When you are analyzing the current activity, or selected activities when multiple activities are selected, you may want to quickly find the activities it transfers to.","pos":[26863,27030]},{"content":"\"Jump to next transfer\" allows you to locate the next transfer trace in the activity.","pos":[27031,27116]},{"content":"Once you find the transfer trace, you can use \"Follow transfer\" to step into the next activity.","pos":[27117,27212]},{"pos":[27222,27294],"content":"Jump to Next Transfer: Use the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> menu, or press \"Ctrl + F10\".","source":"Jump to Next Transfer: Use the **Activity** menu, or press \"Ctrl + F10\"."},{"pos":[27304,27379],"content":"Jump to Previous Transfer: Use the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> menu, or press \"Ctrl + F9\".","source":"Jump to Previous Transfer: Use the **Activity** menu, or press \"Ctrl + F9\"."},{"pos":[27390,27412],"content":"Navigate in Graph View","linkify":"Navigate in Graph View","nodes":[{"content":"Navigate in Graph View","pos":[0,22]}]},{"content":"Although navigating in the activity pane and trace pane is similar to debugging, using <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> view provides a much better experience in navigation.","pos":[27416,27566],"source":"Although navigating in the activity pane and trace pane is similar to debugging, using **Graph** view provides a much better experience in navigation."},{"content":"See \"Graph View\" section for more information.","pos":[27567,27613]},{"pos":[27623,27648],"content":"Loading Large Trace Files","linkify":"Loading Large Trace Files","nodes":[{"content":"Loading Large Trace Files","pos":[0,25]}]},{"content":"Trace files can be very large.","pos":[27652,27682]},{"content":"For example, if you turn on tracing on the \"Verbose\" level, the resulting trace file for running a few minutes can easily be hundreds of megabytes or even larger, depending on network speed and communication pattern.","pos":[27683,27899]},{"content":"When you open a very large trace file in the Service Trace Viewer, system performance can be negatively impacted.","pos":[27906,28019]},{"content":"The loading speed and the response time after loading can be slow.","pos":[28020,28086]},{"content":"Actual speed differs from time to time, depending on your hardware configuration.","pos":[28087,28168]},{"content":"In most PCs, loading a trace file larger than 200M has a severe performance impact.","pos":[28169,28252]},{"content":"For traces files larger than 1G, the tool may use up all available memory, or stop responding for a very long time.","pos":[28253,28368]},{"content":"In order to avoid the slow loading and response time in analyzing large trace files, the Service Trace Viewer provides a feature called \"Partial Loading\", which only loads a small part of the trace at a time.","pos":[28375,28583]},{"content":"For example, you may have a trace file over 1GB, running for several days on the server.","pos":[28584,28672]},{"content":"When some errors have occurred and you want to analyze the trace, it is not necessary to open the entire trace file.","pos":[28673,28789]},{"content":"Instead, you can load the traces within a certain period of time when the error might have occurred.","pos":[28790,28890]},{"content":"Because the scope is smaller, the Service Trace Viewer tool can load the file faster and you can identify the errors using a smaller set of data.","pos":[28891,29036]},{"pos":[29047,29071],"content":"Enabling Partial Loading","linkify":"Enabling Partial Loading","nodes":[{"content":"Enabling Partial Loading","pos":[0,24]}]},{"content":"You do not need to manually enable partial loading.","pos":[29075,29126]},{"content":"If the total size of the trace file(s) you attempt to load exceeds 40MB, Service Trace Viewer automatically displays a Partial Loading dialog for you to select the part that you want to load.","pos":[29127,29318]},{"pos":[29326,29617],"content":"[!NOTE]\n Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown. The actual loading size can be smaller than the Estimated Size in the partial loading dialog.","leadings":["","> "],"nodes":[{"content":"Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown. The actual loading size can be smaller than the Estimated Size in the partial loading dialog.","pos":[9,289],"nodes":[{"content":"Because traces may not be distributed evenly in the time span, the length of the time period you specify in the Partial Loading toolbar may not be proportional to the loading size shown.","pos":[0,186]},{"content":"The actual loading size can be smaller than the Estimated Size in the partial loading dialog.","pos":[187,280]}]}]},{"pos":[29628,29653],"content":"Adjusting Partial Loading","linkify":"Adjusting Partial Loading","nodes":[{"content":"Adjusting Partial Loading","pos":[0,25]}]},{"content":"After you have partially loaded the trace file, you may want to change the data set being loaded.","pos":[29657,29754]},{"content":"You can do so by adjusting the Partial Loading toolbar at the top of the viewer.","pos":[29755,29835]},{"content":"Move the toolbar by mouse, or input the Begin and End time.","pos":[29845,29904]},{"pos":[29914,29942],"content":"Click the <bpt id=\"p1\">**</bpt>Adjust<ept id=\"p1\">**</ept> button.","source":"Click the **Adjust** button."},{"pos":[29951,29976],"content":"Understanding Trace Icons","linkify":"Understanding Trace Icons","nodes":[{"content":"Understanding Trace Icons","pos":[0,25]}]},{"pos":[29980,30142],"content":"The following is a list of icons that the Service Trace Viewer tool uses in the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> view, <bpt id=\"p2\">**</bpt>Graph<ept id=\"p2\">**</ept> view and <bpt id=\"p3\">**</bpt>Trace<ept id=\"p3\">**</ept> pane to represent different items.","source":"The following is a list of icons that the Service Trace Viewer tool uses in the **Activity** view, **Graph** view and **Trace** pane to represent different items."},{"pos":[30150,30248],"content":"[!NOTE]\n Some traces that are not categorized (for example, \"a message is closed\") have no icon.","leadings":["","> "],"nodes":[{"content":"Some traces that are not categorized (for example, \"a message is closed\") have no icon.","pos":[9,96]}]},{"pos":[30258,30281],"content":"Activity Tracing Traces","linkify":"Activity Tracing Traces","nodes":[{"content":"Activity Tracing Traces","pos":[0,23]}]},{"content":"Icon","pos":[30288,30292]},{"content":"Description","pos":[30293,30304]},{"pos":[30342,30473],"content":"<bpt id=\"p1\">![</bpt>Warning trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif \"</bpt>7457c4ed-8383-4ac7-bada-bcb27409da58<ept id=\"p2\">\")</ept>","source":"![Warning trace](../../../docs/framework/wcf/media/7457c4ed-8383-4ac7-bada-bcb27409da58.gif \"7457c4ed-8383-4ac7-bada-bcb27409da58\")"},{"content":"Warning trace: A trace that is emitted at the warning level","pos":[30474,30533]},{"pos":[30538,30667],"content":"<bpt id=\"p1\">![</bpt>Error trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/7d908807-4967-4f6d-9226-d52125db69ca.gif \"</bpt>7d908807-4967-4f6d-9226-d52125db69ca<ept id=\"p2\">\")</ept>","source":"![Error trace](../../../docs/framework/wcf/media/7d908807-4967-4f6d-9226-d52125db69ca.gif \"7d908807-4967-4f6d-9226-d52125db69ca\")"},{"content":"Error trace: A trace that is emitted at the error level.","pos":[30668,30724]},{"pos":[30729,30868],"content":"<bpt id=\"p1\">![</bpt>Activity Start trace:<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif \"</bpt>8a728f91-5f80-4a95-afe8-0b6acd6e0317<ept id=\"p2\">\")</ept>","source":"![Activity Start trace:](../../../docs/framework/wcf/media/8a728f91-5f80-4a95-afe8-0b6acd6e0317.gif \"8a728f91-5f80-4a95-afe8-0b6acd6e0317\")"},{"content":"Activity Start trace: A trace that marks the beginning of an activity.","pos":[30869,30939]},{"content":"It contains the name of the activity.","pos":[30940,30977]},{"content":"As the application designer or developer, you should define one activity Start trace per activity id per process or thread.","pos":[30978,31101]},{"content":"If the activity id is propagated across trace sources for trace correlation, you can then see multiple Starts for the same activity id (one per trace source).","pos":[31114,31272]},{"content":"The Start trace is emitted if ActivityTracing is enabled for the trace source.","pos":[31273,31351]},{"pos":[31356,31493],"content":"<bpt id=\"p1\">![</bpt>Activity Stop trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif \"</bpt>a0493e95-653e-4af8-84a4-4d09a400bc31<ept id=\"p2\">\")</ept>","source":"![Activity Stop trace](../../../docs/framework/wcf/media/a0493e95-653e-4af8-84a4-4d09a400bc31.gif \"a0493e95-653e-4af8-84a4-4d09a400bc31\")"},{"content":"Activity Stop trace: A trace that marks the end of an activity.","pos":[31494,31557]},{"content":".","pos":[31558,31559]},{"content":"It contains the name of the activity.","pos":[31560,31597]},{"content":"As the application designer or developer, you should define one activity Stop trace per activity id per trace source.","pos":[31598,31715]},{"content":"No traces from a given trace source appear after the activity Stop emitted by that trace source, except if the trace time granularity is not sufficiently small.","pos":[31716,31876]},{"content":"When that happens, two traces with the same time, including a Stop, may be interleaved when displayed.","pos":[31877,31979]},{"content":"If the activity id is propagated across trace sources for trace correlation, you can see multiple Stops for the same activity id (one per trace source).","pos":[31980,32132]},{"content":"The Stop trace is emitted if ActivityTracing is enabled for the trace source.","pos":[32133,32210]},{"pos":[32215,32355],"content":"<bpt id=\"p1\">![</bpt>Activity Suspend trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/6f7f4191-df2b-4592-8998-8379769e2d32.gif \"</bpt>6f7f4191-df2b-4592-8998-8379769e2d32<ept id=\"p2\">\")</ept>","source":"![Activity Suspend trace](../../../docs/framework/wcf/media/6f7f4191-df2b-4592-8998-8379769e2d32.gif \"6f7f4191-df2b-4592-8998-8379769e2d32\")"},{"content":"Activity Suspend trace: A trace that marks the time an activity is paused.","pos":[32356,32430]},{"content":"No traces are emitted in a suspended activity until the activity resumes.","pos":[32431,32504]},{"content":"A suspended activity denotes that no processing is happening in that activity in the scope of the trace source.","pos":[32505,32616]},{"content":"Suspend/Resume traces are useful for profiling.","pos":[32617,32664]},{"content":"The Suspend trace is emitted if ActivityTracing is enabled for the trace source.","pos":[32665,32745]},{"pos":[32750,32889],"content":"<bpt id=\"p1\">![</bpt>Activity resume trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif \"</bpt>1060d9d2-c9c8-4e0a-9988-cdc2f7030f17<ept id=\"p2\">\")</ept>","source":"![Activity resume trace](../../../docs/framework/wcf/media/1060d9d2-c9c8-4e0a-9988-cdc2f7030f17.gif \"1060d9d2-c9c8-4e0a-9988-cdc2f7030f17\")"},{"content":"Activity resume trace: A trace that marks the time an activity is resumed after it had been suspended.","pos":[32890,32992]},{"content":"Traces may be emitted again in that activity.","pos":[32993,33038]},{"content":"Suspend/Resume traces are useful for profiling.","pos":[33039,33086]},{"content":"The Resume trace is emitted if ActivityTracing is enabled for the trace source.","pos":[33087,33166]},{"pos":[33171,33297],"content":"<bpt id=\"p1\">![</bpt>Transfer<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif \"</bpt>b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5<ept id=\"p2\">\")</ept>","source":"![Transfer](../../../docs/framework/wcf/media/b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5.gif \"b2d9850e-f362-4ae5-bb8d-9f6f3ca036a5\")"},{"content":"Transfer: A trace that is emitted when logical control flow is transferred from one activity to another.","pos":[33298,33402]},{"content":"The activity the transfer originates from may continue to perform work in parallel to the activity the transfer goes to.","pos":[33403,33523]},{"content":"The Transfer trace is emitted if ActivityTracing is enabled for the trace source.","pos":[33524,33605]},{"pos":[33610,33741],"content":"<bpt id=\"p1\">![</bpt>Transfer From<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/1df215cb-b344-4f36-a20d-195999bda741.gif \"</bpt>1df215cb-b344-4f36-a20d-195999bda741<ept id=\"p2\">\")</ept>","source":"![Transfer From](../../../docs/framework/wcf/media/1df215cb-b344-4f36-a20d-195999bda741.gif \"1df215cb-b344-4f36-a20d-195999bda741\")"},{"content":"Transfer From: A trace that defines a transfer from another activity to the current activity.","pos":[33742,33835]},{"pos":[33840,33969],"content":"<bpt id=\"p1\">![</bpt>Transfer To<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif \"</bpt>74255b6e-7c47-46ef-8e53-870c76b04c3f<ept id=\"p2\">\")</ept>","source":"![Transfer To](../../../docs/framework/wcf/media/74255b6e-7c47-46ef-8e53-870c76b04c3f.gif \"74255b6e-7c47-46ef-8e53-870c76b04c3f\")"},{"content":"Transfer To: A trace that defines a transfer of logical control flow from the current activity to another activity.","pos":[33970,34085]},{"pos":[34096,34106],"content":"WCF Traces","linkify":"WCF Traces","nodes":[{"content":"WCF Traces","pos":[0,10]}]},{"content":"Icon","pos":[34113,34117]},{"content":"Description","pos":[34118,34129]},{"pos":[34167,34302],"content":"<bpt id=\"p1\">![</bpt>Message Log trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/7c66e994-2476-4260-a0db-98948b9af197.gif \"</bpt>7c66e994-2476-4260-a0db-98948b9af197<ept id=\"p2\">\")</ept>","source":"![Message Log trace](../../../docs/framework/wcf/media/7c66e994-2476-4260-a0db-98948b9af197.gif \"7c66e994-2476-4260-a0db-98948b9af197\")"},{"content":"Message Log trace: A trace that is emitted when a WCF message is logged by the message logging feature, when the <ph id=\"ph1\">`System.ServiceModel.MessageLogging`</ph> trace source is enabled.","pos":[34303,34477],"source":"Message Log trace: A trace that is emitted when a WCF message is logged by the message logging feature, when the `System.ServiceModel.MessageLogging` trace source is enabled."},{"content":"Clicking on this trace displays the message.","pos":[34478,34522]},{"content":"There are four configurable logging points for a message: ServiceLevelSendRequest, TransportSend, TransportReceive, and ServiceLevelReceiveRequest, which can also be  specified by the <ph id=\"ph1\">`messageSource`</ph> attribute in the message log trace.","pos":[34523,34758],"source":" There are four configurable logging points for a message: ServiceLevelSendRequest, TransportSend, TransportReceive, and ServiceLevelReceiveRequest, which can also be  specified by the `messageSource` attribute in the message log trace."},{"pos":[34763,34903],"content":"<bpt id=\"p1\">![</bpt>Message Received trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif \"</bpt>de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c<ept id=\"p2\">\")</ept>","source":"![Message Received trace](../../../docs/framework/wcf/media/de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c.gif \"de4f586c-c5dd-41ec-b1c3-ac56b4dfa35c\")"},{"content":"Message Received trace: A trace that is emitted when a WCF message is received, if the <ph id=\"ph1\">`System.ServiceModel`</ph> trace source is enabled at the Information or Verbose level.","pos":[34904,35073],"source":"Message Received trace: A trace that is emitted when a WCF message is received, if the `System.ServiceModel` trace source is enabled at the Information or Verbose level."},{"content":"This trace is essential for viewing the message correlation arrow in the Activity <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> view.","pos":[35074,35171],"source":" This trace is essential for viewing the message correlation arrow in the Activity **Graph** view."},{"pos":[35176,35312],"content":"<bpt id=\"p1\">![</bpt>Message Sent trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/558943c4-17cf-4c12-9405-677e995ac387.gif \"</bpt>558943c4-17cf-4c12-9405-677e995ac387<ept id=\"p2\">\")</ept>","source":"![Message Sent trace](../../../docs/framework/wcf/media/558943c4-17cf-4c12-9405-677e995ac387.gif \"558943c4-17cf-4c12-9405-677e995ac387\")"},{"content":"Message Sent trace: A trace that is emitted when a WCF message is sent if the <ph id=\"ph1\">`System.ServiceModel`</ph> trace source is enabled at the Information or Verbose level.","pos":[35313,35473],"source":"Message Sent trace: A trace that is emitted when a WCF message is sent if the `System.ServiceModel` trace source is enabled at the Information or Verbose level."},{"content":"This trace is essential for viewing the message correlation arrow in the Activity <bpt id=\"p1\">**</bpt>Graph<ept id=\"p1\">**</ept> view.","pos":[35474,35571],"source":" This trace is essential for viewing the message correlation arrow in the Activity **Graph** view."},{"pos":[35582,35592],"content":"Activities","linkify":"Activities","nodes":[{"content":"Activities","pos":[0,10]}]},{"content":"Icon","pos":[35599,35603]},{"content":"Description","pos":[35604,35615]},{"pos":[35653,35749],"content":"<bpt id=\"p1\">![</bpt>Activity<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/wcfc-defaultactivityc.gif \"</bpt>wcfc_defaultActivityc<ept id=\"p2\">\")</ept>","source":"![Activity](../../../docs/framework/wcf/media/wcfc-defaultactivityc.gif \"wcfc_defaultActivityc\")"},{"content":"Activity: Indicates that the current activity is a generic activity.","pos":[35750,35818]},{"pos":[35823,35954],"content":"<bpt id=\"p1\">![</bpt>Root activity<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif \"</bpt>5dc8e0eb-1c32-4076-8c66-594935beaee9<ept id=\"p2\">\")</ept>","source":"![Root activity](../../../docs/framework/wcf/media/5dc8e0eb-1c32-4076-8c66-594935beaee9.gif \"5dc8e0eb-1c32-4076-8c66-594935beaee9\")"},{"content":"Root activity: Indicates the root activity of a process.","pos":[35955,36011]},{"pos":[36022,36036],"content":"WCF Activities","linkify":"WCF Activities","nodes":[{"content":"WCF Activities","pos":[0,14]}]},{"content":"Icon","pos":[36043,36047]},{"content":"Description","pos":[36048,36059]},{"pos":[36097,36235],"content":"<bpt id=\"p1\">![</bpt>Environment activity<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif \"</bpt>29fa00ac-cf78-46e5-822d-56222fff61d1<ept id=\"p2\">\")</ept>","source":"![Environment activity](../../../docs/framework/wcf/media/29fa00ac-cf78-46e5-822d-56222fff61d1.gif \"29fa00ac-cf78-46e5-822d-56222fff61d1\")"},{"content":"Environment activity: An activity that creates, opens, or closes a WCF host or client.","pos":[36236,36322]},{"content":"Errors that have happened during these phases will appear in this activity.","pos":[36323,36398]},{"pos":[36403,36536],"content":"<bpt id=\"p1\">![</bpt>Listen activity<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif \"</bpt>d7b135f6-ec7d-45d7-9913-037ab30e4c26<ept id=\"p2\">\")</ept>","source":"![Listen activity](../../../docs/framework/wcf/media/d7b135f6-ec7d-45d7-9913-037ab30e4c26.gif \"d7b135f6-ec7d-45d7-9913-037ab30e4c26\")"},{"content":"Listen activity: An activity that logs traces related to a listener.","pos":[36537,36605]},{"content":"Inside this activity, we can view listener information and connection requests.","pos":[36606,36685]},{"pos":[36690,36830],"content":"<bpt id=\"p1\">![</bpt>Receive Bytes activity<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/2f628580-b80f-45a7-925b-616c96426c0e.gif \"</bpt>2f628580-b80f-45a7-925b-616c96426c0e<ept id=\"p2\">\")</ept>","source":"![Receive Bytes activity](../../../docs/framework/wcf/media/2f628580-b80f-45a7-925b-616c96426c0e.gif \"2f628580-b80f-45a7-925b-616c96426c0e\")"},{"content":"Receive Bytes activity: An activity that groups all traces related to receiving incoming bytes on a connection between two endpoints.","pos":[36831,36964]},{"content":"This activity is essential in correlating with transport activities that propagate their activity id such as http.sys.","pos":[36965,37083]},{"content":"Connection errors such as aborts will appear in this activity.","pos":[37084,37146]},{"pos":[37151,37275],"content":"<bpt id=\"p1\">![</bpt>Process Message activity<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/wcfc-executionactivityiconc.GIF \"</bpt>wcfc_ExecutionActivityIconc<ept id=\"p2\">\")</ept>","source":"![Process Message activity](../../../docs/framework/wcf/media/wcfc-executionactivityiconc.GIF \"wcfc_ExecutionActivityIconc\")"},{"content":"Process Message activity: An activity that groups traces related to creating a WCF message.","pos":[37276,37367]},{"content":"Errors due to a bad envelope or a malformed message will appear in that activity.","pos":[37368,37449]},{"content":"Inside this activity, we can inspect message headers to see if an activity id was propagated from the caller.","pos":[37450,37559]},{"content":"If this is true, when we transfer to Process Action activity (the next icon), we can also assign to that activity the propagated activity id for correlation between the caller and callee’s traces.","pos":[37560,37756]},{"pos":[37761,37896],"content":"<bpt id=\"p1\">![</bpt>Message Log trace<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/7c66e994-2476-4260-a0db-98948b9af197.gif \"</bpt>7c66e994-2476-4260-a0db-98948b9af197<ept id=\"p2\">\")</ept>","source":"![Message Log trace](../../../docs/framework/wcf/media/7c66e994-2476-4260-a0db-98948b9af197.gif \"7c66e994-2476-4260-a0db-98948b9af197\")"},{"content":"Process Action activity: An activity that groups all traces related to a WCF request across two endpoints.","pos":[37897,38003]},{"content":"If <ph id=\"ph1\">`propagateActivity`</ph> is set to <ph id=\"ph2\">`true`</ph> on both endpoints in configuration, all traces from both endpoints are merged into one activity for direct correlation.","pos":[38004,38163],"source":" If `propagateActivity` is set to `true` on both endpoints in configuration, all traces from both endpoints are merged into one activity for direct correlation."},{"content":"Such activity will contain errors due to transport or security processing, extending to the user code boundary and back (if a response exists).","pos":[38164,38307]},{"pos":[38312,38436],"content":"<bpt id=\"p1\">![</bpt>Process Message activity<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/wcf/media/wcfc-executionactivityiconc.GIF \"</bpt>wcfc_ExecutionActivityIconc<ept id=\"p2\">\")</ept>","source":"![Process Message activity](../../../docs/framework/wcf/media/wcfc-executionactivityiconc.GIF \"wcfc_ExecutionActivityIconc\")"},{"content":"Execute User Code activity: An activity that groups user code traces for processing a request.","pos":[38437,38531]},{"pos":[38541,38556],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"content":"If you do not have permission to write to the registry, you get the following error message \"The Microsoft Service Trace Viewer was not registered to the system\" when you use the \"<ph id=\"ph1\">`svctraceviewer /register`</ph>\" command to register the tool.","pos":[38560,38797],"source":"If you do not have permission to write to the registry, you get the following error message \"The Microsoft Service Trace Viewer was not registered to the system\" when you use the \"`svctraceviewer /register`\" command to register the tool."},{"content":"If this occurs, you should log in using an account that has write access to the registry.","pos":[38798,38887]},{"content":"In addition, the Service Trace Viewer tool writes some settings (for example, custom filters and filter options) to the SvcTraceViewer.exe.settings file in its assembly folder.","pos":[38894,39070]},{"content":"If you do not have read permission for the file, you can still launch the tool, but you cannot load the settings.","pos":[39071,39184]},{"content":"If you get the error message \"An unknown error occurred while processing one or more traces\" when opening the .etl file, it means that the format of the .etl file is invalid.","pos":[39191,39365]},{"content":"If you open a trace log created using an Arabic operating system, you may notice that the time filter does not work.","pos":[39372,39488]},{"content":"For example, year 2005 corresponds to year 1427 in Arabic calendar.","pos":[39489,39556]},{"content":"However, the time range supported by the Service Trace Viewer tool filter does not support a date earlier than 1752.","pos":[39557,39673]},{"content":"This can imply that you are not able to select a correct date in the filter.","pos":[39674,39750]},{"content":"To resolve this problem, you can create a custom filter (<bpt id=\"p1\">**</bpt>View/Custom Filters<ept id=\"p1\">**</ept>) using an XPath expression to include a specific time range.","pos":[39751,39892],"source":" To resolve this problem, you can create a custom filter (**View/Custom Filters**) using an XPath expression to include a specific time range."},{"pos":[39901,39909],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[39913,40120],"content":"<bpt id=\"p1\">[</bpt>Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting<ept id=\"p1\">](../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)</ept>","source":"[Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)"},{"pos":[40123,40216],"content":"<bpt id=\"p1\">[</bpt>Configuring Tracing<ept id=\"p1\">](../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md)</ept>","source":"[Configuring Tracing](../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md)"},{"pos":[40219,40284],"content":"<bpt id=\"p1\">[</bpt>End-to-End Tracing<ept id=\"p1\">](./diagnostics/tracing/end-to-end-tracing.md)</ept>","source":"[End-to-End Tracing](./diagnostics/tracing/end-to-end-tracing.md)"}]}