{"content":"---\ntitle: \"<system.identityModel.services>\"\nms.date: \"03/30/2017\"\nms.assetid: fa1624dd-2d74-4ae3-942e-498cee261ac5\nauthor: \"BrucePerlerMS\"\n---\n# \\<system.identityModel.services>\nConfiguration section for authentication using the WS-Federation protocol.  \n  \n \\<system.identityModel.services>  \n  \n## Syntax  \n  \n```xml  \n<system.identityModel.services>  \n  <federationConfiguration name=xs:string identityConfigurationName=xs:string>  \n  </federationConfiguration>  \n</system.identityModel.services>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n None  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md)|Contains the settings that configure the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> (WSFAM) and the <xref:System.IdentityModel.Services.SessionAuthenticationModule> (SAM) HTTP modules.|  \n  \n### Parent Elements  \n None  \n  \n## Remarks  \n Add a `<system.identityModel.services>` section to your application’s configuration file to provide settings for the SAM and WSFAM.  \n  \n> [!IMPORTANT]\n>  When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the claims authorization manager (<xref:System.Security.Claims.ClaimsAuthorizationManager>) and policy that is used to make authorization decisions are configured through an `<identityConfiguration>` element that is implicitly or explicitly referenced from a `<federationConfiguration>` element in this section. For more information, see the **Remarks** under the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element.  \n  \n The `<system.identityModel.services>` section is represented by the <xref:System.IdentityModel.Services.Configuration.SystemIdentityModelServicesSection> class. The collection of child `<federationConfiguration>` elements configured in the section is represented by the <xref:System.IdentityModel.Services.Configuration.FederationConfigurationElementCollection> class.  \n  \n## Example  \n The following XML shows how to add a `<system.identityModel.services>` section to a configuration file. You must first add section declarations for both the `<system.identityModel.services>` section and the `<system.identityModel>` sections. (When you add a `<system.identityModel.services>` section, you should also add a declaration for the `<system.identityModel>` section to ensure that a default `<identityConfiguration>` section can be created by the runtime if necessary.) After the section declarations have been added, you can configure federated authentication settings under the `<system.identityModel.services>` element.  \n  \n```xml  \n<configuration>  \n  <configSections>  \n    <section name=\"system.identityModel\" type=\"System.IdentityModel.Configuration.SystemIdentityModelSection, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089\" />  \n    <section name=\"system.identityModel.services\" type=\"System.IdentityModel.Services.Configuration.SystemIdentityModelServicesSection, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089\" />  \n  </configSections>  \n  \n  <!-- Additional elements (not shown) -->  \n  \n  <system.identityModel.services>  \n    <federationConfiguration>  \n      <wsFederation passiveRedirectEnabled=\"true\"   \n        issuer=\"http://localhost:15839/wsFederationSTS/Issue\"   \n        realm=\"http://localhost:50969/\" reply=\"http://localhost:50969/\"   \n        requireHttps=\"false\"   \n        signOutReply=\"http://localhost:50969/SignedOutPage.html\"   \n        signOutQueryString=\"Param1=value2&Param2=value2\"   \n        persistentCookiesOnPassiveRedirects=\"true\" />  \n      <cookieHandler requireSsl=\"false\" />  \n    </federationConfiguration>  \n  </system.identityModel.services>  \n  \n</configuration>  \n```\n","nodes":[{"pos":[4,139],"embed":true,"restype":"x-metadata","content":"title: \"<system.identityModel.services>\"\nms.date: \"03/30/2017\"\nms.assetid: fa1624dd-2d74-4ae3-942e-498cee261ac5\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"<system.identityModel.services>","nodes":[{"pos":[0,31],"content":"<system.identityModel.services>","nodes":[{"content":"&lt;system.identityModel.services&gt;","pos":[0,31],"source":"<system.identityModel.services>"}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[146,178],"content":"\\<system.identityModel.services>","linkify":"\\<system.identityModel.services>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel.services&gt;","pos":[0,32],"source":"\\<system.identityModel.services>"}]},{"content":"Configuration section for authentication using the WS-Federation protocol.","pos":[179,253]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel.services&gt;","pos":[260,292],"source":"\\<system.identityModel.services>"},{"pos":[301,307],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[515,538],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[542,622]},{"pos":[632,642],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"None","pos":[646,650]},{"pos":[660,674],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[681,688]},{"content":"Description","pos":[689,700]},{"pos":[741,882],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>federationConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md)</ept>","source":"[\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md)"},{"pos":[883,1094],"content":"Contains the settings that configure the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Services.WSFederationAuthenticationModule&gt;</ph> (WSFAM) and the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Services.SessionAuthenticationModule&gt;</ph> (SAM) HTTP modules.","source":"Contains the settings that configure the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> (WSFAM) and the <xref:System.IdentityModel.Services.SessionAuthenticationModule> (SAM) HTTP modules."},{"pos":[1105,1120],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"None","pos":[1124,1128]},{"pos":[1137,1144],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1148,1279],"content":"Add a <ph id=\"ph1\">`&lt;system.identityModel.services&gt;`</ph> section to your application’s configuration file to provide settings for the SAM and WSFAM.","source":"Add a `<system.identityModel.services>` section to your application’s configuration file to provide settings for the SAM and WSFAM."},{"pos":[1287,2033],"content":"[!IMPORTANT]\n When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the claims authorization manager (<xref:System.Security.Claims.ClaimsAuthorizationManager>) and policy that is used to make authorization decisions are configured through an `<identityConfiguration>` element that is implicitly or explicitly referenced from a `<federationConfiguration>` element in this section. For more information, see the **Remarks** under the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element.","leadings":["","> "],"nodes":[{"content":"When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the claims authorization manager (<xref:System.Security.Claims.ClaimsAuthorizationManager>) and policy that is used to make authorization decisions are configured through an `<identityConfiguration>` element that is implicitly or explicitly referenced from a `<federationConfiguration>` element in this section. For more information, see the **Remarks** under the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element.","pos":[14,744],"nodes":[{"content":"When using the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Services.ClaimsPrincipalPermission&gt;</ph> or the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute&gt;</ph> class to provide claims-based access control in your code, the claims authorization manager (<ph id=\"ph3\">&lt;xref:System.Security.Claims.ClaimsAuthorizationManager&gt;</ph>) and policy that is used to make authorization decisions are configured through an <ph id=\"ph4\">`&lt;identityConfiguration&gt;`</ph> element that is implicitly or explicitly referenced from a <ph id=\"ph5\">`&lt;federationConfiguration&gt;`</ph> element in this section.","pos":[0,527],"source":"When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the claims authorization manager (<xref:System.Security.Claims.ClaimsAuthorizationManager>) and policy that is used to make authorization decisions are configured through an `<identityConfiguration>` element that is implicitly or explicitly referenced from a `<federationConfiguration>` element in this section."},{"content":"For more information, see the <bpt id=\"p1\">**</bpt>Remarks<ept id=\"p1\">**</ept> under the <bpt id=\"p2\">[</bpt><ph id=\"ph1\">\\&lt;</ph>federationConfiguration&gt;<ept id=\"p2\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md)</ept> element.","pos":[528,730],"source":" For more information, see the **Remarks** under the [\\<federationConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element."}]}]},{"content":"The <ph id=\"ph1\">`&lt;system.identityModel.services&gt;`</ph> section is represented by the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Services.Configuration.SystemIdentityModelServicesSection&gt;</ph> class.","pos":[2040,2200],"source":"The `<system.identityModel.services>` section is represented by the <xref:System.IdentityModel.Services.Configuration.SystemIdentityModelServicesSection> class."},{"content":"The collection of child <ph id=\"ph1\">`&lt;federationConfiguration&gt;`</ph> elements configured in the section is represented by the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Services.Configuration.FederationConfigurationElementCollection&gt;</ph> class.","pos":[2201,2408],"source":" The collection of child `<federationConfiguration>` elements configured in the section is represented by the <xref:System.IdentityModel.Services.Configuration.FederationConfigurationElementCollection> class."},{"pos":[2417,2424],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XML shows how to add a <ph id=\"ph1\">`&lt;system.identityModel.services&gt;`</ph> section to a configuration file.","pos":[2428,2531],"source":"The following XML shows how to add a `<system.identityModel.services>` section to a configuration file."},{"content":"You must first add section declarations for both the <ph id=\"ph1\">`&lt;system.identityModel.services&gt;`</ph> section and the <ph id=\"ph2\">`&lt;system.identityModel&gt;`</ph> sections.","pos":[2532,2669],"source":" You must first add section declarations for both the `<system.identityModel.services>` section and the `<system.identityModel>` sections."},{"content":"(When you add a <ph id=\"ph1\">`&lt;system.identityModel.services&gt;`</ph> section, you should also add a declaration for the <ph id=\"ph2\">`&lt;system.identityModel&gt;`</ph> section to ensure that a default <ph id=\"ph3\">`&lt;identityConfiguration&gt;`</ph> section can be created by the runtime if necessary.) After the section declarations have been added, you can configure federated authentication settings under the <ph id=\"ph4\">`&lt;system.identityModel.services&gt;`</ph> element.","pos":[2670,3060],"source":" (When you add a `<system.identityModel.services>` section, you should also add a declaration for the `<system.identityModel>` section to ensure that a default `<identityConfiguration>` section can be created by the runtime if necessary.) After the section declarations have been added, you can configure federated authentication settings under the `<system.identityModel.services>` element."}]}