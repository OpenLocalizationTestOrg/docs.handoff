{"content":"---\ntitle: \"Sending and Handling Faults | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 98e8e04d-2ac9-4a33-ae08-462f757a7a14\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Sending and Handling Faults\nThis sample demonstrates how to use the <xref:System.ServiceModel.Activities.SendReply> and <xref:System.ServiceModel.Activities.ReceiveReply> messaging activities to send and receive expected and unexpected faults. In this scenario, the first client request results in an expected fault that has been included in its <xref:System.ServiceModel.Activities.Send.KnownTypes%2A> collection. The next few client requests result in receiving unexpected faults, before the final request succeeds.  \n  \n## To use this sample  \n  \n1.  Open [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] with elevated permissions, by right-clicking the [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] icon and selecting **Run as administrator**.  \n  \n2.  Open the Faults.sln solution file.  \n  \n3.  To build the solution, press CTRL+SHIFT+B.  \n  \n4.  Run the service project.  \n  \n    1.  In **Solution Explorer**, right-click the `FaultService` project and select **Set as StartUp Project**.  \n  \n    2.  Press CTRL+F5.  \n  \n5.  Open another copy of [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] with elevated permissions, by right-clicking the [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] icon and selecting **Run as administrator**.  \n  \n6.  Open the Faults.sln solution file.  \n  \n7.  Run the client project.  \n  \n    1.  In **Solution Explorer**, right-click the `FaultClient` project and select **Set as StartUp Project**.  \n  \n    2.  Press CTRL+F5.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Basic\\Services\\Faults`  \n  \n## See Also","nodes":[{"pos":[12,56],"content":"Sending and Handling Faults | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Sending and Handling Faults | Microsoft Docs","pos":[0,44]}]},{"pos":[321,348],"content":"Sending and Handling Faults","linkify":"Sending and Handling Faults","nodes":[{"content":"Sending and Handling Faults","pos":[0,27]}]},{"content":"This sample demonstrates how to use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.SendReply&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Activities.ReceiveReply&gt;</ph> messaging activities to send and receive expected and unexpected faults.","pos":[349,564],"source":"This sample demonstrates how to use the <xref:System.ServiceModel.Activities.SendReply> and <xref:System.ServiceModel.Activities.ReceiveReply> messaging activities to send and receive expected and unexpected faults."},{"content":"In this scenario, the first client request results in an expected fault that has been included in its <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.Send.KnownTypes%2A&gt;</ph> collection.","pos":[565,735],"source":" In this scenario, the first client request results in an expected fault that has been included in its <xref:System.ServiceModel.Activities.Send.KnownTypes%2A> collection."},{"content":"The next few client requests result in receiving unexpected faults, before the final request succeeds.","pos":[736,838]},{"pos":[847,865],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[875,1081],"content":"Open <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph> with elevated permissions, by right-clicking the <ph id=\"ph2\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph> icon and selecting <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept>.","source":"Open [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] with elevated permissions, by right-clicking the [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] icon and selecting **Run as administrator**."},{"content":"Open the Faults.sln solution file.","pos":[1091,1125]},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[1135,1177]},{"content":"Run the service project.","pos":[1187,1211]},{"pos":[1225,1328],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <ph id=\"ph1\">`FaultService`</ph> project and select <bpt id=\"p2\">**</bpt>Set as StartUp Project<ept id=\"p2\">**</ept>.","source":"In **Solution Explorer**, right-click the `FaultService` project and select **Set as StartUp Project**."},{"content":"Press CTRL+F5.","pos":[1342,1356]},{"pos":[1366,1588],"content":"Open another copy of <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph> with elevated permissions, by right-clicking the <ph id=\"ph2\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph> icon and selecting <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept>.","source":"Open another copy of [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] with elevated permissions, by right-clicking the [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] icon and selecting **Run as administrator**."},{"content":"Open the Faults.sln solution file.","pos":[1598,1632]},{"content":"Run the client project.","pos":[1642,1665]},{"pos":[1679,1781],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <ph id=\"ph1\">`FaultClient`</ph> project and select <bpt id=\"p2\">**</bpt>Set as StartUp Project<ept id=\"p2\">**</ept>.","source":"In **Solution Explorer**, right-click the `FaultClient` project and select **Set as StartUp Project**."},{"content":"Press CTRL+F5.","pos":[1795,1809]},{"pos":[1817,1949],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[1,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2003,2329],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2330,2380]},{"pos":[2457,2465],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}