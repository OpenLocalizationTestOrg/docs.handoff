{"content":"---\ntitle: Create an InkCanvas in a WPF app in Visual Studio\nms.date: 08/15/2018\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"procedural code in lieu of XAML [WPF]\"\n  - \"XAML [WPF], procedural code in lieu of\"\n  - \"InkCanvas (WPF)\"\nms.assetid: 760332dd-594a-475d-865b-01659db8cab7\n---\n# Get Started with Ink in WPF\n\nWindows Presentation Foundation (WPF) has an ink feature that makes it easy to incorporate digital ink into your app.\n\n## Prerequisites\n\nTo use the following examples, first [install Microsoft Visual Studio](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=button+cta&utm_content=download+vs2017). It also helps to know how to write basic WPF apps. For help getting started with WPF, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md).\n\n## Quick Start\n\nThis section helps you write a simple WPF application that collects ink.\n\n### Got Ink?\n\nTo create a WPF app that supports ink:\n\n1. Open Visual Studio.\n\n2. Create a new **WPF App**.\n\n   In the **New Project** dialog, expand the **Installed** > **Visual C#** or **Visual Basic** > **Windows Desktop** category. Then, select the **WPF App (.NET Framework)** app template. Enter a name, and then select **OK**.\n\n   Visual Studio creates the project, and *MainWindow.xaml* opens in the designer.\n\n3. Type `<InkCanvas/>` between the `<Grid>` tags.\n\n   ![XAML designer with InkCanvas tag](./media/getting-started-with-ink/inkcanvas-xaml.png)\n\n4. Press **F5** to launch your application in the debugger.\n\n5. Using a stylus or mouse, write **hello world** in the window.\n\nYou've written the ink equivalent of a \"hello world\" application with only 12 keystrokes!\n\n### Spice Up Your App\n\nLet’s take advantage of some features of the WPF. Replace everything between the opening and closing \\<Window> tags with the following markup:\n\n```xaml\n<Page>\n  <InkCanvas Name=\"myInkCanvas\" MouseRightButtonUp=\"RightMouseUpHandler\">\n    <InkCanvas.Background>\n      <LinearGradientBrush>\n        <GradientStop Color=\"Yellow\" Offset=\"0.0\" />\n          <GradientStop Color=\"Blue\" Offset=\"0.5\" />\n            <GradientStop Color=\"HotPink\" Offset=\"1.0\" />\n              </LinearGradientBrush>\n    </InkCanvas.Background>\n  </InkCanvas>\n</Page>\n```\n\nThis XAML creates a gradient brush background on your inking surface.\n\n![Gradient colors on inking surface in WPF app](./media/getting-started-with-ink/gradient-colors.png)\n\n### Add Some Code Behind the XAML\n\nWhile XAML makes it very easy to design the user interface, any real-world application needs to add code to handle events. Here is a simple example that zooms in on the ink in response to a right-click from a mouse.\n\n1. Set the `MouseRightButtonUp` handler in your XAML:\n\n   [!code-xaml[DigitalInkTopics#3](~/samples/snippets/csharp/VS_Snippets_Wpf/DigitalInkTopics/CSharp/Window2.xaml#3)]\n\n1. In **Solution Explorer**, expand MainWindow.xaml and open the code-behind file (MainWindow.xaml.cs or MainWindow.xaml.vb). Add the following event handler code:\n\n   [!code-csharp[DigitalInkTopics#4](~/samples/snippets/csharp/VS_Snippets_Wpf/DigitalInkTopics/CSharp/Window2.xaml.cs#4)]\n   [!code-vb[DigitalInkTopics#4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DigitalInkTopics/VisualBasic/Window2.xaml.vb#4)]\n\n1. Run the application. Add some ink, and then right-click with the mouse or perform a press-and-hold equivalent with a stylus.\n\n   The display zooms in each time you click with the right mouse button.\n\n### Use Procedural Code Instead of XAML\n\nYou can access all WPF features from procedural code. Follow these steps to create a \"Hello Ink World\" application for WPF that doesn’t use any XAML at all.\n\n1. Create a new console application project in Visual Studio.\n\n   In the **New Project** dialog, expand the **Installed** > **Visual C#** or **Visual Basic** > **Windows Desktop** category. Then, select the **Console App (.NET Framework)** app template. Enter a name, and then select **OK**.\n\n1. Paste the following code into the Program.cs or Program.vb file:\n\n   [!code-csharp[InkCanvasConsoleApp#1](~/samples/snippets/csharp/VS_Snippets_Wpf/InkCanvasConsoleApp/CSharp/Program.cs#1)]\n   [!code-vb[InkCanvasConsoleApp#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InkCanvasConsoleApp/VisualBasic/Module1.vb#1)]\n\n1. Add references to the PresentationCore, PresentationFramework, and WindowsBase assemblies by right-clicking on **References** in **Solution Explorer** and choosing **Add Reference**.\n\n   ![Reference Manager showing PresentationCore and PresentationFramework](./media/getting-started-with-ink/references.png)\n\n1. Build the application by pressing **F5**.\n\n## See also\n\n- [Digital Ink](digital-ink.md)\n- [Collecting Ink](collecting-ink.md)\n- [Handwriting Recognition](handwriting-recognition.md)\n- [Storing Ink](storing-ink.md)\n","nodes":[{"pos":[4,294],"embed":true,"restype":"x-metadata","content":"title: Create an InkCanvas in a WPF app in Visual Studio\nms.date: 08/15/2018\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"procedural code in lieu of XAML [WPF]\"\n  - \"XAML [WPF], procedural code in lieu of\"\n  - \"InkCanvas (WPF)\"\nms.assetid: 760332dd-594a-475d-865b-01659db8cab7","nodes":[{"content":"Create an InkCanvas in a WPF app in Visual Studio","nodes":[{"pos":[0,49],"content":"Create an InkCanvas in a WPF app in Visual Studio","nodes":[{"content":"Create an InkCanvas in a WPF app in Visual Studio","pos":[0,49]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[301,328],"content":"Get Started with Ink in WPF","linkify":"Get Started with Ink in WPF","nodes":[{"content":"Get Started with Ink in WPF","pos":[0,27]}]},{"content":"Windows Presentation Foundation (WPF) has an ink feature that makes it easy to incorporate digital ink into your app.","pos":[330,447]},{"pos":[452,465],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"content":"To use the following examples, first <bpt id=\"p1\">[</bpt>install Microsoft Visual Studio<ept id=\"p1\">](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&amp;utm_source=docs.microsoft.com&amp;utm_campaign=button+cta&amp;utm_content=download+vs2017)</ept>.","pos":[467,688],"source":"To use the following examples, first [install Microsoft Visual Studio](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=button+cta&utm_content=download+vs2017)."},{"content":"It also helps to know how to write basic WPF apps.","pos":[689,739]},{"content":"For help getting started with WPF, see <bpt id=\"p1\">[</bpt>Walkthrough: My first WPF desktop application<ept id=\"p1\">](../getting-started/walkthrough-my-first-wpf-desktop-application.md)</ept>.","pos":[740,895],"source":" For help getting started with WPF, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md)."},{"pos":[900,911],"content":"Quick Start","linkify":"Quick Start","nodes":[{"content":"Quick Start","pos":[0,11]}]},{"content":"This section helps you write a simple WPF application that collects ink.","pos":[913,985]},{"pos":[991,999],"content":"Got Ink?","linkify":"Got Ink?","nodes":[{"content":"Got Ink?","pos":[0,8]}]},{"content":"To create a WPF app that supports ink:","pos":[1001,1039]},{"content":"Open Visual Studio.","pos":[1044,1063]},{"pos":[1068,1093],"content":"Create a new <bpt id=\"p1\">**</bpt>WPF App<ept id=\"p1\">**</ept>.","source":"Create a new **WPF App**."},{"content":"In the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog, expand the <bpt id=\"p2\">**</bpt>Installed<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>Visual C#<ept id=\"p3\">**</ept> or <bpt id=\"p4\">**</bpt>Visual Basic<ept id=\"p4\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p5\">**</bpt>Windows Desktop<ept id=\"p5\">**</ept> category.","pos":[1098,1221],"source":"In the **New Project** dialog, expand the **Installed** > **Visual C#** or **Visual Basic** > **Windows Desktop** category."},{"content":"Then, select the <bpt id=\"p1\">**</bpt>WPF App (.NET Framework)<ept id=\"p1\">**</ept> app template.","pos":[1222,1281],"source":" Then, select the **WPF App (.NET Framework)** app template."},{"content":"Enter a name, and then select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[1282,1319],"source":" Enter a name, and then select **OK**."},{"pos":[1324,1403],"content":"Visual Studio creates the project, and <bpt id=\"p1\">*</bpt>MainWindow.xaml<ept id=\"p1\">*</ept> opens in the designer.","source":"Visual Studio creates the project, and *MainWindow.xaml* opens in the designer."},{"pos":[1408,1454],"content":"Type <ph id=\"ph1\">`&lt;InkCanvas/&gt;`</ph> between the <ph id=\"ph2\">`&lt;Grid&gt;`</ph> tags.","source":"Type `<InkCanvas/>` between the `<Grid>` tags."},{"content":"XAML designer with InkCanvas tag","pos":[1461,1493]},{"pos":[1552,1608],"content":"Press <bpt id=\"p1\">**</bpt>F5<ept id=\"p1\">**</ept> to launch your application in the debugger.","source":"Press **F5** to launch your application in the debugger."},{"pos":[1613,1674],"content":"Using a stylus or mouse, write <bpt id=\"p1\">**</bpt>hello world<ept id=\"p1\">**</ept> in the window.","source":"Using a stylus or mouse, write **hello world** in the window."},{"content":"You've written the ink equivalent of a \"hello world\" application with only 12 keystrokes!","pos":[1676,1765]},{"pos":[1771,1788],"content":"Spice Up Your App","linkify":"Spice Up Your App","nodes":[{"content":"Spice Up Your App","pos":[0,17]}]},{"content":"Let’s take advantage of some features of the WPF.","pos":[1790,1839]},{"content":"Replace everything between the opening and closing <ph id=\"ph1\">\\&lt;</ph>Window&gt; tags with the following markup:","pos":[1840,1932],"source":" Replace everything between the opening and closing \\<Window> tags with the following markup:"},{"content":"This XAML creates a gradient brush background on your inking surface.","pos":[2335,2404]},{"content":"Gradient colors on inking surface in WPF app","pos":[2408,2452]},{"pos":[2513,2542],"content":"Add Some Code Behind the XAML","linkify":"Add Some Code Behind the XAML","nodes":[{"content":"Add Some Code Behind the XAML","pos":[0,29]}]},{"content":"While XAML makes it very easy to design the user interface, any real-world application needs to add code to handle events.","pos":[2544,2666]},{"content":"Here is a simple example that zooms in on the ink in response to a right-click from a mouse.","pos":[2667,2759]},{"pos":[2764,2814],"content":"Set the <ph id=\"ph1\">`MouseRightButtonUp`</ph> handler in your XAML:","source":"Set the `MouseRightButtonUp` handler in your XAML:"},{"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, expand MainWindow.xaml and open the code-behind file (MainWindow.xaml.cs or MainWindow.xaml.vb).","pos":[2938,3060],"source":"In **Solution Explorer**, expand MainWindow.xaml and open the code-behind file (MainWindow.xaml.cs or MainWindow.xaml.vb)."},{"content":"Add the following event handler code:","pos":[3061,3098]},{"pos":[3103,3351],"content":"[!code-csharp[DigitalInkTopics#4](~/samples/snippets/csharp/VS_Snippets_Wpf/DigitalInkTopics/CSharp/Window2.xaml.cs#4)]\n[!code-vb[DigitalInkTopics#4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DigitalInkTopics/VisualBasic/Window2.xaml.vb#4)]","leadings":["","   "],"nodes":[]},{"content":"Run the application.","pos":[3356,3376]},{"content":"Add some ink, and then right-click with the mouse or perform a press-and-hold equivalent with a stylus.","pos":[3377,3480]},{"content":"The display zooms in each time you click with the right mouse button.","pos":[3485,3554]},{"pos":[3560,3595],"content":"Use Procedural Code Instead of XAML","linkify":"Use Procedural Code Instead of XAML","nodes":[{"content":"Use Procedural Code Instead of XAML","pos":[0,35]}]},{"content":"You can access all WPF features from procedural code.","pos":[3597,3650]},{"content":"Follow these steps to create a \"Hello Ink World\" application for WPF that doesn’t use any XAML at all.","pos":[3651,3753]},{"content":"Create a new console application project in Visual Studio.","pos":[3758,3816]},{"content":"In the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog, expand the <bpt id=\"p2\">**</bpt>Installed<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>Visual C#<ept id=\"p3\">**</ept> or <bpt id=\"p4\">**</bpt>Visual Basic<ept id=\"p4\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p5\">**</bpt>Windows Desktop<ept id=\"p5\">**</ept> category.","pos":[3821,3944],"source":"In the **New Project** dialog, expand the **Installed** > **Visual C#** or **Visual Basic** > **Windows Desktop** category."},{"content":"Then, select the <bpt id=\"p1\">**</bpt>Console App (.NET Framework)<ept id=\"p1\">**</ept> app template.","pos":[3945,4008],"source":" Then, select the **Console App (.NET Framework)** app template."},{"content":"Enter a name, and then select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[4009,4046],"source":" Enter a name, and then select **OK**."},{"content":"Paste the following code into the Program.cs or Program.vb file:","pos":[4051,4115]},{"pos":[4120,4370],"content":"[!code-csharp[InkCanvasConsoleApp#1](~/samples/snippets/csharp/VS_Snippets_Wpf/InkCanvasConsoleApp/CSharp/Program.cs#1)]\n[!code-vb[InkCanvasConsoleApp#1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InkCanvasConsoleApp/VisualBasic/Module1.vb#1)]","leadings":["","   "],"nodes":[]},{"pos":[4375,4557],"content":"Add references to the PresentationCore, PresentationFramework, and WindowsBase assemblies by right-clicking on <bpt id=\"p1\">**</bpt>References<ept id=\"p1\">**</ept> in <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept> and choosing <bpt id=\"p3\">**</bpt>Add Reference<ept id=\"p3\">**</ept>.","source":"Add references to the PresentationCore, PresentationFramework, and WindowsBase assemblies by right-clicking on **References** in **Solution Explorer** and choosing **Add Reference**."},{"content":"Reference Manager showing PresentationCore and PresentationFramework","pos":[4564,4632]},{"pos":[4687,4728],"content":"Build the application by pressing <bpt id=\"p1\">**</bpt>F5<ept id=\"p1\">**</ept>.","source":"Build the application by pressing **F5**."},{"pos":[4733,4741],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4745,4774],"content":"<bpt id=\"p1\">[</bpt>Digital Ink<ept id=\"p1\">](digital-ink.md)</ept>","source":"[Digital Ink](digital-ink.md)"},{"pos":[4777,4812],"content":"<bpt id=\"p1\">[</bpt>Collecting Ink<ept id=\"p1\">](collecting-ink.md)</ept>","source":"[Collecting Ink](collecting-ink.md)"},{"pos":[4815,4868],"content":"<bpt id=\"p1\">[</bpt>Handwriting Recognition<ept id=\"p1\">](handwriting-recognition.md)</ept>","source":"[Handwriting Recognition](handwriting-recognition.md)"},{"pos":[4871,4900],"content":"<bpt id=\"p1\">[</bpt>Storing Ink<ept id=\"p1\">](storing-ink.md)</ept>","source":"[Storing Ink](storing-ink.md)"}]}