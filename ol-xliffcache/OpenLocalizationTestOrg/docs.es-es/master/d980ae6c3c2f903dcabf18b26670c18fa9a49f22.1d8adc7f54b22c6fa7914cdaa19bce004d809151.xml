{"content":"---\ntitle: Consuming a class library with .NET Core in Visual Studio 2017\ndescription: Learn how to call the members in a class library with Visual Studio 2017.\nkeywords: .NET Core, .NET Core class library, .NET Standard, .NET Standard class library distribution\nauthor: BillWagner\nms.author: wiwang\nms.date: 04/17/2017\nms.topic: article\nms.prod: .net\nms.technology: devlang-csharp\nms.devlang: csharp\nms.assetid: d7b94076-1108-4174-94e7-a18f00072bb7\n---\n\n# Consuming a class library with .NET Core in Visual Studio 2017\n\nOnce you've followed the steps in [Building a C# class library with .NET Core in Visual Studio 2017](./library-with-visual-studio.md) and [Testing a class library with .NET Core in Visual Studio 2017](testing-library-with-visual-studio.md) to build and test your class library and you've built a Release version of the library, the next step is to make it available to callers. You can do this in two ways:\n\n* If the library will be used by a single solution (for example, if it's a component in a single large application), you can include it as a project in your solution.\n\n* If the library will be generally accessible, you can distribute it as a NuGet package.\n\n## Including a library as a project in a solution\n\nJust as you included unit tests in the same solution as your class library, you can include your application as part of that solution. For example, you can use your class library in a console application that prompts the user to enter a string and reports whether its first character is uppercase:\n\n1. Open the `ClassLibraryProjects` solution you created in the [Building a C# Class Library with .NET Core in Visual Studio 2017](./library-with-visual-studio.md) topic. In **Solution Explorer**, right-click the **ClassLibraryProjects** solution and select **Add** > **New Project** from the context menu.\n\n1. In the **Add New Project** dialog, select the **.NET Core** node followed by the **Console App (.NET Core)** project template. In the **Name** text box, type \"ShowCase\", and select the **OK** button.\n\n   ![Add New Project dialog](./media/consuming-library-with-visual-studio/addnewproject.png)\n\n1. In **Solution Explorer**, right-click the **ShowCase** project and select **Set as StartUp Project** in the context menu.\n\n   ![ShowCase context menu](./media/consuming-library-with-visual-studio/setstartupproject.png)\n\n1. Initially, your project doesn't have access to your class library. To allow it to call methods in your class library, you create a reference to the class library. In **Solution Explorer**, right-click the `ShowCase` project's **Dependencies** node and select **Add Reference**.\n\n   ![ShowCase Dependencies context menu](./media/consuming-library-with-visual-studio/addreference.png)\n\n1. In the **Reference Manager** dialog, select **StringLibrary**, your class library project, and select the **OK** button.\n\n   ![Reference manager](./media/consuming-library-with-visual-studio/referencemanager.png)\n\n1. In the code window for the *Program.cs* file, replace all of the code with the following code:\n\n [!CODE-csharp[UsingClassLib#1](../../../samples/snippets/csharp/getting_started/with_visual_studio_2017/showcase.cs#1)]\n\n   The code uses the [Console.WindowHeight](xref:System.Console.WindowHeight) property to determine the number of rows in the console window. Whenever the [Console.CursorTop](xref:System.Console.CursorTop) property is greater than or equal to the number of rows in the console window, the code clears the console window and displays a message to the user.\n\n   The program prompts the user to enter a string. It indicates whether the string starts with an uppercase character. If the user presses the Enter key without entering a string, the application terminates, and the console window closes.\n\n1. If necessary, change the toolbar to compile the **Debug** release of the `ShowCase` project. Compile and run the program by selecting the green arrow on the **ShowCase** button.\n\n   ![Image](./media/consuming-library-with-visual-studio/toolbar.png)\n\nYou can debug and publish the application that uses this library by following the steps in [Debugging your C# Hello World application with Visual Studio 2017](debugging-with-visual-studio.md) and [Publishing your Hello World Application with Visual Studio 2017](publishing-with-visual-studio.md).\n\n## Distributing the library in a NuGet package\n\nYou can make your class library widely available by publishing it as a NuGet package. Visual Studio does not support the creation of NuGet packages. To create one, you use the [`dotnet` command line utility](../../core/tools/dotnet.md):\n\n1. Open a console window. For example in the **Ask me anything** text box in the Windows taskbar, enter `Command Prompt` (or `cmd` for short), and open a console window by either selecting the **Command Prompt** desktop app or pressing Enter if it's selected in the search results.\n\n1. Navigate to your library's project directory. Unless you've reconfigured the typical file location, it's in the *Documents\\Visual Studio 2017\\Projects\\ClassLibraryProjects\\StringLibrary* directory. The directory contains your source code and a project file, *StringLibrary.csproj*.\n\n1. Issue the command `dotnet pack --no-build`. The `dotnet` utility generates a package with a *.nupkg* extension.\n\n   > [!TIP]\n   > If the directory that contains *dotnet.exe* is not in your PATH, you can find its location by entering `where dotnet.exe` in the console window.\n\nFor more information on creating NuGet packages, see [How to Create a NuGet Package with Cross Platform Tools](../../core/deploying/creating-nuget-packages.md).\n","nodes":[{"pos":[4,449],"embed":true,"restype":"x-metadata","content":"title: Consuming a class library with .NET Core in Visual Studio 2017\ndescription: Learn how to call the members in a class library with Visual Studio 2017.\nkeywords: .NET Core, .NET Core class library, .NET Standard, .NET Standard class library distribution\nauthor: BillWagner\nms.author: wiwang\nms.date: 04/17/2017\nms.topic: article\nms.prod: .net\nms.technology: devlang-csharp\nms.devlang: csharp\nms.assetid: d7b94076-1108-4174-94e7-a18f00072bb7","nodes":[{"content":"Consuming a class library with .NET Core in Visual Studio 2017","nodes":[{"pos":[0,62],"content":"Consuming a class library with .NET Core in Visual Studio 2017","nodes":[{"content":"Consuming a class library with .NET Core in Visual Studio 2017","pos":[0,62]}]}],"path":["title"]},{"content":"Learn how to call the members in a class library with Visual Studio 2017.","nodes":[{"pos":[0,73],"content":"Learn how to call the members in a class library with Visual Studio 2017.","nodes":[{"content":"Learn how to call the members in a class library with Visual Studio 2017.","pos":[0,73]}]}],"path":["description"]},{"content":".NET Core, .NET Core class library, .NET Standard, .NET Standard class library distribution","nodes":[{"pos":[0,91],"content":".NET Core, .NET Core class library, .NET Standard, .NET Standard class library distribution","nodes":[{"content":".NET Core, .NET Core class library, .NET Standard, .NET Standard class library distribution","pos":[0,91]}]}],"path":["keywords"]}],"yml":true},{"pos":[457,519],"content":"Consuming a class library with .NET Core in Visual Studio 2017","linkify":"Consuming a class library with .NET Core in Visual Studio 2017","nodes":[{"content":"Consuming a class library with .NET Core in Visual Studio 2017","pos":[0,62]}]},{"content":"Once you've followed the steps in <bpt id=\"p1\">[</bpt>Building a C# class library with .NET Core in Visual Studio 2017<ept id=\"p1\">](./library-with-visual-studio.md)</ept> and <bpt id=\"p2\">[</bpt>Testing a class library with .NET Core in Visual Studio 2017<ept id=\"p2\">](testing-library-with-visual-studio.md)</ept> to build and test your class library and you've built a Release version of the library, the next step is to make it available to callers.","pos":[521,898],"source":"Once you've followed the steps in [Building a C# class library with .NET Core in Visual Studio 2017](./library-with-visual-studio.md) and [Testing a class library with .NET Core in Visual Studio 2017](testing-library-with-visual-studio.md) to build and test your class library and you've built a Release version of the library, the next step is to make it available to callers."},{"content":"You can do this in two ways:","pos":[899,927]},{"content":"If the library will be used by a single solution (for example, if it's a component in a single large application), you can include it as a project in your solution.","pos":[931,1095]},{"content":"If the library will be generally accessible, you can distribute it as a NuGet package.","pos":[1099,1185]},{"pos":[1190,1236],"content":"Including a library as a project in a solution","linkify":"Including a library as a project in a solution","nodes":[{"content":"Including a library as a project in a solution","pos":[0,46]}]},{"content":"Just as you included unit tests in the same solution as your class library, you can include your application as part of that solution.","pos":[1238,1372]},{"content":"For example, you can use your class library in a console application that prompts the user to enter a string and reports whether its first character is uppercase:","pos":[1373,1535]},{"content":"Open the <ph id=\"ph1\">`ClassLibraryProjects`</ph> solution you created in the <bpt id=\"p1\">[</bpt>Building a C# Class Library with .NET Core in Visual Studio 2017<ept id=\"p1\">](./library-with-visual-studio.md)</ept> topic.","pos":[1540,1706],"source":"Open the `ClassLibraryProjects` solution you created in the [Building a C# Class Library with .NET Core in Visual Studio 2017](./library-with-visual-studio.md) topic."},{"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <bpt id=\"p2\">**</bpt>ClassLibraryProjects<ept id=\"p2\">**</ept> solution and select <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p4\">**</bpt>New Project<ept id=\"p4\">**</ept> from the context menu.","pos":[1707,1842],"source":" In **Solution Explorer**, right-click the **ClassLibraryProjects** solution and select **Add** > **New Project** from the context menu."},{"content":"In the <bpt id=\"p1\">**</bpt>Add New Project<ept id=\"p1\">**</ept> dialog, select the <bpt id=\"p2\">**</bpt>.NET Core<ept id=\"p2\">**</ept> node followed by the <bpt id=\"p3\">**</bpt>Console App (.NET Core)<ept id=\"p3\">**</ept> project template.","pos":[1847,1973],"source":"In the **Add New Project** dialog, select the **.NET Core** node followed by the **Console App (.NET Core)** project template."},{"content":"In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> text box, type \"ShowCase\", and select the <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept> button.","pos":[1974,2046],"source":" In the **Name** text box, type \"ShowCase\", and select the **OK** button."},{"content":"Add New Project dialog","pos":[2053,2075]},{"pos":[2145,2266],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <bpt id=\"p2\">**</bpt>ShowCase<ept id=\"p2\">**</ept> project and select <bpt id=\"p3\">**</bpt>Set as StartUp Project<ept id=\"p3\">**</ept> in the context menu.","source":"In **Solution Explorer**, right-click the **ShowCase** project and select **Set as StartUp Project** in the context menu."},{"content":"ShowCase context menu","pos":[2273,2294]},{"content":"Initially, your project doesn't have access to your class library.","pos":[2368,2434]},{"content":"To allow it to call methods in your class library, you create a reference to the class library.","pos":[2435,2530]},{"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <ph id=\"ph1\">`ShowCase`</ph> project's <bpt id=\"p2\">**</bpt>Dependencies<ept id=\"p2\">**</ept> node and select <bpt id=\"p3\">**</bpt>Add Reference<ept id=\"p3\">**</ept>.","pos":[2531,2645],"source":" In **Solution Explorer**, right-click the `ShowCase` project's **Dependencies** node and select **Add Reference**."},{"content":"ShowCase Dependencies context menu","pos":[2652,2686]},{"pos":[2755,2875],"content":"In the <bpt id=\"p1\">**</bpt>Reference Manager<ept id=\"p1\">**</ept> dialog, select <bpt id=\"p2\">**</bpt>StringLibrary<ept id=\"p2\">**</ept>, your class library project, and select the <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept> button.","source":"In the **Reference Manager** dialog, select **StringLibrary**, your class library project, and select the **OK** button."},{"content":"Reference manager","pos":[2882,2899]},{"pos":[2972,3066],"content":"In the code window for the <bpt id=\"p1\">*</bpt>Program.cs<ept id=\"p1\">*</ept> file, replace all of the code with the following code:","source":"In the code window for the *Program.cs* file, replace all of the code with the following code:"},{"content":"The code uses the <bpt id=\"p1\">[</bpt>Console.WindowHeight<ept id=\"p1\">](xref:System.Console.WindowHeight)</ept> property to determine the number of rows in the console window.","pos":[3193,3331],"source":"The code uses the [Console.WindowHeight](xref:System.Console.WindowHeight) property to determine the number of rows in the console window."},{"content":"Whenever the <bpt id=\"p1\">[</bpt>Console.CursorTop<ept id=\"p1\">](xref:System.Console.CursorTop)</ept> property is greater than or equal to the number of rows in the console window, the code clears the console window and displays a message to the user.","pos":[3332,3545],"source":" Whenever the [Console.CursorTop](xref:System.Console.CursorTop) property is greater than or equal to the number of rows in the console window, the code clears the console window and displays a message to the user."},{"content":"The program prompts the user to enter a string.","pos":[3550,3597]},{"content":"It indicates whether the string starts with an uppercase character.","pos":[3598,3665]},{"content":"If the user presses the Enter key without entering a string, the application terminates, and the console window closes.","pos":[3666,3785]},{"content":"If necessary, change the toolbar to compile the <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> release of the <ph id=\"ph1\">`ShowCase`</ph> project.","pos":[3790,3882],"source":"If necessary, change the toolbar to compile the **Debug** release of the `ShowCase` project."},{"content":"Compile and run the program by selecting the green arrow on the <bpt id=\"p1\">**</bpt>ShowCase<ept id=\"p1\">**</ept> button.","pos":[3883,3967],"source":" Compile and run the program by selecting the green arrow on the **ShowCase** button."},{"content":"Image","pos":[3974,3979]},{"pos":[4040,4336],"content":"You can debug and publish the application that uses this library by following the steps in <bpt id=\"p1\">[</bpt>Debugging your C# Hello World application with Visual Studio 2017<ept id=\"p1\">](debugging-with-visual-studio.md)</ept> and <bpt id=\"p2\">[</bpt>Publishing your Hello World Application with Visual Studio 2017<ept id=\"p2\">](publishing-with-visual-studio.md)</ept>.","source":"You can debug and publish the application that uses this library by following the steps in [Debugging your C# Hello World application with Visual Studio 2017](debugging-with-visual-studio.md) and [Publishing your Hello World Application with Visual Studio 2017](publishing-with-visual-studio.md)."},{"pos":[4341,4384],"content":"Distributing the library in a NuGet package","linkify":"Distributing the library in a NuGet package","nodes":[{"content":"Distributing the library in a NuGet package","pos":[0,43]}]},{"content":"You can make your class library widely available by publishing it as a NuGet package.","pos":[4386,4471]},{"content":"Visual Studio does not support the creation of NuGet packages.","pos":[4472,4534]},{"content":"To create one, you use the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">`dotnet`</ph> command line utility<ept id=\"p1\">](../../core/tools/dotnet.md)</ept>:","pos":[4535,4622],"source":" To create one, you use the [`dotnet` command line utility](../../core/tools/dotnet.md):"},{"content":"Open a console window.","pos":[4627,4649]},{"content":"For example in the <bpt id=\"p1\">**</bpt>Ask me anything<ept id=\"p1\">**</ept> text box in the Windows taskbar, enter <ph id=\"ph1\">`Command Prompt`</ph> (or <ph id=\"ph2\">`cmd`</ph> for short), and open a console window by either selecting the <bpt id=\"p2\">**</bpt>Command Prompt<ept id=\"p2\">**</ept> desktop app or pressing Enter if it's selected in the search results.","pos":[4650,4905],"source":" For example in the **Ask me anything** text box in the Windows taskbar, enter `Command Prompt` (or `cmd` for short), and open a console window by either selecting the **Command Prompt** desktop app or pressing Enter if it's selected in the search results."},{"content":"Navigate to your library's project directory.","pos":[4910,4955]},{"content":"Unless you've reconfigured the typical file location, it's in the <bpt id=\"p1\">*</bpt>Documents\\Visual Studio 2017\\Projects\\ClassLibraryProjects\\StringLibrary<ept id=\"p1\">*</ept> directory.","pos":[4956,5107],"source":" Unless you've reconfigured the typical file location, it's in the *Documents\\Visual Studio 2017\\Projects\\ClassLibraryProjects\\StringLibrary* directory."},{"content":"The directory contains your source code and a project file, <bpt id=\"p1\">*</bpt>StringLibrary.csproj<ept id=\"p1\">*</ept>.","pos":[5108,5191],"source":" The directory contains your source code and a project file, *StringLibrary.csproj*."},{"content":"Issue the command <ph id=\"ph1\">`dotnet pack --no-build`</ph>.","pos":[5196,5239],"source":"Issue the command `dotnet pack --no-build`."},{"content":"The <ph id=\"ph1\">`dotnet`</ph> utility generates a package with a <bpt id=\"p1\">*</bpt>.nupkg<ept id=\"p1\">*</ept> extension.","pos":[5240,5307],"source":" The `dotnet` utility generates a package with a *.nupkg* extension."},{"pos":[5314,5470],"content":"[!TIP]\nIf the directory that contains *dotnet.exe* is not in your PATH, you can find its location by entering `where dotnet.exe` in the console window.","leadings":["","   > "],"nodes":[{"content":"If the directory that contains <bpt id=\"p1\">*</bpt>dotnet.exe<ept id=\"p1\">*</ept> is not in your PATH, you can find its location by entering <ph id=\"ph1\">`where dotnet.exe`</ph> in the console window.","pos":[7,151],"source":"If the directory that contains *dotnet.exe* is not in your PATH, you can find its location by entering `where dotnet.exe` in the console window."}]},{"pos":[5472,5632],"content":"For more information on creating NuGet packages, see <bpt id=\"p1\">[</bpt>How to Create a NuGet Package with Cross Platform Tools<ept id=\"p1\">](../../core/deploying/creating-nuget-packages.md)</ept>.","source":"For more information on creating NuGet packages, see [How to Create a NuGet Package with Cross Platform Tools](../../core/deploying/creating-nuget-packages.md)."}]}