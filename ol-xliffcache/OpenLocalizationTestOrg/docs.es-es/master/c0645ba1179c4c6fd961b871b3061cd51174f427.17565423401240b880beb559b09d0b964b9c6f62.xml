{"content":"---\ntitle: \"Enum Design\"\nms.date: \"10/22/2008\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"type design guidelines, enumerations\"\n  - \"simple enumerations\"\n  - \"enumerations [.NET Framework], design guidelines\"\n  - \"class library design guidelines [.NET Framework], enumerations\"\n  - \"flags enumerations\"\nms.assetid: dd53c952-9d9a-4736-86ff-9540e815d545\nauthor: \"KrzysztofCwalina\"\n---\n# Enum Design\nEnums are a special kind of value type. There are two kinds of enums: simple enums and flag enums.  \n  \n Simple enums represent small closed sets of choices. A common example of the simple enum is a set of colors.  \n  \n Flag enums are designed to support bitwise operations on the enum values. A common example of the flags enum is a list of options.  \n  \n **✓ DO** use an enum to strongly type parameters, properties, and return values that represent sets of values.  \n  \n **✓ DO** favor using an enum instead of static constants.  \n  \n **X DO NOT** use an enum for open sets (such as the operating system version, names of your friends, etc.).  \n  \n **X DO NOT** provide reserved enum values that are intended for future use.  \n  \n You can always simply add values to the existing enum at a later stage. See [Adding Values to Enums](#add_value) for more details on adding values to enums. Reserved values just pollute the set of real values and tend to lead to user errors.  \n  \n **X AVOID** publicly exposing enums with only one value.  \n  \n A common practice for ensuring future extensibility of C APIs is to add reserved parameters to method signatures. Such reserved parameters can be expressed as enums with a single default value. This should not be done in managed APIs. Method overloading allows adding parameters in future releases.  \n  \n **X DO NOT** include sentinel values in enums.  \n  \n Although they are sometimes helpful to framework developers, sentinel values are confusing to users of the framework. They are used to track the state of the enum rather than being one of the values from the set represented by the enum.  \n  \n **✓ DO** provide a value of zero on simple enums.  \n  \n Consider calling the value something like \"None.\" If such a value is not appropriate for this particular enum, the most common default value for the enum should be assigned the underlying value of zero.  \n  \n **✓ CONSIDER** using <xref:System.Int32> (the default in most programming languages) as the underlying type of an enum unless any of the following is true:  \n  \n-   The enum is a flags enum and you have more than 32 flags, or expect to have more in the future.  \n  \n-   The underlying type needs to be different than <xref:System.Int32> for easier interoperability with unmanaged code expecting different-size enums.  \n  \n-   A smaller underlying type would result in substantial savings in space. If you expect the enum to be used mainly as an argument for flow of control, the size makes little difference. The size savings might be significant if:  \n  \n    -   You expect the enum to be used as a field in a very frequently instantiated structure or class.  \n  \n    -   You expect users to create large arrays or collections of the enum instances.  \n  \n    -   You expect a large number of instances of the enum to be serialized.  \n  \n For in-memory usage, be aware that managed objects are always `DWORD`-aligned, so you effectively need multiple enums or other small structures in an instance to pack a smaller enum with in order to make a difference, because the total instance size is always going to be rounded up to a `DWORD`.  \n  \n **✓ DO** name flag enums with plural nouns or noun phrases and simple enums with singular nouns or noun phrases.  \n  \n **X DO NOT** extend <xref:System.Enum?displayProperty=nameWithType> directly.  \n  \n <xref:System.Enum?displayProperty=nameWithType> is a special type used by the CLR to create user-defined enumerations. Most programming languages provide a programming element that gives you access to this functionality. For example, in C# the `enum` keyword is used to define an enumeration.  \n  \n<a name=\"design\"></a>   \n### Designing Flag Enums  \n **✓ DO** apply the <xref:System.FlagsAttribute?displayProperty=nameWithType> to flag enums. Do not apply this attribute to simple enums.  \n  \n **✓ DO** use powers of two for the flag enum values so they can be freely combined using the bitwise OR operation.  \n  \n **✓ CONSIDER** providing special enum values for commonly used combinations of flags.  \n  \n Bitwise operations are an advanced concept and should not be required for simple tasks. <xref:System.IO.FileAccess.ReadWrite> is an example of such a special value.  \n  \n **X AVOID** creating flag enums where certain combinations of values are invalid.  \n  \n **X AVOID** using flag enum values of zero unless the value represents \"all flags are cleared\" and is named appropriately, as prescribed by the next guideline.  \n  \n **✓ DO** name the zero value of flag enums `None`. For a flag enum, the value must always mean \"all flags are cleared.\"  \n  \n<a name=\"add_value\"></a>   \n### Adding Value to Enums  \n It is very common to discover that you need to add values to an enum after you have already shipped it. There is a potential application compatibility problem when the newly added value is returned from an existing API, because poorly written applications might not handle the new value correctly.  \n  \n **✓ CONSIDER** adding values to enums, despite a small compatibility risk.  \n  \n If you have real data about application incompatibilities caused by additions to an enum, consider adding a new API that returns the new and old values, and deprecate the old API, which should continue returning just the old values. This will ensure that your existing applications remain compatible.  \n  \n *Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*  \n  \n *Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*  \n  \n## See also\n\n- [Type Design Guidelines](../../../docs/standard/design-guidelines/type.md)\n- [Framework Design Guidelines](../../../docs/standard/design-guidelines/index.md)\n","nodes":[{"pos":[4,393],"embed":true,"restype":"x-metadata","content":"title: \"Enum Design\"\nms.date: \"10/22/2008\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"type design guidelines, enumerations\"\n  - \"simple enumerations\"\n  - \"enumerations [.NET Framework], design guidelines\"\n  - \"class library design guidelines [.NET Framework], enumerations\"\n  - \"flags enumerations\"\nms.assetid: dd53c952-9d9a-4736-86ff-9540e815d545\nauthor: \"KrzysztofCwalina\"","nodes":[{"content":"Enum Design","nodes":[{"pos":[0,11],"content":"Enum Design","nodes":[{"content":"Enum Design","pos":[0,11]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[400,411],"content":"Enum Design","linkify":"Enum Design","nodes":[{"content":"Enum Design","pos":[0,11]}]},{"content":"Enums are a special kind of value type.","pos":[412,451]},{"content":"There are two kinds of enums: simple enums and flag enums.","pos":[452,510]},{"content":"Simple enums represent small closed sets of choices.","pos":[517,569]},{"content":"A common example of the simple enum is a set of colors.","pos":[570,625]},{"content":"Flag enums are designed to support bitwise operations on the enum values.","pos":[632,705]},{"content":"A common example of the flags enum is a list of options.","pos":[706,762]},{"pos":[769,879],"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> use an enum to strongly type parameters, properties, and return values that represent sets of values.","source":"**✓ DO** use an enum to strongly type parameters, properties, and return values that represent sets of values."},{"pos":[886,943],"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> favor using an enum instead of static constants.","source":"**✓ DO** favor using an enum instead of static constants."},{"pos":[950,1057],"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> use an enum for open sets (such as the operating system version, names of your friends, etc.).","source":"**X DO NOT** use an enum for open sets (such as the operating system version, names of your friends, etc.)."},{"pos":[1064,1139],"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> provide reserved enum values that are intended for future use.","source":"**X DO NOT** provide reserved enum values that are intended for future use."},{"content":"You can always simply add values to the existing enum at a later stage.","pos":[1146,1217]},{"content":"See <bpt id=\"p1\">[</bpt>Adding Values to Enums<ept id=\"p1\">](#add_value)</ept> for more details on adding values to enums.","pos":[1218,1302],"source":" See [Adding Values to Enums](#add_value) for more details on adding values to enums."},{"content":"Reserved values just pollute the set of real values and tend to lead to user errors.","pos":[1303,1387]},{"pos":[1394,1450],"content":"<bpt id=\"p1\">**</bpt>X AVOID<ept id=\"p1\">**</ept> publicly exposing enums with only one value.","source":"**X AVOID** publicly exposing enums with only one value."},{"content":"A common practice for ensuring future extensibility of C APIs is to add reserved parameters to method signatures.","pos":[1457,1570]},{"content":"Such reserved parameters can be expressed as enums with a single default value.","pos":[1571,1650]},{"content":"This should not be done in managed APIs.","pos":[1651,1691]},{"content":"Method overloading allows adding parameters in future releases.","pos":[1692,1755]},{"pos":[1762,1808],"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> include sentinel values in enums.","source":"**X DO NOT** include sentinel values in enums."},{"content":"Although they are sometimes helpful to framework developers, sentinel values are confusing to users of the framework.","pos":[1815,1932]},{"content":"They are used to track the state of the enum rather than being one of the values from the set represented by the enum.","pos":[1933,2051]},{"pos":[2058,2107],"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> provide a value of zero on simple enums.","source":"**✓ DO** provide a value of zero on simple enums."},{"content":"Consider calling the value something like \"None.\"","pos":[2114,2163]},{"content":"If such a value is not appropriate for this particular enum, the most common default value for the enum should be assigned the underlying value of zero.","pos":[2164,2316]},{"pos":[2323,2478],"content":"<bpt id=\"p1\">**</bpt>✓ CONSIDER<ept id=\"p1\">**</ept> using <ph id=\"ph1\">&lt;xref:System.Int32&gt;</ph> (the default in most programming languages) as the underlying type of an enum unless any of the following is true:","source":"**✓ CONSIDER** using <xref:System.Int32> (the default in most programming languages) as the underlying type of an enum unless any of the following is true:"},{"content":"The enum is a flags enum and you have more than 32 flags, or expect to have more in the future.","pos":[2488,2583]},{"pos":[2593,2739],"content":"The underlying type needs to be different than <ph id=\"ph1\">&lt;xref:System.Int32&gt;</ph> for easier interoperability with unmanaged code expecting different-size enums.","source":"The underlying type needs to be different than <xref:System.Int32> for easier interoperability with unmanaged code expecting different-size enums."},{"content":"A smaller underlying type would result in substantial savings in space.","pos":[2749,2820]},{"content":"If you expect the enum to be used mainly as an argument for flow of control, the size makes little difference.","pos":[2821,2931]},{"content":"The size savings might be significant if:","pos":[2932,2973]},{"content":"You expect the enum to be used as a field in a very frequently instantiated structure or class.","pos":[2987,3082]},{"content":"You expect users to create large arrays or collections of the enum instances.","pos":[3096,3173]},{"content":"You expect a large number of instances of the enum to be serialized.","pos":[3187,3255]},{"pos":[3262,3558],"content":"For in-memory usage, be aware that managed objects are always <ph id=\"ph1\">`DWORD`</ph>-aligned, so you effectively need multiple enums or other small structures in an instance to pack a smaller enum with in order to make a difference, because the total instance size is always going to be rounded up to a <ph id=\"ph2\">`DWORD`</ph>.","source":"For in-memory usage, be aware that managed objects are always `DWORD`-aligned, so you effectively need multiple enums or other small structures in an instance to pack a smaller enum with in order to make a difference, because the total instance size is always going to be rounded up to a `DWORD`."},{"pos":[3565,3677],"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> name flag enums with plural nouns or noun phrases and simple enums with singular nouns or noun phrases.","source":"**✓ DO** name flag enums with plural nouns or noun phrases and simple enums with singular nouns or noun phrases."},{"pos":[3684,3761],"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> extend <ph id=\"ph1\">&lt;xref:System.Enum?displayProperty=nameWithType&gt;</ph> directly.","source":"**X DO NOT** extend <xref:System.Enum?displayProperty=nameWithType> directly."},{"content":"<ph id=\"ph1\">&lt;xref:System.Enum?displayProperty=nameWithType&gt;</ph> is a special type used by the CLR to create user-defined enumerations.","pos":[3768,3886],"source":"<xref:System.Enum?displayProperty=nameWithType> is a special type used by the CLR to create user-defined enumerations."},{"content":"Most programming languages provide a programming element that gives you access to this functionality.","pos":[3887,3988]},{"content":"For example, in C# the <ph id=\"ph1\">`enum`</ph> keyword is used to define an enumeration.","pos":[3989,4060],"source":" For example, in C# the `enum` keyword is used to define an enumeration."},{"pos":[4095,4115],"content":"Designing Flag Enums","linkify":"Designing Flag Enums","nodes":[{"content":"Designing Flag Enums","pos":[0,20]}]},{"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> apply the <ph id=\"ph1\">&lt;xref:System.FlagsAttribute?displayProperty=nameWithType&gt;</ph> to flag enums.","pos":[4119,4210],"source":"**✓ DO** apply the <xref:System.FlagsAttribute?displayProperty=nameWithType> to flag enums."},{"content":"Do not apply this attribute to simple enums.","pos":[4211,4255]},{"pos":[4262,4376],"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> use powers of two for the flag enum values so they can be freely combined using the bitwise OR operation.","source":"**✓ DO** use powers of two for the flag enum values so they can be freely combined using the bitwise OR operation."},{"pos":[4383,4468],"content":"<bpt id=\"p1\">**</bpt>✓ CONSIDER<ept id=\"p1\">**</ept> providing special enum values for commonly used combinations of flags.","source":"**✓ CONSIDER** providing special enum values for commonly used combinations of flags."},{"content":"Bitwise operations are an advanced concept and should not be required for simple tasks.","pos":[4475,4562]},{"content":"<ph id=\"ph1\">&lt;xref:System.IO.FileAccess.ReadWrite&gt;</ph> is an example of such a special value.","pos":[4563,4639],"source":"<xref:System.IO.FileAccess.ReadWrite> is an example of such a special value."},{"pos":[4646,4727],"content":"<bpt id=\"p1\">**</bpt>X AVOID<ept id=\"p1\">**</ept> creating flag enums where certain combinations of values are invalid.","source":"**X AVOID** creating flag enums where certain combinations of values are invalid."},{"pos":[4734,4893],"content":"<bpt id=\"p1\">**</bpt>X AVOID<ept id=\"p1\">**</ept> using flag enum values of zero unless the value represents \"all flags are cleared\" and is named appropriately, as prescribed by the next guideline.","source":"**X AVOID** using flag enum values of zero unless the value represents \"all flags are cleared\" and is named appropriately, as prescribed by the next guideline."},{"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> name the zero value of flag enums <ph id=\"ph1\">`None`</ph>.","pos":[4900,4950],"source":"**✓ DO** name the zero value of flag enums `None`."},{"content":"For a flag enum, the value must always mean \"all flags are cleared.\"","pos":[4951,5019]},{"pos":[5057,5078],"content":"Adding Value to Enums","linkify":"Adding Value to Enums","nodes":[{"content":"Adding Value to Enums","pos":[0,21]}]},{"content":"It is very common to discover that you need to add values to an enum after you have already shipped it.","pos":[5082,5185]},{"content":"There is a potential application compatibility problem when the newly added value is returned from an existing API, because poorly written applications might not handle the new value correctly.","pos":[5186,5379]},{"pos":[5386,5460],"content":"<bpt id=\"p1\">**</bpt>✓ CONSIDER<ept id=\"p1\">**</ept> adding values to enums, despite a small compatibility risk.","source":"**✓ CONSIDER** adding values to enums, despite a small compatibility risk."},{"content":"If you have real data about application incompatibilities caused by additions to an enum, consider adding a new API that returns the new and old values, and deprecate the old API, which should continue returning just the old values.","pos":[5467,5699]},{"content":"This will ensure that your existing applications remain compatible.","pos":[5700,5767]},{"pos":[5774,5841],"content":"<bpt id=\"p1\">*</bpt>Portions © 2005, 2009 Microsoft Corporation. All rights reserved.<ept id=\"p1\">*</ept>","source":"*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*"},{"pos":[5848,6253],"content":"<bpt id=\"p1\">*</bpt>Reprinted by permission of Pearson Education, Inc. from <bpt id=\"p2\">[</bpt>Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition<ept id=\"p2\">](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619)</ept> by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.<ept id=\"p1\">*</ept>","source":"*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*"},{"pos":[6262,6270],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6274,6348],"content":"<bpt id=\"p1\">[</bpt>Type Design Guidelines<ept id=\"p1\">](../../../docs/standard/design-guidelines/type.md)</ept>","source":"[Type Design Guidelines](../../../docs/standard/design-guidelines/type.md)"},{"pos":[6351,6431],"content":"<bpt id=\"p1\">[</bpt>Framework Design Guidelines<ept id=\"p1\">](../../../docs/standard/design-guidelines/index.md)</ept>","source":"[Framework Design Guidelines](../../../docs/standard/design-guidelines/index.md)"}]}