{"content":"---\ntitle: \"Addressing\"\nms.date: \"03/30/2017\"\nms.assetid: d438e6f2-d0f3-43aa-b259-b51b5bda2e64\n---\n# Addressing\nThe Addressing sample demonstrates various aspects and features of endpoint addresses. The sample is based on the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md). In this sample the service is self-hosted. Both the service and the client are console applications. The service defines multiple endpoints using a combination of relative and absolute endpoint addresses.  \n  \n> [!NOTE]\n>  The setup procedure and build instructions for this sample are located at the end of this topic.  \n  \n The service configuration file specifies a base address and four endpoints. The base address is specified using the add element, under service/host/baseAddresses as demonstrated in the following sample configuration.  \n  \n```xml  \n<service name=\"Microsoft.ServiceModel.Samples.CalculatorService\"  \n         behaviorConfiguration=\"CalculatorServiceBehavior\">  \n  <host>  \n    <baseAddresses>  \n      <add baseAddress=\"http://localhost:8000/ServiceModelSamples/service\" />  \n    </baseAddresses>  \n  </host>  \n</service>  \n```  \n  \n The first endpoint definition shown in the following sample configuration specifies a relative address, which means the endpoint address is a combination of the base address and the relative address following the rules of URI composition.  \n  \n```xml\n<!-- Empty relative address specified:   \n     use the base address provided by the host. -->  \n<!-- The endpoint address is  \n     http://localhost:8000/ServiceModelSamples/service. -->  \n<endpoint address=\"\"  \n          binding=\"wsHttpBinding\"  \n          contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />  \n```  \n  \n In this case, the relative address is empty (\"\"), so the endpoint address is the same as the base address. The actual endpoint address is `http://localhost:8000/servicemodelsamples/service`.\n  \n The second endpoint definition also specifies a relative address, as shown in the following sample configuration.  \n  \n```xml  \n<!-- The relative address specified: use the base address -->  \n<!-- provided by the host + path. The endpoint address is -->  \n<!-- http://localhost:8000/servicemodelsamples/service/test. -->  \n<endpoint address=\"/test\"  \n          binding=\"wsHttpBinding\"  \n          contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />  \n```  \n  \n The relative address, \"test\", is appended to the base address. The actual endpoint address is `http://localhost:8000/servicemodelsamples/service/test`.\n  \n The third endpoint definition specifies an absolute address, as shown in the following sample configuration.  \n  \n```xml  \n<endpoint address=\"http://localhost:8001/hello/servicemodelsamples\"  \n          binding=\"wsHttpBinding\"  \n          contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />  \n```  \n  \n The base address plays no role in the address. The actual endpoint address is `http://localhost:8001/hello/servicemodelsamples`.\n  \n The fourth endpoint address specifies an absolute address and a different transportâ€”TCP. The base address plays no role in the address. The actual endpoint address is `net.tcp://localhost:9000/servicemodelsamples/service`.\n  \n```xml  \n<!-- The absolute address specified, different transport: -->  \n<!-- use the specified address, and ignore the base address. -->  \n<!-- The endpoint address is -->  \n<!-- net.tcp://localhost:9000/servicemodelsamples/service. -->  \n<endpoint address=  \n          \"net.tcp://localhost:9000/servicemodelsamples/service\"  \n          binding=\"netTcpBinding\"  \n          contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />  \n</service>  \n```  \n  \n The client accesses just one of the four service endpoints, but all four are defined in its configuration file. The client selects an endpoint when it creates the `CalculatorProxy` object. By changing the configuration name from `CalculatorEndpoint1` through `CalculatorEndpoint4`, you can exercise each of the endpoints.  \n  \n When you run the sample, the service enumerates the address, binding name and contract name for each of its endpoints. The metadata exchange (MEX) endpoint is just another endpoint from the ServiceHost's perspective so it shows up in the list.  \n  \n```  \nService endpoints:  \nEndpoint - address:  http://localhost:8000/ServiceModelSamples/service  \n           binding:  WSHttpBinding  \n           contract: ICalculator  \nEndpoint - address:  http://localhost:8000/ServiceModelSamples/service/test  \n           binding:  WSHttpBinding  \n           contract: ICalculator  \nEndpoint - address:  http://localhost:8001/hello/servicemodelsamples  \n           binding:  WSHttpBinding  \n           contract: ICalculator  \nEndpoint - address:  net.tcp://localhost:9000/servicemodelsamples/service  \n           binding:  NetTcpBinding  \n           contract: ICalculator  \nEndpoint - address:  http://localhost:8000/ServiceModelSamples/service/mex  \n           binding:  MetadataExchangeHttpBinding  \n           contract: IMetadataExchange  \n  \nThe service is ready.  \nPress <ENTER> to terminate service.  \n```  \n  \n When you run the client, the operation requests and responses are displayed in both the service and client console windows. Press ENTER in each console window to shut down the service and client.  \n  \n```  \nAdd(100,15.99) = 115.99  \nSubtract(145,76.54) = 68.46  \nMultiply(9,81.25) = 731.25  \nDivide(22,7) = 3.14285714285714  \n  \nPress <ENTER> to terminate client.  \n```  \n  \n### To set up, build, and run the sample  \n  \n1.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n3.  To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n    > [!NOTE]\n    >  If you use Svcutil.exe to regenerate the configuration for this sample, be sure to modify the endpoint name in the client configuration to match the client code.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Services\\Addressing`  \n","nodes":[{"pos":[4,94],"embed":true,"restype":"x-metadata","content":"title: \"Addressing\"\nms.date: \"03/30/2017\"\nms.assetid: d438e6f2-d0f3-43aa-b259-b51b5bda2e64","nodes":[{"content":"Addressing","nodes":[{"pos":[0,10],"content":"Addressing","nodes":[{"content":"Addressing","pos":[0,10]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[101,111],"content":"Addressing","linkify":"Addressing","nodes":[{"content":"Addressing","pos":[0,10]}]},{"content":"The Addressing sample demonstrates various aspects and features of endpoint addresses.","pos":[112,198]},{"content":"The sample is based on the <bpt id=\"p1\">[</bpt>Getting Started<ept id=\"p1\">](../../../../docs/framework/wcf/samples/getting-started-sample.md)</ept>.","pos":[199,310],"source":" The sample is based on the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md)."},{"content":"In this sample the service is self-hosted.","pos":[311,353]},{"content":"Both the service and the client are console applications.","pos":[354,411]},{"content":"The service defines multiple endpoints using a combination of relative and absolute endpoint addresses.","pos":[412,515]},{"pos":[523,630],"content":"[!NOTE]\n The setup procedure and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The setup procedure and build instructions for this sample are located at the end of this topic.","pos":[9,105]}]},{"content":"The service configuration file specifies a base address and four endpoints.","pos":[637,712]},{"content":"The base address is specified using the add element, under service/host/baseAddresses as demonstrated in the following sample configuration.","pos":[713,853]},{"content":"The first endpoint definition shown in the following sample configuration specifies a relative address, which means the endpoint address is a combination of the base address and the relative address following the rules of URI composition.","pos":[1168,1406]},{"content":"In this case, the relative address is empty (\"\"), so the endpoint address is the same as the base address.","pos":[1746,1852]},{"content":"The actual endpoint address is <ph id=\"ph1\">`http://localhost:8000/servicemodelsamples/service`</ph>.","pos":[1853,1936],"source":" The actual endpoint address is `http://localhost:8000/servicemodelsamples/service`."},{"content":"The second endpoint definition also specifies a relative address, as shown in the following sample configuration.","pos":[1941,2054]},{"content":"The relative address, \"test\", is appended to the base address.","pos":[2407,2469]},{"content":"The actual endpoint address is <ph id=\"ph1\">`http://localhost:8000/servicemodelsamples/service/test`</ph>.","pos":[2470,2558],"source":" The actual endpoint address is `http://localhost:8000/servicemodelsamples/service/test`."},{"content":"The third endpoint definition specifies an absolute address, as shown in the following sample configuration.","pos":[2563,2671]},{"content":"The base address plays no role in the address.","pos":[2871,2917]},{"content":"The actual endpoint address is <ph id=\"ph1\">`http://localhost:8001/hello/servicemodelsamples`</ph>.","pos":[2918,2999],"source":" The actual endpoint address is `http://localhost:8001/hello/servicemodelsamples`."},{"content":"The fourth endpoint address specifies an absolute address and a different transportâ€”TCP.","pos":[3004,3092]},{"content":"The base address plays no role in the address.","pos":[3093,3139]},{"content":"The actual endpoint address is <ph id=\"ph1\">`net.tcp://localhost:9000/servicemodelsamples/service`</ph>.","pos":[3140,3226],"source":" The actual endpoint address is `net.tcp://localhost:9000/servicemodelsamples/service`."},{"content":"The client accesses just one of the four service endpoints, but all four are defined in its configuration file.","pos":[3686,3797]},{"content":"The client selects an endpoint when it creates the <ph id=\"ph1\">`CalculatorProxy`</ph> object.","pos":[3798,3874],"source":" The client selects an endpoint when it creates the `CalculatorProxy` object."},{"content":"By changing the configuration name from <ph id=\"ph1\">`CalculatorEndpoint1`</ph> through <ph id=\"ph2\">`CalculatorEndpoint4`</ph>, you can exercise each of the endpoints.","pos":[3875,4007],"source":" By changing the configuration name from `CalculatorEndpoint1` through `CalculatorEndpoint4`, you can exercise each of the endpoints."},{"content":"When you run the sample, the service enumerates the address, binding name and contract name for each of its endpoints.","pos":[4014,4132]},{"content":"The metadata exchange (MEX) endpoint is just another endpoint from the ServiceHost's perspective so it shows up in the list.","pos":[4133,4257]},{"content":"When you run the client, the operation requests and responses are displayed in both the service and client console windows.","pos":[5120,5243]},{"content":"Press ENTER in each console window to shut down the service and client.","pos":[5244,5315]},{"pos":[5499,5535],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[5545,5744],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[5754,5963],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[5973,6181],"content":"To run the sample in a single- or cross-machine configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[6193,6369],"content":"[!NOTE]\nIf you use Svcutil.exe to regenerate the configuration for this sample, be sure to modify the endpoint name in the client configuration to match the client code.","leadings":["","    >  "],"nodes":[{"content":"If you use Svcutil.exe to regenerate the configuration for this sample, be sure to modify the endpoint name in the client configuration to match the client code.","pos":[8,169]}]},{"pos":[6377,6509],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[6563,6873],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[6874,6924]}]}