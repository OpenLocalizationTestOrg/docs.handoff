{"content":"---\ntitle: \"How to: Disable Secure Sessions on a WSFederationHttpBinding | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"WCF, federation\"\n  - \"federation\"\nms.assetid: 675fa143-6a4e-4be3-8afc-673334ab55ec\ncaps.latest.revision: 16\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"\n---\n# How to: Disable Secure Sessions on a WSFederationHttpBinding\nSome services may require federated credentials but not support secure sessions. In that case, you must disable the secure session feature. Unlike the <<!--zz xref:System.ServiceModel.WsHttpBinding --> `xref:System.ServiceModel.WsHttpBinding`>, the <xref:System.ServiceModel.WSFederationHttpBinding> class does not provide a way to disable secure sessions when communicating with a service. Instead, you must create a custom binding that replaces the secure session settings with a bootstrap.  \n  \n This topic demonstrates how to modify the binding elements contained within a <xref:System.ServiceModel.WSFederationHttpBinding> to create a custom binding. The result is identical to the <xref:System.ServiceModel.WSFederationHttpBinding> except that it does not use secure sessions.  \n  \n### To create a custom federated binding without secure session  \n  \n1.  Create an instance of the <xref:System.ServiceModel.WSFederationHttpBinding> class either imperatively in code or by loading one from the configuration file.  \n  \n2.  Clone the <xref:System.ServiceModel.WSFederationHttpBinding> into a <xref:System.ServiceModel.Channels.CustomBinding>.  \n  \n3.  Find the <xref:System.ServiceModel.Channels.SecurityBindingElement> in the <xref:System.ServiceModel.Channels.CustomBinding>.  \n  \n4.  Find the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters> in the <xref:System.ServiceModel.Channels.SecurityBindingElement>.  \n  \n5.  Replace the original <xref:System.ServiceModel.Channels.SecurityBindingElement> with the bootstrap security binding element from the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters>.  \n  \n## Example  \n This following example creates a custom federated binding without secure session.  \n  \n [!code-csharp[c_CustomFederationBinding#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customfederationbinding/cs/c_customfederationbinding.cs#0)]\n [!code-vb[c_CustomFederationBinding#0](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customfederationbinding/vb/c_customfederationbinding.vb#0)]  \n  \n## Compiling the Code  \n  \n-   To compile the code example, create a project that references the System.ServiceModel.dll assembly.  \n  \n## See Also  \n [Bindings and Security](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)","nodes":[{"pos":[12,89],"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding | Microsoft Docs","pos":[0,77]}]},{"pos":[460,520],"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding","linkify":"How to: Disable Secure Sessions on a WSFederationHttpBinding","nodes":[{"content":"How to: Disable Secure Sessions on a WSFederationHttpBinding","pos":[0,60]}]},{"content":"Some services may require federated credentials but not support secure sessions.","pos":[521,601]},{"content":"In that case, you must disable the secure session feature.","pos":[602,660]},{"content":"Unlike the &lt;<ph id=\"ph1\">&lt;!--zz xref:System.ServiceModel.WsHttpBinding --&gt;</ph> <ph id=\"ph2\">`xref:System.ServiceModel.WsHttpBinding`</ph>&gt;, the <ph id=\"ph3\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> class does not provide a way to disable secure sessions when communicating with a service.","pos":[661,911],"source":" Unlike the <<!--zz xref:System.ServiceModel.WsHttpBinding --> `xref:System.ServiceModel.WsHttpBinding`>, the <xref:System.ServiceModel.WSFederationHttpBinding> class does not provide a way to disable secure sessions when communicating with a service."},{"content":"Instead, you must create a custom binding that replaces the secure session settings with a bootstrap.","pos":[912,1013]},{"content":"This topic demonstrates how to modify the binding elements contained within a <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> to create a custom binding.","pos":[1020,1176],"source":"This topic demonstrates how to modify the binding elements contained within a <xref:System.ServiceModel.WSFederationHttpBinding> to create a custom binding."},{"content":"The result is identical to the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> except that it does not use secure sessions.","pos":[1177,1303],"source":" The result is identical to the <xref:System.ServiceModel.WSFederationHttpBinding> except that it does not use secure sessions."},{"pos":[1313,1372],"content":"To create a custom federated binding without secure session","linkify":"To create a custom federated binding without secure session","nodes":[{"content":"To create a custom federated binding without secure session","pos":[0,59]}]},{"content":"Create an instance of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> class either imperatively in code or by loading one from the configuration file.","pos":[1382,1539],"source":"Create an instance of the <xref:System.ServiceModel.WSFederationHttpBinding> class either imperatively in code or by loading one from the configuration file."},{"content":"Clone the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> into a <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.CustomBinding&gt;</ph>.","pos":[1549,1667],"source":"Clone the <xref:System.ServiceModel.WSFederationHttpBinding> into a <xref:System.ServiceModel.Channels.CustomBinding>."},{"content":"Find the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.SecurityBindingElement&gt;</ph> in the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.CustomBinding&gt;</ph>.","pos":[1677,1802],"source":"Find the <xref:System.ServiceModel.Channels.SecurityBindingElement> in the <xref:System.ServiceModel.Channels.CustomBinding>."},{"content":"Find the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters&gt;</ph> in the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.SecurityBindingElement&gt;</ph>.","pos":[1812,1972],"source":"Find the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters> in the <xref:System.ServiceModel.Channels.SecurityBindingElement>."},{"content":"Replace the original <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.SecurityBindingElement&gt;</ph> with the bootstrap security binding element from the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters&gt;</ph>.","pos":[1982,2200],"source":"Replace the original <xref:System.ServiceModel.Channels.SecurityBindingElement> with the bootstrap security binding element from the <xref:System.ServiceModel.Security.Tokens.SecureConversationSecurityTokenParameters>."},{"pos":[2209,2216],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"This following example creates a custom federated binding without secure session.","pos":[2220,2301]},{"pos":[2308,2623],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>c_CustomFederationBinding#0<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customfederationbinding/cs/c_customfederationbinding.cs#0)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>c_CustomFederationBinding#0<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customfederationbinding/vb/c_customfederationbinding.vb#0)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[c_CustomFederationBinding#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customfederationbinding/cs/c_customfederationbinding.cs#0)]\n [!code-vb[c_CustomFederationBinding#0](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customfederationbinding/vb/c_customfederationbinding.vb#0)]"},{"pos":[2632,2650],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"content":"To compile the code example, create a project that references the System.ServiceModel.dll assembly.","pos":[2660,2759]},{"pos":[2768,2776],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[2780,2876],"content":"<bpt id=\"p1\">[</bpt>Bindings and Security<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)</ept>","source":"[Bindings and Security](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)"}]}