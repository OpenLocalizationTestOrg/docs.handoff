{"content":"---\ntitle: \"Method-Based Query Syntax Examples: Navigating Relationships | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: a0bfa4b1-99e5-4dd1-9912-4b825a9dc25c\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# Method-Based Query Syntax Examples: Navigating Relationships\nNavigation properties in the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)] are shortcut properties used to locate the entities at the ends of an association. Navigation properties allow a user to navigate from one entity to another, or from one entity to related entities through an association set. This topic provides examples in method-based query syntax of how to navigate relationships through navigation properties in [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] queries.  \n  \n The AdventureWorks Sales Model used in these examples is built from the Contact, Address, Product, SalesOrderHeader, and SalesOrderDetail tables in the AdventureWorks sample database.  \n  \n The examples in this topic use the following `using`/`Imports` statements:  \n  \n [!code-csharp[DP L2E Examples#ImportsUsing](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#importsusing)]\n [!code-vb[DP L2E Examples#ImportsUsing](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#importsusing)]  \n  \n## Example  \n The following example in method-based query syntax uses the <xref:System.Linq.Queryable.SelectMany%2A> method to get all the orders of the contacts whose last name is \"Zhou\". The `Contact.SalesOrderHeader` navigation property is used to get the collection of `SalesOrderHeader` objects for each contact.  \n  \n [!code-csharp[DP L2E Examples#SelectEachContactsOrders_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders_mq)]\n [!code-vb[DP L2E Examples#SelectEachContactsOrders_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders_mq)]  \n  \n## Example  \n The following example in method-based query syntax uses the <xref:System.Linq.Queryable.Select%2A> method to get all the contact IDs and the sum of the total due for each contact whose last name is \"Zhou\". The `Contact.SalesOrderHeader` navigation property is used to get the collection of `SalesOrderHeader` objects for each contact. The `Sum` method uses the `Contact.SalesOrderHeader` navigation property to sum the total due of all the orders for each contact.  \n  \n [!code-csharp[DP L2E Examples#SelectEachContactsOrders2_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders2_mq)]\n [!code-vb[DP L2E Examples#SelectEachContactsOrders2_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders2_mq)]  \n  \n## Example  \n The following example in method-based query syntax gets all the orders of the contacts whose last name is \"Zhou\". The `Contact.SalesOrderHeader` navigation property is used to get the collection of `SalesOrderHeader` objects for each contact. The contact's name and orders are returned in an anonymous type.  \n  \n [!code-csharp[DP L2E Examples#SelectEachContactsOrders3_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders3_mq)]\n [!code-vb[DP L2E Examples#SelectEachContactsOrders3_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders3_mq)]  \n  \n## Example  \n The following example uses the `SalesOrderHeader.Address` and `SalesOrderHeader.Contact` navigation properties to get the collection of `Address` and `Contact` objects associated with each order. The last name of the contact, the street address, the sales order number, and the total due for each order to the city of Seattle are returned in an anonymous type.  \n  \n [!code-csharp[DP L2E Examples#GetOrderInfoThruRelationships_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#getorderinfothrurelationships_mq)]\n [!code-vb[DP L2E Examples#GetOrderInfoThruRelationships_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#getorderinfothrurelationships_mq)]  \n  \n## Example  \n The following example uses the `Where` method to find orders that were made after December 1, 2003, and then uses the `order.SalesOrderDetail` navigation property to get the details for each order.  \n  \n [!code-csharp[DP L2E Examples#WhereNavProperty](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#wherenavproperty)]\n [!code-vb[DP L2E Examples#WhereNavProperty](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#wherenavproperty)]  \n  \n## See Also  \n [Navigation Properties](http://msdn.microsoft.com/en-us/41e1e6b9-8a57-467d-99d9-1857d2ca2ea5)   \n [Queries in LINQ to Entities](../../../../../../docs/framework/data/adonet/ef/language-reference/queries-in-linq-to-entities.md)","nodes":[{"pos":[4,435],"nodes":[{"content":"Method-Based Query Syntax Examples: Navigating Relationships | Microsoft Docs","nodes":[{"pos":[0,77],"content":"Method-Based Query Syntax Examples: Navigating Relationships | Microsoft Docs","nodes":[{"content":"Method-Based Query Syntax Examples: Navigating Relationships | Microsoft Docs","pos":[0,77]}]}],"pos":[6,86],"yaml":true}],"content":"title: \"Method-Based Query Syntax Examples: Navigating Relationships | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: a0bfa4b1-99e5-4dd1-9912-4b825a9dc25c\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[442,502],"content":"Method-Based Query Syntax Examples: Navigating Relationships","linkify":"Method-Based Query Syntax Examples: Navigating Relationships","nodes":[{"content":"Method-Based Query Syntax Examples: Navigating Relationships","pos":[0,60]}]},{"content":"Navigation properties in the <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]</ph> are shortcut properties used to locate the entities at the ends of an association.","pos":[503,680],"source":"Navigation properties in the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)] are shortcut properties used to locate the entities at the ends of an association."},{"content":"Navigation properties allow a user to navigate from one entity to another, or from one entity to related entities through an association set.","pos":[681,822]},{"content":"This topic provides examples in method-based query syntax of how to navigate relationships through navigation properties in <ph id=\"ph1\">[!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)]</ph> queries.","pos":[823,1029],"source":" This topic provides examples in method-based query syntax of how to navigate relationships through navigation properties in [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] queries."},{"content":"The AdventureWorks Sales Model used in these examples is built from the Contact, Address, Product, SalesOrderHeader, and SalesOrderDetail tables in the AdventureWorks sample database.","pos":[1036,1219]},{"pos":[1226,1300],"content":"The examples in this topic use the following <ph id=\"ph1\">`using`</ph><ph id=\"ph2\">/</ph><ph id=\"ph3\">`Imports`</ph> statements:","source":"The examples in this topic use the following `using`/`Imports` statements:"},{"pos":[1307,1604],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP L2E Examples#ImportsUsing<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#importsusing)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP L2E Examples#ImportsUsing<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#importsusing)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP L2E Examples#ImportsUsing](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#importsusing)]\n [!code-vb[DP L2E Examples#ImportsUsing](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#importsusing)]"},{"pos":[1613,1620],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example in method-based query syntax uses the <ph id=\"ph1\">&lt;xref:System.Linq.Queryable.SelectMany%2A&gt;</ph> method to get all the orders of the contacts whose last name is \"Zhou\".","pos":[1624,1798],"source":"The following example in method-based query syntax uses the <xref:System.Linq.Queryable.SelectMany%2A> method to get all the orders of the contacts whose last name is \"Zhou\"."},{"content":"The <ph id=\"ph1\">`Contact.SalesOrderHeader`</ph> navigation property is used to get the collection of <ph id=\"ph2\">`SalesOrderHeader`</ph> objects for each contact.","pos":[1799,1927],"source":" The `Contact.SalesOrderHeader` navigation property is used to get the collection of `SalesOrderHeader` objects for each contact."},{"pos":[1934,2291],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP L2E Examples#SelectEachContactsOrders_MQ<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders_mq)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP L2E Examples#SelectEachContactsOrders_MQ<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders_mq)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP L2E Examples#SelectEachContactsOrders_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders_mq)]\n [!code-vb[DP L2E Examples#SelectEachContactsOrders_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders_mq)]"},{"pos":[2300,2307],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example in method-based query syntax uses the <ph id=\"ph1\">&lt;xref:System.Linq.Queryable.Select%2A&gt;</ph> method to get all the contact IDs and the sum of the total due for each contact whose last name is \"Zhou\".","pos":[2311,2516],"source":"The following example in method-based query syntax uses the <xref:System.Linq.Queryable.Select%2A> method to get all the contact IDs and the sum of the total due for each contact whose last name is \"Zhou\"."},{"content":"The <ph id=\"ph1\">`Contact.SalesOrderHeader`</ph> navigation property is used to get the collection of <ph id=\"ph2\">`SalesOrderHeader`</ph> objects for each contact.","pos":[2517,2645],"source":" The `Contact.SalesOrderHeader` navigation property is used to get the collection of `SalesOrderHeader` objects for each contact."},{"content":"The <ph id=\"ph1\">`Sum`</ph> method uses the <ph id=\"ph2\">`Contact.SalesOrderHeader`</ph> navigation property to sum the total due of all the orders for each contact.","pos":[2646,2775],"source":" The `Sum` method uses the `Contact.SalesOrderHeader` navigation property to sum the total due of all the orders for each contact."},{"pos":[2782,3143],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP L2E Examples#SelectEachContactsOrders2_MQ<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders2_mq)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP L2E Examples#SelectEachContactsOrders2_MQ<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders2_mq)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP L2E Examples#SelectEachContactsOrders2_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders2_mq)]\n [!code-vb[DP L2E Examples#SelectEachContactsOrders2_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders2_mq)]"},{"pos":[3152,3159],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example in method-based query syntax gets all the orders of the contacts whose last name is \"Zhou\".","pos":[3163,3276]},{"content":"The <ph id=\"ph1\">`Contact.SalesOrderHeader`</ph> navigation property is used to get the collection of <ph id=\"ph2\">`SalesOrderHeader`</ph> objects for each contact.","pos":[3277,3405],"source":" The `Contact.SalesOrderHeader` navigation property is used to get the collection of `SalesOrderHeader` objects for each contact."},{"content":"The contact's name and orders are returned in an anonymous type.","pos":[3406,3470]},{"pos":[3477,3838],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP L2E Examples#SelectEachContactsOrders3_MQ<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders3_mq)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP L2E Examples#SelectEachContactsOrders3_MQ<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders3_mq)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP L2E Examples#SelectEachContactsOrders3_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#selecteachcontactsorders3_mq)]\n [!code-vb[DP L2E Examples#SelectEachContactsOrders3_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#selecteachcontactsorders3_mq)]"},{"pos":[3847,3854],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example uses the <ph id=\"ph1\">`SalesOrderHeader.Address`</ph> and <ph id=\"ph2\">`SalesOrderHeader.Contact`</ph> navigation properties to get the collection of <ph id=\"ph3\">`Address`</ph> and <ph id=\"ph4\">`Contact`</ph> objects associated with each order.","pos":[3858,4053],"source":"The following example uses the `SalesOrderHeader.Address` and `SalesOrderHeader.Contact` navigation properties to get the collection of `Address` and `Contact` objects associated with each order."},{"content":"The last name of the contact, the street address, the sales order number, and the total due for each order to the city of Seattle are returned in an anonymous type.","pos":[4054,4218]},{"pos":[4225,4602],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP L2E Examples#GetOrderInfoThruRelationships_MQ<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#getorderinfothrurelationships_mq)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP L2E Examples#GetOrderInfoThruRelationships_MQ<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#getorderinfothrurelationships_mq)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP L2E Examples#GetOrderInfoThruRelationships_MQ](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#getorderinfothrurelationships_mq)]\n [!code-vb[DP L2E Examples#GetOrderInfoThruRelationships_MQ](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#getorderinfothrurelationships_mq)]"},{"pos":[4611,4618],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4622,4819],"content":"The following example uses the <ph id=\"ph1\">`Where`</ph> method to find orders that were made after December 1, 2003, and then uses the <ph id=\"ph2\">`order.SalesOrderDetail`</ph> navigation property to get the details for each order.","source":"The following example uses the `Where` method to find orders that were made after December 1, 2003, and then uses the `order.SalesOrderDetail` navigation property to get the details for each order."},{"pos":[4826,5139],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP L2E Examples#WhereNavProperty<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#wherenavproperty)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP L2E Examples#WhereNavProperty<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#wherenavproperty)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP L2E Examples#WhereNavProperty](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#wherenavproperty)]\n [!code-vb[DP L2E Examples#WhereNavProperty](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#wherenavproperty)]"},{"pos":[5148,5156],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Navigation Properties<ept id=\"p1\">](http://msdn.microsoft.com/en-us/41e1e6b9-8a57-467d-99d9-1857d2ca2ea5)</ept><ph id=\"ph1\"> </ph>","pos":[5160,5254],"source":"[Navigation Properties](http://msdn.microsoft.com/en-us/41e1e6b9-8a57-467d-99d9-1857d2ca2ea5) "},{"content":"<bpt id=\"p1\">[</bpt>Queries in LINQ to Entities<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/queries-in-linq-to-entities.md)</ept>","pos":[5258,5386],"source":"[Queries in LINQ to Entities](../../../../../../docs/framework/data/adonet/ef/language-reference/queries-in-linq-to-entities.md)"}]}