{"content":"---\ntitle: \"Walkthrough: Inheriting from a Windows Forms Control with Visual C# | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"inheritance, custom controls\"\n  - \"inheritance, control\"\n  - \"Windows Forms controls, inheritance\"\n  - \"inheritance, walkthroughs\"\n  - \"custom controls [Windows Forms], inheritance\"\nms.assetid: 09476da0-8d4c-4a4c-b969-649519dfb438\ncaps.latest.revision: 17\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Walkthrough: Inheriting from a Windows Forms Control with Visual C# #\nWith [!INCLUDE[csprcslong](../../../../includes/csprcslong-md.md)], you can create powerful custom controls through *inheritance*. Through inheritance you are able to create controls that retain all of the inherent functionality of standard Windows Forms controls but also incorporate custom functionality. In this walkthrough, you will create a simple inherited control called `ValueButton`. This button will inherit functionality from the standard Windows Forms <xref:System.Windows.Forms.Button> control, and will expose a custom property called `ButtonValue`.  \n  \n> [!NOTE]\n>  The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  \n  \n## Creating the Project  \n When you create a new project, you specify its name in order to set the root namespace, assembly name, and project name, and to ensure that the default component will be in the correct namespace.  \n  \n#### To create the ValueButtonLib control library and the ValueButton control  \n  \n1.  On the **File** menu, point to **New** and then click **Project** to open the **New Project** dialog box.  \n  \n2.  Select the **Windows Forms Control Library** project template from the list of [!INCLUDE[csprcs](../../../../includes/csprcs-md.md)] Projects, and type `ValueButtonLib` in the **Name** box.  \n  \n     The project name, `ValueButtonLib`, is also assigned to the root namespace by default. The root namespace is used to qualify the names of components in the assembly. For example, if two assemblies provide components named `ValueButton`, you can specify your `ValueButton` component using `ValueButtonLib.ValueButton`. For more information, see [Namespaces](../../../csharp/programming-guide/namespaces/index.md).  \n  \n3.  In **Solution Explorer**, right-click **UserControl1.cs**, then choose **Rename** from the shortcut menu. Change the file name to `ValueButton.cs`. Click the **Yes** button when you are asked if you want to rename all references to the code element '`UserControl1`'.  \n  \n4.  In **Solution Explorer**, right-click **ValueButton.cs** and select **View Code**.  \n  \n5.  Locate the `class` statement line, `public partial class ValueButton`, and change the type from which this control inherits from <xref:System.Windows.Forms.UserControl> to <xref:System.Windows.Forms.Button>. This allows your inherited control to inherit all the functionality of the <xref:System.Windows.Forms.Button> control.  \n  \n6.  In **Solution Explorer**, open the **ValueButton.cs** node to display the designer-generated code file, **ValueButton.Designer.cs**. Open this file in the **Code Editor**.  \n  \n7.  Locate the `InitializeComponent` method and remove the line that assigns the <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A> property. This property does not exist in the <xref:System.Windows.Forms.Button> control.  \n  \n8.  From the **File** menu, choose **Save All** to save the project.  \n  \n    > [!NOTE]\n    >  A visual designer is no longer available. Because the <xref:System.Windows.Forms.Button> control does its own painting, you are unable to modify its appearance in the designer. Its visual representation will be exactly the same as that of the class it inherits from (that is, <xref:System.Windows.Forms.Button>) unless modified in the code. You can still add components, which have no UI elements, to the design surface.  \n  \n## Adding a Property to Your Inherited Control  \n One possible use of inherited Windows Forms controls is the creation of controls that are identical in look and feel of standard Windows Forms controls, but expose custom properties. In this section, you will add a property called `ButtonValue` to your control.  \n  \n#### To add the Value property  \n  \n1.  In **Solution Explorer**, right-click **ValueButton.cs**, and then click **View Code** from the shortcut menu.  \n  \n2.  Locate the `class` statement. Immediately after the `{`, type the following code:  \n  \n    ```csharp  \n    // Creates the private variable that will store the value of your   \n    // property.  \n    private int varValue;  \n    // Declares the property.  \n    public int ButtonValue  \n    {  \n       // Sets the method for retrieving the value of your property.  \n       get  \n       {  \n          return varValue;  \n       }  \n       // Sets the method for setting the value of your property.  \n       set  \n       {  \n          varValue = value;  \n       }  \n    }  \n    ```  \n  \n     This code sets the methods by which the `ButtonValue` property is stored and retrieved. The `get` statement sets the value returned to the value that is stored in the private variable `varValue`, and the `set` statement sets the value of the private variable by use of the `value` keyword.  \n  \n3.  From the **File** menu, choose **Save All** to save the project.  \n  \n## Testing Your Control  \n Controls are not stand-alone projects; they must be hosted in a container. In order to test your control, you must provide a test project for it to run in. You must also make your control accessible to the test project by building (compiling) it. In this section, you will build your control and test it in a Windows Form.  \n  \n#### To build your control  \n  \n1.  On the **Build** menu, click **Build Solution**.  \n  \n     The build should be successful with no compiler errors or warnings.  \n  \n#### To create a test project  \n  \n1.  On the **File** menu, point to **Add** and then click **New Project** to open the **Add New Project** dialog box.  \n  \n2.  Select the **Windows** node, beneath the **Visual C#** node, and click **Windows Forms Application**.  \n  \n3.  In the **Name** box, type `Test`.  \n  \n4.  In **Solution Explorer**, right-click the **References** node for your test project, then select **Add Reference** from the shortcut menu to display the **Add Reference** dialog box.  \n  \n5.  Click the tab labeled **Projects**. Your `ValueButtonLib` project will be listed under **Project Name**. Double-click the project to add the reference to the test project.  \n  \n6.  In **Solution Explorer,** right-click **Test** and select **Build**.  \n  \n#### To add your control to the form  \n  \n1.  In **Solution Explorer**, right-click **Form1.cs** and choose **View Designer** from the shortcut menu.  \n  \n2.  In the **Toolbox**, click **ValueButtonLib Components**. Double-click **ValueButton**.  \n  \n     A **ValueButton** appears on the form.  \n  \n3.  Right-click the **ValueButton** and select **Properties** from the shortcut menu.  \n  \n4.  In the **Properties** window, examine the properties of this control. Note that they are identical to the properties exposed by a standard button, except that there is an additional property, `ButtonValue`.  \n  \n5.  Set the `ButtonValue` property to `5`.  \n  \n6.  In the **All Windows Forms** tab of the **Toolbox**, double-click **Label** to add a <xref:System.Windows.Forms.Label> control to your form.  \n  \n7.  Relocate the label to the center of the form.  \n  \n8.  Double-click `valueButton1`.  \n  \n     The **Code Editor** opens to the `valueButton1_Click` event.  \n  \n9. Insert the following line of code.  \n  \n    ```csharp  \n    label1.Text = valueButton1.ButtonValue.ToString();  \n    ```  \n  \n10. In **Solution Explorer**, right-click **Test**, and choose **Set as Startup Project** from the shortcut menu.  \n  \n11. From the **Debug** menu, select **Start Debugging**.  \n  \n     `Form1` appears.  \n  \n12. Click `valueButton1`.  \n  \n     The numeral '5' is displayed in `label1`, demonstrating that the `ButtonValue` property of your inherited control has been passed to `label1` through the `valueButton1_Click` method. Thus your `ValueButton` control inherits all the functionality of the standard Windows Forms button, but exposes an additional, custom property.  \n  \n## See Also  \n [Programming with Components](http://msdn.microsoft.com/library/d4d4fcb4-e0b8-46b3-b679-7ee0026eb9e3)   \n [Component Authoring Walkthroughs](http://msdn.microsoft.com/library/c414cca9-2489-4208-8b38-954586d91c13)   \n [How to: Display a Control in the Choose Toolbox Items Dialog Box](../../../../docs/framework/winforms/controls/how-to-display-a-control-in-the-choose-toolbox-items-dialog-box.md)   \n [Walkthrough: Authoring a Composite Control with Visual C#](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-csharp.md)","nodes":[{"pos":[4,636],"nodes":[{"content":"Walkthrough: Inheriting from a Windows Forms Control with Visual C# | Microsoft Docs","nodes":[{"pos":[0,84],"content":"Walkthrough: Inheriting from a Windows Forms Control with Visual C# | Microsoft Docs","nodes":[{"content":"Walkthrough: Inheriting from a Windows Forms Control with Visual C# | Microsoft Docs","pos":[0,84]}]}],"pos":[6,93],"yaml":true}],"content":"title: \"Walkthrough: Inheriting from a Windows Forms Control with Visual C# | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"inheritance, custom controls\"\n  - \"inheritance, control\"\n  - \"Windows Forms controls, inheritance\"\n  - \"inheritance, walkthroughs\"\n  - \"custom controls [Windows Forms], inheritance\"\nms.assetid: 09476da0-8d4c-4a4c-b969-649519dfb438\ncaps.latest.revision: 17\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","yamlblock":true},{"pos":[643,710],"content":"Walkthrough: Inheriting from a Windows Forms Control with Visual C#","linkify":"Walkthrough: Inheriting from a Windows Forms Control with Visual C#","nodes":[{"content":"Walkthrough: Inheriting from a Windows Forms Control with Visual C#","pos":[0,67]}]},{"content":"With <ph id=\"ph1\">[!INCLUDE[csprcslong](../../../../includes/csprcslong-md.md)]</ph>, you can create powerful custom controls through <bpt id=\"p1\">*</bpt>inheritance<ept id=\"p1\">*</ept>.","pos":[713,843],"source":"With [!INCLUDE[csprcslong](../../../../includes/csprcslong-md.md)], you can create powerful custom controls through *inheritance*."},{"content":"Through inheritance you are able to create controls that retain all of the inherent functionality of standard Windows Forms controls but also incorporate custom functionality.","pos":[844,1019]},{"content":"In this walkthrough, you will create a simple inherited control called <ph id=\"ph1\">`ValueButton`</ph>.","pos":[1020,1105],"source":" In this walkthrough, you will create a simple inherited control called `ValueButton`."},{"content":"This button will inherit functionality from the standard Windows Forms <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Button&gt;</ph> control, and will expose a custom property called <ph id=\"ph2\">`ButtonValue`</ph>.","pos":[1106,1276],"source":" This button will inherit functionality from the standard Windows Forms <xref:System.Windows.Forms.Button> control, and will expose a custom property called `ButtonValue`."},{"pos":[1284,1660],"content":"[!NOTE]\n The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).","leadings":["","> "],"nodes":[{"content":"The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).","pos":[9,374],"nodes":[{"content":"The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition.","pos":[0,130]},{"content":"To change your settings, choose <bpt id=\"p1\">**</bpt>Import and Export Settings<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>Tools<ept id=\"p2\">**</ept> menu.","pos":[131,216],"source":" To change your settings, choose **Import and Export Settings** on the **Tools** menu."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Customizing Development Settings in Visual Studio<ept id=\"p1\">](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3)</ept>.","pos":[217,365],"source":" For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3)."}]}]},{"pos":[1669,1689],"content":"Creating the Project","linkify":"Creating the Project","nodes":[{"content":"Creating the Project","pos":[0,20]}]},{"content":"When you create a new project, you specify its name in order to set the root namespace, assembly name, and project name, and to ensure that the default component will be in the correct namespace.","pos":[1693,1888]},{"pos":[1899,1971],"content":"To create the ValueButtonLib control library and the ValueButton control","linkify":"To create the ValueButtonLib control library and the ValueButton control","nodes":[{"content":"To create the ValueButtonLib control library and the ValueButton control","pos":[0,72]}]},{"pos":[1981,2086],"content":"On the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, point to <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept> and then click <bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept> to open the <bpt id=\"p4\">**</bpt>New Project<ept id=\"p4\">**</ept> dialog box.","source":"On the **File** menu, point to **New** and then click **Project** to open the **New Project** dialog box."},{"pos":[2096,2285],"content":"Select the <bpt id=\"p1\">**</bpt>Windows Forms Control Library<ept id=\"p1\">**</ept> project template from the list of <ph id=\"ph1\">[!INCLUDE[csprcs](../../../../includes/csprcs-md.md)]</ph> Projects, and type <ph id=\"ph2\">`ValueButtonLib`</ph> in the <bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept> box.","source":"Select the **Windows Forms Control Library** project template from the list of [!INCLUDE[csprcs](../../../../includes/csprcs-md.md)] Projects, and type `ValueButtonLib` in the **Name** box."},{"content":"The project name, <ph id=\"ph1\">`ValueButtonLib`</ph>, is also assigned to the root namespace by default.","pos":[2296,2382],"source":"The project name, `ValueButtonLib`, is also assigned to the root namespace by default."},{"content":"The root namespace is used to qualify the names of components in the assembly.","pos":[2383,2461]},{"content":"For example, if two assemblies provide components named <ph id=\"ph1\">`ValueButton`</ph>, you can specify your <ph id=\"ph2\">`ValueButton`</ph> component using <ph id=\"ph3\">`ValueButtonLib.ValueButton`</ph>.","pos":[2462,2613],"source":" For example, if two assemblies provide components named `ValueButton`, you can specify your `ValueButton` component using `ValueButtonLib.ValueButton`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Namespaces<ept id=\"p1\">](../../../csharp/programming-guide/namespaces/index.md)</ept>.","pos":[2614,2708],"source":" For more information, see [Namespaces](../../../csharp/programming-guide/namespaces/index.md)."},{"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click <bpt id=\"p2\">**</bpt>UserControl1.cs<ept id=\"p2\">**</ept>, then choose <bpt id=\"p3\">**</bpt>Rename<ept id=\"p3\">**</ept> from the shortcut menu.","pos":[2718,2823],"source":"In **Solution Explorer**, right-click **UserControl1.cs**, then choose **Rename** from the shortcut menu."},{"content":"Change the file name to <ph id=\"ph1\">`ValueButton.cs`</ph>.","pos":[2824,2865],"source":" Change the file name to `ValueButton.cs`."},{"content":"Click the <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept> button when you are asked if you want to rename all references to the code element '<ph id=\"ph1\">`UserControl1`</ph>'.","pos":[2866,2984],"source":" Click the **Yes** button when you are asked if you want to rename all references to the code element '`UserControl1`'."},{"pos":[2994,3076],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click <bpt id=\"p2\">**</bpt>ValueButton.cs<ept id=\"p2\">**</ept> and select <bpt id=\"p3\">**</bpt>View Code<ept id=\"p3\">**</ept>.","source":"In **Solution Explorer**, right-click **ValueButton.cs** and select **View Code**."},{"content":"Locate the <ph id=\"ph1\">`class`</ph> statement line, <ph id=\"ph2\">`public partial class ValueButton`</ph>, and change the type from which this control inherits from <ph id=\"ph3\">&lt;xref:System.Windows.Forms.UserControl&gt;</ph> to <ph id=\"ph4\">&lt;xref:System.Windows.Forms.Button&gt;</ph>.","pos":[3086,3293],"source":"Locate the `class` statement line, `public partial class ValueButton`, and change the type from which this control inherits from <xref:System.Windows.Forms.UserControl> to <xref:System.Windows.Forms.Button>."},{"content":"This allows your inherited control to inherit all the functionality of the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Button&gt;</ph> control.","pos":[3294,3412],"source":" This allows your inherited control to inherit all the functionality of the <xref:System.Windows.Forms.Button> control."},{"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, open the <bpt id=\"p2\">**</bpt>ValueButton.cs<ept id=\"p2\">**</ept> node to display the designer-generated code file, <bpt id=\"p3\">**</bpt>ValueButton.Designer.cs<ept id=\"p3\">**</ept>.","pos":[3422,3554],"source":"In **Solution Explorer**, open the **ValueButton.cs** node to display the designer-generated code file, **ValueButton.Designer.cs**."},{"content":"Open this file in the <bpt id=\"p1\">**</bpt>Code Editor<ept id=\"p1\">**</ept>.","pos":[3555,3593],"source":" Open this file in the **Code Editor**."},{"content":"Locate the <ph id=\"ph1\">`InitializeComponent`</ph> method and remove the line that assigns the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A&gt;</ph> property.","pos":[3603,3751],"source":"Locate the `InitializeComponent` method and remove the line that assigns the <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A> property."},{"content":"This property does not exist in the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Button&gt;</ph> control.","pos":[3752,3831],"source":" This property does not exist in the <xref:System.Windows.Forms.Button> control."},{"pos":[3841,3905],"content":"From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, choose <bpt id=\"p2\">**</bpt>Save All<ept id=\"p2\">**</ept> to save the project.","source":"From the **File** menu, choose **Save All** to save the project."},{"pos":[3917,4352],"content":"[!NOTE]\nA visual designer is no longer available. Because the <xref:System.Windows.Forms.Button> control does its own painting, you are unable to modify its appearance in the designer. Its visual representation will be exactly the same as that of the class it inherits from (that is, <xref:System.Windows.Forms.Button>) unless modified in the code. You can still add components, which have no UI elements, to the design surface.","leadings":["","    >  "],"nodes":[{"content":"A visual designer is no longer available. Because the <xref:System.Windows.Forms.Button> control does its own painting, you are unable to modify its appearance in the designer. Its visual representation will be exactly the same as that of the class it inherits from (that is, <xref:System.Windows.Forms.Button>) unless modified in the code. You can still add components, which have no UI elements, to the design surface.","pos":[8,428],"nodes":[{"content":"A visual designer is no longer available.","pos":[0,41]},{"content":"Because the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Button&gt;</ph> control does its own painting, you are unable to modify its appearance in the designer.","pos":[42,176],"source":" Because the <xref:System.Windows.Forms.Button> control does its own painting, you are unable to modify its appearance in the designer."},{"content":"Its visual representation will be exactly the same as that of the class it inherits from (that is, <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Button&gt;</ph>) unless modified in the code.","pos":[177,340],"source":" Its visual representation will be exactly the same as that of the class it inherits from (that is, <xref:System.Windows.Forms.Button>) unless modified in the code."},{"content":"You can still add components, which have no UI elements, to the design surface.","pos":[341,420]}]}]},{"pos":[4361,4404],"content":"Adding a Property to Your Inherited Control","linkify":"Adding a Property to Your Inherited Control","nodes":[{"content":"Adding a Property to Your Inherited Control","pos":[0,43]}]},{"content":"One possible use of inherited Windows Forms controls is the creation of controls that are identical in look and feel of standard Windows Forms controls, but expose custom properties.","pos":[4408,4590]},{"content":"In this section, you will add a property called <ph id=\"ph1\">`ButtonValue`</ph> to your control.","pos":[4591,4669],"source":" In this section, you will add a property called `ButtonValue` to your control."},{"pos":[4680,4705],"content":"To add the Value property","linkify":"To add the Value property","nodes":[{"content":"To add the Value property","pos":[0,25]}]},{"pos":[4715,4825],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click <bpt id=\"p2\">**</bpt>ValueButton.cs<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>View Code<ept id=\"p3\">**</ept> from the shortcut menu.","source":"In **Solution Explorer**, right-click **ValueButton.cs**, and then click **View Code** from the shortcut menu."},{"content":"Locate the <ph id=\"ph1\">`class`</ph> statement.","pos":[4835,4864],"source":"Locate the `class` statement."},{"content":"Immediately after the <ph id=\"ph1\">`{`</ph>, type the following code:","pos":[4865,4916],"source":" Immediately after the `{`, type the following code:"},{"content":"This code sets the methods by which the <ph id=\"ph1\">`ButtonValue`</ph> property is stored and retrieved.","pos":[5421,5508],"source":"This code sets the methods by which the `ButtonValue` property is stored and retrieved."},{"content":"The <ph id=\"ph1\">`get`</ph> statement sets the value returned to the value that is stored in the private variable <ph id=\"ph2\">`varValue`</ph>, and the <ph id=\"ph3\">`set`</ph> statement sets the value of the private variable by use of the <ph id=\"ph4\">`value`</ph> keyword.","pos":[5509,5710],"source":" The `get` statement sets the value returned to the value that is stored in the private variable `varValue`, and the `set` statement sets the value of the private variable by use of the `value` keyword."},{"pos":[5720,5784],"content":"From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, choose <bpt id=\"p2\">**</bpt>Save All<ept id=\"p2\">**</ept> to save the project.","source":"From the **File** menu, choose **Save All** to save the project."},{"pos":[5793,5813],"content":"Testing Your Control","linkify":"Testing Your Control","nodes":[{"content":"Testing Your Control","pos":[0,20]}]},{"content":"Controls are not stand-alone projects; they must be hosted in a container.","pos":[5817,5891]},{"content":"In order to test your control, you must provide a test project for it to run in.","pos":[5892,5972]},{"content":"You must also make your control accessible to the test project by building (compiling) it.","pos":[5973,6063]},{"content":"In this section, you will build your control and test it in a Windows Form.","pos":[6064,6139]},{"pos":[6150,6171],"content":"To build your control","linkify":"To build your control","nodes":[{"content":"To build your control","pos":[0,21]}]},{"pos":[6181,6229],"content":"On the <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Build Solution<ept id=\"p2\">**</ept>.","source":"On the **Build** menu, click **Build Solution**."},{"content":"The build should be successful with no compiler errors or warnings.","pos":[6240,6307]},{"pos":[6318,6342],"content":"To create a test project","linkify":"To create a test project","nodes":[{"content":"To create a test project","pos":[0,24]}]},{"pos":[6352,6465],"content":"On the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, point to <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept> and then click <bpt id=\"p3\">**</bpt>New Project<ept id=\"p3\">**</ept> to open the <bpt id=\"p4\">**</bpt>Add New Project<ept id=\"p4\">**</ept> dialog box.","source":"On the **File** menu, point to **Add** and then click **New Project** to open the **Add New Project** dialog box."},{"pos":[6475,6576],"content":"Select the <bpt id=\"p1\">**</bpt>Windows<ept id=\"p1\">**</ept> node, beneath the <bpt id=\"p2\">**</bpt>Visual C#<ept id=\"p2\">**</ept> node, and click <bpt id=\"p3\">**</bpt>Windows Forms Application<ept id=\"p3\">**</ept>.","source":"Select the **Windows** node, beneath the **Visual C#** node, and click **Windows Forms Application**."},{"pos":[6586,6619],"content":"In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> box, type <ph id=\"ph1\">`Test`</ph>.","source":"In the **Name** box, type `Test`."},{"pos":[6629,6811],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <bpt id=\"p2\">**</bpt>References<ept id=\"p2\">**</ept> node for your test project, then select <bpt id=\"p3\">**</bpt>Add Reference<ept id=\"p3\">**</ept> from the shortcut menu to display the <bpt id=\"p4\">**</bpt>Add Reference<ept id=\"p4\">**</ept> dialog box.","source":"In **Solution Explorer**, right-click the **References** node for your test project, then select **Add Reference** from the shortcut menu to display the **Add Reference** dialog box."},{"content":"Click the tab labeled <bpt id=\"p1\">**</bpt>Projects<ept id=\"p1\">**</ept>.","pos":[6821,6856],"source":"Click the tab labeled **Projects**."},{"content":"Your <ph id=\"ph1\">`ValueButtonLib`</ph> project will be listed under <bpt id=\"p1\">**</bpt>Project Name<ept id=\"p1\">**</ept>.","pos":[6857,6925],"source":" Your `ValueButtonLib` project will be listed under **Project Name**."},{"content":"Double-click the project to add the reference to the test project.","pos":[6926,6992]},{"pos":[7002,7070],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer,<ept id=\"p1\">**</ept> right-click <bpt id=\"p2\">**</bpt>Test<ept id=\"p2\">**</ept> and select <bpt id=\"p3\">**</bpt>Build<ept id=\"p3\">**</ept>.","source":"In **Solution Explorer,** right-click **Test** and select **Build**."},{"pos":[7081,7112],"content":"To add your control to the form","linkify":"To add your control to the form","nodes":[{"content":"To add your control to the form","pos":[0,31]}]},{"pos":[7122,7225],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click <bpt id=\"p2\">**</bpt>Form1.cs<ept id=\"p2\">**</ept> and choose <bpt id=\"p3\">**</bpt>View Designer<ept id=\"p3\">**</ept> from the shortcut menu.","source":"In **Solution Explorer**, right-click **Form1.cs** and choose **View Designer** from the shortcut menu."},{"content":"In the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>ValueButtonLib Components<ept id=\"p2\">**</ept>.","pos":[7235,7291],"source":"In the **Toolbox**, click **ValueButtonLib Components**."},{"content":"Double-click <bpt id=\"p1\">**</bpt>ValueButton<ept id=\"p1\">**</ept>.","pos":[7292,7321],"source":" Double-click **ValueButton**."},{"pos":[7332,7370],"content":"A <bpt id=\"p1\">**</bpt>ValueButton<ept id=\"p1\">**</ept> appears on the form.","source":"A **ValueButton** appears on the form."},{"pos":[7380,7461],"content":"Right-click the <bpt id=\"p1\">**</bpt>ValueButton<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> from the shortcut menu.","source":"Right-click the **ValueButton** and select **Properties** from the shortcut menu."},{"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> window, examine the properties of this control.","pos":[7471,7540],"source":"In the **Properties** window, examine the properties of this control."},{"content":"Note that they are identical to the properties exposed by a standard button, except that there is an additional property, <ph id=\"ph1\">`ButtonValue`</ph>.","pos":[7541,7677],"source":" Note that they are identical to the properties exposed by a standard button, except that there is an additional property, `ButtonValue`."},{"pos":[7687,7725],"content":"Set the <ph id=\"ph1\">`ButtonValue`</ph> property to <ph id=\"ph2\">`5`</ph>.","source":"Set the `ButtonValue` property to `5`."},{"pos":[7735,7875],"content":"In the <bpt id=\"p1\">**</bpt>All Windows Forms<ept id=\"p1\">**</ept> tab of the <bpt id=\"p2\">**</bpt>Toolbox<ept id=\"p2\">**</ept>, double-click <bpt id=\"p3\">**</bpt>Label<ept id=\"p3\">**</ept> to add a <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Label&gt;</ph> control to your form.","source":"In the **All Windows Forms** tab of the **Toolbox**, double-click **Label** to add a <xref:System.Windows.Forms.Label> control to your form."},{"content":"Relocate the label to the center of the form.","pos":[7885,7930]},{"pos":[7940,7968],"content":"Double-click <ph id=\"ph1\">`valueButton1`</ph>.","source":"Double-click `valueButton1`."},{"pos":[7979,8039],"content":"The <bpt id=\"p1\">**</bpt>Code Editor<ept id=\"p1\">**</ept> opens to the <ph id=\"ph1\">`valueButton1_Click`</ph> event.","source":"The **Code Editor** opens to the `valueButton1_Click` event."},{"content":"Insert the following line of code.","pos":[8048,8082]},{"pos":[8178,8287],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click <bpt id=\"p2\">**</bpt>Test<ept id=\"p2\">**</ept>, and choose <bpt id=\"p3\">**</bpt>Set as Startup Project<ept id=\"p3\">**</ept> from the shortcut menu.","source":"In **Solution Explorer**, right-click **Test**, and choose **Set as Startup Project** from the shortcut menu."},{"pos":[8297,8349],"content":"From the <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> menu, select <bpt id=\"p2\">**</bpt>Start Debugging<ept id=\"p2\">**</ept>.","source":"From the **Debug** menu, select **Start Debugging**."},{"pos":[8360,8376],"content":"<ph id=\"ph1\">`Form1`</ph> appears.","source":"`Form1` appears."},{"pos":[8386,8407],"content":"Click <ph id=\"ph1\">`valueButton1`</ph>.","source":"Click `valueButton1`."},{"content":"The numeral '5' is displayed in <ph id=\"ph1\">`label1`</ph>, demonstrating that the <ph id=\"ph2\">`ButtonValue`</ph> property of your inherited control has been passed to <ph id=\"ph3\">`label1`</ph> through the <ph id=\"ph4\">`valueButton1_Click`</ph> method.","pos":[8418,8600],"source":"The numeral '5' is displayed in `label1`, demonstrating that the `ButtonValue` property of your inherited control has been passed to `label1` through the `valueButton1_Click` method."},{"content":"Thus your <ph id=\"ph1\">`ValueButton`</ph> control inherits all the functionality of the standard Windows Forms button, but exposes an additional, custom property.","pos":[8601,8745],"source":" Thus your `ValueButton` control inherits all the functionality of the standard Windows Forms button, but exposes an additional, custom property."},{"pos":[8754,8762],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Programming with Components<ept id=\"p1\">](http://msdn.microsoft.com/library/d4d4fcb4-e0b8-46b3-b679-7ee0026eb9e3)</ept><ph id=\"ph1\"> </ph>","pos":[8766,8868],"source":"[Programming with Components](http://msdn.microsoft.com/library/d4d4fcb4-e0b8-46b3-b679-7ee0026eb9e3) "},{"content":"<bpt id=\"p1\">[</bpt>Component Authoring Walkthroughs<ept id=\"p1\">](http://msdn.microsoft.com/library/c414cca9-2489-4208-8b38-954586d91c13)</ept><ph id=\"ph1\"> </ph>","pos":[8872,8979],"source":"[Component Authoring Walkthroughs](http://msdn.microsoft.com/library/c414cca9-2489-4208-8b38-954586d91c13) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Display a Control in the Choose Toolbox Items Dialog Box<ept id=\"p1\">](../../../../docs/framework/winforms/controls/how-to-display-a-control-in-the-choose-toolbox-items-dialog-box.md)</ept><ph id=\"ph1\"> </ph>","pos":[8983,9163],"source":"[How to: Display a Control in the Choose Toolbox Items Dialog Box](../../../../docs/framework/winforms/controls/how-to-display-a-control-in-the-choose-toolbox-items-dialog-box.md) "},{"content":"<bpt id=\"p1\">[</bpt>Walkthrough: Authoring a Composite Control with Visual C#<ept id=\"p1\">](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-csharp.md)</ept>","pos":[9167,9336],"source":"[Walkthrough: Authoring a Composite Control with Visual C#](../../../../docs/framework/winforms/controls/walkthrough-authoring-a-composite-control-with-visual-csharp.md)"}]}