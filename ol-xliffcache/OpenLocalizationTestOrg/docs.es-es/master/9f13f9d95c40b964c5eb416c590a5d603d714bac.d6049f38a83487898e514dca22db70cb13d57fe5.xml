{"content":"---\ntitle: \"Schema Import and Export\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"WCF, schema import and export\"\n  - \"XsdDataContractExporter class\"\n  - \"XsdDataContractImporter class\"\nms.assetid: 0da32b50-ccd9-463a-844c-7fe803d3bf44\n---\n# Schema Import and Export\nWindows Communication Foundation (WCF) includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>. The `DataContractSerializer` translates between [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] objects and XML (in both directions). In addition to the serializer itself, WCF includes associated schema import and schema export mechanisms. *Schema* is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access. WCF uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms.  \n  \n The schema import component, <xref:System.Runtime.Serialization.XsdDataContractImporter>, takes an XSD schema document and generates [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] classes (normally data contract classes) such that the serialized forms correspond to the given schema.  \n  \n For example, the following schema fragment:  \n  \n [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]\n [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  \n  \n generates the following type (simplified slightly for better readability).  \n  \n [!code-csharp[c_SchemaImportExport#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#1)]\n [!code-vb[c_SchemaImportExport#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#1)]  \n  \n Note that the generated type follows several data contract best practices (found in [Best Practices: Data Contract Versioning](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):  \n  \n-   The type implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface. For more information, see [Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).  \n  \n-   Data members are implemented as public properties that wrap private fields.  \n  \n-   The class is a partial class, and additions can be made without modifying generated code.  \n  \n The <xref:System.Runtime.Serialization.XsdDataContractExporter> enables you to do the reverse—take types that are serializable with the `DataContractSerializer` and generate an XSD Schema document.  \n  \n## Fidelity Is Not Guaranteed  \n It is not guaranteed that schema or types make a round trip with total fidelity. (A *round trip* means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned. Reversing the process is also not guaranteed to preserve fidelity. (Export a type to generate its schema, and then import the type back. It is unlikely the same type is returned.)  \n  \n## Supported Types  \n The data contract model supports only a limited subset of the WC3 schema. Any schema that does not conform to this subset will cause an exception during the import process. For example, there is no way to specify that a data member of a data contract should be serialized as an XML attribute. Thus, schemas that require the use of XML attributes are not supported and will cause exceptions during import, because it is impossible to generate a data contract with the correct XML projection.  \n  \n For example, the following schema fragment cannot be imported using the default import settings.  \n  \n [!code-xml[c_SchemaImportExport#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#9)]  \n  \n For more information, see [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md). If a schema does not conform to the data contract rules, use a different serialization engine. For example, the <xref:System.Xml.Serialization.XmlSerializer> uses its own separate schema import mechanism. Also, there is a special import mode in which the range of supported schema is expanded. For more information, see the section about generating <xref:System.Xml.Serialization.IXmlSerializable> types in [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).  \n  \n The `XsdDataContractExporter` supports any [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that can be serialized with the `DataContractSerializer`. For more information, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md). Note that schema generated using the `XsdDataContractExporter` is normally valid data that the `XsdDataContractImporter` can use (unless the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> is used to customize the schema).  \n  \n For more information about using the <xref:System.Runtime.Serialization.XsdDataContractImporter>, see [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).  \n  \n For more information about using the <xref:System.Runtime.Serialization.XsdDataContractExporter>, see [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md).  \n  \n## See also\n\n- <xref:System.Runtime.Serialization.DataContractSerializer>\n- <xref:System.Runtime.Serialization.XsdDataContractImporter>\n- <xref:System.Runtime.Serialization.XsdDataContractExporter>\n- [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)\n- [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)\n","nodes":[{"pos":[4,272],"embed":true,"restype":"x-metadata","content":"title: \"Schema Import and Export\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"WCF, schema import and export\"\n  - \"XsdDataContractExporter class\"\n  - \"XsdDataContractImporter class\"\nms.assetid: 0da32b50-ccd9-463a-844c-7fe803d3bf44","nodes":[{"content":"Schema Import and Export","nodes":[{"pos":[0,24],"content":"Schema Import and Export","nodes":[{"content":"Schema Import and Export","pos":[0,24]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[279,303],"content":"Schema Import and Export","linkify":"Schema Import and Export","nodes":[{"content":"Schema Import and Export","pos":[0,24]}]},{"content":"Windows Communication Foundation (WCF) includes a new serialization engine, the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph>.","pos":[304,443],"source":"Windows Communication Foundation (WCF) includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>."},{"content":"The <ph id=\"ph1\">`DataContractSerializer`</ph> translates between <ph id=\"ph2\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> objects and XML (in both directions).","pos":[444,593],"source":" The `DataContractSerializer` translates between [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] objects and XML (in both directions)."},{"content":"In addition to the serializer itself, WCF includes associated schema import and schema export mechanisms.","pos":[594,699]},{"content":"<bpt id=\"p1\">*</bpt>Schema<ept id=\"p1\">*</ept> is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access.","pos":[700,849],"source":"*Schema* is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access."},{"content":"WCF uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms.","pos":[850,1028]},{"pos":[1035,1335],"content":"The schema import component, <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractImporter&gt;</ph>, takes an XSD schema document and generates <ph id=\"ph2\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> classes (normally data contract classes) such that the serialized forms correspond to the given schema.","source":"The schema import component, <xref:System.Runtime.Serialization.XsdDataContractImporter>, takes an XSD schema document and generates [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] classes (normally data contract classes) such that the serialized forms correspond to the given schema."},{"content":"For example, the following schema fragment:","pos":[1342,1385]},{"content":"generates the following type (simplified slightly for better readability).","pos":[1656,1730]},{"pos":[2001,2204],"content":"Note that the generated type follows several data contract best practices (found in <bpt id=\"p1\">[</bpt>Best Practices: Data Contract Versioning<ept id=\"p1\">](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)</ept>):","source":"Note that the generated type follows several data contract best practices (found in [Best Practices: Data Contract Versioning](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):"},{"content":"The type implements the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.IExtensibleDataObject&gt;</ph> interface.","pos":[2214,2306],"source":"The type implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Forward-Compatible Data Contracts<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)</ept>.","pos":[2307,2454],"source":" For more information, see [Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)."},{"content":"Data members are implemented as public properties that wrap private fields.","pos":[2464,2539]},{"content":"The class is a partial class, and additions can be made without modifying generated code.","pos":[2549,2638]},{"pos":[2645,2842],"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractExporter&gt;</ph> enables you to do the reverse—take types that are serializable with the <ph id=\"ph2\">`DataContractSerializer`</ph> and generate an XSD Schema document.","source":"The <xref:System.Runtime.Serialization.XsdDataContractExporter> enables you to do the reverse—take types that are serializable with the `DataContractSerializer` and generate an XSD Schema document."},{"pos":[2851,2877],"content":"Fidelity Is Not Guaranteed","linkify":"Fidelity Is Not Guaranteed","nodes":[{"content":"Fidelity Is Not Guaranteed","pos":[0,26]}]},{"content":"It is not guaranteed that schema or types make a round trip with total fidelity.","pos":[2881,2961]},{"content":"(A <bpt id=\"p1\">*</bpt>round trip<ept id=\"p1\">*</ept> means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned.","pos":[2962,3116],"source":" (A *round trip* means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned."},{"content":"Reversing the process is also not guaranteed to preserve fidelity.","pos":[3117,3183]},{"content":"(Export a type to generate its schema, and then import the type back.","pos":[3184,3253]},{"content":"It is unlikely the same type is returned.)","pos":[3254,3296]},{"pos":[3305,3320],"content":"Supported Types","linkify":"Supported Types","nodes":[{"content":"Supported Types","pos":[0,15]}]},{"content":"The data contract model supports only a limited subset of the WC3 schema.","pos":[3324,3397]},{"content":"Any schema that does not conform to this subset will cause an exception during the import process.","pos":[3398,3496]},{"content":"For example, there is no way to specify that a data member of a data contract should be serialized as an XML attribute.","pos":[3497,3616]},{"content":"Thus, schemas that require the use of XML attributes are not supported and will cause exceptions during import, because it is impossible to generate a data contract with the correct XML projection.","pos":[3617,3814]},{"content":"For example, the following schema fragment cannot be imported using the default import settings.","pos":[3821,3917]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Data Contract Schema Reference<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)</ept>.","pos":[4063,4204],"source":"For more information, see [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)."},{"content":"If a schema does not conform to the data contract rules, use a different serialization engine.","pos":[4205,4299]},{"content":"For example, the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph> uses its own separate schema import mechanism.","pos":[4300,4409],"source":" For example, the <xref:System.Xml.Serialization.XmlSerializer> uses its own separate schema import mechanism."},{"content":"Also, there is a special import mode in which the range of supported schema is expanded.","pos":[4410,4498]},{"content":"For more information, see the section about generating <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.IXmlSerializable&gt;</ph> types in <bpt id=\"p1\">[</bpt>Importing Schema to Generate Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)</ept>.","pos":[4499,4739],"source":" For more information, see the section about generating <xref:System.Xml.Serialization.IXmlSerializable> types in [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)."},{"content":"The <ph id=\"ph1\">`XsdDataContractExporter`</ph> supports any <ph id=\"ph2\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> types that can be serialized with the <ph id=\"ph3\">`DataContractSerializer`</ph>.","pos":[4746,4916],"source":"The `XsdDataContractExporter` supports any [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that can be serialized with the `DataContractSerializer`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Types Supported by the Data Contract Serializer<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)</ept>.","pos":[4917,5092],"source":" For more information, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)."},{"content":"Note that schema generated using the <ph id=\"ph1\">`XsdDataContractExporter`</ph> is normally valid data that the <ph id=\"ph2\">`XsdDataContractImporter`</ph> can use (unless the <ph id=\"ph3\">&lt;xref:System.Xml.Serialization.XmlSchemaProviderAttribute&gt;</ph> is used to customize the schema).","pos":[5093,5326],"source":" Note that schema generated using the `XsdDataContractExporter` is normally valid data that the `XsdDataContractImporter` can use (unless the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> is used to customize the schema)."},{"pos":[5333,5562],"content":"For more information about using the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractImporter&gt;</ph>, see <bpt id=\"p1\">[</bpt>Importing Schema to Generate Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)</ept>.","source":"For more information about using the <xref:System.Runtime.Serialization.XsdDataContractImporter>, see [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)."},{"pos":[5569,5786],"content":"For more information about using the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractExporter&gt;</ph>, see <bpt id=\"p1\">[</bpt>Exporting Schemas from Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)</ept>.","source":"For more information about using the <xref:System.Runtime.Serialization.XsdDataContractExporter>, see [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)."},{"pos":[5795,5803],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5992,6118],"content":"<bpt id=\"p1\">[</bpt>Importing Schema to Generate Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)</ept>","source":"[Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)"},{"pos":[6121,6235],"content":"<bpt id=\"p1\">[</bpt>Exporting Schemas from Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)</ept>","source":"[Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)"}]}