{"content":"---\ntitle: \"Version-Tolerant Serialization Callbacks | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"OnDeserializedAttribute [WCF]\"\n  - \"OnDeserializingAttribute [WCF]\"\n  - \"OnSerializingAttribute [WCF]\"\n  - \"serialization [WCF], setting default values\"\n  - \"OnSerializedAttribute [WCF]\"\nms.assetid: aa4a3a6f-05ec-4efd-bdbf-2181e13e6468\ncaps.latest.revision: 17\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Version-Tolerant Serialization Callbacks\nThe data contract programming model fully supports the version-tolerant serialization callback methods that the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> classes support.  \n  \n## Version-Tolerant Attributes  \n There are four callback attributes. Each attribute can be applied to a method that the serialization/deserialization engine calls at various times. The table below explains when to use each attribute.  \n  \n|Attribute|When the corresponding method is called|  \n|---------------|---------------------------------------------|  \n|<xref:System.Runtime.Serialization.OnSerializingAttribute>|Called before serializing the type.|  \n|<xref:System.Runtime.Serialization.OnSerializedAttribute>|Called after serializing the type.|  \n|<xref:System.Runtime.Serialization.OnDeserializingAttribute>|Called before deserializing the type.|  \n|<xref:System.Runtime.Serialization.OnDeserializedAttribute>|Called after deserializing the type.|  \n  \n The methods must accept a <xref:System.Runtime.Serialization.StreamingContext> parameter.  \n  \n These methods are primarily intended for use with versioning or initialization. During deserialization, no constructors are called. Therefore, data members may not be correctly initialized (to intended default values) if the data for these members is missing in the incoming stream, for example, if the data comes from a previous version of a type that is missing some data members. To correct this, use the callback method marked with the <xref:System.Runtime.Serialization.OnDeserializingAttribute>, as shown in the following example.  \n  \n You can mark only one method per type with each of the preceding callback attributes.  \n  \n### Example  \n [!code-csharp[C_DataContract#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#9)]\n [!code-vb[C_DataContract#9](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#9)]  \n  \n## See Also  \n <xref:System.Runtime.Serialization.OnSerializingAttribute>   \n <xref:System.Runtime.Serialization.OnSerializedAttribute>   \n <xref:System.Runtime.Serialization.OnDeserializingAttribute>   \n <xref:System.Runtime.Serialization.OnDeserializedAttribute>   \n <xref:System.Runtime.Serialization.StreamingContext>   \n [Version Tolerant Serialization](../../../../docs/framework/serialization/version-tolerant-serialization.md)","nodes":[{"pos":[4,609],"nodes":[{"content":"Version-Tolerant Serialization Callbacks | Microsoft Docs","nodes":[{"pos":[0,57],"content":"Version-Tolerant Serialization Callbacks | Microsoft Docs","nodes":[{"content":"Version-Tolerant Serialization Callbacks | Microsoft Docs","pos":[0,57]}]}],"pos":[6,66],"yaml":true}],"content":"title: \"Version-Tolerant Serialization Callbacks | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"OnDeserializedAttribute [WCF]\"\n  - \"OnDeserializingAttribute [WCF]\"\n  - \"OnSerializingAttribute [WCF]\"\n  - \"serialization [WCF], setting default values\"\n  - \"OnSerializedAttribute [WCF]\"\nms.assetid: aa4a3a6f-05ec-4efd-bdbf-2181e13e6468\ncaps.latest.revision: 17\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","yamlblock":true},{"pos":[616,656],"content":"Version-Tolerant Serialization Callbacks","linkify":"Version-Tolerant Serialization Callbacks","nodes":[{"content":"Version-Tolerant Serialization Callbacks","pos":[0,40]}]},{"content":"The data contract programming model fully supports the version-tolerant serialization callback methods that the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter&gt;</ph> classes support.","pos":[657,925],"source":"The data contract programming model fully supports the version-tolerant serialization callback methods that the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> classes support."},{"pos":[934,961],"content":"Version-Tolerant Attributes","linkify":"Version-Tolerant Attributes","nodes":[{"content":"Version-Tolerant Attributes","pos":[0,27]}]},{"content":"There are four callback attributes.","pos":[965,1000]},{"content":"Each attribute can be applied to a method that the serialization/deserialization engine calls at various times.","pos":[1001,1112]},{"content":"The table below explains when to use each attribute.","pos":[1113,1165]},{"content":"Attribute","pos":[1172,1181]},{"content":"When the corresponding method is called","pos":[1182,1221]},{"content":"Called before serializing the type.","pos":[1351,1386]},{"content":"Called after serializing the type.","pos":[1449,1483]},{"content":"Called before deserializing the type.","pos":[1549,1586]},{"content":"Called after deserializing the type.","pos":[1651,1687]},{"content":"The methods must accept a <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.StreamingContext&gt;</ph> parameter.","pos":[1695,1784],"source":"The methods must accept a <xref:System.Runtime.Serialization.StreamingContext> parameter."},{"content":"These methods are primarily intended for use with versioning or initialization.","pos":[1791,1870]},{"content":"During deserialization, no constructors are called.","pos":[1871,1922]},{"content":"Therefore, data members may not be correctly initialized (to intended default values) if the data for these members is missing in the incoming stream, for example, if the data comes from a previous version of a type that is missing some data members.","pos":[1923,2173]},{"content":"To correct this, use the callback method marked with the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.OnDeserializingAttribute&gt;</ph>, as shown in the following example.","pos":[2174,2327],"source":" To correct this, use the callback method marked with the <xref:System.Runtime.Serialization.OnDeserializingAttribute>, as shown in the following example."},{"content":"You can mark only one method per type with each of the preceding callback attributes.","pos":[2334,2419]},{"pos":[2429,2436],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2440,2673],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>C_DataContract#9<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#9)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>C_DataContract#9<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#9)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[C_DataContract#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#9)]\n [!code-vb[C_DataContract#9](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#9)]"},{"pos":[2682,2690],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.OnSerializingAttribute&gt;</ph>","pos":[2694,2752],"source":"<xref:System.Runtime.Serialization.OnSerializingAttribute> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.OnSerializedAttribute&gt;</ph>","pos":[2757,2814],"source":"<xref:System.Runtime.Serialization.OnSerializedAttribute> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.OnDeserializingAttribute&gt;</ph>","pos":[2819,2879],"source":"<xref:System.Runtime.Serialization.OnDeserializingAttribute> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.OnDeserializedAttribute&gt;</ph>","pos":[2884,2943],"source":"<xref:System.Runtime.Serialization.OnDeserializedAttribute> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.StreamingContext&gt;</ph>","pos":[2948,3000],"source":"<xref:System.Runtime.Serialization.StreamingContext> "},{"content":"<bpt id=\"p1\">[</bpt>Version Tolerant Serialization<ept id=\"p1\">](../../../../docs/framework/serialization/version-tolerant-serialization.md)</ept>","pos":[3005,3113],"source":"[Version Tolerant Serialization](../../../../docs/framework/serialization/version-tolerant-serialization.md)"}]}