{"content":"---\ntitle: \"Using Data Contracts\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"DataContractAttribute class\"\n  - \"WCF, data\"\n  - \"data contracts [WCF]\"\nms.assetid: a3ae7b21-c15c-4c05-abd8-f483bcbf31af\n---\n# Using Data Contracts\nA *data contract* is a formal agreement between a service and a client that abstractly describes the data to be exchanged. That is, to communicate, the client and the service do not have to share the same types, only the same data contracts. A data contract precisely defines, for each parameter or return type, what data is serialized (turned into XML) to be exchanged.  \n  \n## Data Contract Basics  \n Windows Communication Foundation (WCF) uses a serialization engine called the Data Contract Serializer by default to serialize and deserialize data (convert it to and from XML). All [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] primitive types, such as integers and strings, as well as certain types treated as primitives, such as <xref:System.DateTime> and <xref:System.Xml.XmlElement>, can be serialized with no other preparation and are considered as having default data contracts. Many [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types also have existing data contracts. For a full list of serializable types, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).  \n  \n New complex types that you create must have a data contract defined for them to be serializable. By default, the <xref:System.Runtime.Serialization.DataContractSerializer> infers the data contract and serializes all publicly visible types. All public read/write properties and fields of the type are serialized. You can opt out members from serialization by using the <xref:System.Runtime.Serialization.IgnoreDataMemberAttribute>. You can also explicitly create a data contract by using <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes. This is normally done by applying the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the type. This attribute can be applied to classes, structures, and enumerations. The <xref:System.Runtime.Serialization.DataMemberAttribute> attribute must then be applied to each member of the data contract type to indicate that it is a *data member*, that is, it should be serialized. For more information, see [Serializable Types](../../../../docs/framework/wcf/feature-details/serializable-types.md).  \n  \n### Example  \n The following example shows a service contract (an interface) to which the <xref:System.ServiceModel.ServiceContractAttribute> and <xref:System.ServiceModel.OperationContractAttribute> attributes have been explicitly applied. The example shows that primitive types do not require a data contract, while a complex type does.  \n  \n [!code-csharp[C_DataContract#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#1)]\n [!code-vb[C_DataContract#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#1)]  \n  \n The following example shows how a data contract for the `MyTypes.PurchaseOrder` type is created by applying the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to the class and its members.  \n  \n [!code-csharp[C_DataContract#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#2)]\n [!code-vb[C_DataContract#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#2)]  \n  \n### Notes  \n The following notes provide items to consider when creating data contracts:  \n  \n-   The <xref:System.Runtime.Serialization.IgnoreDataMemberAttribute> attribute is only honored when used with unmarked types. This includes types that are not marked with one of the <xref:System.Runtime.Serialization.DataContractAttribute>, <xref:System.SerializableAttribute>, <xref:System.Runtime.Serialization.CollectionDataContractAttribute>, or <xref:System.Runtime.Serialization.EnumMemberAttribute> attributes, or marked as serializable by any other means (such as <xref:System.Xml.Serialization.IXmlSerializable>).  \n  \n-   You can apply the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to fields, and properties.  \n  \n-   Member accessibility levels (internal, private, protected, or public) do not affect the data contract in any way.  \n  \n-   The <xref:System.Runtime.Serialization.DataMemberAttribute> attribute is ignored if it is applied to static members.  \n  \n-   During serialization, property-get code is called for property data members to get the value of the properties to be serialized.  \n  \n-   During deserialization, an uninitialized object is first created, without calling any constructors on the type. Then all data members are deserialized.  \n  \n-   During deserialization, property-set code is called for property data members to set the properties to the value being deserialized.  \n  \n-   For a data contract to be valid, it must be possible to serialize all of its data members. For a full list of serializable types, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).  \n  \n     Generic types are handled in exactly the same way as non-generic types. There are no special requirements for generic parameters. For example, consider the following type.  \n  \n [!code-csharp[C_DataContract#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#3)]\n [!code-vb[C_DataContract#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#3)]  \n  \n This type is serializable whether the type used for the generic type parameter (`T`) is serializable or not. Because it must be possible to serialize all data members, the following type is serializable only if the generic type parameter is also serializable, as shown in the following code.  \n  \n [!code-csharp[C_DataContract#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#4)]\n [!code-vb[C_DataContract#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#4)]  \n  \n For a complete code sample of a WCF service that defines a data contract see the [Basic Data Contract](../../../../docs/framework/wcf/samples/basic-data-contract.md) sample.  \n  \n## See also\n\n- <xref:System.Runtime.Serialization.DataMemberAttribute>\n- <xref:System.Runtime.Serialization.DataContractAttribute>\n- [Serializable Types](../../../../docs/framework/wcf/feature-details/serializable-types.md)\n- [Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md)\n- [Data Contract Equivalence](../../../../docs/framework/wcf/feature-details/data-contract-equivalence.md)\n- [Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md)\n- [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)\n- [Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)\n- [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md)\n- [Version-Tolerant Serialization Callbacks](../../../../docs/framework/wcf/feature-details/version-tolerant-serialization-callbacks.md)\n- [Data Member Default Values](../../../../docs/framework/wcf/feature-details/data-member-default-values.md)\n- [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)\n- [How to: Create a Basic Data Contract for a Class or Structure](../../../../docs/framework/wcf/feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md)\n","nodes":[{"pos":[4,237],"embed":true,"restype":"x-metadata","content":"title: \"Using Data Contracts\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"DataContractAttribute class\"\n  - \"WCF, data\"\n  - \"data contracts [WCF]\"\nms.assetid: a3ae7b21-c15c-4c05-abd8-f483bcbf31af","nodes":[{"content":"Using Data Contracts","nodes":[{"pos":[0,20],"content":"Using Data Contracts","nodes":[{"content":"Using Data Contracts","pos":[0,20]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[244,264],"content":"Using Data Contracts","linkify":"Using Data Contracts","nodes":[{"content":"Using Data Contracts","pos":[0,20]}]},{"content":"A <bpt id=\"p1\">*</bpt>data contract<ept id=\"p1\">*</ept> is a formal agreement between a service and a client that abstractly describes the data to be exchanged.","pos":[265,387],"source":"A *data contract* is a formal agreement between a service and a client that abstractly describes the data to be exchanged."},{"content":"That is, to communicate, the client and the service do not have to share the same types, only the same data contracts.","pos":[388,506]},{"content":"A data contract precisely defines, for each parameter or return type, what data is serialized (turned into XML) to be exchanged.","pos":[507,635]},{"pos":[644,664],"content":"Data Contract Basics","linkify":"Data Contract Basics","nodes":[{"content":"Data Contract Basics","pos":[0,20]}]},{"content":"Windows Communication Foundation (WCF) uses a serialization engine called the Data Contract Serializer by default to serialize and deserialize data (convert it to and from XML).","pos":[668,845]},{"content":"All <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> primitive types, such as integers and strings, as well as certain types treated as primitives, such as <ph id=\"ph2\">&lt;xref:System.DateTime&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Xml.XmlElement&gt;</ph>, can be serialized with no other preparation and are considered as having default data contracts.","pos":[846,1170],"source":" All [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] primitive types, such as integers and strings, as well as certain types treated as primitives, such as <xref:System.DateTime> and <xref:System.Xml.XmlElement>, can be serialized with no other preparation and are considered as having default data contracts."},{"content":"Many <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> types also have existing data contracts.","pos":[1171,1280],"source":" Many [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types also have existing data contracts."},{"content":"For a full list of serializable types, see <bpt id=\"p1\">[</bpt>Types Supported by the Data Contract Serializer<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)</ept>.","pos":[1281,1473],"source":" For a full list of serializable types, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)."},{"content":"New complex types that you create must have a data contract defined for them to be serializable.","pos":[1480,1576]},{"content":"By default, the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph> infers the data contract and serializes all publicly visible types.","pos":[1577,1719],"source":" By default, the <xref:System.Runtime.Serialization.DataContractSerializer> infers the data contract and serializes all publicly visible types."},{"content":"All public read/write properties and fields of the type are serialized.","pos":[1720,1791]},{"content":"You can opt out members from serialization by using the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.IgnoreDataMemberAttribute&gt;</ph>.","pos":[1792,1910],"source":" You can opt out members from serialization by using the <xref:System.Runtime.Serialization.IgnoreDataMemberAttribute>."},{"content":"You can also explicitly create a data contract by using <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractAttribute&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> attributes.","pos":[1911,2096],"source":" You can also explicitly create a data contract by using <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes."},{"content":"This is normally done by applying the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractAttribute&gt;</ph> attribute to the type.","pos":[2097,2215],"source":" This is normally done by applying the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the type."},{"content":"This attribute can be applied to classes, structures, and enumerations.","pos":[2216,2287]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> attribute must then be applied to each member of the data contract type to indicate that it is a <bpt id=\"p1\">*</bpt>data member<ept id=\"p1\">*</ept>, that is, it should be serialized.","pos":[2288,2493],"source":" The <xref:System.Runtime.Serialization.DataMemberAttribute> attribute must then be applied to each member of the data contract type to indicate that it is a *data member*, that is, it should be serialized."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Serializable Types<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/serializable-types.md)</ept>.","pos":[2494,2611],"source":" For more information, see [Serializable Types](../../../../docs/framework/wcf/feature-details/serializable-types.md)."},{"pos":[2621,2628],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows a service contract (an interface) to which the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.OperationContractAttribute&gt;</ph> attributes have been explicitly applied.","pos":[2632,2857],"source":"The following example shows a service contract (an interface) to which the <xref:System.ServiceModel.ServiceContractAttribute> and <xref:System.ServiceModel.OperationContractAttribute> attributes have been explicitly applied."},{"content":"The example shows that primitive types do not require a data contract, while a complex type does.","pos":[2858,2955]},{"pos":[3202,3472],"content":"The following example shows how a data contract for the <ph id=\"ph1\">`MyTypes.PurchaseOrder`</ph> type is created by applying the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataContractAttribute&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> attributes to the class and its members.","source":"The following example shows how a data contract for the `MyTypes.PurchaseOrder` type is created by applying the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to the class and its members."},{"pos":[3722,3727],"content":"Notes","linkify":"Notes","nodes":[{"content":"Notes","pos":[0,5]}]},{"content":"The following notes provide items to consider when creating data contracts:","pos":[3731,3806]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.IgnoreDataMemberAttribute&gt;</ph> attribute is only honored when used with unmarked types.","pos":[3816,3938],"source":"The <xref:System.Runtime.Serialization.IgnoreDataMemberAttribute> attribute is only honored when used with unmarked types."},{"content":"This includes types that are not marked with one of the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractAttribute&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.SerializableAttribute&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Runtime.Serialization.CollectionDataContractAttribute&gt;</ph>, or <ph id=\"ph4\">&lt;xref:System.Runtime.Serialization.EnumMemberAttribute&gt;</ph> attributes, or marked as serializable by any other means (such as <ph id=\"ph5\">&lt;xref:System.Xml.Serialization.IXmlSerializable&gt;</ph>).","pos":[3939,4335],"source":" This includes types that are not marked with one of the <xref:System.Runtime.Serialization.DataContractAttribute>, <xref:System.SerializableAttribute>, <xref:System.Runtime.Serialization.CollectionDataContractAttribute>, or <xref:System.Runtime.Serialization.EnumMemberAttribute> attributes, or marked as serializable by any other means (such as <xref:System.Xml.Serialization.IXmlSerializable>)."},{"pos":[4345,4455],"content":"You can apply the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> attribute to fields, and properties.","source":"You can apply the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to fields, and properties."},{"content":"Member accessibility levels (internal, private, protected, or public) do not affect the data contract in any way.","pos":[4465,4578]},{"pos":[4588,4704],"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> attribute is ignored if it is applied to static members.","source":"The <xref:System.Runtime.Serialization.DataMemberAttribute> attribute is ignored if it is applied to static members."},{"content":"During serialization, property-get code is called for property data members to get the value of the properties to be serialized.","pos":[4714,4842]},{"content":"During deserialization, an uninitialized object is first created, without calling any constructors on the type.","pos":[4852,4963]},{"content":"Then all data members are deserialized.","pos":[4964,5003]},{"content":"During deserialization, property-set code is called for property data members to set the properties to the value being deserialized.","pos":[5013,5145]},{"content":"For a data contract to be valid, it must be possible to serialize all of its data members.","pos":[5155,5245]},{"content":"For a full list of serializable types, see <bpt id=\"p1\">[</bpt>Types Supported by the Data Contract Serializer<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)</ept>.","pos":[5246,5438],"source":" For a full list of serializable types, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)."},{"content":"Generic types are handled in exactly the same way as non-generic types.","pos":[5449,5520]},{"content":"There are no special requirements for generic parameters.","pos":[5521,5578]},{"content":"For example, consider the following type.","pos":[5579,5620]},{"pos":[5627,5860],"content":"[!code-csharp[C_DataContract#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#3)]\n[!code-vb[C_DataContract#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#3)]","leadings":[""," "],"nodes":[]},{"content":"This type is serializable whether the type used for the generic type parameter (<ph id=\"ph1\">`T`</ph>) is serializable or not.","pos":[5867,5975],"source":"This type is serializable whether the type used for the generic type parameter (`T`) is serializable or not."},{"content":"Because it must be possible to serialize all data members, the following type is serializable only if the generic type parameter is also serializable, as shown in the following code.","pos":[5976,6158]},{"pos":[6165,6398],"content":"[!code-csharp[C_DataContract#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontract/cs/source.cs#4)]\n[!code-vb[C_DataContract#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontract/vb/source.vb#4)]","leadings":[""," "],"nodes":[]},{"pos":[6405,6578],"content":"For a complete code sample of a WCF service that defines a data contract see the <bpt id=\"p1\">[</bpt>Basic Data Contract<ept id=\"p1\">](../../../../docs/framework/wcf/samples/basic-data-contract.md)</ept> sample.","source":"For a complete code sample of a WCF service that defines a data contract see the [Basic Data Contract](../../../../docs/framework/wcf/samples/basic-data-contract.md) sample."},{"pos":[6587,6595],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6717,6807],"content":"<bpt id=\"p1\">[</bpt>Serializable Types<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/serializable-types.md)</ept>","source":"[Serializable Types](../../../../docs/framework/wcf/feature-details/serializable-types.md)"},{"pos":[6810,6902],"content":"<bpt id=\"p1\">[</bpt>Data Contract Names<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-names.md)</ept>","source":"[Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md)"},{"pos":[6905,7009],"content":"<bpt id=\"p1\">[</bpt>Data Contract Equivalence<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-equivalence.md)</ept>","source":"[Data Contract Equivalence](../../../../docs/framework/wcf/feature-details/data-contract-equivalence.md)"},{"pos":[7012,7100],"content":"<bpt id=\"p1\">[</bpt>Data Member Order<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-member-order.md)</ept>","source":"[Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md)"},{"pos":[7103,7207],"content":"<bpt id=\"p1\">[</bpt>Data Contract Known Types<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)</ept>","source":"[Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)"},{"pos":[7210,7330],"content":"<bpt id=\"p1\">[</bpt>Forward-Compatible Data Contracts<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)</ept>","source":"[Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)"},{"pos":[7333,7435],"content":"<bpt id=\"p1\">[</bpt>Data Contract Versioning<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md)</ept>","source":"[Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md)"},{"pos":[7438,7572],"content":"<bpt id=\"p1\">[</bpt>Version-Tolerant Serialization Callbacks<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/version-tolerant-serialization-callbacks.md)</ept>","source":"[Version-Tolerant Serialization Callbacks](../../../../docs/framework/wcf/feature-details/version-tolerant-serialization-callbacks.md)"},{"pos":[7575,7681],"content":"<bpt id=\"p1\">[</bpt>Data Member Default Values<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-member-default-values.md)</ept>","source":"[Data Member Default Values](../../../../docs/framework/wcf/feature-details/data-member-default-values.md)"},{"pos":[7684,7832],"content":"<bpt id=\"p1\">[</bpt>Types Supported by the Data Contract Serializer<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)</ept>","source":"[Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)"},{"pos":[7835,8010],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Basic Data Contract for a Class or Structure<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md)</ept>","source":"[How to: Create a Basic Data Contract for a Class or Structure](../../../../docs/framework/wcf/feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md)"}]}