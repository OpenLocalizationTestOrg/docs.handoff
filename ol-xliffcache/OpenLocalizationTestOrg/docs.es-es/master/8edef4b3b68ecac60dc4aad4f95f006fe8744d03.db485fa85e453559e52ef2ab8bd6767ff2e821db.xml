{"content":"---\ntitle: \"How to: Create a Service Endpoint in Code | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 3fbb22fa-2930-48b8-b437-def1de87c6a0\ncaps.latest.revision: 14\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Create a Service Endpoint in Code\nIn this example, an `ICalculator` contract is defined for a calculator service, the service is implemented in the `CalculatorService` class, and then its endpoint is defined in code, where it is specified that the service must use the <xref:System.ServiceModel.BasicHttpBinding> class.  \n  \n It is usually the best practice to specify the binding and address information declaratively in configuration rather than imperatively in code. Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed. More generally, keeping the binding and addressing information out of the code allows them to change without having to recompile or redeploy the application.  \n  \n#### To create a service endpoint in code  \n  \n1.  Create the interface that defines the service contract.  \n  \n     [!code-csharp[c_HowTo_CodeServiceBinding#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#1)]\n     [!code-vb[c_HowTo_CodeServiceBinding#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#1)]  \n  \n2.  Implement the service contract defined in step 1.  \n  \n     [!code-csharp[c_HowTo_CodeServiceBinding#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#2)]\n     [!code-vb[c_HowTo_CodeServiceBinding#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#2)]  \n  \n3.  In the hosting application, create the base address for the service and the binding to be used with the service.  \n  \n     [!code-csharp[c_HowTo_CodeServiceBinding#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#3)]\n     [!code-vb[c_HowTo_CodeServiceBinding#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#3)]  \n  \n4.  Create the host and call <xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%28System.Type%2CSystem.ServiceModel.Channels.Binding%2CSystem.String%29> or one of the other overloads to add the service endpoint for the host.  \n  \n     [!code-csharp[c_HowTo_CodeServiceBinding#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#6)]\n     [!code-vb[c_HowTo_CodeServiceBinding#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#6)]  \n  \n     To specify the binding in code, but to use the default endpoints provided by the runtime, pass the bass address into constructor when creating the <xref:System.ServiceModel.ServiceHost>, and do not call <xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%2A>.  \n  \n     [!code-csharp[c_HowTo_CodeServiceBinding#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#7)]\n     [!code-vb[c_HowTo_CodeServiceBinding#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#7)]  \n  \n     [!INCLUDE[crabout](../../../../includes/crabout-md.md)] default endpoints, see [Simplified Configuration](../../../../docs/framework/wcf/simplified-configuration.md) and [Simplified Configuration for WCF Services](../../../../docs/framework/wcf/samples/simplified-configuration-for-wcf-services.md).  \n  \n## See Also  \n [How to: Specify a Service Binding in Code](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-code.md)","nodes":[{"pos":[4,362],"embed":true,"restype":"x-metadata","content":"title: \"How to: Create a Service Endpoint in Code | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 3fbb22fa-2930-48b8-b437-def1de87c6a0\ncaps.latest.revision: 14\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"How to: Create a Service Endpoint in Code | Microsoft Docs","nodes":[{"pos":[0,58],"content":"How to: Create a Service Endpoint in Code | Microsoft Docs","nodes":[{"content":"How to: Create a Service Endpoint in Code | Microsoft Docs","pos":[0,58]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[369,410],"content":"How to: Create a Service Endpoint in Code","linkify":"How to: Create a Service Endpoint in Code","nodes":[{"content":"How to: Create a Service Endpoint in Code","pos":[0,41]}]},{"pos":[411,696],"content":"In this example, an <ph id=\"ph1\">`ICalculator`</ph> contract is defined for a calculator service, the service is implemented in the <ph id=\"ph2\">`CalculatorService`</ph> class, and then its endpoint is defined in code, where it is specified that the service must use the <ph id=\"ph3\">&lt;xref:System.ServiceModel.BasicHttpBinding&gt;</ph> class.","source":"In this example, an `ICalculator` contract is defined for a calculator service, the service is implemented in the `CalculatorService` class, and then its endpoint is defined in code, where it is specified that the service must use the <xref:System.ServiceModel.BasicHttpBinding> class."},{"content":"It is usually the best practice to specify the binding and address information declaratively in configuration rather than imperatively in code.","pos":[703,846]},{"content":"Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed.","pos":[847,1034]},{"content":"More generally, keeping the binding and addressing information out of the code allows them to change without having to recompile or redeploy the application.","pos":[1035,1192]},{"pos":[1203,1239],"content":"To create a service endpoint in code","linkify":"To create a service endpoint in code","nodes":[{"content":"To create a service endpoint in code","pos":[0,36]}]},{"content":"Create the interface that defines the service contract.","pos":[1249,1304]},{"pos":[1315,1600],"content":"[!code-csharp[c_HowTo_CodeServiceBinding#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#1)]\n [!code-vb[c_HowTo_CodeServiceBinding#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#1)]","leadings":["","    "],"nodes":[]},{"content":"Implement the service contract defined in step 1.","pos":[1610,1659]},{"pos":[1670,1955],"content":"[!code-csharp[c_HowTo_CodeServiceBinding#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#2)]\n [!code-vb[c_HowTo_CodeServiceBinding#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#2)]","leadings":["","    "],"nodes":[]},{"content":"In the hosting application, create the base address for the service and the binding to be used with the service.","pos":[1965,2077]},{"pos":[2088,2373],"content":"[!code-csharp[c_HowTo_CodeServiceBinding#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#3)]\n [!code-vb[c_HowTo_CodeServiceBinding#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#3)]","leadings":["","    "],"nodes":[]},{"content":"Create the host and call <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%28System.Type%2CSystem.ServiceModel.Channels.Binding%2CSystem.String%29&gt;</ph> or one of the other overloads to add the service endpoint for the host.","pos":[2383,2609],"source":"Create the host and call <xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%28System.Type%2CSystem.ServiceModel.Channels.Binding%2CSystem.String%29> or one of the other overloads to add the service endpoint for the host."},{"pos":[2620,2905],"content":"[!code-csharp[c_HowTo_CodeServiceBinding#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#6)]\n [!code-vb[c_HowTo_CodeServiceBinding#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#6)]","leadings":["","    "],"nodes":[]},{"content":"To specify the binding in code, but to use the default endpoints provided by the runtime, pass the bass address into constructor when creating the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceHost&gt;</ph>, and do not call <ph id=\"ph2\">&lt;xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%2A&gt;</ph>.","pos":[2916,3180],"source":"To specify the binding in code, but to use the default endpoints provided by the runtime, pass the bass address into constructor when creating the <xref:System.ServiceModel.ServiceHost>, and do not call <xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%2A>."},{"pos":[3191,3476],"content":"[!code-csharp[c_HowTo_CodeServiceBinding#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeservicebinding/cs/source.cs#7)]\n [!code-vb[c_HowTo_CodeServiceBinding#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeservicebinding/vb/source.vb#7)]","leadings":["","    "],"nodes":[]},{"pos":[3543,3786],"content":"default endpoints, see <bpt id=\"p1\">[</bpt>Simplified Configuration<ept id=\"p1\">](../../../../docs/framework/wcf/simplified-configuration.md)</ept> and <bpt id=\"p2\">[</bpt>Simplified Configuration for WCF Services<ept id=\"p2\">](../../../../docs/framework/wcf/samples/simplified-configuration-for-wcf-services.md)</ept>.","source":" default endpoints, see [Simplified Configuration](../../../../docs/framework/wcf/simplified-configuration.md) and [Simplified Configuration for WCF Services](../../../../docs/framework/wcf/samples/simplified-configuration-for-wcf-services.md)."},{"pos":[3795,3803],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3807,3926],"content":"<bpt id=\"p1\">[</bpt>How to: Specify a Service Binding in Code<ept id=\"p1\">](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-code.md)</ept>","source":"[How to: Specify a Service Binding in Code](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-code.md)"}]}