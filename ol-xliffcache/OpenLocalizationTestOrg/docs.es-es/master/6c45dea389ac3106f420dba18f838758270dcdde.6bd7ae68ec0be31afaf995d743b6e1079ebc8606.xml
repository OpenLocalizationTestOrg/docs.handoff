{"content":"---\ntitle: \"How to: Use MetadataResolver to Obtain Binding Metadata Dynamically | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 56ffcb99-fff0-4479-aca0-e3909009f605\ncaps.latest.revision: 12\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Use MetadataResolver to Obtain Binding Metadata Dynamically\nThis topic shows you how to use the <xref:System.ServiceModel.Description.MetadataResolver> class to dynamically obtain binding metadata.  \n  \n### To dynamically obtain binding metadata  \n  \n1.  Create an <xref:System.ServiceModel.EndpointAddress> object with the address of the metadata endpoint.  \n  \n    ```  \n    EndpointAddress metaAddress  \n      = new EndpointAddress(new   Uri(\"http://localhost:8080/SampleService/mex\"));  \n    ```  \n  \n2.  Call <xref:System.ServiceModel.Description.MetadataResolver.Resolve%28System.Type%2CSystem.ServiceModel.EndpointAddress%29>, which passes in the service type and the metadata endpoint address. This returns a collection of endpoints that implement the specified contract. Only binding information is imported from the metadata; contract information is not imported. The supplied contract is used instead.  \n  \n    ```  \n    ServiceEndpointCollection endpoints = MetadataResolver.Resolve(typeof(SampleServiceClient),metaAddress);  \n    ```  \n  \n3.  You can then iterate through the collection of service endpoints to extract the binding information you need. The following code iterates through the endpoints, creates a service client object that passes in the binding and address associated with the current endpoint, and then calls a method on the service.  \n  \n    ```  \n    foreach (ServiceEndpoint point in endpoints)  \n    {  \n       if (point != null)  \n       {  \n          // Create a new wcfClient using retrieved endpoints.  \n          using (wcfClient = new SampleServiceClient(point.Binding, point.Address))  \n          {  \n             Console.WriteLine(  \n               wcfClient.SampleMethod(\"Client used the \"  \n               + point.Address.ToString() + \" address.\"));  \n          }  \n      }  \n    }  \n    ```  \n  \n## See Also  \n [Metadata](../../../../docs/framework/wcf/feature-details/metadata.md)","nodes":[{"pos":[12,96],"content":"How to: Use MetadataResolver to Obtain Binding Metadata Dynamically | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Use MetadataResolver to Obtain Binding Metadata Dynamically | Microsoft Docs","pos":[0,84]}]},{"pos":[395,462],"content":"How to: Use MetadataResolver to Obtain Binding Metadata Dynamically","linkify":"How to: Use MetadataResolver to Obtain Binding Metadata Dynamically","nodes":[{"content":"How to: Use MetadataResolver to Obtain Binding Metadata Dynamically","pos":[0,67]}]},{"content":"This topic shows you how to use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.MetadataResolver&gt;</ph> class to dynamically obtain binding metadata.","pos":[463,600],"source":"This topic shows you how to use the <xref:System.ServiceModel.Description.MetadataResolver> class to dynamically obtain binding metadata."},{"pos":[610,648],"content":"To dynamically obtain binding metadata","linkify":"To dynamically obtain binding metadata","nodes":[{"content":"To dynamically obtain binding metadata","pos":[0,38]}]},{"content":"Create an <ph id=\"ph1\">&lt;xref:System.ServiceModel.EndpointAddress&gt;</ph> object with the address of the metadata endpoint.","pos":[658,760],"source":"Create an <xref:System.ServiceModel.EndpointAddress> object with the address of the metadata endpoint."},{"content":"Call <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.MetadataResolver.Resolve%28System.Type%2CSystem.ServiceModel.EndpointAddress%29&gt;</ph>, which passes in the service type and the metadata endpoint address.","pos":[912,1104],"source":"Call <xref:System.ServiceModel.Description.MetadataResolver.Resolve%28System.Type%2CSystem.ServiceModel.EndpointAddress%29>, which passes in the service type and the metadata endpoint address."},{"content":"This returns a collection of endpoints that implement the specified contract.","pos":[1105,1182]},{"content":"Only binding information is imported from the metadata; contract information is not imported.","pos":[1183,1276]},{"content":"The supplied contract is used instead.","pos":[1277,1315]},{"content":"You can then iterate through the collection of service endpoints to extract the binding information you need.","pos":[1459,1568]},{"content":"The following code iterates through the endpoints, creates a service client object that passes in the binding and address associated with the current endpoint, and then calls a method on the service.","pos":[1569,1768]},{"pos":[2249,2257],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[2261,2331],"content":"<bpt id=\"p1\">[</bpt>Metadata<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/metadata.md)</ept>","source":"[Metadata](../../../../docs/framework/wcf/feature-details/metadata.md)"}]}