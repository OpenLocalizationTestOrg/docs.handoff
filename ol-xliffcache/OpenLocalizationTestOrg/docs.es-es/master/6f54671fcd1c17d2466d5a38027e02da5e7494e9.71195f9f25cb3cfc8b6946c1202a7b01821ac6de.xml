{"content":"---\ntitle: dotnet restore command\ndescription: Learn how to restore dependencies and project-specific tools with the dotnet restore command.\nms.date: 05/29/2018\n---\n# dotnet restore\n\n[!INCLUDE [topic-appliesto-net-core-all](../../../includes/topic-appliesto-net-core-all.md)]\n\n## Name\n\n`dotnet restore` - Restores the dependencies and tools of a project.\n\n## Synopsis\n\n# [.NET Core 2.x](#tab/netcore2x)\n```\ndotnet restore [<ROOT>] [--configfile] [--disable-parallel] [--force] [--ignore-failed-sources] [--no-cache]\n    [--no-dependencies] [--packages] [-r|--runtime] [-s|--source] [-v|--verbosity] [--interactive]\ndotnet restore [-h|--help]\n```\n# [.NET Core 1.x](#tab/netcore1x)\n```\ndotnet restore [<ROOT>] [--configfile] [--disable-parallel] [--ignore-failed-sources] [--no-cache]\n    [--no-dependencies] [--packages] [-r|--runtime] [-s|--source] [-v|--verbosity]\ndotnet restore [-h|--help]\n```\n---\n\n## Description\n\nThe `dotnet restore` command uses NuGet to restore dependencies as well as project-specific tools that are specified in the project file. By default, the restoration of dependencies and tools are executed in parallel.\n\n[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]\n\nTo restore the dependencies, NuGet needs the feeds where the packages are located. Feeds are usually provided via the *NuGet.config* configuration file. A default configuration file is provided when the CLI tools are installed. You specify additional feeds by creating your own *NuGet.config* file in the project directory. You also specify additional feeds per invocation at a command prompt.\n\nFor dependencies, you specify where the restored packages are placed during the restore operation using the `--packages` argument. If not specified, the default NuGet package cache is used, which is found in the `.nuget/packages` directory in the user's home directory on all operating systems. For example, */home/user1* on Linux or *C:\\Users\\user1* on Windows.\n\nFor project-specific tooling, `dotnet restore` first restores the package in which the tool is packed, and then proceeds to restore the tool's dependencies as specified in its project file.\n\nThe behavior of the `dotnet restore` command is affected by some of the settings in the *Nuget.Config* file, if present. For example, setting the `globalPackagesFolder` in *NuGet.Config* places the restored NuGet packages in the specified folder. This is an alternative to specifying the `--packages` option on the `dotnet restore` command. For more information, see the [NuGet.Config reference](/nuget/schema/nuget-config-file).\n\n## Implicit `dotnet restore`\n\nStarting with .NET Core 2.0, `dotnet restore` is run implicitly if necessary when you issue the following commands:\n\n- [`dotnet new`](dotnet-new.md)\n- [`dotnet build`](dotnet-build.md)\n- [`dotnet build-server`](dotnet-build-server.md)\n- [`dotnet run`](dotnet-run.md)\n- [`dotnet test`](dotnet-test.md)\n- [`dotnet publish`](dotnet-publish.md)\n- [`dotnet pack`](dotnet-pack.md)\n\nIn most cases, you no longer need to explicitly use the `dotnet restore` command.\n\nSometimes, it might be inconvenient to run `dotnet restore` implicitly. For example, some automated systems, such as build systems, need to call `dotnet restore` explicitly to control when the restore occurs so that they can control network usage. To prevent `dotnet restore` from running implicitly, you can use the `--no-restore` flag with any of these commands to disable implicit restore.\n\n## Arguments\n\n`ROOT`\n\nOptional path to the project file to restore.\n\n## Options\n\n# [.NET Core 2.x](#tab/netcore2x)\n\n`--configfile <FILE>`\n\nThe NuGet configuration file (*NuGet.config*) to use for the restore operation.\n\n`--disable-parallel`\n\nDisables restoring multiple projects in parallel.\n\n`--force`\n\nForces all dependencies to be resolved even if the last restore was successful. Specifying this flag is the same as deleting the *project.assets.json* file.\n\n`-h|--help`\n\nPrints out a short help for the command.\n\n`--ignore-failed-sources`\n\nOnly warn about failed sources if there are packages meeting the version requirement.\n\n`--no-cache`\n\nSpecifies to not cache packages and HTTP requests.\n\n`--no-dependencies`\n\nWhen restoring a project with project-to-project (P2P) references, restores the root project and not the references.\n\n`--packages <PACKAGES_DIRECTORY>`\n\nSpecifies the directory for restored packages.\n\n`-r|--runtime <RUNTIME_IDENTIFIER>`\n\nSpecifies a runtime for the package restore. This is used to restore packages for runtimes not explicitly listed in the `<RuntimeIdentifiers>` tag in the *.csproj* file. For a list of Runtime Identifiers (RIDs), see the [RID catalog](../rid-catalog.md). Provide multiple RIDs by specifying this option multiple times.\n\n`-s|--source <SOURCE>`\n\nSpecifies a NuGet package source to use during the restore operation. This setting overrides all of the sources specified in the *NuGet.config* files. Multiple sources can be provided by specifying this option multiple times.\n\n`--verbosity <LEVEL>`\n\nSets the verbosity level of the command. Allowed values are `q[uiet]`, `m[inimal]`, `n[ormal]`, `d[etailed]`, and `diag[nostic]`.\n\n`--interactive`\n\nAllows the command to stop and wait for user input or action (for example to complete authentication). Since .NET Core 2.1.400.\n\n# [.NET Core 1.x](#tab/netcore1x)\n\n`--configfile <FILE>`\n\nThe NuGet configuration file (*NuGet.config*) to use for the restore operation.\n\n`--disable-parallel`\n\nDisables restoring multiple projects in parallel.\n\n`-h|--help`\n\nPrints out a short help for the command.\n\n`--ignore-failed-sources`\n\nOnly warn about failed sources if there are packages meeting the version requirement.\n\n`--no-cache`\n\nSpecifies to not cache packages and HTTP requests.\n\n`--no-dependencies`\n\nWhen restoring a project with project-to-project (P2P) references, restores the root project and not the references.\n\n`--packages <PACKAGES_DIRECTORY>`\n\nSpecifies the directory for restored packages.\n\n`-r|--runtime <RUNTIME_IDENTIFIER>`\n\nSpecifies a runtime for the package restore. This is used to restore packages for runtimes not explicitly listed in the `<RuntimeIdentifiers>` tag in the *.csproj* file. For a list of Runtime Identifiers (RIDs), see the [RID catalog](../rid-catalog.md). Provide multiple RIDs by specifying this option multiple times.\n\n`-s|--source <SOURCE>`\n\nSpecifies a NuGet package source to use during the restore operation. This overrides all of the sources specified in the *NuGet.config* files. Multiple sources can be provided by specifying this option multiple times.\n\n`--verbosity <LEVEL>`\n\nSets the verbosity level of the command. Allowed values are `q[uiet]`, `m[inimal]`, `n[ormal]`, `d[etailed]`, and `diag[nostic]`.\n\n---\n\n## Examples\n\nRestore dependencies and tools for the project in the current directory:\n\n`dotnet restore`\n\nRestore dependencies and tools for the `app1` project found in the given path:\n\n`dotnet restore ~/projects/app1/app1.csproj`\n\nRestore the dependencies and tools for the project in the current directory using the file path provided as the source:\n\n`dotnet restore -s c:\\packages\\mypackages`\n\nRestore the dependencies and tools for the project in the current directory using the two file paths provided as sources:\n\n`dotnet restore -s c:\\packages\\mypackages -s c:\\packages\\myotherpackages`\n\nRestore dependencies and tools for the project in the current directory and shows only minimal output:\n\n`dotnet restore --verbosity minimal`\n","nodes":[{"pos":[4,160],"embed":true,"restype":"x-metadata","content":"title: dotnet restore command\ndescription: Learn how to restore dependencies and project-specific tools with the dotnet restore command.\nms.date: 05/29/2018","nodes":[{"content":"dotnet restore command","nodes":[{"pos":[0,22],"content":"dotnet restore command","nodes":[{"content":"dotnet restore command","pos":[0,22]}]}],"path":["title"],"nosxs":false},{"content":"Learn how to restore dependencies and project-specific tools with the dotnet restore command.","nodes":[{"pos":[0,93],"content":"Learn how to restore dependencies and project-specific tools with the dotnet restore command.","nodes":[{"content":"Learn how to restore dependencies and project-specific tools with the dotnet restore command.","pos":[0,93]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[167,181],"content":"dotnet restore","linkify":"dotnet restore","nodes":[{"content":"dotnet restore","pos":[0,14]}]},{"pos":[280,284],"content":"Name","linkify":"Name","nodes":[{"content":"Name","pos":[0,4]}]},{"pos":[286,354],"content":"<ph id=\"ph1\">`dotnet restore`</ph> - Restores the dependencies and tools of a project.","source":"`dotnet restore` - Restores the dependencies and tools of a project."},{"pos":[359,367],"content":"Synopsis","linkify":"Synopsis","nodes":[{"content":"Synopsis","pos":[0,8]}]},{"pos":[371,402],"content":"<bpt id=\"p1\">[</bpt>.NET Core 2.x<ept id=\"p1\">](#tab/netcore2x)</ept>","linkify":"[.NET Core 2.x](#tab/netcore2x)","source":"[.NET Core 2.x](#tab/netcore2x)"},{"pos":[648,679],"content":"<bpt id=\"p1\">[</bpt>.NET Core 1.x<ept id=\"p1\">](#tab/netcore1x)</ept>","linkify":"[.NET Core 1.x](#tab/netcore1x)","source":"[.NET Core 1.x](#tab/netcore1x)"},{"pos":[905,916],"content":"Description","linkify":"Description","nodes":[{"content":"Description","pos":[0,11]}]},{"content":"The <ph id=\"ph1\">`dotnet restore`</ph> command uses NuGet to restore dependencies as well as project-specific tools that are specified in the project file.","pos":[918,1055],"source":"The `dotnet restore` command uses NuGet to restore dependencies as well as project-specific tools that are specified in the project file."},{"content":"By default, the restoration of dependencies and tools are executed in parallel.","pos":[1056,1135]},{"content":"To restore the dependencies, NuGet needs the feeds where the packages are located.","pos":[1205,1287]},{"content":"Feeds are usually provided via the <bpt id=\"p1\">*</bpt>NuGet.config<ept id=\"p1\">*</ept> configuration file.","pos":[1288,1357],"source":" Feeds are usually provided via the *NuGet.config* configuration file."},{"content":"A default configuration file is provided when the CLI tools are installed.","pos":[1358,1432]},{"content":"You specify additional feeds by creating your own <bpt id=\"p1\">*</bpt>NuGet.config<ept id=\"p1\">*</ept> file in the project directory.","pos":[1433,1528],"source":" You specify additional feeds by creating your own *NuGet.config* file in the project directory."},{"content":"You also specify additional feeds per invocation at a command prompt.","pos":[1529,1598]},{"content":"For dependencies, you specify where the restored packages are placed during the restore operation using the <ph id=\"ph1\">`--packages`</ph> argument.","pos":[1600,1730],"source":"For dependencies, you specify where the restored packages are placed during the restore operation using the `--packages` argument."},{"content":"If not specified, the default NuGet package cache is used, which is found in the <ph id=\"ph1\">`.nuget/packages`</ph> directory in the user's home directory on all operating systems.","pos":[1731,1894],"source":" If not specified, the default NuGet package cache is used, which is found in the `.nuget/packages` directory in the user's home directory on all operating systems."},{"content":"For example, <bpt id=\"p1\">*</bpt>/home/user1<ept id=\"p1\">*</ept> on Linux or <bpt id=\"p2\">*</bpt>C:\\Users\\user1<ept id=\"p2\">*</ept> on Windows.","pos":[1895,1962],"source":" For example, */home/user1* on Linux or *C:\\Users\\user1* on Windows."},{"pos":[1964,2153],"content":"For project-specific tooling, <ph id=\"ph1\">`dotnet restore`</ph> first restores the package in which the tool is packed, and then proceeds to restore the tool's dependencies as specified in its project file.","source":"For project-specific tooling, `dotnet restore` first restores the package in which the tool is packed, and then proceeds to restore the tool's dependencies as specified in its project file."},{"content":"The behavior of the <ph id=\"ph1\">`dotnet restore`</ph> command is affected by some of the settings in the <bpt id=\"p1\">*</bpt>Nuget.Config<ept id=\"p1\">*</ept> file, if present.","pos":[2155,2275],"source":"The behavior of the `dotnet restore` command is affected by some of the settings in the *Nuget.Config* file, if present."},{"content":"For example, setting the <ph id=\"ph1\">`globalPackagesFolder`</ph> in <bpt id=\"p1\">*</bpt>NuGet.Config<ept id=\"p1\">*</ept> places the restored NuGet packages in the specified folder.","pos":[2276,2401],"source":" For example, setting the `globalPackagesFolder` in *NuGet.Config* places the restored NuGet packages in the specified folder."},{"content":"This is an alternative to specifying the <ph id=\"ph1\">`--packages`</ph> option on the <ph id=\"ph2\">`dotnet restore`</ph> command.","pos":[2402,2495],"source":" This is an alternative to specifying the `--packages` option on the `dotnet restore` command."},{"content":"For more information, see the <bpt id=\"p1\">[</bpt>NuGet.Config reference<ept id=\"p1\">](/nuget/schema/nuget-config-file)</ept>.","pos":[2496,2584],"source":" For more information, see the [NuGet.Config reference](/nuget/schema/nuget-config-file)."},{"pos":[2589,2614],"content":"Implicit <ph id=\"ph1\">`dotnet restore`</ph>","linkify":"Implicit `dotnet restore`","source":"Implicit `dotnet restore`"},{"pos":[2616,2731],"content":"Starting with .NET Core 2.0, <ph id=\"ph1\">`dotnet restore`</ph> is run implicitly if necessary when you issue the following commands:","source":"Starting with .NET Core 2.0, `dotnet restore` is run implicitly if necessary when you issue the following commands:"},{"pos":[2992,3073],"content":"In most cases, you no longer need to explicitly use the <ph id=\"ph1\">`dotnet restore`</ph> command.","source":"In most cases, you no longer need to explicitly use the `dotnet restore` command."},{"content":"Sometimes, it might be inconvenient to run <ph id=\"ph1\">`dotnet restore`</ph> implicitly.","pos":[3075,3146],"source":"Sometimes, it might be inconvenient to run `dotnet restore` implicitly."},{"content":"For example, some automated systems, such as build systems, need to call <ph id=\"ph1\">`dotnet restore`</ph> explicitly to control when the restore occurs so that they can control network usage.","pos":[3147,3322],"source":" For example, some automated systems, such as build systems, need to call `dotnet restore` explicitly to control when the restore occurs so that they can control network usage."},{"content":"To prevent <ph id=\"ph1\">`dotnet restore`</ph> from running implicitly, you can use the <ph id=\"ph2\">`--no-restore`</ph> flag with any of these commands to disable implicit restore.","pos":[3323,3467],"source":" To prevent `dotnet restore` from running implicitly, you can use the `--no-restore` flag with any of these commands to disable implicit restore."},{"pos":[3472,3481],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"Optional path to the project file to restore.","pos":[3491,3536]},{"pos":[3541,3548],"content":"Options","linkify":"Options","nodes":[{"content":"Options","pos":[0,7]}]},{"pos":[3552,3583],"content":"<bpt id=\"p1\">[</bpt>.NET Core 2.x<ept id=\"p1\">](#tab/netcore2x)</ept>","linkify":"[.NET Core 2.x](#tab/netcore2x)","source":"[.NET Core 2.x](#tab/netcore2x)"},{"pos":[3608,3687],"content":"The NuGet configuration file (<bpt id=\"p1\">*</bpt>NuGet.config<ept id=\"p1\">*</ept>) to use for the restore operation.","source":"The NuGet configuration file (*NuGet.config*) to use for the restore operation."},{"content":"Disables restoring multiple projects in parallel.","pos":[3711,3760]},{"content":"Forces all dependencies to be resolved even if the last restore was successful.","pos":[3773,3852]},{"content":"Specifying this flag is the same as deleting the <bpt id=\"p1\">*</bpt>project.assets.json<ept id=\"p1\">*</ept> file.","pos":[3853,3929],"source":" Specifying this flag is the same as deleting the *project.assets.json* file."},{"content":"Prints out a short help for the command.","pos":[3944,3984]},{"content":"Only warn about failed sources if there are packages meeting the version requirement.","pos":[4013,4098]},{"content":"Specifies to not cache packages and HTTP requests.","pos":[4114,4164]},{"content":"When restoring a project with project-to-project (P2P) references, restores the root project and not the references.","pos":[4187,4303]},{"content":"Specifies the directory for restored packages.","pos":[4340,4386]},{"content":"Specifies a runtime for the package restore.","pos":[4425,4469]},{"content":"This is used to restore packages for runtimes not explicitly listed in the <ph id=\"ph1\">`&lt;RuntimeIdentifiers&gt;`</ph> tag in the <bpt id=\"p1\">*</bpt>.csproj<ept id=\"p1\">*</ept> file.","pos":[4470,4594],"source":" This is used to restore packages for runtimes not explicitly listed in the `<RuntimeIdentifiers>` tag in the *.csproj* file."},{"content":"For a list of Runtime Identifiers (RIDs), see the <bpt id=\"p1\">[</bpt>RID catalog<ept id=\"p1\">](../rid-catalog.md)</ept>.","pos":[4595,4678],"source":" For a list of Runtime Identifiers (RIDs), see the [RID catalog](../rid-catalog.md)."},{"content":"Provide multiple RIDs by specifying this option multiple times.","pos":[4679,4742]},{"content":"Specifies a NuGet package source to use during the restore operation.","pos":[4768,4837]},{"content":"This setting overrides all of the sources specified in the <bpt id=\"p1\">*</bpt>NuGet.config<ept id=\"p1\">*</ept> files.","pos":[4838,4918],"source":" This setting overrides all of the sources specified in the *NuGet.config* files."},{"content":"Multiple sources can be provided by specifying this option multiple times.","pos":[4919,4993]},{"content":"Sets the verbosity level of the command.","pos":[5018,5058]},{"content":"Allowed values are <ph id=\"ph1\">`q[uiet]`</ph>, <ph id=\"ph2\">`m[inimal]`</ph>, <ph id=\"ph3\">`n[ormal]`</ph>, <ph id=\"ph4\">`d[etailed]`</ph>, and <ph id=\"ph5\">`diag[nostic]`</ph>.","pos":[5059,5147],"source":" Allowed values are `q[uiet]`, `m[inimal]`, `n[ormal]`, `d[etailed]`, and `diag[nostic]`."},{"content":"Allows the command to stop and wait for user input or action (for example to complete authentication).","pos":[5166,5268]},{"content":"Since .NET Core 2.1.400.","pos":[5269,5293]},{"pos":[5297,5328],"content":"<bpt id=\"p1\">[</bpt>.NET Core 1.x<ept id=\"p1\">](#tab/netcore1x)</ept>","linkify":"[.NET Core 1.x](#tab/netcore1x)","source":"[.NET Core 1.x](#tab/netcore1x)"},{"pos":[5353,5432],"content":"The NuGet configuration file (<bpt id=\"p1\">*</bpt>NuGet.config<ept id=\"p1\">*</ept>) to use for the restore operation.","source":"The NuGet configuration file (*NuGet.config*) to use for the restore operation."},{"content":"Disables restoring multiple projects in parallel.","pos":[5456,5505]},{"content":"Prints out a short help for the command.","pos":[5520,5560]},{"content":"Only warn about failed sources if there are packages meeting the version requirement.","pos":[5589,5674]},{"content":"Specifies to not cache packages and HTTP requests.","pos":[5690,5740]},{"content":"When restoring a project with project-to-project (P2P) references, restores the root project and not the references.","pos":[5763,5879]},{"content":"Specifies the directory for restored packages.","pos":[5916,5962]},{"content":"Specifies a runtime for the package restore.","pos":[6001,6045]},{"content":"This is used to restore packages for runtimes not explicitly listed in the <ph id=\"ph1\">`&lt;RuntimeIdentifiers&gt;`</ph> tag in the <bpt id=\"p1\">*</bpt>.csproj<ept id=\"p1\">*</ept> file.","pos":[6046,6170],"source":" This is used to restore packages for runtimes not explicitly listed in the `<RuntimeIdentifiers>` tag in the *.csproj* file."},{"content":"For a list of Runtime Identifiers (RIDs), see the <bpt id=\"p1\">[</bpt>RID catalog<ept id=\"p1\">](../rid-catalog.md)</ept>.","pos":[6171,6254],"source":" For a list of Runtime Identifiers (RIDs), see the [RID catalog](../rid-catalog.md)."},{"content":"Provide multiple RIDs by specifying this option multiple times.","pos":[6255,6318]},{"content":"Specifies a NuGet package source to use during the restore operation.","pos":[6344,6413]},{"content":"This overrides all of the sources specified in the <bpt id=\"p1\">*</bpt>NuGet.config<ept id=\"p1\">*</ept> files.","pos":[6414,6486],"source":" This overrides all of the sources specified in the *NuGet.config* files."},{"content":"Multiple sources can be provided by specifying this option multiple times.","pos":[6487,6561]},{"content":"Sets the verbosity level of the command.","pos":[6586,6626]},{"content":"Allowed values are <ph id=\"ph1\">`q[uiet]`</ph>, <ph id=\"ph2\">`m[inimal]`</ph>, <ph id=\"ph3\">`n[ormal]`</ph>, <ph id=\"ph4\">`d[etailed]`</ph>, and <ph id=\"ph5\">`diag[nostic]`</ph>.","pos":[6627,6715],"source":" Allowed values are `q[uiet]`, `m[inimal]`, `n[ormal]`, `d[etailed]`, and `diag[nostic]`."},{"pos":[6725,6733],"content":"Examples","linkify":"Examples","nodes":[{"content":"Examples","pos":[0,8]}]},{"content":"Restore dependencies and tools for the project in the current directory:","pos":[6735,6807]},{"pos":[6827,6905],"content":"Restore dependencies and tools for the <ph id=\"ph1\">`app1`</ph> project found in the given path:","source":"Restore dependencies and tools for the `app1` project found in the given path:"},{"content":"Restore the dependencies and tools for the project in the current directory using the file path provided as the source:","pos":[6953,7072]},{"content":"Restore the dependencies and tools for the project in the current directory using the two file paths provided as sources:","pos":[7118,7239]},{"content":"Restore dependencies and tools for the project in the current directory and shows only minimal output:","pos":[7316,7418]}]}