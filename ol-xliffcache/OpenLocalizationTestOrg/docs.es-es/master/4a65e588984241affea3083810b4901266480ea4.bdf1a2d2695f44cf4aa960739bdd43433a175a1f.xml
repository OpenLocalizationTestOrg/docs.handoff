{"content":"---\ntitle: \"Why Transformation Order Is Significant\"\nms.date: \"03/30/2017\"\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"transformations [Windows Forms], order significance\"\nms.assetid: 37d5f9dc-a5cf-4475-aa5d-34d714e808a9\n---\n\n# Why Transformation Order Is Significant\nA single <xref:System.Drawing.Drawing2D.Matrix> object can store a single transformation or a sequence of transformations. The latter is called a composite transformation. The matrix of a composite transformation is obtained by multiplying the matrices of individual transformations.  \n  \n## Composite Transform Examples  \n In a composite transformation, the order of individual transformations is important. For example, if you first rotate, then scale, then translate, you get a different result than if you first translate, then rotate, then scale. In [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)], composite transformations are built from left to right. If S, R, and T are scale, rotation, and translation matrices respectively, then the product SRT (in that order) is the matrix of the composite transformation that first scales, then rotates, then translates. The matrix produced by the product SRT is different from the matrix produced by the product TRS.  \n  \n One reason order is significant is that transformations like rotation and scaling are done with respect to the origin of the coordinate system. Scaling an object that is centered at the origin produces a different result than scaling an object that has been moved away from the origin. Similarly, rotating an object that is centered at the origin produces a different result than rotating an object that has been moved away from the origin.  \n  \n The following example combines scaling, rotation and translation (in that order) to form a composite transformation. The argument <xref:System.Drawing.Drawing2D.MatrixOrder.Append> passed to the <xref:System.Drawing.Graphics.RotateTransform%2A> method indicates that the rotation will follow the scaling. Likewise, the argument <xref:System.Drawing.Drawing2D.MatrixOrder.Append> passed to the <xref:System.Drawing.Graphics.TranslateTransform%2A> method indicates that the translation will follow the rotation. <xref:System.Drawing.Drawing2D.MatrixOrder.Append> and <xref:System.Drawing.Drawing2D.MatrixOrder.Prepend> are members of the <xref:System.Drawing.Drawing2D.MatrixOrder> enumeration.  \n  \n [!code-csharp[System.Drawing.MiscLegacyTopics#21](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/CS/Class1.cs#21)]\n [!code-vb[System.Drawing.MiscLegacyTopics#21](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/VB/Class1.vb#21)]  \n  \n The following example makes the same method calls as the preceding example, but the order of the calls is reversed. The resulting order of operations is first translate, then rotate, then scale, which produces a very different result than first scale, then rotate, then translate.  \n  \n [!code-csharp[System.Drawing.MiscLegacyTopics#22](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/CS/Class1.cs#22)]\n [!code-vb[System.Drawing.MiscLegacyTopics#22](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/VB/Class1.vb#22)]  \n  \n One way to reverse the order of individual transformations in a composite transformation is to reverse the order of a sequence of method calls. A second way to control the order of operations is to change the matrix order argument. The following example is the same as the preceding example, except that <xref:System.Drawing.Drawing2D.MatrixOrder.Append> has been changed to <xref:System.Drawing.Drawing2D.MatrixOrder.Prepend>. The matrix multiplication is done in the order SRT, where S, R, and T are the matrices for scale, rotate, and translate, respectively. The order of the composite transformation is first scale, then rotate, then translate.  \n  \n [!code-csharp[System.Drawing.MiscLegacyTopics#23](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/CS/Class1.cs#23)]\n [!code-vb[System.Drawing.MiscLegacyTopics#23](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/VB/Class1.vb#23)]  \n  \n The result of the immediately preceding example is the same as the result of the first example in this topic. This is because we reversed both the order of the method calls and the order of the matrix multiplication.  \n  \n## See also\n\n- <xref:System.Drawing.Drawing2D.Matrix>\n- [Coordinate Systems and Transformations](coordinate-systems-and-transformations.md)\n- [Using Transformations in Managed GDI+](using-transformations-in-managed-gdi.md)\n","nodes":[{"pos":[4,235],"embed":true,"restype":"x-metadata","content":"title: \"Why Transformation Order Is Significant\"\nms.date: \"03/30/2017\"\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"transformations [Windows Forms], order significance\"\nms.assetid: 37d5f9dc-a5cf-4475-aa5d-34d714e808a9","nodes":[{"content":"Why Transformation Order Is Significant","nodes":[{"pos":[0,39],"content":"Why Transformation Order Is Significant","nodes":[{"content":"Why Transformation Order Is Significant","pos":[0,39]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[243,282],"content":"Why Transformation Order Is Significant","linkify":"Why Transformation Order Is Significant","nodes":[{"content":"Why Transformation Order Is Significant","pos":[0,39]}]},{"content":"A single <ph id=\"ph1\">&lt;xref:System.Drawing.Drawing2D.Matrix&gt;</ph> object can store a single transformation or a sequence of transformations.","pos":[283,405],"source":"A single <xref:System.Drawing.Drawing2D.Matrix> object can store a single transformation or a sequence of transformations."},{"content":"The latter is called a composite transformation.","pos":[406,454]},{"content":"The matrix of a composite transformation is obtained by multiplying the matrices of individual transformations.","pos":[455,566]},{"pos":[575,603],"content":"Composite Transform Examples","linkify":"Composite Transform Examples","nodes":[{"content":"Composite Transform Examples","pos":[0,28]}]},{"content":"In a composite transformation, the order of individual transformations is important.","pos":[607,691]},{"content":"For example, if you first rotate, then scale, then translate, you get a different result than if you first translate, then rotate, then scale.","pos":[692,834]},{"content":"In <ph id=\"ph1\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph>, composite transformations are built from left to right.","pos":[835,962],"source":" In [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)], composite transformations are built from left to right."},{"content":"If S, R, and T are scale, rotation, and translation matrices respectively, then the product SRT (in that order) is the matrix of the composite transformation that first scales, then rotates, then translates.","pos":[963,1170]},{"content":"The matrix produced by the product SRT is different from the matrix produced by the product TRS.","pos":[1171,1267]},{"content":"One reason order is significant is that transformations like rotation and scaling are done with respect to the origin of the coordinate system.","pos":[1274,1417]},{"content":"Scaling an object that is centered at the origin produces a different result than scaling an object that has been moved away from the origin.","pos":[1418,1559]},{"content":"Similarly, rotating an object that is centered at the origin produces a different result than rotating an object that has been moved away from the origin.","pos":[1560,1714]},{"content":"The following example combines scaling, rotation and translation (in that order) to form a composite transformation.","pos":[1721,1837]},{"content":"The argument <ph id=\"ph1\">&lt;xref:System.Drawing.Drawing2D.MatrixOrder.Append&gt;</ph> passed to the <ph id=\"ph2\">&lt;xref:System.Drawing.Graphics.RotateTransform%2A&gt;</ph> method indicates that the rotation will follow the scaling.","pos":[1838,2025],"source":" The argument <xref:System.Drawing.Drawing2D.MatrixOrder.Append> passed to the <xref:System.Drawing.Graphics.RotateTransform%2A> method indicates that the rotation will follow the scaling."},{"content":"Likewise, the argument <ph id=\"ph1\">&lt;xref:System.Drawing.Drawing2D.MatrixOrder.Append&gt;</ph> passed to the <ph id=\"ph2\">&lt;xref:System.Drawing.Graphics.TranslateTransform%2A&gt;</ph> method indicates that the translation will follow the rotation.","pos":[2026,2230],"source":" Likewise, the argument <xref:System.Drawing.Drawing2D.MatrixOrder.Append> passed to the <xref:System.Drawing.Graphics.TranslateTransform%2A> method indicates that the translation will follow the rotation."},{"content":"<ph id=\"ph1\">&lt;xref:System.Drawing.Drawing2D.MatrixOrder.Append&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Drawing.Drawing2D.MatrixOrder.Prepend&gt;</ph> are members of the <ph id=\"ph3\">&lt;xref:System.Drawing.Drawing2D.MatrixOrder&gt;</ph> enumeration.","pos":[2231,2413],"source":"<xref:System.Drawing.Drawing2D.MatrixOrder.Append> and <xref:System.Drawing.Drawing2D.MatrixOrder.Prepend> are members of the <xref:System.Drawing.Drawing2D.MatrixOrder> enumeration."},{"content":"The following example makes the same method calls as the preceding example, but the order of the calls is reversed.","pos":[2722,2837]},{"content":"The resulting order of operations is first translate, then rotate, then scale, which produces a very different result than first scale, then rotate, then translate.","pos":[2838,3002]},{"content":"One way to reverse the order of individual transformations in a composite transformation is to reverse the order of a sequence of method calls.","pos":[3311,3454]},{"content":"A second way to control the order of operations is to change the matrix order argument.","pos":[3455,3542]},{"content":"The following example is the same as the preceding example, except that <ph id=\"ph1\">&lt;xref:System.Drawing.Drawing2D.MatrixOrder.Append&gt;</ph> has been changed to <ph id=\"ph2\">&lt;xref:System.Drawing.Drawing2D.MatrixOrder.Prepend&gt;</ph>.","pos":[3543,3738],"source":" The following example is the same as the preceding example, except that <xref:System.Drawing.Drawing2D.MatrixOrder.Append> has been changed to <xref:System.Drawing.Drawing2D.MatrixOrder.Prepend>."},{"content":"The matrix multiplication is done in the order SRT, where S, R, and T are the matrices for scale, rotate, and translate, respectively.","pos":[3739,3873]},{"content":"The order of the composite transformation is first scale, then rotate, then translate.","pos":[3874,3960]},{"content":"The result of the immediately preceding example is the same as the result of the first example in this topic.","pos":[4269,4378]},{"content":"This is because we reversed both the order of the method calls and the order of the matrix multiplication.","pos":[4379,4485]},{"pos":[4494,4502],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4547,4630],"content":"<bpt id=\"p1\">[</bpt>Coordinate Systems and Transformations<ept id=\"p1\">](coordinate-systems-and-transformations.md)</ept>","source":"[Coordinate Systems and Transformations](coordinate-systems-and-transformations.md)"},{"pos":[4633,4713],"content":"<bpt id=\"p1\">[</bpt>Using Transformations in Managed GDI+<ept id=\"p1\">](using-transformations-in-managed-gdi.md)</ept>","source":"[Using Transformations in Managed GDI+](using-transformations-in-managed-gdi.md)"}]}