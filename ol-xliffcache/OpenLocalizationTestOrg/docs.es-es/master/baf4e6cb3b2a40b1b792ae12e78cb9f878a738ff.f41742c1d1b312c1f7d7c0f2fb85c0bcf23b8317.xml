{"content":"---\ntitle: \"Overriding the OnPaint Method\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"Paint event [Windows Forms], handling in Windows Forms custom control\"\n  - \"OnPaint method [Windows Forms], overriding in Windows Forms custom controls\"\nms.assetid: e9ca2723-0107-4540-bb21-4f5ffb4a9906\n---\n# Overriding the OnPaint Method\nThe basic steps for overriding any event defined in the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] are identical and are summarized in the following list.  \n  \n#### To override an inherited event  \n  \n1.  Override the protected `On`*EventName* method.  \n  \n2.  Call the `On`*EventName* method of the base class from the overridden `On`*EventName* method, so that registered delegates receive the event.  \n  \n The <xref:System.Windows.Forms.Control.Paint> event is discussed in detail here because every Windows Forms control must override the <xref:System.Windows.Forms.Control.Paint> event that it inherits from <xref:System.Windows.Forms.Control>. The base <xref:System.Windows.Forms.Control> class does not know how a derived control needs to be drawn and does not provide any painting logic in the <xref:System.Windows.Forms.Control.OnPaint%2A> method. The <xref:System.Windows.Forms.Control.OnPaint%2A> method of <xref:System.Windows.Forms.Control> simply dispatches the <xref:System.Windows.Forms.Control.Paint> event to registered event receivers.  \n  \n If you worked through the sample in [How to: Develop a Simple Windows Forms Control](how-to-develop-a-simple-windows-forms-control.md), you have seen an example of overriding the <xref:System.Windows.Forms.Control.OnPaint%2A> method. The following code fragment is taken from that sample.  \n  \n```vb  \nPublic Class FirstControl  \n   Inherits Control  \n  \n   Public Sub New()  \n   End Sub  \n  \n   Protected Overrides Sub OnPaint(e As PaintEventArgs)  \n      ' Call the OnPaint method of the base class.  \n      MyBase.OnPaint(e)  \n      ' Call methods of the System.Drawing.Graphics object.  \n      e.Graphics.DrawString(Text, Font, New SolidBrush(ForeColor), RectangleF.op_Implicit(ClientRectangle))  \n   End Sub  \nEnd Class   \n```  \n  \n```csharp  \npublic class FirstControl : Control {  \n   public FirstControl() {}  \n   protected override void OnPaint(PaintEventArgs e) {  \n      // Call the OnPaint method of the base class.  \n      base.OnPaint(e);  \n      // Call methods of the System.Drawing.Graphics object.  \n      e.Graphics.DrawString(Text, Font, new SolidBrush(ForeColor), ClientRectangle);  \n   }   \n}   \n```  \n  \n The <xref:System.Windows.Forms.PaintEventArgs> class contains data for the <xref:System.Windows.Forms.Control.Paint> event. It has two properties, as shown in the following code.  \n  \n```vb  \nPublic Class PaintEventArgs  \n   Inherits EventArgs  \n   ...  \n   Public ReadOnly Property ClipRectangle() As System.Drawing.Rectangle  \n      ...  \n   End Property  \n  \n   Public ReadOnly Property Graphics() As System.Drawing.Graphics  \n      ...  \n   End Property   \n   ...  \nEnd Class  \n```  \n  \n```csharp  \npublic class PaintEventArgs : EventArgs {  \n...  \n    public System.Drawing.Rectangle ClipRectangle {}  \n    public System.Drawing.Graphics Graphics {}  \n...  \n}  \n```  \n  \n <xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> is the rectangle to be painted, and the <xref:System.Windows.Forms.PaintEventArgs.Graphics%2A> property refers to a <xref:System.Drawing.Graphics> object. The classes in the <xref:System.Drawing?displayProperty=nameWithType> namespace are managed classes that provide access to the functionality of [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)], the new Windows graphics library. The <xref:System.Drawing.Graphics> object has methods to draw points, strings, lines, arcs, ellipses, and many other shapes.  \n  \n A control invokes its <xref:System.Windows.Forms.Control.OnPaint%2A> method whenever it needs to change its visual display. This method in turn raises the <xref:System.Windows.Forms.Control.Paint> event.  \n  \n## See also\n\n- [Events](../../../standard/events/index.md)\n- [Rendering a Windows Forms Control](rendering-a-windows-forms-control.md)\n- [Defining an Event](defining-an-event-in-windows-forms-controls.md)\n","nodes":[{"pos":[4,327],"embed":true,"restype":"x-metadata","content":"title: \"Overriding the OnPaint Method\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"Paint event [Windows Forms], handling in Windows Forms custom control\"\n  - \"OnPaint method [Windows Forms], overriding in Windows Forms custom controls\"\nms.assetid: e9ca2723-0107-4540-bb21-4f5ffb4a9906","nodes":[{"content":"Overriding the OnPaint Method","nodes":[{"pos":[0,29],"content":"Overriding the OnPaint Method","nodes":[{"content":"Overriding the OnPaint Method","pos":[0,29]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[334,363],"content":"Overriding the OnPaint Method","linkify":"Overriding the OnPaint Method","nodes":[{"content":"Overriding the OnPaint Method","pos":[0,29]}]},{"pos":[364,539],"content":"The basic steps for overriding any event defined in the <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> are identical and are summarized in the following list.","source":"The basic steps for overriding any event defined in the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] are identical and are summarized in the following list."},{"pos":[550,580],"content":"To override an inherited event","linkify":"To override an inherited event","nodes":[{"content":"To override an inherited event","pos":[0,30]}]},{"pos":[590,636],"content":"Override the protected <ph id=\"ph1\">`On`</ph><bpt id=\"p1\">*</bpt>EventName<ept id=\"p1\">*</ept> method.","source":"Override the protected `On`*EventName* method."},{"pos":[646,787],"content":"Call the <ph id=\"ph1\">`On`</ph><bpt id=\"p1\">*</bpt>EventName<ept id=\"p1\">*</ept> method of the base class from the overridden <ph id=\"ph2\">`On`</ph><bpt id=\"p2\">*</bpt>EventName<ept id=\"p2\">*</ept> method, so that registered delegates receive the event.","source":"Call the `On`*EventName* method of the base class from the overridden `On`*EventName* method, so that registered delegates receive the event."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.Paint&gt;</ph> event is discussed in detail here because every Windows Forms control must override the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.Paint&gt;</ph> event that it inherits from <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Control&gt;</ph>.","pos":[794,1034],"source":"The <xref:System.Windows.Forms.Control.Paint> event is discussed in detail here because every Windows Forms control must override the <xref:System.Windows.Forms.Control.Paint> event that it inherits from <xref:System.Windows.Forms.Control>."},{"content":"The base <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control&gt;</ph> class does not know how a derived control needs to be drawn and does not provide any painting logic in the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> method.","pos":[1035,1241],"source":" The base <xref:System.Windows.Forms.Control> class does not know how a derived control needs to be drawn and does not provide any painting logic in the <xref:System.Windows.Forms.Control.OnPaint%2A> method."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> method of <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control&gt;</ph> simply dispatches the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Control.Paint&gt;</ph> event to registered event receivers.","pos":[1242,1439],"source":" The <xref:System.Windows.Forms.Control.OnPaint%2A> method of <xref:System.Windows.Forms.Control> simply dispatches the <xref:System.Windows.Forms.Control.Paint> event to registered event receivers."},{"content":"If you worked through the sample in <bpt id=\"p1\">[</bpt>How to: Develop a Simple Windows Forms Control<ept id=\"p1\">](how-to-develop-a-simple-windows-forms-control.md)</ept>, you have seen an example of overriding the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> method.","pos":[1446,1679],"source":"If you worked through the sample in [How to: Develop a Simple Windows Forms Control](how-to-develop-a-simple-windows-forms-control.md), you have seen an example of overriding the <xref:System.Windows.Forms.Control.OnPaint%2A> method."},{"content":"The following code fragment is taken from that sample.","pos":[1680,1734]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Forms.PaintEventArgs&gt;</ph> class contains data for the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.Paint&gt;</ph> event.","pos":[2574,2697],"source":"The <xref:System.Windows.Forms.PaintEventArgs> class contains data for the <xref:System.Windows.Forms.Control.Paint> event."},{"content":"It has two properties, as shown in the following code.","pos":[2698,2752]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A&gt;</ph> is the rectangle to be painted, and the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.PaintEventArgs.Graphics%2A&gt;</ph> property refers to a <ph id=\"ph3\">&lt;xref:System.Drawing.Graphics&gt;</ph> object.","pos":[3251,3465],"source":"<xref:System.Windows.Forms.PaintEventArgs.ClipRectangle%2A> is the rectangle to be painted, and the <xref:System.Windows.Forms.PaintEventArgs.Graphics%2A> property refers to a <xref:System.Drawing.Graphics> object."},{"content":"The classes in the <ph id=\"ph1\">&lt;xref:System.Drawing?displayProperty=nameWithType&gt;</ph> namespace are managed classes that provide access to the functionality of <ph id=\"ph2\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph>, the new Windows graphics library.","pos":[3466,3712],"source":" The classes in the <xref:System.Drawing?displayProperty=nameWithType> namespace are managed classes that provide access to the functionality of [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)], the new Windows graphics library."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object has methods to draw points, strings, lines, arcs, ellipses, and many other shapes.","pos":[3713,3837],"source":" The <xref:System.Drawing.Graphics> object has methods to draw points, strings, lines, arcs, ellipses, and many other shapes."},{"content":"A control invokes its <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> method whenever it needs to change its visual display.","pos":[3844,3967],"source":"A control invokes its <xref:System.Windows.Forms.Control.OnPaint%2A> method whenever it needs to change its visual display."},{"content":"This method in turn raises the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.Paint&gt;</ph> event.","pos":[3968,4047],"source":" This method in turn raises the <xref:System.Windows.Forms.Control.Paint> event."},{"pos":[4056,4064],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4068,4111],"content":"<bpt id=\"p1\">[</bpt>Events<ept id=\"p1\">](../../../standard/events/index.md)</ept>","source":"[Events](../../../standard/events/index.md)"},{"pos":[4114,4187],"content":"<bpt id=\"p1\">[</bpt>Rendering a Windows Forms Control<ept id=\"p1\">](rendering-a-windows-forms-control.md)</ept>","source":"[Rendering a Windows Forms Control](rendering-a-windows-forms-control.md)"},{"pos":[4190,4257],"content":"<bpt id=\"p1\">[</bpt>Defining an Event<ept id=\"p1\">](defining-an-event-in-windows-forms-controls.md)</ept>","source":"[Defining an Event](defining-an-event-in-windows-forms-controls.md)"}]}