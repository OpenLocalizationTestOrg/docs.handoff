{"content":"---\ntitle: \"Deriving DataSet Relational Structure from XML Schema (XSD) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 8f6cd04d-6197-4bc4-9096-8c51c7e4acae\ncaps.latest.revision: 5\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# Deriving DataSet Relational Structure from XML Schema (XSD)\nThis section provides an overview of how the relational schema of a `DataSet` is built from an XML Schema definition language (XSD) schema document. In general, for each `complexType` child element of a schema element, a table is generated in the `DataSet`. The table structure is determined by the definition of the complex type. Tables are created in the `DataSet` for top-level elements in the schema. However, a table is only created for a top-level `complexType` element when the `complexType` element is nested inside another `complexType` element, in which case the nested `complexType` element is mapped to a `DataTable` within the `DataSet`.  \n  \n For more information about the XSD, see the World Wide Web Consortium (W3C) XML Schema Part 0: Primer Recommendation, the XML Schema Part 1: Structures Recommendation, and the XML Schema Part 2: Datatypes Recommendation, located at [http://www.w3.org/](http://www.w3.org/TR/).  \n  \n The following example demonstrates an XML Schema where `customers` is the child element of the `MyDataSet` element, which is a **DataSet** element.  \n  \n```  \n<xs:schema id=\"SomeID\"   \n            xmlns=\"\"   \n            xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"   \n            xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">  \n   <xs:element name=\"MyDataSet\" msdata:IsDataSet=\"true\">  \n     <xs:complexType>  \n       <xs:choice maxOccurs=\"unbounded\">  \n         <xs:element name=\"customers\" >   \n           <xs:complexType >  \n             <xs:sequence>  \n               <xs:element name=\"CustomerID\" type=\"xs:integer\"   \n                            minOccurs=\"0\" />  \n               <xs:element name=\"CompanyName\" type=\"xs:string\"   \n                            minOccurs=\"0\" />  \n               <xs:element name=\"Phone\" type=\"xs:string\" />  \n             </xs:sequence>  \n           </xs:complexType>  \n          </xs:element>  \n       </xs:choice>  \n     </xs:complexType>  \n   </xs:element>  \n </xs:schema>  \n```  \n  \n In the preceding example, the element `customers` is a complex type element. Therefore, the complex type definition is parsed, and the mapping process creates the following table.  \n  \n```  \nCustomers (CustomerID , CompanyName, Phone)  \n```  \n  \n The data type of each column in the table is derived from the XML Schema type of the corresponding element or attribute specified.  \n  \n> [!NOTE]\n>  If the element `customers` is of a simple XML Schema data type such as **integer**, no table is generated. Tables are only created for the top-level elements that are complex types.  \n  \n In the following XML Schema, the **Schema** element has two element children, `InStateCustomers` and `OutOfStateCustomers`.  \n  \n```  \n<xs:schema id=\"SomeID\"   \n            xmlns=\"\"   \n            xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"   \n            xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">  \n   <xs:element name=\"InStateCustomers\" type=\"customerType\" />  \n   <xs:element name=\"OutOfStateCustomers\" type=\"customerType\" />  \n    <xs:complexType name=\"customerType\" >  \n  \n     </xs:complexType>  \n  \n   <xs:element name=\"MyDataSet\" msdata:IsDataSet=\"true\">  \n     <xs:complexType>  \n       <xs:choice maxOccurs=\"unbounded\">  \n         <xs:element ref=\"customers\" />  \n       </xs:choice>  \n     </xs:complexType>  \n   </xs:element>  \n </xs:schema>  \n```  \n  \n Both the `InStateCustomers` and the `OutOfStateCustomers` child elements are complex type elements (`customerType`). Therefore, the mapping process generates the following two identical tables in the `DataSet`.  \n  \n```  \nInStateCustomers (CustomerID , CompanyName, Phone)  \nOutOfStateCustomers (CustomerID , CompanyName, Phone)  \n```  \n  \n## In This Section  \n [Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)  \n Describes the XML Schema elements used to create unique and foreign key constraints in a `DataSet`.  \n  \n [Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)  \n Describes the XML Schema elements used to create relations between table columns in a `DataSet`.  \n  \n [XML Schema Constraints and Relationships](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/xml-schema-constraints-and-relationships.md)  \n Describes how relations are created implicitly when using XML Schema elements to create constraints in a `DataSet`.  \n  \n## Related Sections  \n [Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)  \n Describes how to load and persist the relational structure and data in a `DataSet` as XML data.  \n  \n## See Also  \n [ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)","nodes":[{"pos":[12,88],"content":"Deriving DataSet Relational Structure from XML Schema (XSD) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Deriving DataSet Relational Structure from XML Schema (XSD) | Microsoft Docs","pos":[0,76]}]},{"pos":[397,456],"content":"Deriving DataSet Relational Structure from XML Schema (XSD)","linkify":"Deriving DataSet Relational Structure from XML Schema (XSD)","nodes":[{"content":"Deriving DataSet Relational Structure from XML Schema (XSD)","pos":[0,59]}]},{"content":"This section provides an overview of how the relational schema of a <ph id=\"ph1\">`DataSet`</ph> is built from an XML Schema definition language (XSD) schema document.","pos":[457,605],"source":"This section provides an overview of how the relational schema of a `DataSet` is built from an XML Schema definition language (XSD) schema document."},{"content":"In general, for each <ph id=\"ph1\">`complexType`</ph> child element of a schema element, a table is generated in the <ph id=\"ph2\">`DataSet`</ph>.","pos":[606,714],"source":" In general, for each `complexType` child element of a schema element, a table is generated in the `DataSet`."},{"content":"The table structure is determined by the definition of the complex type.","pos":[715,787]},{"content":"Tables are created in the <ph id=\"ph1\">`DataSet`</ph> for top-level elements in the schema.","pos":[788,861],"source":" Tables are created in the `DataSet` for top-level elements in the schema."},{"content":"However, a table is only created for a top-level <ph id=\"ph1\">`complexType`</ph> element when the <ph id=\"ph2\">`complexType`</ph> element is nested inside another <ph id=\"ph3\">`complexType`</ph> element, in which case the nested <ph id=\"ph4\">`complexType`</ph> element is mapped to a <ph id=\"ph5\">`DataTable`</ph> within the <ph id=\"ph6\">`DataSet`</ph>.","pos":[862,1107],"source":" However, a table is only created for a top-level `complexType` element when the `complexType` element is nested inside another `complexType` element, in which case the nested `complexType` element is mapped to a `DataTable` within the `DataSet`."},{"pos":[1114,1390],"content":"For more information about the XSD, see the World Wide Web Consortium (W3C) XML Schema Part 0: Primer Recommendation, the XML Schema Part 1: Structures Recommendation, and the XML Schema Part 2: Datatypes Recommendation, located at <bpt id=\"p1\">[</bpt>http://www.w3.org/<ept id=\"p1\">](http://www.w3.org/TR/)</ept>.","source":"For more information about the XSD, see the World Wide Web Consortium (W3C) XML Schema Part 0: Primer Recommendation, the XML Schema Part 1: Structures Recommendation, and the XML Schema Part 2: Datatypes Recommendation, located at [http://www.w3.org/](http://www.w3.org/TR/)."},{"pos":[1397,1544],"content":"The following example demonstrates an XML Schema where <ph id=\"ph1\">`customers`</ph> is the child element of the <ph id=\"ph2\">`MyDataSet`</ph> element, which is a <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> element.","source":"The following example demonstrates an XML Schema where `customers` is the child element of the `MyDataSet` element, which is a **DataSet** element."},{"content":"In the preceding example, the element <ph id=\"ph1\">`customers`</ph> is a complex type element.","pos":[2428,2504],"source":"In the preceding example, the element `customers` is a complex type element."},{"content":"Therefore, the complex type definition is parsed, and the mapping process creates the following table.","pos":[2505,2607]},{"content":"The data type of each column in the table is derived from the XML Schema type of the corresponding element or attribute specified.","pos":[2675,2805]},{"pos":[2813,3005],"content":"[!NOTE]\n If the element `customers` is of a simple XML Schema data type such as **integer**, no table is generated. Tables are only created for the top-level elements that are complex types.","leadings":["","> "],"nodes":[{"content":" If the element `customers` is of a simple XML Schema data type such as **integer**, no table is generated. Tables are only created for the top-level elements that are complex types.","pos":[8,190],"nodes":[{"content":"If the element <ph id=\"ph1\">`customers`</ph> is of a simple XML Schema data type such as <bpt id=\"p1\">**</bpt>integer<ept id=\"p1\">**</ept>, no table is generated.","pos":[1,107],"source":" If the element `customers` is of a simple XML Schema data type such as **integer**, no table is generated."},{"content":"Tables are only created for the top-level elements that are complex types.","pos":[108,182]}]}]},{"pos":[3012,3135],"content":"In the following XML Schema, the <bpt id=\"p1\">**</bpt>Schema<ept id=\"p1\">**</ept> element has two element children, <ph id=\"ph1\">`InStateCustomers`</ph> and <ph id=\"ph2\">`OutOfStateCustomers`</ph>.","source":"In the following XML Schema, the **Schema** element has two element children, `InStateCustomers` and `OutOfStateCustomers`."},{"content":"Both the <ph id=\"ph1\">`InStateCustomers`</ph> and the <ph id=\"ph2\">`OutOfStateCustomers`</ph> child elements are complex type elements (<ph id=\"ph3\">`customerType`</ph>).","pos":[3789,3905],"source":"Both the `InStateCustomers` and the `OutOfStateCustomers` child elements are complex type elements (`customerType`)."},{"content":"Therefore, the mapping process generates the following two identical tables in the <ph id=\"ph1\">`DataSet`</ph>.","pos":[3906,3999],"source":" Therefore, the mapping process generates the following two identical tables in the `DataSet`."},{"pos":[4132,4147],"content":"In This Section","linkify":"In This Section","nodes":[{"content":"In This Section","pos":[0,15]}]},{"content":"<bpt id=\"p1\">[</bpt>Mapping XML Schema (XSD) Constraints to DataSet Constraints<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)</ept>","pos":[4151,4343],"source":"[Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)"},{"content":"Describes the XML Schema elements used to create unique and foreign key constraints in a <ph id=\"ph1\">`DataSet`</ph>.","pos":[4347,4446],"source":" Describes the XML Schema elements used to create unique and foreign key constraints in a `DataSet`."},{"content":"<bpt id=\"p1\">[</bpt>Generating DataSet Relations from XML Schema (XSD)<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)</ept>","pos":[4453,4627],"source":"[Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)"},{"content":"Describes the XML Schema elements used to create relations between table columns in a <ph id=\"ph1\">`DataSet`</ph>.","pos":[4631,4727],"source":" Describes the XML Schema elements used to create relations between table columns in a `DataSet`."},{"content":"<bpt id=\"p1\">[</bpt>XML Schema Constraints and Relationships<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/xml-schema-constraints-and-relationships.md)</ept>","pos":[4734,4890],"source":"[XML Schema Constraints and Relationships](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/xml-schema-constraints-and-relationships.md)"},{"content":"Describes how relations are created implicitly when using XML Schema elements to create constraints in a <ph id=\"ph1\">`DataSet`</ph>.","pos":[4894,5009],"source":" Describes how relations are created implicitly when using XML Schema elements to create constraints in a `DataSet`."},{"pos":[5018,5034],"content":"Related Sections","linkify":"Related Sections","nodes":[{"content":"Related Sections","pos":[0,16]}]},{"content":"<bpt id=\"p1\">[</bpt>Using XML in a DataSet<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)</ept>","pos":[5038,5158],"source":"[Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)"},{"content":"Describes how to load and persist the relational structure and data in a <ph id=\"ph1\">`DataSet`</ph> as XML data.","pos":[5162,5257],"source":" Describes how to load and persist the relational structure and data in a `DataSet` as XML data."},{"pos":[5266,5274],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[5278,5381],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)"}]}