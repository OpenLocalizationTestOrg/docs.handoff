{"content":"---\ntitle: \"<add> of <scopedCertificates> Element\"\nms.date: \"03/30/2017\"\nms.assetid: e21c1ef8-d6d6-4bca-ac5a-6fbf4bd77412\n---\n# \\<add> of \\<scopedCertificates> Element\nAdds an X.509 certificate to the collection of scoped certificates.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \nendpointBehaviors section  \n\\<behavior>  \n\\<clientCredentials>  \n\\<serviceCertificate>  \n\\<scopedCertificates>  \n\\<add> element for \\<scopedCertificates>  \n  \n## Syntax  \n  \n```xml  \n<add findValue=\"String\"\n     storeLocation=\"CurrentUser/LocalMachine\"\n     storeName=\" CurrentUser/LocalMachine\"\n     targetUri=\"string\"\n     x509Type=\"FindByThumbprint/FindBySubjectName/FindBySubjectDistinguishedName/FindByIssuerName/FindByIssuerDistinguishedName/FindBySerialNumber/FindByTimeValid/FindByTimeNotYetValid/FindBySerialNumber/FindByTimeExpired/FindByTemplateName/FindByApplicationPolicy/FindByCertificatePolicy/FindByExtension/FindByKeyUsage/FindBySubjectKeyIdentifier\" />\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|targetUri|String. Specifies the URI of the service associated with the certificate.|  \n|findValue|String. The value to search for.|  \n|x509FindType|Enumeration. One of the certificate fields to search.|  \n|storeLocation|Enumeration. One of the two store locations to search.|  \n|storeName|Enumeration. One of the system stores to search.|  \n  \n## findValue Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|String|The value depends on the field (specified by the X509FindType attribute) being searched. For example, if searching for a thumbprint, the value must be a string of hexadecimal numbers.|  \n  \n## x509FindType Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|Values include: FindByThumbprint, FindBySubjectName, FindBySubjectDistinguishedName, FindByIssuerName, FindByIssuerDistinguishedName, FindBySerialNumber, FindByTimeValid, FindByTimeNotYetValid, FindBySerialNumber, FindByTimeExpired, FindByTemplateName, FindByApplicationPolicy, FindByCertificatePolicy, FindByExtension, FindByKeyUsage, FindBySubjectKeyIdentifier.|  \n  \n## storeLocation Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|CurrentUser or LocalMachine.|  \n  \n## storeName Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|Values include: AddressBook, AuthRoot, CertificateAuthority, Disallowed, My, Root, TrustedPeople, and TrustedPublisher.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<scopedCertificates>](../../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md)|Represents a collection of X.509 certificates provided by specific services (scoped) for authentication.|  \n  \n## Remarks  \n This element enables the client to configure a service certificate to use based on the URL of the service it communicates with. This is especially useful in issued token scenarios where a client can be communicating to multiple services (the end service as well as intermediary security token services). For bindings that use certificate-based message security, this certificate is used to encrypt messages to the service, and is expected to be used by the service for signing replies to the client.  \n  \n If a binding requires a certificate for the service and no specific certificate for the service URL is found in the ScopedCertificates, the default certificate is used.  \n  \n For more information, see the \"Scoped Certificates\" section of [How to: Create a Federated Client](../../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md).  \n  \n## Example  \n The following example adds an X.509 certificate the collection.  \n  \n```xml  \n<behaviors>\n  <endpointBehaviors>\n    <behavior name=\"MyEndpointBehavior\">\n      <clientCredentials>\n        <serviceCertificate>\n          <scopedCertificates>\n            <add targetUri=\"http://www.contoso.com\"\n                 findValue=\"www.Contoso.com\"\n                 storeLocation=\"LocalMachine\"\n                 storeName=\"Root\"\n                 x509FindType=\"FindByIssuerName\" />\n          </scopedCertificates>\n        </serviceCertificate>\n      </clientCredentials>\n    </behavior>\n  </endpointBehaviors>\n</behaviors>\n```  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.X509RecipientCertificateClientElement.ScopedCertificates%2A>\n- <xref:System.ServiceModel.Configuration.X509ScopedServiceCertificateElementCollection>\n- <xref:System.ServiceModel.Configuration.X509ScopedServiceCertificateElement>\n- <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>\n- <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.ScopedCertificates%2A>\n- [How to: Create a Federated Client](../../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md)\n- [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)\n- [Securing Clients](../../../../../docs/framework/wcf/securing-clients.md)\n- [Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)\n","nodes":[{"pos":[4,121],"embed":true,"restype":"x-metadata","content":"title: \"<add> of <scopedCertificates> Element\"\nms.date: \"03/30/2017\"\nms.assetid: e21c1ef8-d6d6-4bca-ac5a-6fbf4bd77412","nodes":[{"content":"<add> of <scopedCertificates> Element","nodes":[{"pos":[0,37],"content":"<ph id=\"ph1\">&lt;add&gt;</ph> of <ph id=\"ph2\">&lt;scopedCertificates&gt;</ph> Element","source":"<add> of <scopedCertificates> Element"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[128,167],"content":"\\<add> of \\<scopedCertificates> Element","linkify":"\\<add> of \\<scopedCertificates> Element","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>add&gt; of <ph id=\"ph2\">\\&lt;</ph>scopedCertificates&gt; Element","pos":[0,39],"source":"\\<add> of \\<scopedCertificates> Element"}]},{"content":"Adds an X.509 certificate to the collection of scoped certificates.","pos":[168,235]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[242,264],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[267,279],"source":"\\<behaviors>"},{"content":"endpointBehaviors section","pos":[282,307]},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[310,321],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;","pos":[324,344],"source":"\\<clientCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceCertificate&gt;","pos":[347,368],"source":"\\<serviceCertificate>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>scopedCertificates&gt;","pos":[371,392],"source":"\\<scopedCertificates>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>add&gt; element for <ph id=\"ph2\">\\&lt;</ph>scopedCertificates&gt;","pos":[395,435],"source":"\\<add> element for \\<scopedCertificates>"},{"pos":[444,450],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[965,988],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[992,1071]},{"pos":[1081,1091],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1098,1107]},{"content":"Description","pos":[1108,1119]},{"content":"targetUri","pos":[1162,1171]},{"content":"String.","pos":[1172,1179]},{"content":"Specifies the URI of the service associated with the certificate.","pos":[1180,1245]},{"content":"findValue","pos":[1250,1259]},{"content":"String.","pos":[1260,1267]},{"content":"The value to search for.","pos":[1268,1292]},{"content":"x509FindType","pos":[1297,1309]},{"content":"Enumeration.","pos":[1310,1322]},{"content":"One of the certificate fields to search.","pos":[1323,1363]},{"content":"storeLocation","pos":[1368,1381]},{"content":"Enumeration.","pos":[1382,1394]},{"content":"One of the two store locations to search.","pos":[1395,1436]},{"content":"storeName","pos":[1441,1450]},{"content":"Enumeration.","pos":[1451,1463]},{"content":"One of the system stores to search.","pos":[1464,1499]},{"pos":[1509,1528],"content":"findValue Attribute","linkify":"findValue Attribute","nodes":[{"content":"findValue Attribute","pos":[0,19]}]},{"content":"Value","pos":[1535,1540]},{"content":"Description","pos":[1541,1552]},{"content":"String","pos":[1591,1597]},{"content":"The value depends on the field (specified by the X509FindType attribute) being searched.","pos":[1598,1686]},{"content":"For example, if searching for a thumbprint, the value must be a string of hexadecimal numbers.","pos":[1687,1781]},{"pos":[1791,1813],"content":"x509FindType Attribute","linkify":"x509FindType Attribute","nodes":[{"content":"x509FindType Attribute","pos":[0,22]}]},{"content":"Value","pos":[1820,1825]},{"content":"Description","pos":[1826,1837]},{"content":"Enumeration","pos":[1876,1887]},{"content":"Values include: FindByThumbprint, FindBySubjectName, FindBySubjectDistinguishedName, FindByIssuerName, FindByIssuerDistinguishedName, FindBySerialNumber, FindByTimeValid, FindByTimeNotYetValid, FindBySerialNumber, FindByTimeExpired, FindByTemplateName, FindByApplicationPolicy, FindByCertificatePolicy, FindByExtension, FindByKeyUsage, FindBySubjectKeyIdentifier.","pos":[1888,2251]},{"pos":[2261,2284],"content":"storeLocation Attribute","linkify":"storeLocation Attribute","nodes":[{"content":"storeLocation Attribute","pos":[0,23]}]},{"content":"Value","pos":[2291,2296]},{"content":"Description","pos":[2297,2308]},{"content":"Enumeration","pos":[2347,2358]},{"content":"CurrentUser or LocalMachine.","pos":[2359,2387]},{"pos":[2397,2416],"content":"storeName Attribute","linkify":"storeName Attribute","nodes":[{"content":"storeName Attribute","pos":[0,19]}]},{"content":"Value","pos":[2423,2428]},{"content":"Description","pos":[2429,2440]},{"content":"Enumeration","pos":[2479,2490]},{"content":"Values include: AddressBook, AuthRoot, CertificateAuthority, Disallowed, My, Root, TrustedPeople, and TrustedPublisher.","pos":[2491,2610]},{"pos":[2621,2635],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[2639,2644]},{"pos":[2654,2669],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[2676,2683]},{"content":"Description","pos":[2684,2695]},{"pos":[2736,2851],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>scopedCertificates&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md)</ept>","source":"[\\<scopedCertificates>](../../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md)"},{"content":"Represents a collection of X.509 certificates provided by specific services (scoped) for authentication.","pos":[2852,2956]},{"pos":[2966,2973],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This element enables the client to configure a service certificate to use based on the URL of the service it communicates with.","pos":[2977,3104]},{"content":"This is especially useful in issued token scenarios where a client can be communicating to multiple services (the end service as well as intermediary security token services).","pos":[3105,3280]},{"content":"For bindings that use certificate-based message security, this certificate is used to encrypt messages to the service, and is expected to be used by the service for signing replies to the client.","pos":[3281,3476]},{"content":"If a binding requires a certificate for the service and no specific certificate for the service URL is found in the ScopedCertificates, the default certificate is used.","pos":[3483,3651]},{"pos":[3658,3844],"content":"For more information, see the \"Scoped Certificates\" section of <bpt id=\"p1\">[</bpt>How to: Create a Federated Client<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md)</ept>.","source":"For more information, see the \"Scoped Certificates\" section of [How to: Create a Federated Client](../../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md)."},{"pos":[3853,3860],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example adds an X.509 certificate the collection.","pos":[3864,3927]},{"pos":[4485,4493],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4948,5070],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Federated Client<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md)</ept>","source":"[How to: Create a Federated Client](../../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md)"},{"pos":[5073,5180],"content":"<bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>","source":"[Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)"},{"pos":[5183,5256],"content":"<bpt id=\"p1\">[</bpt>Securing Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/securing-clients.md)</ept>","source":"[Securing Clients](../../../../../docs/framework/wcf/securing-clients.md)"},{"pos":[5259,5374],"content":"<bpt id=\"p1\">[</bpt>Securing Services and Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)</ept>","source":"[Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)"}]}