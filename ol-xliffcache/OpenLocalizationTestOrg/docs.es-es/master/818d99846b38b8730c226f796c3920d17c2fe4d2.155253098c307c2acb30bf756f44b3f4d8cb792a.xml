{"content":"---\ntitle: \"&lt;tokenReplayCache&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 1572ab23-6933-41b5-bfb4-0c4548145500\ncaps.latest.revision: 8\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"\n---\n# &lt;tokenReplayCache&gt;\nRegisters a token replay cache with a service or a security token handler collection.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<caches>  \n\\<tokenReplayCache>  \n  \n## Syntax  \n  \n```  \n<system.identityModel>  \n  <identityConfiguration>  \n    <caches>  \n      <tokenReplayCache type=xs:string>  \n      </tokenReplayCache>  \n    </caches>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|type|A type that derives from the <xref:System.IdentityModel.Tokens.TokenReplayCache> class. For more information about how to specify a custom `type`, see [Custom Type References].\n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<caches>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/caches.md)|Registers the caches used by a service or a security token handler collection.|  \n  \n## Remarks  \n The token replay cache is used to detect replayed tokens. Token replay detection is enabled by the [\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md) element, which also specifies the maximum expiration time for tokens.  \n  \n## Example  \n The following XML shows the configuration of a custom cache for detecting replayed tokens.  \n  \n```  \n<caches>  \n  <tokenReplayCache type=\"MyCacheLibrary.MyTokenReplayCache, MyCacheLibrary\">  \n  </tokenReplayCache>  \n</caches>  \n```  \n  \n## See Also  \n <xref:System.IdentityModel.Tokens.TokenReplayCache>   \n [\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)\n","nodes":[{"pos":[4,355],"embed":true,"restype":"x-metadata","content":"title: \"&lt;tokenReplayCache&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 1572ab23-6933-41b5-bfb4-0c4548145500\ncaps.latest.revision: 8\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"","nodes":[{"content":"&lt;tokenReplayCache&gt; | Microsoft Docs","nodes":[{"pos":[0,41],"content":"&lt;tokenReplayCache&gt; | Microsoft Docs","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>tokenReplayCache<ph id=\"ph2\">&amp;gt;</ph> | Microsoft Docs","pos":[0,41],"source":"&lt;tokenReplayCache&gt; | Microsoft Docs"}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[362,386],"content":"&lt;tokenReplayCache&gt;","linkify":"&lt;tokenReplayCache&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>tokenReplayCache<ph id=\"ph2\">&amp;gt;</ph>","pos":[0,24],"source":"&lt;tokenReplayCache&gt;"}]},{"content":"Registers a token replay cache with a service or a security token handler collection.","pos":[387,472]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[479,502],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[505,529],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>caches&gt;","pos":[532,541],"source":"\\<caches>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>tokenReplayCache&gt;","pos":[544,563],"source":"\\<tokenReplayCache>"},{"pos":[572,578],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[811,834],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[838,918]},{"pos":[928,938],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[945,954]},{"content":"Description","pos":[955,966]},{"content":"type","pos":[1009,1013]},{"content":"A type that derives from the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Tokens.TokenReplayCache&gt;</ph> class.","pos":[1014,1101],"source":"A type that derives from the <xref:System.IdentityModel.Tokens.TokenReplayCache> class."},{"content":"For more information about how to specify a custom <ph id=\"ph1\">`type`</ph>, see [Custom Type References].","pos":[1102,1190],"source":" For more information about how to specify a custom `type`, see [Custom Type References]."},{"pos":[1198,1212],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[1216,1220]},{"pos":[1230,1245],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1252,1259]},{"content":"Description","pos":[1260,1271]},{"pos":[1312,1419],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>caches&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/caches.md)</ept>","source":"[\\<caches>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/caches.md)"},{"content":"Registers the caches used by a service or a security token handler collection.","pos":[1420,1498]},{"pos":[1508,1515],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The token replay cache is used to detect replayed tokens.","pos":[1519,1576]},{"content":"Token replay detection is enabled by the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>tokenReplayDetection&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)</ept> element, which also specifies the maximum expiration time for tokens.","pos":[1577,1823],"source":" Token replay detection is enabled by the [\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md) element, which also specifies the maximum expiration time for tokens."},{"pos":[1832,1839],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XML shows the configuration of a custom cache for detecting replayed tokens.","pos":[1843,1933]},{"pos":[2084,2092],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>tokenReplayDetection&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)</ept>","pos":[2152,2287],"source":"[\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)"}]}