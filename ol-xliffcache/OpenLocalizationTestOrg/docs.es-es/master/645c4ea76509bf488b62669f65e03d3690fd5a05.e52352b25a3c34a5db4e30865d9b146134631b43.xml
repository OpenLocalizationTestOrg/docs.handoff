{"content":"---\ntitle: \"How to: Add or remove Access Control List entries (.NET Framework only)\"\nms.date: \"01/14/2019\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords: \n  - \"ACEs [.NET Framework]\"\n  - \"ACLs [.NET Framework]\"\n  - \"access control entries [.NET Framework]\"\n  - \"I/O [.NET Framework], access control list entries\"\n  - \"access control lists [.NET Framework]\"\nms.assetid: 53758b39-bd9b-4640-bb04-cad5ed8d0abf\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# How to: Add or remove Access Control List entries (.NET Framework only)\nTo add or remove Access Control List (ACL) entries to or from a file or directory, get the <xref:System.Security.AccessControl.FileSecurity> or <xref:System.Security.AccessControl.DirectorySecurity> object from the file or directory. Modify the object, and then apply it back to the file or directory.  \n  \n## Add or remove an ACL entry from a file  \n  \n1.  Call the <xref:System.IO.File.GetAccessControl%2A?displayProperty=nameWithType> method to get a <xref:System.Security.AccessControl.FileSecurity> object that contains the current ACL entries of a file.  \n  \n2.  Add or remove ACL entries from the <xref:System.Security.AccessControl.FileSecurity> object returned from step 1.  \n  \n3. To apply the changes, pass the <xref:System.Security.AccessControl.FileSecurity> object to the <xref:System.IO.File.SetAccessControl%2A?displayProperty=nameWithType> method.  \n  \n## Add or remove an ACL entry from a directory  \n  \n1.  Call the <xref:System.IO.Directory.GetAccessControl%2A?displayProperty=nameWithType> method to get a <xref:System.Security.AccessControl.DirectorySecurity> object that contains the current ACL entries of a directory.  \n  \n2.  Add or remove ACL entries from the <xref:System.Security.AccessControl.DirectorySecurity> object returned from step 1.  \n  \n3.  To apply the changes, pass the <xref:System.Security.AccessControl.DirectorySecurity> object to the <xref:System.IO.Directory.SetAccessControl%2A?displayProperty=nameWithType> method.  \n  \n## Example  \n You must use a valid user or group account to run this example. The example uses a <xref:System.IO.File> object. Use the same procedure for the <xref:System.IO.FileInfo>, <xref:System.IO.Directory>, and <xref:System.IO.DirectoryInfo> classes.\n\n [!code-csharp[IO.File.GetAccessControl-SetAccessControl#1](../../../samples/snippets/csharp/VS_Snippets_CLR/IO.File.GetAccessControl-SetAccessControl/CS/sample.cs#1)]\n [!code-vb[IO.File.GetAccessControl-SetAccessControl#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/IO.File.GetAccessControl-SetAccessControl/VB/sample.vb#1)]  \n","nodes":[{"pos":[4,491],"embed":true,"restype":"x-metadata","content":"title: \"How to: Add or remove Access Control List entries (.NET Framework only)\"\nms.date: \"01/14/2019\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords: \n  - \"ACEs [.NET Framework]\"\n  - \"ACLs [.NET Framework]\"\n  - \"access control entries [.NET Framework]\"\n  - \"I/O [.NET Framework], access control list entries\"\n  - \"access control lists [.NET Framework]\"\nms.assetid: 53758b39-bd9b-4640-bb04-cad5ed8d0abf\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"How to: Add or remove Access Control List entries (.NET Framework only)","nodes":[{"pos":[0,71],"content":"How to: Add or remove Access Control List entries (.NET Framework only)","nodes":[{"content":"How to: Add or remove Access Control List entries (.NET Framework only)","pos":[0,71]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[498,569],"content":"How to: Add or remove Access Control List entries (.NET Framework only)","linkify":"How to: Add or remove Access Control List entries (.NET Framework only)","nodes":[{"content":"How to: Add or remove Access Control List entries (.NET Framework only)","pos":[0,71]}]},{"content":"To add or remove Access Control List (ACL) entries to or from a file or directory, get the <ph id=\"ph1\">&lt;xref:System.Security.AccessControl.FileSecurity&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Security.AccessControl.DirectorySecurity&gt;</ph> object from the file or directory.","pos":[570,803],"source":"To add or remove Access Control List (ACL) entries to or from a file or directory, get the <xref:System.Security.AccessControl.FileSecurity> or <xref:System.Security.AccessControl.DirectorySecurity> object from the file or directory."},{"content":"Modify the object, and then apply it back to the file or directory.","pos":[804,871]},{"pos":[880,918],"content":"Add or remove an ACL entry from a file","linkify":"Add or remove an ACL entry from a file","nodes":[{"content":"Add or remove an ACL entry from a file","pos":[0,38]}]},{"pos":[928,1129],"content":"Call the <ph id=\"ph1\">&lt;xref:System.IO.File.GetAccessControl%2A?displayProperty=nameWithType&gt;</ph> method to get a <ph id=\"ph2\">&lt;xref:System.Security.AccessControl.FileSecurity&gt;</ph> object that contains the current ACL entries of a file.","source":"Call the <xref:System.IO.File.GetAccessControl%2A?displayProperty=nameWithType> method to get a <xref:System.Security.AccessControl.FileSecurity> object that contains the current ACL entries of a file."},{"pos":[1139,1252],"content":"Add or remove ACL entries from the <ph id=\"ph1\">&lt;xref:System.Security.AccessControl.FileSecurity&gt;</ph> object returned from step 1.","source":"Add or remove ACL entries from the <xref:System.Security.AccessControl.FileSecurity> object returned from step 1."},{"pos":[1261,1434],"content":"To apply the changes, pass the <ph id=\"ph1\">&lt;xref:System.Security.AccessControl.FileSecurity&gt;</ph> object to the <ph id=\"ph2\">&lt;xref:System.IO.File.SetAccessControl%2A?displayProperty=nameWithType&gt;</ph> method.","source":"To apply the changes, pass the <xref:System.Security.AccessControl.FileSecurity> object to the <xref:System.IO.File.SetAccessControl%2A?displayProperty=nameWithType> method."},{"pos":[1443,1486],"content":"Add or remove an ACL entry from a directory","linkify":"Add or remove an ACL entry from a directory","nodes":[{"content":"Add or remove an ACL entry from a directory","pos":[0,43]}]},{"pos":[1496,1712],"content":"Call the <ph id=\"ph1\">&lt;xref:System.IO.Directory.GetAccessControl%2A?displayProperty=nameWithType&gt;</ph> method to get a <ph id=\"ph2\">&lt;xref:System.Security.AccessControl.DirectorySecurity&gt;</ph> object that contains the current ACL entries of a directory.","source":"Call the <xref:System.IO.Directory.GetAccessControl%2A?displayProperty=nameWithType> method to get a <xref:System.Security.AccessControl.DirectorySecurity> object that contains the current ACL entries of a directory."},{"pos":[1722,1840],"content":"Add or remove ACL entries from the <ph id=\"ph1\">&lt;xref:System.Security.AccessControl.DirectorySecurity&gt;</ph> object returned from step 1.","source":"Add or remove ACL entries from the <xref:System.Security.AccessControl.DirectorySecurity> object returned from step 1."},{"pos":[1850,2033],"content":"To apply the changes, pass the <ph id=\"ph1\">&lt;xref:System.Security.AccessControl.DirectorySecurity&gt;</ph> object to the <ph id=\"ph2\">&lt;xref:System.IO.Directory.SetAccessControl%2A?displayProperty=nameWithType&gt;</ph> method.","source":"To apply the changes, pass the <xref:System.Security.AccessControl.DirectorySecurity> object to the <xref:System.IO.Directory.SetAccessControl%2A?displayProperty=nameWithType> method."},{"pos":[2042,2049],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"You must use a valid user or group account to run this example.","pos":[2053,2116]},{"content":"The example uses a <ph id=\"ph1\">&lt;xref:System.IO.File&gt;</ph> object.","pos":[2117,2165],"source":" The example uses a <xref:System.IO.File> object."},{"content":"Use the same procedure for the <ph id=\"ph1\">&lt;xref:System.IO.FileInfo&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.IO.Directory&gt;</ph>, and <ph id=\"ph3\">&lt;xref:System.IO.DirectoryInfo&gt;</ph> classes.","pos":[2166,2295],"source":" Use the same procedure for the <xref:System.IO.FileInfo>, <xref:System.IO.Directory>, and <xref:System.IO.DirectoryInfo> classes."}]}