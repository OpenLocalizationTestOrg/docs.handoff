{"content":"---\ntitle: \"SQL Workflow Instance Store | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 8cd2f8a5-4bf8-46ea-8909-c7fdb314fabc\ncaps.latest.revision: 26\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# SQL Workflow Instance Store\nThe [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] ships with the SQL Workflow Instance Store, which allows workflows to persist state information about workflow instances in a SQL Server 2005 or SQL Server 2008 database. This feature is primarily implemented in the form of the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> class, which derives from the abstract <xref:System.Runtime.DurableInstancing.InstanceStore> class of the persistence framework. The SQL Workflow Instance Store feature constitutes a SQL persistence provider, which is a concrete implementation of the persistence API that a host uses to send persistence commands to the store.  \n  \n The SQL Workflow Instance Store supports both self-hosted workflows or workflow services that use <xref:System.Activities.WorkflowApplication> or <xref:System.ServiceModel.WorkflowServiceHost> as well as services hosted in WAS using <xref:System.ServiceModel.WorkflowServiceHost>. You can configure the SQL Workflow Instance Store feature for self-hosted services programmatically by using the object model exposed by the feature. You can configure this feature for services hosted by <xref:System.ServiceModel.WorkflowServiceHost> both programmatically by using the object model and also by using an XML configuration file.  \n  \n The SQL Workflow Instance Store feature (**SqlWorkflowInstanceStore** class) does not implement <xref:System.ServiceModel.Persistence.PersistenceProviderFactory> and hence does not offer persistence support for durable non-workflow WCF services. It also does not implement <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService> and hence does not offer persistence support for 3.x workflows. The feature supports persistence for only WF 4.0 (and later) workflows and workflow services. The feature also does not support any databases other than SQL Server 2005 and SQL Server 2008.  \n  \n The topics in this section describe properties and features of the SQL Workflow Instance Store and provide you with details on configuring the store.  \n  \n Windows Server App Fabric provides its own instance store and tooling to simplify the configuration and use of the instance store. [!INCLUDE[crdefault](../../../includes/crdefault-md.md)] see [Windows Server App Fabric Instance Store](http://go.microsoft.com/fwlink/?LinkId=201201). [!INCLUDE[crabout](../../../includes/crabout-md.md)] the App Fabric SQL Server Persistence Database see [App Fabric SQL Server Persistence Database](http://go.microsoft.com/fwlink/?LinkId=201202)  \n  \n## In This Section  \n  \n-   [Properties of SQL Workflow Instance Store](../../../docs/framework/windows-workflow-foundation/properties-of-sql-workflow-instance-store.md)  \n  \n-   [How to: Enable SQL Persistence for Workflows and Workflow Services](../../../docs/framework/windows-workflow-foundation/how-to-enable-sql-persistence-for-workflows-and-workflow-services.md)  \n  \n-   [Instance Activation](../../../docs/framework/windows-workflow-foundation/instance-activation.md)  \n  \n-   [Support for Queries](../../../docs/framework/windows-workflow-foundation/support-for-queries.md)  \n  \n-   [Store Extensibility](../../../docs/framework/windows-workflow-foundation/store-extensibility.md)  \n  \n-   [Security](../../../docs/framework/windows-workflow-foundation/security.md)  \n  \n-   [SQL Server Persistence Database](../../../docs/framework/windows-workflow-foundation/sql-server-persistence-database.md)  \n  \n## See Also  \n [Persistence Samples](http://go.microsoft.com/fwlink/?LinkID=177735)","nodes":[{"pos":[12,56],"content":"SQL Workflow Instance Store | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"SQL Workflow Instance Store | Microsoft Docs","pos":[0,44]}]},{"pos":[322,349],"content":"SQL Workflow Instance Store","linkify":"SQL Workflow Instance Store","nodes":[{"content":"SQL Workflow Instance Store","pos":[0,27]}]},{"content":"The <ph id=\"ph1\">[!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)]</ph> ships with the SQL Workflow Instance Store, which allows workflows to persist state information about workflow instances in a SQL Server 2005 or SQL Server 2008 database.","pos":[350,601],"source":"The [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] ships with the SQL Workflow Instance Store, which allows workflows to persist state information about workflow instances in a SQL Server 2005 or SQL Server 2008 database."},{"content":"This feature is primarily implemented in the form of the <ph id=\"ph1\">&lt;xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore&gt;</ph> class, which derives from the abstract <ph id=\"ph2\">&lt;xref:System.Runtime.DurableInstancing.InstanceStore&gt;</ph> class of the persistence framework.","pos":[602,855],"source":" This feature is primarily implemented in the form of the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> class, which derives from the abstract <xref:System.Runtime.DurableInstancing.InstanceStore> class of the persistence framework."},{"content":"The SQL Workflow Instance Store feature constitutes a SQL persistence provider, which is a concrete implementation of the persistence API that a host uses to send persistence commands to the store.","pos":[856,1053]},{"content":"The SQL Workflow Instance Store supports both self-hosted workflows or workflow services that use <ph id=\"ph1\">&lt;xref:System.Activities.WorkflowApplication&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.ServiceModel.WorkflowServiceHost&gt;</ph> as well as services hosted in WAS using <ph id=\"ph3\">&lt;xref:System.ServiceModel.WorkflowServiceHost&gt;</ph>.","pos":[1060,1340],"source":"The SQL Workflow Instance Store supports both self-hosted workflows or workflow services that use <xref:System.Activities.WorkflowApplication> or <xref:System.ServiceModel.WorkflowServiceHost> as well as services hosted in WAS using <xref:System.ServiceModel.WorkflowServiceHost>."},{"content":"You can configure the SQL Workflow Instance Store feature for self-hosted services programmatically by using the object model exposed by the feature.","pos":[1341,1490]},{"content":"You can configure this feature for services hosted by <ph id=\"ph1\">&lt;xref:System.ServiceModel.WorkflowServiceHost&gt;</ph> both programmatically by using the object model and also by using an XML configuration file.","pos":[1491,1684],"source":" You can configure this feature for services hosted by <xref:System.ServiceModel.WorkflowServiceHost> both programmatically by using the object model and also by using an XML configuration file."},{"content":"The SQL Workflow Instance Store feature (<bpt id=\"p1\">**</bpt>SqlWorkflowInstanceStore<ept id=\"p1\">**</ept> class) does not implement <ph id=\"ph1\">&lt;xref:System.ServiceModel.Persistence.PersistenceProviderFactory&gt;</ph> and hence does not offer persistence support for durable non-workflow WCF services.","pos":[1691,1936],"source":"The SQL Workflow Instance Store feature (**SqlWorkflowInstanceStore** class) does not implement <xref:System.ServiceModel.Persistence.PersistenceProviderFactory> and hence does not offer persistence support for durable non-workflow WCF services."},{"content":"It also does not implement <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService&gt;</ph> and hence does not offer persistence support for 3.x workflows.","pos":[1937,2093],"source":" It also does not implement <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService> and hence does not offer persistence support for 3.x workflows."},{"content":"The feature supports persistence for only WF 4.0 (and later) workflows and workflow services.","pos":[2094,2187]},{"content":"The feature also does not support any databases other than SQL Server 2005 and SQL Server 2008.","pos":[2188,2283]},{"content":"The topics in this section describe properties and features of the SQL Workflow Instance Store and provide you with details on configuring the store.","pos":[2290,2439]},{"content":"Windows Server App Fabric provides its own instance store and tooling to simplify the configuration and use of the instance store.","pos":[2446,2576]},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../includes/crdefault-md.md)]</ph> see <bpt id=\"p1\">[</bpt>Windows Server App Fabric Instance Store<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=201201)</ept>.","pos":[2577,2728],"source":"[!INCLUDE[crdefault](../../../includes/crdefault-md.md)] see [Windows Server App Fabric Instance Store](http://go.microsoft.com/fwlink/?LinkId=201201)."},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../includes/crabout-md.md)]</ph> the App Fabric SQL Server Persistence Database see <bpt id=\"p1\">[</bpt>App Fabric SQL Server Persistence Database<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=201202)</ept>","pos":[2729,2924],"source":"[!INCLUDE[crabout](../../../includes/crabout-md.md)] the App Fabric SQL Server Persistence Database see [App Fabric SQL Server Persistence Database](http://go.microsoft.com/fwlink/?LinkId=201202)"},{"pos":[2933,2948],"content":"In This Section","linkify":"In This Section","nodes":[{"content":"In This Section","pos":[0,15]}]},{"pos":[2958,3099],"content":"<bpt id=\"p1\">[</bpt>Properties of SQL Workflow Instance Store<ept id=\"p1\">](../../../docs/framework/windows-workflow-foundation/properties-of-sql-workflow-instance-store.md)</ept>","source":"[Properties of SQL Workflow Instance Store](../../../docs/framework/windows-workflow-foundation/properties-of-sql-workflow-instance-store.md)"},{"pos":[3109,3299],"content":"<bpt id=\"p1\">[</bpt>How to: Enable SQL Persistence for Workflows and Workflow Services<ept id=\"p1\">](../../../docs/framework/windows-workflow-foundation/how-to-enable-sql-persistence-for-workflows-and-workflow-services.md)</ept>","source":"[How to: Enable SQL Persistence for Workflows and Workflow Services](../../../docs/framework/windows-workflow-foundation/how-to-enable-sql-persistence-for-workflows-and-workflow-services.md)"},{"pos":[3309,3406],"content":"<bpt id=\"p1\">[</bpt>Instance Activation<ept id=\"p1\">](../../../docs/framework/windows-workflow-foundation/instance-activation.md)</ept>","source":"[Instance Activation](../../../docs/framework/windows-workflow-foundation/instance-activation.md)"},{"pos":[3416,3513],"content":"<bpt id=\"p1\">[</bpt>Support for Queries<ept id=\"p1\">](../../../docs/framework/windows-workflow-foundation/support-for-queries.md)</ept>","source":"[Support for Queries](../../../docs/framework/windows-workflow-foundation/support-for-queries.md)"},{"pos":[3523,3620],"content":"<bpt id=\"p1\">[</bpt>Store Extensibility<ept id=\"p1\">](../../../docs/framework/windows-workflow-foundation/store-extensibility.md)</ept>","source":"[Store Extensibility](../../../docs/framework/windows-workflow-foundation/store-extensibility.md)"},{"pos":[3630,3705],"content":"<bpt id=\"p1\">[</bpt>Security<ept id=\"p1\">](../../../docs/framework/windows-workflow-foundation/security.md)</ept>","source":"[Security](../../../docs/framework/windows-workflow-foundation/security.md)"},{"pos":[3715,3836],"content":"<bpt id=\"p1\">[</bpt>SQL Server Persistence Database<ept id=\"p1\">](../../../docs/framework/windows-workflow-foundation/sql-server-persistence-database.md)</ept>","source":"[SQL Server Persistence Database](../../../docs/framework/windows-workflow-foundation/sql-server-persistence-database.md)"},{"pos":[3845,3853],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3857,3925],"content":"<bpt id=\"p1\">[</bpt>Persistence Samples<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=177735)</ept>","source":"[Persistence Samples](http://go.microsoft.com/fwlink/?LinkID=177735)"}]}