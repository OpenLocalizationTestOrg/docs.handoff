{"content":"---\ntitle: \"How to: Configure an app to support .NET Framework 4 or later versions\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"configuring apps to support .NET Framework\"\n  - \".NET Framework, configuring apps\"\nms.assetid: 63c6b9a8-0088-4077-9aa3-521ab7290f79\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# How to: Configure an App to Support .NET Framework 4 or later versions\n\nAll apps that host the common language runtime (CLR) need to start, or *activate*, the CLR in order to run managed code. Typically, a   .NET Framework app runs on the version of the CLR that it was built on, but you can change this behavior for desktop apps by using an application configuration file (sometimes referred to as an app.config file). However, you cannot change the default activation behavior for Windows Store apps or Windows Phone apps by using an application configuration file. This article explains how to enable your desktop app to run on another version of the .NET Framework and provides an example of how to target version 4 or later versions.\n\n The version of the .NET Framework that an app runs on is determined in the following order:\n\n- Configuration file.\n\n     If the application configuration file includes [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) entries that specify one or more .NET Framework versions, and one of those versions is present on the user's computer, the app runs on that version. The configuration file reads [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) entries in the order they are listed, and uses the first .NET Framework version listed that is present on the user's computer. (Use the [\\<requiredRuntime> element](../../../docs/framework/configure-apps/file-schema/startup/requiredruntime-element.md) for version 1.0.)\n\n- Compiled version.\n\n     If there is no configuration file, but the version of the .NET Framework that the app was built on is present on the user's computer, the app runs on that version.\n\n- Latest version installed.\n\n     If the version of the .NET Framework that the app was built on is not present and a configuration file does not specify a version in a [\\<supportedRuntime> element](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md), the app tries to run on the latest version of the .NET Framework that is present on the user's computer.\n\n     However, .NET Framework 1.0, 1.1, 2.0, 3.0, and 3.5 apps do not automatically run on the .NET Framework 4 or later, and in some cases, the user may receive an error and may be prompted to install the .NET Framework 3.5. The activation behavior may also depend on the user’s operating system, because  different versions of Windows system include different versions of the .NET Framework. If your app supports both the .NET Framework 3.5 and 4 or later, we recommend that you indicate this with multiple entries in the configuration file to avoid .NET Framework initialization errors. For more information, see [Versions and Dependencies](versions-and-dependencies.md).\n\n You might also want to configure your .NET Framework 3.5 apps to run on the .NET Framework 4 or later versions, even on computers that have the .NET Framework 3.5 installed, to take advantage of the performance improvements in versions 4 and later versions.\n\n> [!IMPORTANT]\n> We recommend that you always test your app on every .NET Framework version that you support. See [Version Compatibility](version-compatibility.md) for information about upgrading your application to support later .NET Framework versions.\n\n For information about modifying your .NET Framework 1.0 and 1.1 apps to support Windows 7 and Windows 8, see [Migrating from the .NET Framework 1.1](migrating-from-the-net-framework-1-1.md).\n\n## To configure your app to run on the .NET Framework 4 or later versions\n\n1. Add or locate the configuration file for the .NET Framework project. The configuration file for an app is in the same directory and has the same name as the app, but has a .config extension. For example, for an app named MyExecutable.exe, the application configuration file is named MyExecutable.exe.config.\n\n     To add a configuration file, on the Visual Studio menu bar, choose **Project**, **Add New Item**. Choose **General** from the left pane, and then choose **Configuration File**. Name the configuration file *appName*.exe.config. These menu choices are not available for Windows Store app or Windows phone app projects, because you cannot change the activation policy on those platforms.\n\n2. Add the [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) element as follows to the application configuration file:\n\n    ```xml\n    <configuration>\n      <startup>\n        <supportedRuntime version=\"<version>\"/>\n      </startup>\n    </configuration>\n    ```\n\n     where *\\<version>* specifies the CLR version that aligns with the .NET Framework version that your app supports. Use the following strings:\n\n    - .NET Framework 1.0: \"v1.0.3705\"\n\n    - .NET Framework 1.1: \"v1.1.4322\"\n\n    - .NET Framework 2.0, 3.0, and 3.5: \"v2.0.50727\"\n\n    - .NET Framework 4 and later versions: \"v4.0\"\n\n     You can add multiple [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) elements, listed in order of preference, to specify support for multiple versions of the .NET Framework.\n\n The following table demonstrates how application configuration file settings and the .NET Framework versions installed on a computer determine the version that a .NET Framework 3.5 app runs on. The examples are specific to a .NET Framework 3.5 application, but you can use similar logic to target applications built with earlier .NET Framework versions. Note that the .NET Framework 2.0 version number (v2.0.50727) is used to specify the .NET Framework 3.5 in the application configuration file.\n\n|App.config file setting|On computer with version 3.5 installed|On computer with versions 3.5 and 4 or later versions installed|On computer with version 4 or later versions installed|\n|-|-|-|-|\n|None|Runs on 3.5|Runs on 3.5|Displays error message that prompts user to install the correct version*|\n|`<supportedRuntime version=\"v2.0.50727\"/>`|Runs on 3.5|Runs on 3.5|Displays error message that prompts user to install the correct version*|\n|`<supportedRuntime version=\"v2.0.50727\"/>` <br /> `<supportedRuntime version=\"v4.0\"/>`|Runs on 3.5|Runs on 3.5|Runs on 4 or later versions|\n|`<supportedRuntime version=\"v4.0\"/>` <br /> `<supportedRuntime version=\"v2.0.50727\"/>`|Runs on 3.5|Runs on 4 or later versions|Runs on 4 or later versions|\n|`<supportedRuntime version=\"v4.0\"/>`|Displays error message that prompts user to install the correct version*|Runs on 4 or later versions|Runs on 4 or later versions|\n\n \\* For more information about this error message and ways to avoid it, see [.NET Framework Initialization Errors: Managing the User Experience](../../../docs/framework/deployment/initialization-errors-managing-the-user-experience.md).\n\n## See also\n\n- [Migrating from the .NET Framework 1.1](migrating-from-the-net-framework-1-1.md)\n- [Migration Guide](index.md)","nodes":[{"pos":[4,301],"embed":true,"restype":"x-metadata","content":"title: \"How to: Configure an app to support .NET Framework 4 or later versions\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"configuring apps to support .NET Framework\"\n  - \".NET Framework, configuring apps\"\nms.assetid: 63c6b9a8-0088-4077-9aa3-521ab7290f79\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"How to: Configure an app to support .NET Framework 4 or later versions","nodes":[{"pos":[0,70],"content":"How to: Configure an app to support .NET Framework 4 or later versions","nodes":[{"content":"How to: Configure an app to support .NET Framework 4 or later versions","pos":[0,70]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[308,378],"content":"How to: Configure an App to Support .NET Framework 4 or later versions","linkify":"How to: Configure an App to Support .NET Framework 4 or later versions","nodes":[{"content":"How to: Configure an App to Support .NET Framework 4 or later versions","pos":[0,70]}]},{"content":"All apps that host the common language runtime (CLR) need to start, or <bpt id=\"p1\">*</bpt>activate<ept id=\"p1\">*</ept>, the CLR in order to run managed code.","pos":[380,500],"source":"All apps that host the common language runtime (CLR) need to start, or *activate*, the CLR in order to run managed code."},{"content":"Typically, a   .NET Framework app runs on the version of the CLR that it was built on, but you can change this behavior for desktop apps by using an application configuration file (sometimes referred to as an app.config file).","pos":[501,727]},{"content":"However, you cannot change the default activation behavior for Windows Store apps or Windows Phone apps by using an application configuration file.","pos":[728,875]},{"content":"This article explains how to enable your desktop app to run on another version of the .NET Framework and provides an example of how to target version 4 or later versions.","pos":[876,1046]},{"content":"The version of the .NET Framework that an app runs on is determined in the following order:","pos":[1049,1140]},{"content":"Configuration file.","pos":[1144,1163]},{"content":"If the application configuration file includes <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>supportedRuntime&gt;<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md)</ept> entries that specify one or more .NET Framework versions, and one of those versions is present on the user's computer, the app runs on that version.","pos":[1170,1475],"source":"If the application configuration file includes [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) entries that specify one or more .NET Framework versions, and one of those versions is present on the user's computer, the app runs on that version."},{"content":"The configuration file reads <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>supportedRuntime&gt;<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md)</ept> entries in the order they are listed, and uses the first .NET Framework version listed that is present on the user's computer.","pos":[1476,1741],"source":" The configuration file reads [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) entries in the order they are listed, and uses the first .NET Framework version listed that is present on the user's computer."},{"content":"(Use the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>requiredRuntime&gt; element<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/startup/requiredruntime-element.md)</ept> for version 1.0.)","pos":[1742,1884],"source":" (Use the [\\<requiredRuntime> element](../../../docs/framework/configure-apps/file-schema/startup/requiredruntime-element.md) for version 1.0.)"},{"content":"Compiled version.","pos":[1888,1905]},{"content":"If there is no configuration file, but the version of the .NET Framework that the app was built on is present on the user's computer, the app runs on that version.","pos":[1912,2075]},{"content":"Latest version installed.","pos":[2079,2104]},{"pos":[2111,2469],"content":"If the version of the .NET Framework that the app was built on is not present and a configuration file does not specify a version in a <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>supportedRuntime&gt; element<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md)</ept>, the app tries to run on the latest version of the .NET Framework that is present on the user's computer.","source":"If the version of the .NET Framework that the app was built on is not present and a configuration file does not specify a version in a [\\<supportedRuntime> element](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md), the app tries to run on the latest version of the .NET Framework that is present on the user's computer."},{"content":"However, .NET Framework 1.0, 1.1, 2.0, 3.0, and 3.5 apps do not automatically run on the .NET Framework 4 or later, and in some cases, the user may receive an error and may be prompted to install the .NET Framework 3.5.","pos":[2476,2695]},{"content":"The activation behavior may also depend on the user’s operating system, because  different versions of Windows system include different versions of the .NET Framework.","pos":[2696,2863]},{"content":"If your app supports both the .NET Framework 3.5 and 4 or later, we recommend that you indicate this with multiple entries in the configuration file to avoid .NET Framework initialization errors.","pos":[2864,3059]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Versions and Dependencies<ept id=\"p1\">](versions-and-dependencies.md)</ept>.","pos":[3060,3144],"source":" For more information, see [Versions and Dependencies](versions-and-dependencies.md)."},{"content":"You might also want to configure your .NET Framework 3.5 apps to run on the .NET Framework 4 or later versions, even on computers that have the .NET Framework 3.5 installed, to take advantage of the performance improvements in versions 4 and later versions.","pos":[3147,3404]},{"pos":[3408,3660],"content":"[!IMPORTANT]\nWe recommend that you always test your app on every .NET Framework version that you support. See [Version Compatibility](version-compatibility.md) for information about upgrading your application to support later .NET Framework versions.","leadings":["","> "],"nodes":[{"content":"We recommend that you always test your app on every .NET Framework version that you support. See [Version Compatibility](version-compatibility.md) for information about upgrading your application to support later .NET Framework versions.","pos":[13,250],"nodes":[{"content":"We recommend that you always test your app on every .NET Framework version that you support.","pos":[0,92]},{"content":"See <bpt id=\"p1\">[</bpt>Version Compatibility<ept id=\"p1\">](version-compatibility.md)</ept> for information about upgrading your application to support later .NET Framework versions.","pos":[93,237],"source":" See [Version Compatibility](version-compatibility.md) for information about upgrading your application to support later .NET Framework versions."}]}]},{"pos":[3663,3853],"content":"For information about modifying your .NET Framework 1.0 and 1.1 apps to support Windows 7 and Windows 8, see <bpt id=\"p1\">[</bpt>Migrating from the .NET Framework 1.1<ept id=\"p1\">](migrating-from-the-net-framework-1-1.md)</ept>.","source":"For information about modifying your .NET Framework 1.0 and 1.1 apps to support Windows 7 and Windows 8, see [Migrating from the .NET Framework 1.1](migrating-from-the-net-framework-1-1.md)."},{"pos":[3858,3928],"content":"To configure your app to run on the .NET Framework 4 or later versions","linkify":"To configure your app to run on the .NET Framework 4 or later versions","nodes":[{"content":"To configure your app to run on the .NET Framework 4 or later versions","pos":[0,70]}]},{"content":"Add or locate the configuration file for the .NET Framework project.","pos":[3933,4001]},{"content":"The configuration file for an app is in the same directory and has the same name as the app, but has a .config extension.","pos":[4002,4123]},{"content":"For example, for an app named MyExecutable.exe, the application configuration file is named MyExecutable.exe.config.","pos":[4124,4240]},{"content":"To add a configuration file, on the Visual Studio menu bar, choose <bpt id=\"p1\">**</bpt>Project<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Add New Item<ept id=\"p2\">**</ept>.","pos":[4247,4344],"source":"To add a configuration file, on the Visual Studio menu bar, choose **Project**, **Add New Item**."},{"content":"Choose <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> from the left pane, and then choose <bpt id=\"p2\">**</bpt>Configuration File<ept id=\"p2\">**</ept>.","pos":[4345,4423],"source":" Choose **General** from the left pane, and then choose **Configuration File**."},{"content":"Name the configuration file <bpt id=\"p1\">*</bpt>appName<ept id=\"p1\">*</ept>.exe.config. These menu choices are not available for Windows Store app or Windows phone app projects, because you cannot change the activation policy on those platforms.","pos":[4424,4631],"source":" Name the configuration file *appName*.exe.config. These menu choices are not available for Windows Store app or Windows phone app projects, because you cannot change the activation policy on those platforms."},{"pos":[4636,4811],"content":"Add the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>supportedRuntime&gt;<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md)</ept> element as follows to the application configuration file:","source":"Add the [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) element as follows to the application configuration file:"},{"content":"where <bpt id=\"p1\">*</bpt><ph id=\"ph1\">\\&lt;</ph>version&gt;<ept id=\"p1\">*</ept> specifies the CLR version that aligns with the .NET Framework version that your app supports.","pos":[4960,5072],"source":"where *\\<version>* specifies the CLR version that aligns with the .NET Framework version that your app supports."},{"content":"Use the following strings:","pos":[5073,5099]},{"content":".NET Framework 1.0: \"v1.0.3705\"","pos":[5107,5138]},{"content":".NET Framework 1.1: \"v1.1.4322\"","pos":[5146,5177]},{"content":".NET Framework 2.0, 3.0, and 3.5: \"v2.0.50727\"","pos":[5185,5231]},{"content":".NET Framework 4 and later versions: \"v4.0\"","pos":[5239,5282]},{"pos":[5289,5524],"content":"You can add multiple <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>supportedRuntime&gt;<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md)</ept> elements, listed in order of preference, to specify support for multiple versions of the .NET Framework.","source":"You can add multiple [\\<supportedRuntime>](../../../docs/framework/configure-apps/file-schema/startup/supportedruntime-element.md) elements, listed in order of preference, to specify support for multiple versions of the .NET Framework."},{"content":"The following table demonstrates how application configuration file settings and the .NET Framework versions installed on a computer determine the version that a .NET Framework 3.5 app runs on.","pos":[5527,5720]},{"content":"The examples are specific to a .NET Framework 3.5 application, but you can use similar logic to target applications built with earlier .NET Framework versions.","pos":[5721,5880]},{"content":"Note that the .NET Framework 2.0 version number (v2.0.50727) is used to specify the .NET Framework 3.5 in the application configuration file.","pos":[5881,6022]},{"content":"App.config file setting","pos":[6025,6048]},{"content":"On computer with version 3.5 installed","pos":[6049,6087]},{"content":"On computer with versions 3.5 and 4 or later versions installed","pos":[6088,6151]},{"content":"On computer with version 4 or later versions installed","pos":[6152,6206]},{"content":"None","pos":[6219,6223]},{"content":"Runs on 3.5","pos":[6224,6235]},{"content":"Runs on 3.5","pos":[6236,6247]},{"content":"Displays error message that prompts user to install the correct version*","pos":[6248,6320]},{"content":"Runs on 3.5","pos":[6366,6377]},{"content":"Runs on 3.5","pos":[6378,6389]},{"content":"Displays error message that prompts user to install the correct version*","pos":[6390,6462]},{"content":"Runs on 3.5","pos":[6552,6563]},{"content":"Runs on 3.5","pos":[6564,6575]},{"content":"Runs on 4 or later versions","pos":[6576,6603]},{"content":"Runs on 3.5","pos":[6693,6704]},{"content":"Runs on 4 or later versions","pos":[6705,6732]},{"content":"Runs on 4 or later versions","pos":[6733,6760]},{"content":"Displays error message that prompts user to install the correct version*","pos":[6800,6872]},{"content":"Runs on 4 or later versions","pos":[6873,6900]},{"content":"Runs on 4 or later versions","pos":[6901,6928]},{"pos":[6932,7166],"content":"<ph id=\"ph1\">\\*</ph> For more information about this error message and ways to avoid it, see <bpt id=\"p1\">[</bpt>.NET Framework Initialization Errors: Managing the User Experience<ept id=\"p1\">](../../../docs/framework/deployment/initialization-errors-managing-the-user-experience.md)</ept>.","source":"\\* For more information about this error message and ways to avoid it, see [.NET Framework Initialization Errors: Managing the User Experience](../../../docs/framework/deployment/initialization-errors-managing-the-user-experience.md)."},{"pos":[7171,7179],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7183,7263],"content":"<bpt id=\"p1\">[</bpt>Migrating from the .NET Framework 1.1<ept id=\"p1\">](migrating-from-the-net-framework-1-1.md)</ept>","source":"[Migrating from the .NET Framework 1.1](migrating-from-the-net-framework-1-1.md)"},{"pos":[7266,7293],"content":"<bpt id=\"p1\">[</bpt>Migration Guide<ept id=\"p1\">](index.md)</ept>","source":"[Migration Guide](index.md)"}]}