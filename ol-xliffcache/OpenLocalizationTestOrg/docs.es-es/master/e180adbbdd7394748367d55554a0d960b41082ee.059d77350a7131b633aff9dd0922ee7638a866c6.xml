{"content":"---\ntitle: \"Claims and Denying Access to Resources | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"claims [WCF], denying access to resources\"\nms.assetid: 145ebb41-680e-4256-b14c-1efb4af1e982\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Claims and Denying Access to Resources\n[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] supports a claims-based authorization mechanism. As well as allowing access to resources based on the presence of claims, systems often deny access to resources based on the presence of claims. Such systems should examine the <xref:System.IdentityModel.Policy.AuthorizationContext> for claims that result in access being denied before looking for claims that result in access being allowed.  \n  \n For example, a system might deny access to a resource to anyone who has a claim with a type of `Age`, a right of <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>, and a resource value of `Under 21` only when that identity also has a claim of type `Name`, a right of <xref:System.IdentityModel.Claims.Rights.Identity%2A>, and a resource value of `Mallory`. Put another way, the system denies access to anyone who is under 21 years old and grants access when the name is Mallory. To correctly implement this semantic, it is important to look for the `Age` claim first and determine whether the age is under 21 years old. Otherwise, if Mallory is under 21, then the resource may be granted access solely on the basis of the `Name` claim.  \n  \n## See Also  \n [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)   \n [Claims and Tokens](../../../../docs/framework/wcf/feature-details/claims-and-tokens.md)","nodes":[{"pos":[4,428],"embed":true,"restype":"x-metadata","content":"title: \"Claims and Denying Access to Resources | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"claims [WCF], denying access to resources\"\nms.assetid: 145ebb41-680e-4256-b14c-1efb4af1e982\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Claims and Denying Access to Resources | Microsoft Docs","nodes":[{"pos":[0,55],"content":"Claims and Denying Access to Resources | Microsoft Docs","nodes":[{"content":"Claims and Denying Access to Resources | Microsoft Docs","pos":[0,55]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[435,473],"content":"Claims and Denying Access to Resources","linkify":"Claims and Denying Access to Resources","nodes":[{"content":"Claims and Denying Access to Resources","pos":[0,38]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> supports a claims-based authorization mechanism.","pos":[474,578],"source":"[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] supports a claims-based authorization mechanism."},{"content":"As well as allowing access to resources based on the presence of claims, systems often deny access to resources based on the presence of claims.","pos":[579,723]},{"content":"Such systems should examine the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Policy.AuthorizationContext&gt;</ph> for claims that result in access being denied before looking for claims that result in access being allowed.","pos":[724,920],"source":" Such systems should examine the <xref:System.IdentityModel.Policy.AuthorizationContext> for claims that result in access being denied before looking for claims that result in access being allowed."},{"content":"For example, a system might deny access to a resource to anyone who has a claim with a type of <ph id=\"ph1\">`Age`</ph>, a right of <ph id=\"ph2\">&lt;xref:System.IdentityModel.Claims.Rights.PossessProperty%2A&gt;</ph>, and a resource value of <ph id=\"ph3\">`Under 21`</ph> only when that identity also has a claim of type <ph id=\"ph4\">`Name`</ph>, a right of <ph id=\"ph5\">&lt;xref:System.IdentityModel.Claims.Rights.Identity%2A&gt;</ph>, and a resource value of <ph id=\"ph6\">`Mallory`</ph>.","pos":[927,1294],"source":"For example, a system might deny access to a resource to anyone who has a claim with a type of `Age`, a right of <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>, and a resource value of `Under 21` only when that identity also has a claim of type `Name`, a right of <xref:System.IdentityModel.Claims.Rights.Identity%2A>, and a resource value of `Mallory`."},{"content":"Put another way, the system denies access to anyone who is under 21 years old and grants access when the name is Mallory.","pos":[1295,1416]},{"content":"To correctly implement this semantic, it is important to look for the <ph id=\"ph1\">`Age`</ph> claim first and determine whether the age is under 21 years old.","pos":[1417,1557],"source":" To correctly implement this semantic, it is important to look for the `Age` claim first and determine whether the age is under 21 years old."},{"content":"Otherwise, if Mallory is under 21, then the resource may be granted access solely on the basis of the <ph id=\"ph1\">`Name`</ph> claim.","pos":[1558,1673],"source":" Otherwise, if Mallory is under 21, then the resource may be granted access solely on the basis of the `Name` claim."},{"pos":[1682,1690],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Managing Claims and Authorization with the Identity Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)</ept><ph id=\"ph1\"> </ph>","pos":[1694,1863],"source":"[Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md) "},{"content":"<bpt id=\"p1\">[</bpt>Claims and Tokens<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/claims-and-tokens.md)</ept>","pos":[1867,1955],"source":"[Claims and Tokens](../../../../docs/framework/wcf/feature-details/claims-and-tokens.md)"}]}