{"content":"---\ntitle: \"Generating a WCF Client from Service Metadata\"\nms.date: \"03/30/2017\"\nms.assetid: 27f8f545-cc44-412a-b104-617e0781b803\n---\n# Generating a WCF Client from Service Metadata\nThis topic describes how to use the various switches in Svcutil.exe to generate clients from metadata documents.  \n  \n Metadata documents can be on a durable storage or be retrieved online. Online retrieval follows either the WS-MetadataExchange protocol or the Microsoft Discovery (DISCO) protocol. Svcutil.exe issues the following metadata requests simultaneously to retrieve metadata:  \n  \n-   WS-MetadataExchange (MEX) request to the supplied address.  \n  \n-   MEX request to the supplied address with `/mex` appended.  \n  \n-   DISCO request (using the [DiscoveryClientProtocol](https://go.microsoft.com/fwlink/?LinkId=94777) from ASP.NET Web services) to the supplied address.  \n  \n Svcutil.exe generates the client based on the Web Services Description Language (WSDL) or policy file received from the service. The user principal name (UPN) is generated by concatenating the user name with \"\\@\" and then adding a fully-qualified domain name (FQDN). However, for users who registered on Active Directory, this format is not valid and the UPN that the tool generates causes a failure in the Kerberos authentication with the following error message: **The logon attempt failed.** To resolve this problem, manually fix the client file that the tool generated.  \n  \n```  \nsvcutil.exe [/t:code]  <metadataDocumentPath>* | <url>* | <epr>  \n```  \n  \n## Referencing and Sharing Types  \n  \n|Option|Description|  \n|------------|-----------------|  \n|**/reference:\\<file path>**|References types in the specified assembly. When generating clients, use this option to specify assemblies that might contain types that represent the metadata being imported.<br /><br /> Short form: `/r`|  \n|**/excludeType:\\<type>**|Specifies a fully-qualified or assembly-qualified type name to be excluded from referenced contract types.<br /><br /> Short form: `/et`|  \n  \n## Choosing a Serializer  \n  \n|Option|Description|  \n|------------|-----------------|  \n|**/serializer:Auto**|Automatically selects the serializer. This uses the `DataContract` serializer. If this fails, the `XmlSerializer` is used.<br /><br /> Short Form: `/ser:Auto`|  \n|**/serializer:DataContractSerializer**|Generates data types that use the `DataContract` serializer for serialization and deserialization.<br /><br /> Short form: `/ser:DataContractSerializer`|  \n|**/serializer:XmlSerializer**|Generates data types that use the `XmlSerializer` for serialization and deserialization.<br /><br /> Short form: `/ser:XmlSerializer`|  \n|**/importXmlTypes**|Configures the `DataContract` serializer to import non-`DataContract` types as `IXmlSerializable` types.<br /><br /> Short form: `/ixt`|  \n|**/dataContractOnly**|Generates code for `DataContract` types only. `ServiceContract` types are generated.<br /><br /> You should specify only local metadata files for this option.<br /><br /> Short form: `/dconly`|  \n  \n## Choosing a Language for the Client  \n  \n|Option|Description|  \n|------------|-----------------|  \n|**/language:\\<language>**|Specifies the programming language to use for code generation. Provide either a language name registered in the Machine.config file or the fully-qualified name of a class that inherits from <xref:System.CodeDom.Compiler.CodeDomProvider>.<br /><br /> Values: c#, cs, csharp, vb, vbs, visualbasic, vbscript, javascript, c++, mc, cpp<br /><br /> Default: csharp<br /><br /> Short form: `/l`<br /><br /> For more information, see [CodeDomProvider Class](https://go.microsoft.com/fwlink/?LinkId=94778).|  \n  \n## Choosing a Namespace for the Client  \n  \n|Option|Description|  \n|------------|-----------------|  \n|**/namespace:\\<string,string>**|Specifies a mapping from a WSDL or XML Schema `targetNamespace` to a common language runtime (CLR) namespace. Using a wildcard (*) for the `targetNamespace` maps all `targetNamespaces` without an explicit mapping to that CLR namespace.<br /><br /> To make sure that the message contract name does not collide with the operation name, either qualify the type reference with double colons (`::`) or make sure the names are unique.<br /><br /> Default: Derived from the target namespace of the schema document for `DataContracts`. The default namespace is used for all other generated types.<br /><br /> Short form: `/n`|  \n  \n## Choosing a Data Binding  \n  \n|Option|Description|  \n|------------|-----------------|  \n|**/enableDataBinding**|Implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface on all `DataContract` types to enable data binding.<br /><br /> Short form: `/edb`|  \n  \n## Generating Configuration  \n  \n|Option|Description|  \n|------------|-----------------|  \n|**/config:\\<configFile>**|Specifies the file name for the generated configuration file.<br /><br /> Default: output.config|  \n|**/mergeConfig**|Merges the generated configuration into an existing file, instead of overwriting the existing file.|  \n|**/noConfig**|Do not generate configuration files.|  \n  \n## See also\n\n- [Using Metadata](../../../../docs/framework/wcf/feature-details/using-metadata.md)\n- [Metadata Architecture Overview](../../../../docs/framework/wcf/feature-details/metadata-architecture-overview.md)\n","nodes":[{"pos":[4,129],"embed":true,"restype":"x-metadata","content":"title: \"Generating a WCF Client from Service Metadata\"\nms.date: \"03/30/2017\"\nms.assetid: 27f8f545-cc44-412a-b104-617e0781b803","nodes":[{"content":"Generating a WCF Client from Service Metadata","nodes":[{"pos":[0,45],"content":"Generating a WCF Client from Service Metadata","nodes":[{"content":"Generating a WCF Client from Service Metadata","pos":[0,45]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[136,181],"content":"Generating a WCF Client from Service Metadata","linkify":"Generating a WCF Client from Service Metadata","nodes":[{"content":"Generating a WCF Client from Service Metadata","pos":[0,45]}]},{"content":"This topic describes how to use the various switches in Svcutil.exe to generate clients from metadata documents.","pos":[182,294]},{"content":"Metadata documents can be on a durable storage or be retrieved online.","pos":[301,371]},{"content":"Online retrieval follows either the WS-MetadataExchange protocol or the Microsoft Discovery (DISCO) protocol.","pos":[372,481]},{"content":"Svcutil.exe issues the following metadata requests simultaneously to retrieve metadata:","pos":[482,569]},{"content":"WS-MetadataExchange (MEX) request to the supplied address.","pos":[579,637]},{"pos":[647,704],"content":"MEX request to the supplied address with <ph id=\"ph1\">`/mex`</ph> appended.","source":"MEX request to the supplied address with `/mex` appended."},{"pos":[714,863],"content":"DISCO request (using the <bpt id=\"p1\">[</bpt>DiscoveryClientProtocol<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=94777)</ept> from ASP.NET Web services) to the supplied address.","source":"DISCO request (using the [DiscoveryClientProtocol](https://go.microsoft.com/fwlink/?LinkId=94777) from ASP.NET Web services) to the supplied address."},{"content":"Svcutil.exe generates the client based on the Web Services Description Language (WSDL) or policy file received from the service.","pos":[870,998]},{"content":"The user principal name (UPN) is generated by concatenating the user name with \"<ph id=\"ph1\">\\@</ph>\" and then adding a fully-qualified domain name (FQDN).","pos":[999,1136],"source":" The user principal name (UPN) is generated by concatenating the user name with \"\\@\" and then adding a fully-qualified domain name (FQDN)."},{"content":"However, for users who registered on Active Directory, this format is not valid and the UPN that the tool generates causes a failure in the Kerberos authentication with the following error message: <bpt id=\"p1\">**</bpt>The logon attempt failed.<ept id=\"p1\">**</ept>","pos":[1137,1364],"source":" However, for users who registered on Active Directory, this format is not valid and the UPN that the tool generates causes a failure in the Kerberos authentication with the following error message: **The logon attempt failed.**"},{"content":"To resolve this problem, manually fix the client file that the tool generated.","pos":[1365,1443]},{"pos":[1533,1562],"content":"Referencing and Sharing Types","linkify":"Referencing and Sharing Types","nodes":[{"content":"Referencing and Sharing Types","pos":[0,29]}]},{"content":"Option","pos":[1569,1575]},{"content":"Description","pos":[1576,1587]},{"pos":[1627,1654],"content":"<bpt id=\"p1\">**</bpt>/reference:<ph id=\"ph1\">\\&lt;</ph>file path&gt;<ept id=\"p1\">**</ept>","source":"**/reference:\\<file path>**"},{"content":"References types in the specified assembly.","pos":[1655,1698]},{"content":"When generating clients, use this option to specify assemblies that might contain types that represent the metadata being imported.","pos":[1699,1830]},{"content":"Short form: <ph id=\"ph1\">`/r`</ph>","pos":[1843,1859],"source":"Short form: `/r`"},{"pos":[1864,1888],"content":"<bpt id=\"p1\">**</bpt>/excludeType:<ph id=\"ph1\">\\&lt;</ph>type&gt;<ept id=\"p1\">**</ept>","source":"**/excludeType:\\<type>**"},{"content":"Specifies a fully-qualified or assembly-qualified type name to be excluded from referenced contract types.","pos":[1889,1995]},{"content":"Short form: <ph id=\"ph1\">`/et`</ph>","pos":[2008,2025],"source":"Short form: `/et`"},{"pos":[2035,2056],"content":"Choosing a Serializer","linkify":"Choosing a Serializer","nodes":[{"content":"Choosing a Serializer","pos":[0,21]}]},{"content":"Option","pos":[2063,2069]},{"content":"Description","pos":[2070,2081]},{"pos":[2121,2141],"content":"<bpt id=\"p1\">**</bpt>/serializer:Auto<ept id=\"p1\">**</ept>","source":"**/serializer:Auto**"},{"content":"Automatically selects the serializer.","pos":[2142,2179]},{"content":"This uses the <ph id=\"ph1\">`DataContract`</ph> serializer.","pos":[2180,2220],"source":" This uses the `DataContract` serializer."},{"content":"If this fails, the <ph id=\"ph1\">`XmlSerializer`</ph> is used.","pos":[2221,2264],"source":" If this fails, the `XmlSerializer` is used."},{"content":"Short Form: <ph id=\"ph1\">`/ser:Auto`</ph>","pos":[2277,2300],"source":"Short Form: `/ser:Auto`"},{"pos":[2305,2343],"content":"<bpt id=\"p1\">**</bpt>/serializer:DataContractSerializer<ept id=\"p1\">**</ept>","source":"**/serializer:DataContractSerializer**"},{"content":"Generates data types that use the <ph id=\"ph1\">`DataContract`</ph> serializer for serialization and deserialization.","pos":[2344,2442],"source":"Generates data types that use the `DataContract` serializer for serialization and deserialization."},{"content":"Short form: <ph id=\"ph1\">`/ser:DataContractSerializer`</ph>","pos":[2455,2496],"source":"Short form: `/ser:DataContractSerializer`"},{"pos":[2501,2530],"content":"<bpt id=\"p1\">**</bpt>/serializer:XmlSerializer<ept id=\"p1\">**</ept>","source":"**/serializer:XmlSerializer**"},{"content":"Generates data types that use the <ph id=\"ph1\">`XmlSerializer`</ph> for serialization and deserialization.","pos":[2531,2619],"source":"Generates data types that use the `XmlSerializer` for serialization and deserialization."},{"content":"Short form: <ph id=\"ph1\">`/ser:XmlSerializer`</ph>","pos":[2632,2664],"source":"Short form: `/ser:XmlSerializer`"},{"pos":[2669,2688],"content":"<bpt id=\"p1\">**</bpt>/importXmlTypes<ept id=\"p1\">**</ept>","source":"**/importXmlTypes**"},{"content":"Configures the <ph id=\"ph1\">`DataContract`</ph> serializer to import non-<ph id=\"ph2\">`DataContract`</ph> types as <ph id=\"ph3\">`IXmlSerializable`</ph> types.","pos":[2689,2793],"source":"Configures the `DataContract` serializer to import non-`DataContract` types as `IXmlSerializable` types."},{"content":"Short form: <ph id=\"ph1\">`/ixt`</ph>","pos":[2806,2824],"source":"Short form: `/ixt`"},{"pos":[2829,2850],"content":"<bpt id=\"p1\">**</bpt>/dataContractOnly<ept id=\"p1\">**</ept>","source":"**/dataContractOnly**"},{"content":"Generates code for <ph id=\"ph1\">`DataContract`</ph> types only.","pos":[2851,2896],"source":"Generates code for `DataContract` types only."},{"content":"<ph id=\"ph1\">`ServiceContract`</ph> types are generated.","pos":[2897,2935],"source":"`ServiceContract` types are generated."},{"content":"You should specify only local metadata files for this option.","pos":[2948,3009]},{"content":"Short form: <ph id=\"ph1\">`/dconly`</ph>","pos":[3022,3043],"source":"Short form: `/dconly`"},{"pos":[3053,3087],"content":"Choosing a Language for the Client","linkify":"Choosing a Language for the Client","nodes":[{"content":"Choosing a Language for the Client","pos":[0,34]}]},{"content":"Option","pos":[3094,3100]},{"content":"Description","pos":[3101,3112]},{"pos":[3152,3177],"content":"<bpt id=\"p1\">**</bpt>/language:<ph id=\"ph1\">\\&lt;</ph>language&gt;<ept id=\"p1\">**</ept>","source":"**/language:\\<language>**"},{"content":"Specifies the programming language to use for code generation.","pos":[3178,3240]},{"content":"Provide either a language name registered in the Machine.config file or the fully-qualified name of a class that inherits from <ph id=\"ph1\">&lt;xref:System.CodeDom.Compiler.CodeDomProvider&gt;</ph>.","pos":[3241,3415],"source":" Provide either a language name registered in the Machine.config file or the fully-qualified name of a class that inherits from <xref:System.CodeDom.Compiler.CodeDomProvider>."},{"content":"Values: c#, cs, csharp, vb, vbs, visualbasic, vbscript, javascript, c++, mc, cpp","pos":[3428,3508]},{"content":"Default: csharp","pos":[3521,3536]},{"content":"Short form: <ph id=\"ph1\">`/l`</ph>","pos":[3549,3565],"source":"Short form: `/l`"},{"content":"For more information, see <bpt id=\"p1\">[</bpt>CodeDomProvider Class<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=94778)</ept>.","pos":[3578,3675],"source":"For more information, see [CodeDomProvider Class](https://go.microsoft.com/fwlink/?LinkId=94778)."},{"pos":[3685,3720],"content":"Choosing a Namespace for the Client","linkify":"Choosing a Namespace for the Client","nodes":[{"content":"Choosing a Namespace for the Client","pos":[0,35]}]},{"content":"Option","pos":[3727,3733]},{"content":"Description","pos":[3734,3745]},{"pos":[3785,3816],"content":"<bpt id=\"p1\">**</bpt>/namespace:<ph id=\"ph1\">\\&lt;</ph>string,string&gt;<ept id=\"p1\">**</ept>","source":"**/namespace:\\<string,string>**"},{"content":"Specifies a mapping from a WSDL or XML Schema <ph id=\"ph1\">`targetNamespace`</ph> to a common language runtime (CLR) namespace.","pos":[3817,3926],"source":"Specifies a mapping from a WSDL or XML Schema `targetNamespace` to a common language runtime (CLR) namespace."},{"content":"Using a wildcard (*) for the <ph id=\"ph1\">`targetNamespace`</ph> maps all <ph id=\"ph2\">`targetNamespaces`</ph> without an explicit mapping to that CLR namespace.","pos":[3927,4052],"source":" Using a wildcard (*) for the `targetNamespace` maps all `targetNamespaces` without an explicit mapping to that CLR namespace."},{"content":"To make sure that the message contract name does not collide with the operation name, either qualify the type reference with double colons (<ph id=\"ph1\">`::`</ph>) or make sure the names are unique.","pos":[4065,4245],"source":"To make sure that the message contract name does not collide with the operation name, either qualify the type reference with double colons (`::`) or make sure the names are unique."},{"content":"Default: Derived from the target namespace of the schema document for <ph id=\"ph1\">`DataContracts`</ph>.","pos":[4258,4344],"source":"Default: Derived from the target namespace of the schema document for `DataContracts`."},{"content":"The default namespace is used for all other generated types.","pos":[4345,4405]},{"content":"Short form: <ph id=\"ph1\">`/n`</ph>","pos":[4418,4434],"source":"Short form: `/n`"},{"pos":[4444,4467],"content":"Choosing a Data Binding","linkify":"Choosing a Data Binding","nodes":[{"content":"Choosing a Data Binding","pos":[0,23]}]},{"content":"Option","pos":[4474,4480]},{"content":"Description","pos":[4481,4492]},{"pos":[4532,4554],"content":"<bpt id=\"p1\">**</bpt>/enableDataBinding<ept id=\"p1\">**</ept>","source":"**/enableDataBinding**"},{"content":"Implements the <ph id=\"ph1\">&lt;xref:System.ComponentModel.INotifyPropertyChanged&gt;</ph> interface on all <ph id=\"ph2\">`DataContract`</ph> types to enable data binding.","pos":[4555,4683],"source":"Implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface on all `DataContract` types to enable data binding."},{"content":"Short form: <ph id=\"ph1\">`/edb`</ph>","pos":[4696,4714],"source":"Short form: `/edb`"},{"pos":[4724,4748],"content":"Generating Configuration","linkify":"Generating Configuration","nodes":[{"content":"Generating Configuration","pos":[0,24]}]},{"content":"Option","pos":[4755,4761]},{"content":"Description","pos":[4762,4773]},{"pos":[4813,4838],"content":"<bpt id=\"p1\">**</bpt>/config:<ph id=\"ph1\">\\&lt;</ph>configFile&gt;<ept id=\"p1\">**</ept>","source":"**/config:\\<configFile>**"},{"content":"Specifies the file name for the generated configuration file.","pos":[4839,4900]},{"content":"Default: output.config","pos":[4913,4935]},{"pos":[4940,4956],"content":"<bpt id=\"p1\">**</bpt>/mergeConfig<ept id=\"p1\">**</ept>","source":"**/mergeConfig**"},{"content":"Merges the generated configuration into an existing file, instead of overwriting the existing file.","pos":[4957,5056]},{"pos":[5061,5074],"content":"<bpt id=\"p1\">**</bpt>/noConfig<ept id=\"p1\">**</ept>","source":"**/noConfig**"},{"content":"Do not generate configuration files.","pos":[5075,5111]},{"pos":[5121,5129],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5133,5215],"content":"<bpt id=\"p1\">[</bpt>Using Metadata<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/using-metadata.md)</ept>","source":"[Using Metadata](../../../../docs/framework/wcf/feature-details/using-metadata.md)"},{"pos":[5218,5332],"content":"<bpt id=\"p1\">[</bpt>Metadata Architecture Overview<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/metadata-architecture-overview.md)</ept>","source":"[Metadata Architecture Overview](../../../../docs/framework/wcf/feature-details/metadata-architecture-overview.md)"}]}