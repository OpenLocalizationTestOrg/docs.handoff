{"content":"---\ntitle: \"Cross-Platform Development with the Portable Class Library\"\nms.date: 09/17/2018\nms.technology: dotnet-standard\nhelpviewer_keywords:\n  - \"Portable Class Library [.NET Framework]\"\n  - \"targeting multiple platforms\"\n  - \"multiple platforms, targeting\"\nms.assetid: c31e1663-c164-4e65-b66d-d3aa8750a154\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Cross-platform development with the Portable Class Library\n\nThe Portable Class Library project type in Visual Studio helps you build cross-platform apps and libraries for Microsoft platforms quickly and easily.\n\n[!INCLUDE[standard](../../../includes/pcl-to-standard.md)]\n\nPortable class libraries can help you reduce the time and costs of developing and testing code. Use this project type to write and build portable .NET Framework assemblies, and then reference those assemblies from apps that target multiple platforms such as the .NET Framework, iOS, or Mac.\n\nEven after you create a Portable Class Library project in Visual Studio and start developing it, you can change the target platforms. Visual Studio compiles your library with the new assemblies, which helps you identify the changes you need to make in your code.\n\n## Create a Portable Class Library project\n\nTo create a Portable Class Library, use the template provided in Visual Studio. Create a new project (**File** > **New Project**), and in the **New Project** dialog box, select your programming language (Visual C# or Visual Basic). Then, select the **Class Library (Legacy Portable)** template. Enter a name for your project and choose **OK**.\n\nThe **Add Portable Class Library** dialog box appears. Choose two or more targets, and then choose **OK**.\n\n![Add portable class library targets in Visual Studio](media/add-portable-class-library.png)\n\n## Change targets\n\nYou can change the target platforms of a portable class library project when you create it or after you’ve started development. If you want to change the targets after you’ve created your project, in **Solution Explorer**, open the shortcut menu for your Portable Class Library project (not the solution), and then choose **Properties**. On the project properties page, the **Library** tab shows the platforms that your project currently targets.\n\n![Project properties for Portable Class Library in Visual Studio](media/pcl-project-properties.png)\n\nTo add or remove targets, choose the **Change** button, and then select and clear the appropriate check boxes.\n\nWhen you change the targets, the APIs that are available to you for developing your project will change to match your selection. Visual Studio reports the errors and warnings that may occur as a result of the targets changing.\n\nIf you want to evaluate the portability of your assemblies before you make changes in Visual Studio, you can use the [.NET Portability Analyzer](https://visualstudiogallery.msdn.microsoft.com/1177943e-cfb7-4822-a8a6-e56c7905292b).\n\n## Supported types and members\n\nThe types and members that are available in Portable Class Library projects are constrained by several compatibility factors:\n\n-   They must be shared across the targets you selected.\n\n-   The must behave similarly across those targets.\n\n-   They must not be candidates for deprecation.\n\n-   They must make sense in a portable environment, especially when supporting members are not portable.\n\nIf a member is supported in the Portable Class Library and for your selected targets, it will appear in your project in IntelliSense. However, remember that an API may be supported in the Portable Class Library, but whether you can use the API depends on the targets you select.\n\n## API differences in the Portable Class Library\n\nTo make Portable Class Library assemblies compatible across all supported platforms, some members have been slightly changed in the Portable Class Library.\n\n## Use the Portable Class Library\n\nAfter you build your Portable Class Library project, you just reference it from other projects. You can reference either the project or specific assemblies that contain the classes you want to access.\n\nTo run an app that references a Portable Class Library assembly, the required version (or later) of the targeted platforms must be installed on your computer. Visual Studio contains all the required frameworks, so you can run the app without further modification on the computer that you used to develop the app.\n\n### Deploy a Universal Windows app\n\nWhen you create a Universal Windows app that references a Portable Class Library assembly, everything you need to deploy the app is included in the app package, and no further steps are required.\n\n### Deploy a .NET Framework app\n\nWhen you deploy a .NET Framework app that references a Portable Class Library assembly, you must specify a dependency on the correct version of the .NET Framework. By specifying this dependency, you ensure that the required version is installed with your app.\n\n-   To create a dependency with ClickOnce deployment: In **Solution Explorer**, choose the project node for the project you want to publish. (This is the project that references the Portable Class Library project.) On the menu bar, choose **Project** > **Properties**, and then choose the **Publish** tab. On the **Publish** page, choose **Prerequisites**. Select the required .NET Framework version as a prerequisite.\n\n-   To create a dependency with a setup project: In **Solution Explorer**, choose the setup project. On the menu bar, choose **Project** > **Properties** > **Prerequisites**. Select the required .NET Framework version as a prerequisite.\n\nFor more information about deploying .NET Framework apps, see [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md).\n\n## See also\n\n- [Using Portable Class Library with MVVM](../../../docs/standard/cross-platform/using-portable-class-library-with-model-view-view-model.md)\n- [App Resources for Libraries That Target Multiple Platforms](../../../docs/standard/cross-platform/app-resources-for-libraries-that-target-multiple-platforms.md)\n- [.NET Portability Analyzer](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer)\n- [.NET Framework Support for Windows Store Apps and Windows Runtime](../../../docs/standard/cross-platform/support-for-windows-store-apps-and-windows-runtime.md)\n- [Deployment](../../../docs/framework/deployment/net-framework-applications.md)\n","nodes":[{"pos":[4,346],"embed":true,"restype":"x-metadata","content":"title: \"Cross-Platform Development with the Portable Class Library\"\nms.date: 09/17/2018\nms.technology: dotnet-standard\nhelpviewer_keywords:\n  - \"Portable Class Library [.NET Framework]\"\n  - \"targeting multiple platforms\"\n  - \"multiple platforms, targeting\"\nms.assetid: c31e1663-c164-4e65-b66d-d3aa8750a154\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Cross-Platform Development with the Portable Class Library","nodes":[{"pos":[0,58],"content":"Cross-Platform Development with the Portable Class Library","nodes":[{"content":"Cross-Platform Development with the Portable Class Library","pos":[0,58]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[353,411],"content":"Cross-platform development with the Portable Class Library","linkify":"Cross-platform development with the Portable Class Library","nodes":[{"content":"Cross-platform development with the Portable Class Library","pos":[0,58]}]},{"content":"The Portable Class Library project type in Visual Studio helps you build cross-platform apps and libraries for Microsoft platforms quickly and easily.","pos":[413,563]},{"content":"Portable class libraries can help you reduce the time and costs of developing and testing code.","pos":[625,720]},{"content":"Use this project type to write and build portable .NET Framework assemblies, and then reference those assemblies from apps that target multiple platforms such as the .NET Framework, iOS, or Mac.","pos":[721,915]},{"content":"Even after you create a Portable Class Library project in Visual Studio and start developing it, you can change the target platforms.","pos":[917,1050]},{"content":"Visual Studio compiles your library with the new assemblies, which helps you identify the changes you need to make in your code.","pos":[1051,1179]},{"pos":[1184,1223],"content":"Create a Portable Class Library project","linkify":"Create a Portable Class Library project","nodes":[{"content":"Create a Portable Class Library project","pos":[0,39]}]},{"content":"To create a Portable Class Library, use the template provided in Visual Studio.","pos":[1225,1304]},{"content":"Create a new project (<bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>New Project<ept id=\"p2\">**</ept>), and in the <bpt id=\"p3\">**</bpt>New Project<ept id=\"p3\">**</ept> dialog box, select your programming language (Visual C# or Visual Basic).","pos":[1305,1456],"source":" Create a new project (**File** > **New Project**), and in the **New Project** dialog box, select your programming language (Visual C# or Visual Basic)."},{"content":"Then, select the <bpt id=\"p1\">**</bpt>Class Library (Legacy Portable)<ept id=\"p1\">**</ept> template.","pos":[1457,1519],"source":" Then, select the **Class Library (Legacy Portable)** template."},{"content":"Enter a name for your project and choose <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[1520,1568],"source":" Enter a name for your project and choose **OK**."},{"content":"The <bpt id=\"p1\">**</bpt>Add Portable Class Library<ept id=\"p1\">**</ept> dialog box appears.","pos":[1570,1624],"source":"The **Add Portable Class Library** dialog box appears."},{"content":"Choose two or more targets, and then choose <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[1625,1676],"source":" Choose two or more targets, and then choose **OK**."},{"content":"Add portable class library targets in Visual Studio","pos":[1680,1731]},{"pos":[1775,1789],"content":"Change targets","linkify":"Change targets","nodes":[{"content":"Change targets","pos":[0,14]}]},{"content":"You can change the target platforms of a portable class library project when you create it or after you’ve started development.","pos":[1791,1918]},{"content":"If you want to change the targets after you’ve created your project, in <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, open the shortcut menu for your Portable Class Library project (not the solution), and then choose <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","pos":[1919,2128],"source":" If you want to change the targets after you’ve created your project, in **Solution Explorer**, open the shortcut menu for your Portable Class Library project (not the solution), and then choose **Properties**."},{"content":"On the project properties page, the <bpt id=\"p1\">**</bpt>Library<ept id=\"p1\">**</ept> tab shows the platforms that your project currently targets.","pos":[2129,2237],"source":" On the project properties page, the **Library** tab shows the platforms that your project currently targets."},{"content":"Project properties for Portable Class Library in Visual Studio","pos":[2241,2303]},{"pos":[2340,2450],"content":"To add or remove targets, choose the <bpt id=\"p1\">**</bpt>Change<ept id=\"p1\">**</ept> button, and then select and clear the appropriate check boxes.","source":"To add or remove targets, choose the **Change** button, and then select and clear the appropriate check boxes."},{"content":"When you change the targets, the APIs that are available to you for developing your project will change to match your selection.","pos":[2452,2580]},{"content":"Visual Studio reports the errors and warnings that may occur as a result of the targets changing.","pos":[2581,2678]},{"pos":[2680,2910],"content":"If you want to evaluate the portability of your assemblies before you make changes in Visual Studio, you can use the <bpt id=\"p1\">[</bpt>.NET Portability Analyzer<ept id=\"p1\">](https://visualstudiogallery.msdn.microsoft.com/1177943e-cfb7-4822-a8a6-e56c7905292b)</ept>.","source":"If you want to evaluate the portability of your assemblies before you make changes in Visual Studio, you can use the [.NET Portability Analyzer](https://visualstudiogallery.msdn.microsoft.com/1177943e-cfb7-4822-a8a6-e56c7905292b)."},{"pos":[2915,2942],"content":"Supported types and members","linkify":"Supported types and members","nodes":[{"content":"Supported types and members","pos":[0,27]}]},{"content":"The types and members that are available in Portable Class Library projects are constrained by several compatibility factors:","pos":[2944,3069]},{"content":"They must be shared across the targets you selected.","pos":[3075,3127]},{"content":"The must behave similarly across those targets.","pos":[3133,3180]},{"content":"They must not be candidates for deprecation.","pos":[3186,3230]},{"content":"They must make sense in a portable environment, especially when supporting members are not portable.","pos":[3236,3336]},{"content":"If a member is supported in the Portable Class Library and for your selected targets, it will appear in your project in IntelliSense.","pos":[3338,3471]},{"content":"However, remember that an API may be supported in the Portable Class Library, but whether you can use the API depends on the targets you select.","pos":[3472,3616]},{"pos":[3621,3666],"content":"API differences in the Portable Class Library","linkify":"API differences in the Portable Class Library","nodes":[{"content":"API differences in the Portable Class Library","pos":[0,45]}]},{"content":"To make Portable Class Library assemblies compatible across all supported platforms, some members have been slightly changed in the Portable Class Library.","pos":[3668,3823]},{"pos":[3828,3858],"content":"Use the Portable Class Library","linkify":"Use the Portable Class Library","nodes":[{"content":"Use the Portable Class Library","pos":[0,30]}]},{"content":"After you build your Portable Class Library project, you just reference it from other projects.","pos":[3860,3955]},{"content":"You can reference either the project or specific assemblies that contain the classes you want to access.","pos":[3956,4060]},{"content":"To run an app that references a Portable Class Library assembly, the required version (or later) of the targeted platforms must be installed on your computer.","pos":[4062,4220]},{"content":"Visual Studio contains all the required frameworks, so you can run the app without further modification on the computer that you used to develop the app.","pos":[4221,4374]},{"pos":[4380,4410],"content":"Deploy a Universal Windows app","linkify":"Deploy a Universal Windows app","nodes":[{"content":"Deploy a Universal Windows app","pos":[0,30]}]},{"content":"When you create a Universal Windows app that references a Portable Class Library assembly, everything you need to deploy the app is included in the app package, and no further steps are required.","pos":[4412,4607]},{"pos":[4613,4640],"content":"Deploy a .NET Framework app","linkify":"Deploy a .NET Framework app","nodes":[{"content":"Deploy a .NET Framework app","pos":[0,27]}]},{"content":"When you deploy a .NET Framework app that references a Portable Class Library assembly, you must specify a dependency on the correct version of the .NET Framework.","pos":[4642,4805]},{"content":"By specifying this dependency, you ensure that the required version is installed with your app.","pos":[4806,4901]},{"content":"To create a dependency with ClickOnce deployment: In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, choose the project node for the project you want to publish.","pos":[4907,5043],"source":"To create a dependency with ClickOnce deployment: In **Solution Explorer**, choose the project node for the project you want to publish."},{"content":"(This is the project that references the Portable Class Library project.) On the menu bar, choose <bpt id=\"p1\">**</bpt>Project<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>, and then choose the <bpt id=\"p3\">**</bpt>Publish<ept id=\"p3\">**</ept> tab. On the <bpt id=\"p4\">**</bpt>Publish<ept id=\"p4\">**</ept> page, choose <bpt id=\"p5\">**</bpt>Prerequisites<ept id=\"p5\">**</ept>.","pos":[5044,5259],"source":" (This is the project that references the Portable Class Library project.) On the menu bar, choose **Project** > **Properties**, and then choose the **Publish** tab. On the **Publish** page, choose **Prerequisites**."},{"content":"Select the required .NET Framework version as a prerequisite.","pos":[5260,5321]},{"content":"To create a dependency with a setup project: In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, choose the setup project.","pos":[5327,5423],"source":"To create a dependency with a setup project: In **Solution Explorer**, choose the setup project."},{"content":"On the menu bar, choose <bpt id=\"p1\">**</bpt>Project<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Prerequisites<ept id=\"p3\">**</ept>.","pos":[5424,5497],"source":" On the menu bar, choose **Project** > **Properties** > **Prerequisites**."},{"content":"Select the required .NET Framework version as a prerequisite.","pos":[5498,5559]},{"pos":[5561,5728],"content":"For more information about deploying .NET Framework apps, see <bpt id=\"p1\">[</bpt>Deployment Guide for Developers<ept id=\"p1\">](../../../docs/framework/deployment/deployment-guide-for-developers.md)</ept>.","source":"For more information about deploying .NET Framework apps, see [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md)."},{"pos":[5733,5741],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5745,5883],"content":"<bpt id=\"p1\">[</bpt>Using Portable Class Library with MVVM<ept id=\"p1\">](../../../docs/standard/cross-platform/using-portable-class-library-with-model-view-view-model.md)</ept>","source":"[Using Portable Class Library with MVVM](../../../docs/standard/cross-platform/using-portable-class-library-with-model-view-view-model.md)"},{"pos":[5886,6047],"content":"<bpt id=\"p1\">[</bpt>App Resources for Libraries That Target Multiple Platforms<ept id=\"p1\">](../../../docs/standard/cross-platform/app-resources-for-libraries-that-target-multiple-platforms.md)</ept>","source":"[App Resources for Libraries That Target Multiple Platforms](../../../docs/standard/cross-platform/app-resources-for-libraries-that-target-multiple-platforms.md)"},{"pos":[6050,6163],"content":"<bpt id=\"p1\">[</bpt>.NET Portability Analyzer<ept id=\"p1\">](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer)</ept>","source":"[.NET Portability Analyzer](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer)"},{"pos":[6166,6326],"content":"<bpt id=\"p1\">[</bpt>.NET Framework Support for Windows Store Apps and Windows Runtime<ept id=\"p1\">](../../../docs/standard/cross-platform/support-for-windows-store-apps-and-windows-runtime.md)</ept>","source":"[.NET Framework Support for Windows Store Apps and Windows Runtime](../../../docs/standard/cross-platform/support-for-windows-store-apps-and-windows-runtime.md)"},{"pos":[6329,6407],"content":"<bpt id=\"p1\">[</bpt>Deployment<ept id=\"p1\">](../../../docs/framework/deployment/net-framework-applications.md)</ept>","source":"[Deployment](../../../docs/framework/deployment/net-framework-applications.md)"}]}