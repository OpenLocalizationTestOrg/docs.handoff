{"content":"---\ntitle: \"&lt;mtomMessageEncoding&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nms.assetid: 7865d171-cd1e-430a-8421-39cc13541d1b\ncaps.latest.revision: 14\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# &lt;mtomMessageEncoding&gt;\nSpecifies the encoding and message versioning used for SOAP Message Transmission Optimization Mechanism (MTOM) based messages.  \n  \n \\<system.serviceModel>  \n\\<bindings>  \n\\<customBinding>  \n\\<binding>  \n\\<mtomMessageEncoding>  \n  \n## Syntax  \n  \n```  \n  \n<mtomMessageEncoding   \n   maxBufferSize=\"Integer\"  \n      maxReadPoolSize=\"Integer\"  \n   maxWritePoolSize=\"Integer\"  \n   messageVersion=\"Soap11Addressing1/Soap12Addressing10\"  \n      writeEncoding=\"UnicodeFffeTextEncoding/Utf16TextEncoding/Utf8TextEncoding\" />  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|maxBufferSize|An integer that specifies the maximum size of the buffer that can be used.|  \n|maxReadPoolSize|An integer that specifies how many messages can be read simultaneously without allocating new readers. Larger pool sizes make the system more tolerant to activity spikes at the cost of a larger working set. The default is 64.|  \n|maxWritePoolSize|An integer that specifies how many messages can be sent simultaneously without allocating new writers. Larger pool sizes make the system more tolerant to activity spikes at the cost of a larger working set. The default is 16.|  \n|messageVersion|Specifies the SOAP version of the messages sent using the binding. Valid values are<br /><br /> -   Soap11Addressing1<br />-   Soap12Addressing10<br /><br /> The default is Soap12Addressing10. This attribute is of type <xref:System.ServiceModel.Channels.MessageVersion>.|  \n|writeEncoding|Specifies the character set encoding to be used for emitting messages on the binding. Valid values are<br /><br /> -   UnicodeFffeTextEncoding: Unicode BigEndian encoding<br />-   Utf16TextEncoding: Unicode encoding<br />-   Utf8TextEncoding: 8-bit encoding<br /><br /> The default is Utf8TextEncoding. This attribute is of type <xref:System.Text.Encoding>.|  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<readerQuotas>](http://msdn.microsoft.com/library/3e5e42ff-cef8-478f-bf14-034449239bfd)|Defines the constraints on the complexity of SOAP messages that can be processed by endpoints configured with this binding. This element is of type <xref:System.ServiceModel.Configuration.XmlDictionaryReaderQuotasElement>.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<binding>](../../../../../docs/framework/misc/binding.md)|Defines all binding capabilities of the custom binding.|  \n  \n## Remarks  \n Encoding is the process of transforming a message into a sequence of bytes. Decoding is the reverse process. Windows Communication Foundation (WCF) includes three types of encoding for SOAP messages: Text, Binary and Message Transmission Optimization Mechanism (MTOM).  \n  \n The `MtomMessageEncoding` element specifies the character encoding and message versioning and other settings used for messages using a Message Transmission Optimization Mechanism (MTOM) encoding. MTOM is an efficient technology for transmitting binary data in WCF messages. The MTOM encoder attempts to create a balance between efficiency and interoperability. The MTOM encoding transmits most XML in textual form, but optimizes large blocks of binary data by transmitting them as-is, without conversion to their base64 encoded format.  \n  \n## Example  \n  \n```  \n<mtomMessageEncoding maxReadPoolSize=\"211\"  \n    maxWritePoolSize=\"2132\"  \n    messageVersion=\"Soap11Addressing10\"  \n    textEncoding=\"utf-8\" />  \n```  \n  \n## See Also  \n <xref:System.ServiceModel.Configuration.MtomMessageEncodingElement>   \n <xref:System.ServiceModel.Channels.CustomBinding>   \n <xref:System.ServiceModel.Channels.MessageEncodingBindingElement>   \n <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>   \n [Message Encoding](../../../../../docs/framework/configure-apps/file-schema/wcf/message-encoding.md)   \n [Choosing a Message Encoder](../../../../../docs/framework/wcf/feature-details/choosing-a-message-encoder.md)   \n [Bindings](../../../../../docs/framework/wcf/bindings.md)   \n [Extending Bindings](../../../../../docs/framework/wcf/extending/extending-bindings.md)   \n [Custom Bindings](../../../../../docs/framework/wcf/extending/custom-bindings.md)   \n [\\<customBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)","nodes":[{"pos":[4,382],"embed":true,"restype":"x-metadata","content":"title: \"&lt;mtomMessageEncoding&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nms.assetid: 7865d171-cd1e-430a-8421-39cc13541d1b\ncaps.latest.revision: 14\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"&lt;mtomMessageEncoding&gt; | Microsoft Docs","nodes":[{"pos":[0,44],"content":"&lt;mtomMessageEncoding&gt; | Microsoft Docs","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>mtomMessageEncoding<ph id=\"ph2\">&amp;gt;</ph> | Microsoft Docs","pos":[0,44],"source":"&lt;mtomMessageEncoding&gt; | Microsoft Docs"}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[389,416],"content":"&lt;mtomMessageEncoding&gt;","linkify":"&lt;mtomMessageEncoding&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>mtomMessageEncoding<ph id=\"ph2\">&amp;gt;</ph>","pos":[0,27],"source":"&lt;mtomMessageEncoding&gt;"}]},{"content":"Specifies the encoding and message versioning used for SOAP Message Transmission Optimization Mechanism (MTOM) based messages.","pos":[417,543]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.serviceModel&gt;","pos":[550,572],"source":"\\<system.serviceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>bindings&gt;","pos":[575,586],"source":"\\<bindings>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>customBinding&gt;","pos":[589,605],"source":"\\<customBinding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>binding&gt;","pos":[608,618],"source":"\\<binding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>mtomMessageEncoding&gt;","pos":[621,643],"source":"\\<mtomMessageEncoding>"},{"pos":[652,658],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[949,972],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[976,1056]},{"pos":[1066,1076],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1083,1092]},{"content":"Description","pos":[1093,1104]},{"content":"maxBufferSize","pos":[1147,1160]},{"content":"An integer that specifies the maximum size of the buffer that can be used.","pos":[1161,1235]},{"content":"maxReadPoolSize","pos":[1240,1255]},{"content":"An integer that specifies how many messages can be read simultaneously without allocating new readers.","pos":[1256,1358]},{"content":"Larger pool sizes make the system more tolerant to activity spikes at the cost of a larger working set.","pos":[1359,1462]},{"content":"The default is 64.","pos":[1463,1481]},{"content":"maxWritePoolSize","pos":[1486,1502]},{"content":"An integer that specifies how many messages can be sent simultaneously without allocating new writers.","pos":[1503,1605]},{"content":"Larger pool sizes make the system more tolerant to activity spikes at the cost of a larger working set.","pos":[1606,1709]},{"content":"The default is 16.","pos":[1710,1728]},{"content":"messageVersion","pos":[1733,1747]},{"content":"Specifies the SOAP version of the messages sent using the binding.","pos":[1748,1814]},{"content":"Valid values are","pos":[1815,1831]},{"content":"-   Soap11Addressing1","pos":[1844,1865]},{"content":"-   Soap12Addressing10","pos":[1871,1893]},{"content":"The default is Soap12Addressing10.","pos":[1906,1940]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.MessageVersion&gt;</ph>.","pos":[1941,2018],"source":" This attribute is of type <xref:System.ServiceModel.Channels.MessageVersion>."},{"content":"writeEncoding","pos":[2023,2036]},{"content":"Specifies the character set encoding to be used for emitting messages on the binding.","pos":[2037,2122]},{"content":"Valid values are","pos":[2123,2139]},{"content":"-   UnicodeFffeTextEncoding: Unicode BigEndian encoding","pos":[2152,2207]},{"content":"-   Utf16TextEncoding: Unicode encoding","pos":[2213,2252]},{"content":"-   Utf8TextEncoding: 8-bit encoding","pos":[2258,2294]},{"content":"The default is Utf8TextEncoding.","pos":[2307,2339]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.Text.Encoding&gt;</ph>.","pos":[2340,2394],"source":" This attribute is of type <xref:System.Text.Encoding>."},{"pos":[2405,2419],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[2426,2433]},{"content":"Description","pos":[2434,2445]},{"pos":[2486,2575],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>readerQuotas&gt;<ept id=\"p1\">](http://msdn.microsoft.com/library/3e5e42ff-cef8-478f-bf14-034449239bfd)</ept>","source":"[\\<readerQuotas>](http://msdn.microsoft.com/library/3e5e42ff-cef8-478f-bf14-034449239bfd)"},{"content":"Defines the constraints on the complexity of SOAP messages that can be processed by endpoints configured with this binding.","pos":[2576,2699]},{"content":"This element is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.XmlDictionaryReaderQuotasElement&gt;</ph>.","pos":[2700,2798],"source":" This element is of type <xref:System.ServiceModel.Configuration.XmlDictionaryReaderQuotasElement>."},{"pos":[2809,2824],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[2831,2838]},{"content":"Description","pos":[2839,2850]},{"pos":[2891,2950],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>binding&gt;<ept id=\"p1\">](../../../../../docs/framework/misc/binding.md)</ept>","source":"[\\<binding>](../../../../../docs/framework/misc/binding.md)"},{"content":"Defines all binding capabilities of the custom binding.","pos":[2951,3006]},{"pos":[3016,3023],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Encoding is the process of transforming a message into a sequence of bytes.","pos":[3027,3102]},{"content":"Decoding is the reverse process.","pos":[3103,3135]},{"content":"Windows Communication Foundation (WCF) includes three types of encoding for SOAP messages: Text, Binary and Message Transmission Optimization Mechanism (MTOM).","pos":[3136,3295]},{"content":"The <ph id=\"ph1\">`MtomMessageEncoding`</ph> element specifies the character encoding and message versioning and other settings used for messages using a Message Transmission Optimization Mechanism (MTOM) encoding.","pos":[3302,3497],"source":"The `MtomMessageEncoding` element specifies the character encoding and message versioning and other settings used for messages using a Message Transmission Optimization Mechanism (MTOM) encoding."},{"content":"MTOM is an efficient technology for transmitting binary data in WCF messages.","pos":[3498,3575]},{"content":"The MTOM encoder attempts to create a balance between efficiency and interoperability.","pos":[3576,3662]},{"content":"The MTOM encoding transmits most XML in textual form, but optimizes large blocks of binary data by transmitting them as-is, without conversion to their base64 encoded format.","pos":[3663,3837]},{"pos":[3846,3853],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4024,4032],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Message Encoding<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/message-encoding.md)</ept><ph id=\"ph1\"> </ph>","pos":[4306,4407],"source":"[Message Encoding](../../../../../docs/framework/configure-apps/file-schema/wcf/message-encoding.md) "},{"content":"<bpt id=\"p1\">[</bpt>Choosing a Message Encoder<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/choosing-a-message-encoder.md)</ept><ph id=\"ph1\"> </ph>","pos":[4411,4521],"source":"[Choosing a Message Encoder](../../../../../docs/framework/wcf/feature-details/choosing-a-message-encoder.md) "},{"content":"<bpt id=\"p1\">[</bpt>Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/bindings.md)</ept><ph id=\"ph1\"> </ph>","pos":[4525,4583],"source":"[Bindings](../../../../../docs/framework/wcf/bindings.md) "},{"content":"<bpt id=\"p1\">[</bpt>Extending Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/extending-bindings.md)</ept><ph id=\"ph1\"> </ph>","pos":[4587,4675],"source":"[Extending Bindings](../../../../../docs/framework/wcf/extending/extending-bindings.md) "},{"content":"<bpt id=\"p1\">[</bpt>Custom Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/custom-bindings.md)</ept><ph id=\"ph1\"> </ph>","pos":[4679,4761],"source":"[Custom Bindings](../../../../../docs/framework/wcf/extending/custom-bindings.md) "},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>customBinding&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)</ept>","pos":[4765,4862],"source":"[\\<customBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)"}]}