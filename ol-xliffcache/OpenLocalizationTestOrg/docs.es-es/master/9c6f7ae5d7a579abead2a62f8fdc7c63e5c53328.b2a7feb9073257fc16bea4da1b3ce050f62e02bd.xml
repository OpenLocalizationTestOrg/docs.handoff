{"content":"---\ntitle: \"Implicitly typed local variables - C# Programming Guide\"\nms.custom: seodec18\nms.date: 07/20/2015\nhelpviewer_keywords: \n  - \"implicitly-typed local variables [C#]\"\n  - \"var [C#]\"\nms.assetid: b9218fb2-ef5d-4814-8a8e-2bc29b0bbc9b\n---\n# Implicitly typed local variables (C# Programming Guide)\n\nLocal variables can be declared without giving an explicit type. The `var` keyword instructs the compiler to infer the type of the variable from the expression on the right side of the initialization statement. The inferred type may be a built-in type, an anonymous type, a user-defined type, or a type defined in the .NET Framework class library. For more information about how to initialize arrays with `var`, see [Implicitly Typed Arrays](../arrays/implicitly-typed-arrays.md).\n\nThe following examples show various ways in which local variables can be declared with `var`:\n\n[!code-csharp[csProgGuideLINQ#43](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideLINQ/CS/csRef30LangFeatures_2.cs#43)]\n\nIt is important to understand that the `var` keyword does not mean \"variant\" and does not indicate that the variable is loosely typed, or late-bound. It just means that the compiler determines and assigns the most appropriate type.\n\nThe `var` keyword may be used in the following contexts:\n\n- On local variables (variables declared at method scope) as shown in the previous example.\n\n- In a [for](../../language-reference/keywords/for.md) initialization statement.\n\n    ```csharp\n    for(var x = 1; x < 10; x++)\n    ```\n\n- In a [foreach](../../language-reference/keywords/foreach-in.md) initialization statement.\n\n    ```csharp\n    foreach(var item in list){...}\n    ```\n\n- In a [using](../../language-reference/keywords/using-statement.md) statement.\n\n    ```csharp\n    using (var file = new StreamReader(\"C:\\\\myfile.txt\")) {...}\n    ```\n\nFor more information, see [How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression](how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression.md).\n\n## var and anonymous types\n\nIn many cases the use of `var` is optional and is just a syntactic convenience. However, when a variable is initialized with an anonymous type you must declare the variable as `var` if you need to access the properties of the object at a later point. This is a common scenario in [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] query expressions. For more information, see [Anonymous Types](anonymous-types.md).\n\nFrom the perspective of your source code, an anonymous type has no name. Therefore, if a query variable has been initialized with `var`, then the only way to access the properties in the returned sequence of objects is to use `var` as the type of the iteration variable in the `foreach` statement.\n\n[!code-csharp[csProgGuideLINQ#44](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideLINQ/CS/csRef30LangFeatures_2.cs#44)]\n\n## Remarks\n\nThe following restrictions apply to implicitly-typed variable declarations:\n\n- `var` can only be used when a local variable is declared and initialized in the same statement; the variable cannot be initialized to null, or to a method group or an anonymous function.\n\n- `var` cannot be used on fields at class scope.\n\n- Variables declared by using `var` cannot be used in the initialization expression. In other words, this expression is legal`: int i = (i = 20);` but this expression produces a compile-time error: `var i = (i = 20);`\n\n- Multiple implicitly-typed variables cannot be initialized in the same statement.\n\n- If a type named `var` is in scope, then the `var` keyword will resolve to that type name and will not be treated as part of an implicitly typed local variable declaration.\n\nYou may find that `var` can also be useful with query expressions in which the exact constructed type of the query variable is difficult to determine. This can occur with grouping and ordering operations.\n\nThe `var` keyword can also be useful when the specific type of the variable is tedious to type on the keyboard, or is obvious, or does not add to the readability of the code. One example where `var` is helpful in this manner is with nested generic types such as those used with group operations. In the following query, the type of the query variable is `IEnumerable<IGrouping<string, Student>>`. As long as you and others who must maintain your code understand this, there is no problem with using implicit typing for convenience and brevity.\n\n[!code-csharp[cscsrefQueryKeywords#13](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsCsrefQueryKeywords/CS/Group.cs#13)]\n\nHowever, the use of `var` does have at least the potential to make your code more difficult to understand for other developers. For that reason, the C# documentation generally uses `var` only when it is required.\n\n## See also\n\n- [C# Reference](../../language-reference/index.md)\n- [Implicitly Typed Arrays](../arrays/implicitly-typed-arrays.md)\n- [How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression](how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression.md)\n- [Anonymous Types](anonymous-types.md)\n- [Object and Collection Initializers](object-and-collection-initializers.md)\n- [var](../../language-reference/keywords/var.md)\n- [LINQ Query Expressions](../linq-query-expressions/index.md)\n- [LINQ (Language-Integrated Query)](../../linq/index.md)\n- [for](../../language-reference/keywords/for.md)\n- [foreach, in](../../language-reference/keywords/foreach-in.md)\n- [using Statement](../../language-reference/keywords/using-statement.md)","nodes":[{"pos":[4,238],"embed":true,"restype":"x-metadata","content":"title: \"Implicitly typed local variables - C# Programming Guide\"\nms.custom: seodec18\nms.date: 07/20/2015\nhelpviewer_keywords: \n  - \"implicitly-typed local variables [C#]\"\n  - \"var [C#]\"\nms.assetid: b9218fb2-ef5d-4814-8a8e-2bc29b0bbc9b","nodes":[{"content":"Implicitly typed local variables - C# Programming Guide","nodes":[{"pos":[0,55],"content":"Implicitly typed local variables - C# Programming Guide","nodes":[{"content":"Implicitly typed local variables - C# Programming Guide","pos":[0,55]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[245,300],"content":"Implicitly typed local variables (C# Programming Guide)","linkify":"Implicitly typed local variables (C# Programming Guide)","nodes":[{"content":"Implicitly typed local variables (C# Programming Guide)","pos":[0,55]}]},{"content":"Local variables can be declared without giving an explicit type.","pos":[302,366]},{"content":"The <ph id=\"ph1\">`var`</ph> keyword instructs the compiler to infer the type of the variable from the expression on the right side of the initialization statement.","pos":[367,512],"source":" The `var` keyword instructs the compiler to infer the type of the variable from the expression on the right side of the initialization statement."},{"content":"The inferred type may be a built-in type, an anonymous type, a user-defined type, or a type defined in the .NET Framework class library.","pos":[513,649]},{"content":"For more information about how to initialize arrays with <ph id=\"ph1\">`var`</ph>, see <bpt id=\"p1\">[</bpt>Implicitly Typed Arrays<ept id=\"p1\">](../arrays/implicitly-typed-arrays.md)</ept>.","pos":[650,782],"source":" For more information about how to initialize arrays with `var`, see [Implicitly Typed Arrays](../arrays/implicitly-typed-arrays.md)."},{"pos":[784,877],"content":"The following examples show various ways in which local variables can be declared with <ph id=\"ph1\">`var`</ph>:","source":"The following examples show various ways in which local variables can be declared with `var`:"},{"content":"It is important to understand that the <ph id=\"ph1\">`var`</ph> keyword does not mean \"variant\" and does not indicate that the variable is loosely typed, or late-bound.","pos":[1010,1159],"source":"It is important to understand that the `var` keyword does not mean \"variant\" and does not indicate that the variable is loosely typed, or late-bound."},{"content":"It just means that the compiler determines and assigns the most appropriate type.","pos":[1160,1241]},{"pos":[1243,1299],"content":"The <ph id=\"ph1\">`var`</ph> keyword may be used in the following contexts:","source":"The `var` keyword may be used in the following contexts:"},{"content":"On local variables (variables declared at method scope) as shown in the previous example.","pos":[1303,1392]},{"pos":[1396,1474],"content":"In a <bpt id=\"p1\">[</bpt>for<ept id=\"p1\">](../../language-reference/keywords/for.md)</ept> initialization statement.","source":"In a [for](../../language-reference/keywords/for.md) initialization statement."},{"pos":[1533,1622],"content":"In a <bpt id=\"p1\">[</bpt>foreach<ept id=\"p1\">](../../language-reference/keywords/foreach-in.md)</ept> initialization statement.","source":"In a [foreach](../../language-reference/keywords/foreach-in.md) initialization statement."},{"pos":[1684,1761],"content":"In a <bpt id=\"p1\">[</bpt>using<ept id=\"p1\">](../../language-reference/keywords/using-statement.md)</ept> statement.","source":"In a [using](../../language-reference/keywords/using-statement.md) statement."},{"pos":[1850,2037],"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression<ept id=\"p1\">](how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression.md)</ept>.","source":"For more information, see [How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression](how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression.md)."},{"pos":[2042,2065],"content":"var and anonymous types","linkify":"var and anonymous types","nodes":[{"content":"var and anonymous types","pos":[0,23]}]},{"content":"In many cases the use of <ph id=\"ph1\">`var`</ph> is optional and is just a syntactic convenience.","pos":[2067,2146],"source":"In many cases the use of `var` is optional and is just a syntactic convenience."},{"content":"However, when a variable is initialized with an anonymous type you must declare the variable as <ph id=\"ph1\">`var`</ph> if you need to access the properties of the object at a later point.","pos":[2147,2317],"source":" However, when a variable is initialized with an anonymous type you must declare the variable as `var` if you need to access the properties of the object at a later point."},{"content":"This is a common scenario in <ph id=\"ph1\">[!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)]</ph> query expressions.","pos":[2318,2415],"source":" This is a common scenario in [!INCLUDE[vbteclinq](~/includes/vbteclinq-md.md)] query expressions."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Anonymous Types<ept id=\"p1\">](anonymous-types.md)</ept>.","pos":[2416,2480],"source":" For more information, see [Anonymous Types](anonymous-types.md)."},{"content":"From the perspective of your source code, an anonymous type has no name.","pos":[2482,2554]},{"content":"Therefore, if a query variable has been initialized with <ph id=\"ph1\">`var`</ph>, then the only way to access the properties in the returned sequence of objects is to use <ph id=\"ph2\">`var`</ph> as the type of the iteration variable in the <ph id=\"ph3\">`foreach`</ph> statement.","pos":[2555,2779],"source":" Therefore, if a query variable has been initialized with `var`, then the only way to access the properties in the returned sequence of objects is to use `var` as the type of the iteration variable in the `foreach` statement."},{"pos":[2915,2922],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The following restrictions apply to implicitly-typed variable declarations:","pos":[2924,2999]},{"pos":[3003,3189],"content":"<ph id=\"ph1\">`var`</ph> can only be used when a local variable is declared and initialized in the same statement; the variable cannot be initialized to null, or to a method group or an anonymous function.","source":"`var` can only be used when a local variable is declared and initialized in the same statement; the variable cannot be initialized to null, or to a method group or an anonymous function."},{"pos":[3193,3239],"content":"<ph id=\"ph1\">`var`</ph> cannot be used on fields at class scope.","source":"`var` cannot be used on fields at class scope."},{"content":"Variables declared by using <ph id=\"ph1\">`var`</ph> cannot be used in the initialization expression.","pos":[3243,3325],"source":"Variables declared by using `var` cannot be used in the initialization expression."},{"content":"In other words, this expression is legal<ph id=\"ph1\">`: int i = (i = 20);`</ph> but this expression produces a compile-time error: <ph id=\"ph2\">`var i = (i = 20);`</ph>","pos":[3326,3458],"source":" In other words, this expression is legal`: int i = (i = 20);` but this expression produces a compile-time error: `var i = (i = 20);`"},{"content":"Multiple implicitly-typed variables cannot be initialized in the same statement.","pos":[3462,3542]},{"pos":[3546,3717],"content":"If a type named <ph id=\"ph1\">`var`</ph> is in scope, then the <ph id=\"ph2\">`var`</ph> keyword will resolve to that type name and will not be treated as part of an implicitly typed local variable declaration.","source":"If a type named `var` is in scope, then the `var` keyword will resolve to that type name and will not be treated as part of an implicitly typed local variable declaration."},{"content":"You may find that <ph id=\"ph1\">`var`</ph> can also be useful with query expressions in which the exact constructed type of the query variable is difficult to determine.","pos":[3719,3869],"source":"You may find that `var` can also be useful with query expressions in which the exact constructed type of the query variable is difficult to determine."},{"content":"This can occur with grouping and ordering operations.","pos":[3870,3923]},{"content":"The <ph id=\"ph1\">`var`</ph> keyword can also be useful when the specific type of the variable is tedious to type on the keyboard, or is obvious, or does not add to the readability of the code.","pos":[3925,4099],"source":"The `var` keyword can also be useful when the specific type of the variable is tedious to type on the keyboard, or is obvious, or does not add to the readability of the code."},{"content":"One example where <ph id=\"ph1\">`var`</ph> is helpful in this manner is with nested generic types such as those used with group operations.","pos":[4100,4220],"source":" One example where `var` is helpful in this manner is with nested generic types such as those used with group operations."},{"content":"In the following query, the type of the query variable is <ph id=\"ph1\">`IEnumerable&lt;IGrouping&lt;string, Student&gt;&gt;`</ph>.","pos":[4221,4321],"source":" In the following query, the type of the query variable is `IEnumerable<IGrouping<string, Student>>`."},{"content":"As long as you and others who must maintain your code understand this, there is no problem with using implicit typing for convenience and brevity.","pos":[4322,4468]},{"content":"However, the use of <ph id=\"ph1\">`var`</ph> does have at least the potential to make your code more difficult to understand for other developers.","pos":[4595,4722],"source":"However, the use of `var` does have at least the potential to make your code more difficult to understand for other developers."},{"content":"For that reason, the C# documentation generally uses <ph id=\"ph1\">`var`</ph> only when it is required.","pos":[4723,4807],"source":" For that reason, the C# documentation generally uses `var` only when it is required."},{"pos":[4812,4820],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4824,4873],"content":"<bpt id=\"p1\">[</bpt>C# Reference<ept id=\"p1\">](../../language-reference/index.md)</ept>","source":"[C# Reference](../../language-reference/index.md)"},{"pos":[4876,4939],"content":"<bpt id=\"p1\">[</bpt>Implicitly Typed Arrays<ept id=\"p1\">](../arrays/implicitly-typed-arrays.md)</ept>","source":"[Implicitly Typed Arrays](../arrays/implicitly-typed-arrays.md)"},{"pos":[4942,5102],"content":"<bpt id=\"p1\">[</bpt>How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression<ept id=\"p1\">](how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression.md)</ept>","source":"[How to: Use Implicitly Typed Local Variables and Arrays in a Query Expression](how-to-use-implicitly-typed-local-variables-and-arrays-in-a-query-expression.md)"},{"pos":[5105,5142],"content":"<bpt id=\"p1\">[</bpt>Anonymous Types<ept id=\"p1\">](anonymous-types.md)</ept>","source":"[Anonymous Types](anonymous-types.md)"},{"pos":[5145,5220],"content":"<bpt id=\"p1\">[</bpt>Object and Collection Initializers<ept id=\"p1\">](object-and-collection-initializers.md)</ept>","source":"[Object and Collection Initializers](object-and-collection-initializers.md)"},{"pos":[5223,5270],"content":"<bpt id=\"p1\">[</bpt>var<ept id=\"p1\">](../../language-reference/keywords/var.md)</ept>","source":"[var](../../language-reference/keywords/var.md)"},{"pos":[5273,5333],"content":"<bpt id=\"p1\">[</bpt>LINQ Query Expressions<ept id=\"p1\">](../linq-query-expressions/index.md)</ept>","source":"[LINQ Query Expressions](../linq-query-expressions/index.md)"},{"pos":[5336,5391],"content":"<bpt id=\"p1\">[</bpt>LINQ (Language-Integrated Query)<ept id=\"p1\">](../../linq/index.md)</ept>","source":"[LINQ (Language-Integrated Query)](../../linq/index.md)"},{"pos":[5394,5441],"content":"<bpt id=\"p1\">[</bpt>for<ept id=\"p1\">](../../language-reference/keywords/for.md)</ept>","source":"[for](../../language-reference/keywords/for.md)"},{"pos":[5444,5506],"content":"<bpt id=\"p1\">[</bpt>foreach, in<ept id=\"p1\">](../../language-reference/keywords/foreach-in.md)</ept>","source":"[foreach, in](../../language-reference/keywords/foreach-in.md)"},{"pos":[5509,5580],"content":"<bpt id=\"p1\">[</bpt>using Statement<ept id=\"p1\">](../../language-reference/keywords/using-statement.md)</ept>","source":"[using Statement](../../language-reference/keywords/using-statement.md)"}]}