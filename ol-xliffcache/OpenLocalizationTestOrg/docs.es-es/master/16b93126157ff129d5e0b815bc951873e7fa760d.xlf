<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="how-to-create-a-wsfederationhttpbinding.md" source-language="en-US" target-language="es-es">
    <header>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-0a91294" tool-company="Microsoft" />
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">16b93126157ff129d5e0b815bc951873e7fa760d</xliffext:olfilehash>
      <xliffext:olfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">docs\framework\wcf\feature-details\how-to-create-a-wsfederationhttpbinding.md</xliffext:olfilepath>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">net-med-mt</xliffext:oltranslationpriority>
      <xliffext:oltranslationtype xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">MT</xliffext:oltranslationtype>
      <xliffext:olskeletonhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">7747d7057d288bf7f1f13ab062ccd257eaf410fc</xliffext:olskeletonhash>
      <xliffext:olxliffhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">dd4fa846f3a78109f7a7da247f69a4f9b44bd135</xliffext:olxliffhash>
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve" restype="x-metadata">
          <source>How to: Create a WSFederationHttpBinding</source>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>How to: Create a WSFederationHttpBinding</source>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>In Windows Communication Foundation (WCF), the <ph id="ph1">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> class (<bpt id="p1">[</bpt><ph id="ph2">\&lt;</ph>wsFederationHttpBinding&gt;<ept id="p1">](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md)</ept> in configuration) provides a mechanism for exposing a federated service.</source>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>That is, a service that requires clients to authenticate using a security token issued by a security token service.</source>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>This topic shows how to set up a <ph id="ph1">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> in both code and configuration.</source>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Once the binding is created, you can set up an endpoint to use that binding.</source>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>The basic steps are outlined as follows:</source>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>Select a security mode.</source>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> supports <ph id="ph2">`Message`</ph>, which provides end-to-end security at the message level, even across multiple hops, and <ph id="ph3">`TransportWithMessageCredential`</ph>, which provides better performance in cases where the client and the service can make a direct connection over HTTPS.</source>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> also supports <ph id="ph2">`None`</ph> as a security mode.</source>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>This mode is not secure and is provided for debugging purposes only.</source>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>If a service endpoint is deployed with a <ph id="ph1">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph> with its security mode set to <ph id="ph2">`None`</ph>, the resulting client binding (generated by the <bpt id="p1">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id="p1">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept>) is a <ph id="ph3">&lt;xref:System.ServiceModel.WSHttpBinding&gt;</ph> with a security mode of <ph id="ph4">`None`</ph>.</source>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Unlike other system-provided bindings, it is not necessary to select a client credential type when using the <ph id="ph1">`WSFederationHttpBinding`</ph>.</source>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>This is because the client credential type is always an issued token.</source>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>WCF acquires a token from a specified issuer and presents that token to the service to authenticate the client.</source>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>On federated clients, set the <ph id="ph1">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerAddress%2A&gt;</ph> property to the URL of the security token service.</source>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerBinding%2A&gt;</ph> to the binding to use to communicate with the security token service.</source>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Optional.</source>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedTokenType%2A&gt;</ph> property to the Uniform Resource Identifier (URI) of a token type.</source>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>On federated services, specify the token type that the service expects.</source>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>On federated clients, specify the token type the client requests from the security token service.</source>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>If no token type is specified, clients generate WS-Trust Request Security Tokens (RSTs) without a token type URI, and services expect client authentication using a Security Assertions Markup Language (SAML) 1.1 token by default.</source>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>The URI for a SAML 1.1 token is <ph id="ph1">`http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1`</ph>.</source>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Optional.</source>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>On federated services, set the <ph id="ph1">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerMetadataAddress%2A&gt;</ph> property to the metadata URL of a security token service.</source>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>The metadata endpoint enables clients of the service to select an appropriate binding/endpoint pair, if the service is configured to publish metadata.</source>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>For more information about publishing metadata, see <bpt id="p1">[</bpt>Publishing Metadata<ept id="p1">](publishing-metadata.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>You can also set other properties, including the type of key used as a proof key in the issued token, the algorithm suite to use between the client and the service, whether to negotiate or explicitly specify the service credential, any specific claims the service expects the issued token to contain, and any additional XML elements that must be added to the request the client sends to the security token service.</source>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">`NegotiateServiceCredential`</ph> property is only relevant when the <ph id="ph2">`SecurityMode`</ph> is set to <ph id="ph3">`Message`</ph>.</source>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>If <ph id="ph1">`SecurityMode`</ph> is set to <ph id="ph2">`TransportWithMessageCredential`</ph>, then the <ph id="ph3">`NegotiateServiceCredential`</ph> property is ignored.</source>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>To configure a WSFederationHttpBinding in code</source>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Create an instance of the <ph id="ph1">&lt;xref:System.ServiceModel.WSFederationHttpBinding&gt;</ph>.</source>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">&lt;xref:System.ServiceModel.WSFederationHttpSecurity.Mode%2A&gt;</ph> property to <ph id="ph2">&lt;xref:System.ServiceModel.WSFederationHttpSecurityMode&gt;</ph> or <ph id="ph3">&lt;xref:System.ServiceModel.WSFederationHttpSecurityMode.Message&gt;</ph> as required.</source>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>If an algorithm suite other than <ph id="ph1">&lt;xref:System.ServiceModel.Security.SecurityAlgorithmSuite.Basic256%2A&gt;</ph> is required, set the <ph id="ph2">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.AlgorithmSuite%2A&gt;</ph> property to a value taken from <ph id="ph3">&lt;xref:System.ServiceModel.Security.SecurityAlgorithmSuite&gt;</ph>.</source>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.NegotiateServiceCredential%2A&gt;</ph> property as appropriate.</source>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedKeyType%2A&gt;</ph> property to <ph id="ph2">&lt;xref:System.IdentityModel.Tokens.SecurityKeyType&gt;</ph><ph id="ph3">`SymmetricKey`</ph> or .<ph id="ph4">`AsymmetricKey`</ph></source>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>as required.</source>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedTokenType%2A&gt;</ph> property to the appropriate value.</source>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>If no value is set, WCF defaults to <ph id="ph1">`http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1`</ph>, which indicates SAML 1.1 tokens.</source>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Required on the client if no local issuer is specified; optional on the service.</source>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Create an <ph id="ph1">&lt;xref:System.ServiceModel.EndpointAddress&gt;</ph> that contains the address and identity information of the security token service and assign the <ph id="ph2">&lt;xref:System.ServiceModel.EndpointAddress&gt;</ph> instance to the <ph id="ph3">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerAddress%2A&gt;</ph> property.</source>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Required on the client if no local issuer is specified; not used on the service.</source>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>Create a <ph id="ph1">&lt;xref:System.ServiceModel.Channels.Binding&gt;</ph> for the <ph id="ph2">`SecurityTokenService`</ph> and assign the <ph id="ph3">&lt;xref:System.ServiceModel.Channels.Binding&gt;</ph> instance to the <ph id="ph4">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuerBinding%2A&gt;</ph> property.</source>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>Not used on the client; optional on the service.</source>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Create an <ph id="ph1">&lt;xref:System.ServiceModel.EndpointAddress&gt;</ph> instance for the metadata of the security token service and assign it to the <ph id="ph2">`IssuerMetadataAddress`</ph> property.</source>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>Optional on both the client and the service.</source>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Create and add one or more <ph id="ph1">&lt;xref:System.ServiceModel.Security.Tokens.ClaimTypeRequirement&gt;</ph> instances to the collection returned by the <ph id="ph2">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.ClaimTypeRequirements%2A&gt;</ph> property.</source>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>Optional on both the client and the service.</source>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>Create and add one or more <ph id="ph1">&lt;xref:System.Xml.XmlElement&gt;</ph> instances to the collection returned by the <ph id="ph2">&lt;xref:System.ServiceModel.FederatedMessageSecurityOverHttp.TokenRequestParameters%2A&gt;</ph> property.</source>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>To create a federated endpoint in configuration</source>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>Create a <bpt id="p1">[</bpt><ph id="ph1">\&lt;</ph>wsFederationHttpBinding&gt;<ept id="p1">](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md)</ept> as a child of the <bpt id="p2">[</bpt><ph id="ph2">\&lt;</ph>bindings&gt;<ept id="p2">](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md)</ept> element in the application configuration file.</source>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Create a <bpt id="p1">[</bpt><ph id="ph1">\&lt;</ph>binding&gt;<ept id="p1">](../../../../docs/framework/misc/binding.md)</ept> element as a child of <bpt id="p2">[</bpt><ph id="ph2">\&lt;</ph>wsFederationHttpBinding&gt;<ept id="p2">](../../../../docs/framework/configure-apps/file-schema/wcf/wsfederationhttpbinding.md)</ept> and set the <ph id="ph3">`name`</ph> attribute to an appropriate value.</source>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>Create a <ph id="ph1">`&lt;security&gt;`</ph> element as a child of the <bpt id="p1">[</bpt><ph id="ph2">\&lt;</ph>binding&gt;<ept id="p1">](../../../../docs/framework/misc/binding.md)</ept> element.</source>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`mode`</ph> attribute on the <ph id="ph2">`&lt;security&gt;`</ph> element to a value of <ph id="ph3">`Message`</ph> or <ph id="ph4">`TransportWithMessageCredential`</ph>, as required.</source>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>Create a <ph id="ph1">`&lt;message&gt;`</ph> element as a child of the <ph id="ph2">`&lt;security&gt;`</ph> element.</source>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>Optional.</source>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`algorithmSuite`</ph> attribute on the <ph id="ph2">`&lt;message&gt;`</ph> element with an appropriate value.</source>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>The default is <ph id="ph1">`Basic256`</ph>.</source>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>Optional.</source>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>If an asymmetric proof key is required, set the <ph id="ph1">`issuedKeyType`</ph> attribute of the <ph id="ph2">`&lt;message&gt;`</ph> element to <ph id="ph3">`AsymmetricKey`</ph>.</source>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>The default is <ph id="ph1">`SymmetricKey`</ph>.</source>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>Optional.</source>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`issuedTokenType`</ph> attribute on the <ph id="ph2">`&lt;message&gt;`</ph> element.</source>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Required on the client if no local issuer is specified; optional on the service.</source>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>Create an <ph id="ph1">`&lt;issuer&gt;`</ph> element as a child of the <ph id="ph2">`&lt;message&gt;`</ph> element.</source>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>Set the <ph id="ph1">`address`</ph> attribute to the <ph id="ph2">`&lt;issuer&gt;`</ph> element and specify the address at which the security token service accepts token requests.</source>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>Optional.</source>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source>Add an <ph id="ph1">`&lt;identity&gt;`</ph> child element and specify the identity of the security token service</source>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>For more information, see <bpt id="p1">[</bpt>Service Identity and Authentication<ept id="p1">](service-identity-and-authentication.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>Required on the client if no local issuer is specified; not used on the service.</source>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>Create a <bpt id="p1">[</bpt><ph id="ph1">\&lt;</ph>binding&gt;<ept id="p1">](../../../../docs/framework/misc/binding.md)</ept> element in the bindings section that can be used to communicate with the security token service.</source>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>For more information about creating a binding, see <bpt id="p1">[</bpt>How to: Specify a Service Binding in Configuration<ept id="p1">](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>Specify the binding created in the previous step by setting the <ph id="ph1">`binding`</ph> and <ph id="ph2">`bindingConfiguration`</ph> attributes of the <ph id="ph3">`&lt;issuer&gt;`</ph> element.</source>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>Not used on the client; optional on the service.</source>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>Create an <ph id="ph1">`&lt;issuerMetadata&gt;`</ph> element as a child of the &lt;<ph id="ph2">`message`</ph>&gt; element.</source>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>Then, in an <ph id="ph1">`address`</ph> attribute on the <ph id="ph2">`&lt;issuerMetadata&gt;`</ph> element, specify the address at which the security token service is to publish its metadata.</source>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>Optionally, add an <ph id="ph1">`&lt;identity&gt;`</ph> child element and specify the identity of the security token service.</source>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>Optional on both the client and the service.</source>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>Add a <ph id="ph1">`&lt;claimTypeRequirements&gt;`</ph> element as a child of the <ph id="ph2">`&lt;message&gt;`</ph> element.</source>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>Specify required and optional claims that the service relies on by adding <bpt id="p1">[</bpt><ph id="ph1">\&lt;</ph>add&gt;<ept id="p1">](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-claimtyperequirements.md)</ept> elements to the <ph id="ph2">`&lt;claimTypeRequirements&gt;`</ph> element and specifying the claim type with the <ph id="ph3">`claimType`</ph> attribute.</source>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>Specify whether a given claim is required or optional by setting the <ph id="ph1">`isOptional`</ph> attribute.</source>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>Example</source>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>The following code sample shows code for setting up a <ph id="ph1">`WSFederationHttpBinding`</ph> imperatively.</source>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>See also</source>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Federation<ept id="p1">](federation.md)</ept></source>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Federation Sample<ept id="p1">](../../../../docs/framework/wcf/samples/federation-sample.md)</ept></source>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>How to: Disable Secure Sessions on a WSFederationHttpBinding<ept id="p1">](how-to-disable-secure-sessions-on-a-wsfederationhttpbinding.md)</ept></source>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>