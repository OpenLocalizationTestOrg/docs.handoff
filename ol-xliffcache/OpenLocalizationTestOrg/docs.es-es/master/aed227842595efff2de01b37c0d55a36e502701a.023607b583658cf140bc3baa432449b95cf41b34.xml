{"content":"---\ntitle: \"ICLRTask::NeedsPriorityScheduling Method | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\napi_name: \n  - \"ICLRTask.NeedsPriorityScheduling\"\napi_location: \n  - \"mscoree.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICLRTask::NeedsPriorityScheduling\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"ICLRTask::NeedsPriorityScheduling method [.NET Framework hosting]\"\n  - \"NeedsPriorityScheduling method [.NET Framework hosting]\"\nms.assetid: 9c9db3f3-26bf-4317-88de-5eb926a22a1d\ntopic_type: \n  - \"apiref\"\ncaps.latest.revision: 10\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# ICLRTask::NeedsPriorityScheduling Method\nGets a value that indicates whether the current task, which is being switched out, needs to be marked as a high priority for rescheduling.  \n  \n## Syntax  \n  \n```  \nHRESULT NeedsPriorityScheduling (  \n    [out] BOOL *pbNeedsPriorityScheduling  \n);  \n```  \n  \n#### Parameters  \n `pbNeedsPriorityRescheduling`  \n [out] `true`, if the host should attempt to reschedule the current task instance as soon as possible; otherwise, `false`.  \n  \n## Return Value  \n  \n|HRESULT|Description|  \n|-------------|-----------------|  \n|S_OK|`NeedsPriorityRescheduling` returned successfully.|  \n|HOST_E_CLRNOTAVAILABLE|The common language runtime (CLR) has not been loaded into a process, or the CLR is in a state in which it cannot run managed code or process the call successfully.|  \n|HOST_E_TIMEOUT|The call timed out.|  \n|HOST_E_NOT_OWNER|The caller does not own the lock.|  \n|HOST_E_ABANDONED|An event was canceled while a blocked thread or fiber was waiting on it.|  \n|E_FAIL|An unknown catastrophic failure occurred. When a method returns E_FAIL, the CLR is no longer usable within the process. Subsequent calls to hosting methods return HOST_E_CLRNOTAVAILABLE.|  \n  \n## Remarks  \n In situations where the task is close to being collected by the garbage collector, the CLR sets the value of `pbNeedsPriorityScheduling` to `true`, indicating high-priority rescheduling. This allows the host to reschedule the task quickly, thereby minimizing the potential for delays in garbage collection, and enabling the host and the runtime to cooperate in conserving memory resources.  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** MSCorEE.h  \n  \n **Library:** Included as a resource in MSCorEE.dll  \n  \n **.NET Framework Versions:** [!INCLUDE[net_current_v20plus](../../../../includes/net-current-v20plus-md.md)]  \n  \n## See Also  \n [ICLRTask Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtask-interface.md)   \n [ICLRTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtaskmanager-interface.md)   \n [IHostTask Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttask-interface.md)   \n [IHostTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttaskmanager-interface.md)","nodes":[{"pos":[4,730],"embed":true,"restype":"x-metadata","content":"title: \"ICLRTask::NeedsPriorityScheduling Method | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\napi_name: \n  - \"ICLRTask.NeedsPriorityScheduling\"\napi_location: \n  - \"mscoree.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICLRTask::NeedsPriorityScheduling\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"ICLRTask::NeedsPriorityScheduling method [.NET Framework hosting]\"\n  - \"NeedsPriorityScheduling method [.NET Framework hosting]\"\nms.assetid: 9c9db3f3-26bf-4317-88de-5eb926a22a1d\ntopic_type: \n  - \"apiref\"\ncaps.latest.revision: 10\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"","nodes":[{"content":"ICLRTask::NeedsPriorityScheduling Method | Microsoft Docs","nodes":[{"pos":[0,57],"content":"ICLRTask::NeedsPriorityScheduling Method | Microsoft Docs","nodes":[{"content":"ICLRTask::NeedsPriorityScheduling Method | Microsoft Docs","pos":[0,57]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[737,777],"content":"ICLRTask::NeedsPriorityScheduling Method","linkify":"ICLRTask::NeedsPriorityScheduling Method","nodes":[{"content":"ICLRTask::NeedsPriorityScheduling Method","pos":[0,40]}]},{"content":"Gets a value that indicates whether the current task, which is being switched out, needs to be marked as a high priority for rescheduling.","pos":[778,916]},{"pos":[925,931],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1042,1052],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[out] <ph id=\"ph1\">`true`</ph>, if the host should attempt to reschedule the current task instance as soon as possible; otherwise, <ph id=\"ph2\">`false`</ph>.","pos":[1089,1210],"source":"[out] `true`, if the host should attempt to reschedule the current task instance as soon as possible; otherwise, `false`."},{"pos":[1219,1231],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"HRESULT","pos":[1238,1245]},{"content":"Description","pos":[1246,1257]},{"content":"S_OK","pos":[1298,1302]},{"pos":[1303,1353],"content":"<ph id=\"ph1\">`NeedsPriorityRescheduling`</ph> returned successfully.","source":"`NeedsPriorityRescheduling` returned successfully."},{"content":"HOST_E_CLRNOTAVAILABLE","pos":[1358,1380]},{"content":"The common language runtime (CLR) has not been loaded into a process, or the CLR is in a state in which it cannot run managed code or process the call successfully.","pos":[1381,1545]},{"content":"HOST_E_TIMEOUT","pos":[1550,1564]},{"content":"The call timed out.","pos":[1565,1584]},{"content":"HOST_E_NOT_OWNER","pos":[1589,1605]},{"content":"The caller does not own the lock.","pos":[1606,1639]},{"content":"HOST_E_ABANDONED","pos":[1644,1660]},{"content":"An event was canceled while a blocked thread or fiber was waiting on it.","pos":[1661,1733]},{"content":"E_FAIL","pos":[1738,1744]},{"content":"An unknown catastrophic failure occurred.","pos":[1745,1786]},{"content":"When a method returns E_FAIL, the CLR is no longer usable within the process.","pos":[1787,1864]},{"content":"Subsequent calls to hosting methods return HOST_E_CLRNOTAVAILABLE.","pos":[1865,1931]},{"pos":[1941,1948],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"In situations where the task is close to being collected by the garbage collector, the CLR sets the value of <ph id=\"ph1\">`pbNeedsPriorityScheduling`</ph> to <ph id=\"ph2\">`true`</ph>, indicating high-priority rescheduling.","pos":[1952,2138],"source":"In situations where the task is close to being collected by the garbage collector, the CLR sets the value of `pbNeedsPriorityScheduling` to `true`, indicating high-priority rescheduling."},{"content":"This allows the host to reschedule the task quickly, thereby minimizing the potential for delays in garbage collection, and enabling the host and the runtime to cooperate in conserving memory resources.","pos":[2139,2341]},{"pos":[2350,2362],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2366,2470],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[2477,2498],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> MSCorEE.h","source":"**Header:** MSCorEE.h"},{"pos":[2505,2555],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> Included as a resource in MSCorEE.dll","source":"**Library:** Included as a resource in MSCorEE.dll"},{"pos":[2562,2670],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> <ph id=\"ph1\">[!INCLUDE[net_current_v20plus](../../../../includes/net-current-v20plus-md.md)]</ph>","source":"**.NET Framework Versions:** [!INCLUDE[net_current_v20plus](../../../../includes/net-current-v20plus-md.md)]"},{"pos":[2679,2687],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>ICLRTask Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/iclrtask-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[2691,2784],"source":"[ICLRTask Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtask-interface.md) "},{"content":"<bpt id=\"p1\">[</bpt>ICLRTaskManager Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/iclrtaskmanager-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[2788,2895],"source":"[ICLRTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtaskmanager-interface.md) "},{"content":"<bpt id=\"p1\">[</bpt>IHostTask Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/ihosttask-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[2899,2994],"source":"[IHostTask Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttask-interface.md) "},{"content":"<bpt id=\"p1\">[</bpt>IHostTaskManager Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/ihosttaskmanager-interface.md)</ept>","pos":[2998,3106],"source":"[IHostTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttaskmanager-interface.md)"}]}