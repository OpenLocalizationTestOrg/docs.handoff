{"content":"---\ntitle: \"Data Member Default Values\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"data members [WCF], default values\"\n  - \"data members [WCF]\"\nms.assetid: 53a3b505-4b27-444b-b079-0eb84a97cfd8\n---\n# Data Member Default Values\nIn the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], types have a concept of *default values*. For example, for any reference type the default value is `null`, and for an integer type it is zero. It is occasionally desirable to omit a data member from serialized data when it is set to its default value. Because the member has a default value, an actual value need not be serialized; this has a performance advantage.  \n  \n To omit a member from serialized data, set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to `false` (the default is `true`).  \n  \n> [!NOTE]\n>  You should set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property to `false` if there is a specific need to do so, such as for interoperability or data size reduction.  \n  \n## Example  \n The following code has several members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> set to `false`.  \n  \n [!code-csharp[DataMemberAttribute#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/datamemberattribute/cs/overview.cs#4)]\n [!code-vb[DataMemberAttribute#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/datamemberattribute/vb/overview.vb#4)]  \n  \n If an instance of this class is serialized, the result is as follows: `employeeName` and `employeeID` is serialized. The null value for `employeeName` and the zero value for `employeeID` is explicitly part of the serialized data. However, the `position`, `salary`, and `bonus` members are not serialized. Finally, `targetSalary` is serialized as usual, even though the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is set to `false`, because 57800 does not match the .NET default value for an integer, which is zero.  \n  \n### XML Representation  \n If the previous example is serialized to XML, the representation is similar to the following.  \n  \n```xml  \n<Employee>  \n   <employeeName xsi:nil=\"true\" />  \n   <employeeID>0</employeeID>  \n<targetSalary>57800</targetSalary>  \n</Employee>  \n```  \n  \n The `xsi:nil` attribute is a special attribute in the World Wide Web Consortium (W3C) XML Schema instance namespace that provides an interoperable way to explicitly represent a null value. Note that there is no information at all in the XML about position, salary, and bonus data members. The receiving end can interpret these as `null`, zero, and `null`, respectively. There is no guarantee that a third-party deserializer can make the correct interpretation, which is why this pattern is not recommended. The <xref:System.Runtime.Serialization.DataContractSerializer> class always selects the correct interpretation for missing values.  \n  \n### Interaction with IsRequired  \n As discussed in [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md), the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute has an <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property (the default is `false`). The property indicates whether a given data member must be present in the serialized data when it is being deserialized. If `IsRequired` is set to `true`, (which indicates that a value must be present) and <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false` (indicating that the value must not be present if it is set to its default value), default values for this data member cannot be serialized because the results would be contradictory. If such a data member is set to its default value (usually `null` or zero) and a serialization is attempted, a <xref:System.Runtime.Serialization.SerializationException> is thrown.  \n  \n### Schema Representation  \n The details of the XML Schema definition language (XSD) schema representation of data members when the `EmitDefaultValue` property is set to `false` are discussed in [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md). However, the following is a brief overview:  \n  \n-   When the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false`, it is represented in the schema as an annotation specific to Windows Communication Foundation (WCF). There is no interoperable way to represent this information. In particular, the \"default\" attribute in the schema is not used for this purpose, the `minOccurs` attribute is affected only by the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> setting, and the `nillable` attribute is affected only by the type of the data member.  \n  \n-   The actual default value to use is not present in the schema. It is up to the receiving endpoint to appropriately interpret a missing element.  \n  \n On schema import, the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is automatically set to `false` whenever the WCF-specific annotation mentioned previously is detected. It is also set to `false` for reference types that have the `nillable` property set to `false` to support specific interoperability scenarios that commonly occur when consuming [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web services.  \n  \n## See also\n\n- <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A>\n- <xref:System.Runtime.Serialization.DataMemberAttribute>\n","nodes":[{"pos":[4,232],"embed":true,"restype":"x-metadata","content":"title: \"Data Member Default Values\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"data members [WCF], default values\"\n  - \"data members [WCF]\"\nms.assetid: 53a3b505-4b27-444b-b079-0eb84a97cfd8","nodes":[{"content":"Data Member Default Values","nodes":[{"pos":[0,26],"content":"Data Member Default Values","nodes":[{"content":"Data Member Default Values","pos":[0,26]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[239,265],"content":"Data Member Default Values","linkify":"Data Member Default Values","nodes":[{"content":"Data Member Default Values","pos":[0,26]}]},{"content":"In the <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph>, types have a concept of <bpt id=\"p1\">*</bpt>default values<ept id=\"p1\">*</ept>.","pos":[266,379],"source":"In the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], types have a concept of *default values*."},{"content":"For example, for any reference type the default value is <ph id=\"ph1\">`null`</ph>, and for an integer type it is zero.","pos":[380,480],"source":" For example, for any reference type the default value is `null`, and for an integer type it is zero."},{"content":"It is occasionally desirable to omit a data member from serialized data when it is set to its default value.","pos":[481,589]},{"content":"Because the member has a default value, an actual value need not be serialized; this has a performance advantage.","pos":[590,703]},{"pos":[710,950],"content":"To omit a member from serialized data, set the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A&gt;</ph> property of the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> attribute to <ph id=\"ph3\">`false`</ph> (the default is <ph id=\"ph4\">`true`</ph>).","source":"To omit a member from serialized data, set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to `false` (the default is `true`)."},{"pos":[958,1174],"content":"[!NOTE]\n You should set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property to `false` if there is a specific need to do so, such as for interoperability or data size reduction.","leadings":["","> "],"nodes":[{"content":"You should set the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A&gt;</ph> property to <ph id=\"ph2\">`false`</ph> if there is a specific need to do so, such as for interoperability or data size reduction.","pos":[9,214],"source":"You should set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property to `false` if there is a specific need to do so, such as for interoperability or data size reduction."}]},{"pos":[1183,1190],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1194,1333],"content":"The following code has several members with the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A&gt;</ph> set to <ph id=\"ph2\">`false`</ph>.","source":"The following code has several members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> set to `false`."},{"content":"If an instance of this class is serialized, the result is as follows: <ph id=\"ph1\">`employeeName`</ph> and <ph id=\"ph2\">`employeeID`</ph> is serialized.","pos":[1604,1720],"source":"If an instance of this class is serialized, the result is as follows: `employeeName` and `employeeID` is serialized."},{"content":"The null value for <ph id=\"ph1\">`employeeName`</ph> and the zero value for <ph id=\"ph2\">`employeeID`</ph> is explicitly part of the serialized data.","pos":[1721,1833],"source":" The null value for `employeeName` and the zero value for `employeeID` is explicitly part of the serialized data."},{"content":"However, the <ph id=\"ph1\">`position`</ph>, <ph id=\"ph2\">`salary`</ph>, and <ph id=\"ph3\">`bonus`</ph> members are not serialized.","pos":[1834,1908],"source":" However, the `position`, `salary`, and `bonus` members are not serialized."},{"content":"Finally, <ph id=\"ph1\">`targetSalary`</ph> is serialized as usual, even though the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A&gt;</ph> property is set to <ph id=\"ph3\">`false`</ph>, because 57800 does not match the .NET default value for an integer, which is zero.","pos":[1909,2159],"source":" Finally, `targetSalary` is serialized as usual, even though the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is set to `false`, because 57800 does not match the .NET default value for an integer, which is zero."},{"pos":[2169,2187],"content":"XML Representation","linkify":"XML Representation","nodes":[{"content":"XML Representation","pos":[0,18]}]},{"content":"If the previous example is serialized to XML, the representation is similar to the following.","pos":[2191,2284]},{"content":"The <ph id=\"ph1\">`xsi:nil`</ph> attribute is a special attribute in the World Wide Web Consortium (W3C) XML Schema instance namespace that provides an interoperable way to explicitly represent a null value.","pos":[2442,2630],"source":"The `xsi:nil` attribute is a special attribute in the World Wide Web Consortium (W3C) XML Schema instance namespace that provides an interoperable way to explicitly represent a null value."},{"content":"Note that there is no information at all in the XML about position, salary, and bonus data members.","pos":[2631,2730]},{"content":"The receiving end can interpret these as <ph id=\"ph1\">`null`</ph>, zero, and <ph id=\"ph2\">`null`</ph>, respectively.","pos":[2731,2811],"source":" The receiving end can interpret these as `null`, zero, and `null`, respectively."},{"content":"There is no guarantee that a third-party deserializer can make the correct interpretation, which is why this pattern is not recommended.","pos":[2812,2948]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph> class always selects the correct interpretation for missing values.","pos":[2949,3079],"source":" The <xref:System.Runtime.Serialization.DataContractSerializer> class always selects the correct interpretation for missing values."},{"pos":[3089,3116],"content":"Interaction with IsRequired","linkify":"Interaction with IsRequired","nodes":[{"content":"Interaction with IsRequired","pos":[0,27]}]},{"content":"As discussed in <bpt id=\"p1\">[</bpt>Data Contract Versioning<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md)</ept>, the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> attribute has an <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A&gt;</ph> property (the default is <ph id=\"ph3\">`false`</ph>).","pos":[3120,3421],"source":"As discussed in [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md), the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute has an <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property (the default is `false`)."},{"content":"The property indicates whether a given data member must be present in the serialized data when it is being deserialized.","pos":[3422,3542]},{"content":"If <ph id=\"ph1\">`IsRequired`</ph> is set to <ph id=\"ph2\">`true`</ph>, (which indicates that a value must be present) and <ph id=\"ph3\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A&gt;</ph> is set to <ph id=\"ph4\">`false`</ph> (indicating that the value must not be present if it is set to its default value), default values for this data member cannot be serialized because the results would be contradictory.","pos":[3543,3905],"source":" If `IsRequired` is set to `true`, (which indicates that a value must be present) and <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false` (indicating that the value must not be present if it is set to its default value), default values for this data member cannot be serialized because the results would be contradictory."},{"content":"If such a data member is set to its default value (usually <ph id=\"ph1\">`null`</ph> or zero) and a serialization is attempted, a <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.SerializationException&gt;</ph> is thrown.","pos":[3906,4086],"source":" If such a data member is set to its default value (usually `null` or zero) and a serialization is attempted, a <xref:System.Runtime.Serialization.SerializationException> is thrown."},{"pos":[4096,4117],"content":"Schema Representation","linkify":"Schema Representation","nodes":[{"content":"Schema Representation","pos":[0,21]}]},{"content":"The details of the XML Schema definition language (XSD) schema representation of data members when the <ph id=\"ph1\">`EmitDefaultValue`</ph> property is set to <ph id=\"ph2\">`false`</ph> are discussed in <bpt id=\"p1\">[</bpt>Data Contract Schema Reference<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)</ept>.","pos":[4121,4402],"source":"The details of the XML Schema definition language (XSD) schema representation of data members when the `EmitDefaultValue` property is set to `false` are discussed in [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)."},{"content":"However, the following is a brief overview:","pos":[4403,4446]},{"content":"When the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A&gt;</ph> is set to <ph id=\"ph2\">`false`</ph>, it is represented in the schema as an annotation specific to Windows Communication Foundation (WCF).","pos":[4456,4660],"source":"When the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false`, it is represented in the schema as an annotation specific to Windows Communication Foundation (WCF)."},{"content":"There is no interoperable way to represent this information.","pos":[4661,4721]},{"content":"In particular, the \"default\" attribute in the schema is not used for this purpose, the <ph id=\"ph1\">`minOccurs`</ph> attribute is affected only by the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A&gt;</ph> setting, and the <ph id=\"ph3\">`nillable`</ph> attribute is affected only by the type of the data member.","pos":[4722,5011],"source":" In particular, the \"default\" attribute in the schema is not used for this purpose, the `minOccurs` attribute is affected only by the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> setting, and the `nillable` attribute is affected only by the type of the data member."},{"content":"The actual default value to use is not present in the schema.","pos":[5021,5082]},{"content":"It is up to the receiving endpoint to appropriately interpret a missing element.","pos":[5083,5163]},{"content":"On schema import, the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A&gt;</ph> property is automatically set to <ph id=\"ph2\">`false`</ph> whenever the WCF-specific annotation mentioned previously is detected.","pos":[5170,5379],"source":"On schema import, the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is automatically set to `false` whenever the WCF-specific annotation mentioned previously is detected."},{"content":"It is also set to <ph id=\"ph1\">`false`</ph> for reference types that have the <ph id=\"ph2\">`nillable`</ph> property set to <ph id=\"ph3\">`false`</ph> to support specific interoperability scenarios that commonly occur when consuming <ph id=\"ph4\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> Web services.","pos":[5380,5628],"source":" It is also set to `false` for reference types that have the `nillable` property set to `false` to support specific interoperability scenarios that commonly occur when consuming [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web services."},{"pos":[5637,5645],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}