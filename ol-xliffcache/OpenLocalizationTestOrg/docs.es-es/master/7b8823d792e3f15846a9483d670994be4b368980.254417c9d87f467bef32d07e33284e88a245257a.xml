{"content":"---\ntitle: \"<certificateValidation>\"\nms.date: \"03/30/2017\"\nms.assetid: 6c54c704-b55e-4631-88ff-4d4a5621554c\nauthor: \"BrucePerlerMS\"\n---\n# \\<certificateValidation>\nControls the settings that token handlers use to validate certificates. These settings are overridden if a specific handler is configured with its own validator.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<certificateValidation>  \n  \n## Syntax  \n  \n```xml  \n<system.identityModel>  \n  <identityConfiguration>  \n    <certificateValidation  \n      certificateValidationMode=\"None||ChainTrust||PeerTrust||PeerOrChainTrust||Custom\"  \n      revocationMode=\"NoCheck||Offline||Online\"  \n      trustedStoreLocation=\"CurrentLocation||LocalMachine\" >  \n    </certificateValidation>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|certificateValidationMode|An <xref:System.ServiceModel.Security.X509CertificateValidationMode> value that specifies the validation mode to use for the X.509 certificate. The default value is \"PeerOrChainTrust\". To specify a custom validator, set this attribute to \"Custom\" and specify the validator using the [\\<certificateValidator>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidator.md) element. Optional.|  \n|revocationMode|An <xref:System.Security.Cryptography.X509Certificates.X509RevocationMode> value that specifies the revocation mode to use for the X.509 certificate. The default value is \"Online\". Optional.|  \n|trustedStoreLocation|A <xref:System.Security.Cryptography.X509Certificates.StoreLocation> value that specifies the X.509 certificate store. The default value is \"LocalMachine\". Optional.|  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<certificateValidator>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidator.md)|Specifies a custom type for certificate validation. This type is used only if the `certificateValidationMode` attribute of the [\\<certificateValidation>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidation.md) element is set to \"Custom\".|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)|Specifies service-level identity settings.|  \n|[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)|Provides configuration for a collection of security token handlers.|  \n  \n## Remarks  \n A `<certificateValidation>` element can be specified at the service level under the `<identityConfiguration>` element or on the security token handler collection level under the `<securityTokenHandlerConfiguration>` element. Settings on a token handler collection override those specified on the service. Some token handlers allow you to specify certificate validation settings in configuration. Settings on individual token handlers override those specified both at the service level and on the security token handler collection.  \n  \n## Example  \n  \n```xml  \n<certificateValidation certificateValidationMode=\"PeerOrChainTrust\"  \n                       revocationMode=\"Online\"  \n                       trustedStoreLocation=\"LocalMachine\" />  \n```\n","nodes":[{"pos":[4,131],"embed":true,"restype":"x-metadata","content":"title: \"<certificateValidation>\"\nms.date: \"03/30/2017\"\nms.assetid: 6c54c704-b55e-4631-88ff-4d4a5621554c\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"<certificateValidation>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[138,162],"content":"\\<certificateValidation>","linkify":"\\<certificateValidation>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>certificateValidation&gt;","pos":[0,24],"source":"\\<certificateValidation>"}]},{"content":"Controls the settings that token handlers use to validate certificates.","pos":[163,234]},{"content":"These settings are overridden if a specific handler is configured with its own validator.","pos":[235,324]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[331,354],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[357,381],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>certificateValidation&gt;","pos":[384,408],"source":"\\<certificateValidation>"},{"pos":[417,423],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[821,844],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[848,928]},{"pos":[938,948],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[955,964]},{"content":"Description","pos":[965,976]},{"content":"certificateValidationMode","pos":[1019,1044]},{"content":"An <ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.X509CertificateValidationMode&gt;</ph> value that specifies the validation mode to use for the X.509 certificate.","pos":[1045,1188],"source":"An <xref:System.ServiceModel.Security.X509CertificateValidationMode> value that specifies the validation mode to use for the X.509 certificate."},{"content":"The default value is \"PeerOrChainTrust\".","pos":[1189,1229]},{"content":"To specify a custom validator, set this attribute to \"Custom\" and specify the validator using the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>certificateValidator&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidator.md)</ept> element.","pos":[1230,1472],"source":" To specify a custom validator, set this attribute to \"Custom\" and specify the validator using the [\\<certificateValidator>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidator.md) element."},{"content":"Optional.","pos":[1473,1482]},{"content":"revocationMode","pos":[1487,1501]},{"content":"An <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.X509Certificates.X509RevocationMode&gt;</ph> value that specifies the revocation mode to use for the X.509 certificate.","pos":[1502,1651],"source":"An <xref:System.Security.Cryptography.X509Certificates.X509RevocationMode> value that specifies the revocation mode to use for the X.509 certificate."},{"content":"The default value is \"Online\".","pos":[1652,1682]},{"content":"Optional.","pos":[1683,1692]},{"content":"trustedStoreLocation","pos":[1697,1717]},{"content":"A <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.X509Certificates.StoreLocation&gt;</ph> value that specifies the X.509 certificate store.","pos":[1718,1836],"source":"A <xref:System.Security.Cryptography.X509Certificates.StoreLocation> value that specifies the X.509 certificate store."},{"content":"The default value is \"LocalMachine\".","pos":[1837,1873]},{"content":"Optional.","pos":[1874,1883]},{"pos":[1894,1908],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[1915,1922]},{"content":"Description","pos":[1923,1934]},{"pos":[1975,2110],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>certificateValidator&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidator.md)</ept>","source":"[\\<certificateValidator>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidator.md)"},{"content":"Specifies a custom type for certificate validation.","pos":[2111,2162]},{"content":"This type is used only if the <ph id=\"ph1\">`certificateValidationMode`</ph> attribute of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>certificateValidation&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidation.md)</ept> element is set to \"Custom\".","pos":[2163,2403],"source":" This type is used only if the `certificateValidationMode` attribute of the [\\<certificateValidation>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/certificatevalidation.md) element is set to \"Custom\"."},{"pos":[2414,2429],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[2436,2443]},{"content":"Description","pos":[2444,2455]},{"pos":[2496,2633],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)</ept>","source":"[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)"},{"content":"Specifies service-level identity settings.","pos":[2634,2676]},{"pos":[2681,2842],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>securityTokenHandlerConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)</ept>","source":"[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)"},{"content":"Provides configuration for a collection of security token handlers.","pos":[2843,2910]},{"pos":[2920,2927],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"A <ph id=\"ph1\">`&lt;certificateValidation&gt;`</ph> element can be specified at the service level under the <ph id=\"ph2\">`&lt;identityConfiguration&gt;`</ph> element or on the security token handler collection level under the <ph id=\"ph3\">`&lt;securityTokenHandlerConfiguration&gt;`</ph> element.","pos":[2931,3155],"source":"A `<certificateValidation>` element can be specified at the service level under the `<identityConfiguration>` element or on the security token handler collection level under the `<securityTokenHandlerConfiguration>` element."},{"content":"Settings on a token handler collection override those specified on the service.","pos":[3156,3235]},{"content":"Some token handlers allow you to specify certificate validation settings in configuration.","pos":[3236,3326]},{"content":"Settings on individual token handlers override those specified both at the service level and on the security token handler collection.","pos":[3327,3461]},{"pos":[3470,3477],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]}]}