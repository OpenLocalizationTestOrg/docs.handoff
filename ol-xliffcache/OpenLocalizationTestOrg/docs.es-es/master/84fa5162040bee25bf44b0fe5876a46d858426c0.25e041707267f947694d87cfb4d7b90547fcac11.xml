{"content":"---\ntitle: \"How to: Bind a TreeView to Data That Has an Indeterminable Depth | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"TreeView control [WPF], binding to data of indeterminate depth\"\nms.assetid: daddcd74-1b0f-4ffd-baeb-ec934c5e0f53\ncaps.latest.revision: 10\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# How to: Bind a TreeView to Data That Has an Indeterminable Depth\nThere might be times when you want to bind a <xref:System.Windows.Controls.TreeView> to a data source whose depth is not known.  This can occur when the data is recursive in nature, such as a file system, where folders can contain folders, or a company's organizational structure, where employees have other employees as direct reports.  \n  \n The data source must have a hierarchical object model. For example, an `Employee` class might contain a collection of Employee objects that are the direct reports of an employee. If the data is represented in a way that is not hierarchical, you must build a hierarchical representation of the data.  \n  \n When you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A?displayProperty=fullName> property and if the <xref:System.Windows.Controls.ItemsControl> generates an <xref:System.Windows.Controls.ItemsControl> for each child item, then the child <xref:System.Windows.Controls.ItemsControl> uses the same <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> as the parent. For example, if you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property on a data-bound <xref:System.Windows.Controls.TreeView>, each <xref:System.Windows.Controls.TreeViewItem> that is generated uses the <xref:System.Windows.DataTemplate> that was assigned to the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.TreeView>.  \n  \n The <xref:System.Windows.HierarchicalDataTemplate> enables you to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for a <xref:System.Windows.Controls.TreeViewItem>, or any <xref:System.Windows.Controls.HeaderedItemsControl>, on the data template. When you set the <xref:System.Windows.HierarchicalDataTemplate.ItemsSource%2A?displayProperty=fullName> property, that value is used when the <xref:System.Windows.HierarchicalDataTemplate> is applied. By using a <xref:System.Windows.HierarchicalDataTemplate>, you can recursively set the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem> in the <xref:System.Windows.Controls.TreeView>.  \n  \n## Example  \n The following example demonstrates how to bind a <xref:System.Windows.Controls.TreeView> to hierarchical data and use a <xref:System.Windows.HierarchicalDataTemplate> to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem>.  The <xref:System.Windows.Controls.TreeView> binds to XML data that represents the employees in a company.  Each `Employee` element can contain other `Employee` elements to indicate who reports to whom. Because the data is recursive, the <xref:System.Windows.HierarchicalDataTemplate> can be applied to each level.  \n  \n [!code-xml[TreeViewWithUnknownDepth#1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TreeViewWithUnknownDepth/CS/Window1.xaml#1)]  \n  \n## See Also  \n [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md)   \n [Data Templating Overview](../../../../docs/framework/wpf/data/data-templating-overview.md)","nodes":[{"pos":[12,93],"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth | Microsoft Docs","pos":[0,81]}]},{"pos":[492,556],"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","linkify":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","nodes":[{"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","pos":[0,64]}]},{"content":"There might be times when you want to bind a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph> to a data source whose depth is not known.","pos":[557,684],"source":"There might be times when you want to bind a <xref:System.Windows.Controls.TreeView> to a data source whose depth is not known."},{"content":"This can occur when the data is recursive in nature, such as a file system, where folders can contain folders, or a company's organizational structure, where employees have other employees as direct reports.","pos":[686,893]},{"content":"The data source must have a hierarchical object model.","pos":[900,954]},{"content":"For example, an <ph id=\"ph1\">`Employee`</ph> class might contain a collection of Employee objects that are the direct reports of an employee.","pos":[955,1078],"source":" For example, an `Employee` class might contain a collection of Employee objects that are the direct reports of an employee."},{"content":"If the data is represented in a way that is not hierarchical, you must build a hierarchical representation of the data.","pos":[1079,1198]},{"content":"When you set the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A?displayProperty=fullName&gt;</ph> property and if the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> generates an <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> for each child item, then the child <ph id=\"ph4\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> uses the same <ph id=\"ph5\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> as the parent.","pos":[1205,1596],"source":"When you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A?displayProperty=fullName> property and if the <xref:System.Windows.Controls.ItemsControl> generates an <xref:System.Windows.Controls.ItemsControl> for each child item, then the child <xref:System.Windows.Controls.ItemsControl> uses the same <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> as the parent."},{"content":"For example, if you set the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> property on a data-bound <ph id=\"ph2\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph>, each <ph id=\"ph3\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph> that is generated uses the <ph id=\"ph4\">&lt;xref:System.Windows.DataTemplate&gt;</ph> that was assigned to the <ph id=\"ph5\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> property of the <ph id=\"ph6\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph>.","pos":[1597,2003],"source":" For example, if you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property on a data-bound <xref:System.Windows.Controls.TreeView>, each <xref:System.Windows.Controls.TreeViewItem> that is generated uses the <xref:System.Windows.DataTemplate> that was assigned to the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.TreeView>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> enables you to specify the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl.ItemsSource%2A&gt;</ph> for a <ph id=\"ph3\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph>, or any <ph id=\"ph4\">&lt;xref:System.Windows.Controls.HeaderedItemsControl&gt;</ph>, on the data template.","pos":[2010,2279],"source":"The <xref:System.Windows.HierarchicalDataTemplate> enables you to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for a <xref:System.Windows.Controls.TreeViewItem>, or any <xref:System.Windows.Controls.HeaderedItemsControl>, on the data template."},{"content":"When you set the <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate.ItemsSource%2A?displayProperty=fullName&gt;</ph> property, that value is used when the <ph id=\"ph2\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> is applied.","pos":[2280,2480],"source":" When you set the <xref:System.Windows.HierarchicalDataTemplate.ItemsSource%2A?displayProperty=fullName> property, that value is used when the <xref:System.Windows.HierarchicalDataTemplate> is applied."},{"content":"By using a <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph>, you can recursively set the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl.ItemsSource%2A&gt;</ph> for each <ph id=\"ph3\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph> in the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph>.","pos":[2481,2727],"source":" By using a <xref:System.Windows.HierarchicalDataTemplate>, you can recursively set the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem> in the <xref:System.Windows.Controls.TreeView>."},{"pos":[2736,2743],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to bind a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph> to hierarchical data and use a <ph id=\"ph2\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> to specify the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl.ItemsSource%2A&gt;</ph> for each <ph id=\"ph4\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph>.","pos":[2747,3041],"source":"The following example demonstrates how to bind a <xref:System.Windows.Controls.TreeView> to hierarchical data and use a <xref:System.Windows.HierarchicalDataTemplate> to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph> binds to XML data that represents the employees in a company.","pos":[3043,3148],"source":"  The <xref:System.Windows.Controls.TreeView> binds to XML data that represents the employees in a company."},{"content":"Each <ph id=\"ph1\">`Employee`</ph> element can contain other <ph id=\"ph2\">`Employee`</ph> elements to indicate who reports to whom.","pos":[3150,3244],"source":"  Each `Employee` element can contain other `Employee` elements to indicate who reports to whom."},{"content":"Because the data is recursive, the <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> can be applied to each level.","pos":[3245,3356],"source":" Because the data is recursive, the <xref:System.Windows.HierarchicalDataTemplate> can be applied to each level."},{"pos":[3363,3498],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>TreeViewWithUnknownDepth#1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TreeViewWithUnknownDepth/CS/Window1.xaml#1)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[TreeViewWithUnknownDepth#1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TreeViewWithUnknownDepth/CS/Window1.xaml#1)]"},{"pos":[3507,3515],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Data Binding Overview<ept id=\"p1\">](../../../../docs/framework/wpf/data/data-binding-overview.md)</ept><ph id=\"ph1\"> </ph>","pos":[3519,3605],"source":"[Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Data Templating Overview<ept id=\"p1\">](../../../../docs/framework/wpf/data/data-templating-overview.md)</ept>","pos":[3608,3700],"source":" [Data Templating Overview](../../../../docs/framework/wpf/data/data-templating-overview.md)"}]}