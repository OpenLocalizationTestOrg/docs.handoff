{"content":"---\ntitle: \"try-catch (C# Reference) | Microsoft Docs\"\nms.date: \"2015-07-20\"\nms.prod: .net\nms.technology: \n  - \"devlang-csharp\"\nms.topic: \"article\"\nf1_keywords: \n  - \"try\"\n  - \"try_CSharpKeyword\"\n  - \"catch\"\n  - \"catch_CSharpKeyword\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"catch keyword [C#]\"\n  - \"try-catch statement [C#]\"\nms.assetid: cb5503c7-bfa1-4610-8fc2-ddcd2e84c438\ncaps.latest.revision: 45\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# try-catch (C# Reference)\nThe try-catch statement consists of a `try` block followed by one or more `catch` clauses, which specify handlers for different exceptions.  \n  \n## Remarks  \n When an exception is thrown, the common language runtime (CLR) looks for the `catch` statement that handles this exception. If the currently executing method does not contain such a `catch` block, the CLR looks at the method that called the current method, and so on up the call stack. If no `catch` block is found, then the CLR displays an unhandled exception message to the user and stops execution of the program.  \n  \n The `try` block contains the guarded code that may cause the exception. The block is executed until an exception is thrown or it is completed successfully. For example, the following attempt to cast a `null` object raises the <xref:System.NullReferenceException> exception:  \n  \n```csharp  \nobject o2 = null;  \ntry  \n{  \n    int i2 = (int)o2;   // Error  \n}  \n```  \n  \n Although the `catch` clause can be used without arguments to catch any type of exception, this usage is not recommended. In general, you should only catch those exceptions that you know how to recover from. Therefore, you should always specify an object argument derived from <xref:System.Exception?displayProperty=fullName> For example:  \n  \n```csharp  \ncatch (InvalidCastException e)   \n{  \n}  \n```  \n  \n It is possible to use more than one specific `catch` clause in the same try-catch statement. In this case, the order of the `catch` clauses is important because the `catch` clauses are examined in order. Catch the more specific exceptions before the less specific ones. The compiler produces an error if you order your catch blocks so that a later block can never be reached.  \n  \n Using `catch` arguments is one way to filter for the exceptions you want to handle.  You can also use a predicate expression that further examines the exception to decide whether to handle it.  If the predicate expression returns false, then the search for a handler continues.  \n  \n```csharp  \ncatch (ArgumentException e) when (e.ParamName == \"â€¦\")  \n{  \n}  \n```  \n  \n Exception filters are preferable to catching and rethrowing (explained below) because filters leave the stack unharmed.  If a later handler dumps the stack, you can see where the exception originally came from, rather than just the last place it was rethrown.  A common use of exception filter expressions is logging.  You can create a predicate function that always returns false that also outputs to a log, you can log exceptions as they go by without having to handle them and rethrow.  \n  \n A [throw](../../../csharp/language-reference/keywords/throw.md) statement can be used in a `catch` block to re-throw the exception that is caught by the `catch` statement. The following example extracts source information from an <xref:System.IO.IOException> exception, and then throws the exception to the parent method.  \n  \n```csharp  \ncatch (FileNotFoundException e)  \n{  \n    // FileNotFoundExceptions are handled here.  \n}  \ncatch (IOException e)  \n{  \n    // Extract some information from this exception, and then   \n    // throw it to the parent method.  \n    if (e.Source != null)  \n        Console.WriteLine(\"IOException source: {0}\", e.Source);  \n    throw;  \n}  \n```  \n  \n You can catch one exception and throw a different exception. When you do this, specify the exception that you caught as the inner exception, as shown in the following example.  \n  \n```csharp  \ncatch (InvalidCastException e)   \n{  \n    // Perform some action here, and then throw a new exception.  \n    throw new YourCustomException(\"Put your error message here.\", e);  \n}  \n```  \n  \n You can also re-throw an exception when a specified condition is true, as shown in the following example.  \n  \n```csharp  \ncatch (InvalidCastException e)  \n{  \n    if (e.Data == null)  \n    {  \n        throw;  \n    }  \n    else  \n    {  \n        // Take some action.  \n    }  \n }  \n```  \n  \n From inside a `try` block, initialize only variables that are declared therein. Otherwise, an exception can occur before the execution of the block is completed. For example, in the following code example, the variable `n` is initialized inside the `try` block. An attempt to use this variable outside the `try` block in the `Write(n)` statement will generate a compiler error.  \n  \n```csharp  \nstatic void Main()   \n{  \n    int n;  \n    try   \n    {  \n        // Do not initialize this variable here.  \n        n = 123;  \n    }  \n    catch  \n    {  \n    }  \n    // Error: Use of unassigned local variable 'n'.  \n    Console.Write(n);  \n}  \n```  \n  \n For more information about catch, see [try-catch-finally](../../../csharp/language-reference/keywords/try-catch-finally.md).  \n  \n## Exceptions in Async Methods  \n An async method is marked  by an  [async](../../../csharp/language-reference/keywords/async.md) modifier and usually contains one or more await expressions or statements. An await expression applies the [await](../../../csharp/language-reference/keywords/await.md) operator to a <xref:System.Threading.Tasks.Task> or <xref:System.Threading.Tasks.Task%601>.  \n  \n When control reaches an `await` in the async method, progress in the method is suspended until the awaited task completes. When the task  is complete, execution can resume in the method. For more information, see [Asynchronous Programming with async and await](../../../csharp/programming-guide/concepts/async/index.md) and [Control Flow in Async Programs](../../../csharp/programming-guide/concepts/async/control-flow-in-async-programs.md).  \n  \n The completed task to which `await` is applied might be in a faulted state because of an unhandled exception in the method that returns the task. Awaiting the task throws an exception. A task can also end up in a canceled state if the asynchronous process that returns it is canceled. Awaiting a canceled task throws  an `OperationCanceledException`. For more information about how to cancel an asynchronous process, see [Fine-Tuning Your Async Application](http://msdn.microsoft.com/library/daaa32ea-c84c-4761-8230-c8292ffebd74).  \n  \n To catch the exception, await the task in a `try` block, and catch the exception in the associated `catch` block. For an example, see the \"Example\" section.  \n  \n A task can be in a faulted state because multiple exceptions occurred in the awaited async method. For example, the task might be the result of a call to <xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName>. When you await such a task, only one of the exceptions is caught, and you can't predict which exception will be caught. For an example, see the \"Example\" section.  \n  \n## Example  \n In the following example, the `try` block contains a call to the `ProcessString` method that may cause an exception. The `catch` clause contains the exception handler that just displays a message on the screen. When the `throw` statement is called from inside `MyMethod`, the system looks for the `catch` statement and displays the message `Exception caught`.  \n  \n [!code-cs[csrefKeywordsExceptions#2](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_1.cs)]  \n  \n## Example  \n In the following example, two catch blocks are used, and the most specific exception, which comes first, is caught.  \n  \n To catch the least specific exception, you can replace the throw statement in `ProcessString` with the following statement: `throw new Exception()`.  \n  \n If you place the least-specific catch block first in the example, the following  error message appears: `A previous catch clause already catches all exceptions of this or a super type ('System.Exception')`.  \n  \n [!code-cs[csrefKeywordsExceptions#3](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_2.cs)]  \n  \n## Example  \n The following example illustrates exception handling for async methods. To catch an exception that an async task throws, place the `await` expression in a `try` block, and catch the exception in a `catch` block.  \n  \n Uncomment the `throw new Exception` line in the example to demonstrate exception handling. The task's `IsFaulted` property is set to `True`, the task's `Exception.InnerException` property is set to the exception, and the exception is caught in the `catch` block.  \n  \n Uncomment the `throw new OperationCancelledException` line to demonstrate what happens when you cancel an asynchronous process. The task's `IsCanceled` property is set to `true`, and the exception is caught in the `catch` block. Under some conditions that don't apply to this example, the task's `IsFaulted` property is set to `true` and `IsCanceled` is set to `false`.  \n  \n [!code-cs[csAsyncExceptions#2](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_3.cs)]  \n  \n## Example  \n The following example illustrates exception handling where multiple tasks can result in multiple exceptions. The `try` block awaits the task that's returned by a call to <xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName>. The task is complete when the three tasks to which WhenAll is applied are complete.  \n  \n Each of the three tasks causes an exception. The `catch` block iterates through the exceptions, which are found in the `Exception.InnerExceptions` property of the task that was returned by <xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName>.  \n  \n [!code-cs[csAsyncExceptions#4](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_4.cs)]  \n  \n## C# Language Specification  \n [!INCLUDE[CSharplangspec](../../../csharp/language-reference/keywords/includes/csharplangspec_md.md)]  \n  \n## See Also  \n [C# Reference](../../../csharp/language-reference/index.md)   \n [C# Programming Guide](../../../csharp/programming-guide/index.md)   \n [C# Keywords](../../../csharp/language-reference/keywords/index.md)   \n [try, throw, and catch Statements (C++)](https://docs.microsoft.com/cpp/cpp/try-throw-and-catch-statements-cpp)   \n [Exception Handling Statements](../../../csharp/language-reference/keywords/exception-handling-statements.md)   \n [throw](../../../csharp/language-reference/keywords/throw.md)   \n [try-finally](../../../csharp/language-reference/keywords/try-finally.md)   \n [How to: Explicitly Throw Exceptions](https://msdn.microsoft.com/library/xhcbs8fz)\n","nodes":[{"pos":[4,659],"nodes":[{"content":"try-catch (C# Reference) | Microsoft Docs","nodes":[{"pos":[0,41],"content":"try-catch (C# Reference) | Microsoft Docs","nodes":[{"content":"try-catch (C# Reference) | Microsoft Docs","pos":[0,41]}]}],"pos":[6,50],"yaml":true}],"content":"title: \"try-catch (C# Reference) | Microsoft Docs\"\nms.date: \"2015-07-20\"\nms.prod: .net\nms.technology: \n  - \"devlang-csharp\"\nms.topic: \"article\"\nf1_keywords: \n  - \"try\"\n  - \"try_CSharpKeyword\"\n  - \"catch\"\n  - \"catch_CSharpKeyword\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"catch keyword [C#]\"\n  - \"try-catch statement [C#]\"\nms.assetid: cb5503c7-bfa1-4610-8fc2-ddcd2e84c438\ncaps.latest.revision: 45\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"","yamlblock":true},{"pos":[666,690],"content":"try-catch (C# Reference)","linkify":"try-catch (C# Reference)","nodes":[{"content":"try-catch (C# Reference)","pos":[0,24]}]},{"pos":[691,830],"content":"The try-catch statement consists of a <ph id=\"ph1\">`try`</ph> block followed by one or more <ph id=\"ph2\">`catch`</ph> clauses, which specify handlers for different exceptions.","source":"The try-catch statement consists of a `try` block followed by one or more `catch` clauses, which specify handlers for different exceptions."},{"pos":[839,846],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"When an exception is thrown, the common language runtime (CLR) looks for the <ph id=\"ph1\">`catch`</ph> statement that handles this exception.","pos":[850,973],"source":"When an exception is thrown, the common language runtime (CLR) looks for the `catch` statement that handles this exception."},{"content":"If the currently executing method does not contain such a <ph id=\"ph1\">`catch`</ph> block, the CLR looks at the method that called the current method, and so on up the call stack.","pos":[974,1135],"source":" If the currently executing method does not contain such a `catch` block, the CLR looks at the method that called the current method, and so on up the call stack."},{"content":"If no <ph id=\"ph1\">`catch`</ph> block is found, then the CLR displays an unhandled exception message to the user and stops execution of the program.","pos":[1136,1266],"source":" If no `catch` block is found, then the CLR displays an unhandled exception message to the user and stops execution of the program."},{"content":"The <ph id=\"ph1\">`try`</ph> block contains the guarded code that may cause the exception.","pos":[1273,1344],"source":"The `try` block contains the guarded code that may cause the exception."},{"content":"The block is executed until an exception is thrown or it is completed successfully.","pos":[1345,1428]},{"content":"For example, the following attempt to cast a <ph id=\"ph1\">`null`</ph> object raises the <ph id=\"ph2\">&lt;xref:System.NullReferenceException&gt;</ph> exception:","pos":[1429,1546],"source":" For example, the following attempt to cast a `null` object raises the <xref:System.NullReferenceException> exception:"},{"content":"Although the <ph id=\"ph1\">`catch`</ph> clause can be used without arguments to catch any type of exception, this usage is not recommended.","pos":[1643,1763],"source":"Although the `catch` clause can be used without arguments to catch any type of exception, this usage is not recommended."},{"content":"In general, you should only catch those exceptions that you know how to recover from.","pos":[1764,1849]},{"content":"Therefore, you should always specify an object argument derived from <ph id=\"ph1\">&lt;xref:System.Exception?displayProperty=fullName&gt;</ph> For example:","pos":[1850,1980],"source":" Therefore, you should always specify an object argument derived from <xref:System.Exception?displayProperty=fullName> For example:"},{"content":"It is possible to use more than one specific <ph id=\"ph1\">`catch`</ph> clause in the same try-catch statement.","pos":[2050,2142],"source":"It is possible to use more than one specific `catch` clause in the same try-catch statement."},{"content":"In this case, the order of the <ph id=\"ph1\">`catch`</ph> clauses is important because the <ph id=\"ph2\">`catch`</ph> clauses are examined in order.","pos":[2143,2253],"source":" In this case, the order of the `catch` clauses is important because the `catch` clauses are examined in order."},{"content":"Catch the more specific exceptions before the less specific ones.","pos":[2254,2319]},{"content":"The compiler produces an error if you order your catch blocks so that a later block can never be reached.","pos":[2320,2425]},{"content":"Using <ph id=\"ph1\">`catch`</ph> arguments is one way to filter for the exceptions you want to handle.","pos":[2432,2515],"source":"Using `catch` arguments is one way to filter for the exceptions you want to handle."},{"content":"You can also use a predicate expression that further examines the exception to decide whether to handle it.","pos":[2517,2624]},{"content":"If the predicate expression returns false, then the search for a handler continues.","pos":[2626,2709]},{"content":"Exception filters are preferable to catching and rethrowing (explained below) because filters leave the stack unharmed.","pos":[2801,2920]},{"content":"If a later handler dumps the stack, you can see where the exception originally came from, rather than just the last place it was rethrown.","pos":[2922,3060]},{"content":"A common use of exception filter expressions is logging.","pos":[3062,3118]},{"content":"You can create a predicate function that always returns false that also outputs to a log, you can log exceptions as they go by without having to handle them and rethrow.","pos":[3120,3289]},{"content":"A <bpt id=\"p1\">[</bpt>throw<ept id=\"p1\">](../../../csharp/language-reference/keywords/throw.md)</ept> statement can be used in a <ph id=\"ph1\">`catch`</ph> block to re-throw the exception that is caught by the <ph id=\"ph2\">`catch`</ph> statement.","pos":[3296,3467],"source":"A [throw](../../../csharp/language-reference/keywords/throw.md) statement can be used in a `catch` block to re-throw the exception that is caught by the `catch` statement."},{"content":"The following example extracts source information from an <ph id=\"ph1\">&lt;xref:System.IO.IOException&gt;</ph> exception, and then throws the exception to the parent method.","pos":[3468,3617],"source":" The following example extracts source information from an <xref:System.IO.IOException> exception, and then throws the exception to the parent method."},{"content":"You can catch one exception and throw a different exception.","pos":[3981,4041]},{"content":"When you do this, specify the exception that you caught as the inner exception, as shown in the following example.","pos":[4042,4156]},{"content":"You can also re-throw an exception when a specified condition is true, as shown in the following example.","pos":[4365,4470]},{"content":"From inside a <ph id=\"ph1\">`try`</ph> block, initialize only variables that are declared therein.","pos":[4657,4736],"source":"From inside a `try` block, initialize only variables that are declared therein."},{"content":"Otherwise, an exception can occur before the execution of the block is completed.","pos":[4737,4818]},{"content":"For example, in the following code example, the variable <ph id=\"ph1\">`n`</ph> is initialized inside the <ph id=\"ph2\">`try`</ph> block.","pos":[4819,4918],"source":" For example, in the following code example, the variable `n` is initialized inside the `try` block."},{"content":"An attempt to use this variable outside the <ph id=\"ph1\">`try`</ph> block in the <ph id=\"ph2\">`Write(n)`</ph> statement will generate a compiler error.","pos":[4919,5034],"source":" An attempt to use this variable outside the `try` block in the `Write(n)` statement will generate a compiler error."},{"pos":[5308,5432],"content":"For more information about catch, see <bpt id=\"p1\">[</bpt>try-catch-finally<ept id=\"p1\">](../../../csharp/language-reference/keywords/try-catch-finally.md)</ept>.","source":"For more information about catch, see [try-catch-finally](../../../csharp/language-reference/keywords/try-catch-finally.md)."},{"pos":[5441,5468],"content":"Exceptions in Async Methods","linkify":"Exceptions in Async Methods","nodes":[{"content":"Exceptions in Async Methods","pos":[0,27]}]},{"content":"An async method is marked  by an  <bpt id=\"p1\">[</bpt>async<ept id=\"p1\">](../../../csharp/language-reference/keywords/async.md)</ept> modifier and usually contains one or more await expressions or statements.","pos":[5472,5642],"source":"An async method is marked  by an  [async](../../../csharp/language-reference/keywords/async.md) modifier and usually contains one or more await expressions or statements."},{"content":"An await expression applies the <bpt id=\"p1\">[</bpt>await<ept id=\"p1\">](../../../csharp/language-reference/keywords/await.md)</ept> operator to a <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Task&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Threading.Tasks.Task%601&gt;</ph>.","pos":[5643,5828],"source":" An await expression applies the [await](../../../csharp/language-reference/keywords/await.md) operator to a <xref:System.Threading.Tasks.Task> or <xref:System.Threading.Tasks.Task%601>."},{"content":"When control reaches an <ph id=\"ph1\">`await`</ph> in the async method, progress in the method is suspended until the awaited task completes.","pos":[5835,5957],"source":"When control reaches an `await` in the async method, progress in the method is suspended until the awaited task completes."},{"content":"When the task  is complete, execution can resume in the method.","pos":[5958,6021]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Asynchronous Programming with async and await<ept id=\"p1\">](../../../csharp/programming-guide/concepts/async/index.md)</ept> and <bpt id=\"p2\">[</bpt>Control Flow in Async Programs<ept id=\"p2\">](../../../csharp/programming-guide/concepts/async/control-flow-in-async-programs.md)</ept>.","pos":[6022,6276],"source":" For more information, see [Asynchronous Programming with async and await](../../../csharp/programming-guide/concepts/async/index.md) and [Control Flow in Async Programs](../../../csharp/programming-guide/concepts/async/control-flow-in-async-programs.md)."},{"content":"The completed task to which <ph id=\"ph1\">`await`</ph> is applied might be in a faulted state because of an unhandled exception in the method that returns the task.","pos":[6283,6428],"source":"The completed task to which `await` is applied might be in a faulted state because of an unhandled exception in the method that returns the task."},{"content":"Awaiting the task throws an exception.","pos":[6429,6467]},{"content":"A task can also end up in a canceled state if the asynchronous process that returns it is canceled.","pos":[6468,6567]},{"content":"Awaiting a canceled task throws  an <ph id=\"ph1\">`OperationCanceledException`</ph>.","pos":[6568,6633],"source":" Awaiting a canceled task throws  an `OperationCanceledException`."},{"content":"For more information about how to cancel an asynchronous process, see <bpt id=\"p1\">[</bpt>Fine-Tuning Your Async Application<ept id=\"p1\">](http://msdn.microsoft.com/library/daaa32ea-c84c-4761-8230-c8292ffebd74)</ept>.","pos":[6634,6813],"source":" For more information about how to cancel an asynchronous process, see [Fine-Tuning Your Async Application](http://msdn.microsoft.com/library/daaa32ea-c84c-4761-8230-c8292ffebd74)."},{"content":"To catch the exception, await the task in a <ph id=\"ph1\">`try`</ph> block, and catch the exception in the associated <ph id=\"ph2\">`catch`</ph> block.","pos":[6820,6933],"source":"To catch the exception, await the task in a `try` block, and catch the exception in the associated `catch` block."},{"content":"For an example, see the \"Example\" section.","pos":[6934,6976]},{"content":"A task can be in a faulted state because multiple exceptions occurred in the awaited async method.","pos":[6983,7081]},{"content":"For example, the task might be the result of a call to <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName&gt;</ph>.","pos":[7082,7208],"source":" For example, the task might be the result of a call to <xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName>."},{"content":"When you await such a task, only one of the exceptions is caught, and you can't predict which exception will be caught.","pos":[7209,7328]},{"content":"For an example, see the \"Example\" section.","pos":[7329,7371]},{"pos":[7380,7387],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"In the following example, the <ph id=\"ph1\">`try`</ph> block contains a call to the <ph id=\"ph2\">`ProcessString`</ph> method that may cause an exception.","pos":[7391,7507],"source":"In the following example, the `try` block contains a call to the `ProcessString` method that may cause an exception."},{"content":"The <ph id=\"ph1\">`catch`</ph> clause contains the exception handler that just displays a message on the screen.","pos":[7508,7601],"source":" The `catch` clause contains the exception handler that just displays a message on the screen."},{"content":"When the <ph id=\"ph1\">`throw`</ph> statement is called from inside <ph id=\"ph2\">`MyMethod`</ph>, the system looks for the <ph id=\"ph3\">`catch`</ph> statement and displays the message <ph id=\"ph4\">`Exception caught`</ph>.","pos":[7602,7750],"source":" When the `throw` statement is called from inside `MyMethod`, the system looks for the `catch` statement and displays the message `Exception caught`."},{"pos":[7757,7873],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csrefKeywordsExceptions#2<ept id=\"p2\">](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_1.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csrefKeywordsExceptions#2](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_1.cs)]"},{"pos":[7882,7889],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"In the following example, two catch blocks are used, and the most specific exception, which comes first, is caught.","pos":[7893,8008]},{"pos":[8015,8163],"content":"To catch the least specific exception, you can replace the throw statement in <ph id=\"ph1\">`ProcessString`</ph> with the following statement: <ph id=\"ph2\">`throw new Exception()`</ph>.","source":"To catch the least specific exception, you can replace the throw statement in `ProcessString` with the following statement: `throw new Exception()`."},{"pos":[8170,8376],"content":"If you place the least-specific catch block first in the example, the following  error message appears: <ph id=\"ph1\">`A previous catch clause already catches all exceptions of this or a super type ('System.Exception')`</ph>.","source":"If you place the least-specific catch block first in the example, the following  error message appears: `A previous catch clause already catches all exceptions of this or a super type ('System.Exception')`."},{"pos":[8383,8499],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csrefKeywordsExceptions#3<ept id=\"p2\">](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_2.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csrefKeywordsExceptions#3](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_2.cs)]"},{"pos":[8508,8515],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example illustrates exception handling for async methods.","pos":[8519,8590]},{"content":"To catch an exception that an async task throws, place the <ph id=\"ph1\">`await`</ph> expression in a <ph id=\"ph2\">`try`</ph> block, and catch the exception in a <ph id=\"ph3\">`catch`</ph> block.","pos":[8591,8730],"source":" To catch an exception that an async task throws, place the `await` expression in a `try` block, and catch the exception in a `catch` block."},{"content":"Uncomment the <ph id=\"ph1\">`throw new Exception`</ph> line in the example to demonstrate exception handling.","pos":[8737,8827],"source":"Uncomment the `throw new Exception` line in the example to demonstrate exception handling."},{"content":"The task's <ph id=\"ph1\">`IsFaulted`</ph> property is set to <ph id=\"ph2\">`True`</ph>, the task's <ph id=\"ph3\">`Exception.InnerException`</ph> property is set to the exception, and the exception is caught in the <ph id=\"ph4\">`catch`</ph> block.","pos":[8828,8999],"source":" The task's `IsFaulted` property is set to `True`, the task's `Exception.InnerException` property is set to the exception, and the exception is caught in the `catch` block."},{"content":"Uncomment the <ph id=\"ph1\">`throw new OperationCancelledException`</ph> line to demonstrate what happens when you cancel an asynchronous process.","pos":[9006,9133],"source":"Uncomment the `throw new OperationCancelledException` line to demonstrate what happens when you cancel an asynchronous process."},{"content":"The task's <ph id=\"ph1\">`IsCanceled`</ph> property is set to <ph id=\"ph2\">`true`</ph>, and the exception is caught in the <ph id=\"ph3\">`catch`</ph> block.","pos":[9134,9234],"source":" The task's `IsCanceled` property is set to `true`, and the exception is caught in the `catch` block."},{"content":"Under some conditions that don't apply to this example, the task's <ph id=\"ph1\">`IsFaulted`</ph> property is set to <ph id=\"ph2\">`true`</ph> and <ph id=\"ph3\">`IsCanceled`</ph> is set to <ph id=\"ph4\">`false`</ph>.","pos":[9235,9375],"source":" Under some conditions that don't apply to this example, the task's `IsFaulted` property is set to `true` and `IsCanceled` is set to `false`."},{"pos":[9382,9492],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csAsyncExceptions#2<ept id=\"p2\">](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_3.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csAsyncExceptions#2](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_3.cs)]"},{"pos":[9501,9508],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example illustrates exception handling where multiple tasks can result in multiple exceptions.","pos":[9512,9620]},{"content":"The <ph id=\"ph1\">`try`</ph> block awaits the task that's returned by a call to <ph id=\"ph2\">&lt;xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName&gt;</ph>.","pos":[9621,9753],"source":" The `try` block awaits the task that's returned by a call to <xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName>."},{"content":"The task is complete when the three tasks to which WhenAll is applied are complete.","pos":[9754,9837]},{"content":"Each of the three tasks causes an exception.","pos":[9844,9888]},{"content":"The <ph id=\"ph1\">`catch`</ph> block iterates through the exceptions, which are found in the <ph id=\"ph2\">`Exception.InnerExceptions`</ph> property of the task that was returned by <ph id=\"ph3\">&lt;xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName&gt;</ph>.","pos":[9889,10104],"source":" The `catch` block iterates through the exceptions, which are found in the `Exception.InnerExceptions` property of the task that was returned by <xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=fullName>."},{"pos":[10111,10221],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csAsyncExceptions#4<ept id=\"p2\">](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_4.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csAsyncExceptions#4](../../../csharp/language-reference/keywords/codesnippet/CSharp/try-catch_4.cs)]"},{"pos":[10230,10255],"content":"C# Language Specification","linkify":"C# Language Specification","nodes":[{"content":"C# Language Specification","pos":[0,25]}]},{"pos":[10369,10377],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>C# Reference<ept id=\"p1\">](../../../csharp/language-reference/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[10381,10441],"source":"[C# Reference](../../../csharp/language-reference/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>C# Programming Guide<ept id=\"p1\">](../../../csharp/programming-guide/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[10445,10512],"source":"[C# Programming Guide](../../../csharp/programming-guide/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>C# Keywords<ept id=\"p1\">](../../../csharp/language-reference/keywords/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[10516,10584],"source":"[C# Keywords](../../../csharp/language-reference/keywords/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>try, throw, and catch Statements (C++)<ept id=\"p1\">](https://docs.microsoft.com/cpp/cpp/try-throw-and-catch-statements-cpp)</ept><ph id=\"ph1\"> </ph>","pos":[10588,10700],"source":"[try, throw, and catch Statements (C++)](https://docs.microsoft.com/cpp/cpp/try-throw-and-catch-statements-cpp) "},{"content":"<bpt id=\"p1\">[</bpt>Exception Handling Statements<ept id=\"p1\">](../../../csharp/language-reference/keywords/exception-handling-statements.md)</ept><ph id=\"ph1\"> </ph>","pos":[10704,10814],"source":"[Exception Handling Statements](../../../csharp/language-reference/keywords/exception-handling-statements.md) "},{"content":"<bpt id=\"p1\">[</bpt>throw<ept id=\"p1\">](../../../csharp/language-reference/keywords/throw.md)</ept><ph id=\"ph1\"> </ph>","pos":[10818,10880],"source":"[throw](../../../csharp/language-reference/keywords/throw.md) "},{"content":"<bpt id=\"p1\">[</bpt>try-finally<ept id=\"p1\">](../../../csharp/language-reference/keywords/try-finally.md)</ept><ph id=\"ph1\"> </ph>","pos":[10884,10958],"source":"[try-finally](../../../csharp/language-reference/keywords/try-finally.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Explicitly Throw Exceptions<ept id=\"p1\">](https://msdn.microsoft.com/library/xhcbs8fz)</ept>","pos":[10962,11044],"source":"[How to: Explicitly Throw Exceptions](https://msdn.microsoft.com/library/xhcbs8fz)"}]}