{"content":"---\ntitle: \"Configuration-Based Activation | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 21bb762e-c43e-4b0c-887b-5e434d665838\ncaps.latest.revision: 26\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Configuration-Based Activation\nThis sample demonstrates how to activate [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services without requiring a .svc file.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Services\\Hosting\\ConfigBasedActivation`  \n  \n## Sample Details  \n In this sample, the client is the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client and the service is hosted in IIS.  \n  \n> [!NOTE]\n>  The setup and build instructions for this sample are located at the end of this topic.  \n  \n### Activation of services without requiring a .svc file  \n In [!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)], a .svc file was required for activating a service. This caused additional management overhead, because an additional file was required to be deployed and maintained along with the application. With the release of [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)], the activation components can be configured using the application configuration file.  \n  \n [!INCLUDE[netfx40_short](../../../../includes/netfx40-short-md.md)] introduces a new configuration element (<xref:System.ServiceModel.Configuration.ServiceActivationElement>), in the <xref:System.ServiceModel.Configuration.ServiceHostingEnvironmentSection> of the application configuration file. The <xref:System.ServiceModel.Configuration.ServiceHostingEnvironmentSection> collection accepts a collection of services to activate, as shown in the following code example.  \n  \n```xml  \n<serviceActivations>  \n   <add relativeAddress=\"Calculator.svc\" service=\"Microsoft.ServiceModel.Samples.CalculatorService\" />  \n  \n<serviceActivations>  \n  \n```  \n  \n The observation to make is the configuration looks very similar to the configuration of .svc files. An additional attribute that is introduced is the `relativeAddress` that provides the address of the service. The relative address is also the virtual path for the service. The host retrieves the Web.config file of the file from the `virtualPath` location, if present; otherwise the host searches its parent folder recursively.  \n  \n> [!NOTE]\n>  This sample requires hosting in IIS to function.  \n  \n#### To use this sample  \n  \n1.  Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open the Service.csproj file.  \n  \n2.  To build the solution, press CTRL+SHIFT+B.  \n  \n3.  Test the service by running WCFTestClient.exe.  \n  \n4.  Using [!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)], navigate to the %SystemDrive%\\Program Files\\Microsoft Visual Studio 10.0\\Common7\\IDE folder.  \n  \n5.  Run WcfTestClient.exe.  \n  \n6.  Set the MEX address of the service.  \n  \n7.  Press CTRL+SHIFT+A to set the service address.  \n  \n8.  Set the address to http://localhost/ServiceModelSamples/Calculator.svc.  \n  \n9. Perform the `Add` operation. Set value on the `n1` parameter to 10 and set value on the `n2` parameter to 15.  \n  \n10. Press **Invoke**.  \n  \n     The expected result is 25.  \n  \n#### To set up, build, and run the sample  \n  \n1.  Be sure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n3.  After the solution has been built, run Setup.bat to set up the ServiceModelSamples Application in IIS. The ServiceModelSamples directory should now appear as an IIS Application.  \n  \n4.  To run the sample in a single- or cross-computer configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n## See Also  \n [AppFabric Hosting and Persistence Samples](http://go.microsoft.com/fwlink/?LinkId=193961)","nodes":[{"pos":[4,351],"embed":true,"restype":"x-metadata","content":"title: \"Configuration-Based Activation | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 21bb762e-c43e-4b0c-887b-5e434d665838\ncaps.latest.revision: 26\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Configuration-Based Activation | Microsoft Docs","nodes":[{"pos":[0,47],"content":"Configuration-Based Activation | Microsoft Docs","nodes":[{"content":"Configuration-Based Activation | Microsoft Docs","pos":[0,47]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[358,388],"content":"Configuration-Based Activation","linkify":"Configuration-Based Activation","nodes":[{"content":"Configuration-Based Activation","pos":[0,30]}]},{"pos":[389,525],"content":"This sample demonstrates how to activate <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> services without requiring a .svc file.","source":"This sample demonstrates how to activate [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services without requiring a .svc file."},{"pos":[533,666],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[14,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[0,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[720,1046],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1047,1097]},{"pos":[1198,1212],"content":"Sample Details","linkify":"Sample Details","nodes":[{"content":"Sample Details","pos":[0,14]}]},{"pos":[1216,1351],"content":"In this sample, the client is the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> test client and the service is hosted in IIS.","source":"In this sample, the client is the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] test client and the service is hosted in IIS."},{"pos":[1359,1456],"content":"[!NOTE]\n The setup and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The setup and build instructions for this sample are located at the end of this topic.","pos":[9,95]}]},{"pos":[1466,1518],"content":"Activation of services without requiring a .svc file","linkify":"Activation of services without requiring a .svc file","nodes":[{"content":"Activation of services without requiring a .svc file","pos":[0,52]}]},{"content":"In <ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)]</ph>, a .svc file was required for activating a service.","pos":[1522,1644],"source":"In [!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)], a .svc file was required for activating a service."},{"content":"This caused additional management overhead, because an additional file was required to be deployed and maintained along with the application.","pos":[1645,1786]},{"content":"With the release of <ph id=\"ph1\">[!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]</ph>, the activation components can be configured using the application configuration file.","pos":[1787,1959],"source":" With the release of [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)], the activation components can be configured using the application configuration file."},{"content":"<ph id=\"ph1\">[!INCLUDE[netfx40_short](../../../../includes/netfx40-short-md.md)]</ph> introduces a new configuration element (<ph id=\"ph2\">&lt;xref:System.ServiceModel.Configuration.ServiceActivationElement&gt;</ph>), in the <ph id=\"ph3\">&lt;xref:System.ServiceModel.Configuration.ServiceHostingEnvironmentSection&gt;</ph> of the application configuration file.","pos":[1966,2261],"source":"[!INCLUDE[netfx40_short](../../../../includes/netfx40-short-md.md)] introduces a new configuration element (<xref:System.ServiceModel.Configuration.ServiceActivationElement>), in the <xref:System.ServiceModel.Configuration.ServiceHostingEnvironmentSection> of the application configuration file."},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.ServiceHostingEnvironmentSection&gt;</ph> collection accepts a collection of services to activate, as shown in the following code example.","pos":[2262,2436],"source":" The <xref:System.ServiceModel.Configuration.ServiceHostingEnvironmentSection> collection accepts a collection of services to activate, as shown in the following code example."},{"content":"The observation to make is the configuration looks very similar to the configuration of .svc files.","pos":[2618,2717]},{"content":"An additional attribute that is introduced is the <ph id=\"ph1\">`relativeAddress`</ph> that provides the address of the service.","pos":[2718,2827],"source":" An additional attribute that is introduced is the `relativeAddress` that provides the address of the service."},{"content":"The relative address is also the virtual path for the service.","pos":[2828,2890]},{"content":"The host retrieves the Web.config file of the file from the <ph id=\"ph1\">`virtualPath`</ph> location, if present; otherwise the host searches its parent folder recursively.","pos":[2891,3045],"source":" The host retrieves the Web.config file of the file from the `virtualPath` location, if present; otherwise the host searches its parent folder recursively."},{"pos":[3053,3112],"content":"[!NOTE]\n This sample requires hosting in IIS to function.","leadings":["","> "],"nodes":[{"content":"This sample requires hosting in IIS to function.","pos":[9,57]}]},{"pos":[3123,3141],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[3151,3259],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph>, open the Service.csproj file.","source":"Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open the Service.csproj file."},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[3269,3311]},{"content":"Test the service by running WCFTestClient.exe.","pos":[3321,3367]},{"pos":[3377,3542],"content":"Using <ph id=\"ph1\">[!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)]</ph>, navigate to the %SystemDrive%\\Program Files\\Microsoft Visual Studio 10.0\\Common7\\IDE folder.","source":"Using [!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)], navigate to the %SystemDrive%\\Program Files\\Microsoft Visual Studio 10.0\\Common7\\IDE folder."},{"content":"Run WcfTestClient.exe.","pos":[3552,3574]},{"content":"Set the MEX address of the service.","pos":[3584,3619]},{"content":"Press CTRL+SHIFT+A to set the service address.","pos":[3629,3675]},{"content":"Set the address to http://localhost/ServiceModelSamples/Calculator.svc.","pos":[3685,3756]},{"content":"Perform the <ph id=\"ph1\">`Add`</ph> operation.","pos":[3765,3793],"source":"Perform the `Add` operation."},{"content":"Set value on the <ph id=\"ph1\">`n1`</ph> parameter to 10 and set value on the <ph id=\"ph2\">`n2`</ph> parameter to 15.","pos":[3794,3874],"source":" Set value on the `n1` parameter to 10 and set value on the `n2` parameter to 15."},{"pos":[3884,3901],"content":"Press <bpt id=\"p1\">**</bpt>Invoke<ept id=\"p1\">**</ept>.","source":"Press **Invoke**."},{"content":"The expected result is 25.","pos":[3912,3938]},{"pos":[3949,3985],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[3995,4190],"content":"Be sure you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Be sure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[4200,4409],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"content":"After the solution has been built, run Setup.bat to set up the ServiceModelSamples Application in IIS.","pos":[4419,4521]},{"content":"The ServiceModelSamples directory should now appear as an IIS Application.","pos":[4522,4596]},{"pos":[4606,4815],"content":"To run the sample in a single- or cross-computer configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-computer configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[4824,4832],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[4836,4926],"content":"<bpt id=\"p1\">[</bpt>AppFabric Hosting and Persistence Samples<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=193961)</ept>","source":"[AppFabric Hosting and Persistence Samples](http://go.microsoft.com/fwlink/?LinkId=193961)"}]}