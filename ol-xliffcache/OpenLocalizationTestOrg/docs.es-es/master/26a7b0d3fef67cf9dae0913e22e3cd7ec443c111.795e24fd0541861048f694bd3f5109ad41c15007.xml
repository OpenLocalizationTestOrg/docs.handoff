{"content":"---\ntitle: \"How to: Use Configuration to Add an ASP.NET AJAX Endpoint\"\nms.date: \"03/30/2017\"\nms.assetid: 7cd0099e-dc3a-47e4-a38c-6e10f997f6ea\n---\n# How to: Use Configuration to Add an ASP.NET AJAX Endpoint\nWindows Communication Foundation (WCF) allows you to create a service that makes an ASP.NET AJAX-enabled endpoint available that can be called from JavaScript on a client Web site. To create such an endpoint, you can either use a configuration file, as with all other Windows Communication Foundation (WCF) endpoints, or use a method that does not require any configuration elements. This topic demonstrates the configuration approach.  \n  \n The part of the procedure that enables the service endpoint to become ASP.NET AJAX-enabled consists of configuring the endpoint to use the <xref:System.ServiceModel.WebHttpBinding> and to add the [\\<enableWebScript>](../../../../docs/framework/configure-apps/file-schema/wcf/enablewebscript.md) endpoint behavior. After configuring the endpoint, the steps to implement and host the service are similar to those used by any WCF service. For a working example, see the [AJAX Service Using HTTP POST](../../../../docs/framework/wcf/samples/ajax-service-using-http-post.md).  \n  \n For more information about how to configure an ASP.NET AJAX endpoint without using configuration, see [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).  \n  \n### To create a basic WCF service  \n  \n1.  Define a basic WCF service contract with an interface marked with the <xref:System.ServiceModel.ServiceContractAttribute> attribute. Mark each operation with the <xref:System.ServiceModel.OperationContractAttribute>. Be sure to set the <xref:System.ServiceModel.ServiceContractAttribute.Namespace%2A> property.  \n  \n    ```  \n    [ServiceContract(Namespace = \"MyService\")]  \n    public interface ICalculator  \n    {  \n        [OperationContract]  \n         // This operation returns the sum of d1 and d2.  \n        double Add(double n1, double n2);  \n  \n        //Other operations omitted…  \n  \n    }  \n    ```  \n  \n2.  Implement the `ICalculator` service contract with a `CalculatorService`.  \n  \n    ```  \n    public class CalculatorService : ICalculator  \n    {  \n        public double Add(double n1, double n2)  \n        {  \n            return n1 + n2;  \n        }  \n  \n    //Other operations omitted…  \n    ```  \n  \n3.  Define a namespace for the `ICalculator` and `CalculatorService` implementations by wrapping them in a namespace block.  \n  \n    ```  \n    Namespace Microsoft.Ajax.Samples  \n    {  \n        //Include the code for ICalculator and Caculator here.  \n    }  \n    ```  \n  \n### To create an ASP.NET AJAX endpoint for the service  \n  \n1.  Create a behavior configuration and specify the [\\<enableWebScript>](../../../../docs/framework/configure-apps/file-schema/wcf/enablewebscript.md) behavior for ASP.NET AJAX-enabled endpoints of the service.  \n  \n    ```xml  \n    <system.serviceModel>  \n        <behaviors>  \n            <endpointBehaviors>  \n                <behavior name=\"AspNetAjaxBehavior\">  \n                    <enableWebScript />  \n                </behavior>  \n            </endpointBehaviors>  \n        </behaviors>  \n    </system.serviceModel>  \n    ```  \n  \n2.  Create an endpoint for the service that uses the <xref:System.ServiceModel.WebHttpBinding> and the ASP.NET AJAX behavior defined in the previous step.  \n  \n    ```xml  \n    <system.serviceModel>  \n        <services>  \n            <service name=\"Microsoft.Ajax.Samples.CalculatorService\">  \n                <endpoint address=\"\"  \n                    behaviorConfiguration=\"AspNetAjaxBehavior\"   \n                    binding=\"webHttpBinding\"  \n                    contract=\"Microsoft.Ajax.Samples.ICalculator\" />  \n            </service>  \n        </services>  \n    </system.serviceModel>   \n    ```  \n  \n### To host the service in IIS  \n  \n1.  To host the service in IIS, create a new file named service with a .svc extension in the application. Edit this file by adding the appropriate [\\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) directive information for the service. For example, the content in the service file for the `CalculatorService` sample contains the following information.  \n  \n    ```  \n    <%@ServiceHost   \n    language=c#   \n    Debug=\"true\"   \n    Service=\"Microsoft.Ajax.Samples.CalculatorService\"  \n    %>  \n    ```  \n  \n2.  For more information about hosting in IIS, see [How to: Host a WCF Service in IIS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md).  \n  \n### To call the service  \n  \n1.  The endpoint is configured at an empty address relative to the .svc file, so the service is now available and can be invoked by sending requests to service.svc/\\<operation> - for example, service.svc/Add for the `Add` operation. You can use it by entering the endpoint URL into the Scripts collection of the ASP.NET AJAX Script Manager control. For an example, see the [AJAX Service Using HTTP POST](../../../../docs/framework/wcf/samples/ajax-service-using-http-post.md).  \n  \n## See also\n\n- [Creating WCF Services for ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/creating-wcf-services-for-aspnet-ajax.md)\n- [How to: Migrate AJAX-Enabled ASP.NET Web Services to WCF](../../../../docs/framework/wcf/feature-details/how-to-migrate-ajax-enabled-aspnet-web-services-to-wcf.md)\n","nodes":[{"pos":[4,141],"embed":true,"restype":"x-metadata","content":"title: \"How to: Use Configuration to Add an ASP.NET AJAX Endpoint\"\nms.date: \"03/30/2017\"\nms.assetid: 7cd0099e-dc3a-47e4-a38c-6e10f997f6ea","nodes":[{"content":"How to: Use Configuration to Add an ASP.NET AJAX Endpoint","nodes":[{"pos":[0,57],"content":"How to: Use Configuration to Add an ASP.NET AJAX Endpoint","nodes":[{"content":"How to: Use Configuration to Add an ASP.NET AJAX Endpoint","pos":[0,57]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[148,205],"content":"How to: Use Configuration to Add an ASP.NET AJAX Endpoint","linkify":"How to: Use Configuration to Add an ASP.NET AJAX Endpoint","nodes":[{"content":"How to: Use Configuration to Add an ASP.NET AJAX Endpoint","pos":[0,57]}]},{"content":"Windows Communication Foundation (WCF) allows you to create a service that makes an ASP.NET AJAX-enabled endpoint available that can be called from JavaScript on a client Web site.","pos":[206,386]},{"content":"To create such an endpoint, you can either use a configuration file, as with all other Windows Communication Foundation (WCF) endpoints, or use a method that does not require any configuration elements.","pos":[387,589]},{"content":"This topic demonstrates the configuration approach.","pos":[590,641]},{"content":"The part of the procedure that enables the service endpoint to become ASP.NET AJAX-enabled consists of configuring the endpoint to use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph> and to add the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>enableWebScript&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/enablewebscript.md)</ept> endpoint behavior.","pos":[648,961],"source":"The part of the procedure that enables the service endpoint to become ASP.NET AJAX-enabled consists of configuring the endpoint to use the <xref:System.ServiceModel.WebHttpBinding> and to add the [\\<enableWebScript>](../../../../docs/framework/configure-apps/file-schema/wcf/enablewebscript.md) endpoint behavior."},{"content":"After configuring the endpoint, the steps to implement and host the service are similar to those used by any WCF service.","pos":[962,1083]},{"content":"For a working example, see the <bpt id=\"p1\">[</bpt>AJAX Service Using HTTP POST<ept id=\"p1\">](../../../../docs/framework/wcf/samples/ajax-service-using-http-post.md)</ept>.","pos":[1084,1218],"source":" For a working example, see the [AJAX Service Using HTTP POST](../../../../docs/framework/wcf/samples/ajax-service-using-http-post.md)."},{"pos":[1225,1508],"content":"For more information about how to configure an ASP.NET AJAX endpoint without using configuration, see <bpt id=\"p1\">[</bpt>How to: Add an ASP.NET AJAX Endpoint Without Using Configuration<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)</ept>.","source":"For more information about how to configure an ASP.NET AJAX endpoint without using configuration, see [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)."},{"pos":[1518,1547],"content":"To create a basic WCF service","linkify":"To create a basic WCF service","nodes":[{"content":"To create a basic WCF service","pos":[0,29]}]},{"content":"Define a basic WCF service contract with an interface marked with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute&gt;</ph> attribute.","pos":[1557,1689],"source":"Define a basic WCF service contract with an interface marked with the <xref:System.ServiceModel.ServiceContractAttribute> attribute."},{"content":"Mark each operation with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.OperationContractAttribute&gt;</ph>.","pos":[1690,1773],"source":" Mark each operation with the <xref:System.ServiceModel.OperationContractAttribute>."},{"content":"Be sure to set the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute.Namespace%2A&gt;</ph> property.","pos":[1774,1867],"source":" Be sure to set the <xref:System.ServiceModel.ServiceContractAttribute.Namespace%2A> property."},{"pos":[2177,2249],"content":"Implement the <ph id=\"ph1\">`ICalculator`</ph> service contract with a <ph id=\"ph2\">`CalculatorService`</ph>.","source":"Implement the `ICalculator` service contract with a `CalculatorService`."},{"pos":[2482,2601],"content":"Define a namespace for the <ph id=\"ph1\">`ICalculator`</ph> and <ph id=\"ph2\">`CalculatorService`</ph> implementations by wrapping them in a namespace block.","source":"Define a namespace for the `ICalculator` and `CalculatorService` implementations by wrapping them in a namespace block."},{"pos":[2754,2804],"content":"To create an ASP.NET AJAX endpoint for the service","linkify":"To create an ASP.NET AJAX endpoint for the service","nodes":[{"content":"To create an ASP.NET AJAX endpoint for the service","pos":[0,50]}]},{"pos":[2814,3020],"content":"Create a behavior configuration and specify the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>enableWebScript&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/enablewebscript.md)</ept> behavior for ASP.NET AJAX-enabled endpoints of the service.","source":"Create a behavior configuration and specify the [\\<enableWebScript>](../../../../docs/framework/configure-apps/file-schema/wcf/enablewebscript.md) behavior for ASP.NET AJAX-enabled endpoints of the service."},{"pos":[3354,3504],"content":"Create an endpoint for the service that uses the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph> and the ASP.NET AJAX behavior defined in the previous step.","source":"Create an endpoint for the service that uses the <xref:System.ServiceModel.WebHttpBinding> and the ASP.NET AJAX behavior defined in the previous step."},{"pos":[3961,3987],"content":"To host the service in IIS","linkify":"To host the service in IIS","nodes":[{"content":"To host the service in IIS","pos":[0,26]}]},{"content":"To host the service in IIS, create a new file named service with a .svc extension in the application.","pos":[3997,4098]},{"content":"Edit this file by adding the appropriate <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\@</ph>ServiceHost<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md)</ept> directive information for the service.","pos":[4099,4278],"source":" Edit this file by adding the appropriate [\\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) directive information for the service."},{"content":"For example, the content in the service file for the <ph id=\"ph1\">`CalculatorService`</ph> sample contains the following information.","pos":[4279,4394],"source":" For example, the content in the service file for the `CalculatorService` sample contains the following information."},{"pos":[4554,4721],"content":"For more information about hosting in IIS, see <bpt id=\"p1\">[</bpt>How to: Host a WCF Service in IIS<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md)</ept>.","source":"For more information about hosting in IIS, see [How to: Host a WCF Service in IIS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md)."},{"pos":[4731,4750],"content":"To call the service","linkify":"To call the service","nodes":[{"content":"To call the service","pos":[0,19]}]},{"content":"The endpoint is configured at an empty address relative to the .svc file, so the service is now available and can be invoked by sending requests to service.svc/<ph id=\"ph1\">\\&lt;</ph>operation&gt; - for example, service.svc/Add for the <ph id=\"ph2\">`Add`</ph> operation.","pos":[4760,4988],"source":"The endpoint is configured at an empty address relative to the .svc file, so the service is now available and can be invoked by sending requests to service.svc/\\<operation> - for example, service.svc/Add for the `Add` operation."},{"content":"You can use it by entering the endpoint URL into the Scripts collection of the ASP.NET AJAX Script Manager control.","pos":[4989,5104]},{"content":"For an example, see the <bpt id=\"p1\">[</bpt>AJAX Service Using HTTP POST<ept id=\"p1\">](../../../../docs/framework/wcf/samples/ajax-service-using-http-post.md)</ept>.","pos":[5105,5232],"source":" For an example, see the [AJAX Service Using HTTP POST](../../../../docs/framework/wcf/samples/ajax-service-using-http-post.md)."},{"pos":[5241,5249],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5253,5382],"content":"<bpt id=\"p1\">[</bpt>Creating WCF Services for ASP.NET AJAX<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/creating-wcf-services-for-aspnet-ajax.md)</ept>","source":"[Creating WCF Services for ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/creating-wcf-services-for-aspnet-ajax.md)"},{"pos":[5385,5549],"content":"<bpt id=\"p1\">[</bpt>How to: Migrate AJAX-Enabled ASP.NET Web Services to WCF<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-migrate-ajax-enabled-aspnet-web-services-to-wcf.md)</ept>","source":"[How to: Migrate AJAX-Enabled ASP.NET Web Services to WCF](../../../../docs/framework/wcf/feature-details/how-to-migrate-ajax-enabled-aspnet-web-services-to-wcf.md)"}]}