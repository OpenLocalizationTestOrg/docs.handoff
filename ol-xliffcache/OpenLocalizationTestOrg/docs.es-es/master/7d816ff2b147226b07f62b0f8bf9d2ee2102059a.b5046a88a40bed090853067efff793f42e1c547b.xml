{"content":"---\ntitle: \"PII Security Lockdown | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: c44fb338-9527-4dd0-8607-b8787d15acb4\ncaps.latest.revision: 25\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"\n---\n# PII Security Lockdown\nThis sample demonstrates how to control several security-related features of a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service by:  \n  \n-   Encrypting sensitive information in a service's configuration file.  \n  \n-   Locking elements in the configuration file so that nested service subdirectories cannot override settings.  \n  \n-   Controlling the logging of Personally Identifiable Information (PII) in trace and message logs.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Management\\SecurityLockdown`  \n  \n## Discussion  \n Each of these features can be used separately or together to control aspects of a service's security. This is not a definitive guide to securing a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service.  \n  \n The .NET Framework configuration files can contain sensitive information such as connection strings to connect to databases. In shared, Web-hosted scenarios it may be desirable to encrypt this information in the configuration file for a service so that the data contained within the configuration file is resistant to casual viewing. .NET Framework 2.0 and later has the ability to encrypt portions of the configuration file using the Windows Data Protection application programming interface (DPAPI) or the RSA Cryptographic provider. The aspnet_regiis.exe using the DPAPI or RSA can encrypt select portions of a configuration file.  \n  \n In Web-hosted scenarios it is possible to have services in subdirectories of other services. The default semantic for determining configuration values allows configuration files in the nested directories to override the configuration values in the parent directory. In certain situations this may be undesirable for a variety of reasons. [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service configuration supports the locking of configuration values so that nested configuration generates exceptions when a nested service is run using overridden configuration values.  \n  \n This sample demonstrates how to control the logging of known Personally Identifiable Information (PII) in trace and message logs, such as username and password. By default, logging of known PII is disabled however in certain situations logging of PII can be important in debugging an application. This sample is based on the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md). In addition, this sample uses tracing and message logging. For more information, see the [Tracing and Message Logging](../../../../docs/framework/wcf/samples/tracing-and-message-logging.md) sample.  \n  \n## Encrypting Configuration File Elements  \n For security purposes in a shared Web-hosting environment, it may be desirable to encrypt certain configuration elements, such as database connection strings that may contain sensitive information. A configuration element may be encrypted using the aspnet_regiis.exe tool found in the .NET Framework folder For example, %WINDIR%\\Micrsoft.NET\\Framework\\v4.0.20728.  \n  \n#### To encrypt the values in the appSettings section in Web.config for the sample  \n  \n1.  Open a command prompt by using Start->Run…. Type in `cmd` and click **OK**.  \n  \n2.  Navigate to the current .NET Framework directory by issuing the following command: `cd %WINDIR%\\Microsoft.NET\\Framework\\v4.0.20728`.  \n  \n3.  Encrypt the appSettings configuration settings in the Web.config folder by issuing the following command: `aspnet_regiis -pe \"appSettings\" -app \"/servicemodelsamples\" -prov \"DataProtectionConfigurationProvider\"`.  \n  \n More information about encrypting sections of configuration files can be found by reading a how-to on DPAPI in ASP.NET configuration ([Building Secure ASP.NET Applications: Authentication, Authorization, and Secure Communication](http://go.microsoft.com/fwlink/?LinkId=95137)) and a how-to on RSA in ASP.NET configuration ([How To: Encrypt Configuration Sections in ASP.NET 2.0 Using RSA](http://go.microsoft.com/fwlink/?LinkId=95138)).  \n  \n## Locking configuration file elements  \n In Web-hosted scenarios, it is possible to have services in subdirectories of services. In these situations, configuration values for the service in the subdirectory are calculated by examining values in Machine.config and successively merging with any Web.config files in parent directories moving down the directory tree and finally merging the Web.config file in the directory that contains the service. The default behavior for most configuration elements is to allow configuration files in subdirectories to override the values set in parent directories. In certain situations it may be desirable to prevent configuration files in subdirectories from overriding values set in parent directory configuration.  \n  \n The .NET Framework provides a way to lock configuration file elements so that configurations that override locked configuration elements throw run-time exceptions.  \n  \n A configuration element can be locked by specifying the `lockItem` attribute for a node in the configuration file, for example, to lock the CalculatorServiceBehavior node in the configuration file so that calculator services in nested configuration files cannot change the behavior, the following configuration can be used.  \n  \n```  \n<configuration>  \n   <system.serviceModel>  \n      <behaviors>   \n          <serviceBehaviors>   \n             <behavior name=\"CalculatorServiceBehavior\" lockItem=\"true\">   \n               <serviceMetadata httpGetEnabled=\"True\"/>   \n               <serviceDebug includeExceptionDetailInFaults=\"False\" />   \n             </behavior>   \n          </serviceBehaviors>   \n       </behaviors>   \n    </system.serviceModel>  \n</configuration>  \n```  \n  \n Locking of configuration elements can be more specific. A list of elements can be specified as the value to the `lockElements` to lock a set of elements within a collection of sub-elements. A list of attributes can be specified as the value to the `lockAttributes` to lock a set of attributes within an element. An entire collection of elements or attributes can be locked except for a specified list by specifying the `lockAllElementsExcept` or `lockAllAttributesExcept` attributes on a node.  \n  \n## PII Logging Configuration  \n Logging of PII is controlled by two switches: a computer-wide setting found in Machine.config that allows a computer administrator to permit or deny logging of PII and an application setting that allows an application administrator to toggle logging of PII for each source in a Web.config or App.config file.  \n  \n The computer-wide setting is controlled by setting `enableLoggingKnownPii` to `true` or `false`, in the `machineSettings` element in Machine.config. For example, the following allows applications to turn on logging of PII.  \n  \n```  \n<configuration>  \n    <system.serviceModel>  \n        <machineSettings enableLoggingKnownPii=\"true\" />  \n    </system.serviceModel>  \n</configuration>  \n```  \n  \n> [!NOTE]\n>  The Machine.config file has a default location: %WINDIR%\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG.  \n  \n If the `enableLoggingKnownPii` attribute is not present in Machine.config, logging of PII is not allowed.  \n  \n Enabling logging of PII for an application is done by setting the `logKnownPii` attribute of the source element to `true` or `false` in the Web.config or App.config file. For example, the following enables logging of PII for both message logging and trace logging.  \n  \n```  \n<configuration>  \n    <system.diagnostics>  \n        <sources>  \n            <source name=\"System.ServiceModel.MessageLogging\" logKnownPii=\"true\">  \n                <listeners>   \n                ...   \n                </listeners>  \n            </source>  \n            <source name=\"System.ServiceModel\" switchValue=\"Verbose, ActivityTracing\">  \n            <listeners>  \n        ...   \n            </listeners>  \n            </source>  \n        </sources>  \n    </system.diagnostics>  \n</configuration>  \n```  \n  \n If the `logKnownPii` attribute is not specified, then PII is not logged.  \n  \n PII is only logged if both `enableLoggingKnownPii` is set to `true`, and `logKnownPii` is set to `true`.  \n  \n> [!NOTE]\n>  System.Diagnostics ignores all attributes on all sources except the first one listed in the configuration file. Adding the `logKnownPii` attribute to the second source in the configuration file has no effect.  \n  \n> [!IMPORTANT]\n>  To run this sample involves manual modification of Machine.config. Care should be taken when modifying Machine.config as incorrect values or syntax may prevent all .NET Framework applications from running.  \n  \n It is also possible to encrypt configuration file elements using DPAPI and RSA. For more information, see the following links:  \n  \n-   [Building Secure ASP.NET Applications: Authentication, Authorization, and Secure Communication](http://go.microsoft.com/fwlink/?LinkId=95137)  \n  \n-   [How To: Encrypt Configuration Sections in ASP.NET 2.0 Using RSA](http://go.microsoft.com/fwlink/?LinkId=95138)  \n  \n#### To set up, build and run the sample  \n  \n1.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  Edit Machine.config to set the `enableLoggingKnownPii` attribute to `true`, adding the parent nodes if necessary.  \n  \n3.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n4.  To run the sample in a single- or cross-computer configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n#### To clean up the sample  \n  \n1.  Edit Machine.config to set the `enableLoggingKnownPii` attribute to `false`.  \n  \n## See Also  \n [AppFabric Monitoring Samples](http://go.microsoft.com/fwlink/?LinkId=193959)","nodes":[{"pos":[4,353],"embed":true,"restype":"x-metadata","content":"title: \"PII Security Lockdown | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: c44fb338-9527-4dd0-8607-b8787d15acb4\ncaps.latest.revision: 25\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"","nodes":[{"content":"PII Security Lockdown | Microsoft Docs","nodes":[{"pos":[0,38],"content":"PII Security Lockdown | Microsoft Docs","nodes":[{"content":"PII Security Lockdown | Microsoft Docs","pos":[0,38]}]}],"path":["title"]}],"yml":true},{"pos":[360,381],"content":"PII Security Lockdown","linkify":"PII Security Lockdown","nodes":[{"content":"PII Security Lockdown","pos":[0,21]}]},{"pos":[382,528],"content":"This sample demonstrates how to control several security-related features of a <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> service by:","source":"This sample demonstrates how to control several security-related features of a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service by:"},{"content":"Encrypting sensitive information in a service's configuration file.","pos":[538,605]},{"content":"Locking elements in the configuration file so that nested service subdirectories cannot override settings.","pos":[615,721]},{"content":"Controlling the logging of Personally Identifiable Information (PII) in trace and message logs.","pos":[731,826]},{"pos":[834,967],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[14,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[0,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1021,1347],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1348,1398]},{"pos":[1488,1498],"content":"Discussion","linkify":"Discussion","nodes":[{"content":"Discussion","pos":[0,10]}]},{"content":"Each of these features can be used separately or together to control aspects of a service's security.","pos":[1502,1603]},{"content":"This is not a definitive guide to securing a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service.","pos":[1604,1713],"source":" This is not a definitive guide to securing a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service."},{"content":"The .NET Framework configuration files can contain sensitive information such as connection strings to connect to databases.","pos":[1720,1844]},{"content":"In shared, Web-hosted scenarios it may be desirable to encrypt this information in the configuration file for a service so that the data contained within the configuration file is resistant to casual viewing.","pos":[1845,2053]},{"content":".NET Framework 2.0 and later has the ability to encrypt portions of the configuration file using the Windows Data Protection application programming interface (DPAPI) or the RSA Cryptographic provider.","pos":[2054,2255]},{"content":"The aspnet_regiis.exe using the DPAPI or RSA can encrypt select portions of a configuration file.","pos":[2256,2353]},{"content":"In Web-hosted scenarios it is possible to have services in subdirectories of other services.","pos":[2360,2452]},{"content":"The default semantic for determining configuration values allows configuration files in the nested directories to override the configuration values in the parent directory.","pos":[2453,2625]},{"content":"In certain situations this may be undesirable for a variety of reasons.","pos":[2626,2697]},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service configuration supports the locking of configuration values so that nested configuration generates exceptions when a nested service is run using overridden configuration values.","pos":[2698,2938],"source":"[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service configuration supports the locking of configuration values so that nested configuration generates exceptions when a nested service is run using overridden configuration values."},{"content":"This sample demonstrates how to control the logging of known Personally Identifiable Information (PII) in trace and message logs, such as username and password.","pos":[2945,3105]},{"content":"By default, logging of known PII is disabled however in certain situations logging of PII can be important in debugging an application.","pos":[3106,3241]},{"content":"This sample is based on the <bpt id=\"p1\">[</bpt>Getting Started<ept id=\"p1\">](../../../../docs/framework/wcf/samples/getting-started-sample.md)</ept>.","pos":[3242,3354],"source":" This sample is based on the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md)."},{"content":"In addition, this sample uses tracing and message logging.","pos":[3355,3413]},{"content":"For more information, see the <bpt id=\"p1\">[</bpt>Tracing and Message Logging<ept id=\"p1\">](../../../../docs/framework/wcf/samples/tracing-and-message-logging.md)</ept> sample.","pos":[3414,3552],"source":" For more information, see the [Tracing and Message Logging](../../../../docs/framework/wcf/samples/tracing-and-message-logging.md) sample."},{"pos":[3561,3599],"content":"Encrypting Configuration File Elements","linkify":"Encrypting Configuration File Elements","nodes":[{"content":"Encrypting Configuration File Elements","pos":[0,38]}]},{"content":"For security purposes in a shared Web-hosting environment, it may be desirable to encrypt certain configuration elements, such as database connection strings that may contain sensitive information.","pos":[3603,3800]},{"content":"A configuration element may be encrypted using the aspnet_regiis.exe tool found in the .NET Framework folder For example, %WINDIR%\\Micrsoft.NET\\Framework\\v4.0.20728.","pos":[3801,3966]},{"pos":[3977,4054],"content":"To encrypt the values in the appSettings section in Web.config for the sample","linkify":"To encrypt the values in the appSettings section in Web.config for the sample","nodes":[{"content":"To encrypt the values in the appSettings section in Web.config for the sample","pos":[0,77]}]},{"content":"Open a command prompt by using Start-&gt;Run….","pos":[4064,4107],"source":"Open a command prompt by using Start->Run…."},{"content":"Type in <ph id=\"ph1\">`cmd`</ph> and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[4108,4139],"source":" Type in `cmd` and click **OK**."},{"pos":[4149,4281],"content":"Navigate to the current .NET Framework directory by issuing the following command: <ph id=\"ph1\">`cd %WINDIR%\\Microsoft.NET\\Framework\\v4.0.20728`</ph>.","source":"Navigate to the current .NET Framework directory by issuing the following command: `cd %WINDIR%\\Microsoft.NET\\Framework\\v4.0.20728`."},{"pos":[4291,4503],"content":"Encrypt the appSettings configuration settings in the Web.config folder by issuing the following command: <ph id=\"ph1\">`aspnet_regiis -pe \"appSettings\" -app \"/servicemodelsamples\" -prov \"DataProtectionConfigurationProvider\"`</ph>.","source":"Encrypt the appSettings configuration settings in the Web.config folder by issuing the following command: `aspnet_regiis -pe \"appSettings\" -app \"/servicemodelsamples\" -prov \"DataProtectionConfigurationProvider\"`."},{"pos":[4510,4946],"content":"More information about encrypting sections of configuration files can be found by reading a how-to on DPAPI in ASP.NET configuration (<bpt id=\"p1\">[</bpt>Building Secure ASP.NET Applications: Authentication, Authorization, and Secure Communication<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=95137)</ept>) and a how-to on RSA in ASP.NET configuration (<bpt id=\"p2\">[</bpt>How To: Encrypt Configuration Sections in ASP.NET 2.0 Using RSA<ept id=\"p2\">](http://go.microsoft.com/fwlink/?LinkId=95138)</ept>).","source":"More information about encrypting sections of configuration files can be found by reading a how-to on DPAPI in ASP.NET configuration ([Building Secure ASP.NET Applications: Authentication, Authorization, and Secure Communication](http://go.microsoft.com/fwlink/?LinkId=95137)) and a how-to on RSA in ASP.NET configuration ([How To: Encrypt Configuration Sections in ASP.NET 2.0 Using RSA](http://go.microsoft.com/fwlink/?LinkId=95138))."},{"pos":[4955,4990],"content":"Locking configuration file elements","linkify":"Locking configuration file elements","nodes":[{"content":"Locking configuration file elements","pos":[0,35]}]},{"content":"In Web-hosted scenarios, it is possible to have services in subdirectories of services.","pos":[4994,5081]},{"content":"In these situations, configuration values for the service in the subdirectory are calculated by examining values in Machine.config and successively merging with any Web.config files in parent directories moving down the directory tree and finally merging the Web.config file in the directory that contains the service.","pos":[5082,5400]},{"content":"The default behavior for most configuration elements is to allow configuration files in subdirectories to override the values set in parent directories.","pos":[5401,5553]},{"content":"In certain situations it may be desirable to prevent configuration files in subdirectories from overriding values set in parent directory configuration.","pos":[5554,5706]},{"content":"The .NET Framework provides a way to lock configuration file elements so that configurations that override locked configuration elements throw run-time exceptions.","pos":[5713,5876]},{"pos":[5883,6206],"content":"A configuration element can be locked by specifying the <ph id=\"ph1\">`lockItem`</ph> attribute for a node in the configuration file, for example, to lock the CalculatorServiceBehavior node in the configuration file so that calculator services in nested configuration files cannot change the behavior, the following configuration can be used.","source":"A configuration element can be locked by specifying the `lockItem` attribute for a node in the configuration file, for example, to lock the CalculatorServiceBehavior node in the configuration file so that calculator services in nested configuration files cannot change the behavior, the following configuration can be used."},{"content":"Locking of configuration elements can be more specific.","pos":[6667,6722]},{"content":"A list of elements can be specified as the value to the <ph id=\"ph1\">`lockElements`</ph> to lock a set of elements within a collection of sub-elements.","pos":[6723,6856],"source":" A list of elements can be specified as the value to the `lockElements` to lock a set of elements within a collection of sub-elements."},{"content":"A list of attributes can be specified as the value to the <ph id=\"ph1\">`lockAttributes`</ph> to lock a set of attributes within an element.","pos":[6857,6978],"source":" A list of attributes can be specified as the value to the `lockAttributes` to lock a set of attributes within an element."},{"content":"An entire collection of elements or attributes can be locked except for a specified list by specifying the <ph id=\"ph1\">`lockAllElementsExcept`</ph> or <ph id=\"ph2\">`lockAllAttributesExcept`</ph> attributes on a node.","pos":[6979,7160],"source":" An entire collection of elements or attributes can be locked except for a specified list by specifying the `lockAllElementsExcept` or `lockAllAttributesExcept` attributes on a node."},{"pos":[7169,7194],"content":"PII Logging Configuration","linkify":"PII Logging Configuration","nodes":[{"content":"PII Logging Configuration","pos":[0,25]}]},{"content":"Logging of PII is controlled by two switches: a computer-wide setting found in Machine.config that allows a computer administrator to permit or deny logging of PII and an application setting that allows an application administrator to toggle logging of PII for each source in a Web.config or App.config file.","pos":[7198,7506]},{"pos":[7513,7735],"content":"The computer-wide setting is controlled by setting <ph id=\"ph1\">`enableLoggingKnownPii`</ph> to <ph id=\"ph2\">`true`</ph> or <ph id=\"ph3\">`false`</ph>, in the <ph id=\"ph4\">`machineSettings`</ph> element in Machine.config. For example, the following allows applications to turn on logging of PII.","source":"The computer-wide setting is controlled by setting `enableLoggingKnownPii` to `true` or `false`, in the `machineSettings` element in Machine.config. For example, the following allows applications to turn on logging of PII."},{"pos":[7911,8021],"content":"[!NOTE]\n The Machine.config file has a default location: %WINDIR%\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG.","leadings":["","> "],"nodes":[{"content":"The Machine.config file has a default location: %WINDIR%\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG.","pos":[9,108]}]},{"pos":[8028,8133],"content":"If the <ph id=\"ph1\">`enableLoggingKnownPii`</ph> attribute is not present in Machine.config, logging of PII is not allowed.","source":"If the `enableLoggingKnownPii` attribute is not present in Machine.config, logging of PII is not allowed."},{"content":"Enabling logging of PII for an application is done by setting the <ph id=\"ph1\">`logKnownPii`</ph> attribute of the source element to <ph id=\"ph2\">`true`</ph> or <ph id=\"ph3\">`false`</ph> in the Web.config or App.config file.","pos":[8140,8310],"source":"Enabling logging of PII for an application is done by setting the `logKnownPii` attribute of the source element to `true` or `false` in the Web.config or App.config file."},{"content":"For example, the following enables logging of PII for both message logging and trace logging.","pos":[8311,8404]},{"pos":[8933,9005],"content":"If the <ph id=\"ph1\">`logKnownPii`</ph> attribute is not specified, then PII is not logged.","source":"If the `logKnownPii` attribute is not specified, then PII is not logged."},{"pos":[9012,9116],"content":"PII is only logged if both <ph id=\"ph1\">`enableLoggingKnownPii`</ph> is set to <ph id=\"ph2\">`true`</ph>, and <ph id=\"ph3\">`logKnownPii`</ph> is set to <ph id=\"ph4\">`true`</ph>.","source":"PII is only logged if both `enableLoggingKnownPii` is set to `true`, and `logKnownPii` is set to `true`."},{"pos":[9124,9343],"content":"[!NOTE]\n System.Diagnostics ignores all attributes on all sources except the first one listed in the configuration file. Adding the `logKnownPii` attribute to the second source in the configuration file has no effect.","leadings":["","> "],"nodes":[{"content":"System.Diagnostics ignores all attributes on all sources except the first one listed in the configuration file. Adding the `logKnownPii` attribute to the second source in the configuration file has no effect.","pos":[9,217],"nodes":[{"content":"System.Diagnostics ignores all attributes on all sources except the first one listed in the configuration file.","pos":[0,111]},{"content":"Adding the <ph id=\"ph1\">`logKnownPii`</ph> attribute to the second source in the configuration file has no effect.","pos":[112,208],"source":" Adding the `logKnownPii` attribute to the second source in the configuration file has no effect."}]}]},{"pos":[9351,9572],"content":"[!IMPORTANT]\n To run this sample involves manual modification of Machine.config. Care should be taken when modifying Machine.config as incorrect values or syntax may prevent all .NET Framework applications from running.","leadings":["","> "],"nodes":[{"content":"To run this sample involves manual modification of Machine.config. Care should be taken when modifying Machine.config as incorrect values or syntax may prevent all .NET Framework applications from running.","pos":[14,219]}]},{"content":"It is also possible to encrypt configuration file elements using DPAPI and RSA.","pos":[9579,9658]},{"content":"For more information, see the following links:","pos":[9659,9705]},{"pos":[9715,9856],"content":"<bpt id=\"p1\">[</bpt>Building Secure ASP.NET Applications: Authentication, Authorization, and Secure Communication<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=95137)</ept>","source":"[Building Secure ASP.NET Applications: Authentication, Authorization, and Secure Communication](http://go.microsoft.com/fwlink/?LinkId=95137)"},{"pos":[9866,9977],"content":"<bpt id=\"p1\">[</bpt>How To: Encrypt Configuration Sections in ASP.NET 2.0 Using RSA<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=95138)</ept>","source":"[How To: Encrypt Configuration Sections in ASP.NET 2.0 Using RSA](http://go.microsoft.com/fwlink/?LinkId=95138)"},{"pos":[9988,10023],"content":"To set up, build and run the sample","linkify":"To set up, build and run the sample","nodes":[{"content":"To set up, build and run the sample","pos":[0,35]}]},{"pos":[10033,10232],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[10242,10355],"content":"Edit Machine.config to set the <ph id=\"ph1\">`enableLoggingKnownPii`</ph> attribute to <ph id=\"ph2\">`true`</ph>, adding the parent nodes if necessary.","source":"Edit Machine.config to set the `enableLoggingKnownPii` attribute to `true`, adding the parent nodes if necessary."},{"pos":[10365,10574],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[10584,10793],"content":"To run the sample in a single- or cross-computer configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-computer configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[10804,10826],"content":"To clean up the sample","linkify":"To clean up the sample","nodes":[{"content":"To clean up the sample","pos":[0,22]}]},{"pos":[10836,10912],"content":"Edit Machine.config to set the <ph id=\"ph1\">`enableLoggingKnownPii`</ph> attribute to <ph id=\"ph2\">`false`</ph>.","source":"Edit Machine.config to set the `enableLoggingKnownPii` attribute to `false`."},{"pos":[10921,10929],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[10933,11010],"content":"<bpt id=\"p1\">[</bpt>AppFabric Monitoring Samples<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=193959)</ept>","source":"[AppFabric Monitoring Samples](http://go.microsoft.com/fwlink/?LinkId=193959)"}]}