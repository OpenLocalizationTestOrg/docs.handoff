{"content":"---\ntitle: \"How to: Upload files with FTP\"\ndescription: \"This article shows a sample of how to upload a file to an FTP server.\"\nms.date: \"06/26/2018\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: e40f17c5-dd12-4c62-9dbf-00ab491382dc\n---\n# How to: Upload files with FTP\n\nThis sample shows how to upload a file to an FTP server.\n\n## Example\n\n```csharp\nusing System;\nusing System.IO;\nusing System.Net;\nusing System.Text;\n\nnamespace Examples.System.Net\n{\n    public class WebRequestGetExample\n    {\n        public static void Main ()\n        {\n            // Get the object used to communicate with the server.\n            FtpWebRequest request = (FtpWebRequest)WebRequest.Create(\"ftp://www.contoso.com/test.htm\");\n            request.Method = WebRequestMethods.Ftp.UploadFile;\n\n            // This example assumes the FTP site uses anonymous logon.\n            request.Credentials = new NetworkCredential(\"anonymous\", \"janeDoe@contoso.com\");\n\n            // Copy the contents of the file to the request stream.\n            byte[] fileContents;\n            using (StreamReader sourceStream = new StreamReader(\"testfile.txt\"))\n            {\n                fileContents = Encoding.UTF8.GetBytes(sourceStream.ReadToEnd());\n            }\n\n            request.ContentLength = fileContents.Length;\n\n            using (Stream requestStream = request.GetRequestStream())\n            {\n                requestStream.Write(fileContents, 0, fileContents.Length);\n            }\n\n            using (FtpWebResponse response = (FtpWebResponse)request.GetResponse())\n            {\n                Console.WriteLine($\"Upload File Complete, status {response.StatusDescription}\");\n            }\n        }\n    }\n}\n```\n\n```vb\nImports System.IO\nImports System.Net\nImports System.Text\n\nNamespace Examples.System.Net\n    Public Module WebRequestGetExample\n        Public Sub Main()\n            ' Get the object used to communicate with the server.\n            Dim request As FtpWebRequest = CType(WebRequest.Create(\"ftp://www.contoso.com/test.htm\"), FtpWebRequest)\n            request.Method = WebRequestMethods.Ftp.UploadFile\n\n            ' This example assumes the FTP site uses anonymous logon.\n            request.Credentials = New NetworkCredential(\"anonymous\", \"janeDoe@contoso.com\")\n\n            ' Copy the contents of the file to the request stream.\n            Dim fileContents As Byte()\n\n            Using sourceStream As StreamReader = New StreamReader(\"testfile.txt\")\n                fileContents = Encoding.UTF8.GetBytes(sourceStream.ReadToEnd())\n            End Using\n\n            request.ContentLength = fileContents.Length\n\n            Using requestStream As Stream = request.GetRequestStream()\n                requestStream.Write(fileContents, 0, fileContents.Length)\n            End Using\n\n            Using response As FtpWebResponse = CType(request.GetResponse(), FtpWebResponse)\n                Console.WriteLine($\"Upload File Complete, status {response.StatusDescription}\")\n            End Using\n        End Sub\n    End Module\nEnd Namespace\n```","nodes":[{"pos":[4,232],"embed":true,"restype":"x-metadata","content":"title: \"How to: Upload files with FTP\"\ndescription: \"This article shows a sample of how to upload a file to an FTP server.\"\nms.date: \"06/26/2018\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: e40f17c5-dd12-4c62-9dbf-00ab491382dc","nodes":[{"content":"How to: Upload files with FTP","nodes":[{"pos":[0,29],"content":"How to: Upload files with FTP","nodes":[{"content":"How to: Upload files with FTP","pos":[0,29]}]}],"path":["title"],"nosxs":false},{"content":"This article shows a sample of how to upload a file to an FTP server.","nodes":[{"pos":[0,69],"content":"This article shows a sample of how to upload a file to an FTP server.","nodes":[{"content":"This article shows a sample of how to upload a file to an FTP server.","pos":[0,69]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[239,268],"content":"How to: Upload files with FTP","linkify":"How to: Upload files with FTP","nodes":[{"content":"How to: Upload files with FTP","pos":[0,29]}]},{"content":"This sample shows how to upload a file to an FTP server.","pos":[270,326]},{"pos":[331,338],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]}]}