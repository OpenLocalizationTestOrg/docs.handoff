{"content":"---\ntitle: \"Data Contract Equivalence | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"data contracts [WCF], equivalence\"\nms.assetid: f06f3c7e-c235-4ec1-b200-68142edf1ed1\ncaps.latest.revision: 16\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Data Contract Equivalence\nFor a client to successfully send data of a certain type to a service, or a service to successfully send data to a client, the sent type does not necessarily have to exist on the receiving end. The only requirement is that the data contracts of both types be equivalent. (Sometimes, strict equivalence is not required, as discussed in [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).)  \n  \n For data contracts to be equivalent, they must have the same namespace and name. Additionally, each data member on one side must have an equivalent data member on the other side.  \n  \n For data members to be equivalent, they must have the same name. Additionally, they must represent the same type of data; that is, their data contracts must be equivalent.  \n  \n> [!NOTE]\n>  Note that data contract names and namespaces, as well as data member names, are case-sensitive.  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] data contract names and namespaces, as well as data member names, see [Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md).  \n  \n If two types exist on the same side (sender or receiver) and their data contracts are not equivalent (for example, they have different data members), you should not give them the same name and namespace. Doing so may cause exceptions to be thrown.  \n  \n The data contracts for the following types are equivalent:  \n  \n [!code-csharp[C_DataContractNames#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#5)]\n [!code-vb[C_DataContractNames#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#5)]  \n  \n## Data Member Order and Data Contract equivalence  \n Using the <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> class may affect data contract equivalence. The data contracts must have members that appear in the same order to be equivalent. The default order is alphabetical. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md).  \n  \n For example, the following code results in equivalent data contracts.  \n  \n [!code-csharp[C_DataContractNames#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#6)]\n [!code-vb[C_DataContractNames#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#6)]  \n  \n However, the following does not result in an equivalent data contract.  \n  \n [!code-csharp[C_DataContractNames#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#7)]\n [!code-vb[C_DataContractNames#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#7)]  \n  \n## Inheritance, Interfaces, and Data Contract Equivalence  \n When determining equivalence, a data contract that inherits from another data contract is treated as if it is just one data contract that includes all of the data members from the base type. Keep in mind that the order of the data members must match and that base type members precede derived type members in the order. Furthermore, if, as in the following code example, two data members have the same order value, the ordering for those data members is alphabetical. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md).  \n  \n In the following example, the data contract for type `Employee` is equivalent to the data contract for the type `Worker`.  \n  \n [!code-csharp[C_DataContractNames#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#8)]\n [!code-vb[C_DataContractNames#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#8)]  \n  \n When passing parameters and return values between a client and a service, a data contract from a base class cannot be sent when the receiving endpoint expects a data contract from a derived class. This is in accordance with object-oriented programming tenets. In the previous example, an object of type `Person` cannot be sent when an `Employee` is expected.  \n  \n A data contract from a derived class can be sent when a data contract from a base class is expected, but only if the receiving endpoint \"knows\" of the derived type using the <xref:System.Runtime.Serialization.KnownTypeAttribute>. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md). In the previous example, an object of type `Employee` can be sent when a `Person` is expected, but only if the receiver code employs the <xref:System.Runtime.Serialization.KnownTypeAttribute> to include it in the list of known types.  \n  \n When passing parameters and return values between applications, if the expected type is an interface, it is equivalent to the expected type being of type <xref:System.Object>. Because every type ultimately derives from <xref:System.Object>, every data contract ultimately derives from the data contract for <xref:System.Object>. Thus, any data contract type can be passed when an interface is expected. Additional steps are required to successfully work with interfaces; for more information, see [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).  \n  \n## See Also  \n <xref:System.Runtime.Serialization.DataContractAttribute>   \n <xref:System.Runtime.Serialization.DataMemberAttribute>   \n [Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md)   \n [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)   \n [Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md)","nodes":[{"pos":[12,54],"content":"Data Contract Equivalence | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Data Contract Equivalence | Microsoft Docs","pos":[0,42]}]},{"pos":[449,474],"content":"Data Contract Equivalence","linkify":"Data Contract Equivalence","nodes":[{"content":"Data Contract Equivalence","pos":[0,25]}]},{"content":"For a client to successfully send data of a certain type to a service, or a service to successfully send data to a client, the sent type does not necessarily have to exist on the receiving end.","pos":[475,668]},{"content":"The only requirement is that the data contracts of both types be equivalent.","pos":[669,745]},{"content":"(Sometimes, strict equivalence is not required, as discussed in <bpt id=\"p1\">[</bpt>Data Contract Versioning<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md)</ept>.)","pos":[746,914],"source":" (Sometimes, strict equivalence is not required, as discussed in [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).)"},{"content":"For data contracts to be equivalent, they must have the same namespace and name.","pos":[921,1001]},{"content":"Additionally, each data member on one side must have an equivalent data member on the other side.","pos":[1002,1099]},{"content":"For data members to be equivalent, they must have the same name.","pos":[1106,1170]},{"content":"Additionally, they must represent the same type of data; that is, their data contracts must be equivalent.","pos":[1171,1277]},{"pos":[1285,1391],"content":"[!NOTE]\n Note that data contract names and namespaces, as well as data member names, are case-sensitive.","leadings":["","> "],"nodes":[{"content":"Note that data contract names and namespaces, as well as data member names, are case-sensitive.","pos":[9,104]}]},{"pos":[1398,1617],"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> data contract names and namespaces, as well as data member names, see <bpt id=\"p1\">[</bpt>Data Contract Names<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-names.md)</ept>.","source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] data contract names and namespaces, as well as data member names, see [Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md)."},{"content":"If two types exist on the same side (sender or receiver) and their data contracts are not equivalent (for example, they have different data members), you should not give them the same name and namespace.","pos":[1624,1827]},{"content":"Doing so may cause exceptions to be thrown.","pos":[1828,1871]},{"content":"The data contracts for the following types are equivalent:","pos":[1878,1936]},{"pos":[1943,2196],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>C_DataContractNames#5<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#5)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>C_DataContractNames#5<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#5)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[C_DataContractNames#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#5)]\n [!code-vb[C_DataContractNames#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#5)]"},{"pos":[2205,2252],"content":"Data Member Order and Data Contract equivalence","linkify":"Data Member Order and Data Contract equivalence","nodes":[{"content":"Data Member Order and Data Contract equivalence","pos":[0,47]}]},{"content":"Using the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A&gt;</ph> property of the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataMemberAttribute&gt;</ph> class may affect data contract equivalence.","pos":[2256,2446],"source":"Using the <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> class may affect data contract equivalence."},{"content":"The data contracts must have members that appear in the same order to be equivalent.","pos":[2447,2531]},{"content":"The default order is alphabetical.","pos":[2532,2566]},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>Data Member Order<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-member-order.md)</ept>.","pos":[2567,2715],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md)."},{"content":"For example, the following code results in equivalent data contracts.","pos":[2722,2791]},{"pos":[2798,3051],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>C_DataContractNames#6<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#6)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>C_DataContractNames#6<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#6)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[C_DataContractNames#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#6)]\n [!code-vb[C_DataContractNames#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#6)]"},{"content":"However, the following does not result in an equivalent data contract.","pos":[3058,3128]},{"pos":[3135,3388],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>C_DataContractNames#7<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#7)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>C_DataContractNames#7<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#7)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[C_DataContractNames#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#7)]\n [!code-vb[C_DataContractNames#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#7)]"},{"pos":[3397,3451],"content":"Inheritance, Interfaces, and Data Contract Equivalence","linkify":"Inheritance, Interfaces, and Data Contract Equivalence","nodes":[{"content":"Inheritance, Interfaces, and Data Contract Equivalence","pos":[0,54]}]},{"content":"When determining equivalence, a data contract that inherits from another data contract is treated as if it is just one data contract that includes all of the data members from the base type.","pos":[3455,3645]},{"content":"Keep in mind that the order of the data members must match and that base type members precede derived type members in the order.","pos":[3646,3774]},{"content":"Furthermore, if, as in the following code example, two data members have the same order value, the ordering for those data members is alphabetical.","pos":[3775,3922]},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>Data Member Order<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-member-order.md)</ept>.","pos":[3923,4071],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md)."},{"pos":[4078,4199],"content":"In the following example, the data contract for type <ph id=\"ph1\">`Employee`</ph> is equivalent to the data contract for the type <ph id=\"ph2\">`Worker`</ph>.","source":"In the following example, the data contract for type `Employee` is equivalent to the data contract for the type `Worker`."},{"pos":[4206,4459],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>C_DataContractNames#8<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#8)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>C_DataContractNames#8<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#8)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[C_DataContractNames#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#8)]\n [!code-vb[C_DataContractNames#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#8)]"},{"content":"When passing parameters and return values between a client and a service, a data contract from a base class cannot be sent when the receiving endpoint expects a data contract from a derived class.","pos":[4466,4662]},{"content":"This is in accordance with object-oriented programming tenets.","pos":[4663,4725]},{"content":"In the previous example, an object of type <ph id=\"ph1\">`Person`</ph> cannot be sent when an <ph id=\"ph2\">`Employee`</ph> is expected.","pos":[4726,4824],"source":" In the previous example, an object of type `Person` cannot be sent when an `Employee` is expected."},{"content":"A data contract from a derived class can be sent when a data contract from a base class is expected, but only if the receiving endpoint \"knows\" of the derived type using the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.KnownTypeAttribute&gt;</ph>.","pos":[4831,5060],"source":"A data contract from a derived class can be sent when a data contract from a base class is expected, but only if the receiving endpoint \"knows\" of the derived type using the <xref:System.Runtime.Serialization.KnownTypeAttribute>."},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>Data Contract Known Types<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)</ept>.","pos":[5061,5225],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)."},{"content":"In the previous example, an object of type <ph id=\"ph1\">`Employee`</ph> can be sent when a <ph id=\"ph2\">`Person`</ph> is expected, but only if the receiver code employs the <ph id=\"ph3\">&lt;xref:System.Runtime.Serialization.KnownTypeAttribute&gt;</ph> to include it in the list of known types.","pos":[5226,5459],"source":" In the previous example, an object of type `Employee` can be sent when a `Person` is expected, but only if the receiver code employs the <xref:System.Runtime.Serialization.KnownTypeAttribute> to include it in the list of known types."},{"content":"When passing parameters and return values between applications, if the expected type is an interface, it is equivalent to the expected type being of type <ph id=\"ph1\">&lt;xref:System.Object&gt;</ph>.","pos":[5466,5641],"source":"When passing parameters and return values between applications, if the expected type is an interface, it is equivalent to the expected type being of type <xref:System.Object>."},{"content":"Because every type ultimately derives from <ph id=\"ph1\">&lt;xref:System.Object&gt;</ph>, every data contract ultimately derives from the data contract for <ph id=\"ph2\">&lt;xref:System.Object&gt;</ph>.","pos":[5642,5794],"source":" Because every type ultimately derives from <xref:System.Object>, every data contract ultimately derives from the data contract for <xref:System.Object>."},{"content":"Thus, any data contract type can be passed when an interface is expected.","pos":[5795,5868]},{"content":"Additional steps are required to successfully work with interfaces; for more information, see <bpt id=\"p1\">[</bpt>Data Contract Known Types<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)</ept>.","pos":[5869,6068],"source":" Additional steps are required to successfully work with interfaces; for more information, see [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)."},{"pos":[6077,6085],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\"> [</bpt>Data Member Order<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-member-order.md)</ept><ph id=\"ph1\"> </ph>","pos":[6210,6300],"source":" [Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Data Contract Known Types<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)</ept><ph id=\"ph1\"> </ph>","pos":[6303,6409],"source":" [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Data Contract Names<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-names.md)</ept>","pos":[6412,6505],"source":" [Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md)"}]}