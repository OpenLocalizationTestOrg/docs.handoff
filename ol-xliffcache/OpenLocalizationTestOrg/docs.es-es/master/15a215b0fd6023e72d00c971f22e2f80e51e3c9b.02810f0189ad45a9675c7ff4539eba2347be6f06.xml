{"content":"---\ntitle: \"How to: Retrieve Metadata and Implement a Compliant Service | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f6f3a2b9-c8aa-4b0b-832c-ec2927bf1163\ncaps.latest.revision: 13\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Retrieve Metadata and Implement a Compliant Service\nOften, the same person does not design and implement services. In environments where interoperating applications are important, contracts can be designed or described in Web Services Description Language (WSDL) and a developer must implement a service that complies with the provided contract. You may also want to migrate an existing service to [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] but preserve the wire format. In addition, duplex contracts require callers to implement a callback contract as well.  \n  \n In these cases, you must use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) (or an equivalent tool) to generate a service contract interface in a managed language that you can implement to fulfill the requirements of the contract. Typically the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) is used to acquire a service contract that is used with a channel factory or a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client type as well as with a client configuration file that sets up the correct binding and address. To use the generated configuration file, you must change it into a service configuration file. You may also need to modify the service contract.  \n  \n### To retrieve data and implement a compliant service  \n  \n1.  Use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files or a metadata endpoint to generate a code file.  \n  \n2.  Search for the portion of the output code file that contains the interface of interest (in case there is more than one) that is marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=fullName> attribute. The following code example shows the two interfaces generated by [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md). The first (`ISampleService`) is the service contract interface that you implement to create a compliant service. The second (`ISampleServiceChannel`) is a helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=fullName> and is for use in a client application.  \n  \n     [!code-csharp[ClientProxyCodeSample#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#2)]  \n  \n3.  If the WSDL does not specify a reply action for all of the operations, the generated operation contracts may have the <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> property set to the wildcard character (*). Remove this property setting. Otherwise, when you implement the service contract metadata, the metadata cannot be exported for those operations.  \n  \n4.  Implement the interface on a class and host the service. For an example, see [How to: Implement a Service Contract](../../../../docs/framework/wcf/how-to-implement-a-wcf-contract.md), or see a simple implementation below in the Example section.  \n  \n5.  In the client configuration file that the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) generates, change the [\\<client>](../../../../docs/framework/configure-apps/file-schema/wcf/client.md) configuration section to a [\\<services>](../../../../docs/framework/configure-apps/file-schema/wcf/services.md) configuration section. (For an example of a generated client application configuration file, see the following \"Example\" section.)  \n  \n6.  Within the [\\<services>](../../../../docs/framework/configure-apps/file-schema/wcf/services.md) configuration section, create a `name` attribute in the [\\<services>](../../../../docs/framework/configure-apps/file-schema/wcf/services.md) configuration section for your service implementation.  \n  \n7.  Set the service `name` attribute to the configuration name for your service implementation.  \n  \n8.  Add the endpoint configuration elements that use the implemented service contract to the service configuration section.  \n  \n## Example  \n The following code example shows the majority of a code file generated by running the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files.  \n  \n The following code shows:  \n  \n-   The service contract interface that, when implemented, complies with the contract requirements (`ISampleService`).  \n  \n-   The helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=fullName> and is for use in a client application (`ISampleServiceChannel`).  \n  \n-   The helper class that extends <xref:System.ServiceModel.ClientBase%601?displayProperty=fullName> and is for use in a client application (`SampleServiceClient`).  \n  \n-   The configuration file generated from the service.  \n  \n-   A simple `ISampleService` service implementation.  \n  \n-   A conversion of the client-side configuration file to a service-side version.  \n  \n [!code-csharp[ClientProxyCodeSample#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#1)]    \n [!code-xml[ClientProxyCodeSample#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/client.exe.config#10)]     \n [!code-csharp[ClientProxyCodeSample#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.cs#5)]    \n [!code-xml[ClientProxyCodeSample#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.exe.config#20)]    \n  \n## See Also  \n [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)","nodes":[{"pos":[12,88],"content":"How to: Retrieve Metadata and Implement a Compliant Service | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Retrieve Metadata and Implement a Compliant Service | Microsoft Docs","pos":[0,76]}]},{"pos":[387,446],"content":"How to: Retrieve Metadata and Implement a Compliant Service","linkify":"How to: Retrieve Metadata and Implement a Compliant Service","nodes":[{"content":"How to: Retrieve Metadata and Implement a Compliant Service","pos":[0,59]}]},{"content":"Often, the same person does not design and implement services.","pos":[447,509]},{"content":"In environments where interoperating applications are important, contracts can be designed or described in Web Services Description Language (WSDL) and a developer must implement a service that complies with the provided contract.","pos":[510,740]},{"content":"You may also want to migrate an existing service to <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> but preserve the wire format.","pos":[741,878],"source":" You may also want to migrate an existing service to [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] but preserve the wire format."},{"content":"In addition, duplex contracts require callers to implement a callback contract as well.","pos":[879,966]},{"content":"In these cases, you must use the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> (or an equivalent tool) to generate a service contract interface in a managed language that you can implement to fulfill the requirements of the contract.","pos":[973,1293],"source":"In these cases, you must use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) (or an equivalent tool) to generate a service contract interface in a managed language that you can implement to fulfill the requirements of the contract."},{"content":"Typically the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> is used to acquire a service contract that is used with a channel factory or a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client type as well as with a client configuration file that sets up the correct binding and address.","pos":[1294,1677],"source":" Typically the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) is used to acquire a service contract that is used with a channel factory or a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client type as well as with a client configuration file that sets up the correct binding and address."},{"content":"To use the generated configuration file, you must change it into a service configuration file.","pos":[1678,1772]},{"content":"You may also need to modify the service contract.","pos":[1773,1822]},{"pos":[1832,1882],"content":"To retrieve data and implement a compliant service","linkify":"To retrieve data and implement a compliant service","nodes":[{"content":"To retrieve data and implement a compliant service","pos":[0,50]}]},{"pos":[1892,2103],"content":"Use the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> against metadata files or a metadata endpoint to generate a code file.","source":"Use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files or a metadata endpoint to generate a code file."},{"content":"Search for the portion of the output code file that contains the interface of interest (in case there is more than one) that is marked with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute?displayProperty=fullName&gt;</ph> attribute.","pos":[2113,2344],"source":"Search for the portion of the output code file that contains the interface of interest (in case there is more than one) that is marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=fullName> attribute."},{"content":"The following code example shows the two interfaces generated by <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept>.","pos":[2345,2543],"source":" The following code example shows the two interfaces generated by [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)."},{"content":"The first (<ph id=\"ph1\">`ISampleService`</ph>) is the service contract interface that you implement to create a compliant service.","pos":[2544,2656],"source":" The first (`ISampleService`) is the service contract interface that you implement to create a compliant service."},{"content":"The second (<ph id=\"ph1\">`ISampleServiceChannel`</ph>) is a helper interface for client use that extends both the service contract interface and <ph id=\"ph2\">&lt;xref:System.ServiceModel.IClientChannel?displayProperty=fullName&gt;</ph> and is for use in a client application.","pos":[2657,2890],"source":" The second (`ISampleServiceChannel`) is a helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=fullName> and is for use in a client application."},{"pos":[2901,3033],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>ClientProxyCodeSample#2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#2)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[ClientProxyCodeSample#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#2)]"},{"content":"If the WSDL does not specify a reply action for all of the operations, the generated operation contracts may have the <ph id=\"ph1\">&lt;xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A&gt;</ph> property set to the wildcard character (*).","pos":[3043,3273],"source":"If the WSDL does not specify a reply action for all of the operations, the generated operation contracts may have the <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> property set to the wildcard character (*)."},{"content":"Remove this property setting.","pos":[3274,3303]},{"content":"Otherwise, when you implement the service contract metadata, the metadata cannot be exported for those operations.","pos":[3304,3418]},{"content":"Implement the interface on a class and host the service.","pos":[3428,3484]},{"content":"For an example, see <bpt id=\"p1\">[</bpt>How to: Implement a Service Contract<ept id=\"p1\">](../../../../docs/framework/wcf/how-to-implement-a-wcf-contract.md)</ept>, or see a simple implementation below in the Example section.","pos":[3485,3672],"source":" For an example, see [How to: Implement a Service Contract](../../../../docs/framework/wcf/how-to-implement-a-wcf-contract.md), or see a simple implementation below in the Example section."},{"content":"In the client configuration file that the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> generates, change the <bpt id=\"p2\">[</bpt><ph id=\"ph1\">\\&lt;</ph>client&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/client.md)</ept> configuration section to a <bpt id=\"p3\">[</bpt><ph id=\"ph2\">\\&lt;</ph>services&gt;<ept id=\"p3\">](../../../../docs/framework/configure-apps/file-schema/wcf/services.md)</ept> configuration section.","pos":[3682,4094],"source":"In the client configuration file that the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) generates, change the [\\<client>](../../../../docs/framework/configure-apps/file-schema/wcf/client.md) configuration section to a [\\<services>](../../../../docs/framework/configure-apps/file-schema/wcf/services.md) configuration section."},{"content":"(For an example of a generated client application configuration file, see the following \"Example\" section.)","pos":[4095,4202]},{"pos":[4212,4503],"content":"Within the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>services&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/services.md)</ept> configuration section, create a <ph id=\"ph2\">`name`</ph> attribute in the <bpt id=\"p2\">[</bpt><ph id=\"ph3\">\\&lt;</ph>services&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/services.md)</ept> configuration section for your service implementation.","source":"Within the [\\<services>](../../../../docs/framework/configure-apps/file-schema/wcf/services.md) configuration section, create a `name` attribute in the [\\<services>](../../../../docs/framework/configure-apps/file-schema/wcf/services.md) configuration section for your service implementation."},{"pos":[4513,4604],"content":"Set the service <ph id=\"ph1\">`name`</ph> attribute to the configuration name for your service implementation.","source":"Set the service `name` attribute to the configuration name for your service implementation."},{"content":"Add the endpoint configuration elements that use the implemented service contract to the service configuration section.","pos":[4614,4733]},{"pos":[4742,4749],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4753,4995],"content":"The following code example shows the majority of a code file generated by running the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> against metadata files.","source":"The following code example shows the majority of a code file generated by running the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files."},{"content":"The following code shows:","pos":[5002,5027]},{"pos":[5037,5151],"content":"The service contract interface that, when implemented, complies with the contract requirements (<ph id=\"ph1\">`ISampleService`</ph>).","source":"The service contract interface that, when implemented, complies with the contract requirements (`ISampleService`)."},{"pos":[5161,5382],"content":"The helper interface for client use that extends both the service contract interface and <ph id=\"ph1\">&lt;xref:System.ServiceModel.IClientChannel?displayProperty=fullName&gt;</ph> and is for use in a client application (<ph id=\"ph2\">`ISampleServiceChannel`</ph>).","source":"The helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=fullName> and is for use in a client application (`ISampleServiceChannel`)."},{"pos":[5392,5552],"content":"The helper class that extends <ph id=\"ph1\">&lt;xref:System.ServiceModel.ClientBase%601?displayProperty=fullName&gt;</ph> and is for use in a client application (<ph id=\"ph2\">`SampleServiceClient`</ph>).","source":"The helper class that extends <xref:System.ServiceModel.ClientBase%601?displayProperty=fullName> and is for use in a client application (`SampleServiceClient`)."},{"content":"The configuration file generated from the service.","pos":[5562,5612]},{"pos":[5622,5671],"content":"A simple <ph id=\"ph1\">`ISampleService`</ph> service implementation.","source":"A simple `ISampleService` service implementation."},{"content":"A conversion of the client-side configuration file to a service-side version.","pos":[5681,5758]},{"pos":[5765,6335],"content":"[!code-csharp[ClientProxyCodeSample#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#1)]    \n[!code-xml[ClientProxyCodeSample#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/client.exe.config#10)]     \n[!code-csharp[ClientProxyCodeSample#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.cs#5)]    \n[!code-xml[ClientProxyCodeSample#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.exe.config#20)]","leadings":[""," "," "," "],"nodes":[{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>ClientProxyCodeSample#1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#1)</ept><ept id=\"p1\">]</ept>","pos":[0,132],"source":"[!code-csharp[ClientProxyCodeSample#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#1)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>ClientProxyCodeSample#10<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/client.exe.config#10)</ept><ept id=\"p1\">]</ept>","pos":[137,273],"source":"[!code-xml[ClientProxyCodeSample#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/client.exe.config#10)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>ClientProxyCodeSample#5<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.cs#5)</ept><ept id=\"p1\">]</ept>","pos":[279,417],"source":"[!code-csharp[ClientProxyCodeSample#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.cs#5)]"},{"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>ClientProxyCodeSample#20<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.exe.config#20)</ept><ept id=\"p1\">]</ept>","pos":[422,567],"source":"[!code-xml[ClientProxyCodeSample#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.exe.config#20)]"}]},{"pos":[6346,6354],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[6358,6490],"content":"<bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept>","source":"[ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)"}]}