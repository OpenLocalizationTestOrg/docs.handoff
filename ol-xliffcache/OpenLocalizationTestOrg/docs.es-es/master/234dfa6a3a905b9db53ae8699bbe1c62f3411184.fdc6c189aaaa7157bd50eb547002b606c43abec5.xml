{"content":"---\ntitle: \"How to: Use Arrays of Blocking Collections in a Pipeline | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"thread-safe collections, blocking collections in pipeline\"\nms.assetid: a39c7ec3-3ad7-4f4d-8fe4-b3e9dbabe2ed\ncaps.latest.revision: 8\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# How to: Use Arrays of Blocking Collections in a Pipeline\nThe following example shows how to use arrays of <xref:System.Collections.Concurrent.BlockingCollection%601?displayProperty=fullName> objects with static methods such as <xref:System.Collections.Concurrent.BlockingCollection%601.TryAddToAny%2A> and <xref:System.Collections.Concurrent.BlockingCollection%601.TryTakeFromAny%2A> to implement fast and flexible data transfer between components.  \n  \n## Example  \n The following example demonstrates a basic pipeline implementation in which each object is concurrently taking data from the input collection, transforming it, and passing it to the output collection.  \n  \n [!code-csharp[CDS_BlockingCollection#07](../../../../samples/snippets/csharp/VS_Snippets_Misc/cds_blockingcollection/cs/example07.cs#07)]\n [!code-vb[CDS_BlockingCollection#07](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/cds_blockingcollection/vb/bcpipeline.vb#07)]  \n  \n## See Also  \n <xref:System.Collections.Concurrent?displayProperty=fullName>   \n [Thread-Safe Collections](../../../../docs/standard/collections/thread-safe/index.md)","nodes":[{"pos":[12,85],"content":"How to: Use Arrays of Blocking Collections in a Pipeline | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Use Arrays of Blocking Collections in a Pipeline | Microsoft Docs","pos":[0,73]}]},{"pos":[459,515],"content":"How to: Use Arrays of Blocking Collections in a Pipeline","linkify":"How to: Use Arrays of Blocking Collections in a Pipeline","nodes":[{"content":"How to: Use Arrays of Blocking Collections in a Pipeline","pos":[0,56]}]},{"content":"The following example shows how to use arrays of <ph id=\"ph1\">&lt;xref:System.Collections.Concurrent.BlockingCollection%601?displayProperty=fullName&gt;</ph> objects with static methods such as <ph id=\"ph2\">&lt;xref:System.Collections.Concurrent.BlockingCollection%601.TryAddToAny%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Collections.Concurrent.BlockingCollection%601.TryTakeFromAny%2A&gt;</ph> to implement fast and flexible data transfer between components.","pos":[516,907],"source":"The following example shows how to use arrays of <xref:System.Collections.Concurrent.BlockingCollection%601?displayProperty=fullName> objects with static methods such as <xref:System.Collections.Concurrent.BlockingCollection%601.TryAddToAny%2A> and <xref:System.Collections.Concurrent.BlockingCollection%601.TryTakeFromAny%2A> to implement fast and flexible data transfer between components."},{"pos":[916,923],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates a basic pipeline implementation in which each object is concurrently taking data from the input collection, transforming it, and passing it to the output collection.","pos":[927,1127]},{"pos":[1134,1412],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>CDS_BlockingCollection#07<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Misc/cds_blockingcollection/cs/example07.cs#07)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>CDS_BlockingCollection#07<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/cds_blockingcollection/vb/bcpipeline.vb#07)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[CDS_BlockingCollection#07](../../../../samples/snippets/csharp/VS_Snippets_Misc/cds_blockingcollection/cs/example07.cs#07)]\n [!code-vb[CDS_BlockingCollection#07](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/cds_blockingcollection/vb/bcpipeline.vb#07)]"},{"pos":[1421,1429],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Collections.Concurrent?displayProperty=fullName&gt;</ph>","pos":[1433,1494],"source":"<xref:System.Collections.Concurrent?displayProperty=fullName> "},{"content":"<bpt id=\"p1\"> [</bpt>Thread-Safe Collections<ept id=\"p1\">](../../../../docs/standard/collections/thread-safe/index.md)</ept>","pos":[1498,1584],"source":" [Thread-Safe Collections](../../../../docs/standard/collections/thread-safe/index.md)"}]}