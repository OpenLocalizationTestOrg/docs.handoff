{"content":"---\ntitle: \"<tokenReplayCache>\"\nms.date: \"03/30/2017\"\nms.assetid: 1572ab23-6933-41b5-bfb4-0c4548145500\nauthor: \"BrucePerlerMS\"\n---\n# \\<tokenReplayCache>\nRegisters a token replay cache with a service or a security token handler collection.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<caches>  \n\\<tokenReplayCache>  \n  \n## Syntax  \n  \n```xml  \n<system.identityModel>  \n  <identityConfiguration>  \n    <caches>  \n      <tokenReplayCache type=xs:string>  \n      </tokenReplayCache>  \n    </caches>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|type|A type that derives from the <xref:System.IdentityModel.Tokens.TokenReplayCache> class. For more information about how to specify a custom `type`, see [Custom Type References].\n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<caches>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/caches.md)|Registers the caches used by a service or a security token handler collection.|  \n  \n## Remarks  \n The token replay cache is used to detect replayed tokens. Token replay detection is enabled by the [\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md) element, which also specifies the maximum expiration time for tokens.  \n  \n## Example  \n The following XML shows the configuration of a custom cache for detecting replayed tokens.  \n  \n```xml  \n<caches>  \n  <tokenReplayCache type=\"MyCacheLibrary.MyTokenReplayCache, MyCacheLibrary\">  \n  </tokenReplayCache>  \n</caches>  \n```  \n  \n## See also\n\n- <xref:System.IdentityModel.Tokens.TokenReplayCache>\n- [\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)\n","nodes":[{"pos":[4,126],"embed":true,"restype":"x-metadata","content":"title: \"<tokenReplayCache>\"\nms.date: \"03/30/2017\"\nms.assetid: 1572ab23-6933-41b5-bfb4-0c4548145500\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"<tokenReplayCache>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[133,152],"content":"\\<tokenReplayCache>","linkify":"\\<tokenReplayCache>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>tokenReplayCache&gt;","pos":[0,19],"source":"\\<tokenReplayCache>"}]},{"content":"Registers a token replay cache with a service or a security token handler collection.","pos":[153,238]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[245,268],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[271,295],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>caches&gt;","pos":[298,307],"source":"\\<caches>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>tokenReplayCache&gt;","pos":[310,329],"source":"\\<tokenReplayCache>"},{"pos":[338,344],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[580,603],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[607,687]},{"pos":[697,707],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[714,723]},{"content":"Description","pos":[724,735]},{"content":"type","pos":[778,782]},{"content":"A type that derives from the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Tokens.TokenReplayCache&gt;</ph> class.","pos":[783,870],"source":"A type that derives from the <xref:System.IdentityModel.Tokens.TokenReplayCache> class."},{"content":"For more information about how to specify a custom <ph id=\"ph1\">`type`</ph>, see [Custom Type References].","pos":[871,959],"source":" For more information about how to specify a custom `type`, see [Custom Type References]."},{"pos":[967,981],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[985,989]},{"pos":[999,1014],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1021,1028]},{"content":"Description","pos":[1029,1040]},{"pos":[1081,1188],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>caches&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/caches.md)</ept>","source":"[\\<caches>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/caches.md)"},{"content":"Registers the caches used by a service or a security token handler collection.","pos":[1189,1267]},{"pos":[1277,1284],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The token replay cache is used to detect replayed tokens.","pos":[1288,1345]},{"content":"Token replay detection is enabled by the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>tokenReplayDetection&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)</ept> element, which also specifies the maximum expiration time for tokens.","pos":[1346,1592],"source":" Token replay detection is enabled by the [\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md) element, which also specifies the maximum expiration time for tokens."},{"pos":[1601,1608],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XML shows the configuration of a custom cache for detecting replayed tokens.","pos":[1612,1702]},{"pos":[1856,1864],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1922,2057],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>tokenReplayDetection&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)</ept>","source":"[\\<tokenReplayDetection>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaydetection.md)"}]}