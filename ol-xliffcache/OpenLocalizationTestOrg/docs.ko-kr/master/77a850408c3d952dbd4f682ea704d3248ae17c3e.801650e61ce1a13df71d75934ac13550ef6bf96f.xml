{"content":"---\ntitle: \"Creating WCF AJAX Services without ASP.NET\"\nms.date: \"03/30/2017\"\nms.assetid: ba4a7d1b-e277-4978-9f62-37684e6dc934\n---\n# Creating WCF AJAX Services without ASP.NET\nWindows Communication Foundation (WCF) AJAX services can be accessed from any JavaScript-enabled Web page, without requiring ASP.NET AJAX. This topic describes how to create such a WCF service.  \n  \n For instructions on using WCF with ASP.NET AJAX, see [Creating WCF Services for ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/creating-wcf-services-for-aspnet-ajax.md).  \n  \n There are three parts to a creating a WCF AJAX service:  \n  \n-   Creating an AJAX endpoint that can be accessed from the browser.  \n  \n-   Creating an AJAX-compatible service contract.  \n  \n-   Accessing WCF AJAX services.  \n  \n## Creating an AJAX Endpoint  \n The most basic way to enable AJAX support in a WCF service is to use the <xref:System.ServiceModel.Activation.WebServiceHostFactory> in the .svc file associated with the service, as in the following example.  \n  \n```  \n<%ServiceHost   \n    language=c#  \n    Debug=\"true\"  \n    Service=\"Microsoft.Ajax.Samples.CityService\"  \n    Factory=System.ServiceModel.Activation.WebServiceHostFactory  \n%>  \n```  \n  \n Alternatively, you can also use configuration to add an AJAX endpoint. Use the <xref:System.ServiceModel.WebHttpBinding> on the service endpoint and configure that endpoint with the <xref:System.ServiceModel.Description.WebHttpBehavior> as shown in the following code snippet.  \n  \n```xml  \n<configuration>  \n  <system.serviceModel>  \n    <behaviors>  \n      <endpointBehaviors>  \n        <behavior name=\"AjaxBehavior\">  \n          <webHttp/>  \n        </behavior>  \n      </endpointBehaviors>  \n    </behaviors>  \n    <services>  \n      <service name=\"Microsoft.Ajax.Samples.CityService\">  \n        <endpoint   \n          address=\"ajaxEndpoint\"  \n          behaviorConfiguration=\"AjaxBehavior\"  \n          binding=\"webHttpBinding\"  \n          contract=\"Microsoft.Ajax.Samples.ICityService\" />  \n      </service>  \n    </services>  \n  </system.serviceModel>  \n</configuration>  \n```  \n  \n For a working example, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).  \n  \n## Creating an AJAX-Compatible Service Contract  \n By default, service contracts exposed over an AJAX endpoint return data in the XML format. Also, by default service operations are accessible through HTTP POST requests to URLs that include the endpoint address followed by the operation name, as shown in the following example.  \n  \n```  \n[OperationContract]  \nstring[] GetCities(string firstLetters);  \n```  \n  \n This operation is accessible using an HTTP POST to `http://serviceaddress/endpointaddress/GetCities` and return an XML message.  \n  \n You can use the full Web Programming Model to customize these basic aspects. For example, you can use the <xref:System.ServiceModel.Web.WebGetAttribute> or <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to control the HTTP verb to which the operation responds or use the `UriTemplate` property of these respective attributes to specify custom URIs. For more information, see the [WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md) topic.  \n  \n The JSON data format is often used in AJAX services. To create an operation that returns JSON instead of XML, set the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> (or the <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A>) property to <xref:System.ServiceModel.Web.WebMessageFormat.Json>. The [Stand-Alone JSON Serialization](../../../../docs/framework/wcf/feature-details/stand-alone-json-serialization.md) topic shows how built-in .NET types and data contract types map to JSON.  \n  \n Normally, JSON requests and responses consist of just one item. For the preceding `GetCities` operation, the request resembles the following statement.  \n  \n```  \n\"na\"  \n```  \n  \n The response to that request resembles the following statement.  \n  \n```  \n[\"Nairobi\", \"Naples\", \"Nashville\"]  \n```  \n  \n If the operation takes an extra parameter, the request style must be wrapped to wrap both parameters in a single JSON object. An example of this style JSON message is in the following example.  \n  \n```json  \n{\"firstLetters\": \"na\", \"maxNumber\": 2}  \n```  \n  \n The following contract accepts this message.  \n  \n```  \n[WebInvoke(BodyStyle=WebMessageBodyStyle.WrappedRequest, ResponseFormat=WebMessageFormat.Json)]  \n[OperationContract]  \nstring[] GetCities(string firstLetters, int maxNumber);  \n```  \n  \n## Accessing AJAX Services  \n WCF AJAX endpoints always accept both JSON and XML requests.  \n  \n HTTP POST requests with a content-type of \"application/json\" are treated as JSON, and those with content-type that indicate XML (for example, \"text/xml\") are treated as XML.  \n  \n HTTP GET requests contain all the request parameters in the URL itself.  \n  \n It is up to the user to decide how to create the HTTP request to the endpoint. Also, the user has full control over constructing the JSON that forms the body of the request. For an example of creating a request from JavaScript, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).\n","nodes":[{"pos":[4,126],"embed":true,"restype":"x-metadata","content":"title: \"Creating WCF AJAX Services without ASP.NET\"\nms.date: \"03/30/2017\"\nms.assetid: ba4a7d1b-e277-4978-9f62-37684e6dc934","nodes":[{"content":"Creating WCF AJAX Services without ASP.NET","nodes":[{"pos":[0,42],"content":"Creating WCF AJAX Services without ASP.NET","nodes":[{"content":"Creating WCF AJAX Services without ASP.NET","pos":[0,42]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[133,175],"content":"Creating WCF AJAX Services without ASP.NET","linkify":"Creating WCF AJAX Services without ASP.NET","nodes":[{"content":"Creating WCF AJAX Services without ASP.NET","pos":[0,42]}]},{"content":"Windows Communication Foundation (WCF) AJAX services can be accessed from any JavaScript-enabled Web page, without requiring ASP.NET AJAX.","pos":[176,314]},{"content":"This topic describes how to create such a WCF service.","pos":[315,369]},{"pos":[376,559],"content":"For instructions on using WCF with ASP.NET AJAX, see <bpt id=\"p1\">[</bpt>Creating WCF Services for ASP.NET AJAX<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/creating-wcf-services-for-aspnet-ajax.md)</ept>.","source":"For instructions on using WCF with ASP.NET AJAX, see [Creating WCF Services for ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/creating-wcf-services-for-aspnet-ajax.md)."},{"content":"There are three parts to a creating a WCF AJAX service:","pos":[566,621]},{"content":"Creating an AJAX endpoint that can be accessed from the browser.","pos":[631,695]},{"content":"Creating an AJAX-compatible service contract.","pos":[705,750]},{"content":"Accessing WCF AJAX services.","pos":[760,788]},{"pos":[797,822],"content":"Creating an AJAX Endpoint","linkify":"Creating an AJAX Endpoint","nodes":[{"content":"Creating an AJAX Endpoint","pos":[0,25]}]},{"pos":[826,1033],"content":"The most basic way to enable AJAX support in a WCF service is to use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activation.WebServiceHostFactory&gt;</ph> in the .svc file associated with the service, as in the following example.","source":"The most basic way to enable AJAX support in a WCF service is to use the <xref:System.ServiceModel.Activation.WebServiceHostFactory> in the .svc file associated with the service, as in the following example."},{"content":"Alternatively, you can also use configuration to add an AJAX endpoint.","pos":[1232,1302]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph> on the service endpoint and configure that endpoint with the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior&gt;</ph> as shown in the following code snippet.","pos":[1303,1508],"source":" Use the <xref:System.ServiceModel.WebHttpBinding> on the service endpoint and configure that endpoint with the <xref:System.ServiceModel.Description.WebHttpBehavior> as shown in the following code snippet."},{"pos":[2121,2266],"content":"For a working example, see the <bpt id=\"p1\">[</bpt>AJAX Service with JSON and XML<ept id=\"p1\">](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md)</ept>.","source":"For a working example, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md)."},{"pos":[2275,2319],"content":"Creating an AJAX-Compatible Service Contract","linkify":"Creating an AJAX-Compatible Service Contract","nodes":[{"content":"Creating an AJAX-Compatible Service Contract","pos":[0,44]}]},{"content":"By default, service contracts exposed over an AJAX endpoint return data in the XML format.","pos":[2323,2413]},{"content":"Also, by default service operations are accessible through HTTP POST requests to URLs that include the endpoint address followed by the operation name, as shown in the following example.","pos":[2414,2600]},{"pos":[2687,2814],"content":"This operation is accessible using an HTTP POST to <ph id=\"ph1\">`http://serviceaddress/endpointaddress/GetCities`</ph> and return an XML message.","source":"This operation is accessible using an HTTP POST to `http://serviceaddress/endpointaddress/GetCities` and return an XML message."},{"content":"You can use the full Web Programming Model to customize these basic aspects.","pos":[2821,2897]},{"content":"For example, you can use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph> attributes to control the HTTP verb to which the operation responds or use the <ph id=\"ph3\">`UriTemplate`</ph> property of these respective attributes to specify custom URIs.","pos":[2898,3183],"source":" For example, you can use the <xref:System.ServiceModel.Web.WebGetAttribute> or <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to control the HTTP verb to which the operation responds or use the `UriTemplate` property of these respective attributes to specify custom URIs."},{"content":"For more information, see the <bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)</ept> topic.","pos":[3184,3335],"source":" For more information, see the [WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md) topic."},{"content":"The JSON data format is often used in AJAX services.","pos":[3342,3394]},{"content":"To create an operation that returns JSON instead of XML, set the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A&gt;</ph> (or the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A&gt;</ph>) property to <ph id=\"ph3\">&lt;xref:System.ServiceModel.Web.WebMessageFormat.Json&gt;</ph>.","pos":[3395,3667],"source":" To create an operation that returns JSON instead of XML, set the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> (or the <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A>) property to <xref:System.ServiceModel.Web.WebMessageFormat.Json>."},{"content":"The <bpt id=\"p1\">[</bpt>Stand-Alone JSON Serialization<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/stand-alone-json-serialization.md)</ept> topic shows how built-in .NET types and data contract types map to JSON.","pos":[3668,3859],"source":" The [Stand-Alone JSON Serialization](../../../../docs/framework/wcf/feature-details/stand-alone-json-serialization.md) topic shows how built-in .NET types and data contract types map to JSON."},{"content":"Normally, JSON requests and responses consist of just one item.","pos":[3866,3929]},{"content":"For the preceding <ph id=\"ph1\">`GetCities`</ph> operation, the request resembles the following statement.","pos":[3930,4017],"source":" For the preceding `GetCities` operation, the request resembles the following statement."},{"content":"The response to that request resembles the following statement.","pos":[4046,4109]},{"content":"If the operation takes an extra parameter, the request style must be wrapped to wrap both parameters in a single JSON object.","pos":[4168,4293]},{"content":"An example of this style JSON message is in the following example.","pos":[4294,4360]},{"content":"The following contract accepts this message.","pos":[4427,4471]},{"pos":[4673,4696],"content":"Accessing AJAX Services","linkify":"Accessing AJAX Services","nodes":[{"content":"Accessing AJAX Services","pos":[0,23]}]},{"content":"WCF AJAX endpoints always accept both JSON and XML requests.","pos":[4700,4760]},{"content":"HTTP POST requests with a content-type of \"application/json\" are treated as JSON, and those with content-type that indicate XML (for example, \"text/xml\") are treated as XML.","pos":[4767,4940]},{"content":"HTTP GET requests contain all the request parameters in the URL itself.","pos":[4947,5018]},{"content":"It is up to the user to decide how to create the HTTP request to the endpoint.","pos":[5025,5103]},{"content":"Also, the user has full control over constructing the JSON that forms the body of the request.","pos":[5104,5198]},{"content":"For an example of creating a request from JavaScript, see the <bpt id=\"p1\">[</bpt>AJAX Service with JSON and XML<ept id=\"p1\">](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md)</ept>.","pos":[5199,5375],"source":" For an example of creating a request from JavaScript, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md)."}]}