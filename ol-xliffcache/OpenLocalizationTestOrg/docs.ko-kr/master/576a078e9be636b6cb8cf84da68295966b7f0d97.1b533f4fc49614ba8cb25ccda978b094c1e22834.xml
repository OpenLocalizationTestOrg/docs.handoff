{"content":"---\ntitle: \"when (C# Reference) | Microsoft Docs\"\nms.date: \"2017-03-07\"\nms.prod: .net\nms.technology: \n  - \"devlang-csharp\"\nms.topic: \"article\"\nf1_keywords: \n  - \"when_CSharpKeyword\"\n  - \"when\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"when keyword [C#]\"\nms.assetid: dd543335-ae37-48ac-9560-bd5f047b9aea\ncaps.latest.revision: 30\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n # when (C# Reference)\n\nYou can use the `when` contextual keyword to specify a filter condition in two contexts:\n\n- In the `catch` statement of a [try/catch](try-catch.md) or [try/catch/finally](try-catch-finally.md) block.\n- In the `case` label of a [switch](switch.md) statement.\n\n## `when` in a `catch` statement\n\nStarting with C# 6, `When` can be used in a `catch` statement to specify a condition that must be true for the handler for a specific exception to execute. Its syntax is:\n\n```csharp\ncatch ExceptionType [e] when (expr)\n```\nwhere *expr* is an expression that evaluates to a Boolean value. If it returns `true`, the exception handler executes; if `false`, it does not. \n\nThe following example uses the `when` keyword to conditionally execute handlers for an @System.Net.HttpRequestException depending on the text of the exception message.\n\n [!code-cs[when-with-catch](../../../../samples/snippets/csharp/language-reference/keywords/when/catch.cs)]  \n  \n## `when` in a `switch` statement\n\nStarting with 7, `case` labels no longer need be mutually exclusive, and the order in which `case` labels appear in a `switch` statement can determine which switch block executes. The `when` keyword can be used to specify a filter condition that causes its associated case label to be true only if the filter condition is also true. Its syntax is:\n\n```csharp\ncase (expr) where (when-condition):\n```\nwhere *expr* is a constant pattern or type pattern that is compared to the match expression, and *when-condition* is any Boolean expression. \n\nThe following example uses the `when` keyword to test for `Shape` objects that have an area of zero, as well as to test for a variety of `Shape` objects that have an area greater than zero. \n\n [!code-cs[when-with-case#1](../../../../samples/snippets/csharp/language-reference/keywords/when/when.cs#1)]  \n\n## See also \n  [switch statement](switch.md)  \n  [try/catch statement](try-catch.md)  \n  [try/catch/finally statement](try-catch-finally.md) \n\n","nodes":[{"pos":[12,48],"content":"when (C# Reference) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"when (C# Reference) | Microsoft Docs","pos":[0,36]}]},{"pos":[568,587],"content":"when (C# Reference)","linkify":"when (C# Reference)","nodes":[{"content":"when (C# Reference)","pos":[0,19]}]},{"pos":[589,677],"content":"You can use the <ph id=\"ph1\">`when`</ph> contextual keyword to specify a filter condition in two contexts:","source":"You can use the `when` contextual keyword to specify a filter condition in two contexts:"},{"pos":[681,788],"content":"In the <ph id=\"ph1\">`catch`</ph> statement of a <bpt id=\"p1\">[</bpt>try/catch<ept id=\"p1\">](try-catch.md)</ept> or <bpt id=\"p2\">[</bpt>try/catch/finally<ept id=\"p2\">](try-catch-finally.md)</ept> block.","source":"In the `catch` statement of a [try/catch](try-catch.md) or [try/catch/finally](try-catch-finally.md) block."},{"pos":[791,846],"content":"In the <ph id=\"ph1\">`case`</ph> label of a <bpt id=\"p1\">[</bpt>switch<ept id=\"p1\">](switch.md)</ept> statement.","source":"In the `case` label of a [switch](switch.md) statement."},{"pos":[851,880],"content":"<ph id=\"ph1\">`when`</ph> in a <ph id=\"ph2\">`catch`</ph> statement","linkify":"`when` in a `catch` statement","source":"`when` in a `catch` statement"},{"content":"Starting with C# 6, <ph id=\"ph1\">`When`</ph> can be used in a <ph id=\"ph2\">`catch`</ph> statement to specify a condition that must be true for the handler for a specific exception to execute.","pos":[882,1037],"source":"Starting with C# 6, `When` can be used in a `catch` statement to specify a condition that must be true for the handler for a specific exception to execute."},{"content":"Its syntax is:","pos":[1038,1052]},{"content":"where <bpt id=\"p1\">*</bpt>expr<ept id=\"p1\">*</ept> is an expression that evaluates to a Boolean value.","pos":[1104,1168],"source":"where *expr* is an expression that evaluates to a Boolean value."},{"content":"If it returns <ph id=\"ph1\">`true`</ph>, the exception handler executes; if <ph id=\"ph2\">`false`</ph>, it does not.","pos":[1169,1247],"source":" If it returns `true`, the exception handler executes; if `false`, it does not."},{"pos":[1250,1417],"content":"The following example uses the <ph id=\"ph1\">`when`</ph> keyword to conditionally execute handlers for an <ph id=\"ph2\">@System.Net.HttpRequestException</ph> depending on the text of the exception message.","source":"The following example uses the `when` keyword to conditionally execute handlers for an @System.Net.HttpRequestException depending on the text of the exception message."},{"pos":[1420,1526],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>when-with-catch<ept id=\"p2\">](../../../../samples/snippets/csharp/language-reference/keywords/when/catch.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[when-with-catch](../../../../samples/snippets/csharp/language-reference/keywords/when/catch.cs)]"},{"pos":[1535,1565],"content":"<ph id=\"ph1\">`when`</ph> in a <ph id=\"ph2\">`switch`</ph> statement","linkify":"`when` in a `switch` statement","source":"`when` in a `switch` statement"},{"content":"Starting with 7, <ph id=\"ph1\">`case`</ph> labels no longer need be mutually exclusive, and the order in which <ph id=\"ph2\">`case`</ph> labels appear in a <ph id=\"ph3\">`switch`</ph> statement can determine which switch block executes.","pos":[1567,1746],"source":"Starting with 7, `case` labels no longer need be mutually exclusive, and the order in which `case` labels appear in a `switch` statement can determine which switch block executes."},{"content":"The <ph id=\"ph1\">`when`</ph> keyword can be used to specify a filter condition that causes its associated case label to be true only if the filter condition is also true.","pos":[1747,1899],"source":" The `when` keyword can be used to specify a filter condition that causes its associated case label to be true only if the filter condition is also true."},{"content":"Its syntax is:","pos":[1900,1914]},{"pos":[1966,2106],"content":"where <bpt id=\"p1\">*</bpt>expr<ept id=\"p1\">*</ept> is a constant pattern or type pattern that is compared to the match expression, and <bpt id=\"p2\">*</bpt>when-condition<ept id=\"p2\">*</ept> is any Boolean expression.","source":"where *expr* is a constant pattern or type pattern that is compared to the match expression, and *when-condition* is any Boolean expression."},{"pos":[2109,2298],"content":"The following example uses the <ph id=\"ph1\">`when`</ph> keyword to test for <ph id=\"ph2\">`Shape`</ph> objects that have an area of zero, as well as to test for a variety of <ph id=\"ph3\">`Shape`</ph> objects that have an area greater than zero.","source":"The following example uses the `when` keyword to test for `Shape` objects that have an area of zero, as well as to test for a variety of `Shape` objects that have an area greater than zero."},{"pos":[2302,2410],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>when-with-case#1<ept id=\"p2\">](../../../../samples/snippets/csharp/language-reference/keywords/when/when.cs#1)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[when-with-case#1](../../../../samples/snippets/csharp/language-reference/keywords/when/when.cs#1)]"},{"pos":[2417,2425],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>switch statement<ept id=\"p1\">](switch.md)</ept>","pos":[2429,2458],"source":"[switch statement](switch.md)"},{"content":"<bpt id=\"p1\">  [</bpt>try/catch statement<ept id=\"p1\">](try-catch.md)</ept>","pos":[2461,2498],"source":"  [try/catch statement](try-catch.md)"},{"content":"<bpt id=\"p1\">  [</bpt>try/catch/finally statement<ept id=\"p1\">](try-catch-finally.md)</ept>","pos":[2501,2554],"source":"  [try/catch/finally statement](try-catch-finally.md)"}]}