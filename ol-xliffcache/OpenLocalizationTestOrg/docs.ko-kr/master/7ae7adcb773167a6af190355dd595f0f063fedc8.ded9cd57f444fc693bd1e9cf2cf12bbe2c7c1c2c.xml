{"content":"---\ntitle: \"Firewall Instructions\"\nms.date: \"03/30/2017\"\nms.assetid: a7dc429f-65ac-4faf-974a-77d5fb977fe1\n---\n# Firewall Instructions\nYou must enable several ports or programs in the firewall so that the Windows Communication Foundation (WCF) samples can function. Many of the samples communicate by using ports in the range 8000-8003, and port 9000. The firewall is turned on by default and prevents access to these ports. To enable the firewall for the samples, complete one of the following procedures, depending on your requirements and security environment:  \n  \n-   Option 1: Interactively enable samples while running. Make no advance changes to your firewall configuration and proceed to start building and running the samples. When a sample is run, a **Windows Security Alert** dialog box appears. The sample program in question can then be added interactively to an unblocked list. With this procedure, you may have to then restart the sample.  \n  \n-   Option 2: Enable sample programs in advance. Start the **Windows Firewall Control Panel** applet and enable the sample programs you plan to run. You must build the programs first so the executable files exist. You can find more detailed instructions in the following procedure.  \n  \n-   Option 3: Enable a port range in advance. Start the **Windows Firewall** **Control Panel** applet and enable ports 80, 443, 8000-8003 and 9000, which are used by the samples. You can find more detailed instructions in the following procedure. This option is less secure than the others because it allows any program to use these ports, not just the samples.  \n  \n If you are unsure of which procedure to use, choose the first option. If you are running a firewall from another vendor, you might need to make similar changes.  \n  \n> [!IMPORTANT]\n>  Changing your firewall configuration affects your security. It is recommended that you record the changes you make and remove them when you are finished working with the samples.  \n  \n### To enable samples programs in advance  \n  \n1.  Build the sample.  \n  \n2.  Click **Start**, click **Run**, and type `firewall.cpl`. This opens the **Windows Firewall Control Panel** applet.  \n  \n    > [!NOTE]\n    >  You must have permission to change the Firewall settings to run samples that require the ability to communicate through the Windows Firewall. If some firewall settings are unavailable and your computer is connected to a domain, your system administrator might be controlling these settings through Group Policy.  \n  \n3.  Complete one of the following operating specific steps to allow a program through the Windows Firewall:  \n  \n    -   On Windows 7 or Windows Server 2008 r2, click **Allow a program or feature through Windows Firewall**. Click **Change Settings**, Allow **Another Program…**.  \n  \n    -   On [!INCLUDE[wv](../../../../includes/wv-md.md)] or [!INCLUDE[lserver](../../../../includes/lserver-md.md)], click **Allow a program through Windows Firewall**.  \n  \n4.  On the **Exceptions** tab, click **Add Program**.  \n  \n5.  Click the **Browse** button and select the executable file of the sample you plan to run.  \n  \n6.  Repeat steps 4 and 5 until you have added the executable files of all the samples you plan to run.  \n  \n7.  Click **OK** to close the firewall applet.  \n  \n### To enable a port range in advance  \n  \n1.  Click **Start**, click **Run**, and type `firewall.cpl`. This opens the **Windows Firewall Control Panel** applet.  \n  \n2.  On Windows 7 or Windows Server 2008 R2, follow these steps.  \n  \n    1.  Click **Advanced settings** in the left column of the Windows Firewall window.  \n  \n    2.  Click **Inbound Rules** in the left column.  \n  \n    3.  Click **New Rules** in the right column.  \n  \n    4.  Select **Port** and click **next**.  \n  \n    5.  Select **TCP** and enter `8000, 8001, 8002, 8003, 9000, 80, 443` in the **Specific local ports** field.  \n  \n    6.  Click **Next**.  \n  \n    7.  Select **Allow the connection**, and click **Next** .  \n  \n    8.  Select **Domain** and **Private**, and click **Next**.  \n  \n    9. Name this rule `WCF-WF 4.0 Samples`, and click **Finish**.  \n  \n    10. Click **Outbound Rules** and repeat steps c to h.  \n  \n3.  On [!INCLUDE[wv](../../../../includes/wv-md.md)] or [!INCLUDE[lserver](../../../../includes/lserver-md.md)], follow these steps.  \n  \n    1.  Click **Allow a program through Windows Firewall**.  \n  \n    2.  On the **Exceptions** tab, click **Add Port**.  \n  \n    3.  Enter a name, enter 8000 as the port number, and select the **TCP** option.  \n  \n    4.  Click the **Change Scope** button, select the **My Network** (subnet) only option, and click **OK**.  \n  \n    5.  Repeat steps b to d for ports 8001, 8002, 8003, 9000, 80, and 443.  \n  \n4.  Click **OK** to close the firewall applet.  \n  \n> [!NOTE]\n>  Remove any firewall exceptions when you are finished working with the samples. To do so, open the **Windows Firewall Control Panel** applet and remove any programs or port entries that were added by the previous procedures.\n","nodes":[{"pos":[4,105],"embed":true,"restype":"x-metadata","content":"title: \"Firewall Instructions\"\nms.date: \"03/30/2017\"\nms.assetid: a7dc429f-65ac-4faf-974a-77d5fb977fe1","nodes":[{"content":"Firewall Instructions","nodes":[{"pos":[0,21],"content":"Firewall Instructions","nodes":[{"content":"Firewall Instructions","pos":[0,21]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[112,133],"content":"Firewall Instructions","linkify":"Firewall Instructions","nodes":[{"content":"Firewall Instructions","pos":[0,21]}]},{"content":"You must enable several ports or programs in the firewall so that the Windows Communication Foundation (WCF) samples can function.","pos":[134,264]},{"content":"Many of the samples communicate by using ports in the range 8000-8003, and port 9000.","pos":[265,350]},{"content":"The firewall is turned on by default and prevents access to these ports.","pos":[351,423]},{"content":"To enable the firewall for the samples, complete one of the following procedures, depending on your requirements and security environment:","pos":[424,562]},{"content":"Option 1: Interactively enable samples while running.","pos":[572,625]},{"content":"Make no advance changes to your firewall configuration and proceed to start building and running the samples.","pos":[626,735]},{"content":"When a sample is run, a <bpt id=\"p1\">**</bpt>Windows Security Alert<ept id=\"p1\">**</ept> dialog box appears.","pos":[736,806],"source":" When a sample is run, a **Windows Security Alert** dialog box appears."},{"content":"The sample program in question can then be added interactively to an unblocked list.","pos":[807,891]},{"content":"With this procedure, you may have to then restart the sample.","pos":[892,953]},{"content":"Option 2: Enable sample programs in advance.","pos":[963,1007]},{"content":"Start the <bpt id=\"p1\">**</bpt>Windows Firewall Control Panel<ept id=\"p1\">**</ept> applet and enable the sample programs you plan to run.","pos":[1008,1107],"source":" Start the **Windows Firewall Control Panel** applet and enable the sample programs you plan to run."},{"content":"You must build the programs first so the executable files exist.","pos":[1108,1172]},{"content":"You can find more detailed instructions in the following procedure.","pos":[1173,1240]},{"content":"Option 3: Enable a port range in advance.","pos":[1250,1291]},{"content":"Start the <bpt id=\"p1\">**</bpt>Windows Firewall<ept id=\"p1\">**</ept> <bpt id=\"p2\">**</bpt>Control Panel<ept id=\"p2\">**</ept> applet and enable ports 80, 443, 8000-8003 and 9000, which are used by the samples.","pos":[1292,1424],"source":" Start the **Windows Firewall** **Control Panel** applet and enable ports 80, 443, 8000-8003 and 9000, which are used by the samples."},{"content":"You can find more detailed instructions in the following procedure.","pos":[1425,1492]},{"content":"This option is less secure than the others because it allows any program to use these ports, not just the samples.","pos":[1493,1607]},{"content":"If you are unsure of which procedure to use, choose the first option.","pos":[1614,1683]},{"content":"If you are running a firewall from another vendor, you might need to make similar changes.","pos":[1684,1774]},{"pos":[1782,1976],"content":"[!IMPORTANT]\n Changing your firewall configuration affects your security. It is recommended that you record the changes you make and remove them when you are finished working with the samples.","leadings":["","> "],"nodes":[{"content":"Changing your firewall configuration affects your security. It is recommended that you record the changes you make and remove them when you are finished working with the samples.","pos":[14,192],"nodes":[{"content":"Changing your firewall configuration affects your security.","pos":[0,59]},{"content":"It is recommended that you record the changes you make and remove them when you are finished working with the samples.","pos":[60,178]}]}]},{"pos":[1986,2023],"content":"To enable samples programs in advance","linkify":"To enable samples programs in advance","nodes":[{"content":"To enable samples programs in advance","pos":[0,37]}]},{"content":"Build the sample.","pos":[2033,2050]},{"content":"Click <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Run<ept id=\"p2\">**</ept>, and type <ph id=\"ph1\">`firewall.cpl`</ph>.","pos":[2060,2116],"source":"Click **Start**, click **Run**, and type `firewall.cpl`."},{"content":"This opens the <bpt id=\"p1\">**</bpt>Windows Firewall Control Panel<ept id=\"p1\">**</ept> applet.","pos":[2117,2174],"source":" This opens the **Windows Firewall Control Panel** applet."},{"pos":[2186,2512],"content":"[!NOTE]\nYou must have permission to change the Firewall settings to run samples that require the ability to communicate through the Windows Firewall. If some firewall settings are unavailable and your computer is connected to a domain, your system administrator might be controlling these settings through Group Policy.","leadings":["","    >  "],"nodes":[{"content":"You must have permission to change the Firewall settings to run samples that require the ability to communicate through the Windows Firewall. If some firewall settings are unavailable and your computer is connected to a domain, your system administrator might be controlling these settings through Group Policy.","pos":[8,319],"nodes":[{"content":"You must have permission to change the Firewall settings to run samples that require the ability to communicate through the Windows Firewall.","pos":[0,141]},{"content":"If some firewall settings are unavailable and your computer is connected to a domain, your system administrator might be controlling these settings through Group Policy.","pos":[142,311]}]}]},{"content":"Complete one of the following operating specific steps to allow a program through the Windows Firewall:","pos":[2522,2625]},{"content":"On Windows 7 or Windows Server 2008 r2, click <bpt id=\"p1\">**</bpt>Allow a program or feature through Windows Firewall<ept id=\"p1\">**</ept>.","pos":[2639,2741],"source":"On Windows 7 or Windows Server 2008 r2, click **Allow a program or feature through Windows Firewall**."},{"content":"Click <bpt id=\"p1\">**</bpt>Change Settings<ept id=\"p1\">**</ept>, Allow <bpt id=\"p2\">**</bpt>Another Program…<ept id=\"p2\">**</ept>.","pos":[2742,2796],"source":" Click **Change Settings**, Allow **Another Program…**."},{"pos":[2810,2970],"content":"On <ph id=\"ph1\">[!INCLUDE[wv](../../../../includes/wv-md.md)]</ph> or <ph id=\"ph2\">[!INCLUDE[lserver](../../../../includes/lserver-md.md)]</ph>, click <bpt id=\"p1\">**</bpt>Allow a program through Windows Firewall<ept id=\"p1\">**</ept>.","source":"On [!INCLUDE[wv](../../../../includes/wv-md.md)] or [!INCLUDE[lserver](../../../../includes/lserver-md.md)], click **Allow a program through Windows Firewall**."},{"pos":[2980,3029],"content":"On the <bpt id=\"p1\">**</bpt>Exceptions<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Add Program<ept id=\"p2\">**</ept>.","source":"On the **Exceptions** tab, click **Add Program**."},{"pos":[3039,3128],"content":"Click the <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> button and select the executable file of the sample you plan to run.","source":"Click the **Browse** button and select the executable file of the sample you plan to run."},{"content":"Repeat steps 4 and 5 until you have added the executable files of all the samples you plan to run.","pos":[3138,3236]},{"pos":[3246,3288],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to close the firewall applet.","source":"Click **OK** to close the firewall applet."},{"pos":[3298,3331],"content":"To enable a port range in advance","linkify":"To enable a port range in advance","nodes":[{"content":"To enable a port range in advance","pos":[0,33]}]},{"content":"Click <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Run<ept id=\"p2\">**</ept>, and type <ph id=\"ph1\">`firewall.cpl`</ph>.","pos":[3341,3397],"source":"Click **Start**, click **Run**, and type `firewall.cpl`."},{"content":"This opens the <bpt id=\"p1\">**</bpt>Windows Firewall Control Panel<ept id=\"p1\">**</ept> applet.","pos":[3398,3455],"source":" This opens the **Windows Firewall Control Panel** applet."},{"content":"On Windows 7 or Windows Server 2008 R2, follow these steps.","pos":[3465,3524]},{"pos":[3538,3616],"content":"Click <bpt id=\"p1\">**</bpt>Advanced settings<ept id=\"p1\">**</ept> in the left column of the Windows Firewall window.","source":"Click **Advanced settings** in the left column of the Windows Firewall window."},{"pos":[3630,3673],"content":"Click <bpt id=\"p1\">**</bpt>Inbound Rules<ept id=\"p1\">**</ept> in the left column.","source":"Click **Inbound Rules** in the left column."},{"pos":[3687,3727],"content":"Click <bpt id=\"p1\">**</bpt>New Rules<ept id=\"p1\">**</ept> in the right column.","source":"Click **New Rules** in the right column."},{"pos":[3741,3776],"content":"Select <bpt id=\"p1\">**</bpt>Port<ept id=\"p1\">**</ept> and click <bpt id=\"p2\">**</bpt>next<ept id=\"p2\">**</ept>.","source":"Select **Port** and click **next**."},{"pos":[3790,3893],"content":"Select <bpt id=\"p1\">**</bpt>TCP<ept id=\"p1\">**</ept> and enter <ph id=\"ph1\">`8000, 8001, 8002, 8003, 9000, 80, 443`</ph> in the <bpt id=\"p2\">**</bpt>Specific local ports<ept id=\"p2\">**</ept> field.","source":"Select **TCP** and enter `8000, 8001, 8002, 8003, 9000, 80, 443` in the **Specific local ports** field."},{"pos":[3907,3922],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","source":"Click **Next**."},{"pos":[3936,3989],"content":"Select <bpt id=\"p1\">**</bpt>Allow the connection<ept id=\"p1\">**</ept>, and click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept> .","source":"Select **Allow the connection**, and click **Next** ."},{"pos":[4003,4057],"content":"Select <bpt id=\"p1\">**</bpt>Domain<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Private<ept id=\"p2\">**</ept>, and click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>.","source":"Select **Domain** and **Private**, and click **Next**."},{"pos":[4070,4128],"content":"Name this rule <ph id=\"ph1\">`WCF-WF 4.0 Samples`</ph>, and click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.","source":"Name this rule `WCF-WF 4.0 Samples`, and click **Finish**."},{"pos":[4142,4191],"content":"Click <bpt id=\"p1\">**</bpt>Outbound Rules<ept id=\"p1\">**</ept> and repeat steps c to h.","source":"Click **Outbound Rules** and repeat steps c to h."},{"pos":[4201,4329],"content":"On <ph id=\"ph1\">[!INCLUDE[wv](../../../../includes/wv-md.md)]</ph> or <ph id=\"ph2\">[!INCLUDE[lserver](../../../../includes/lserver-md.md)]</ph>, follow these steps.","source":"On [!INCLUDE[wv](../../../../includes/wv-md.md)] or [!INCLUDE[lserver](../../../../includes/lserver-md.md)], follow these steps."},{"pos":[4343,4394],"content":"Click <bpt id=\"p1\">**</bpt>Allow a program through Windows Firewall<ept id=\"p1\">**</ept>.","source":"Click **Allow a program through Windows Firewall**."},{"pos":[4408,4454],"content":"On the <bpt id=\"p1\">**</bpt>Exceptions<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Add Port<ept id=\"p2\">**</ept>.","source":"On the **Exceptions** tab, click **Add Port**."},{"pos":[4468,4543],"content":"Enter a name, enter 8000 as the port number, and select the <bpt id=\"p1\">**</bpt>TCP<ept id=\"p1\">**</ept> option.","source":"Enter a name, enter 8000 as the port number, and select the **TCP** option."},{"pos":[4557,4657],"content":"Click the <bpt id=\"p1\">**</bpt>Change Scope<ept id=\"p1\">**</ept> button, select the <bpt id=\"p2\">**</bpt>My Network<ept id=\"p2\">**</ept> (subnet) only option, and click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","source":"Click the **Change Scope** button, select the **My Network** (subnet) only option, and click **OK**."},{"content":"Repeat steps b to d for ports 8001, 8002, 8003, 9000, 80, and 443.","pos":[4671,4737]},{"pos":[4747,4789],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to close the firewall applet.","source":"Click **OK** to close the firewall applet."},{"pos":[4797,5031],"content":"[!NOTE]\n Remove any firewall exceptions when you are finished working with the samples. To do so, open the **Windows Firewall Control Panel** applet and remove any programs or port entries that were added by the previous procedures.","leadings":["","> "],"nodes":[{"content":"Remove any firewall exceptions when you are finished working with the samples. To do so, open the **Windows Firewall Control Panel** applet and remove any programs or port entries that were added by the previous procedures.","pos":[9,232],"nodes":[{"content":"Remove any firewall exceptions when you are finished working with the samples.","pos":[0,78]},{"content":"To do so, open the <bpt id=\"p1\">**</bpt>Windows Firewall Control Panel<ept id=\"p1\">**</ept> applet and remove any programs or port entries that were added by the previous procedures.","pos":[79,223],"source":" To do so, open the **Windows Firewall Control Panel** applet and remove any programs or port entries that were added by the previous procedures."}]}]}]}