{"content":"---\ntitle: \"WorkFlow Service Registration Tool (WFServicesReg.exe)\"\nms.date: \"03/30/2017\"\nms.assetid: 9e92c87b-99c5-4e8d-9d53-7944cc2b47d3\n---\n# WorkFlow Service Registration Tool (WFServicesReg.exe)\nWorkflow Services Registration tool (WFServicesReg.exe) is a stand-alone tool that can be used to add, remove, or repair the configuration elements for Windows Workflow Foundation (WF) services.  \n  \n## Syntax  \n  \n```  \nWFServicesReg.exe [-c | -r | -v | -m | -i]  \n```  \n  \n## Remarks  \n The tool can be found at the [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] installation location, specifically, %windir%\\Microsoft.NET\\Framework\\v3.5, or at %windir%\\Microsoft.NET\\Framework64\\v3.5 in 64-bit machines.  \n  \n The following tables describe the options that can be used with the Workflow Services Registration tool (WFServicesReg.exe).  \n  \n|Option|Description|  \n|------------|-----------------|  \n|`/c`|Configures Windows Workflow Services. Used in install and repair scenarios.|  \n|`/r`|Removes Windows Workflow Services Configuration.|  \n|`/v`|Print verbose information (for either configuration or removal).|  \n|`/m`|Enables MSI logging format.|  \n|`/i`|Minimizes the window when the application runs.|  \n  \n## Registration  \n The tool inspects the Web.config file and registers the following:  \n  \n-   [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] reference assemblies.  \n  \n-   A build provider for .xoml files.  \n  \n-   HTTP handlers for .xoml and .rules files.  \n  \n The tool inspects the Machine.config file and registers the following extensions:  \n  \n-   behaviorExtensions  \n  \n-   bindingElementExtensions  \n  \n-   bindingExtensions  \n  \n The tool also registers the following client metadata importers:  \n  \n-   policyImporters  \n  \n-   wsdlImporters  \n  \n The tool also registers .xoml and .rules scriptmaps and handlers in the IIS metabase.  \n  \n On [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../includes/wxp-md.md)] machines (IIS 5.1 and [!INCLUDE[iis601](../../../includes/iis601-md.md)]), one set of .xoml and .rules scriptmaps are registered.  \n  \n On 64-bit machines, the tool registers WOW mode scriptmaps if the `Enable32BitAppOnWin64` switch is enabled, or native 64-bit scriptmaps if the `Enable32BitAppOnWin64` switch is disabled.  \n  \n On [!INCLUDE[wv](../../../includes/wv-md.md)] and Windows Server 2008 (IIS 7.0 and above) machines, two sets of .xoml and .rules handlers are registered: one for Integrated mode and one for Classic mode.  \n  \n On 64-bit machines, three sets of handlers are registered (regardless of the state of the `Enable32BitAppOnWin64` switch): one for Integrated mode, one for WOW Classic mode and one for native 64-bit Classic mode.  \n  \n> [!NOTE]\n>  Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site. For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.  \n  \n## Usage Scenarios  \n  \n### Installing IIS after .NET Framework 3.5 is installed  \n On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed prior to IIS installation. Due to the unavailability of the IIS metabase, installation of [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] succeeds without installing .xoml and .rules scriptmaps.  \n  \n After IIS is installed, you can use the WFServicesReg.exe tool with the `/c` switch to install these specific scriptmaps.  \n  \n### Repairing the Scriptmaps  \n  \n#### Scriptmap deleted under Web Sites node  \n On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from the Web Sites node. This can be repaired by running the WFServicesReg.exe tool with the `/c` switch.  \n  \n#### Scriptmap deleted under a particular Web site  \n On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from a particular Web site (for example, the Default Web Site) rather than from the Web Sites node.  \n  \n To repair deleted handlers for a particular Web site, you should run \"WFServicesReg.exe /r\" to remove handlers from all Web sites, then run \"WFServicesReg.exe /c\" to create the appropriate handlers for all Web sites.  \n  \n### Configuring handlers after switching IIS mode  \n When IIS is in shared configuration mode and [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed, the IIS metabase is configured under a shared location. If you switch IIS to non-shared configuration mode, the local metabase will not contain the required handlers. To configure the local metabase properly, you can either import the shared metabase to local, or run \"WFServicesReg.exe /c\", which configures the local metabase.\n","nodes":[{"pos":[4,138],"embed":true,"restype":"x-metadata","content":"title: \"WorkFlow Service Registration Tool (WFServicesReg.exe)\"\nms.date: \"03/30/2017\"\nms.assetid: 9e92c87b-99c5-4e8d-9d53-7944cc2b47d3","nodes":[{"content":"WorkFlow Service Registration Tool (WFServicesReg.exe)","nodes":[{"pos":[0,54],"content":"WorkFlow Service Registration Tool (WFServicesReg.exe)","nodes":[{"content":"WorkFlow Service Registration Tool (WFServicesReg.exe)","pos":[0,54]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[145,199],"content":"WorkFlow Service Registration Tool (WFServicesReg.exe)","linkify":"WorkFlow Service Registration Tool (WFServicesReg.exe)","nodes":[{"content":"WorkFlow Service Registration Tool (WFServicesReg.exe)","pos":[0,54]}]},{"content":"Workflow Services Registration tool (WFServicesReg.exe) is a stand-alone tool that can be used to add, remove, or repair the configuration elements for Windows Workflow Foundation (WF) services.","pos":[200,394]},{"pos":[403,409],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[478,485],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[489,724],"content":"The tool can be found at the <ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> installation location, specifically, %windir%\\Microsoft.NET\\Framework\\v3.5, or at %windir%\\Microsoft.NET\\Framework64\\v3.5 in 64-bit machines.","source":"The tool can be found at the [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] installation location, specifically, %windir%\\Microsoft.NET\\Framework\\v3.5, or at %windir%\\Microsoft.NET\\Framework64\\v3.5 in 64-bit machines."},{"content":"The following tables describe the options that can be used with the Workflow Services Registration tool (WFServicesReg.exe).","pos":[731,855]},{"content":"Option","pos":[862,868]},{"content":"Description","pos":[869,880]},{"content":"Configures Windows Workflow Services.","pos":[925,962]},{"content":"Used in install and repair scenarios.","pos":[963,1000]},{"content":"Removes Windows Workflow Services Configuration.","pos":[1010,1058]},{"content":"Print verbose information (for either configuration or removal).","pos":[1068,1132]},{"content":"Enables MSI logging format.","pos":[1142,1169]},{"content":"Minimizes the window when the application runs.","pos":[1179,1226]},{"pos":[1236,1248],"content":"Registration","linkify":"Registration","nodes":[{"content":"Registration","pos":[0,12]}]},{"content":"The tool inspects the Web.config file and registers the following:","pos":[1252,1318]},{"pos":[1328,1414],"content":"<ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> reference assemblies.","source":"[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] reference assemblies."},{"content":"A build provider for .xoml files.","pos":[1424,1457]},{"content":"HTTP handlers for .xoml and .rules files.","pos":[1467,1508]},{"content":"The tool inspects the Machine.config file and registers the following extensions:","pos":[1515,1596]},{"content":"behaviorExtensions","pos":[1606,1624]},{"content":"bindingElementExtensions","pos":[1634,1658]},{"content":"bindingExtensions","pos":[1668,1685]},{"content":"The tool also registers the following client metadata importers:","pos":[1692,1756]},{"content":"policyImporters","pos":[1766,1781]},{"content":"wsdlImporters","pos":[1791,1804]},{"content":"The tool also registers .xoml and .rules scriptmaps and handlers in the IIS metabase.","pos":[1811,1896]},{"pos":[1903,2135],"content":"On <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wxp](../../../includes/wxp-md.md)]</ph> machines (IIS 5.1 and <ph id=\"ph3\">[!INCLUDE[iis601](../../../includes/iis601-md.md)]</ph>), one set of .xoml and .rules scriptmaps are registered.","source":"On [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../includes/wxp-md.md)] machines (IIS 5.1 and [!INCLUDE[iis601](../../../includes/iis601-md.md)]), one set of .xoml and .rules scriptmaps are registered."},{"pos":[2142,2329],"content":"On 64-bit machines, the tool registers WOW mode scriptmaps if the <ph id=\"ph1\">`Enable32BitAppOnWin64`</ph> switch is enabled, or native 64-bit scriptmaps if the <ph id=\"ph2\">`Enable32BitAppOnWin64`</ph> switch is disabled.","source":"On 64-bit machines, the tool registers WOW mode scriptmaps if the `Enable32BitAppOnWin64` switch is enabled, or native 64-bit scriptmaps if the `Enable32BitAppOnWin64` switch is disabled."},{"pos":[2336,2539],"content":"On <ph id=\"ph1\">[!INCLUDE[wv](../../../includes/wv-md.md)]</ph> and Windows Server 2008 (IIS 7.0 and above) machines, two sets of .xoml and .rules handlers are registered: one for Integrated mode and one for Classic mode.","source":"On [!INCLUDE[wv](../../../includes/wv-md.md)] and Windows Server 2008 (IIS 7.0 and above) machines, two sets of .xoml and .rules handlers are registered: one for Integrated mode and one for Classic mode."},{"pos":[2546,2758],"content":"On 64-bit machines, three sets of handlers are registered (regardless of the state of the <ph id=\"ph1\">`Enable32BitAppOnWin64`</ph> switch): one for Integrated mode, one for WOW Classic mode and one for native 64-bit Classic mode.","source":"On 64-bit machines, three sets of handlers are registered (regardless of the state of the `Enable32BitAppOnWin64` switch): one for Integrated mode, one for WOW Classic mode and one for native 64-bit Classic mode."},{"pos":[2766,2994],"content":"[!NOTE]\n Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site. For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.","leadings":["","> "],"nodes":[{"content":"Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site. For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.","pos":[9,226],"nodes":[{"content":"Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site.","pos":[0,141]},{"content":"For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.","pos":[142,217]}]}]},{"pos":[3003,3018],"content":"Usage Scenarios","linkify":"Usage Scenarios","nodes":[{"content":"Usage Scenarios","pos":[0,15]}]},{"pos":[3028,3080],"content":"Installing IIS after .NET Framework 3.5 is installed","linkify":"Installing IIS after .NET Framework 3.5 is installed","nodes":[{"content":"Installing IIS after .NET Framework 3.5 is installed","pos":[0,52]}]},{"content":"On a <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> machine, <ph id=\"ph2\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> is installed prior to IIS installation.","pos":[3084,3253],"source":"On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed prior to IIS installation."},{"content":"Due to the unavailability of the IIS metabase, installation of <ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> succeeds without installing .xoml and .rules scriptmaps.","pos":[3254,3438],"source":" Due to the unavailability of the IIS metabase, installation of [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] succeeds without installing .xoml and .rules scriptmaps."},{"pos":[3445,3566],"content":"After IIS is installed, you can use the WFServicesReg.exe tool with the <ph id=\"ph1\">`/c`</ph> switch to install these specific scriptmaps.","source":"After IIS is installed, you can use the WFServicesReg.exe tool with the `/c` switch to install these specific scriptmaps."},{"pos":[3576,3600],"content":"Repairing the Scriptmaps","linkify":"Repairing the Scriptmaps","nodes":[{"content":"Repairing the Scriptmaps","pos":[0,24]}]},{"pos":[3611,3649],"content":"Scriptmap deleted under Web Sites node","linkify":"Scriptmap deleted under Web Sites node","nodes":[{"content":"Scriptmap deleted under Web Sites node","pos":[0,38]}]},{"content":"On a <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> machine, .xoml or .rules is accidentally deleted from the Web Sites node.","pos":[3653,3782],"source":"On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from the Web Sites node."},{"content":"This can be repaired by running the WFServicesReg.exe tool with the <ph id=\"ph1\">`/c`</ph> switch.","pos":[3783,3863],"source":" This can be repaired by running the WFServicesReg.exe tool with the `/c` switch."},{"pos":[3874,3919],"content":"Scriptmap deleted under a particular Web site","linkify":"Scriptmap deleted under a particular Web site","nodes":[{"content":"Scriptmap deleted under a particular Web site","pos":[0,45]}]},{"pos":[3923,4127],"content":"On a <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> machine, .xoml or .rules is accidentally deleted from a particular Web site (for example, the Default Web Site) rather than from the Web Sites node.","source":"On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from a particular Web site (for example, the Default Web Site) rather than from the Web Sites node."},{"content":"To repair deleted handlers for a particular Web site, you should run \"WFServicesReg.exe /r\" to remove handlers from all Web sites, then run \"WFServicesReg.exe /c\" to create the appropriate handlers for all Web sites.","pos":[4134,4350]},{"pos":[4360,4405],"content":"Configuring handlers after switching IIS mode","linkify":"Configuring handlers after switching IIS mode","nodes":[{"content":"Configuring handlers after switching IIS mode","pos":[0,45]}]},{"content":"When IIS is in shared configuration mode and <ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> is installed, the IIS metabase is configured under a shared location.","pos":[4409,4588],"source":"When IIS is in shared configuration mode and [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed, the IIS metabase is configured under a shared location."},{"content":"If you switch IIS to non-shared configuration mode, the local metabase will not contain the required handlers.","pos":[4589,4699]},{"content":"To configure the local metabase properly, you can either import the shared metabase to local, or run \"WFServicesReg.exe /c\", which configures the local metabase.","pos":[4700,4861]}]}