{"content":"---\ntitle: \"Supporting Multiple IIS Site Bindings | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 40440495-254d-45c8-a8c6-b29f364892ba\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Supporting Multiple IIS Site Bindings\nWhen hosting a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service under Internet Information Services (IIS) 7.0, you may want to provide multiple base addresses that use the same protocol on the same site. This allows the same service to respond to a number of different URIs. This is useful when you want to host a service that listens on http://www.contoso.com and http://contoso.com. It is also useful to create a service that has a base address for internal users and a separate base address for external users. For example: http://internal.contoso.com and http://www.contoso.com.  \n  \n> [!NOTE]\n>  This functionality is only available using the HTTP protocol.  \n  \n## Multiple Base Addresses  \n This feature is only available to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services that are hosted under IIS. This feature is not enabled by default. To enable it you must add the `multipleSiteBindingsEnabled` attribute to the <`serviceHostingEnvironment`> element in your Web.config file and set it to `true`, as shown in the following example.  \n  \n```xml  \n<serviceHostingEnvironment multipleSiteBindingsEnabled=\"true\"/>  \n```  \n  \n When hosting a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service under IIS, IIS creates one base address for you based on the URI to the virtual directory that contains the application. You can add additional base addresses that use the same protocol by using Internet Information Services Manager to add one or more bindings to your Web site. For each binding specify a protocol (HTTP or HTTPS), an IP address, a port, and a host name. [!INCLUDE[crabout](../../../../includes/crabout-md.md)] using Internet Information Services Manager, see [IIS Manager (IIS 7)](http://go.microsoft.com/fwlink/?LinkId=164057). [!INCLUDE[crabout](../../../../includes/crabout-md.md)] adding bindings to a site, see [Create a Web Site (IIS 7)](http://go.microsoft.com/fwlink/?LinkId=164060)  \n  \n Specifying multiple base addresses for the same site affects the content of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Help page, importing schema, and the WSDL/MEX information generated by the service. The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Help page displays the command line to use to generate a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client that can communicate with the service. This command line contains only the first address specified in the IIS binding for the Web site. Similarly when importing schema, only the first base address specified in the IIS binding is used. WSDL and MEX data contain all the base addresses specified in the IIS bindings.  \n  \n> [!WARNING]\n>  This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.","nodes":[{"pos":[12,66],"content":"Supporting Multiple IIS Site Bindings | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Supporting Multiple IIS Site Bindings | Microsoft Docs","pos":[0,54]}]},{"pos":[364,401],"content":"Supporting Multiple IIS Site Bindings","linkify":"Supporting Multiple IIS Site Bindings","nodes":[{"content":"Supporting Multiple IIS Site Bindings","pos":[0,37]}]},{"content":"When hosting a <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> service under Internet Information Services (IIS) 7.0, you may want to provide multiple base addresses that use the same protocol on the same site.","pos":[402,620],"source":"When hosting a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service under Internet Information Services (IIS) 7.0, you may want to provide multiple base addresses that use the same protocol on the same site."},{"content":"This allows the same service to respond to a number of different URIs.","pos":[621,691]},{"content":"This is useful when you want to host a service that listens on http://www.contoso.com and http://contoso.com.","pos":[692,801]},{"content":"It is also useful to create a service that has a base address for internal users and a separate base address for external users.","pos":[802,930]},{"content":"For example: http://internal.contoso.com and http://www.contoso.com.","pos":[931,999]},{"pos":[1007,1079],"content":"[!NOTE]\n This functionality is only available using the HTTP protocol.","leadings":["","> "],"nodes":[{"content":"This functionality is only available using the HTTP protocol.","pos":[9,70]}]},{"pos":[1088,1111],"content":"Multiple Base Addresses","linkify":"Multiple Base Addresses","nodes":[{"content":"Multiple Base Addresses","pos":[0,23]}]},{"content":"This feature is only available to <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> services that are hosted under IIS.","pos":[1115,1240],"source":"This feature is only available to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services that are hosted under IIS."},{"content":"This feature is not enabled by default.","pos":[1241,1280]},{"content":"To enable it you must add the <ph id=\"ph1\">`multipleSiteBindingsEnabled`</ph> attribute to the &lt;<ph id=\"ph2\">`serviceHostingEnvironment`</ph>&gt; element in your Web.config file and set it to <ph id=\"ph3\">`true`</ph>, as shown in the following example.","pos":[1281,1476],"source":" To enable it you must add the `multipleSiteBindingsEnabled` attribute to the <`serviceHostingEnvironment`> element in your Web.config file and set it to `true`, as shown in the following example."},{"content":"When hosting a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service under IIS, IIS creates one base address for you based on the URI to the virtual directory that contains the application.","pos":[1567,1766],"source":"When hosting a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service under IIS, IIS creates one base address for you based on the URI to the virtual directory that contains the application."},{"content":"You can add additional base addresses that use the same protocol by using Internet Information Services Manager to add one or more bindings to your Web site.","pos":[1767,1924]},{"content":"For each binding specify a protocol (HTTP or HTTPS), an IP address, a port, and a host name.","pos":[1925,2017]},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> using Internet Information Services Manager, see <bpt id=\"p1\">[</bpt>IIS Manager (IIS 7)<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=164057)</ept>.","pos":[2018,2192],"source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] using Internet Information Services Manager, see [IIS Manager (IIS 7)](http://go.microsoft.com/fwlink/?LinkId=164057)."},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> adding bindings to a site, see <bpt id=\"p1\">[</bpt>Create a Web Site (IIS 7)<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=164060)</ept>","pos":[2193,2354],"source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] adding bindings to a site, see [Create a Web Site (IIS 7)](http://go.microsoft.com/fwlink/?LinkId=164060)"},{"content":"Specifying multiple base addresses for the same site affects the content of the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> Help page, importing schema, and the WSDL/MEX information generated by the service.","pos":[2361,2580],"source":"Specifying multiple base addresses for the same site affects the content of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Help page, importing schema, and the WSDL/MEX information generated by the service."},{"content":"The <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> Help page displays the command line to use to generate a <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client that can communicate with the service.","pos":[2581,2799],"source":" The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Help page displays the command line to use to generate a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client that can communicate with the service."},{"content":"This command line contains only the first address specified in the IIS binding for the Web site.","pos":[2800,2896]},{"content":"Similarly when importing schema, only the first base address specified in the IIS binding is used.","pos":[2897,2995]},{"content":"WSDL and MEX data contain all the base addresses specified in the IIS bindings.","pos":[2996,3075]},{"pos":[3083,3273],"content":"[!WARNING]\n This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.","leadings":["","> "],"nodes":[{"content":"This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.","pos":[12,188]}]}]}