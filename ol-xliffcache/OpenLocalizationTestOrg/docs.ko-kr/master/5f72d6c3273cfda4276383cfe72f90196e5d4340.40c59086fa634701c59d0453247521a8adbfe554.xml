{"content":"---\ntitle: \"ComponentResourceKey Markup Extension\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"ComponentResourceKey\"\n  - \"ComponentResourceKeyExtension\"\nhelpviewer_keywords: \n  - \"ComponentResourceKey markup extension [WPF]\"\n  - \"XAML [WPF], ComponentResourceKey markup extension\"\nms.assetid: d6bcdbe6-61b3-40a7-b381-4e02185b5a85\n---\n# ComponentResourceKey Markup Extension\nDefines and references keys for resources that are loaded from external assemblies. This enables a resource lookup to specify a target type in an assembly, rather than an explicit resource dictionary in an assembly or on a class.  \n  \n## XAML Attribute Usage (setting key, compact)  \n  \n```xml  \n<object x:Key=\"{ComponentResourceKey {x:Type targetTypeName}, targetID}\" .../>  \n```  \n  \n## XAML Attribute Usage (setting key, verbose)  \n  \n```xml  \n<object x:Key=\"{ComponentResourceKey TypeInTargetAssembly={x:Type targetTypeName}, ResourceID=targetID}\" .../>  \n```  \n  \n## XAML Attribute Usage (requesting resource, compact)  \n  \n```xml  \n<object property=\"{DynamicResource {ComponentResourceKey {x:Type targetTypeName}, targetID}}\" .../>  \n```  \n  \n## XAML Attribute Usage (requesting resource, verbose)  \n  \n```xml  \n<object property=\"{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type targetTypeName}, ResourceID=targetID}}\" .../>  \n```  \n  \n## XAML Values  \n  \n|||  \n|-|-|  \n|`targetTypeName`|The name of the public [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] type that is defined in the resource assembly.|  \n|`targetID`|The key for the resource. When resources are looked up, `targetID` will be analogous to the [x:Key Directive](../../xaml-services/x-key-directive.md) of the resource.|  \n  \n## Remarks  \n As seen in the usages above, a {`ComponentResourceKey`} markup extension usage is found in two places:  \n  \n-   The definition of a key within a theme resource dictionary, as provided by a control author.  \n  \n-   Accessing a theme resource from the assembly, when you are retemplating the control but want to use property values that come from resources provided by the control's themes.  \n  \n For referencing component resources that come from themes, it is generally recommended that you use `{DynamicResource}` rather than `{StaticResource}`. This is shown in the usages. `{DynamicResource}` is recommended because the theme itself can be changed by the user. If you want the component resource that most closely matches the control author's intent for supporting a theme, you should enable your component resource reference to be dynamic also.  \n  \n The <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> identifies a type that exists in the target assembly where the resource is actually defined. A `ComponentResourceKey` can be defined and used independently of knowing exactly where the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> is defined, but eventually must resolve the type through referenced assemblies.  \n  \n A common usage for <xref:System.Windows.ComponentResourceKey> is to define keys that are then exposed as members of a class. For this usage, you use the <xref:System.Windows.ComponentResourceKey> class constructor, not the markup extension. For more information, see <xref:System.Windows.ComponentResourceKey>, or the \"Defining and Referencing Keys for Theme Resources\" section of the topic [Control Authoring Overview](../controls/control-authoring-overview.md).  \n  \n For both establishing keys and referencing keyed resources, attribute syntax is commonly used for the `ComponentResourceKey` markup extension.  \n  \n The compact syntax shown relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A?displayProperty=nameWithType> constructor signature and positional parameter usage of a markup extension. The order in which the `targetTypeName` and `targetID` are given is important. The verbose syntax relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A?displayProperty=nameWithType> default constructor, and then sets the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> in a way that is analogous to a true attribute syntax on an object element. In the verbose syntax, the order in which the properties are set is not important. The relationship and mechanisms of these two alternatives (compact and verbose) is described in more detail in the topic [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).  \n  \n Technically, the value for `targetID` can be any object, it does not have to be a string. However, the most common usage in WPF is to align the `targetID` value with forms that are strings, and where such strings are valid in the [XamlName Grammar](../../xaml-services/xamlname-grammar.md).  \n  \n `ComponentResourceKey` can be used in object element syntax. In this case, specifying the value of both the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> properties is required to properly initialize the extension.  \n  \n In the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] reader implementation, the handling for this markup extension is defined by the <xref:System.Windows.ComponentResourceKey> class.  \n  \n `ComponentResourceKey` is a markup extension. Markup extensions are typically implemented when there is a requirement to escape attribute values to be other than literal values or handler names, and the requirement is more global than just putting type converters on certain types or properties. All markup extensions in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] use the { and } characters in their attribute syntax, which is the convention by which a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor recognizes that a markup extension must process the attribute. For more information, see [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).  \n  \n## See also\n\n- <xref:System.Windows.ComponentResourceKey>\n- <xref:System.Windows.Controls.ControlTemplate>\n- [Control Authoring Overview](../controls/control-authoring-overview.md)\n- [XAML Overview (WPF)](xaml-overview-wpf.md)\n- [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md)\n","nodes":[{"pos":[4,326],"embed":true,"restype":"x-metadata","content":"title: \"ComponentResourceKey Markup Extension\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"ComponentResourceKey\"\n  - \"ComponentResourceKeyExtension\"\nhelpviewer_keywords: \n  - \"ComponentResourceKey markup extension [WPF]\"\n  - \"XAML [WPF], ComponentResourceKey markup extension\"\nms.assetid: d6bcdbe6-61b3-40a7-b381-4e02185b5a85","nodes":[{"content":"ComponentResourceKey Markup Extension","nodes":[{"pos":[0,37],"content":"ComponentResourceKey Markup Extension","nodes":[{"content":"ComponentResourceKey Markup Extension","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[333,370],"content":"ComponentResourceKey Markup Extension","linkify":"ComponentResourceKey Markup Extension","nodes":[{"content":"ComponentResourceKey Markup Extension","pos":[0,37]}]},{"content":"Defines and references keys for resources that are loaded from external assemblies.","pos":[371,454]},{"content":"This enables a resource lookup to specify a target type in an assembly, rather than an explicit resource dictionary in an assembly or on a class.","pos":[455,600]},{"pos":[609,652],"content":"XAML Attribute Usage (setting key, compact)","linkify":"XAML Attribute Usage (setting key, compact)","nodes":[{"content":"XAML Attribute Usage (setting key, compact)","pos":[0,43]}]},{"pos":[760,803],"content":"XAML Attribute Usage (setting key, verbose)","linkify":"XAML Attribute Usage (setting key, verbose)","nodes":[{"content":"XAML Attribute Usage (setting key, verbose)","pos":[0,43]}]},{"pos":[943,994],"content":"XAML Attribute Usage (requesting resource, compact)","linkify":"XAML Attribute Usage (requesting resource, compact)","nodes":[{"content":"XAML Attribute Usage (requesting resource, compact)","pos":[0,51]}]},{"pos":[1123,1174],"content":"XAML Attribute Usage (requesting resource, verbose)","linkify":"XAML Attribute Usage (requesting resource, verbose)","nodes":[{"content":"XAML Attribute Usage (requesting resource, verbose)","pos":[0,51]}]},{"pos":[1335,1346],"content":"XAML Values","linkify":"XAML Values","nodes":[{"content":"XAML Values","pos":[0,11]}]},{"pos":[1384,1521],"content":"The name of the public <ph id=\"ph1\">[!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)]</ph> type that is defined in the resource assembly.","source":"The name of the public [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] type that is defined in the resource assembly."},{"content":"The key for the resource.","pos":[1537,1562]},{"content":"When resources are looked up, <ph id=\"ph1\">`targetID`</ph> will be analogous to the <bpt id=\"p1\">[</bpt>x:Key Directive<ept id=\"p1\">](../../xaml-services/x-key-directive.md)</ept> of the resource.","pos":[1563,1703],"source":" When resources are looked up, `targetID` will be analogous to the [x:Key Directive](../../xaml-services/x-key-directive.md) of the resource."},{"pos":[1713,1720],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1724,1826],"content":"As seen in the usages above, a {<ph id=\"ph1\">`ComponentResourceKey`</ph>} markup extension usage is found in two places:","source":"As seen in the usages above, a {`ComponentResourceKey`} markup extension usage is found in two places:"},{"content":"The definition of a key within a theme resource dictionary, as provided by a control author.","pos":[1836,1928]},{"content":"Accessing a theme resource from the assembly, when you are retemplating the control but want to use property values that come from resources provided by the control's themes.","pos":[1938,2112]},{"content":"For referencing component resources that come from themes, it is generally recommended that you use <ph id=\"ph1\">`{DynamicResource}`</ph> rather than <ph id=\"ph2\">`{StaticResource}`</ph>.","pos":[2119,2270],"source":"For referencing component resources that come from themes, it is generally recommended that you use `{DynamicResource}` rather than `{StaticResource}`."},{"content":"This is shown in the usages.","pos":[2271,2299]},{"content":"<ph id=\"ph1\">`{DynamicResource}`</ph> is recommended because the theme itself can be changed by the user.","pos":[2300,2387],"source":"`{DynamicResource}` is recommended because the theme itself can be changed by the user."},{"content":"If you want the component resource that most closely matches the control author's intent for supporting a theme, you should enable your component resource reference to be dynamic also.","pos":[2388,2572]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A&gt;</ph> identifies a type that exists in the target assembly where the resource is actually defined.","pos":[2579,2742],"source":"The <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> identifies a type that exists in the target assembly where the resource is actually defined."},{"content":"A <ph id=\"ph1\">`ComponentResourceKey`</ph> can be defined and used independently of knowing exactly where the <ph id=\"ph2\">&lt;xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A&gt;</ph> is defined, but eventually must resolve the type through referenced assemblies.","pos":[2743,2981],"source":" A `ComponentResourceKey` can be defined and used independently of knowing exactly where the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> is defined, but eventually must resolve the type through referenced assemblies."},{"content":"A common usage for <ph id=\"ph1\">&lt;xref:System.Windows.ComponentResourceKey&gt;</ph> is to define keys that are then exposed as members of a class.","pos":[2988,3112],"source":"A common usage for <xref:System.Windows.ComponentResourceKey> is to define keys that are then exposed as members of a class."},{"content":"For this usage, you use the <ph id=\"ph1\">&lt;xref:System.Windows.ComponentResourceKey&gt;</ph> class constructor, not the markup extension.","pos":[3113,3228],"source":" For this usage, you use the <xref:System.Windows.ComponentResourceKey> class constructor, not the markup extension."},{"content":"For more information, see <ph id=\"ph1\">&lt;xref:System.Windows.ComponentResourceKey&gt;</ph>, or the \"Defining and Referencing Keys for Theme Resources\" section of the topic <bpt id=\"p1\">[</bpt>Control Authoring Overview<ept id=\"p1\">](../controls/control-authoring-overview.md)</ept>.","pos":[3229,3451],"source":" For more information, see <xref:System.Windows.ComponentResourceKey>, or the \"Defining and Referencing Keys for Theme Resources\" section of the topic [Control Authoring Overview](../controls/control-authoring-overview.md)."},{"pos":[3458,3600],"content":"For both establishing keys and referencing keyed resources, attribute syntax is commonly used for the <ph id=\"ph1\">`ComponentResourceKey`</ph> markup extension.","source":"For both establishing keys and referencing keyed resources, attribute syntax is commonly used for the `ComponentResourceKey` markup extension."},{"content":"The compact syntax shown relies on the <ph id=\"ph1\">&lt;xref:System.Windows.ComponentResourceKey.%23ctor%2A?displayProperty=nameWithType&gt;</ph> constructor signature and positional parameter usage of a markup extension.","pos":[3607,3804],"source":"The compact syntax shown relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A?displayProperty=nameWithType> constructor signature and positional parameter usage of a markup extension."},{"content":"The order in which the <ph id=\"ph1\">`targetTypeName`</ph> and <ph id=\"ph2\">`targetID`</ph> are given is important.","pos":[3805,3883],"source":" The order in which the `targetTypeName` and `targetID` are given is important."},{"content":"The verbose syntax relies on the <ph id=\"ph1\">&lt;xref:System.Windows.ComponentResourceKey.%23ctor%2A?displayProperty=nameWithType&gt;</ph> default constructor, and then sets the <ph id=\"ph2\">&lt;xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Windows.ComponentResourceKey.ResourceId%2A&gt;</ph> in a way that is analogous to a true attribute syntax on an object element.","pos":[3884,4242],"source":" The verbose syntax relies on the <xref:System.Windows.ComponentResourceKey.%23ctor%2A?displayProperty=nameWithType> default constructor, and then sets the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> in a way that is analogous to a true attribute syntax on an object element."},{"content":"In the verbose syntax, the order in which the properties are set is not important.","pos":[4243,4325]},{"content":"The relationship and mechanisms of these two alternatives (compact and verbose) is described in more detail in the topic <bpt id=\"p1\">[</bpt>Markup Extensions and WPF XAML<ept id=\"p1\">](markup-extensions-and-wpf-xaml.md)</ept>.","pos":[4326,4515],"source":" The relationship and mechanisms of these two alternatives (compact and verbose) is described in more detail in the topic [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md)."},{"content":"Technically, the value for <ph id=\"ph1\">`targetID`</ph> can be any object, it does not have to be a string.","pos":[4522,4611],"source":"Technically, the value for `targetID` can be any object, it does not have to be a string."},{"content":"However, the most common usage in WPF is to align the <ph id=\"ph1\">`targetID`</ph> value with forms that are strings, and where such strings are valid in the <bpt id=\"p1\">[</bpt>XamlName Grammar<ept id=\"p1\">](../../xaml-services/xamlname-grammar.md)</ept>.","pos":[4612,4812],"source":" However, the most common usage in WPF is to align the `targetID` value with forms that are strings, and where such strings are valid in the [XamlName Grammar](../../xaml-services/xamlname-grammar.md)."},{"content":"<ph id=\"ph1\">`ComponentResourceKey`</ph> can be used in object element syntax.","pos":[4819,4879],"source":"`ComponentResourceKey` can be used in object element syntax."},{"content":"In this case, specifying the value of both the <ph id=\"ph1\">&lt;xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.ComponentResourceKey.ResourceId%2A&gt;</ph> properties is required to properly initialize the extension.","pos":[4880,5115],"source":" In this case, specifying the value of both the <xref:System.Windows.ComponentResourceKey.TypeInTargetAssembly%2A> and <xref:System.Windows.ComponentResourceKey.ResourceId%2A> properties is required to properly initialize the extension."},{"pos":[5122,5412],"content":"In the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> reader implementation, the handling for this markup extension is defined by the <ph id=\"ph3\">&lt;xref:System.Windows.ComponentResourceKey&gt;</ph> class.","source":"In the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] reader implementation, the handling for this markup extension is defined by the <xref:System.Windows.ComponentResourceKey> class."},{"content":"<ph id=\"ph1\">`ComponentResourceKey`</ph> is a markup extension.","pos":[5419,5464],"source":"`ComponentResourceKey` is a markup extension."},{"content":"Markup extensions are typically implemented when there is a requirement to escape attribute values to be other than literal values or handler names, and the requirement is more global than just putting type converters on certain types or properties.","pos":[5465,5714]},{"content":"All markup extensions in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> use the { and } characters in their attribute syntax, which is the convention by which a <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> processor recognizes that a markup extension must process the attribute.","pos":[5715,6045],"source":" All markup extensions in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] use the { and } characters in their attribute syntax, which is the convention by which a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor recognizes that a markup extension must process the attribute."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Markup Extensions and WPF XAML<ept id=\"p1\">](markup-extensions-and-wpf-xaml.md)</ept>.","pos":[6046,6140],"source":" For more information, see [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md)."},{"pos":[6149,6157],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6255,6326],"content":"<bpt id=\"p1\">[</bpt>Control Authoring Overview<ept id=\"p1\">](../controls/control-authoring-overview.md)</ept>","source":"[Control Authoring Overview](../controls/control-authoring-overview.md)"},{"pos":[6329,6372],"content":"<bpt id=\"p1\">[</bpt>XAML Overview (WPF)<ept id=\"p1\">](xaml-overview-wpf.md)</ept>","source":"[XAML Overview (WPF)](xaml-overview-wpf.md)"},{"pos":[6375,6442],"content":"<bpt id=\"p1\">[</bpt>Markup Extensions and WPF XAML<ept id=\"p1\">](markup-extensions-and-wpf-xaml.md)</ept>","source":"[Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md)"}]}