{"content":"---\ntitle: \"JSON Serialization\"\nms.date: \"03/30/2017\"\nms.assetid: 3c2c4747-7510-4bdf-b4fe-64f98428ef4a\n---\n# JSON Serialization\nThis sample demonstrates how to use the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> to serialize and deserialize data in the JavaScript Object Notation (JSON) format. This serialization engine converts JSON data into instances of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types and back into JSON data. <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> supports the same types as <xref:System.Runtime.Serialization.DataContractSerializer>. The JSON data format is especially useful when writing Asynchronous JavaScript and XML (AJAX)-style Web applications. AJAX support in Windows Communication Foundation (WCF) is optimized for use with ASP.NET AJAX through the ScriptManager control. For examples of how to use Windows Communication Foundation (WCF) with ASP.NET AJAX, see the [AJAX Samples](ajax.md).  \n  \n> [!NOTE]\n>  The set-up procedure and build instructions for this sample are located at the end of this topic.  \n  \n The sample uses a `Person` data contract to demonstrate serialization and deserialization.  \n\n```csharp\n[DataContract]\nclass Person\n{\n    [DataMember]\n    internal string name;\n\n    [DataMember]\n    internal int age;\n}\n```\n\n To serialize an instance of the `Person` type to JSON, create the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> first and use the `WriteObject` method to write JSON data to a stream.  \n\n```csharp\nPerson p = new Person();\n//Set up Person object...\nMemoryStream stream1 = new MemoryStream();\nDataContractJsonSerializer ser = new DataContractJsonSerializer(typeof(Person));\nser.WriteObject(stream1, p);\n```\n\n The memory stream contains valid JSON data.\n  \n```json  \n{\"age\":42,\"name\":\"John\"}  \n```  \n  \n The sample demonstrates deserializing from JSON data into an object. You then rewind the stream and call `ReadObject`.  \n\n```csharp\nPerson p2 = (Person)ser.ReadObject(stream1);\n```\n\n Examining the `p2` object reveals that the JSON data has been deserialized correctly.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Ajax\\JsonSerialization`  \n  \n#### To set up, build and run the sample  \n  \n1.  Build the solution JsonSerialization.sln as described in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n2.  Run the resulting console application.  \n","nodes":[{"pos":[4,102],"embed":true,"restype":"x-metadata","content":"title: \"JSON Serialization\"\nms.date: \"03/30/2017\"\nms.assetid: 3c2c4747-7510-4bdf-b4fe-64f98428ef4a","nodes":[{"content":"JSON Serialization","nodes":[{"pos":[0,18],"content":"JSON Serialization","nodes":[{"content":"JSON Serialization","pos":[0,18]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[109,127],"content":"JSON Serialization","linkify":"JSON Serialization","nodes":[{"content":"JSON Serialization","pos":[0,18]}]},{"content":"This sample demonstrates how to use the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.Json.DataContractJsonSerializer&gt;</ph> to serialize and deserialize data in the JavaScript Object Notation (JSON) format.","pos":[128,318],"source":"This sample demonstrates how to use the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> to serialize and deserialize data in the JavaScript Object Notation (JSON) format."},{"content":"This serialization engine converts JSON data into instances of <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> types and back into JSON data.","pos":[319,476],"source":" This serialization engine converts JSON data into instances of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types and back into JSON data."},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.Json.DataContractJsonSerializer&gt;</ph> supports the same types as <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph>.","pos":[477,631],"source":"<xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> supports the same types as <xref:System.Runtime.Serialization.DataContractSerializer>."},{"content":"The JSON data format is especially useful when writing Asynchronous JavaScript and XML (AJAX)-style Web applications.","pos":[632,749]},{"content":"AJAX support in Windows Communication Foundation (WCF) is optimized for use with ASP.NET AJAX through the ScriptManager control.","pos":[750,878]},{"content":"For examples of how to use Windows Communication Foundation (WCF) with ASP.NET AJAX, see the <bpt id=\"p1\">[</bpt>AJAX Samples<ept id=\"p1\">](ajax.md)</ept>.","pos":[879,996],"source":" For examples of how to use Windows Communication Foundation (WCF) with ASP.NET AJAX, see the [AJAX Samples](ajax.md)."},{"pos":[1004,1112],"content":"[!NOTE]\n The set-up procedure and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The set-up procedure and build instructions for this sample are located at the end of this topic.","pos":[9,106]}]},{"pos":[1119,1209],"content":"The sample uses a <ph id=\"ph1\">`Person`</ph> data contract to demonstrate serialization and deserialization.","source":"The sample uses a `Person` data contract to demonstrate serialization and deserialization."},{"pos":[1344,1548],"content":"To serialize an instance of the <ph id=\"ph1\">`Person`</ph> type to JSON, create the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.Json.DataContractJsonSerializer&gt;</ph> first and use the <ph id=\"ph3\">`WriteObject`</ph> method to write JSON data to a stream.","source":"To serialize an instance of the `Person` type to JSON, create the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> first and use the `WriteObject` method to write JSON data to a stream."},{"content":"The memory stream contains valid JSON data.","pos":[1772,1815]},{"content":"The sample demonstrates deserializing from JSON data into an object.","pos":[1866,1934]},{"content":"You then rewind the stream and call <ph id=\"ph1\">`ReadObject`</ph>.","pos":[1935,1984],"source":" You then rewind the stream and call `ReadObject`."},{"pos":[2049,2134],"content":"Examining the <ph id=\"ph1\">`p2`</ph> object reveals that the JSON data has been deserialized correctly.","source":"Examining the `p2` object reveals that the JSON data has been deserialized correctly."},{"pos":[2142,2274],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2328,2638],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2639,2689]},{"pos":[2776,2811],"content":"To set up, build and run the sample","linkify":"To set up, build and run the sample","nodes":[{"content":"To set up, build and run the sample","pos":[0,35]}]},{"pos":[2821,2998],"content":"Build the solution JsonSerialization.sln as described in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"Build the solution JsonSerialization.sln as described in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"content":"Run the resulting console application.","pos":[3008,3046]}]}