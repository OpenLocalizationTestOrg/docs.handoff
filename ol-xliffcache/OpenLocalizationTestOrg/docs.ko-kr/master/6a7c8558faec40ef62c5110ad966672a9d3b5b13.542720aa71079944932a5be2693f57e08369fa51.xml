{"content":"---\ntitle: \"WorkFlow Service Registration Tool (WFServicesReg.exe) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 9e92c87b-99c5-4e8d-9d53-7944cc2b47d3\ncaps.latest.revision: 7\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# WorkFlow Service Registration Tool (WFServicesReg.exe)\nWorkflow Services Registration tool (WFServicesReg.exe) is a stand-alone tool that can be used to add, remove, or repair the configuration elements for Windows Workflow Foundation (WF) services.  \n  \n## Syntax  \n  \n```  \n  \nWFServicesReg.exe [-c | -r | -v | -m | -i]  \n```  \n  \n## Remarks  \n The tool can be found at the [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] installation location, specifically, %windir%\\Microsoft.NET\\Framework\\v3.5, or at %windir%\\Microsoft.NET\\Framework64\\v3.5 in 64-bit machines.  \n  \n The following tables describe the options that can be used with the Workflow Services Registration tool (WFServicesReg.exe).  \n  \n|Option|Description|  \n|------------|-----------------|  \n|`/c`|Configures Windows Workflow Services. Used in install and repair scenarios.|  \n|`/r`|Removes Windows Workflow Services Configuration.|  \n|`/v`|Print verbose information (for either configuration or removal).|  \n|`/m`|Enables MSI logging format.|  \n|`/i`|Minimizes the window when the application runs.|  \n  \n## Registration  \n The tool inspects the Web.config file and registers the following:  \n  \n-   [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] reference assemblies.  \n  \n-   A build provider for .xoml files.  \n  \n-   HTTP handlers for .xoml and .rules files.  \n  \n The tool inspects the Machine.config file and registers the following extensions:  \n  \n-   behaviorExtensions  \n  \n-   bindingElementExtensions  \n  \n-   bindingExtensions  \n  \n The tool also registers the following client metadata importers:  \n  \n-   policyImporters  \n  \n-   wsdlImporters  \n  \n The tool also registers .xoml and .rules scriptmaps and handlers in the IIS metabase.  \n  \n On [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../includes/wxp-md.md)] machines (IIS 5.1 and [!INCLUDE[iis601](../../../includes/iis601-md.md)]), one set of .xoml and .rules scriptmaps are registered.  \n  \n On 64-bit machines, the tool registers WOW mode scriptmaps if the `Enable32BitAppOnWin64` switch is enabled, or native 64-bit scriptmaps if the `Enable32BitAppOnWin64` switch is disabled.  \n  \n On [!INCLUDE[wv](../../../includes/wv-md.md)] and Windows Server 2008 (IIS 7.0 and above) machines, two sets of .xoml and .rules handlers are registered: one for Integrated mode and one for Classic mode.  \n  \n On 64-bit machines, three sets of handlers are registered (regardless of the state of the `Enable32BitAppOnWin64` switch): one for Integrated mode, one for WOW Classic mode and one for native 64-bit Classic mode.  \n  \n> [!NOTE]\n>  Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site. For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.  \n  \n## Usage Scenarios  \n  \n### Installing IIS after .NET Framework 3.5 is installed  \n On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed prior to IIS installation. Due to the unavailability of the IIS metabase, installation of [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] succeeds without installing .xoml and .rules scriptmaps.  \n  \n After IIS is installed, you can use the WFServicesReg.exe tool with the `/c` switch to install these specific scriptmaps.  \n  \n### Repairing the Scriptmaps  \n  \n#### Scriptmap deleted under Web Sites node  \n On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from the Web Sites node. This can be repaired by running the WFServicesReg.exe tool with the `/c` switch.  \n  \n#### Scriptmap deleted under a particular Web site  \n On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from a particular Web site (for example, the Default Web Site) rather than from the Web Sites node.  \n  \n To repair deleted handlers for a particular Web site, you should run \"WFServicesReg.exe /r\" to remove handlers from all Web sites, then run \"WFServicesReg.exe /c\" to create the appropriate handlers for all Web sites.  \n  \n### Configuring handlers after switching IIS mode  \n When IIS is in shared configuration mode and [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed, the IIS metabase is configured under a shared location. If you switch IIS to non-shared configuration mode, the local metabase will not contain the required handlers. To configure the local metabase properly, you can either import the shared metabase to local, or run \"WFServicesReg.exe /c\", which configures the local metabase.","nodes":[{"pos":[12,83],"content":"WorkFlow Service Registration Tool (WFServicesReg.exe) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"WorkFlow Service Registration Tool (WFServicesReg.exe) | Microsoft Docs","pos":[0,71]}]},{"pos":[381,435],"content":"WorkFlow Service Registration Tool (WFServicesReg.exe)","linkify":"WorkFlow Service Registration Tool (WFServicesReg.exe)","nodes":[{"content":"WorkFlow Service Registration Tool (WFServicesReg.exe)","pos":[0,54]}]},{"content":"Workflow Services Registration tool (WFServicesReg.exe) is a stand-alone tool that can be used to add, remove, or repair the configuration elements for Windows Workflow Foundation (WF) services.","pos":[436,630]},{"pos":[639,645],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[717,724],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[728,963],"content":"The tool can be found at the <ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> installation location, specifically, %windir%\\Microsoft.NET\\Framework\\v3.5, or at %windir%\\Microsoft.NET\\Framework64\\v3.5 in 64-bit machines.","source":"The tool can be found at the [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] installation location, specifically, %windir%\\Microsoft.NET\\Framework\\v3.5, or at %windir%\\Microsoft.NET\\Framework64\\v3.5 in 64-bit machines."},{"content":"The following tables describe the options that can be used with the Workflow Services Registration tool (WFServicesReg.exe).","pos":[970,1094]},{"content":"Option","pos":[1101,1107]},{"content":"Description","pos":[1108,1119]},{"content":"Configures Windows Workflow Services.","pos":[1164,1201]},{"content":"Used in install and repair scenarios.","pos":[1202,1239]},{"content":"Removes Windows Workflow Services Configuration.","pos":[1249,1297]},{"content":"Print verbose information (for either configuration or removal).","pos":[1307,1371]},{"content":"Enables MSI logging format.","pos":[1381,1408]},{"content":"Minimizes the window when the application runs.","pos":[1418,1465]},{"pos":[1475,1487],"content":"Registration","linkify":"Registration","nodes":[{"content":"Registration","pos":[0,12]}]},{"content":"The tool inspects the Web.config file and registers the following:","pos":[1491,1557]},{"pos":[1567,1653],"content":"<ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> reference assemblies.","source":"[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] reference assemblies."},{"content":"A build provider for .xoml files.","pos":[1663,1696]},{"content":"HTTP handlers for .xoml and .rules files.","pos":[1706,1747]},{"content":"The tool inspects the Machine.config file and registers the following extensions:","pos":[1754,1835]},{"content":"behaviorExtensions","pos":[1845,1863]},{"content":"bindingElementExtensions","pos":[1873,1897]},{"content":"bindingExtensions","pos":[1907,1924]},{"content":"The tool also registers the following client metadata importers:","pos":[1931,1995]},{"content":"policyImporters","pos":[2005,2020]},{"content":"wsdlImporters","pos":[2030,2043]},{"content":"The tool also registers .xoml and .rules scriptmaps and handlers in the IIS metabase.","pos":[2050,2135]},{"pos":[2142,2374],"content":"On <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wxp](../../../includes/wxp-md.md)]</ph> machines (IIS 5.1 and <ph id=\"ph3\">[!INCLUDE[iis601](../../../includes/iis601-md.md)]</ph>), one set of .xoml and .rules scriptmaps are registered.","source":"On [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../includes/wxp-md.md)] machines (IIS 5.1 and [!INCLUDE[iis601](../../../includes/iis601-md.md)]), one set of .xoml and .rules scriptmaps are registered."},{"pos":[2381,2568],"content":"On 64-bit machines, the tool registers WOW mode scriptmaps if the <ph id=\"ph1\">`Enable32BitAppOnWin64`</ph> switch is enabled, or native 64-bit scriptmaps if the <ph id=\"ph2\">`Enable32BitAppOnWin64`</ph> switch is disabled.","source":"On 64-bit machines, the tool registers WOW mode scriptmaps if the `Enable32BitAppOnWin64` switch is enabled, or native 64-bit scriptmaps if the `Enable32BitAppOnWin64` switch is disabled."},{"pos":[2575,2778],"content":"On <ph id=\"ph1\">[!INCLUDE[wv](../../../includes/wv-md.md)]</ph> and Windows Server 2008 (IIS 7.0 and above) machines, two sets of .xoml and .rules handlers are registered: one for Integrated mode and one for Classic mode.","source":"On [!INCLUDE[wv](../../../includes/wv-md.md)] and Windows Server 2008 (IIS 7.0 and above) machines, two sets of .xoml and .rules handlers are registered: one for Integrated mode and one for Classic mode."},{"pos":[2785,2997],"content":"On 64-bit machines, three sets of handlers are registered (regardless of the state of the <ph id=\"ph1\">`Enable32BitAppOnWin64`</ph> switch): one for Integrated mode, one for WOW Classic mode and one for native 64-bit Classic mode.","source":"On 64-bit machines, three sets of handlers are registered (regardless of the state of the `Enable32BitAppOnWin64` switch): one for Integrated mode, one for WOW Classic mode and one for native 64-bit Classic mode."},{"pos":[3005,3233],"content":"[!NOTE]\n Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site. For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.","leadings":["","> "],"nodes":[{"content":" Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site. For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.","pos":[8,226],"nodes":[{"content":"Unlike ServiceModelreg.exe, WFServicesReg.exe does not allow adding, removing, or repairing scriptmaps or handlers for a particular Web site.","pos":[1,142]},{"content":"For a workaround to this issue, see the \"Repairing the Scriptmaps\" section.","pos":[143,218]}]}]},{"pos":[3242,3257],"content":"Usage Scenarios","linkify":"Usage Scenarios","nodes":[{"content":"Usage Scenarios","pos":[0,15]}]},{"pos":[3267,3319],"content":"Installing IIS after .NET Framework 3.5 is installed","linkify":"Installing IIS after .NET Framework 3.5 is installed","nodes":[{"content":"Installing IIS after .NET Framework 3.5 is installed","pos":[0,52]}]},{"content":"On a <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> machine, <ph id=\"ph2\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> is installed prior to IIS installation.","pos":[3323,3492],"source":"On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed prior to IIS installation."},{"content":"Due to the unavailability of the IIS metabase, installation of <ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> succeeds without installing .xoml and .rules scriptmaps.","pos":[3493,3677],"source":" Due to the unavailability of the IIS metabase, installation of [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] succeeds without installing .xoml and .rules scriptmaps."},{"pos":[3684,3805],"content":"After IIS is installed, you can use the WFServicesReg.exe tool with the <ph id=\"ph1\">`/c`</ph> switch to install these specific scriptmaps.","source":"After IIS is installed, you can use the WFServicesReg.exe tool with the `/c` switch to install these specific scriptmaps."},{"pos":[3815,3839],"content":"Repairing the Scriptmaps","linkify":"Repairing the Scriptmaps","nodes":[{"content":"Repairing the Scriptmaps","pos":[0,24]}]},{"pos":[3850,3888],"content":"Scriptmap deleted under Web Sites node","linkify":"Scriptmap deleted under Web Sites node","nodes":[{"content":"Scriptmap deleted under Web Sites node","pos":[0,38]}]},{"content":"On a <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> machine, .xoml or .rules is accidentally deleted from the Web Sites node.","pos":[3892,4021],"source":"On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from the Web Sites node."},{"content":"This can be repaired by running the WFServicesReg.exe tool with the <ph id=\"ph1\">`/c`</ph> switch.","pos":[4022,4102],"source":" This can be repaired by running the WFServicesReg.exe tool with the `/c` switch."},{"pos":[4113,4158],"content":"Scriptmap deleted under a particular Web site","linkify":"Scriptmap deleted under a particular Web site","nodes":[{"content":"Scriptmap deleted under a particular Web site","pos":[0,45]}]},{"pos":[4162,4366],"content":"On a <ph id=\"ph1\">[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]</ph> machine, .xoml or .rules is accidentally deleted from a particular Web site (for example, the Default Web Site) rather than from the Web Sites node.","source":"On a [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] machine, .xoml or .rules is accidentally deleted from a particular Web site (for example, the Default Web Site) rather than from the Web Sites node."},{"content":"To repair deleted handlers for a particular Web site, you should run \"WFServicesReg.exe /r\" to remove handlers from all Web sites, then run \"WFServicesReg.exe /c\" to create the appropriate handlers for all Web sites.","pos":[4373,4589]},{"pos":[4599,4644],"content":"Configuring handlers after switching IIS mode","linkify":"Configuring handlers after switching IIS mode","nodes":[{"content":"Configuring handlers after switching IIS mode","pos":[0,45]}]},{"content":"When IIS is in shared configuration mode and <ph id=\"ph1\">[!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)]</ph> is installed, the IIS metabase is configured under a shared location.","pos":[4648,4827],"source":"When IIS is in shared configuration mode and [!INCLUDE[netfx35_short](../../../includes/netfx35-short-md.md)] is installed, the IIS metabase is configured under a shared location."},{"content":"If you switch IIS to non-shared configuration mode, the local metabase will not contain the required handlers.","pos":[4828,4938]},{"content":"To configure the local metabase properly, you can either import the shared metabase to local, or run \"WFServicesReg.exe /c\", which configures the local metabase.","pos":[4939,5100]}]}