{"content":"---\ntitle: \"-reference (C# Compiler Options)\"\nms.date: 07/20/2015\nf1_keywords: \n  - \"/reference\"\nhelpviewer_keywords: \n  - \"/r compiler option [C#]\"\n  - \"reference compiler option [C#]\"\n  - \"r compiler option [C#]\"\n  - \"/reference compiler option [C#]\"\n  - \"-r compiler option [C#]\"\n  - \"metadata import [C#]\"\n  - \"public type information [C#]\"\n  - \"-reference compiler option [C#]\"\nms.assetid: 8d13e5b0-abf6-4c46-bf71-2daf2cd0a6c4\n---\n# -reference (C# Compiler Options)\nThe **-reference** option causes the compiler to import [public](../../../csharp/language-reference/keywords/public.md) type information in the specified file into the current project, thus enabling you to reference metadata from the specified assembly files.  \n  \n## Syntax  \n  \n```console  \n-reference:[alias=]filename  \n-reference:filename  \n```  \n  \n## Arguments  \n `filename`  \n The name of a file that contains an assembly manifest. To import more than one file, include a separate **-reference** option for each file.  \n  \n `alias`  \n A valid C# identifier that will represent a root namespace that will contain all namespaces in the assembly.  \n  \n## Remarks  \n To import from more than one file, include a **-reference** option for each file.  \n  \n The files you import must contain a manifest; the output file must have been compiled with one of the [-target](../../../csharp/language-reference/compiler-options/target-compiler-option.md) options other than [-target:module](../../../csharp/language-reference/compiler-options/target-module-compiler-option.md).  \n  \n **-r** is the short form of **-reference**.  \n  \n Use [-addmodule](../../../csharp/language-reference/compiler-options/addmodule-compiler-option.md) to import metadata from an output file that does not contain an assembly manifest.  \n  \n If you reference an assembly (Assembly A) that references another assembly (Assembly B), you will need to reference Assembly B if:  \n  \n-   A type you use from Assembly A inherits from a type or implements an interface from Assembly B.  \n  \n-   You invoke a field, property, event, or method that has a return type or parameter type from Assembly B.  \n  \n Use [-lib](../../../csharp/language-reference/compiler-options/lib-compiler-option.md) to specify the directory in which one or more of your assembly references is located. The **-lib** topic also discusses the directories in which the compiler searches for assemblies.  \n  \n In order for the compiler to recognize a type in an assembly, and not in a module, it needs to be forced to resolve the type, which you can do by defining an instance of the type. There are other ways to resolve type names in an assembly for the compiler: for example, if you inherit from a type in an assembly, the type name will then be recognized by the compiler.  \n  \n Sometimes it is necessary to reference two different versions of the same component from within one assembly. To do this, use the alias suboption on the **-reference** switch for each file to distinguish between the two files. This alias will be used as a qualifier for the component name, and will resolve to the component in one of the files.  \n  \n The csc response (.rsp) file, which references commonly used .NET Framework assemblies, is used by default. Use [-noconfig](../../../csharp/language-reference/compiler-options/noconfig-compiler-option.md) if you do not want the compiler to use csc.rsp.  \n  \n> [!NOTE]\n> In Visual Studio, use the **Add Reference** dialog box. For more information, see [How to: Add or Remove References By Using the Reference Manager](/visualstudio/ide/how-to-add-or-remove-references-by-using-the-reference-manager). To ensure equivalent behavior between adding references by using `-reference` and adding references by using the **Add Reference** dialog box, set the **Embed Interop Types** property to **False** for the assembly that you're adding. **True** is the default value for the property.  \n  \n## Example  \n This example shows how to use the [extern alias](../../../csharp/language-reference/keywords/extern-alias.md) feature.  \n  \n You compile the source file and import metadata from `grid.dll` and `grid20.dll`, which have been compiled previously. The two DLLs contain separate versions of the same component, and you use two **-reference** with alias options to compile the source file. The options look like this:  \n\n```console\n-reference:GridV1=grid.dll -reference:GridV2=grid20.dll  \n```\n  \n This sets up the external aliases `GridV1` and `GridV2`, which you use in your program by means of an `extern` statement:  \n  \n```csharp  \nextern alias GridV1;  \nextern alias GridV2;  \n// Using statements go here.  \n```  \n  \n Once this is done, you can refer to the grid control from `grid.dll` by prefixing the control name with `GridV1`, like this:  \n  \n```csharp  \nGridV1::Grid  \n```  \n  \n In addition, you can refer to the grid control from `grid20.dll` by prefixing the control name with `GridV2` like this:  \n  \n```csharp  \nGridV2::Grid   \n```  \n  \n## See also\n\n- [C# Compiler Options](../../../csharp/language-reference/compiler-options/index.md)\n- [Managing Project and Solution Properties](/visualstudio/ide/managing-project-and-solution-properties)\n","nodes":[{"pos":[4,431],"embed":true,"restype":"x-metadata","content":"title: \"-reference (C# Compiler Options)\"\nms.date: 07/20/2015\nf1_keywords: \n  - \"/reference\"\nhelpviewer_keywords: \n  - \"/r compiler option [C#]\"\n  - \"reference compiler option [C#]\"\n  - \"r compiler option [C#]\"\n  - \"/reference compiler option [C#]\"\n  - \"-r compiler option [C#]\"\n  - \"metadata import [C#]\"\n  - \"public type information [C#]\"\n  - \"-reference compiler option [C#]\"\nms.assetid: 8d13e5b0-abf6-4c46-bf71-2daf2cd0a6c4","nodes":[{"content":"-reference (C# Compiler Options)","nodes":[{"pos":[0,32],"content":"-reference (C# Compiler Options)","nodes":[{"content":"-reference (C# Compiler Options)","pos":[0,32]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[438,470],"content":"-reference (C# Compiler Options)","linkify":"-reference (C# Compiler Options)","nodes":[{"content":"-reference (C# Compiler Options)","pos":[0,32]}]},{"pos":[471,730],"content":"The <bpt id=\"p1\">**</bpt>-reference<ept id=\"p1\">**</ept> option causes the compiler to import <bpt id=\"p2\">[</bpt>public<ept id=\"p2\">](../../../csharp/language-reference/keywords/public.md)</ept> type information in the specified file into the current project, thus enabling you to reference metadata from the specified assembly files.","source":"The **-reference** option causes the compiler to import [public](../../../csharp/language-reference/keywords/public.md) type information in the specified file into the current project, thus enabling you to reference metadata from the specified assembly files."},{"pos":[739,745],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[828,837],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"The name of a file that contains an assembly manifest.","pos":[855,909]},{"content":"To import more than one file, include a separate <bpt id=\"p1\">**</bpt>-reference<ept id=\"p1\">**</ept> option for each file.","pos":[910,995],"source":" To import more than one file, include a separate **-reference** option for each file."},{"content":"A valid C# identifier that will represent a root namespace that will contain all namespaces in the assembly.","pos":[1013,1121]},{"pos":[1130,1137],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1141,1222],"content":"To import from more than one file, include a <bpt id=\"p1\">**</bpt>-reference<ept id=\"p1\">**</ept> option for each file.","source":"To import from more than one file, include a **-reference** option for each file."},{"pos":[1229,1542],"content":"The files you import must contain a manifest; the output file must have been compiled with one of the <bpt id=\"p1\">[</bpt>-target<ept id=\"p1\">](../../../csharp/language-reference/compiler-options/target-compiler-option.md)</ept> options other than <bpt id=\"p2\">[</bpt>-target:module<ept id=\"p2\">](../../../csharp/language-reference/compiler-options/target-module-compiler-option.md)</ept>.","source":"The files you import must contain a manifest; the output file must have been compiled with one of the [-target](../../../csharp/language-reference/compiler-options/target-compiler-option.md) options other than [-target:module](../../../csharp/language-reference/compiler-options/target-module-compiler-option.md)."},{"pos":[1549,1592],"content":"<bpt id=\"p1\">**</bpt>-r<ept id=\"p1\">**</ept> is the short form of <bpt id=\"p2\">**</bpt>-reference<ept id=\"p2\">**</ept>.","source":"**-r** is the short form of **-reference**."},{"pos":[1599,1780],"content":"Use <bpt id=\"p1\">[</bpt>-addmodule<ept id=\"p1\">](../../../csharp/language-reference/compiler-options/addmodule-compiler-option.md)</ept> to import metadata from an output file that does not contain an assembly manifest.","source":"Use [-addmodule](../../../csharp/language-reference/compiler-options/addmodule-compiler-option.md) to import metadata from an output file that does not contain an assembly manifest."},{"content":"If you reference an assembly (Assembly A) that references another assembly (Assembly B), you will need to reference Assembly B if:","pos":[1787,1917]},{"content":"A type you use from Assembly A inherits from a type or implements an interface from Assembly B.","pos":[1927,2022]},{"content":"You invoke a field, property, event, or method that has a return type or parameter type from Assembly B.","pos":[2032,2136]},{"content":"Use <bpt id=\"p1\">[</bpt>-lib<ept id=\"p1\">](../../../csharp/language-reference/compiler-options/lib-compiler-option.md)</ept> to specify the directory in which one or more of your assembly references is located.","pos":[2143,2315],"source":"Use [-lib](../../../csharp/language-reference/compiler-options/lib-compiler-option.md) to specify the directory in which one or more of your assembly references is located."},{"content":"The <bpt id=\"p1\">**</bpt>-lib<ept id=\"p1\">**</ept> topic also discusses the directories in which the compiler searches for assemblies.","pos":[2316,2412],"source":" The **-lib** topic also discusses the directories in which the compiler searches for assemblies."},{"content":"In order for the compiler to recognize a type in an assembly, and not in a module, it needs to be forced to resolve the type, which you can do by defining an instance of the type.","pos":[2419,2598]},{"content":"There are other ways to resolve type names in an assembly for the compiler: for example, if you inherit from a type in an assembly, the type name will then be recognized by the compiler.","pos":[2599,2785]},{"content":"Sometimes it is necessary to reference two different versions of the same component from within one assembly.","pos":[2792,2901]},{"content":"To do this, use the alias suboption on the <bpt id=\"p1\">**</bpt>-reference<ept id=\"p1\">**</ept> switch for each file to distinguish between the two files.","pos":[2902,3018],"source":" To do this, use the alias suboption on the **-reference** switch for each file to distinguish between the two files."},{"content":"This alias will be used as a qualifier for the component name, and will resolve to the component in one of the files.","pos":[3019,3136]},{"content":"The csc response (.rsp) file, which references commonly used .NET Framework assemblies, is used by default.","pos":[3143,3250]},{"content":"Use <bpt id=\"p1\">[</bpt>-noconfig<ept id=\"p1\">](../../../csharp/language-reference/compiler-options/noconfig-compiler-option.md)</ept> if you do not want the compiler to use csc.rsp.","pos":[3251,3395],"source":" Use [-noconfig](../../../csharp/language-reference/compiler-options/noconfig-compiler-option.md) if you do not want the compiler to use csc.rsp."},{"pos":[3403,3925],"content":"[!NOTE]\nIn Visual Studio, use the **Add Reference** dialog box. For more information, see [How to: Add or Remove References By Using the Reference Manager](/visualstudio/ide/how-to-add-or-remove-references-by-using-the-reference-manager). To ensure equivalent behavior between adding references by using `-reference` and adding references by using the **Add Reference** dialog box, set the **Embed Interop Types** property to **False** for the assembly that you're adding. **True** is the default value for the property.","leadings":["","> "],"nodes":[{"content":"In Visual Studio, use the **Add Reference** dialog box. For more information, see [How to: Add or Remove References By Using the Reference Manager](/visualstudio/ide/how-to-add-or-remove-references-by-using-the-reference-manager). To ensure equivalent behavior between adding references by using `-reference` and adding references by using the **Add Reference** dialog box, set the **Embed Interop Types** property to **False** for the assembly that you're adding. **True** is the default value for the property.","pos":[8,520],"nodes":[{"content":"In Visual Studio, use the <bpt id=\"p1\">**</bpt>Add Reference<ept id=\"p1\">**</ept> dialog box.","pos":[0,55],"source":"In Visual Studio, use the **Add Reference** dialog box."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Add or Remove References By Using the Reference Manager<ept id=\"p1\">](/visualstudio/ide/how-to-add-or-remove-references-by-using-the-reference-manager)</ept>.","pos":[56,230],"source":" For more information, see [How to: Add or Remove References By Using the Reference Manager](/visualstudio/ide/how-to-add-or-remove-references-by-using-the-reference-manager)."},{"content":"To ensure equivalent behavior between adding references by using <ph id=\"ph1\">`-reference`</ph> and adding references by using the <bpt id=\"p1\">**</bpt>Add Reference<ept id=\"p1\">**</ept> dialog box, set the <bpt id=\"p2\">**</bpt>Embed Interop Types<ept id=\"p2\">**</ept> property to <bpt id=\"p3\">**</bpt>False<ept id=\"p3\">**</ept> for the assembly that you're adding.","pos":[231,464],"source":" To ensure equivalent behavior between adding references by using `-reference` and adding references by using the **Add Reference** dialog box, set the **Embed Interop Types** property to **False** for the assembly that you're adding."},{"content":"<bpt id=\"p1\">**</bpt>True<ept id=\"p1\">**</ept> is the default value for the property.","pos":[465,512],"source":"**True** is the default value for the property."}]}]},{"pos":[3934,3941],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3945,4063],"content":"This example shows how to use the <bpt id=\"p1\">[</bpt>extern alias<ept id=\"p1\">](../../../csharp/language-reference/keywords/extern-alias.md)</ept> feature.","source":"This example shows how to use the [extern alias](../../../csharp/language-reference/keywords/extern-alias.md) feature."},{"content":"You compile the source file and import metadata from <ph id=\"ph1\">`grid.dll`</ph> and <ph id=\"ph2\">`grid20.dll`</ph>, which have been compiled previously.","pos":[4070,4188],"source":"You compile the source file and import metadata from `grid.dll` and `grid20.dll`, which have been compiled previously."},{"content":"The two DLLs contain separate versions of the same component, and you use two <bpt id=\"p1\">**</bpt>-reference<ept id=\"p1\">**</ept> with alias options to compile the source file.","pos":[4189,4328],"source":" The two DLLs contain separate versions of the same component, and you use two **-reference** with alias options to compile the source file."},{"content":"The options look like this:","pos":[4329,4356]},{"pos":[4437,4558],"content":"This sets up the external aliases <ph id=\"ph1\">`GridV1`</ph> and <ph id=\"ph2\">`GridV2`</ph>, which you use in your program by means of an <ph id=\"ph3\">`extern`</ph> statement:","source":"This sets up the external aliases `GridV1` and `GridV2`, which you use in your program by means of an `extern` statement:"},{"pos":[4663,4787],"content":"Once this is done, you can refer to the grid control from <ph id=\"ph1\">`grid.dll`</ph> by prefixing the control name with <ph id=\"ph2\">`GridV1`</ph>, like this:","source":"Once this is done, you can refer to the grid control from `grid.dll` by prefixing the control name with `GridV1`, like this:"},{"pos":[4830,4949],"content":"In addition, you can refer to the grid control from <ph id=\"ph1\">`grid20.dll`</ph> by prefixing the control name with <ph id=\"ph2\">`GridV2`</ph> like this:","source":"In addition, you can refer to the grid control from `grid20.dll` by prefixing the control name with `GridV2` like this:"},{"pos":[4995,5003],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5007,5090],"content":"<bpt id=\"p1\">[</bpt>C# Compiler Options<ept id=\"p1\">](../../../csharp/language-reference/compiler-options/index.md)</ept>","source":"[C# Compiler Options](../../../csharp/language-reference/compiler-options/index.md)"},{"pos":[5093,5195],"content":"<bpt id=\"p1\">[</bpt>Managing Project and Solution Properties<ept id=\"p1\">](/visualstudio/ide/managing-project-and-solution-properties)</ept>","source":"[Managing Project and Solution Properties](/visualstudio/ide/managing-project-and-solution-properties)"}]}