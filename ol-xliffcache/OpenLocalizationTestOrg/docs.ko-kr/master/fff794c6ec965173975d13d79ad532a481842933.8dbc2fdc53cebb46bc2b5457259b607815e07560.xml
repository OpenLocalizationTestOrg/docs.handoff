{"content":"---\ntitle: \"How to: Read and Write an Encoded Document (C#) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"2015-07-20\"\nms.prod: .net\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nms.assetid: 84f64e71-39a6-42c6-ad68-f052bb158a03\ncaps.latest.revision: 3\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# How to: Read and Write an Encoded Document (C#)\nTo create an encoded XML document, you add an <xref:System.Xml.Linq.XDeclaration> to the XML tree, setting the encoding to the desired code page name.  \n  \n Any value returned by <xref:System.Text.Encoding.WebName%2A> is a valid value.  \n  \n If you read an encoded document, the <xref:System.Xml.Linq.XDeclaration.Encoding%2A> property will be set to the code page name.  \n  \n If you set <xref:System.Xml.Linq.XDeclaration.Encoding%2A> to a valid code page name, [!INCLUDE[sqltecxlinq](../../../../csharp/programming-guide/concepts/linq/includes/sqltecxlinq_md.md)] will serialize with the specified encoding.  \n  \n## Example  \n The following example creates two documents, one with utf-8 encoding, and one with utf-16 encoding. It then loads the documents and prints the encoding to the console.  \n  \n```csharp  \nConsole.WriteLine(\"Creating a document with utf-8 encoding\");  \nXDocument encodedDoc8 = new XDocument(  \n    new XDeclaration(\"1.0\", \"utf-8\", \"yes\"),  \n    new XElement(\"Root\", \"Content\")  \n);  \nencodedDoc8.Save(\"EncodedUtf8.xml\");  \nConsole.WriteLine(\"Encoding is:{0}\", encodedDoc8.Declaration.Encoding);  \nConsole.WriteLine();  \n  \nConsole.WriteLine(\"Creating a document with utf-16 encoding\");  \nXDocument encodedDoc16 = new XDocument(  \n    new XDeclaration(\"1.0\", \"utf-16\", \"yes\"),  \n    new XElement(\"Root\", \"Content\")  \n);  \nencodedDoc16.Save(\"EncodedUtf16.xml\");  \nConsole.WriteLine(\"Encoding is:{0}\", encodedDoc16.Declaration.Encoding);  \nConsole.WriteLine();  \n  \nXDocument newDoc8 = XDocument.Load(\"EncodedUtf8.xml\");  \nConsole.WriteLine(\"Encoded document:\");  \nConsole.WriteLine(File.ReadAllText(\"EncodedUtf8.xml\"));  \nConsole.WriteLine();  \nConsole.WriteLine(\"Encoding of loaded document is:{0}\", newDoc8.Declaration.Encoding);  \nConsole.WriteLine();  \n  \nXDocument newDoc16 = XDocument.Load(\"EncodedUtf16.xml\");  \nConsole.WriteLine(\"Encoded document:\");  \nConsole.WriteLine(File.ReadAllText(\"EncodedUtf16.xml\"));  \nConsole.WriteLine();  \nConsole.WriteLine(\"Encoding of loaded document is:{0}\", newDoc16.Declaration.Encoding);  \n```  \n  \n This example produces the following output:  \n  \n```  \nCreating a document with utf-8 encoding  \nEncoding is:utf-8  \n  \nCreating a document with utf-16 encoding  \nEncoding is:utf-16  \n  \nEncoded document:  \n<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?>  \n<Root>Content</Root>  \n  \nEncoding of loaded document is:utf-8  \n  \nEncoded document:  \n<?xml version=\"1.0\" encoding=\"utf-16\" standalone=\"yes\"?>  \n<Root>Content</Root>  \n  \nEncoding of loaded document is:utf-16  \n```  \n  \n## See Also  \n <xref:System.Xml.Linq.XDeclaration.Encoding%2A?displayProperty=fullName>   \n [Advanced LINQ to XML Programming (C#)](../../../../csharp/programming-guide/concepts/linq/advanced-linq-to-xml-programming.md)","nodes":[{"pos":[4,428],"embed":true,"restype":"x-metadata","content":"title: \"How to: Read and Write an Encoded Document (C#) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"2015-07-20\"\nms.prod: .net\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nms.assetid: 84f64e71-39a6-42c6-ad68-f052bb158a03\ncaps.latest.revision: 3\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"","nodes":[{"content":"How to: Read and Write an Encoded Document (C#) | Microsoft Docs","nodes":[{"pos":[0,64],"content":"How to: Read and Write an Encoded Document (C#) | Microsoft Docs","nodes":[{"content":"How to: Read and Write an Encoded Document (C#) | Microsoft Docs","pos":[0,64]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[435,482],"content":"How to: Read and Write an Encoded Document (C#)","linkify":"How to: Read and Write an Encoded Document (C#)","nodes":[{"content":"How to: Read and Write an Encoded Document (C#)","pos":[0,47]}]},{"pos":[483,633],"content":"To create an encoded XML document, you add an <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XDeclaration&gt;</ph> to the XML tree, setting the encoding to the desired code page name.","source":"To create an encoded XML document, you add an <xref:System.Xml.Linq.XDeclaration> to the XML tree, setting the encoding to the desired code page name."},{"pos":[640,718],"content":"Any value returned by <ph id=\"ph1\">&lt;xref:System.Text.Encoding.WebName%2A&gt;</ph> is a valid value.","source":"Any value returned by <xref:System.Text.Encoding.WebName%2A> is a valid value."},{"pos":[725,853],"content":"If you read an encoded document, the <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XDeclaration.Encoding%2A&gt;</ph> property will be set to the code page name.","source":"If you read an encoded document, the <xref:System.Xml.Linq.XDeclaration.Encoding%2A> property will be set to the code page name."},{"pos":[860,1092],"content":"If you set <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XDeclaration.Encoding%2A&gt;</ph> to a valid code page name, <ph id=\"ph2\">[!INCLUDE[sqltecxlinq](../../../../csharp/programming-guide/concepts/linq/includes/sqltecxlinq_md.md)]</ph> will serialize with the specified encoding.","source":"If you set <xref:System.Xml.Linq.XDeclaration.Encoding%2A> to a valid code page name, [!INCLUDE[sqltecxlinq](../../../../csharp/programming-guide/concepts/linq/includes/sqltecxlinq_md.md)] will serialize with the specified encoding."},{"pos":[1101,1108],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example creates two documents, one with utf-8 encoding, and one with utf-16 encoding.","pos":[1112,1211]},{"content":"It then loads the documents and prints the encoding to the console.","pos":[1212,1279]},{"content":"This example produces the following output:","pos":[2549,2592]},{"pos":[3039,3047],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Advanced LINQ to XML Programming (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/advanced-linq-to-xml-programming.md)</ept>","pos":[3128,3255],"source":"[Advanced LINQ to XML Programming (C#)](../../../../csharp/programming-guide/concepts/linq/advanced-linq-to-xml-programming.md)"}]}