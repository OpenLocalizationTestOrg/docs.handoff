{"content":"---\ntitle: \"Ensuring Data Integrity with Hash Codes | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"generating hash\"\n  - \"verifying hash codes\"\n  - \"cryptography [.NET Framework], hash\"\n  - \"data integrity\"\n  - \"checking hash codes\"\n  - \"encryption [.NET Framework], hash\"\n  - \"hash\"\nms.assetid: 33660f33-b70f-4dca-8c87-ab35cfc2961a\ncaps.latest.revision: 14\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# Ensuring Data Integrity with Hash Codes\nA hash value is a numeric value of a fixed length that uniquely identifies data. Hash values represent large amounts of data as much smaller numeric values, so they are used with digital signatures. You can sign a hash value more efficiently than signing the larger value. Hash values are also useful for verifying the integrity of data sent through insecure channels. The hash value of received data can be compared to the hash value of data as it was sent to determine whether the data was altered.  \n  \n This topic describes how to generate and verify hash codes by using the classes in the <xref:System.Security.Cryptography?displayProperty=fullName> namespace.  \n  \n## Generating a Hash  \n The managed hash classes can hash either an array of bytes or a managed stream object. The following example uses the SHA1 hash algorithm to create a hash value for a string. The example uses the <xref:System.Text.UnicodeEncoding> class to convert the string into an array of bytes that are hashed by using the <xref:System.Security.Cryptography.SHA1Managed> class. The hash value is then displayed to the console.  \n  \n [!code-csharp[GeneratingAHash#1](../../../samples/snippets/csharp/VS_Snippets_CLR/generatingahash/cs/program.cs#1)]\n [!code-vb[GeneratingAHash#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/generatingahash/vb/program.vb#1)]  \n  \n This code will display the following string to the console:  \n  \n `59 4 248 102 77 97 142 201 210 12 224 93 25 41 100 197 213 134 130 135`  \n  \n## Verifying a Hash  \n Data can be compared to a hash value to determine its integrity. Usually, data is hashed at a certain time and the hash value is protected in some way. At a later time, the data can be hashed again and compared to the protected value. If the hash values match, the data has not been altered. If the values do not match, the data has been corrupted. For this system to work, the protected hash must be encrypted or kept secret from all untrusted parties.  \n  \n The following example compares the previous hash value of a string to a new hash value. This example loops through each byte of the hash values and makes a comparison.  \n  \n [!code-csharp[VerifyingAHash#1](../../../samples/snippets/csharp/VS_Snippets_CLR/verifyingahash/cs/program.cs#1)]\n [!code-vb[VerifyingAHash#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/verifyingahash/vb/program.vb#1)]  \n  \n If the two hash values match, this code displays the following to the console:  \n  \n```  \nThe hash codes match.  \n```  \n  \n If they do not match, the code displays the following:  \n  \n```  \nThe hash codes do not match.  \n```  \n  \n## See Also  \n [Cryptographic Services](../../../docs/standard/security/cryptographic-services.md)","nodes":[{"pos":[4,618],"embed":true,"restype":"x-metadata","content":"title: \"Ensuring Data Integrity with Hash Codes | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"generating hash\"\n  - \"verifying hash codes\"\n  - \"cryptography [.NET Framework], hash\"\n  - \"data integrity\"\n  - \"checking hash codes\"\n  - \"encryption [.NET Framework], hash\"\n  - \"hash\"\nms.assetid: 33660f33-b70f-4dca-8c87-ab35cfc2961a\ncaps.latest.revision: 14\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"","nodes":[{"content":"Ensuring Data Integrity with Hash Codes | Microsoft Docs","nodes":[{"pos":[0,56],"content":"Ensuring Data Integrity with Hash Codes | Microsoft Docs","nodes":[{"content":"Ensuring Data Integrity with Hash Codes | Microsoft Docs","pos":[0,56]}]}],"path":["title"]}],"yml":true},{"pos":[625,664],"content":"Ensuring Data Integrity with Hash Codes","linkify":"Ensuring Data Integrity with Hash Codes","nodes":[{"content":"Ensuring Data Integrity with Hash Codes","pos":[0,39]}]},{"content":"A hash value is a numeric value of a fixed length that uniquely identifies data.","pos":[665,745]},{"content":"Hash values represent large amounts of data as much smaller numeric values, so they are used with digital signatures.","pos":[746,863]},{"content":"You can sign a hash value more efficiently than signing the larger value.","pos":[864,937]},{"content":"Hash values are also useful for verifying the integrity of data sent through insecure channels.","pos":[938,1033]},{"content":"The hash value of received data can be compared to the hash value of data as it was sent to determine whether the data was altered.","pos":[1034,1165]},{"content":"This topic describes how to generate and verify hash codes by using the classes in the <ph id=\"ph1\">&lt;xref:System.Security.Cryptography?displayProperty=fullName&gt;</ph> namespace.","pos":[1172,1330],"source":"This topic describes how to generate and verify hash codes by using the classes in the <xref:System.Security.Cryptography?displayProperty=fullName> namespace."},{"pos":[1339,1356],"content":"Generating a Hash","linkify":"Generating a Hash","nodes":[{"content":"Generating a Hash","pos":[0,17]}]},{"content":"The managed hash classes can hash either an array of bytes or a managed stream object.","pos":[1360,1446]},{"content":"The following example uses the SHA1 hash algorithm to create a hash value for a string.","pos":[1447,1534]},{"content":"The example uses the <ph id=\"ph1\">&lt;xref:System.Text.UnicodeEncoding&gt;</ph> class to convert the string into an array of bytes that are hashed by using the <ph id=\"ph2\">&lt;xref:System.Security.Cryptography.SHA1Managed&gt;</ph> class.","pos":[1535,1725],"source":" The example uses the <xref:System.Text.UnicodeEncoding> class to convert the string into an array of bytes that are hashed by using the <xref:System.Security.Cryptography.SHA1Managed> class."},{"content":"The hash value is then displayed to the console.","pos":[1726,1774]},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>GeneratingAHash#1<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/generatingahash/cs/program.cs#1)</ept><ept id=\"p1\">]</ept>","pos":[1781,1896],"source":"[!code-csharp[GeneratingAHash#1](../../../samples/snippets/csharp/VS_Snippets_CLR/generatingahash/cs/program.cs#1)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>GeneratingAHash#1<ept id=\"p2\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/generatingahash/vb/program.vb#1)</ept><ept id=\"p1\">]</ept>","pos":[1898,2014],"source":"[!code-vb[GeneratingAHash#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/generatingahash/vb/program.vb#1)]"},{"content":"This code will display the following string to the console:","pos":[2021,2080]},{"pos":[2168,2184],"content":"Verifying a Hash","linkify":"Verifying a Hash","nodes":[{"content":"Verifying a Hash","pos":[0,16]}]},{"content":"Data can be compared to a hash value to determine its integrity.","pos":[2188,2252]},{"content":"Usually, data is hashed at a certain time and the hash value is protected in some way.","pos":[2253,2339]},{"content":"At a later time, the data can be hashed again and compared to the protected value.","pos":[2340,2422]},{"content":"If the hash values match, the data has not been altered.","pos":[2423,2479]},{"content":"If the values do not match, the data has been corrupted.","pos":[2480,2536]},{"content":"For this system to work, the protected hash must be encrypted or kept secret from all untrusted parties.","pos":[2537,2641]},{"content":"The following example compares the previous hash value of a string to a new hash value.","pos":[2648,2735]},{"content":"This example loops through each byte of the hash values and makes a comparison.","pos":[2736,2815]},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>VerifyingAHash#1<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/verifyingahash/cs/program.cs#1)</ept><ept id=\"p1\">]</ept>","pos":[2822,2935],"source":"[!code-csharp[VerifyingAHash#1](../../../samples/snippets/csharp/VS_Snippets_CLR/verifyingahash/cs/program.cs#1)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>VerifyingAHash#1<ept id=\"p2\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/verifyingahash/vb/program.vb#1)</ept><ept id=\"p1\">]</ept>","pos":[2937,3051],"source":"[!code-vb[VerifyingAHash#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/verifyingahash/vb/program.vb#1)]"},{"content":"If the two hash values match, this code displays the following to the console:","pos":[3058,3136]},{"content":"If they do not match, the code displays the following:","pos":[3182,3236]},{"pos":[3291,3299],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3303,3386],"content":"<bpt id=\"p1\">[</bpt>Cryptographic Services<ept id=\"p1\">](../../../docs/standard/security/cryptographic-services.md)</ept>","source":"[Cryptographic Services](../../../docs/standard/security/cryptographic-services.md)"}]}