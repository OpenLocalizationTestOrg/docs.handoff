{"content":"---\ntitle: Port a WPF app to .NET Core 3.0\ndescription: Teaches you how to port a .NET Framework Windows Presentation Foundation application to .NET Core 3.0 for Windows.\nauthor: Thraka\nms.author: adegeo\nms.date: 03/27/2019\nms.custom: \n---\n\n# How to: Port a WPF desktop app to .NET Core\n\nThis article describes how to port your Windows Presentation Foundation-based (WPF) desktop app from .NET Framework to .NET Core 3.0. The .NET Core 3.0 SDK includes support for WPF applications. WPF is still a Windows-only framework and only runs on Windows. This example uses the .NET Core SDK CLI to create and manage your project.\n\nIn this article, various names are used to identify types of files used for migration. When migrating your project, your files will be named differently, so mentally match them to the ones listed below:\n\n| File | Description |\n| ---- | ----------- |\n| **MyApps.sln** | The name of the solution file. |\n| **MyWPF.csproj** | The name of the .NET Framework WPF project to port. |\n| **MyWPFCore.csproj** | The name of the new .NET Core project you create. |\n| **MyAppCore.exe** | The .NET Core WPF app executable. |\n\n## Prerequisites\n\n- [Visual Studio 2019](https://visualstudio.microsoft.com/vs/preview/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=wpf+core) for any designer work you want to do.\n\n  Install the following Visual Studio workloads:\n  - .NET desktop development\n  - .NET cross-platform development\n\n- A working WPF project in a solution that builds and runs without issue.\n- Your project must be coded in C#. \n- Install the latest [.NET Core 3.0](https://aka.ms/netcore3download) preview.\n\n>[!NOTE]\n>**Visual Studio 2017** doesn't support .NET Core 3.0 projects. **Visual Studio 2019 Preview/RC** supports .NET Core 3.0 projects but doesn't yet support the visual designer for .NET Core 3.0 WPF projects. To use the visual designer, you must have a .NET WPF project in your solution that shares its files with the .NET Core project.\n\n### Consider\n\nWhen porting a .NET Framework WPF application, there are a few things you must consider.\n\n01. Check that your application is a good candidate for migration.\n\n    Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to determine if your project will migrate to .NET Core 3.0. If your project has issues with .NET Core 3.0, the analyzer helps you identify those problems.\n\n01. You're using a different version of WPF.\n\n    When .NET Core 3.0 Preview 1 was released, WPF went open-source on GitHub. The code for .NET Core WPF is a fork of the .NET Framework WPF code base. It's possible some differences exist and your app won't port.\n\n01. The [Windows Compatibility Pack][compat-pack] may help you migrate.\n\n    Some APIs that are available in .NET Framework aren't available in .NET Core 3.0. The [Windows Compatibility Pack][compat-pack] adds many of these APIs and may help your WPF app become compatible with .NET Core.\n\n01. Update the NuGet packages used by your project.\n\n    It's always a good practice to use the latest versions of NuGet packages before any migration. If your application is referencing any NuGet packages, update them to the latest version. Ensure your application builds successfully. After upgrading, if there are any package errors, downgrade the package to the latest version that doesn't break your code.\n\n01. Visual Studio 2019 Preview/RC doesn't yet support the WPF Designer for .NET Core 3.0\n\n    Currently, you need to keep your existing .NET Framework WPF project file if you want to use the WPF Designer from Visual Studio.\n\n## Create a new SDK project\n\nThe new .NET Core 3.0 project you create must be in a different directory from your .NET Framework project. If they're both in the same directory, you may run into conflicts with the files that are generated in the **obj** directory. In this example, you'll create a directory named **MyWPFAppCore** in the **SolutionFolder** directory:\n\n```\nSolutionFolder\n├───MyApps.sln\n├───MyWPFApp\n│   └───MyWPF.csproj\n└───MyWPFAppCore      <--- New folder for core project\n```\n\nNext, you need to create the **MyWPFCore.csproj** project in the **MyWPFAppCore** directory. You can create this file manually by using the text editor of choice. Paste in the following XML:\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk.WindowsDesktop\">\n\n  <PropertyGroup>\n    <OutputType>WinExe</OutputType>\n    <TargetFramework>netcoreapp3.0</TargetFramework>\n    <UseWPF>true</UseWPF>\n  </PropertyGroup>\n\n</Project>\n```\n\nIf you don't want to create the project file manually, you can use Visual Studio or the .NET Core SDK to generate the project. However, you must delete all other files generated by the project template except for the project file. To use the SDK, run the following command from the **SolutionFolder** directory:\n\n```cli\ndotnet new wpf -o MyWPFAppCore -n MyWPFCore\n```\n\nAfter you create the **MyWPFCore.csproj**, your directory structure should look like the following:\n\n```\nSolutionFolder\n├───MyApps.sln\n├───MyWPFApp\n│   └───MyWPF.csproj\n└───MyWPFAppCore\n    └───MyWPFCore.csproj\n```\n\nYou'll want to add the **MyWPFCore.csproj** project to **MyApps.sln** with either Visual Studio or the .NET Core CLI from the **SolutionFolder** directory:\n\n```cli\ndotnet sln add .\\MyWPFAppCore\\MyWPFCore.csproj\n```\n\n## Fix assembly info generation\n\nWindows Presentation Foundation projects that were created with .NET Framework include an `AssemblyInfo.cs` file, which contains assembly attributes such as the version of the assembly to be generated. SDK-style projects automatically generate this information for you based on the SDK project file. Having both types of \"assembly info\" creates a conflict. Resolve this problem by disabling automatic generation, which forces the project to use your existing `AssemblyInfo.cs` file.\n\nThere are three settings to add to the main `<PropertyGroup>` node. \n\n- **GenerateAssemblyInfo**\\\nWhen you set this property to `false`, it won't generate the assembly attributes. This avoids the conflict with the existing `AssemblyInfo.cs` file from the .NET Framework project.\n\n- **AssemblyName**\\\nThe value of this property is the output binary created when you compile. The name doesn't need an extension added to it. For example, using `MyCoreApp` produces `MyCoreApp.exe`.\n\n- **RootNamespace**\\\nThe default namespace used by your project. This should match the default namespace of the .NET Framework project.\n\nAdd these three elements to the `<PropertyGroup>` node in the `MyWPFCore.csproj` file:\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk.WindowsDesktop\">\n\n  <PropertyGroup>\n    <OutputType>WinExe</OutputType>\n    <TargetFramework>netcoreapp3.0</TargetFramework>\n    <UseWPF>true</UseWPF>\n\n    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>\n    <AssemblyName>MyCoreApp</AssemblyName>\n    <RootNamespace>MyWPF</RootNamespace>\n  </PropertyGroup>\n\n</Project>\n```\n\n## Add source code\nRight now, the **MyWPFCore.csproj** project doesn't compile any code. By default, .NET Core projects automatically include all source code in the current directory and any child directories. You must configure the project to include code from the .NET Framework project using a relative path. If your .NET Framework project used **.resx** files for icons and resources for your windows and controls, you'll need to include those too. \n\nThe first `<ItemGroup>` node you need to add to your project includes the **App.xaml** file that represents the startup config and resources your app uses. The **App.xaml** file also has an accompanying **App.xaml.cs** file, but it will be automatically included in a different `<ItemGroup>`.\n\n```xml\n  <ItemGroup>\n    <ApplicationDefinition Include=\"..\\MyWPFApp\\App.xaml\">\n      <Generator>MSBuild:Compile</Generator>\n    </ApplicationDefinition>\n  </ItemGroup>\n```\n\nNext, add the following `<ItemGroup>` node to your project. Each statement includes a file glob pattern that includes child directories. It includes the source code for your project, any settings files, and any resources. The **obj** directory is explicitly excluded.\n\n```xml\n  <ItemGroup>\n    <Compile Include=\"..\\MyWPFApp\\**\\*.cs\" Exclude=\"..\\MyWPFApp\\obj\\**\" />\n    <None Include=\"..\\MyWPFApp\\**\\*.settings\" />\n    <EmbeddedResource Include=\"..\\MyWPFApp\\**\\*.resx\" />\n  </ItemGroup>\n```\n\nNext, include another `<ItemGroup>` node that contains a `<Page>` entry for every **xaml** file in your project except the **App.xaml** file. These contain all of the windows, pages, and resources that are in **xaml** format. You cannot use a glob pattern here and must add an entry for every file and indicate the `<Generator>` used.\n\n```xml\n  <ItemGroup>\n    <Page Include=\"..\\MyWPFApp\\MainWindow.xaml\">\n      <Generator>MSBuild:Compile</Generator>\n    </Page>\n  </ItemGroup>\n```\n\n## Add NuGet packages\n\nAdd each NuGet package referenced by the .NET Framework project to the .NET Core project. \n\nMost likely your .NET Framework WPF app has a **packages.config** file that contains a list of all of the NuGet packages that are referenced by your project. You can look at this list to determine which NuGet packages to add to the .NET Core project. For example, if the .NET Framework project references the `MahApps.Metro` NuGet package, add it to the project with Visual Studio. You can also add the package reference with the .NET Core CLI from the **SolutionFolder** directory:\n\n```cli\ndotnet add .\\MyWPFAppCore\\MyWPFCore.csproj package MahApps.Metro -v 2.0.0-alpha0262\n```\n\nThe previous command would add the following NuGet reference to the **MyWPFCore.csproj** project:\n\n```xml\n  <ItemGroup>\n    <PackageReference Include=\"MahApps.Metro\" Version=\"2.0.0-alpha0262\" />\n  </ItemGroup>\n```\n\n## Problems compiling\n\nIf you have problems compiling your projects, you may be using some Windows-only APIs that are available in .NET Framework but not available in .NET Core. You can try adding the [Windows Compatibility Pack][compat-pack] NuGet package to your project. This package only runs on Windows and adds about 20,000 Windows APIs to .NET Core and .NET Standard projects.\n\n```cli\ndotnet add .\\MyWPFAppCore\\MyWPFCore.csproj package Microsoft.Windows.Compatibility\n```\n\nThe previous command adds the following to the **MyWPFCore.csproj** project:\n\n```xml\n  <ItemGroup>\n    <PackageReference Include=\"Microsoft.Windows.Compatibility\" Version=\"2.0.1\" />\n  </ItemGroup>\n```\n\n## WPF Designer\n\nAs detailed in this article, Visual Studio 2019 Preview/RC only supports the WPF Designer in .NET Framework projects. By creating a side-by-side .NET Core project, you can test your project with .NET Core while you use the .NET Framework project to design forms. Your solution file includes both the .NET Framework and .NET Core projects. Add and design your forms and controls in the .NET Framework project, and based on the file glob patterns we added to the .NET Core projects, any new or changed files will automatically be included in the .NET Core projects.\n\nOnce Visual Studio 2019 supports the WPF Designer, you can copy/paste the content of your .NET Core project file into the .NET Framework project file. Then delete the file glob patterns added with the `<Source>` and `<EmbeddedResource>` items. Fix the paths to any project reference used by your app. This effectively upgrades the .NET Framework project to a .NET Core project.\n \n## Next steps\n\n* Read more about the [Windows Compatibility Pack][compat-pack].\n* Watch a [video on porting](https://www.youtube.com/watch?v=5MomsgkWkVw&list=PLS__JrkRveTMiWxG-Lv4cBwYfMQ6m2gmt) your .NET Framework WPF project to .NET Core.\n\n[compat-pack]: windows-compat-pack.md\n","nodes":[{"pos":[4,235],"embed":true,"restype":"x-metadata","content":"title: Port a WPF app to .NET Core 3.0\ndescription: Teaches you how to port a .NET Framework Windows Presentation Foundation application to .NET Core 3.0 for Windows.\nauthor: Thraka\nms.author: adegeo\nms.date: 03/27/2019\nms.custom: ","nodes":[{"content":"Port a WPF app to .NET Core 3.0","nodes":[{"pos":[0,31],"content":"Port a WPF app to .NET Core 3.0","nodes":[{"content":"Port a WPF app to .NET Core 3.0","pos":[0,31]}]}],"path":["title"],"nosxs":false},{"content":"Teaches you how to port a .NET Framework Windows Presentation Foundation application to .NET Core 3.0 for Windows.","nodes":[{"pos":[0,114],"content":"Teaches you how to port a .NET Framework Windows Presentation Foundation application to .NET Core 3.0 for Windows.","nodes":[{"content":"Teaches you how to port a .NET Framework Windows Presentation Foundation application to .NET Core 3.0 for Windows.","pos":[0,114]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[243,286],"content":"How to: Port a WPF desktop app to .NET Core","linkify":"How to: Port a WPF desktop app to .NET Core","nodes":[{"content":"How to: Port a WPF desktop app to .NET Core","pos":[0,43]}]},{"content":"This article describes how to port your Windows Presentation Foundation-based (WPF) desktop app from .NET Framework to .NET Core 3.0.","pos":[288,421]},{"content":"The .NET Core 3.0 SDK includes support for WPF applications.","pos":[422,482]},{"content":"WPF is still a Windows-only framework and only runs on Windows.","pos":[483,546]},{"content":"This example uses the .NET Core SDK CLI to create and manage your project.","pos":[547,621]},{"content":"In this article, various names are used to identify types of files used for migration.","pos":[623,709]},{"content":"When migrating your project, your files will be named differently, so mentally match them to the ones listed below:","pos":[710,825]},{"content":"File","pos":[829,833]},{"content":"Description","pos":[836,847]},{"pos":[875,889],"content":"<bpt id=\"p1\">**</bpt>MyApps.sln<ept id=\"p1\">**</ept>","source":"**MyApps.sln**"},{"content":"The name of the solution file.","pos":[892,922]},{"pos":[927,943],"content":"<bpt id=\"p1\">**</bpt>MyWPF.csproj<ept id=\"p1\">**</ept>","source":"**MyWPF.csproj**"},{"content":"The name of the .NET Framework WPF project to port.","pos":[946,997]},{"pos":[1002,1022],"content":"<bpt id=\"p1\">**</bpt>MyWPFCore.csproj<ept id=\"p1\">**</ept>","source":"**MyWPFCore.csproj**"},{"content":"The name of the new .NET Core project you create.","pos":[1025,1074]},{"pos":[1079,1096],"content":"<bpt id=\"p1\">**</bpt>MyAppCore.exe<ept id=\"p1\">**</ept>","source":"**MyAppCore.exe**"},{"content":"The .NET Core WPF app executable.","pos":[1099,1132]},{"pos":[1139,1152],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"pos":[1156,1359],"content":"<bpt id=\"p1\">[</bpt>Visual Studio 2019<ept id=\"p1\">](https://visualstudio.microsoft.com/vs/preview/?utm_medium=microsoft&amp;utm_source=docs.microsoft.com&amp;utm_campaign=inline+link&amp;utm_content=wpf+core)</ept> for any designer work you want to do.","source":"[Visual Studio 2019](https://visualstudio.microsoft.com/vs/preview/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=wpf+core) for any designer work you want to do."},{"content":"Install the following Visual Studio workloads:","pos":[1363,1409]},{"content":".NET desktop development","pos":[1414,1438]},{"content":".NET cross-platform development","pos":[1443,1474]},{"content":"A working WPF project in a solution that builds and runs without issue.","pos":[1478,1549]},{"content":"Your project must be coded in C#.","pos":[1552,1585]},{"pos":[1589,1665],"content":"Install the latest <bpt id=\"p1\">[</bpt>.NET Core 3.0<ept id=\"p1\">](https://aka.ms/netcore3download)</ept> preview.","source":"Install the latest [.NET Core 3.0](https://aka.ms/netcore3download) preview."},{"pos":[1668,2009],"content":"[!NOTE]\n**Visual Studio 2017** doesn't support .NET Core 3.0 projects. **Visual Studio 2019 Preview/RC** supports .NET Core 3.0 projects but doesn't yet support the visual designer for .NET Core 3.0 WPF projects. To use the visual designer, you must have a .NET WPF project in your solution that shares its files with the .NET Core project.","leadings":["",">"],"nodes":[{"content":"**Visual Studio 2017** doesn't support .NET Core 3.0 projects. **Visual Studio 2019 Preview/RC** supports .NET Core 3.0 projects but doesn't yet support the visual designer for .NET Core 3.0 WPF projects. To use the visual designer, you must have a .NET WPF project in your solution that shares its files with the .NET Core project.","pos":[8,340],"nodes":[{"content":"<bpt id=\"p1\">**</bpt>Visual Studio 2017<ept id=\"p1\">**</ept> doesn't support .NET Core 3.0 projects.","pos":[0,62],"source":"**Visual Studio 2017** doesn't support .NET Core 3.0 projects."},{"content":"<bpt id=\"p1\">**</bpt>Visual Studio 2019 Preview/RC<ept id=\"p1\">**</ept> supports .NET Core 3.0 projects but doesn't yet support the visual designer for .NET Core 3.0 WPF projects.","pos":[63,204],"source":"**Visual Studio 2019 Preview/RC** supports .NET Core 3.0 projects but doesn't yet support the visual designer for .NET Core 3.0 WPF projects."},{"content":"To use the visual designer, you must have a .NET WPF project in your solution that shares its files with the .NET Core project.","pos":[205,332]}]}]},{"pos":[2015,2023],"content":"Consider","linkify":"Consider","nodes":[{"content":"Consider","pos":[0,8]}]},{"content":"When porting a .NET Framework WPF application, there are a few things you must consider.","pos":[2025,2113]},{"content":"Check that your application is a good candidate for migration.","pos":[2119,2181]},{"content":"Use the <bpt id=\"p1\">[</bpt>.NET Portability Analyzer<ept id=\"p1\">](../../standard/analyzers/portability-analyzer.md)</ept> to determine if your project will migrate to .NET Core 3.0.","pos":[2187,2332],"source":"Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to determine if your project will migrate to .NET Core 3.0."},{"content":"If your project has issues with .NET Core 3.0, the analyzer helps you identify those problems.","pos":[2333,2427]},{"content":"You're using a different version of WPF.","pos":[2433,2473]},{"content":"When .NET Core 3.0 Preview 1 was released, WPF went open-source on GitHub.","pos":[2479,2553]},{"content":"The code for .NET Core WPF is a fork of the .NET Framework WPF code base.","pos":[2554,2627]},{"content":"It's possible some differences exist and your app won't port.","pos":[2628,2689]},{"pos":[2695,2762],"content":"The <bpt id=\"p1\">[</bpt>Windows Compatibility Pack<ept id=\"p1\">]</ept><bpt id=\"p2\">[</bpt><ept id=\"p2\">compat-pack]</ept> may help you migrate.","source":"The [Windows Compatibility Pack][compat-pack] may help you migrate."},{"content":"Some APIs that are available in .NET Framework aren't available in .NET Core 3.0.","pos":[2768,2849]},{"content":"The <bpt id=\"p1\">[</bpt>Windows Compatibility Pack<ept id=\"p1\">]</ept><bpt id=\"p2\">[</bpt><ept id=\"p2\">compat-pack]</ept> adds many of these APIs and may help your WPF app become compatible with .NET Core.","pos":[2850,2979],"source":" The [Windows Compatibility Pack][compat-pack] adds many of these APIs and may help your WPF app become compatible with .NET Core."},{"content":"Update the NuGet packages used by your project.","pos":[2985,3032]},{"content":"It's always a good practice to use the latest versions of NuGet packages before any migration.","pos":[3038,3132]},{"content":"If your application is referencing any NuGet packages, update them to the latest version.","pos":[3133,3222]},{"content":"Ensure your application builds successfully.","pos":[3223,3267]},{"content":"After upgrading, if there are any package errors, downgrade the package to the latest version that doesn't break your code.","pos":[3268,3391]},{"content":"Visual Studio 2019 Preview/RC doesn't yet support the WPF Designer for .NET Core 3.0","pos":[3397,3481]},{"content":"Currently, you need to keep your existing .NET Framework WPF project file if you want to use the WPF Designer from Visual Studio.","pos":[3487,3616]},{"pos":[3621,3645],"content":"Create a new SDK project","linkify":"Create a new SDK project","nodes":[{"content":"Create a new SDK project","pos":[0,24]}]},{"content":"The new .NET Core 3.0 project you create must be in a different directory from your .NET Framework project.","pos":[3647,3754]},{"content":"If they're both in the same directory, you may run into conflicts with the files that are generated in the <bpt id=\"p1\">**</bpt>obj<ept id=\"p1\">**</ept> directory.","pos":[3755,3880],"source":" If they're both in the same directory, you may run into conflicts with the files that are generated in the **obj** directory."},{"content":"In this example, you'll create a directory named <bpt id=\"p1\">**</bpt>MyWPFAppCore<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>SolutionFolder<ept id=\"p2\">**</ept> directory:","pos":[3881,3983],"source":" In this example, you'll create a directory named **MyWPFAppCore** in the **SolutionFolder** directory:"},{"content":"Next, you need to create the <bpt id=\"p1\">**</bpt>MyWPFCore.csproj<ept id=\"p1\">**</ept> project in the <bpt id=\"p2\">**</bpt>MyWPFAppCore<ept id=\"p2\">**</ept> directory.","pos":[4113,4205],"source":"Next, you need to create the **MyWPFCore.csproj** project in the **MyWPFAppCore** directory."},{"content":"You can create this file manually by using the text editor of choice.","pos":[4206,4275]},{"content":"Paste in the following XML:","pos":[4276,4303]},{"content":"If you don't want to create the project file manually, you can use Visual Studio or the .NET Core SDK to generate the project.","pos":[4531,4657]},{"content":"However, you must delete all other files generated by the project template except for the project file.","pos":[4658,4761]},{"content":"To use the SDK, run the following command from the <bpt id=\"p1\">**</bpt>SolutionFolder<ept id=\"p1\">**</ept> directory:","pos":[4762,4842],"source":" To use the SDK, run the following command from the **SolutionFolder** directory:"},{"pos":[4900,4999],"content":"After you create the <bpt id=\"p1\">**</bpt>MyWPFCore.csproj<ept id=\"p1\">**</ept>, your directory structure should look like the following:","source":"After you create the **MyWPFCore.csproj**, your directory structure should look like the following:"},{"pos":[5116,5271],"content":"You'll want to add the <bpt id=\"p1\">**</bpt>MyWPFCore.csproj<ept id=\"p1\">**</ept> project to <bpt id=\"p2\">**</bpt>MyApps.sln<ept id=\"p2\">**</ept> with either Visual Studio or the .NET Core CLI from the <bpt id=\"p3\">**</bpt>SolutionFolder<ept id=\"p3\">**</ept> directory:","source":"You'll want to add the **MyWPFCore.csproj** project to **MyApps.sln** with either Visual Studio or the .NET Core CLI from the **SolutionFolder** directory:"},{"pos":[5335,5363],"content":"Fix assembly info generation","linkify":"Fix assembly info generation","nodes":[{"content":"Fix assembly info generation","pos":[0,28]}]},{"content":"Windows Presentation Foundation projects that were created with .NET Framework include an <ph id=\"ph1\">`AssemblyInfo.cs`</ph> file, which contains assembly attributes such as the version of the assembly to be generated.","pos":[5365,5566],"source":"Windows Presentation Foundation projects that were created with .NET Framework include an `AssemblyInfo.cs` file, which contains assembly attributes such as the version of the assembly to be generated."},{"content":"SDK-style projects automatically generate this information for you based on the SDK project file.","pos":[5567,5664]},{"content":"Having both types of \"assembly info\" creates a conflict.","pos":[5665,5721]},{"content":"Resolve this problem by disabling automatic generation, which forces the project to use your existing <ph id=\"ph1\">`AssemblyInfo.cs`</ph> file.","pos":[5722,5847],"source":" Resolve this problem by disabling automatic generation, which forces the project to use your existing `AssemblyInfo.cs` file."},{"pos":[5849,5916],"content":"There are three settings to add to the main <ph id=\"ph1\">`&lt;PropertyGroup&gt;`</ph> node.","source":"There are three settings to add to the main `<PropertyGroup>` node."},{"content":"<bpt id=\"p1\">**</bpt>GenerateAssemblyInfo<ept id=\"p1\">**</ept><ph id=\"ph1\">\\</ph>","pos":[5921,5946],"source":"**GenerateAssemblyInfo**\\"},{"content":"When you set this property to <ph id=\"ph1\">`false`</ph>, it won't generate the assembly attributes.","pos":[5947,6028],"source":"When you set this property to `false`, it won't generate the assembly attributes."},{"content":"This avoids the conflict with the existing <ph id=\"ph1\">`AssemblyInfo.cs`</ph> file from the .NET Framework project.","pos":[6029,6127],"source":" This avoids the conflict with the existing `AssemblyInfo.cs` file from the .NET Framework project."},{"content":"<bpt id=\"p1\">**</bpt>AssemblyName<ept id=\"p1\">**</ept><ph id=\"ph1\">\\</ph>","pos":[6131,6148],"source":"**AssemblyName**\\"},{"content":"The value of this property is the output binary created when you compile.","pos":[6149,6222]},{"content":"The name doesn't need an extension added to it.","pos":[6223,6270]},{"content":"For example, using <ph id=\"ph1\">`MyCoreApp`</ph> produces <ph id=\"ph2\">`MyCoreApp.exe`</ph>.","pos":[6271,6327],"source":" For example, using `MyCoreApp` produces `MyCoreApp.exe`."},{"content":"<bpt id=\"p1\">**</bpt>RootNamespace<ept id=\"p1\">**</ept><ph id=\"ph1\">\\</ph>","pos":[6331,6349],"source":"**RootNamespace**\\"},{"content":"The default namespace used by your project.","pos":[6350,6393]},{"content":"This should match the default namespace of the .NET Framework project.","pos":[6394,6464]},{"pos":[6466,6552],"content":"Add these three elements to the <ph id=\"ph1\">`&lt;PropertyGroup&gt;`</ph> node in the <ph id=\"ph2\">`MyWPFCore.csproj`</ph> file:","source":"Add these three elements to the `<PropertyGroup>` node in the `MyWPFCore.csproj` file:"},{"pos":[6923,6938],"content":"Add source code","linkify":"Add source code","nodes":[{"content":"Add source code","pos":[0,15]}]},{"content":"Right now, the <bpt id=\"p1\">**</bpt>MyWPFCore.csproj<ept id=\"p1\">**</ept> project doesn't compile any code.","pos":[6939,7008],"source":"Right now, the **MyWPFCore.csproj** project doesn't compile any code."},{"content":"By default, .NET Core projects automatically include all source code in the current directory and any child directories.","pos":[7009,7129]},{"content":"You must configure the project to include code from the .NET Framework project using a relative path.","pos":[7130,7231]},{"content":"If your .NET Framework project used <bpt id=\"p1\">**</bpt>.resx<ept id=\"p1\">**</ept> files for icons and resources for your windows and controls, you'll need to include those too.","pos":[7232,7372],"source":" If your .NET Framework project used **.resx** files for icons and resources for your windows and controls, you'll need to include those too."},{"content":"The first <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph> node you need to add to your project includes the <bpt id=\"p1\">**</bpt>App.xaml<ept id=\"p1\">**</ept> file that represents the startup config and resources your app uses.","pos":[7375,7530],"source":"The first `<ItemGroup>` node you need to add to your project includes the **App.xaml** file that represents the startup config and resources your app uses."},{"content":"The <bpt id=\"p1\">**</bpt>App.xaml<ept id=\"p1\">**</ept> file also has an accompanying <bpt id=\"p2\">**</bpt>App.xaml.cs<ept id=\"p2\">**</ept> file, but it will be automatically included in a different <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph>.","pos":[7531,7667],"source":" The **App.xaml** file also has an accompanying **App.xaml.cs** file, but it will be automatically included in a different `<ItemGroup>`."},{"content":"Next, add the following <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph> node to your project.","pos":[7843,7902],"source":"Next, add the following `<ItemGroup>` node to your project."},{"content":"Each statement includes a file glob pattern that includes child directories.","pos":[7903,7979]},{"content":"It includes the source code for your project, any settings files, and any resources.","pos":[7980,8064]},{"content":"The <bpt id=\"p1\">**</bpt>obj<ept id=\"p1\">**</ept> directory is explicitly excluded.","pos":[8065,8110],"source":" The **obj** directory is explicitly excluded."},{"content":"Next, include another <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph> node that contains a <ph id=\"ph2\">`&lt;Page&gt;`</ph> entry for every <bpt id=\"p1\">**</bpt>xaml<ept id=\"p1\">**</ept> file in your project except the <bpt id=\"p2\">**</bpt>App.xaml<ept id=\"p2\">**</ept> file.","pos":[8334,8475],"source":"Next, include another `<ItemGroup>` node that contains a `<Page>` entry for every **xaml** file in your project except the **App.xaml** file."},{"content":"These contain all of the windows, pages, and resources that are in <bpt id=\"p1\">**</bpt>xaml<ept id=\"p1\">**</ept> format.","pos":[8476,8559],"source":" These contain all of the windows, pages, and resources that are in **xaml** format."},{"content":"You cannot use a glob pattern here and must add an entry for every file and indicate the <ph id=\"ph1\">`&lt;Generator&gt;`</ph> used.","pos":[8560,8668],"source":" You cannot use a glob pattern here and must add an entry for every file and indicate the `<Generator>` used."},{"pos":[8820,8838],"content":"Add NuGet packages","linkify":"Add NuGet packages","nodes":[{"content":"Add NuGet packages","pos":[0,18]}]},{"content":"Add each NuGet package referenced by the .NET Framework project to the .NET Core project.","pos":[8840,8929]},{"content":"Most likely your .NET Framework WPF app has a <bpt id=\"p1\">**</bpt>packages.config<ept id=\"p1\">**</ept> file that contains a list of all of the NuGet packages that are referenced by your project.","pos":[8932,9089],"source":"Most likely your .NET Framework WPF app has a **packages.config** file that contains a list of all of the NuGet packages that are referenced by your project."},{"content":"You can look at this list to determine which NuGet packages to add to the .NET Core project.","pos":[9090,9182]},{"content":"For example, if the .NET Framework project references the <ph id=\"ph1\">`MahApps.Metro`</ph> NuGet package, add it to the project with Visual Studio.","pos":[9183,9313],"source":" For example, if the .NET Framework project references the `MahApps.Metro` NuGet package, add it to the project with Visual Studio."},{"content":"You can also add the package reference with the .NET Core CLI from the <bpt id=\"p1\">**</bpt>SolutionFolder<ept id=\"p1\">**</ept> directory:","pos":[9314,9414],"source":" You can also add the package reference with the .NET Core CLI from the **SolutionFolder** directory:"},{"pos":[9512,9609],"content":"The previous command would add the following NuGet reference to the <bpt id=\"p1\">**</bpt>MyWPFCore.csproj<ept id=\"p1\">**</ept> project:","source":"The previous command would add the following NuGet reference to the **MyWPFCore.csproj** project:"},{"pos":[9730,9748],"content":"Problems compiling","linkify":"Problems compiling","nodes":[{"content":"Problems compiling","pos":[0,18]}]},{"content":"If you have problems compiling your projects, you may be using some Windows-only APIs that are available in .NET Framework but not available in .NET Core.","pos":[9750,9904]},{"content":"You can try adding the <bpt id=\"p1\">[</bpt>Windows Compatibility Pack<ept id=\"p1\">]</ept><bpt id=\"p2\">[</bpt><ept id=\"p2\">compat-pack]</ept> NuGet package to your project.","pos":[9905,10000],"source":" You can try adding the [Windows Compatibility Pack][compat-pack] NuGet package to your project."},{"content":"This package only runs on Windows and adds about 20,000 Windows APIs to .NET Core and .NET Standard projects.","pos":[10001,10110]},{"pos":[10207,10283],"content":"The previous command adds the following to the <bpt id=\"p1\">**</bpt>MyWPFCore.csproj<ept id=\"p1\">**</ept> project:","source":"The previous command adds the following to the **MyWPFCore.csproj** project:"},{"pos":[10412,10424],"content":"WPF Designer","linkify":"WPF Designer","nodes":[{"content":"WPF Designer","pos":[0,12]}]},{"content":"As detailed in this article, Visual Studio 2019 Preview/RC only supports the WPF Designer in .NET Framework projects.","pos":[10426,10543]},{"content":"By creating a side-by-side .NET Core project, you can test your project with .NET Core while you use the .NET Framework project to design forms.","pos":[10544,10688]},{"content":"Your solution file includes both the .NET Framework and .NET Core projects.","pos":[10689,10764]},{"content":"Add and design your forms and controls in the .NET Framework project, and based on the file glob patterns we added to the .NET Core projects, any new or changed files will automatically be included in the .NET Core projects.","pos":[10765,10989]},{"content":"Once Visual Studio 2019 supports the WPF Designer, you can copy/paste the content of your .NET Core project file into the .NET Framework project file.","pos":[10991,11141]},{"content":"Then delete the file glob patterns added with the <ph id=\"ph1\">`&lt;Source&gt;`</ph> and <ph id=\"ph2\">`&lt;EmbeddedResource&gt;`</ph> items.","pos":[11142,11234],"source":" Then delete the file glob patterns added with the `<Source>` and `<EmbeddedResource>` items."},{"content":"Fix the paths to any project reference used by your app.","pos":[11235,11291]},{"content":"This effectively upgrades the .NET Framework project to a .NET Core project.","pos":[11292,11368]},{"pos":[11374,11384],"content":"Next steps","linkify":"Next steps","nodes":[{"content":"Next steps","pos":[0,10]}]},{"pos":[11388,11450],"content":"Read more about the <bpt id=\"p1\">[</bpt>Windows Compatibility Pack<ept id=\"p1\">]</ept><bpt id=\"p2\">[</bpt><ept id=\"p2\">compat-pack]</ept>.","source":"Read more about the [Windows Compatibility Pack][compat-pack]."},{"pos":[11453,11610],"content":"Watch a <bpt id=\"p1\">[</bpt>video on porting<ept id=\"p1\">](https://www.youtube.com/watch?v=5MomsgkWkVw&amp;list=PLS__JrkRveTMiWxG-Lv4cBwYfMQ6m2gmt)</ept> your .NET Framework WPF project to .NET Core.","source":"Watch a [video on porting](https://www.youtube.com/watch?v=5MomsgkWkVw&list=PLS__JrkRveTMiWxG-Lv4cBwYfMQ6m2gmt) your .NET Framework WPF project to .NET Core."}]}