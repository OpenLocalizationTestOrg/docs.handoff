{"content":"---\ntitle: \"Time-Based Cache Policies\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"time-based cache policies\"\n  - \"cache synchronization date policy\"\n  - \"cache [.NET Framework], time-based policies\"\n  - \"freshness of cached resources\"\n  - \"time, cached resources\"\n  - \"maximum age policy\"\n  - \"synchronization, cache\"\n  - \"staleness of cached resources\"\n  - \"default time-based cache policy\"\n  - \"maximum staleness policy\"\n  - \"content cache policies\"\n  - \"expired content\"\n  - \"minimum freshness policy\"\n  - \"age of cached resources\"\nms.assetid: 74f0bcaf-5c95-40c1-9967-f3bbf1d2360a\n---\n# Time-Based Cache Policies\nA time-based cache policy defines the freshness of cached entries using the time the resource was retrieved, the headers returned with the resource, and the current time. When setting a time-based cache policy, you can either use the <xref:System.Net.Cache.HttpRequestCacheLevel.Default> time-based policy or create a customized time-based policy. When using the default time-based policy for resources obtained using Hypertext Transfer Protocol (HTTP), the exact cache behavior is determined by the headers included in the cached response and by the behaviors specified in sections 13 and 14 of RFC 2616, available at [Internet Engineering Task Force (IETF)](https://www.ietf.org/) website. For a code example that demonstrates setting the default time-based policy for HTTP resources, see [How to: Set the Default Time-Based Cache Policy for an Application](../../../docs/framework/network-programming/how-to-set-the-default-time-based-cache-policy-for-an-application.md). For code examples that demonstrate creating and using cache policies, see [Configuring Caching in Network Applications](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md).  \n  \n## Criteria to Determine Freshness of Cached Entries  \n To customize a time-based cache policy, you can specify that one or more of the following criteria be used to determine the freshness of cached entries:  \n  \n-   Maximum age  \n  \n-   Maximum staleness  \n  \n-   Minimum freshness  \n  \n-   Cache synchronization date  \n  \n> [!NOTE]\n>  Using the default time-based cache policy should not be confused with setting a default cache policy for your application. The default time-based policy is a specific policy that can be used at the request or application level. The default cache policy for your application is a policy (location-based or time-based) that takes effect when no policy is set on a request. For details on setting a default cache policy for your application, see <xref:System.Net.WebRequest.DefaultCachePolicy%2A>.  \n  \n### Maximum Age  \n The maximum age policy criterion specifies the amount of time a cached copy of a resource can be used. If the cached copy of the resource is older than the amount of time specified, the resource must be revalidated by checking it against the content on the server. If the maximum age would allow the resource to be used after it expires, this criteria is not honored unless a maximum staleness value is also specified.  \n  \n### Maximum Staleness  \n The maximum staleness policy criterion specifies the length of time after content expiration that the cached copy of the resource can be used. This is the only cache policy criterion that permits resources to be used after they have expired.  \n  \n### Minimum Freshness  \n The minimum freshness policy criterion specifies the length of time before content expiration that the cached copy of the resource can be used. This policy has the effect of causing a cache entry to expire before its expiration date; therefore, the minimum freshness and maximum staleness settings are mutually exclusive.  \n  \n## Cache Synchronization Date  \n The cache synchronization date policy criterion determines when a cached copy of a resource must be revalidated by checking it against the content on the server. If the content has changed since the item was cached, it is retrieved from the server, stored in the cache, and returned to the application. If the content has not changed, its timestamp is updated and the application gets the cached content.  \n  \n The cache synchronization date allows you to specify an absolute date when cached contents must be revalidated. If a fresh cache entry was last revalidated prior to the cache synchronization date, revalidation with the server still occurs. If the cache entry was revalidated after the cache synchronization date and there are no additional freshness or server revalidation requirements that invalidate the cached entry, the entry from the cache is used. If the cache synchronization date is set to a future date, the entry is revalidated every time it is requested, until the cache synchronization date passes.  \n  \n The following topics provide information about the effects of combining time-based cache policy criteria:  \n  \n-   [Cache Policy Interaction—Maximum Age and Maximum Staleness](../../../docs/framework/network-programming/cache-policy-interaction-maximum-age-and-maximum-staleness.md)  \n  \n-   [Cache Policy Interaction—Maximum Age and Minimum Freshness](../../../docs/framework/network-programming/cache-policy-interaction-maximum-age-and-minimum-freshness.md)  \n  \n## See also\n\n- [Cache Management for Network Applications](../../../docs/framework/network-programming/cache-management-for-network-applications.md)\n- [Cache Policy](../../../docs/framework/network-programming/cache-policy.md)\n- [Location-Based Cache Policies](../../../docs/framework/network-programming/location-based-cache-policies.md)\n- [Configuring Caching in Network Applications](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)\n- [\\<requestCaching> Element (Network Settings)](../../../docs/framework/configure-apps/file-schema/network/requestcaching-element-network-settings.md)\n","nodes":[{"pos":[4,589],"embed":true,"restype":"x-metadata","content":"title: \"Time-Based Cache Policies\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"time-based cache policies\"\n  - \"cache synchronization date policy\"\n  - \"cache [.NET Framework], time-based policies\"\n  - \"freshness of cached resources\"\n  - \"time, cached resources\"\n  - \"maximum age policy\"\n  - \"synchronization, cache\"\n  - \"staleness of cached resources\"\n  - \"default time-based cache policy\"\n  - \"maximum staleness policy\"\n  - \"content cache policies\"\n  - \"expired content\"\n  - \"minimum freshness policy\"\n  - \"age of cached resources\"\nms.assetid: 74f0bcaf-5c95-40c1-9967-f3bbf1d2360a","nodes":[{"content":"Time-Based Cache Policies","nodes":[{"pos":[0,25],"content":"Time-Based Cache Policies","nodes":[{"content":"Time-Based Cache Policies","pos":[0,25]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[596,621],"content":"Time-Based Cache Policies","linkify":"Time-Based Cache Policies","nodes":[{"content":"Time-Based Cache Policies","pos":[0,25]}]},{"content":"A time-based cache policy defines the freshness of cached entries using the time the resource was retrieved, the headers returned with the resource, and the current time.","pos":[622,792]},{"content":"When setting a time-based cache policy, you can either use the <ph id=\"ph1\">&lt;xref:System.Net.Cache.HttpRequestCacheLevel.Default&gt;</ph> time-based policy or create a customized time-based policy.","pos":[793,969],"source":" When setting a time-based cache policy, you can either use the <xref:System.Net.Cache.HttpRequestCacheLevel.Default> time-based policy or create a customized time-based policy."},{"content":"When using the default time-based policy for resources obtained using Hypertext Transfer Protocol (HTTP), the exact cache behavior is determined by the headers included in the cached response and by the behaviors specified in sections 13 and 14 of RFC 2616, available at <bpt id=\"p1\">[</bpt>Internet Engineering Task Force (IETF)<ept id=\"p1\">](https://www.ietf.org/)</ept> website.","pos":[970,1313],"source":" When using the default time-based policy for resources obtained using Hypertext Transfer Protocol (HTTP), the exact cache behavior is determined by the headers included in the cached response and by the behaviors specified in sections 13 and 14 of RFC 2616, available at [Internet Engineering Task Force (IETF)](https://www.ietf.org/) website."},{"content":"For a code example that demonstrates setting the default time-based policy for HTTP resources, see <bpt id=\"p1\">[</bpt>How to: Set the Default Time-Based Cache Policy for an Application<ept id=\"p1\">](../../../docs/framework/network-programming/how-to-set-the-default-time-based-cache-policy-for-an-application.md)</ept>.","pos":[1314,1596],"source":" For a code example that demonstrates setting the default time-based policy for HTTP resources, see [How to: Set the Default Time-Based Cache Policy for an Application](../../../docs/framework/network-programming/how-to-set-the-default-time-based-cache-policy-for-an-application.md)."},{"content":"For code examples that demonstrate creating and using cache policies, see <bpt id=\"p1\">[</bpt>Configuring Caching in Network Applications<ept id=\"p1\">](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)</ept>.","pos":[1597,1809],"source":" For code examples that demonstrate creating and using cache policies, see [Configuring Caching in Network Applications](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)."},{"pos":[1818,1867],"content":"Criteria to Determine Freshness of Cached Entries","linkify":"Criteria to Determine Freshness of Cached Entries","nodes":[{"content":"Criteria to Determine Freshness of Cached Entries","pos":[0,49]}]},{"content":"To customize a time-based cache policy, you can specify that one or more of the following criteria be used to determine the freshness of cached entries:","pos":[1871,2023]},{"content":"Maximum age","pos":[2033,2044]},{"content":"Maximum staleness","pos":[2054,2071]},{"content":"Minimum freshness","pos":[2081,2098]},{"content":"Cache synchronization date","pos":[2108,2134]},{"pos":[2142,2647],"content":"[!NOTE]\n Using the default time-based cache policy should not be confused with setting a default cache policy for your application. The default time-based policy is a specific policy that can be used at the request or application level. The default cache policy for your application is a policy (location-based or time-based) that takes effect when no policy is set on a request. For details on setting a default cache policy for your application, see <xref:System.Net.WebRequest.DefaultCachePolicy%2A>.","leadings":["","> "],"nodes":[{"content":"Using the default time-based cache policy should not be confused with setting a default cache policy for your application. The default time-based policy is a specific policy that can be used at the request or application level. The default cache policy for your application is a policy (location-based or time-based) that takes effect when no policy is set on a request. For details on setting a default cache policy for your application, see <xref:System.Net.WebRequest.DefaultCachePolicy%2A>.","pos":[9,503],"nodes":[{"content":"Using the default time-based cache policy should not be confused with setting a default cache policy for your application.","pos":[0,122]},{"content":"The default time-based policy is a specific policy that can be used at the request or application level.","pos":[123,227]},{"content":"The default cache policy for your application is a policy (location-based or time-based) that takes effect when no policy is set on a request.","pos":[228,370]},{"content":"For details on setting a default cache policy for your application, see <ph id=\"ph1\">&lt;xref:System.Net.WebRequest.DefaultCachePolicy%2A&gt;</ph>.","pos":[371,494],"source":" For details on setting a default cache policy for your application, see <xref:System.Net.WebRequest.DefaultCachePolicy%2A>."}]}]},{"pos":[2657,2668],"content":"Maximum Age","linkify":"Maximum Age","nodes":[{"content":"Maximum Age","pos":[0,11]}]},{"content":"The maximum age policy criterion specifies the amount of time a cached copy of a resource can be used.","pos":[2672,2774]},{"content":"If the cached copy of the resource is older than the amount of time specified, the resource must be revalidated by checking it against the content on the server.","pos":[2775,2936]},{"content":"If the maximum age would allow the resource to be used after it expires, this criteria is not honored unless a maximum staleness value is also specified.","pos":[2937,3090]},{"pos":[3100,3117],"content":"Maximum Staleness","linkify":"Maximum Staleness","nodes":[{"content":"Maximum Staleness","pos":[0,17]}]},{"content":"The maximum staleness policy criterion specifies the length of time after content expiration that the cached copy of the resource can be used.","pos":[3121,3263]},{"content":"This is the only cache policy criterion that permits resources to be used after they have expired.","pos":[3264,3362]},{"pos":[3372,3389],"content":"Minimum Freshness","linkify":"Minimum Freshness","nodes":[{"content":"Minimum Freshness","pos":[0,17]}]},{"content":"The minimum freshness policy criterion specifies the length of time before content expiration that the cached copy of the resource can be used.","pos":[3393,3536]},{"content":"This policy has the effect of causing a cache entry to expire before its expiration date; therefore, the minimum freshness and maximum staleness settings are mutually exclusive.","pos":[3537,3714]},{"pos":[3723,3749],"content":"Cache Synchronization Date","linkify":"Cache Synchronization Date","nodes":[{"content":"Cache Synchronization Date","pos":[0,26]}]},{"content":"The cache synchronization date policy criterion determines when a cached copy of a resource must be revalidated by checking it against the content on the server.","pos":[3753,3914]},{"content":"If the content has changed since the item was cached, it is retrieved from the server, stored in the cache, and returned to the application.","pos":[3915,4055]},{"content":"If the content has not changed, its timestamp is updated and the application gets the cached content.","pos":[4056,4157]},{"content":"The cache synchronization date allows you to specify an absolute date when cached contents must be revalidated.","pos":[4164,4275]},{"content":"If a fresh cache entry was last revalidated prior to the cache synchronization date, revalidation with the server still occurs.","pos":[4276,4403]},{"content":"If the cache entry was revalidated after the cache synchronization date and there are no additional freshness or server revalidation requirements that invalidate the cached entry, the entry from the cache is used.","pos":[4404,4617]},{"content":"If the cache synchronization date is set to a future date, the entry is revalidated every time it is requested, until the cache synchronization date passes.","pos":[4618,4774]},{"content":"The following topics provide information about the effects of combining time-based cache policy criteria:","pos":[4781,4886]},{"pos":[4896,5063],"content":"<bpt id=\"p1\">[</bpt>Cache Policy Interaction—Maximum Age and Maximum Staleness<ept id=\"p1\">](../../../docs/framework/network-programming/cache-policy-interaction-maximum-age-and-maximum-staleness.md)</ept>","source":"[Cache Policy Interaction—Maximum Age and Maximum Staleness](../../../docs/framework/network-programming/cache-policy-interaction-maximum-age-and-maximum-staleness.md)"},{"pos":[5073,5240],"content":"<bpt id=\"p1\">[</bpt>Cache Policy Interaction—Maximum Age and Minimum Freshness<ept id=\"p1\">](../../../docs/framework/network-programming/cache-policy-interaction-maximum-age-and-minimum-freshness.md)</ept>","source":"[Cache Policy Interaction—Maximum Age and Minimum Freshness](../../../docs/framework/network-programming/cache-policy-interaction-maximum-age-and-minimum-freshness.md)"},{"pos":[5249,5257],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5261,5394],"content":"<bpt id=\"p1\">[</bpt>Cache Management for Network Applications<ept id=\"p1\">](../../../docs/framework/network-programming/cache-management-for-network-applications.md)</ept>","source":"[Cache Management for Network Applications](../../../docs/framework/network-programming/cache-management-for-network-applications.md)"},{"pos":[5397,5472],"content":"<bpt id=\"p1\">[</bpt>Cache Policy<ept id=\"p1\">](../../../docs/framework/network-programming/cache-policy.md)</ept>","source":"[Cache Policy](../../../docs/framework/network-programming/cache-policy.md)"},{"pos":[5475,5584],"content":"<bpt id=\"p1\">[</bpt>Location-Based Cache Policies<ept id=\"p1\">](../../../docs/framework/network-programming/location-based-cache-policies.md)</ept>","source":"[Location-Based Cache Policies](../../../docs/framework/network-programming/location-based-cache-policies.md)"},{"pos":[5587,5724],"content":"<bpt id=\"p1\">[</bpt>Configuring Caching in Network Applications<ept id=\"p1\">](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)</ept>","source":"[Configuring Caching in Network Applications](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)"},{"pos":[5727,5876],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>requestCaching&gt; Element (Network Settings)<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/network/requestcaching-element-network-settings.md)</ept>","source":"[\\<requestCaching> Element (Network Settings)](../../../docs/framework/configure-apps/file-schema/network/requestcaching-element-network-settings.md)"}]}