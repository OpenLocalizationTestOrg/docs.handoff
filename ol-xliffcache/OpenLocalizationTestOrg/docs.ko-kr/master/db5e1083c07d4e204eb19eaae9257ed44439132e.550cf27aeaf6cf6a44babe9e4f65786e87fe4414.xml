{"content":"---\ntitle: \"<workflowRuntime>\"\nms.date: \"03/30/2017\"\nms.assetid: 304c70fa-78d1-4d0f-b89f-0ca23d734c6f\n---\n# \\<workflowRuntime>\nSpecifies settings for an instance of <xref:System.Workflow.Runtime.WorkflowRuntime> for hosting workflow-based Windows Communication Foundation (WCF) services.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<serviceBehaviors>  \n\\<behavior>  \n\\<workflowRuntime>  \n  \n## Syntax  \n  \n```xml  \n<workflowRuntime cachedInstanceExpiration=\"TimeSpan\"\n                 enablePerformanceCounters=\"Boolean\"\n                 name=\"String\"\n                 validateOnCreate=\"Boolean\">\n  <commonParameters>\n    <add name=\"String\"\n         value=\"String\" />\n  </commonParameters>\n  <services>\n    <add type=\"String\" />\n  </services>\n</workflowRuntime>\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|cachedInstanceExpiration|An optional <xref:System.TimeSpan> value that specifies the maximum duration a workflow instance can stay in-memory in idle state before it is forcefully unloaded or aborted. If the workflowruntime has `PersistenceService` which performs unloadOnIdle, this attribute is ignored.|  \n|enablePerformanceCounters|An optional Boolean value that specifies whether performance counters are enabled. Performance counters provide information on various workflow-related statistics, but they cause a performance penalty when the workflow runtime engine starts, and when workflow instances are running. The default value is `true`.|  \n|name|A string containing the name of the workflow runtime engine. The name is used in output to distinguish this runtime from other runtimes that may be running on the system, for example, in performance counters.<br /><br /> The default is an empty string.|  \n|validateOnCreate|An optional Boolean value that specifies whether validation of workflow definition will occur when the WorkflowServiceHost is opened.  When this attribute is set to `true`, the workflow validation is executed every time `WorkflowServiceHost.Open` is called. If validation errors are found, a <xref:System.Workflow.ComponentModel.Compiler.WorkflowValidationFailedException> error is thrown.<br /><br /> When this property is set to `false`, no Workflow definition validation will happen.<br /><br /> The default value for this property is `true`.|  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|commonParameters|A collection of common parameters used by services. This collection will typically include the database connection string that might be shared by durable services.|  \n|services|A collection of services that will be added to the <xref:System.Workflow.Runtime.WorkflowRuntime> engine. The elements are of type <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement>.  The services specified in the collection will be initialized by the workflow runtime engine and added to its services when the appropriate <xref:System.Workflow.Runtime.WorkflowRuntime> constructor is called. Therefore, the services specified in the collection must follow certain rules about the signatures of their constructors. See <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement> for more information.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<behavior>](../../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-endpointbehaviors.md)|Specifies a behavior element.|  \n  \n## Remarks  \n For more information on using a configuration file to control the behavior of a <xref:System.Workflow.Runtime.WorkflowRuntime> object of a Windows Workflow Foundation host application, see [Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90)).  \n  \n## Example  \n  \n```xml  \n<serviceBehaviors>\n   <behavior name=\"ServiceBehavior\">\n      <workflowRuntime name=\"WorkflowServiceHostRuntime\"\n                       validateOnCreate=\"true\"\n                       enablePerformanceCounters=\"true\">\n         <commonParameters>\n            <add name=\"ConnectionString\" value=\"Initial Catalog=WorkflowStore;Data Source=localhost;Integrated Security=SSPI;\" />\n            <add name=\"EnableRetries\" value=\"True\" />\n         </commonParameters>\n         <services>\n             <add type=\"NetFx.Checkin.Scenario.WorkflowServices.WorkflowBasedServices.Common.TestPersistenceService.FilePersistenceService, NetFx.Checkin.Scenario.WorkflowServices.WorkflowBasedServices.Common\"/>\n         </services>\n      </workflowRuntime>\n   </behavior>\n</serviceBehaviors>\n```  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.WorkflowRuntimeElement>\n- <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement>\n- <xref:System.Workflow.Runtime.WorkflowRuntime>\n- [Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))\n","nodes":[{"pos":[4,101],"embed":true,"restype":"x-metadata","content":"title: \"<workflowRuntime>\"\nms.date: \"03/30/2017\"\nms.assetid: 304c70fa-78d1-4d0f-b89f-0ca23d734c6f","nodes":[{"content":"<workflowRuntime>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[108,126],"content":"\\<workflowRuntime>","linkify":"\\<workflowRuntime>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>workflowRuntime&gt;","pos":[0,18],"source":"\\<workflowRuntime>"}]},{"pos":[127,287],"content":"Specifies settings for an instance of <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> for hosting workflow-based Windows Communication Foundation (WCF) services.","source":"Specifies settings for an instance of <xref:System.Workflow.Runtime.WorkflowRuntime> for hosting workflow-based Windows Communication Foundation (WCF) services."},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[294,316],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[319,331],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceBehaviors&gt;","pos":[334,353],"source":"\\<serviceBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[356,367],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>workflowRuntime&gt;","pos":[370,388],"source":"\\<workflowRuntime>"},{"pos":[397,403],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[777,800],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[804,884]},{"pos":[894,904],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[911,920]},{"content":"Description","pos":[921,932]},{"content":"cachedInstanceExpiration","pos":[975,999]},{"content":"An optional <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> value that specifies the maximum duration a workflow instance can stay in-memory in idle state before it is forcefully unloaded or aborted.","pos":[1000,1174],"source":"An optional <xref:System.TimeSpan> value that specifies the maximum duration a workflow instance can stay in-memory in idle state before it is forcefully unloaded or aborted."},{"content":"If the workflowruntime has <ph id=\"ph1\">`PersistenceService`</ph> which performs unloadOnIdle, this attribute is ignored.","pos":[1175,1278],"source":" If the workflowruntime has `PersistenceService` which performs unloadOnIdle, this attribute is ignored."},{"content":"enablePerformanceCounters","pos":[1283,1308]},{"content":"An optional Boolean value that specifies whether performance counters are enabled.","pos":[1309,1391]},{"content":"Performance counters provide information on various workflow-related statistics, but they cause a performance penalty when the workflow runtime engine starts, and when workflow instances are running.","pos":[1392,1591]},{"content":"The default value is <ph id=\"ph1\">`true`</ph>.","pos":[1592,1620],"source":" The default value is `true`."},{"content":"name","pos":[1625,1629]},{"content":"A string containing the name of the workflow runtime engine.","pos":[1630,1690]},{"content":"The name is used in output to distinguish this runtime from other runtimes that may be running on the system, for example, in performance counters.","pos":[1691,1838]},{"content":"The default is an empty string.","pos":[1851,1882]},{"content":"validateOnCreate","pos":[1887,1903]},{"content":"An optional Boolean value that specifies whether validation of workflow definition will occur when the WorkflowServiceHost is opened.","pos":[1904,2037]},{"content":"When this attribute is set to <ph id=\"ph1\">`true`</ph>, the workflow validation is executed every time <ph id=\"ph2\">`WorkflowServiceHost.Open`</ph> is called.","pos":[2039,2161],"source":"  When this attribute is set to `true`, the workflow validation is executed every time `WorkflowServiceHost.Open` is called."},{"content":"If validation errors are found, a <ph id=\"ph1\">&lt;xref:System.Workflow.ComponentModel.Compiler.WorkflowValidationFailedException&gt;</ph> error is thrown.","pos":[2162,2293],"source":" If validation errors are found, a <xref:System.Workflow.ComponentModel.Compiler.WorkflowValidationFailedException> error is thrown."},{"content":"When this property is set to <ph id=\"ph1\">`false`</ph>, no Workflow definition validation will happen.","pos":[2306,2390],"source":"When this property is set to `false`, no Workflow definition validation will happen."},{"content":"The default value for this property is <ph id=\"ph1\">`true`</ph>.","pos":[2403,2449],"source":"The default value for this property is `true`."},{"pos":[2460,2474],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[2481,2488]},{"content":"Description","pos":[2489,2500]},{"content":"commonParameters","pos":[2541,2557]},{"content":"A collection of common parameters used by services.","pos":[2558,2609]},{"content":"This collection will typically include the database connection string that might be shared by durable services.","pos":[2610,2721]},{"content":"services","pos":[2726,2734]},{"content":"A collection of services that will be added to the <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> engine.","pos":[2735,2840],"source":"A collection of services that will be added to the <xref:System.Workflow.Runtime.WorkflowRuntime> engine."},{"content":"The elements are of type <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement&gt;</ph>.","pos":[2841,2941],"source":" The elements are of type <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement>."},{"content":"The services specified in the collection will be initialized by the workflow runtime engine and added to its services when the appropriate <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> constructor is called.","pos":[2943,3151],"source":"  The services specified in the collection will be initialized by the workflow runtime engine and added to its services when the appropriate <xref:System.Workflow.Runtime.WorkflowRuntime> constructor is called."},{"content":"Therefore, the services specified in the collection must follow certain rules about the signatures of their constructors.","pos":[3152,3273]},{"content":"See <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement&gt;</ph> for more information.","pos":[3274,3374],"source":" See <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement> for more information."},{"pos":[3385,3400],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3407,3414]},{"content":"Description","pos":[3415,3426]},{"pos":[3467,3575],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>behavior&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-endpointbehaviors.md)</ept>","source":"[\\<behavior>](../../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-endpointbehaviors.md)"},{"content":"Specifies a behavior element.","pos":[3576,3605]},{"pos":[3615,3622],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[3626,3934],"content":"For more information on using a configuration file to control the behavior of a <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> object of a Windows Workflow Foundation host application, see <bpt id=\"p1\">[</bpt>Workflow Configuration Files<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))</ept>.","source":"For more information on using a configuration file to control the behavior of a <xref:System.Workflow.Runtime.WorkflowRuntime> object of a Windows Workflow Foundation host application, see [Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))."},{"pos":[3943,3950],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4748,4756],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4952,5070],"content":"<bpt id=\"p1\">[</bpt>Workflow Configuration Files<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))</ept>","source":"[Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))"}]}