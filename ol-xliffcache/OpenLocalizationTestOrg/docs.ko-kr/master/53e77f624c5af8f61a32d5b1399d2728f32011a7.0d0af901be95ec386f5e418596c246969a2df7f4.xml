{"content":"---\ntitle: \"Inferring Columns\"\nms.date: \"03/30/2017\"\nms.assetid: 0e022699-c922-454c-93e2-957dd7e7247a\n---\n# Inferring Columns\nAfter ADO.NET has determined from an XML document which elements to infer as tables for a <xref:System.Data.DataSet>, it then infers the columns for those tables. ADO.NET 2.0 introduced a new schema inference engine that infers a strongly typed data type for each **simpleType** element. In previous versions, the data type of an inferred **simpleType** element was always **xsd:string**.  \n  \n## Migration and Backward Compatibility  \n The **ReadXml** method takes an argument of type **InferSchema**. This argument allows you to specify inference behavior compatible with previous versions. The available values for the **InferSchema** enumeration are shown in the following table.  \n  \n <xref:System.Data.XmlReadMode.InferSchema>  \n Provides backward compatibility by always inferring a simple type as <xref:System.String>.  \n  \n <xref:System.Data.XmlReadMode.InferTypedSchema>  \n Infers a strongly typed data type. Throws an exception if used with a <xref:System.Data.DataTable>.  \n  \n <xref:System.Data.XmlReadMode.IgnoreSchema>  \n Ignores any inline schema and reads data into the existing <xref:System.Data.DataSet> schema.  \n  \n## Attributes  \n As defined in [Inferring Tables](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-tables.md), an element with attributes will be inferred as a table. The attributes of that element will then be inferred as columns for the table. The **ColumnMapping** property of the columns will be set to **MappingType.Attribute**, to ensure that the column names will be written as attributes if the schema is written back to XML. The values of the attributes are stored in a row in the table. For example, consider the following XML:  \n  \n```xml  \n<DocumentElement>  \n  <Element1 attr1=\"value1\" attr2=\"value2\"/>  \n</DocumentElement>  \n```  \n  \n The inference process will produce a table named **Element1** with two columns, **attr1** and **attr2**. The **ColumnMapping** property of both columns will be set to **MappingType.Attribute**.  \n  \n **DataSet:** DocumentElement  \n  \n **Table:** Element1  \n  \n|attr1|attr2|  \n|-----------|-----------|  \n|value1|value2|  \n  \n## Elements Without Attributes or Child Elements  \n If an element has no child elements or attributes, it will be inferred as a column. The **ColumnMapping** property of the column will be set to **MappingType.Element**. The text for child elements is stored in a row in the table. For example, consider the following XML:  \n  \n```xml  \n<DocumentElement>  \n  <Element1>  \n    <ChildElement1>Text1</ChildElement1>  \n    <ChildElement2>Text2</ChildElement2>  \n  </Element1>  \n</DocumentElement>  \n```  \n  \n The inference process will produce a table named **Element1** with two columns, **ChildElement1** and **ChildElement2**. The **ColumnMapping** property of both columns will be set to **MappingType.Element**.  \n  \n **DataSet:** DocumentElement  \n  \n **Table:** Element1  \n  \n|ChildElement1|ChildElement2|  \n|-------------------|-------------------|  \n|Text1|Text2|  \n  \n## See also\n\n- [Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)\n- [Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)\n- [Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)\n- [Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)\n- [DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,101],"embed":true,"restype":"x-metadata","content":"title: \"Inferring Columns\"\nms.date: \"03/30/2017\"\nms.assetid: 0e022699-c922-454c-93e2-957dd7e7247a","nodes":[{"content":"Inferring Columns","nodes":[{"pos":[0,17],"content":"Inferring Columns","nodes":[{"content":"Inferring Columns","pos":[0,17]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[108,125],"content":"Inferring Columns","linkify":"Inferring Columns","nodes":[{"content":"Inferring Columns","pos":[0,17]}]},{"content":"After ADO.NET has determined from an XML document which elements to infer as tables for a <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph>, it then infers the columns for those tables.","pos":[126,288],"source":"After ADO.NET has determined from an XML document which elements to infer as tables for a <xref:System.Data.DataSet>, it then infers the columns for those tables."},{"content":"ADO.NET 2.0 introduced a new schema inference engine that infers a strongly typed data type for each <bpt id=\"p1\">**</bpt>simpleType<ept id=\"p1\">**</ept> element.","pos":[289,413],"source":" ADO.NET 2.0 introduced a new schema inference engine that infers a strongly typed data type for each **simpleType** element."},{"content":"In previous versions, the data type of an inferred <bpt id=\"p1\">**</bpt>simpleType<ept id=\"p1\">**</ept> element was always <bpt id=\"p2\">**</bpt>xsd:string<ept id=\"p2\">**</ept>.","pos":[414,514],"source":" In previous versions, the data type of an inferred **simpleType** element was always **xsd:string**."},{"pos":[523,559],"content":"Migration and Backward Compatibility","linkify":"Migration and Backward Compatibility","nodes":[{"content":"Migration and Backward Compatibility","pos":[0,36]}]},{"content":"The <bpt id=\"p1\">**</bpt>ReadXml<ept id=\"p1\">**</ept> method takes an argument of type <bpt id=\"p2\">**</bpt>InferSchema<ept id=\"p2\">**</ept>.","pos":[563,628],"source":"The **ReadXml** method takes an argument of type **InferSchema**."},{"content":"This argument allows you to specify inference behavior compatible with previous versions.","pos":[629,718]},{"content":"The available values for the <bpt id=\"p1\">**</bpt>InferSchema<ept id=\"p1\">**</ept> enumeration are shown in the following table.","pos":[719,809],"source":" The available values for the **InferSchema** enumeration are shown in the following table."},{"content":"Provides backward compatibility by always inferring a simple type as <ph id=\"ph1\">&lt;xref:System.String&gt;</ph>.","pos":[862,952],"source":"Provides backward compatibility by always inferring a simple type as <xref:System.String>."},{"content":"Infers a strongly typed data type.","pos":[1010,1044]},{"content":"Throws an exception if used with a <ph id=\"ph1\">&lt;xref:System.Data.DataTable&gt;</ph>.","pos":[1045,1109],"source":" Throws an exception if used with a <xref:System.Data.DataTable>."},{"content":"Ignores any inline schema and reads data into the existing <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph> schema.","pos":[1163,1256],"source":"Ignores any inline schema and reads data into the existing <xref:System.Data.DataSet> schema."},{"pos":[1265,1275],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"As defined in <bpt id=\"p1\">[</bpt>Inferring Tables<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-tables.md)</ept>, an element with attributes will be inferred as a table.","pos":[1279,1458],"source":"As defined in [Inferring Tables](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-tables.md), an element with attributes will be inferred as a table."},{"content":"The attributes of that element will then be inferred as columns for the table.","pos":[1459,1537]},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the columns will be set to <bpt id=\"p2\">**</bpt>MappingType.Attribute<ept id=\"p2\">**</ept>, to ensure that the column names will be written as attributes if the schema is written back to XML.","pos":[1538,1725],"source":" The **ColumnMapping** property of the columns will be set to **MappingType.Attribute**, to ensure that the column names will be written as attributes if the schema is written back to XML."},{"content":"The values of the attributes are stored in a row in the table.","pos":[1726,1788]},{"content":"For example, consider the following XML:","pos":[1789,1829]},{"content":"The inference process will produce a table named <bpt id=\"p1\">**</bpt>Element1<ept id=\"p1\">**</ept> with two columns, <bpt id=\"p2\">**</bpt>attr1<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>attr2<ept id=\"p3\">**</ept>.","pos":[1941,2045],"source":"The inference process will produce a table named **Element1** with two columns, **attr1** and **attr2**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of both columns will be set to <bpt id=\"p2\">**</bpt>MappingType.Attribute<ept id=\"p2\">**</ept>.","pos":[2046,2134],"source":" The **ColumnMapping** property of both columns will be set to **MappingType.Attribute**."},{"pos":[2141,2169],"content":"<bpt id=\"p1\">**</bpt>DataSet:<ept id=\"p1\">**</ept> DocumentElement","source":"**DataSet:** DocumentElement"},{"pos":[2176,2195],"content":"<bpt id=\"p1\">**</bpt>Table:<ept id=\"p1\">**</ept> Element1","source":"**Table:** Element1"},{"content":"attr1","pos":[2202,2207]},{"content":"attr2","pos":[2208,2213]},{"content":"value1","pos":[2246,2252]},{"content":"value2","pos":[2253,2259]},{"pos":[2269,2314],"content":"Elements Without Attributes or Child Elements","linkify":"Elements Without Attributes or Child Elements","nodes":[{"content":"Elements Without Attributes or Child Elements","pos":[0,45]}]},{"content":"If an element has no child elements or attributes, it will be inferred as a column.","pos":[2318,2401]},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the column will be set to <bpt id=\"p2\">**</bpt>MappingType.Element<ept id=\"p2\">**</ept>.","pos":[2402,2486],"source":" The **ColumnMapping** property of the column will be set to **MappingType.Element**."},{"content":"The text for child elements is stored in a row in the table.","pos":[2487,2547]},{"content":"For example, consider the following XML:","pos":[2548,2588]},{"content":"The inference process will produce a table named <bpt id=\"p1\">**</bpt>Element1<ept id=\"p1\">**</ept> with two columns, <bpt id=\"p2\">**</bpt>ChildElement1<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>ChildElement2<ept id=\"p3\">**</ept>.","pos":[2771,2891],"source":"The inference process will produce a table named **Element1** with two columns, **ChildElement1** and **ChildElement2**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of both columns will be set to <bpt id=\"p2\">**</bpt>MappingType.Element<ept id=\"p2\">**</ept>.","pos":[2892,2978],"source":" The **ColumnMapping** property of both columns will be set to **MappingType.Element**."},{"pos":[2985,3013],"content":"<bpt id=\"p1\">**</bpt>DataSet:<ept id=\"p1\">**</ept> DocumentElement","source":"**DataSet:** DocumentElement"},{"pos":[3020,3039],"content":"<bpt id=\"p1\">**</bpt>Table:<ept id=\"p1\">**</ept> Element1","source":"**Table:** Element1"},{"content":"ChildElement1","pos":[3046,3059]},{"content":"ChildElement2","pos":[3060,3073]},{"content":"Text1","pos":[3122,3127]},{"content":"Text2","pos":[3128,3133]},{"pos":[3143,3151],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3155,3325],"content":"<bpt id=\"p1\">[</bpt>Inferring DataSet Relational Structure from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)</ept>","source":"[Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)"},{"pos":[3328,3456],"content":"<bpt id=\"p1\">[</bpt>Loading a DataSet from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)</ept>","source":"[Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)"},{"pos":[3459,3621],"content":"<bpt id=\"p1\">[</bpt>Loading DataSet Schema Information from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)</ept>","source":"[Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)"},{"pos":[3624,3744],"content":"<bpt id=\"p1\">[</bpt>Using XML in a DataSet<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)</ept>","source":"[Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)"},{"pos":[3747,3863],"content":"<bpt id=\"p1\">[</bpt>DataSets, DataTables, and DataViews<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)</ept>","source":"[DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)"},{"pos":[3866,3970],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}