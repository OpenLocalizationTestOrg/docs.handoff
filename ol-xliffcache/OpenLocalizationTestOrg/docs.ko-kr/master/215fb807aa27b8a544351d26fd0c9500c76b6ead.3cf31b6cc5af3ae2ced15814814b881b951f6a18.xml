{"content":"---\ntitle: \"Recoverable XSLT Errors\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 484929b0-fefb-4629-87ee-ebdde70ff1f8\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Recoverable XSLT Errors\nThe W3C XSL Transformations (XSLT) Version 1.0 Recommendation includes areas in which the implementation provider may decide how to handle a situation. These areas are considered to be discretionary behavior. For example, in section 7.3 Creating Processing Instructions, the XSLT 1.0 recommendation states that it is an error if instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes. For some problems, the XSLT 1.0 recommendation indicates what decision should be made if the processor decides to recover from the error. For the problem given in section 7.3, the W3C says that the implementation can recover from this error by ignoring the nodes and their content.  \n  \n## Discretionary Behaviors  \n The following table lists each of the discretionary behaviors allowed by the XSLT 1.0 recommendation, and how these behaviors are handled by the <xref:System.Xml.Xsl.XslCompiledTransform> class.  \n  \n-   Recover indicates that the <xref:System.Xml.Xsl.XslCompiledTransform> class will recover from this error. The <xref:System.Xml.Xsl.XsltArgumentList.XsltMessageEncountered?displayProperty=nameWithType> event can be used to report any events from the XSLT processor.  \n  \n-   Error indicates that an exception is raised for this condition.  \n  \n-   The section references can be found in the [W3C XSL Transformations (XSLT) Version 1.0 Recommendation](https://www.w3.org/TR/xslt) and the [W3C XSL Transformations (XSLT) Version 1.0 Specification Errata](https://www.w3.org/1999/11/REC-xslt-19991116-errata/).  \n  \n|XSLT condition|Section|XslCompiledTransform behavior|  \n|--------------------|-------------|-----------------------------------|  \n|A text node matches both `xsl:strip-space` and `xsl:preserve-space`.|3.4|Recover|  \n|A source node matches more than one template rule.|5.5|Recover|  \n|A namespace URI is declared to be an alias for multiple namespace URIs, all having the same import precedence.|7.1.1|Recover|  \n|The `name` attribute in `xsl:attribute` and `xsl:element` generated from an attribute value is not a QName.|7.1.2, 7.1.3|Error*|  \n|Two attribute sets with the same import and expanded-name have an attribute in common and there is no other attribute set containing the common attribute having the same name with higher importance.|7.1.4|Recover|  \n|Adding an attribute to an element after children have been added to it.|7.1.3|Error*|  \n|Creating an attribute with the name 'xmlns'|7.1.3|Error*|  \n|Adding an attribute to a node that is not an element.|7.1.3|Error*|  \n|Creating nodes other than text nodes during the instantiation of the content of the `xsl:attribute` attribute.|7.1.3|Error*|  \n|The `name` attribute of an `xsl:processing-instruction` does not yield both an NCName and a processing instruction target.|7.3|Error*|  \n|Instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes.|7.3|Error*|  \n|The result of instantiating the content of the `xsl:processing-instruction` contains the string \"?>\"|7.3|Recover|  \n|The result of instantiating the content of the `xsl:processing-instruction` contains the string \"--\" or ends with \"-\".|7.4|Recover|  \n|The result of instantiating the content of the `xsl:comment` creates nodes other than text nodes.|7.4|Error*|  \n|The template within a variable-binding element returns an attribute node or a namespace node.|11.2|Error*|  \n|There is an error retrieving the resource from the URI passed into the document function.|12.1|Error|  \n|The URI reference in the document function contains a fragment identifier and there is an error processing the fragment identifier.|12.1|Recover*|  \n|There are multiple attributes with the same name, but different values, that are not named cdata-section elements in `xsl:output` with the same import precedence.|16|Recover|  \n|The processor does not support the encoding in the `xsl:output` encoding attribute.|16.1|Recover|  \n|Disabling output escaping for a text node that is used for something other than a text node in the result tree.|16.4|Recover*|  \n|Converting a result tree fragment to a number or string if the result tree fragment contains a text node with output escaping enabled.|16.4|Recover*|  \n|Output escaping is disabled for a character that cannot be represented in the encoding that the XSLT processor is using for output.|16.4|Recover*|  \n|Adding a namespace node to an element after children have been added to it or after attributes have been added to it.|errata 25|Error*|  \n|The `value` attribute of an `xsl:number` is NAN, infinite or less than 0.5|errata 24|Recover|  \n|The second argument node-set to the document function is empty and the URI reference is relative.|errata 14|Recover|  \n  \n <sup>*</sup> This behavior is different than that of the <xref:System.Xml.Xsl.XslTransform> class. For more information, see [Implementation of Discretionary Behaviors in the XslTransform Class](../../../../docs/standard/data/xml/implementation-of-discretionary-behaviors-in-the-xsltransform-class.md).  \n  \n## See also\n\n- [XSLT Transformations](../../../../docs/standard/data/xml/xslt-transformations.md)\n","nodes":[{"pos":[4,175],"embed":true,"restype":"x-metadata","content":"title: \"Recoverable XSLT Errors\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 484929b0-fefb-4629-87ee-ebdde70ff1f8\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Recoverable XSLT Errors","nodes":[{"pos":[0,23],"content":"Recoverable XSLT Errors","nodes":[{"content":"Recoverable XSLT Errors","pos":[0,23]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[182,205],"content":"Recoverable XSLT Errors","linkify":"Recoverable XSLT Errors","nodes":[{"content":"Recoverable XSLT Errors","pos":[0,23]}]},{"content":"The W3C XSL Transformations (XSLT) Version 1.0 Recommendation includes areas in which the implementation provider may decide how to handle a situation.","pos":[206,357]},{"content":"These areas are considered to be discretionary behavior.","pos":[358,414]},{"content":"For example, in section 7.3 Creating Processing Instructions, the XSLT 1.0 recommendation states that it is an error if instantiating the content of <ph id=\"ph1\">`xsl:processing-instruction`</ph> creates nodes other than text nodes.","pos":[415,629],"source":" For example, in section 7.3 Creating Processing Instructions, the XSLT 1.0 recommendation states that it is an error if instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes."},{"content":"For some problems, the XSLT 1.0 recommendation indicates what decision should be made if the processor decides to recover from the error.","pos":[630,767]},{"content":"For the problem given in section 7.3, the W3C says that the implementation can recover from this error by ignoring the nodes and their content.","pos":[768,911]},{"pos":[920,943],"content":"Discretionary Behaviors","linkify":"Discretionary Behaviors","nodes":[{"content":"Discretionary Behaviors","pos":[0,23]}]},{"pos":[947,1141],"content":"The following table lists each of the discretionary behaviors allowed by the XSLT 1.0 recommendation, and how these behaviors are handled by the <ph id=\"ph1\">&lt;xref:System.Xml.Xsl.XslCompiledTransform&gt;</ph> class.","source":"The following table lists each of the discretionary behaviors allowed by the XSLT 1.0 recommendation, and how these behaviors are handled by the <xref:System.Xml.Xsl.XslCompiledTransform> class."},{"content":"Recover indicates that the <ph id=\"ph1\">&lt;xref:System.Xml.Xsl.XslCompiledTransform&gt;</ph> class will recover from this error.","pos":[1151,1256],"source":"Recover indicates that the <xref:System.Xml.Xsl.XslCompiledTransform> class will recover from this error."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Xsl.XsltArgumentList.XsltMessageEncountered?displayProperty=nameWithType&gt;</ph> event can be used to report any events from the XSLT processor.","pos":[1257,1415],"source":" The <xref:System.Xml.Xsl.XsltArgumentList.XsltMessageEncountered?displayProperty=nameWithType> event can be used to report any events from the XSLT processor."},{"content":"Error indicates that an exception is raised for this condition.","pos":[1425,1488]},{"pos":[1498,1757],"content":"The section references can be found in the <bpt id=\"p1\">[</bpt>W3C XSL Transformations (XSLT) Version 1.0 Recommendation<ept id=\"p1\">](https://www.w3.org/TR/xslt)</ept> and the <bpt id=\"p2\">[</bpt>W3C XSL Transformations (XSLT) Version 1.0 Specification Errata<ept id=\"p2\">](https://www.w3.org/1999/11/REC-xslt-19991116-errata/)</ept>.","source":"The section references can be found in the [W3C XSL Transformations (XSLT) Version 1.0 Recommendation](https://www.w3.org/TR/xslt) and the [W3C XSL Transformations (XSLT) Version 1.0 Specification Errata](https://www.w3.org/1999/11/REC-xslt-19991116-errata/)."},{"content":"XSLT condition","pos":[1764,1778]},{"content":"Section","pos":[1779,1786]},{"content":"XslCompiledTransform behavior","pos":[1787,1816]},{"pos":[1896,1964],"content":"A text node matches both <ph id=\"ph1\">`xsl:strip-space`</ph> and <ph id=\"ph2\">`xsl:preserve-space`</ph>.","source":"A text node matches both `xsl:strip-space` and `xsl:preserve-space`."},{"content":"3.4","pos":[1965,1968]},{"content":"Recover","pos":[1969,1976]},{"content":"A source node matches more than one template rule.","pos":[1981,2031]},{"content":"5.5","pos":[2032,2035]},{"content":"Recover","pos":[2036,2043]},{"content":"A namespace URI is declared to be an alias for multiple namespace URIs, all having the same import precedence.","pos":[2048,2158]},{"content":"7.1.1","pos":[2159,2164]},{"content":"Recover","pos":[2165,2172]},{"pos":[2177,2284],"content":"The <ph id=\"ph1\">`name`</ph> attribute in <ph id=\"ph2\">`xsl:attribute`</ph> and <ph id=\"ph3\">`xsl:element`</ph> generated from an attribute value is not a QName.","source":"The `name` attribute in `xsl:attribute` and `xsl:element` generated from an attribute value is not a QName."},{"content":"7.1.2, 7.1.3","pos":[2285,2297]},{"content":"Error*","pos":[2298,2304]},{"content":"Two attribute sets with the same import and expanded-name have an attribute in common and there is no other attribute set containing the common attribute having the same name with higher importance.","pos":[2309,2507]},{"content":"7.1.4","pos":[2508,2513]},{"content":"Recover","pos":[2514,2521]},{"content":"Adding an attribute to an element after children have been added to it.","pos":[2526,2597]},{"content":"7.1.3","pos":[2598,2603]},{"content":"Error*","pos":[2604,2610]},{"content":"Creating an attribute with the name 'xmlns'","pos":[2615,2658]},{"content":"7.1.3","pos":[2659,2664]},{"content":"Error*","pos":[2665,2671]},{"content":"Adding an attribute to a node that is not an element.","pos":[2676,2729]},{"content":"7.1.3","pos":[2730,2735]},{"content":"Error*","pos":[2736,2742]},{"pos":[2747,2857],"content":"Creating nodes other than text nodes during the instantiation of the content of the <ph id=\"ph1\">`xsl:attribute`</ph> attribute.","source":"Creating nodes other than text nodes during the instantiation of the content of the `xsl:attribute` attribute."},{"content":"7.1.3","pos":[2858,2863]},{"content":"Error*","pos":[2864,2870]},{"pos":[2875,2997],"content":"The <ph id=\"ph1\">`name`</ph> attribute of an <ph id=\"ph2\">`xsl:processing-instruction`</ph> does not yield both an NCName and a processing instruction target.","source":"The `name` attribute of an `xsl:processing-instruction` does not yield both an NCName and a processing instruction target."},{"content":"7.3","pos":[2998,3001]},{"content":"Error*","pos":[3002,3008]},{"pos":[3013,3107],"content":"Instantiating the content of <ph id=\"ph1\">`xsl:processing-instruction`</ph> creates nodes other than text nodes.","source":"Instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes."},{"content":"7.3","pos":[3108,3111]},{"content":"Error*","pos":[3112,3118]},{"pos":[3123,3223],"content":"The result of instantiating the content of the <ph id=\"ph1\">`xsl:processing-instruction`</ph> contains the string \"?&gt;\"","source":"The result of instantiating the content of the `xsl:processing-instruction` contains the string \"?>\""},{"content":"7.3","pos":[3224,3227]},{"content":"Recover","pos":[3228,3235]},{"pos":[3240,3358],"content":"The result of instantiating the content of the <ph id=\"ph1\">`xsl:processing-instruction`</ph> contains the string \"--\" or ends with \"-\".","source":"The result of instantiating the content of the `xsl:processing-instruction` contains the string \"--\" or ends with \"-\"."},{"content":"7.4","pos":[3359,3362]},{"content":"Recover","pos":[3363,3370]},{"pos":[3375,3472],"content":"The result of instantiating the content of the <ph id=\"ph1\">`xsl:comment`</ph> creates nodes other than text nodes.","source":"The result of instantiating the content of the `xsl:comment` creates nodes other than text nodes."},{"content":"7.4","pos":[3473,3476]},{"content":"Error*","pos":[3477,3483]},{"content":"The template within a variable-binding element returns an attribute node or a namespace node.","pos":[3488,3581]},{"content":"11.2","pos":[3582,3586]},{"content":"Error*","pos":[3587,3593]},{"content":"There is an error retrieving the resource from the URI passed into the document function.","pos":[3598,3687]},{"content":"12.1","pos":[3688,3692]},{"content":"Error","pos":[3693,3698]},{"content":"The URI reference in the document function contains a fragment identifier and there is an error processing the fragment identifier.","pos":[3703,3834]},{"content":"12.1","pos":[3835,3839]},{"content":"Recover*","pos":[3840,3848]},{"pos":[3853,4015],"content":"There are multiple attributes with the same name, but different values, that are not named cdata-section elements in <ph id=\"ph1\">`xsl:output`</ph> with the same import precedence.","source":"There are multiple attributes with the same name, but different values, that are not named cdata-section elements in `xsl:output` with the same import precedence."},{"content":"16","pos":[4016,4018]},{"content":"Recover","pos":[4019,4026]},{"pos":[4031,4114],"content":"The processor does not support the encoding in the <ph id=\"ph1\">`xsl:output`</ph> encoding attribute.","source":"The processor does not support the encoding in the `xsl:output` encoding attribute."},{"content":"16.1","pos":[4115,4119]},{"content":"Recover","pos":[4120,4127]},{"content":"Disabling output escaping for a text node that is used for something other than a text node in the result tree.","pos":[4132,4243]},{"content":"16.4","pos":[4244,4248]},{"content":"Recover*","pos":[4249,4257]},{"content":"Converting a result tree fragment to a number or string if the result tree fragment contains a text node with output escaping enabled.","pos":[4262,4396]},{"content":"16.4","pos":[4397,4401]},{"content":"Recover*","pos":[4402,4410]},{"content":"Output escaping is disabled for a character that cannot be represented in the encoding that the XSLT processor is using for output.","pos":[4415,4546]},{"content":"16.4","pos":[4547,4551]},{"content":"Recover*","pos":[4552,4560]},{"content":"Adding a namespace node to an element after children have been added to it or after attributes have been added to it.","pos":[4565,4682]},{"content":"errata 25","pos":[4683,4692]},{"content":"Error*","pos":[4693,4699]},{"pos":[4704,4778],"content":"The <ph id=\"ph1\">`value`</ph> attribute of an <ph id=\"ph2\">`xsl:number`</ph> is NAN, infinite or less than 0.5","source":"The `value` attribute of an `xsl:number` is NAN, infinite or less than 0.5"},{"content":"errata 24","pos":[4779,4788]},{"content":"Recover","pos":[4789,4796]},{"content":"The second argument node-set to the document function is empty and the URI reference is relative.","pos":[4801,4898]},{"content":"errata 14","pos":[4899,4908]},{"content":"Recover","pos":[4909,4916]},{"content":"<bpt id=\"p1\">&lt;sup&gt;</bpt><ph id=\"ph1\">*</ph><ept id=\"p1\">&lt;/sup&gt;</ept> This behavior is different than that of the <ph id=\"ph2\">&lt;xref:System.Xml.Xsl.XslTransform&gt;</ph> class.","pos":[4924,5022],"source":"<sup>*</sup> This behavior is different than that of the <xref:System.Xml.Xsl.XslTransform> class."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Implementation of Discretionary Behaviors in the XslTransform Class<ept id=\"p1\">](../../../../docs/standard/data/xml/implementation-of-discretionary-behaviors-in-the-xsltransform-class.md)</ept>.","pos":[5023,5226],"source":" For more information, see [Implementation of Discretionary Behaviors in the XslTransform Class](../../../../docs/standard/data/xml/implementation-of-discretionary-behaviors-in-the-xsltransform-class.md)."},{"pos":[5235,5243],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5247,5329],"content":"<bpt id=\"p1\">[</bpt>XSLT Transformations<ept id=\"p1\">](../../../../docs/standard/data/xml/xslt-transformations.md)</ept>","source":"[XSLT Transformations](../../../../docs/standard/data/xml/xslt-transformations.md)"}]}