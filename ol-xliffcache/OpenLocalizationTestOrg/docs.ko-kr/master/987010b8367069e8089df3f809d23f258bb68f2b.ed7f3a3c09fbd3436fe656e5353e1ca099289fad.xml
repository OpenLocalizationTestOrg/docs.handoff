{"content":"---\ntitle: \"Changes to the System.Uri namespace in version 2.0\"\nms.date: \"03/30/2017\"\nms.assetid: 35883fe9-2d09-4d8b-80ca-cf23a941e459\n---\n# Changes to the System.Uri namespace in version 2.0\n\nSeveral changes were made to the <xref:System.Uri?displayProperty=nameWithType> class. These changes fixed incorrect behavior, enhanced usability, and enhanced security.\n\n## Obsolete and deprecated Members\n\n Constructors:\n\n- All constructors that have a `dontEscape` parameter.\n\n Methods:\n\n- <xref:System.Uri.CheckSecurity%2A>\n\n- <xref:System.Uri.Escape%2A>\n\n- <xref:System.Uri.Canonicalize%2A>\n\n- <xref:System.Uri.Parse%2A>\n\n- <xref:System.Uri.IsReservedCharacter%2A>\n\n- <xref:System.Uri.IsBadFileSystemCharacter%2A>\n\n- <xref:System.Uri.IsExcludedCharacter%2A>\n\n- <xref:System.Uri.EscapeString%2A>\n\n## Changes\n\n- For URI schemes that are known to not have a query part (file, ftp, and others), the '?' character is always escaped and is not considered the beginning of a <xref:System.Uri.Query%2A> part.\n\n- For implicit file URIs (of the form `c:\\directory\\file@name.txt`), the fragment character ('#') is always escaped unless full unescaping is requested or <xref:System.Uri.LocalPath%2A> is `true`.\n\n- UNC hostname support was removed; the IDN specification for representing international hostnames was adopted.\n\n- <xref:System.Uri.LocalPath%2A> always returns a completely unescaped string.\n\n- <xref:System.Uri.ToString%2A> does not unescape an escaped '%', '?', or '#' character.\n\n- <xref:System.Uri.Equals%2A> now includes the <xref:System.Uri.Query%2A> part in the equality check.\n\n- Operators \"==\" and \"!=\" are overridden and linked to the <xref:System.Uri.Equals%2A> method.\n\n- <xref:System.Uri.IsLoopback%2A> now produces consistent results.\n\n- The URI \"`file:///path`\" is no longer translated into `file://path`.\n\n- \"#\" is now recognized as a host name terminator. That is, `http://contoso.com#fragment` is now converted to `http://contoso.com/#fragment`.\n\n- A bug when combining a base URI with a fragment has been fixed.\n\n- A bug in <xref:System.Uri.HostNameType%2A> is fixed.\n\n- A bug in NNTP parsing is fixed.\n\n- A URI of the form HTTP:contoso.com now throws a parsing exception.\n\n- The Framework correctly handles userinfo in a URI.\n\n- URI path compression is fixed so that a broken URI cannot traverse the file system above the root.\n\n## See also\n\n- <xref:System.Uri?displayProperty=nameWithType>\n","nodes":[{"pos":[4,134],"embed":true,"restype":"x-metadata","content":"title: \"Changes to the System.Uri namespace in version 2.0\"\nms.date: \"03/30/2017\"\nms.assetid: 35883fe9-2d09-4d8b-80ca-cf23a941e459","nodes":[{"content":"Changes to the System.Uri namespace in version 2.0","nodes":[{"pos":[0,50],"content":"Changes to the System.Uri namespace in version 2.0","nodes":[{"content":"Changes to the System.Uri namespace in version 2.0","pos":[0,50]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[141,191],"content":"Changes to the System.Uri namespace in version 2.0","linkify":"Changes to the System.Uri namespace in version 2.0","nodes":[{"content":"Changes to the System.Uri namespace in version 2.0","pos":[0,50]}]},{"content":"Several changes were made to the <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class.","pos":[193,279],"source":"Several changes were made to the <xref:System.Uri?displayProperty=nameWithType> class."},{"content":"These changes fixed incorrect behavior, enhanced usability, and enhanced security.","pos":[280,362]},{"pos":[367,398],"content":"Obsolete and deprecated Members","linkify":"Obsolete and deprecated Members","nodes":[{"content":"Obsolete and deprecated Members","pos":[0,31]}]},{"content":"Constructors:","pos":[401,414]},{"pos":[418,470],"content":"All constructors that have a <ph id=\"ph1\">`dontEscape`</ph> parameter.","source":"All constructors that have a `dontEscape` parameter."},{"content":"Methods:","pos":[473,481]},{"pos":[796,803],"content":"Changes","linkify":"Changes","nodes":[{"content":"Changes","pos":[0,7]}]},{"pos":[807,997],"content":"For URI schemes that are known to not have a query part (file, ftp, and others), the '?' character is always escaped and is not considered the beginning of a <ph id=\"ph1\">&lt;xref:System.Uri.Query%2A&gt;</ph> part.","source":"For URI schemes that are known to not have a query part (file, ftp, and others), the '?' character is always escaped and is not considered the beginning of a <xref:System.Uri.Query%2A> part."},{"pos":[1001,1195],"content":"For implicit file URIs (of the form <ph id=\"ph1\">`c:\\directory\\file@name.txt`</ph>), the fragment character ('#') is always escaped unless full unescaping is requested or <ph id=\"ph2\">&lt;xref:System.Uri.LocalPath%2A&gt;</ph> is <ph id=\"ph3\">`true`</ph>.","source":"For implicit file URIs (of the form `c:\\directory\\file@name.txt`), the fragment character ('#') is always escaped unless full unescaping is requested or <xref:System.Uri.LocalPath%2A> is `true`."},{"content":"UNC hostname support was removed; the IDN specification for representing international hostnames was adopted.","pos":[1199,1308]},{"pos":[1312,1388],"content":"<ph id=\"ph1\">&lt;xref:System.Uri.LocalPath%2A&gt;</ph> always returns a completely unescaped string.","source":"<xref:System.Uri.LocalPath%2A> always returns a completely unescaped string."},{"pos":[1392,1478],"content":"<ph id=\"ph1\">&lt;xref:System.Uri.ToString%2A&gt;</ph> does not unescape an escaped '%', '?', or '#' character.","source":"<xref:System.Uri.ToString%2A> does not unescape an escaped '%', '?', or '#' character."},{"pos":[1482,1581],"content":"<ph id=\"ph1\">&lt;xref:System.Uri.Equals%2A&gt;</ph> now includes the <ph id=\"ph2\">&lt;xref:System.Uri.Query%2A&gt;</ph> part in the equality check.","source":"<xref:System.Uri.Equals%2A> now includes the <xref:System.Uri.Query%2A> part in the equality check."},{"pos":[1585,1677],"content":"Operators \"==\" and \"!=\" are overridden and linked to the <ph id=\"ph1\">&lt;xref:System.Uri.Equals%2A&gt;</ph> method.","source":"Operators \"==\" and \"!=\" are overridden and linked to the <xref:System.Uri.Equals%2A> method."},{"pos":[1681,1745],"content":"<ph id=\"ph1\">&lt;xref:System.Uri.IsLoopback%2A&gt;</ph> now produces consistent results.","source":"<xref:System.Uri.IsLoopback%2A> now produces consistent results."},{"pos":[1749,1817],"content":"The URI \"<ph id=\"ph1\">`file:///path`</ph>\" is no longer translated into <ph id=\"ph2\">`file://path`</ph>.","source":"The URI \"`file:///path`\" is no longer translated into `file://path`."},{"content":"\"#\" is now recognized as a host name terminator.","pos":[1821,1869]},{"content":"That is, <ph id=\"ph1\">`http://contoso.com#fragment`</ph> is now converted to <ph id=\"ph2\">`http://contoso.com/#fragment`</ph>.","pos":[1870,1960],"source":" That is, `http://contoso.com#fragment` is now converted to `http://contoso.com/#fragment`."},{"content":"A bug when combining a base URI with a fragment has been fixed.","pos":[1964,2027]},{"pos":[2031,2083],"content":"A bug in <ph id=\"ph1\">&lt;xref:System.Uri.HostNameType%2A&gt;</ph> is fixed.","source":"A bug in <xref:System.Uri.HostNameType%2A> is fixed."},{"content":"A bug in NNTP parsing is fixed.","pos":[2087,2118]},{"content":"A URI of the form HTTP:contoso.com now throws a parsing exception.","pos":[2122,2188]},{"content":"The Framework correctly handles userinfo in a URI.","pos":[2192,2242]},{"content":"URI path compression is fixed so that a broken URI cannot traverse the file system above the root.","pos":[2246,2344]},{"pos":[2349,2357],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}