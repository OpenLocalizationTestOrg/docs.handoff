{"content":"---\ntitle: \"How to: Create a Custom Routed Event\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"routed events [WPF], creating\"\n  - \"events [WPF], routing\"\nms.assetid: b79f459a-1c3f-4045-b2d4-1659cc8eaa3c\n---\n# How to: Create a Custom Routed Event\nFor your custom event to support event routing, you need to register a <xref:System.Windows.RoutedEvent> using the <xref:System.Windows.EventManager.RegisterRoutedEvent%2A> method. This example demonstrates the basics of creating a custom routed event.  \n  \n## Example  \n As shown in the following example, you first register a <xref:System.Windows.RoutedEvent> using the <xref:System.Windows.EventManager.RegisterRoutedEvent%2A> method. By convention, the <xref:System.Windows.RoutedEvent> static field name should end with the suffix ***Event***. In this example, the name of the event is `Tap` and the routing strategy of the event is <xref:System.Windows.RoutingStrategy.Bubble>. After the registration call, you can provide add-and-remove [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] event accessors for the event.  \n  \n Note that even though the event is raised through the `OnTap` virtual method in this particular example, how you raise your event or how your event responds to changes depends on your needs.  \n  \n Note also that this example basically implements an entire subclass of <xref:System.Windows.Controls.Button>; that subclass is built as a separate assembly and then instantiated as a custom class on a separate [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] page. This is to illustrate the concept that subclassed controls can be inserted into trees composed of other controls, and that in this situation, custom events on these controls have the very same event routing capabilities as any native [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] element does.  \n  \n [!code-csharp[RoutedEventCustom#CustomClass](~/samples/snippets/csharp/VS_Snippets_Wpf/RoutedEventCustom/CSharp/SDKSampleLibrary/class1.cs#customclass)]\n [!code-vb[RoutedEventCustom#CustomClass](~/samples/snippets/visualbasic/VS_Snippets_Wpf/RoutedEventCustom/VB/SDKSampleLibrary/Class1.vb#customclass)]  \n  \n [!code-xaml[RoutedEventCustom#Page](~/samples/snippets/csharp/VS_Snippets_Wpf/RoutedEventCustom/CSharp/RoutedEventCustomApp/default.xaml#page)]  \n  \n Tunneling events are created the same way, but with <xref:System.Windows.RoutedEvent.RoutingStrategy%2A> set to <xref:System.Windows.RoutingStrategy.Tunnel> in the registration call. By convention, tunneling events in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are prefixed with the word \"Preview\".  \n  \n To see an example of how bubbling events work, see [Handle a Routed Event](how-to-handle-a-routed-event.md).  \n  \n## See also\n\n- [Routed Events Overview](routed-events-overview.md)\n- [Input Overview](input-overview.md)\n- [Control Authoring Overview](../controls/control-authoring-overview.md)\n","nodes":[{"pos":[4,240],"embed":true,"restype":"x-metadata","content":"title: \"How to: Create a Custom Routed Event\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"routed events [WPF], creating\"\n  - \"events [WPF], routing\"\nms.assetid: b79f459a-1c3f-4045-b2d4-1659cc8eaa3c","nodes":[{"content":"How to: Create a Custom Routed Event","nodes":[{"pos":[0,36],"content":"How to: Create a Custom Routed Event","nodes":[{"content":"How to: Create a Custom Routed Event","pos":[0,36]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[247,283],"content":"How to: Create a Custom Routed Event","linkify":"How to: Create a Custom Routed Event","nodes":[{"content":"How to: Create a Custom Routed Event","pos":[0,36]}]},{"content":"For your custom event to support event routing, you need to register a <ph id=\"ph1\">&lt;xref:System.Windows.RoutedEvent&gt;</ph> using the <ph id=\"ph2\">&lt;xref:System.Windows.EventManager.RegisterRoutedEvent%2A&gt;</ph> method.","pos":[284,464],"source":"For your custom event to support event routing, you need to register a <xref:System.Windows.RoutedEvent> using the <xref:System.Windows.EventManager.RegisterRoutedEvent%2A> method."},{"content":"This example demonstrates the basics of creating a custom routed event.","pos":[465,536]},{"pos":[545,552],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"As shown in the following example, you first register a <ph id=\"ph1\">&lt;xref:System.Windows.RoutedEvent&gt;</ph> using the <ph id=\"ph2\">&lt;xref:System.Windows.EventManager.RegisterRoutedEvent%2A&gt;</ph> method.","pos":[556,721],"source":"As shown in the following example, you first register a <xref:System.Windows.RoutedEvent> using the <xref:System.Windows.EventManager.RegisterRoutedEvent%2A> method."},{"content":"By convention, the <ph id=\"ph1\">&lt;xref:System.Windows.RoutedEvent&gt;</ph> static field name should end with the suffix <bpt id=\"p1\">***</bpt>Event<ept id=\"p1\">***</ept>.","pos":[722,832],"source":" By convention, the <xref:System.Windows.RoutedEvent> static field name should end with the suffix ***Event***."},{"content":"In this example, the name of the event is <ph id=\"ph1\">`Tap`</ph> and the routing strategy of the event is <ph id=\"ph2\">&lt;xref:System.Windows.RoutingStrategy.Bubble&gt;</ph>.","pos":[833,967],"source":" In this example, the name of the event is `Tap` and the routing strategy of the event is <xref:System.Windows.RoutingStrategy.Bubble>."},{"content":"After the registration call, you can provide add-and-remove <ph id=\"ph1\">[!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)]</ph> event accessors for the event.","pos":[968,1126],"source":" After the registration call, you can provide add-and-remove [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] event accessors for the event."},{"pos":[1133,1323],"content":"Note that even though the event is raised through the <ph id=\"ph1\">`OnTap`</ph> virtual method in this particular example, how you raise your event or how your event responds to changes depends on your needs.","source":"Note that even though the event is raised through the `OnTap` virtual method in this particular example, how you raise your event or how your event responds to changes depends on your needs."},{"content":"Note also that this example basically implements an entire subclass of <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Button&gt;</ph>; that subclass is built as a separate assembly and then instantiated as a custom class on a separate <ph id=\"ph2\">[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]</ph> page.","pos":[1330,1615],"source":"Note also that this example basically implements an entire subclass of <xref:System.Windows.Controls.Button>; that subclass is built as a separate assembly and then instantiated as a custom class on a separate [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] page."},{"content":"This is to illustrate the concept that subclassed controls can be inserted into trees composed of other controls, and that in this situation, custom events on these controls have the very same event routing capabilities as any native <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> element does.","pos":[1616,1943],"source":" This is to illustrate the concept that subclassed controls can be inserted into trees composed of other controls, and that in this situation, custom events on these controls have the very same event routing capabilities as any native [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] element does."},{"content":"Tunneling events are created the same way, but with <ph id=\"ph1\">&lt;xref:System.Windows.RoutedEvent.RoutingStrategy%2A&gt;</ph> set to <ph id=\"ph2\">&lt;xref:System.Windows.RoutingStrategy.Tunnel&gt;</ph> in the registration call.","pos":[2410,2592],"source":"Tunneling events are created the same way, but with <xref:System.Windows.RoutedEvent.RoutingStrategy%2A> set to <xref:System.Windows.RoutingStrategy.Tunnel> in the registration call."},{"content":"By convention, tunneling events in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> are prefixed with the word \"Preview\".","pos":[2593,2747],"source":" By convention, tunneling events in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are prefixed with the word \"Preview\"."},{"pos":[2754,2862],"content":"To see an example of how bubbling events work, see <bpt id=\"p1\">[</bpt>Handle a Routed Event<ept id=\"p1\">](how-to-handle-a-routed-event.md)</ept>.","source":"To see an example of how bubbling events work, see [Handle a Routed Event](how-to-handle-a-routed-event.md)."},{"pos":[2871,2879],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2883,2934],"content":"<bpt id=\"p1\">[</bpt>Routed Events Overview<ept id=\"p1\">](routed-events-overview.md)</ept>","source":"[Routed Events Overview](routed-events-overview.md)"},{"pos":[2937,2972],"content":"<bpt id=\"p1\">[</bpt>Input Overview<ept id=\"p1\">](input-overview.md)</ept>","source":"[Input Overview](input-overview.md)"},{"pos":[2975,3046],"content":"<bpt id=\"p1\">[</bpt>Control Authoring Overview<ept id=\"p1\">](../controls/control-authoring-overview.md)</ept>","source":"[Control Authoring Overview](../controls/control-authoring-overview.md)"}]}