{"content":"---\ntitle: \"How to: Import Custom WSDL\"\nms.date: \"03/30/2017\"\nms.assetid: ddc3718d-ce60-44f6-92af-a5c67477dd99\n---\n# How to: Import Custom WSDL\nThis topic describes how to import custom WSDL. To handle the custom WSDL, you must implement the <xref:System.ServiceModel.Description.IWsdlImportExtension> interface.  \n  \n### To import custom WSDL  \n  \n1.  Implement <xref:System.ServiceModel.Description.IWsdlImportExtension>. Implement the <xref:System.ServiceModel.Description.IWsdlImportExtension.BeforeImport%28System.Web.Services.Description.ServiceDescriptionCollection%2CSystem.Xml.Schema.XmlSchemaSet%2CSystem.Collections.Generic.ICollection%7BSystem.Xml.XmlElement%7D%29> method to modify the metadata before it is imported. Implement the <xref:System.ServiceModel.Description.IWsdlImportExtension.ImportEndpoint%28System.ServiceModel.Description.WsdlImporter%2CSystem.ServiceModel.Description.WsdlEndpointConversionContext%29> and <xref:System.ServiceModel.Description.IWsdlImportExtension.ImportContract%28System.ServiceModel.Description.WsdlImporter%2CSystem.ServiceModel.Description.WsdlContractConversionContext%29> methods to modify contracts and endpoints imported from the metadata. To access the imported contract or endpoint, use the corresponding context object (<xref:System.ServiceModel.Description.WsdlContractConversionContext> or <xref:System.ServiceModel.Description.WsdlEndpointConversionContext>):  \n  \n    ```  \n    public class WsdlDocumentationImporter : IWsdlImportExtension  \n       {  \n          public void ImportContract(WsdlImporter importer, WsdlContractConversionContext context)  \n    {  \n            // Contract documentation  \n         if (context.WsdlPortType.Documentation != null)  \n         {  \n               context.Contract.Behaviors.Add(new WsdlDocumentationImporter(context.WsdlPortType.Documentation));  \n    }  \n    // Operation documentation  \n    foreach (Operation operation in context.WsdlPortType.Operations)  \n    {  \n    if (operation.Documentation != null)  \n    {  \n    OperationDescription operationDescription = context.Contract.Operations.Find(operation.Name);  \n    if (operationDescription != null)  \n    {  \n                            operationDescription.Behaviors.Add(new WsdlDocumentationImporter(operation.Documentation));  \n    }  \n    }  \n    }  \n    }  \n  \n    public void BeforeImport(ServiceDescriptionCollection wsdlDocuments, XmlSchemaSet xmlSchemas, ICollection<XmlElement> policy)   \n            {  \n                Console.WriteLine(\"BeforeImport called.\");  \n            }  \n  \n    public void ImportEndpoint(WsdlImporter importer, WsdlEndpointConversionContext context)   \n            {  \n                Console.WriteLine(\"ImportEndpoint called.\");  \n            }  \n       }  \n    ```  \n  \n2.  Configure the client application to use the custom WSDL importer. Note that if you are using Svcutil.exe, you should add this configuration to the configuration file for Svcutil.exe (Svcutil.exe.config):  \n  \n    ```xml  \n    <system.serviceModel>  \n          <client>  \n            <endpoint   \n              address=\"http://localhost:8000/Fibonacci\"   \n              binding=\"wsHttpBinding\"  \n              contract=\"IFibonacci\"  \n            />  \n            <metadata>  \n              <wsdlImporters>  \n                <extension type=\"Microsoft.WCF.Documentation.WsdlDocumentationImporter, WsdlDocumentation\" />  \n              </wsdlImporters>  \n            </metadata>  \n          </client>  \n        </system.serviceModel>  \n    ```  \n  \n3.  Create a new <xref:System.ServiceModel.Description.WsdlImporter> instance (passing in the <xref:System.ServiceModel.Description.MetadataSet> instance that contains the WSDL documents that you want to import), and call <xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A>:  \n  \n    ```  \n    WsdlImporter importer = new WsdlImporter(metaDocs);          System.Collections.ObjectModel.Collection<ContractDescription> contracts  = importer.ImportAllContracts();  \n    ```  \n  \n## See also\n\n- [Metadata](../../../../docs/framework/wcf/feature-details/metadata.md)\n- [Exporting and Importing Metadata](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md)\n- [Custom WSDL Publication](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md)\n","nodes":[{"pos":[4,110],"embed":true,"restype":"x-metadata","content":"title: \"How to: Import Custom WSDL\"\nms.date: \"03/30/2017\"\nms.assetid: ddc3718d-ce60-44f6-92af-a5c67477dd99","nodes":[{"content":"How to: Import Custom WSDL","nodes":[{"pos":[0,26],"content":"How to: Import Custom WSDL","nodes":[{"content":"How to: Import Custom WSDL","pos":[0,26]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[117,143],"content":"How to: Import Custom WSDL","linkify":"How to: Import Custom WSDL","nodes":[{"content":"How to: Import Custom WSDL","pos":[0,26]}]},{"content":"This topic describes how to import custom WSDL.","pos":[144,191]},{"content":"To handle the custom WSDL, you must implement the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.IWsdlImportExtension&gt;</ph> interface.","pos":[192,312],"source":" To handle the custom WSDL, you must implement the <xref:System.ServiceModel.Description.IWsdlImportExtension> interface."},{"pos":[322,343],"content":"To import custom WSDL","linkify":"To import custom WSDL","nodes":[{"content":"To import custom WSDL","pos":[0,21]}]},{"content":"Implement <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.IWsdlImportExtension&gt;</ph>.","pos":[353,423],"source":"Implement <xref:System.ServiceModel.Description.IWsdlImportExtension>."},{"content":"Implement the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.IWsdlImportExtension.BeforeImport%28System.Web.Services.Description.ServiceDescriptionCollection%2CSystem.Xml.Schema.XmlSchemaSet%2CSystem.Collections.Generic.ICollection%7BSystem.Xml.XmlElement%7D%29&gt;</ph> method to modify the metadata before it is imported.","pos":[424,730],"source":" Implement the <xref:System.ServiceModel.Description.IWsdlImportExtension.BeforeImport%28System.Web.Services.Description.ServiceDescriptionCollection%2CSystem.Xml.Schema.XmlSchemaSet%2CSystem.Collections.Generic.ICollection%7BSystem.Xml.XmlElement%7D%29> method to modify the metadata before it is imported."},{"content":"Implement the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.IWsdlImportExtension.ImportEndpoint%28System.ServiceModel.Description.WsdlImporter%2CSystem.ServiceModel.Description.WsdlEndpointConversionContext%29&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.IWsdlImportExtension.ImportContract%28System.ServiceModel.Description.WsdlImporter%2CSystem.ServiceModel.Description.WsdlContractConversionContext%29&gt;</ph> methods to modify contracts and endpoints imported from the metadata.","pos":[731,1196],"source":" Implement the <xref:System.ServiceModel.Description.IWsdlImportExtension.ImportEndpoint%28System.ServiceModel.Description.WsdlImporter%2CSystem.ServiceModel.Description.WsdlEndpointConversionContext%29> and <xref:System.ServiceModel.Description.IWsdlImportExtension.ImportContract%28System.ServiceModel.Description.WsdlImporter%2CSystem.ServiceModel.Description.WsdlContractConversionContext%29> methods to modify contracts and endpoints imported from the metadata."},{"content":"To access the imported contract or endpoint, use the corresponding context object (<ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.WsdlContractConversionContext&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WsdlEndpointConversionContext&gt;</ph>):","pos":[1197,1422],"source":" To access the imported contract or endpoint, use the corresponding context object (<xref:System.ServiceModel.Description.WsdlContractConversionContext> or <xref:System.ServiceModel.Description.WsdlEndpointConversionContext>):"},{"content":"Configure the client application to use the custom WSDL importer.","pos":[2778,2843]},{"content":"Note that if you are using Svcutil.exe, you should add this configuration to the configuration file for Svcutil.exe (Svcutil.exe.config):","pos":[2844,2981]},{"pos":[3528,3820],"content":"Create a new <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.WsdlImporter&gt;</ph> instance (passing in the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.MetadataSet&gt;</ph> instance that contains the WSDL documents that you want to import), and call <ph id=\"ph3\">&lt;xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A&gt;</ph>:","source":"Create a new <xref:System.ServiceModel.Description.WsdlImporter> instance (passing in the <xref:System.ServiceModel.Description.MetadataSet> instance that contains the WSDL documents that you want to import), and call <xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A>:"},{"pos":[4026,4034],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4038,4108],"content":"<bpt id=\"p1\">[</bpt>Metadata<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/metadata.md)</ept>","source":"[Metadata](../../../../docs/framework/wcf/feature-details/metadata.md)"},{"pos":[4111,4229],"content":"<bpt id=\"p1\">[</bpt>Exporting and Importing Metadata<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md)</ept>","source":"[Exporting and Importing Metadata](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md)"},{"pos":[4232,4324],"content":"<bpt id=\"p1\">[</bpt>Custom WSDL Publication<ept id=\"p1\">](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md)</ept>","source":"[Custom WSDL Publication](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md)"}]}