{"content":"---\ntitle: \"How to: Specify a Client Binding in Code | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6bee5da4-adf7-42e6-8f78-63a9e5c6dbad\ncaps.latest.revision: 9\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Specify a Client Binding in Code\nIn this example, a client is created to use a calculator service and the binding for that client is specified imperatively in code. The client accesses the `CalculatorService`, which implements the `ICalculator` interface, and both the service and the client use the <xref:System.ServiceModel.BasicHttpBinding> class.  \n  \n This procedure assumes that the calculator service is running. For information about building the service, see [How to: Specify a Service Binding in Configuration](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md). It also uses the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] provides to automatically generate the client components. The tool generates the client code for accessing the service.  \n  \n The client is built in two parts. Svcutil.exe generates the `ClientCalculator` that implements the `ICalculator` interface. This client application is then constructed by constructing an instance of `ClientCalculator` and then specifying the binding and the address for the service in code.  \n  \n For the source copy of this example, see the [BasicBinding](../../../docs/framework/wcf/samples/basicbinding.md) sample.  \n  \n### To specify a custom binding in code  \n  \n1.  Use Svcutil.exe from the command line to generate code from service metadata.  \n  \n    ```  \n    Svcutil.exe <service's Metadata Exchange (MEX) address or HTTP GET address>   \n    ```  \n  \n2.  The client that is generated contains the `ICalculator` interface that defines the service contract that the client implementation must satisfy.  \n  \n     [!code-csharp[C_HowTo_CodeClientBinding#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeclientbinding/cs/client.cs#1)]\n     [!code-vb[C_HowTo_CodeClientBinding#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeclientbinding/vb/client.vb#1)]  \n  \n3.  The generated client also contains the implementation of the `ClientCalculator`.  \n  \n     [!code-csharp[C_HowTo_CodeClientBinding#2](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeclientbinding/cs/client.cs#2)]\n     [!code-vb[C_HowTo_CodeClientBinding#2](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeclientbinding/vb/client.vb#2)]  \n  \n4.  Create an instance of the `ClientCalculator` that uses the <xref:System.ServiceModel.BasicHttpBinding> class in a client application, and then call the service operations at the specified address.  \n  \n     [!code-csharp[C_HowTo_CodeClientBinding#3](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeclientbinding/cs/client.cs#3)]\n     [!code-vb[C_HowTo_CodeClientBinding#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeclientbinding/vb/client.vb#3)]  \n  \n5.  Compile and run the client.  \n  \n## See Also  \n [Using Bindings to Configure Services and Clients](../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)","nodes":[{"pos":[4,360],"embed":true,"restype":"x-metadata","content":"title: \"How to: Specify a Client Binding in Code | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6bee5da4-adf7-42e6-8f78-63a9e5c6dbad\ncaps.latest.revision: 9\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"How to: Specify a Client Binding in Code | Microsoft Docs","nodes":[{"pos":[0,57],"content":"How to: Specify a Client Binding in Code | Microsoft Docs","nodes":[{"content":"How to: Specify a Client Binding in Code | Microsoft Docs","pos":[0,57]}]}],"path":["title"]}],"yml":true},{"pos":[367,407],"content":"How to: Specify a Client Binding in Code","linkify":"How to: Specify a Client Binding in Code","nodes":[{"content":"How to: Specify a Client Binding in Code","pos":[0,40]}]},{"content":"In this example, a client is created to use a calculator service and the binding for that client is specified imperatively in code.","pos":[408,539]},{"content":"The client accesses the <ph id=\"ph1\">`CalculatorService`</ph>, which implements the <ph id=\"ph2\">`ICalculator`</ph> interface, and both the service and the client use the <ph id=\"ph3\">&lt;xref:System.ServiceModel.BasicHttpBinding&gt;</ph> class.","pos":[540,725],"source":" The client accesses the `CalculatorService`, which implements the `ICalculator` interface, and both the service and the client use the <xref:System.ServiceModel.BasicHttpBinding> class."},{"content":"This procedure assumes that the calculator service is running.","pos":[732,794]},{"content":"For information about building the service, see <bpt id=\"p1\">[</bpt>How to: Specify a Service Binding in Configuration<ept id=\"p1\">](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md)</ept>.","pos":[795,978],"source":" For information about building the service, see [How to: Specify a Service Binding in Configuration](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md)."},{"content":"It also uses the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept><ph id=\"ph1\">[!INCLUDE[indigo1](../../../includes/indigo1-md.md)]</ph> provides to automatically generate the client components.","pos":[979,1235],"source":" It also uses the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] provides to automatically generate the client components."},{"content":"The tool generates the client code for accessing the service.","pos":[1236,1297]},{"content":"The client is built in two parts.","pos":[1304,1337]},{"content":"Svcutil.exe generates the <ph id=\"ph1\">`ClientCalculator`</ph> that implements the <ph id=\"ph2\">`ICalculator`</ph> interface.","pos":[1338,1427],"source":" Svcutil.exe generates the `ClientCalculator` that implements the `ICalculator` interface."},{"content":"This client application is then constructed by constructing an instance of <ph id=\"ph1\">`ClientCalculator`</ph> and then specifying the binding and the address for the service in code.","pos":[1428,1594],"source":" This client application is then constructed by constructing an instance of `ClientCalculator` and then specifying the binding and the address for the service in code."},{"pos":[1601,1721],"content":"For the source copy of this example, see the <bpt id=\"p1\">[</bpt>BasicBinding<ept id=\"p1\">](../../../docs/framework/wcf/samples/basicbinding.md)</ept> sample.","source":"For the source copy of this example, see the [BasicBinding](../../../docs/framework/wcf/samples/basicbinding.md) sample."},{"pos":[1731,1766],"content":"To specify a custom binding in code","linkify":"To specify a custom binding in code","nodes":[{"content":"To specify a custom binding in code","pos":[0,35]}]},{"content":"Use Svcutil.exe from the command line to generate code from service metadata.","pos":[1776,1853]},{"pos":[1969,2113],"content":"The client that is generated contains the <ph id=\"ph1\">`ICalculator`</ph> interface that defines the service contract that the client implementation must satisfy.","source":"The client that is generated contains the `ICalculator` interface that defines the service contract that the client implementation must satisfy."},{"pos":[2124,2399],"content":"[!code-csharp[C_HowTo_CodeClientBinding#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeclientbinding/cs/client.cs#1)]\n [!code-vb[C_HowTo_CodeClientBinding#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeclientbinding/vb/client.vb#1)]","leadings":["","    "],"nodes":[]},{"pos":[2409,2489],"content":"The generated client also contains the implementation of the <ph id=\"ph1\">`ClientCalculator`</ph>.","source":"The generated client also contains the implementation of the `ClientCalculator`."},{"pos":[2500,2775],"content":"[!code-csharp[C_HowTo_CodeClientBinding#2](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeclientbinding/cs/client.cs#2)]\n [!code-vb[C_HowTo_CodeClientBinding#2](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeclientbinding/vb/client.vb#2)]","leadings":["","    "],"nodes":[]},{"pos":[2785,2981],"content":"Create an instance of the <ph id=\"ph1\">`ClientCalculator`</ph> that uses the <ph id=\"ph2\">&lt;xref:System.ServiceModel.BasicHttpBinding&gt;</ph> class in a client application, and then call the service operations at the specified address.","source":"Create an instance of the `ClientCalculator` that uses the <xref:System.ServiceModel.BasicHttpBinding> class in a client application, and then call the service operations at the specified address."},{"pos":[2992,3267],"content":"[!code-csharp[C_HowTo_CodeClientBinding#3](../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto_codeclientbinding/cs/client.cs#3)]\n [!code-vb[C_HowTo_CodeClientBinding#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto_codeclientbinding/vb/client.vb#3)]","leadings":["","    "],"nodes":[]},{"content":"Compile and run the client.","pos":[3277,3304]},{"pos":[3313,3321],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3325,3456],"content":"<bpt id=\"p1\">[</bpt>Using Bindings to Configure Services and Clients<ept id=\"p1\">](../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)</ept>","source":"[Using Bindings to Configure Services and Clients](../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)"}]}