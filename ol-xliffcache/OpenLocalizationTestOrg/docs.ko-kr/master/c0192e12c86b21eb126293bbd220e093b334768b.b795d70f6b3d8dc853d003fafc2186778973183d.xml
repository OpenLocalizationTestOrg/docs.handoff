{"content":"---\ntitle: \"How to: Use Parallel.Invoke to Execute Parallel Operations\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"task parallelism in .NET\"\n  - \"parallel programming, task parallelism\"\nms.assetid: 6b3ecd79-dec9-4ce1-abf4-62e5392a59c6\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# How to: Use Parallel.Invoke to Execute Parallel Operations\n\nThis example shows how to parallelize operations by using <xref:System.Threading.Tasks.Parallel.Invoke%2A> in the Task Parallel Library. Three operations are performed on a shared data source. Because none of the operations modifies the source, they can be executed in parallel in a straightforward manner.\n\n> [!NOTE]\n> This documentation uses lambda expressions to define delegates in TPL. If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).\n\n## Example\n\n[!code-csharp[TPL_Parallel#06](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_parallel/cs/parallelinvoke.cs#06)]\n[!code-vb[TPL_Parallel#06](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_parallel/vb/parallelinvoke.vb#06)]\n\nNote that with <xref:System.Threading.Tasks.Parallel.Invoke%2A>, you simply express which actions you want to run concurrently, and the runtime handles all thread scheduling details, including scaling automatically to the number of cores on the host computer.\n\nThis example parallelizes the operations, not the data. As an alternate approach, you can parallelize the LINQ queries by using PLINQ and run the queries sequentially. Alternatively, you could parallelize the data by using PLINQ. Another option is to parallelize both the queries and the tasks. Although the resulting overhead might degrade performance on host computers with relatively few processors, it would scale much better on computers with many processors.\n\n## Compile the Code\n\nCopy and paste the entire example into a Microsoft Visual Studio project and press **F5**.\n\n## See also\n\n- [Parallel Programming](../../../docs/standard/parallel-programming/index.md)\n- [How to: Cancel a Task and Its Children](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md)\n- [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)\n","nodes":[{"pos":[4,343],"embed":true,"restype":"x-metadata","content":"title: \"How to: Use Parallel.Invoke to Execute Parallel Operations\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"task parallelism in .NET\"\n  - \"parallel programming, task parallelism\"\nms.assetid: 6b3ecd79-dec9-4ce1-abf4-62e5392a59c6\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"How to: Use Parallel.Invoke to Execute Parallel Operations","nodes":[{"pos":[0,58],"content":"How to: Use Parallel.Invoke to Execute Parallel Operations","nodes":[{"content":"How to: Use Parallel.Invoke to Execute Parallel Operations","pos":[0,58]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[350,408],"content":"How to: Use Parallel.Invoke to Execute Parallel Operations","linkify":"How to: Use Parallel.Invoke to Execute Parallel Operations","nodes":[{"content":"How to: Use Parallel.Invoke to Execute Parallel Operations","pos":[0,58]}]},{"content":"This example shows how to parallelize operations by using <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Parallel.Invoke%2A&gt;</ph> in the Task Parallel Library.","pos":[410,546],"source":"This example shows how to parallelize operations by using <xref:System.Threading.Tasks.Parallel.Invoke%2A> in the Task Parallel Library."},{"content":"Three operations are performed on a shared data source.","pos":[547,602]},{"content":"Because none of the operations modifies the source, they can be executed in parallel in a straightforward manner.","pos":[603,716]},{"pos":[720,998],"content":"[!NOTE]\nThis documentation uses lambda expressions to define delegates in TPL. If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).","leadings":["","> "],"nodes":[{"content":"This documentation uses lambda expressions to define delegates in TPL. If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).","pos":[8,276],"nodes":[{"content":"This documentation uses lambda expressions to define delegates in TPL.","pos":[0,70]},{"content":"If you are not familiar with lambda expressions in C# or Visual Basic, see <bpt id=\"p1\">[</bpt>Lambda Expressions in PLINQ and TPL<ept id=\"p1\">](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md)</ept>.","pos":[71,268],"source":" If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md)."}]}]},{"pos":[1003,1010],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1254,1513],"content":"Note that with <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Parallel.Invoke%2A&gt;</ph>, you simply express which actions you want to run concurrently, and the runtime handles all thread scheduling details, including scaling automatically to the number of cores on the host computer.","source":"Note that with <xref:System.Threading.Tasks.Parallel.Invoke%2A>, you simply express which actions you want to run concurrently, and the runtime handles all thread scheduling details, including scaling automatically to the number of cores on the host computer."},{"content":"This example parallelizes the operations, not the data.","pos":[1515,1570]},{"content":"As an alternate approach, you can parallelize the LINQ queries by using PLINQ and run the queries sequentially.","pos":[1571,1682]},{"content":"Alternatively, you could parallelize the data by using PLINQ.","pos":[1683,1744]},{"content":"Another option is to parallelize both the queries and the tasks.","pos":[1745,1809]},{"content":"Although the resulting overhead might degrade performance on host computers with relatively few processors, it would scale much better on computers with many processors.","pos":[1810,1979]},{"pos":[1984,2000],"content":"Compile the Code","linkify":"Compile the Code","nodes":[{"content":"Compile the Code","pos":[0,16]}]},{"pos":[2002,2092],"content":"Copy and paste the entire example into a Microsoft Visual Studio project and press <bpt id=\"p1\">**</bpt>F5<ept id=\"p1\">**</ept>.","source":"Copy and paste the entire example into a Microsoft Visual Studio project and press **F5**."},{"pos":[2097,2105],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2109,2185],"content":"<bpt id=\"p1\">[</bpt>Parallel Programming<ept id=\"p1\">](../../../docs/standard/parallel-programming/index.md)</ept>","source":"[Parallel Programming](../../../docs/standard/parallel-programming/index.md)"},{"pos":[2188,2314],"content":"<bpt id=\"p1\">[</bpt>How to: Cancel a Task and Its Children<ept id=\"p1\">](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md)</ept>","source":"[How to: Cancel a Task and Its Children](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md)"},{"pos":[2317,2408],"content":"<bpt id=\"p1\">[</bpt>Parallel LINQ (PLINQ)<ept id=\"p1\">](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)</ept>","source":"[Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)"}]}