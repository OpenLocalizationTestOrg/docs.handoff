{"content":"---\ntitle: \"Query Results\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: bcd7b699-4e50-4523-8c33-2f54a103d94e\n---\n# Query Results\nAfter a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query is converted to command trees and executed, the query results are usually returned as one of the following:  \n  \n-   A collection of zero or more typed entity objects or a projection of complex types in the conceptual model.  \n  \n-   CLR types supported by the conceptual model.  \n  \n-   Inline collections.  \n  \n-   Anonymous types.  \n  \n When the query has executed against the data source, the results are materialized into CLR types and returned to the client. All object materialization is performed by the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]. Any errors that result from an inability to map between the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)] and the CLR will cause exceptions to be thrown during object materialization.  \n  \n If the query execution returns primitive conceptual model types, the results consist of CLR types that are stand-alone and disconnected from the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]. However, if the query returns a collection of typed entity objects, represented by <xref:System.Data.Objects.ObjectQuery%601>, those types are tracked by the object context. All object behavior (such as child/parent collections, change tracking, polymorphism, and so on) are as defined in the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]. This functionality can be used in its capacity, as defined in the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]. For more information, see [Working with Objects](../../../../../../docs/framework/data/adonet/ef/working-with-objects.md).  \n  \n Struct types returned from queries (such as anonymous types and nullable complex types) can be of `null` value. An <xref:System.Data.Objects.DataClasses.EntityCollection%601> property of a returned entity can also be of `null` value. This can result from projecting the collection property of an entity that is of `null` value, such as calling <xref:System.Linq.Queryable.FirstOrDefault%2A> on an <xref:System.Data.Objects.ObjectQuery%601> that has no elements.  \n  \n In certain situations, a query might appear to generate a materialized result during its execution, but the query will be executed on the server and the entity object will never be materialized in the CLR. This can cause problems if you are depending on side effects of object materialization.  \n  \n The following example contains a custom class, `MyContact`, with a `LastName` property. When the `LastName` property is set, a `count` variable is incremented. If you execute the two following queries, the first query will increment `count` while the second query will not. This is because in the second query the `LastName` property is projected from the results and the `MyContact` class is never created, because it is not required to execute the query on the store.  \n  \n [!code-csharp[DP L2E Materialization Example#MaterializationSideEffects](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Materialization Example/CS/Program.cs#materializationsideeffects)]\n [!code-vb[DP L2E Materialization Example#MaterializationSideEffects](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Materialization Example/VB/Module1.vb#materializationsideeffects)]  \n  \n [!code-csharp[DP L2E Materialization Example#MyContactClass](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Materialization Example/CS/Program.cs#mycontactclass)]\n [!code-vb[DP L2E Materialization Example#MyContactClass](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Materialization Example/VB/Module1.vb#mycontactclass)]\n","nodes":[{"pos":[4,131],"embed":true,"restype":"x-metadata","content":"title: \"Query Results\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: bcd7b699-4e50-4523-8c33-2f54a103d94e","nodes":[{"content":"Query Results","nodes":[{"pos":[0,13],"content":"Query Results","nodes":[{"content":"Query Results","pos":[0,13]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[138,151],"content":"Query Results","linkify":"Query Results","nodes":[{"content":"Query Results","pos":[0,13]}]},{"pos":[152,347],"content":"After a <ph id=\"ph1\">[!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)]</ph> query is converted to command trees and executed, the query results are usually returned as one of the following:","source":"After a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query is converted to command trees and executed, the query results are usually returned as one of the following:"},{"content":"A collection of zero or more typed entity objects or a projection of complex types in the conceptual model.","pos":[357,464]},{"content":"CLR types supported by the conceptual model.","pos":[474,518]},{"content":"Inline collections.","pos":[528,547]},{"content":"Anonymous types.","pos":[557,573]},{"content":"When the query has executed against the data source, the results are materialized into CLR types and returned to the client.","pos":[580,704]},{"content":"All object materialization is performed by the <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]</ph>.","pos":[705,818],"source":" All object materialization is performed by the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]."},{"content":"Any errors that result from an inability to map between the <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]</ph> and the CLR will cause exceptions to be thrown during object materialization.","pos":[819,1022],"source":" Any errors that result from an inability to map between the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)] and the CLR will cause exceptions to be thrown during object materialization."},{"content":"If the query execution returns primitive conceptual model types, the results consist of CLR types that are stand-alone and disconnected from the <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]</ph>.","pos":[1029,1240],"source":"If the query execution returns primitive conceptual model types, the results consist of CLR types that are stand-alone and disconnected from the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]."},{"content":"However, if the query returns a collection of typed entity objects, represented by <ph id=\"ph1\">&lt;xref:System.Data.Objects.ObjectQuery%601&gt;</ph>, those types are tracked by the object context.","pos":[1241,1414],"source":" However, if the query returns a collection of typed entity objects, represented by <xref:System.Data.Objects.ObjectQuery%601>, those types are tracked by the object context."},{"content":"All object behavior (such as child/parent collections, change tracking, polymorphism, and so on) are as defined in the <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]</ph>.","pos":[1415,1600],"source":" All object behavior (such as child/parent collections, change tracking, polymorphism, and so on) are as defined in the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]."},{"content":"This functionality can be used in its capacity, as defined in the <ph id=\"ph1\">[!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]</ph>.","pos":[1601,1733],"source":" This functionality can be used in its capacity, as defined in the [!INCLUDE[adonet_ef](../../../../../../includes/adonet-ef-md.md)]."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Objects<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/working-with-objects.md)</ept>.","pos":[1734,1856],"source":" For more information, see [Working with Objects](../../../../../../docs/framework/data/adonet/ef/working-with-objects.md)."},{"content":"Struct types returned from queries (such as anonymous types and nullable complex types) can be of <ph id=\"ph1\">`null`</ph> value.","pos":[1863,1974],"source":"Struct types returned from queries (such as anonymous types and nullable complex types) can be of `null` value."},{"content":"An <ph id=\"ph1\">&lt;xref:System.Data.Objects.DataClasses.EntityCollection%601&gt;</ph> property of a returned entity can also be of <ph id=\"ph2\">`null`</ph> value.","pos":[1975,2096],"source":" An <xref:System.Data.Objects.DataClasses.EntityCollection%601> property of a returned entity can also be of `null` value."},{"content":"This can result from projecting the collection property of an entity that is of <ph id=\"ph1\">`null`</ph> value, such as calling <ph id=\"ph2\">&lt;xref:System.Linq.Queryable.FirstOrDefault%2A&gt;</ph> on an <ph id=\"ph3\">&lt;xref:System.Data.Objects.ObjectQuery%601&gt;</ph> that has no elements.","pos":[2097,2324],"source":" This can result from projecting the collection property of an entity that is of `null` value, such as calling <xref:System.Linq.Queryable.FirstOrDefault%2A> on an <xref:System.Data.Objects.ObjectQuery%601> that has no elements."},{"content":"In certain situations, a query might appear to generate a materialized result during its execution, but the query will be executed on the server and the entity object will never be materialized in the CLR.","pos":[2331,2536]},{"content":"This can cause problems if you are depending on side effects of object materialization.","pos":[2537,2624]},{"content":"The following example contains a custom class, <ph id=\"ph1\">`MyContact`</ph>, with a <ph id=\"ph2\">`LastName`</ph> property.","pos":[2631,2718],"source":"The following example contains a custom class, `MyContact`, with a `LastName` property."},{"content":"When the <ph id=\"ph1\">`LastName`</ph> property is set, a <ph id=\"ph2\">`count`</ph> variable is incremented.","pos":[2719,2790],"source":" When the `LastName` property is set, a `count` variable is incremented."},{"content":"If you execute the two following queries, the first query will increment <ph id=\"ph1\">`count`</ph> while the second query will not.","pos":[2791,2904],"source":" If you execute the two following queries, the first query will increment `count` while the second query will not."},{"content":"This is because in the second query the <ph id=\"ph1\">`LastName`</ph> property is projected from the results and the <ph id=\"ph2\">`MyContact`</ph> class is never created, because it is not required to execute the query on the store.","pos":[2905,3100],"source":" This is because in the second query the `LastName` property is projected from the results and the `MyContact` class is never created, because it is not required to execute the query on the store."},{"pos":[3107,3520],"content":"[!code-csharp[DP L2E Materialization Example#MaterializationSideEffects](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Materialization Example/CS/Program.cs#materializationsideeffects)]\n[!code-vb[DP L2E Materialization Example#MaterializationSideEffects](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Materialization Example/VB/Module1.vb#materializationsideeffects)]","leadings":[""," "],"nodes":[]},{"pos":[3527,3892],"content":"[!code-csharp[DP L2E Materialization Example#MyContactClass](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Materialization Example/CS/Program.cs#mycontactclass)]\n[!code-vb[DP L2E Materialization Example#MyContactClass](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Materialization Example/VB/Module1.vb#mycontactclass)]","leadings":[""," "],"nodes":[]}]}