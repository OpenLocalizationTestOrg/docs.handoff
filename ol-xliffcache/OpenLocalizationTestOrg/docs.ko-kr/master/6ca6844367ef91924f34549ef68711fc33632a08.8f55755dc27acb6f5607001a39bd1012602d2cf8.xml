{"content":"---\ntitle: \"How to: Declare Faults in Service Contracts | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: e8da98e7-d22f-4f60-ac82-3fb0928a353f\ncaps.latest.revision: 5\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Declare Faults in Service Contracts\nIn managed code, exceptions are thrown when error conditions occur. In [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] applications, however, service contracts specify what error information is returned to clients by declaring SOAP faults in the service contract. For an overview of the relationship between exceptions and faults, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).  \n  \n### Create a service contract that specifies a SOAP fault  \n  \n1.  Create a service contract that contains at least one operation. For an example, see [How to: Define a Service Contract](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md).  \n  \n2.  Select an operation that can specify an error condition about which clients can expect to be notified. To decide which error conditions justify returning SOAP faults to clients, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).  \n  \n3.  Apply a <xref:System.ServiceModel.FaultContractAttribute?displayProperty=fullName> to the selected operation and pass a serializable fault type to the constructor. For details about creating and using serializable types, see [Specifying Data Transfer in Service Contracts](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md). The following example shows how to specify that the `SampleMethod` operation can result in a `GreetingFault`.  \n  \n     [!code-csharp[FaultContractAttribute#4](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#4)]\n     [!code-vb[FaultContractAttribute#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#4)]  \n  \n4.  Repeat steps 2 and 3 for all operations in the contract that communicate error conditions to clients.  \n  \n## Implementing an Operation to Return a Specified SOAP Fault  \n Once an operation has specified that a specific SOAP fault can be returned (such as in the preceding procedure) to communicate an error condition to a calling application, the next step is to implement that specification.  \n  \n#### Throw the specified SOAP fault in the operation  \n  \n1.  When a <xref:System.ServiceModel.FaultContractAttribute>-specified error condition occurs in an operation, throw a new <xref:System.ServiceModel.FaultException%601?displayProperty=fullName> where the specified SOAP fault is the type parameter. The following example shows how to throw the `GreetingFault` in the `SampleMethod` shown in the preceding procedure and in the following Code section.  \n  \n     [!code-csharp[FaultContractAttribute#5](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#5)]\n     [!code-vb[FaultContractAttribute#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#5)]  \n  \n## Example  \n The following code example shows an implementation of a single operation that specifies a `GreetingFault` for the `SampleMethod` operation.  \n  \n [!code-csharp[FaultContractAttribute#1](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#1)]\n [!code-vb[FaultContractAttribute#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#1)]  \n  \n## See Also  \n <xref:System.ServiceModel.FaultContractAttribute?displayProperty=fullName>   \n <xref:System.ServiceModel.FaultException%601?displayProperty=fullName>","nodes":[{"pos":[12,72],"content":"How to: Declare Faults in Service Contracts | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Declare Faults in Service Contracts | Microsoft Docs","pos":[0,60]}]},{"pos":[370,413],"content":"How to: Declare Faults in Service Contracts","linkify":"How to: Declare Faults in Service Contracts","nodes":[{"content":"How to: Declare Faults in Service Contracts","pos":[0,43]}]},{"content":"In managed code, exceptions are thrown when error conditions occur.","pos":[414,481]},{"content":"In <ph id=\"ph1\">[!INCLUDE[indigo1](../../../includes/indigo1-md.md)]</ph> applications, however, service contracts specify what error information is returned to clients by declaring SOAP faults in the service contract.","pos":[482,682],"source":" In [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] applications, however, service contracts specify what error information is returned to clients by declaring SOAP faults in the service contract."},{"content":"For an overview of the relationship between exceptions and faults, see <bpt id=\"p1\">[</bpt>Specifying and Handling Faults in Contracts and Services<ept id=\"p1\">](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)</ept>.","pos":[683,902],"source":" For an overview of the relationship between exceptions and faults, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)."},{"pos":[912,965],"content":"Create a service contract that specifies a SOAP fault","linkify":"Create a service contract that specifies a SOAP fault","nodes":[{"content":"Create a service contract that specifies a SOAP fault","pos":[0,53]}]},{"content":"Create a service contract that contains at least one operation.","pos":[975,1038]},{"content":"For an example, see <bpt id=\"p1\">[</bpt>How to: Define a Service Contract<ept id=\"p1\">](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md)</ept>.","pos":[1039,1164],"source":" For an example, see [How to: Define a Service Contract](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md)."},{"content":"Select an operation that can specify an error condition about which clients can expect to be notified.","pos":[1174,1276]},{"content":"To decide which error conditions justify returning SOAP faults to clients, see <bpt id=\"p1\">[</bpt>Specifying and Handling Faults in Contracts and Services<ept id=\"p1\">](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)</ept>.","pos":[1277,1504],"source":" To decide which error conditions justify returning SOAP faults to clients, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)."},{"content":"Apply a <ph id=\"ph1\">&lt;xref:System.ServiceModel.FaultContractAttribute?displayProperty=fullName&gt;</ph> to the selected operation and pass a serializable fault type to the constructor.","pos":[1514,1677],"source":"Apply a <xref:System.ServiceModel.FaultContractAttribute?displayProperty=fullName> to the selected operation and pass a serializable fault type to the constructor."},{"content":"For details about creating and using serializable types, see <bpt id=\"p1\">[</bpt>Specifying Data Transfer in Service Contracts<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)</ept>.","pos":[1678,1881],"source":" For details about creating and using serializable types, see [Specifying Data Transfer in Service Contracts](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)."},{"content":"The following example shows how to specify that the <ph id=\"ph1\">`SampleMethod`</ph> operation can result in a <ph id=\"ph2\">`GreetingFault`</ph>.","pos":[1882,1991],"source":" The following example shows how to specify that the `SampleMethod` operation can result in a `GreetingFault`."},{"pos":[2002,2269],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>FaultContractAttribute#4<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#4)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>FaultContractAttribute#4<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#4)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[FaultContractAttribute#4](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#4)]\n [!code-vb[FaultContractAttribute#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#4)]"},{"content":"Repeat steps 2 and 3 for all operations in the contract that communicate error conditions to clients.","pos":[2279,2380]},{"pos":[2389,2447],"content":"Implementing an Operation to Return a Specified SOAP Fault","linkify":"Implementing an Operation to Return a Specified SOAP Fault","nodes":[{"content":"Implementing an Operation to Return a Specified SOAP Fault","pos":[0,58]}]},{"content":"Once an operation has specified that a specific SOAP fault can be returned (such as in the preceding procedure) to communicate an error condition to a calling application, the next step is to implement that specification.","pos":[2451,2672]},{"pos":[2683,2730],"content":"Throw the specified SOAP fault in the operation","linkify":"Throw the specified SOAP fault in the operation","nodes":[{"content":"Throw the specified SOAP fault in the operation","pos":[0,47]}]},{"content":"When a <ph id=\"ph1\">&lt;xref:System.ServiceModel.FaultContractAttribute&gt;</ph>-specified error condition occurs in an operation, throw a new <ph id=\"ph2\">&lt;xref:System.ServiceModel.FaultException%601?displayProperty=fullName&gt;</ph> where the specified SOAP fault is the type parameter.","pos":[2740,2983],"source":"When a <xref:System.ServiceModel.FaultContractAttribute>-specified error condition occurs in an operation, throw a new <xref:System.ServiceModel.FaultException%601?displayProperty=fullName> where the specified SOAP fault is the type parameter."},{"content":"The following example shows how to throw the <ph id=\"ph1\">`GreetingFault`</ph> in the <ph id=\"ph2\">`SampleMethod`</ph> shown in the preceding procedure and in the following Code section.","pos":[2984,3134],"source":" The following example shows how to throw the `GreetingFault` in the `SampleMethod` shown in the preceding procedure and in the following Code section."},{"pos":[3145,3412],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>FaultContractAttribute#5<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#5)</ept><ept id=\"p1\">]</ept>  <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>FaultContractAttribute#5<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#5)</ept><ept id=\"p3\">]</ept>","leadings":["","    "],"source":"[!code-csharp[FaultContractAttribute#5](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#5)]\n [!code-vb[FaultContractAttribute#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#5)]"},{"pos":[3421,3428],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3432,3571],"content":"The following code example shows an implementation of a single operation that specifies a <ph id=\"ph1\">`GreetingFault`</ph> for the <ph id=\"ph2\">`SampleMethod`</ph> operation.","source":"The following code example shows an implementation of a single operation that specifies a `GreetingFault` for the `SampleMethod` operation."},{"pos":[3578,3841],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>FaultContractAttribute#1<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#1)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>FaultContractAttribute#1<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#1)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[FaultContractAttribute#1](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#1)]\n [!code-vb[FaultContractAttribute#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#1)]"},{"pos":[3850,3858],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}