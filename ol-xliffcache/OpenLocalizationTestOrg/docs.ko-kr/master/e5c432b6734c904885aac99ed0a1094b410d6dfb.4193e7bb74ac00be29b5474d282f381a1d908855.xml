{"content":"---\ntitle: \"Persistent Storage | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"persistent storage\"\n  - \"binary serialization, persistent storage\"\n  - \"serialization, persistent storage\"\nms.assetid: b112c0dd-93e2-4eef-908d-5963f80bab65\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Persistent Storage\nIt is often necessary to store the value of the fields of an object to disk and then, later, retrieve this data. Although this is easy to achieve without relying on serialization, this approach is often cumbersome and error prone, and becomes progressively more complex when you need to track a hierarchy of objects. Imagine writing a large business application, that contains thousands of objects, and having to write code to save and restore the fields and properties to and from disk for each object. Serialization provides a convenient mechanism for achieving this objective.  \n  \n The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using [reflection](../../../docs/framework/reflection-and-codedom/reflection.md). When an object is serialized, the name of the class, the assembly, and all the data members of the class instance are written to storage. Objects often store references to other instances in member variables. When the class is serialized, the serialization engine tracks referenced objects, already serialized, to ensure that the same object is not serialized more than once. The serialization architecture provided with the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] correctly handles object graphs and circular references automatically. The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as `Serializable` (for more information, see [Basic Serialization](../../../docs/framework/serialization/basic-serialization.md)). If this is not done, an exception will be thrown when the serializer attempts to serialize the unmarked object.  \n  \n When the serialized class is deserialized, the class is recreated  and the values of all the data members are automatically restored.  \n  \n## See Also  \n [Serialization Concepts](../../../docs/framework/serialization/serialization-concepts.md)   \n [XML and SOAP Serialization](../../../docs/framework/serialization/xml-and-soap-serialization.md)","nodes":[{"pos":[4,496],"nodes":[{"content":"Persistent Storage | Microsoft Docs","nodes":[{"pos":[0,35],"content":"Persistent Storage | Microsoft Docs","nodes":[{"content":"Persistent Storage | Microsoft Docs","pos":[0,35]}]}],"pos":[6,44],"yaml":true}],"content":"title: \"Persistent Storage | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"persistent storage\"\n  - \"binary serialization, persistent storage\"\n  - \"serialization, persistent storage\"\nms.assetid: b112c0dd-93e2-4eef-908d-5963f80bab65\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","yamlblock":true},{"pos":[503,521],"content":"Persistent Storage","linkify":"Persistent Storage","nodes":[{"content":"Persistent Storage","pos":[0,18]}]},{"content":"It is often necessary to store the value of the fields of an object to disk and then, later, retrieve this data.","pos":[522,634]},{"content":"Although this is easy to achieve without relying on serialization, this approach is often cumbersome and error prone, and becomes progressively more complex when you need to track a hierarchy of objects.","pos":[635,838]},{"content":"Imagine writing a large business application, that contains thousands of objects, and having to write code to save and restore the fields and properties to and from disk for each object.","pos":[839,1025]},{"content":"Serialization provides a convenient mechanism for achieving this objective.","pos":[1026,1101]},{"content":"The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using <bpt id=\"p1\">[</bpt>reflection<ept id=\"p1\">](../../../docs/framework/reflection-and-codedom/reflection.md)</ept>.","pos":[1108,1311],"source":"The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using [reflection](../../../docs/framework/reflection-and-codedom/reflection.md)."},{"content":"When an object is serialized, the name of the class, the assembly, and all the data members of the class instance are written to storage.","pos":[1312,1449]},{"content":"Objects often store references to other instances in member variables.","pos":[1450,1520]},{"content":"When the class is serialized, the serialization engine tracks referenced objects, already serialized, to ensure that the same object is not serialized more than once.","pos":[1521,1687]},{"content":"The serialization architecture provided with the <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)]</ph> correctly handles object graphs and circular references automatically.","pos":[1688,1868],"source":" The serialization architecture provided with the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] correctly handles object graphs and circular references automatically."},{"content":"The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as <ph id=\"ph1\">`Serializable`</ph> (for more information, see <bpt id=\"p1\">[</bpt>Basic Serialization<ept id=\"p1\">](../../../docs/framework/serialization/basic-serialization.md)</ept>).","pos":[1869,2122],"source":" The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as `Serializable` (for more information, see [Basic Serialization](../../../docs/framework/serialization/basic-serialization.md))."},{"content":"If this is not done, an exception will be thrown when the serializer attempts to serialize the unmarked object.","pos":[2123,2234]},{"content":"When the serialized class is deserialized, the class is recreated  and the values of all the data members are automatically restored.","pos":[2241,2374]},{"pos":[2383,2391],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Serialization Concepts<ept id=\"p1\">](../../../docs/framework/serialization/serialization-concepts.md)</ept><ph id=\"ph1\"> </ph>","pos":[2395,2485],"source":"[Serialization Concepts](../../../docs/framework/serialization/serialization-concepts.md) "},{"content":"<bpt id=\"p1\">[</bpt>XML and SOAP Serialization<ept id=\"p1\">](../../../docs/framework/serialization/xml-and-soap-serialization.md)</ept>","pos":[2489,2586],"source":"[XML and SOAP Serialization](../../../docs/framework/serialization/xml-and-soap-serialization.md)"}]}