{"content":"---\ntitle: \"WSHttpBinding | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"WS Profile binding\"\nms.assetid: 22d85b19-0135-4141-9179-a0e9c343ad73\ncaps.latest.revision: 39\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# WSHttpBinding\nThis sample demonstrates how to implement a typical service and a typical client using [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]. This sample consists of a client console program (client.exe) and a service library hosted by Internet Information Services (IIS). The service implements a contract that defines a request-reply communication pattern. The contract is defined by the `ICalculator` interface, which exposes math operations (add, subtract, multiply, and divide). The client makes synchronous requests to a given math operation and the service replies with the result. Client activity is visible in the console window.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Binding\\WS\\wsHttp`  \n  \n> [!NOTE]\n>  The setup procedure and build instructions for this sample are located at the end of this topic.  \n  \n This sample exposes the `ICalculator` contract using the [\\<wsHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md). The configuration of this binding has been expanded in the Web.config file.  \n  \n```  \n<bindings>  \n  <wsHttpBinding>  \n    <!--The following is the expanded configuration section for a-->  \n    <!--WSHttpBinding. Each property is configured with the default-->   \n    <!--value. See the ReliableSession, TransactionFlow, -->  \n    <!--TransportSecurity, and MessageSecurity samples in the WS -->  \n    <!--directory to learn how to configure these features. -->  \n    <binding name=\"Binding1\"  \n              bypassProxyOnLocal=\"false\"   \n              transactionFlow=\"false\"   \n              hostNameComparisonMode=\"StrongWildcard\"  \n              maxBufferPoolSize=\"524288\"   \n              maxReceivedMessageSize=\"65536\"  \n              messageEncoding=\"Text\"   \n              textEncoding=\"utf-8\"   \n              useDefaultWebProxy=\"true\"  \n              allowCookies=\"false\">  \n      <reliableSession ordered=\"true\"   \n                       inactivityTimeout=\"00:10:00\"  \n                       enabled=\"false\" />  \n      <security mode=\"Message\">  \n        <message clientCredentialType=\"Windows\"   \n                 negotiateServiceCredential=\"true\"  \n                 algorithmSuite=\"Default\"   \n                 establishSecurityContext=\"true\" />  \n      </security>  \n    </binding>  \n  </wsHttpBinding>  \n</bindings>  \n```  \n  \n On the base `binding` element, the `maxReceivedMessageSize` value lets you configure the maximum size of an incoming message (in bytes). The `hostNameComparisonMode` value lets you configure whether the hostname is considered when de-multiplexing messages to the service. The `messageEncoding` value lets you configure whether to use Text or MTOM encoding for messages. The `textEncoding` value lets you configure the character encoding for messages. The `bypassProxyOnLocal` value lets you configure whether to use an HTTP proxy for local communication. The `transactionFlow` value configures whether the current transaction is flowed (if an operation is configured for transaction flow).  \n  \n On the [\\<reliableSession>](../../../../docs/framework/configure-apps/file-schema/wcf/reliablesession.md) element, the enabled Boolean value configures whether reliable sessions are enabled. The `ordered` value configures whether message ordering is preserved. The `inactivityTimeout` value configures how long a session can be idle before being faulted.  \n  \n On the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md), the `mode` value configures which security mode should be used. In this sample, messages security is being used, which is why the [\\<message>](../../../../docs/framework/configure-apps/file-schema/wcf/message-of-wshttpbinding.md) is specified inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md).  \n  \n When you run the sample, the operation requests and responses are displayed in the client console window. Press ENTER in the client window to shut down the client.  \n  \n```  \n  \nAdd(100,15.99) = 115.99  \nSubtract(145,76.54) = 68.46  \nMultiply(9,81.25) = 731.25  \nDivide(22,7) = 3.14285714285714  \n  \nPress <ENTER> to terminate client.  \n```  \n  \n### To set up, build, and run the sample  \n  \n1.  Install [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 4.0 using the following command.  \n  \n    ```  \n    %windir%\\Microsoft.NET\\Framework\\v4.0.XXXXX\\aspnet_regiis.exe /i /enable  \n  \n    ```  \n  \n2.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n3.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n4.  To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n## See Also","nodes":[{"pos":[12,42],"content":"WSHttpBinding | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"WSHttpBinding | Microsoft Docs","pos":[0,30]}]},{"pos":[422,435],"content":"WSHttpBinding","linkify":"WSHttpBinding","nodes":[{"content":"WSHttpBinding","pos":[0,13]}]},{"content":"This sample demonstrates how to implement a typical service and a typical client using <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph>.","pos":[436,579],"source":"This sample demonstrates how to implement a typical service and a typical client using [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]."},{"content":"This sample consists of a client console program (client.exe) and a service library hosted by Internet Information Services (IIS).","pos":[580,710]},{"content":"The service implements a contract that defines a request-reply communication pattern.","pos":[711,796]},{"content":"The contract is defined by the <ph id=\"ph1\">`ICalculator`</ph> interface, which exposes math operations (add, subtract, multiply, and divide).","pos":[797,921],"source":" The contract is defined by the `ICalculator` interface, which exposes math operations (add, subtract, multiply, and divide)."},{"content":"The client makes synchronous requests to a given math operation and the service replies with the result.","pos":[922,1026]},{"content":"Client activity is visible in the console window.","pos":[1027,1076]},{"pos":[1084,1216],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[1,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1270,1596],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1597,1647]},{"pos":[1726,1833],"content":"[!NOTE]\n The setup procedure and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The setup procedure and build instructions for this sample are located at the end of this topic.","pos":[9,105]}]},{"content":"This sample exposes the <ph id=\"ph1\">`ICalculator`</ph> contract using the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>wsHttpBinding&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md)</ept>.","pos":[1840,1992],"source":"This sample exposes the `ICalculator` contract using the [\\<wsHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md)."},{"content":"The configuration of this binding has been expanded in the Web.config file.","pos":[1993,2068]},{"content":"On the base <ph id=\"ph1\">`binding`</ph> element, the <ph id=\"ph2\">`maxReceivedMessageSize`</ph> value lets you configure the maximum size of an incoming message (in bytes).","pos":[3337,3473],"source":"On the base `binding` element, the `maxReceivedMessageSize` value lets you configure the maximum size of an incoming message (in bytes)."},{"content":"The <ph id=\"ph1\">`hostNameComparisonMode`</ph> value lets you configure whether the hostname is considered when de-multiplexing messages to the service.","pos":[3474,3608],"source":" The `hostNameComparisonMode` value lets you configure whether the hostname is considered when de-multiplexing messages to the service."},{"content":"The <ph id=\"ph1\">`messageEncoding`</ph> value lets you configure whether to use Text or MTOM encoding for messages.","pos":[3609,3706],"source":" The `messageEncoding` value lets you configure whether to use Text or MTOM encoding for messages."},{"content":"The <ph id=\"ph1\">`textEncoding`</ph> value lets you configure the character encoding for messages.","pos":[3707,3787],"source":" The `textEncoding` value lets you configure the character encoding for messages."},{"content":"The <ph id=\"ph1\">`bypassProxyOnLocal`</ph> value lets you configure whether to use an HTTP proxy for local communication.","pos":[3788,3891],"source":" The `bypassProxyOnLocal` value lets you configure whether to use an HTTP proxy for local communication."},{"content":"The <ph id=\"ph1\">`transactionFlow`</ph> value configures whether the current transaction is flowed (if an operation is configured for transaction flow).","pos":[3892,4026],"source":" The `transactionFlow` value configures whether the current transaction is flowed (if an operation is configured for transaction flow)."},{"content":"On the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>reliableSession&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/reliablesession.md)</ept> element, the enabled Boolean value configures whether reliable sessions are enabled.","pos":[4033,4223],"source":"On the [\\<reliableSession>](../../../../docs/framework/configure-apps/file-schema/wcf/reliablesession.md) element, the enabled Boolean value configures whether reliable sessions are enabled."},{"content":"The <ph id=\"ph1\">`ordered`</ph> value configures whether message ordering is preserved.","pos":[4224,4293],"source":" The `ordered` value configures whether message ordering is preserved."},{"content":"The <ph id=\"ph1\">`inactivityTimeout`</ph> value configures how long a session can be idle before being faulted.","pos":[4294,4387],"source":" The `inactivityTimeout` value configures how long a session can be idle before being faulted."},{"content":"On the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md)</ept>, the <ph id=\"ph2\">`mode`</ph> value configures which security mode should be used.","pos":[4394,4567],"source":"On the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md), the `mode` value configures which security mode should be used."},{"content":"In this sample, messages security is being used, which is why the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>message&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/message-of-wshttpbinding.md)</ept> is specified inside the <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>security&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md)</ept>.","pos":[4568,4860],"source":" In this sample, messages security is being used, which is why the [\\<message>](../../../../docs/framework/configure-apps/file-schema/wcf/message-of-wshttpbinding.md) is specified inside the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-wshttpbinding.md)."},{"content":"When you run the sample, the operation requests and responses are displayed in the client console window.","pos":[4867,4972]},{"content":"Press ENTER in the client window to shut down the client.","pos":[4973,5030]},{"pos":[5217,5253],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[5263,5361],"content":"Install <ph id=\"ph1\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> 4.0 using the following command.","source":"Install [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 4.0 using the following command."},{"pos":[5476,5675],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[5685,5894],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[5904,6112],"content":"To run the sample in a single- or cross-machine configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[6121,6129],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}