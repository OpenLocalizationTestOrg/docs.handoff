{"content":"---\ntitle: \"Blocking Application Execution Using an AsyncWaitHandle | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"blocks, asynchronous operations\"\n  - \"ending asynchronous operations\"\n  - \"asynchronous programming, ending operations\"\n  - \"asynchronous programming, blocking applications\"\n  - \"stopping asynchronous operations\"\n  - \"blocking application execution\"\nms.assetid: 3e32daf2-8161-4e8f-addd-9fd9ff101b03\ncaps.latest.revision: 6\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Blocking Application Execution Using an AsyncWaitHandle\nApplications that cannot continue to do other work while waiting for the results of an asynchronous operation must block until the operation completes. Use one of the following options to block your application's main thread while waiting for an asynchronous operation to complete:  \n  \n-   Use the <xref:System.IAsyncResult.AsyncWaitHandle%2A> property of the <xref:System.IAsyncResult> returned by the asynchronous operation's **Begin** *OperationName* method. This approach is demonstrated in this topic.  \n  \n-   Call the asynchronous operation's **End** *OperationName* method. For an example that demonstrates this approach, see [Blocking Application Execution by Ending an Async Operation](../../../docs/standard/asynchronous-programming-patterns/blocking-application-execution-by-ending-an-async-operation.md).  \n  \n Applications that use one or more <xref:System.Threading.WaitHandle> objects to block until an asynchronous operation is complete will typically call the **Begin** *OperationName* method, perform any work that can be done without the results of the operation, and then block until the asynchronous operation(s) completes. An application can block on a single operation by calling one of the <xref:System.Threading.WaitHandle.WaitOne%2A> methods using the <xref:System.IAsyncResult.AsyncWaitHandle%2A>. To block while waiting for a set of asynchronous operations to complete, store the associated <xref:System.IAsyncResult.AsyncWaitHandle%2A> objects in an array and call one of the <xref:System.Threading.WaitHandle.WaitAll%2A> methods. To block while waiting for any one of a set of asynchronous operations to complete, store the associated <xref:System.IAsyncResult.AsyncWaitHandle%2A> objects in an array and call one of the <xref:System.Threading.WaitHandle.WaitAny%2A> methods.  \n  \n## Example  \n The following code example demonstrates using asynchronous methods in the DNS class to retrieve Domain Name System information for a user-specified computer. The example demonstrates blocking using the <xref:System.Threading.WaitHandle> associated with the asynchronous operation. Note that `null` (`Nothing` in Visual Basic) is passed for the <xref:System.Net.Dns.BeginGetHostByName%2A>`requestCallback` and `stateObject` parameters because these are not required when using this approach.  \n  \n [!code-csharp[AsyncDesignPattern#2](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDesignPattern/CS/Async_EndBlockWait.cs#2)]\n [!code-vb[AsyncDesignPattern#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDesignPattern/VB/Async_EndBlockWait.vb#2)]  \n  \n## See Also  \n [Event-based Asynchronous Pattern (EAP)](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md)   \n [Event-based Asynchronous Pattern Overview](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md)","nodes":[{"pos":[4,645],"nodes":[{"content":"Blocking Application Execution Using an AsyncWaitHandle | Microsoft Docs","nodes":[{"pos":[0,72],"content":"Blocking Application Execution Using an AsyncWaitHandle | Microsoft Docs","nodes":[{"content":"Blocking Application Execution Using an AsyncWaitHandle | Microsoft Docs","pos":[0,72]}]}],"pos":[6,81],"yaml":true}],"content":"title: \"Blocking Application Execution Using an AsyncWaitHandle | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"blocks, asynchronous operations\"\n  - \"ending asynchronous operations\"\n  - \"asynchronous programming, ending operations\"\n  - \"asynchronous programming, blocking applications\"\n  - \"stopping asynchronous operations\"\n  - \"blocking application execution\"\nms.assetid: 3e32daf2-8161-4e8f-addd-9fd9ff101b03\ncaps.latest.revision: 6\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"","yamlblock":true},{"pos":[652,707],"content":"Blocking Application Execution Using an AsyncWaitHandle","linkify":"Blocking Application Execution Using an AsyncWaitHandle","nodes":[{"content":"Blocking Application Execution Using an AsyncWaitHandle","pos":[0,55]}]},{"content":"Applications that cannot continue to do other work while waiting for the results of an asynchronous operation must block until the operation completes.","pos":[708,859]},{"content":"Use one of the following options to block your application's main thread while waiting for an asynchronous operation to complete:","pos":[860,989]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.IAsyncResult.AsyncWaitHandle%2A&gt;</ph> property of the <ph id=\"ph2\">&lt;xref:System.IAsyncResult&gt;</ph> returned by the asynchronous operation's <bpt id=\"p1\">**</bpt>Begin<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>OperationName<ept id=\"p2\">*</ept> method.","pos":[999,1170],"source":"Use the <xref:System.IAsyncResult.AsyncWaitHandle%2A> property of the <xref:System.IAsyncResult> returned by the asynchronous operation's **Begin** *OperationName* method."},{"content":"This approach is demonstrated in this topic.","pos":[1171,1215]},{"content":"Call the asynchronous operation's <bpt id=\"p1\">**</bpt>End<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>OperationName<ept id=\"p2\">*</ept> method.","pos":[1225,1290],"source":"Call the asynchronous operation's **End** *OperationName* method."},{"content":"For an example that demonstrates this approach, see <bpt id=\"p1\">[</bpt>Blocking Application Execution by Ending an Async Operation<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/blocking-application-execution-by-ending-an-async-operation.md)</ept>.","pos":[1291,1526],"source":" For an example that demonstrates this approach, see [Blocking Application Execution by Ending an Async Operation](../../../docs/standard/asynchronous-programming-patterns/blocking-application-execution-by-ending-an-async-operation.md)."},{"content":"Applications that use one or more <ph id=\"ph1\">&lt;xref:System.Threading.WaitHandle&gt;</ph> objects to block until an asynchronous operation is complete will typically call the <bpt id=\"p1\">**</bpt>Begin<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>OperationName<ept id=\"p2\">*</ept> method, perform any work that can be done without the results of the operation, and then block until the asynchronous operation(s) completes.","pos":[1533,1854],"source":"Applications that use one or more <xref:System.Threading.WaitHandle> objects to block until an asynchronous operation is complete will typically call the **Begin** *OperationName* method, perform any work that can be done without the results of the operation, and then block until the asynchronous operation(s) completes."},{"content":"An application can block on a single operation by calling one of the <ph id=\"ph1\">&lt;xref:System.Threading.WaitHandle.WaitOne%2A&gt;</ph> methods using the <ph id=\"ph2\">&lt;xref:System.IAsyncResult.AsyncWaitHandle%2A&gt;</ph>.","pos":[1855,2034],"source":" An application can block on a single operation by calling one of the <xref:System.Threading.WaitHandle.WaitOne%2A> methods using the <xref:System.IAsyncResult.AsyncWaitHandle%2A>."},{"content":"To block while waiting for a set of asynchronous operations to complete, store the associated <ph id=\"ph1\">&lt;xref:System.IAsyncResult.AsyncWaitHandle%2A&gt;</ph> objects in an array and call one of the <ph id=\"ph2\">&lt;xref:System.Threading.WaitHandle.WaitAll%2A&gt;</ph> methods.","pos":[2035,2269],"source":" To block while waiting for a set of asynchronous operations to complete, store the associated <xref:System.IAsyncResult.AsyncWaitHandle%2A> objects in an array and call one of the <xref:System.Threading.WaitHandle.WaitAll%2A> methods."},{"content":"To block while waiting for any one of a set of asynchronous operations to complete, store the associated <ph id=\"ph1\">&lt;xref:System.IAsyncResult.AsyncWaitHandle%2A&gt;</ph> objects in an array and call one of the <ph id=\"ph2\">&lt;xref:System.Threading.WaitHandle.WaitAny%2A&gt;</ph> methods.","pos":[2270,2515],"source":" To block while waiting for any one of a set of asynchronous operations to complete, store the associated <xref:System.IAsyncResult.AsyncWaitHandle%2A> objects in an array and call one of the <xref:System.Threading.WaitHandle.WaitAny%2A> methods."},{"pos":[2524,2531],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code example demonstrates using asynchronous methods in the DNS class to retrieve Domain Name System information for a user-specified computer.","pos":[2535,2692]},{"content":"The example demonstrates blocking using the <ph id=\"ph1\">&lt;xref:System.Threading.WaitHandle&gt;</ph> associated with the asynchronous operation.","pos":[2693,2815],"source":" The example demonstrates blocking using the <xref:System.Threading.WaitHandle> associated with the asynchronous operation."},{"content":"Note that <ph id=\"ph1\">`null`</ph> (<ph id=\"ph2\">`Nothing`</ph> in Visual Basic) is passed for the <ph id=\"ph3\">&lt;xref:System.Net.Dns.BeginGetHostByName%2A&gt;</ph><ph id=\"ph4\">`requestCallback`</ph> and <ph id=\"ph5\">`stateObject`</ph> parameters because these are not required when using this approach.","pos":[2816,3025],"source":" Note that `null` (`Nothing` in Visual Basic) is passed for the <xref:System.Net.Dns.BeginGetHostByName%2A>`requestCallback` and `stateObject` parameters because these are not required when using this approach."},{"pos":[3032,3299],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>AsyncDesignPattern#2<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDesignPattern/CS/Async_EndBlockWait.cs#2)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>AsyncDesignPattern#2<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDesignPattern/VB/Async_EndBlockWait.vb#2)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[AsyncDesignPattern#2](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDesignPattern/CS/Async_EndBlockWait.cs#2)]\n [!code-vb[AsyncDesignPattern#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDesignPattern/VB/Async_EndBlockWait.vb#2)]"},{"pos":[3308,3316],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Event-based Asynchronous Pattern (EAP)<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md)</ept><ph id=\"ph1\"> </ph>","pos":[3320,3459],"source":"[Event-based Asynchronous Pattern (EAP)](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md) "},{"content":"<bpt id=\"p1\">[</bpt>Event-based Asynchronous Pattern Overview<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md)</ept>","pos":[3463,3609],"source":"[Event-based Asynchronous Pattern Overview](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md)"}]}