{"content":"---\ntitle: \"Hello World with the Routing Service | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 0f4b0d5b-6522-4ad5-9f3a-baa78316d7d1\ncaps.latest.revision: 13\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Hello World with the Routing Service\nThis sample demonstrates the [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] Routing Service. The Routing Service is a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] component that makes it easy to include a content-based router in your application. This sample adapts the standard [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Calculator Sample to communicate using the Routing Service. In this sample, the Calculator client is configured to send messages to an endpoint exposed by the router. The Routing Service is configured to accept all messages sent to it and to forward them to an endpoint that corresponds to the Calculator service. Thus messages sent from the client are received by the router and re-routed to the actual Calculator service. Messages from the Calculator service are sent back to the router, which in turn passes them back to the Calculator client.  \n  \n### To use this sample  \n  \n1.  Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open HelloRoutingService.sln.  \n  \n2.  Press F5 or CTRL+SHIFT+B.  \n  \n    > [!NOTE]\n    >  If you press F5, the Calculator Client automatically starts. If you press CTRL+SHIFT+B (build), you must start following applications yourself.  \n    >   \n    >  1.  Calculator client (./CalculatorClient/bin/client.exe  \n    > 2.  Calculator service (./CalculatorService/bin/service.exe)  \n    > 3.  Routing service (./RoutingService/bin/RoutingService.exe)  \n  \n3.  Press ENTER to start the client.  \n  \n     You should see the following output:  \n  \n     Add(100,15.99) = 115.99  \n  \n     Subtract(145,76.54) = 68.46  \n  \n     Multiply(9,81.25) = 731.25  \n  \n     Divide(22,7) = 3.14285714285714  \n  \n## Configurable via Code or App.Config  \n The sample ships configured to use an App.config file to define the router’s behavior. You can also change the name of the App.config file to something else so that it is not recognized and uncomment the method call to ConfigureRouterViaCode(). Either method results in the same behavior from the router.  \n  \n### Scenario  \n This sample demonstrates the router acting as a basic message pump. The routing service acts as a transparent proxy node configured to pass messages directly to a preconfigured set of destination endpoints.  \n  \n### Real World Scenario  \n Contoso wants to increase the flexibility it has in the naming, addressing, configuration, and security of its services. To do this, they place a basic message pump in front of their services to act as a public facing endpoint. This allows them to place additional security in front of their actual services and make it easier to implement scaled out solutions or service versioning at a later date.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\RoutingServices\\HelloRoutingService`  \n  \n## See Also  \n [AppFabric Hosting and Persistence Samples](http://go.microsoft.com/fwlink/?LinkId=193961)","nodes":[{"pos":[12,65],"content":"Hello World with the Routing Service | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Hello World with the Routing Service | Microsoft Docs","pos":[0,53]}]},{"pos":[364,400],"content":"Hello World with the Routing Service","linkify":"Hello World with the Routing Service","nodes":[{"content":"Hello World with the Routing Service","pos":[0,36]}]},{"content":"This sample demonstrates the <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> Routing Service.","pos":[401,502],"source":"This sample demonstrates the [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] Routing Service."},{"content":"The Routing Service is a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> component that makes it easy to include a content-based router in your application.","pos":[503,667],"source":" The Routing Service is a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] component that makes it easy to include a content-based router in your application."},{"content":"This sample adapts the standard <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> Calculator Sample to communicate using the Routing Service.","pos":[668,815],"source":" This sample adapts the standard [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Calculator Sample to communicate using the Routing Service."},{"content":"In this sample, the Calculator client is configured to send messages to an endpoint exposed by the router.","pos":[816,922]},{"content":"The Routing Service is configured to accept all messages sent to it and to forward them to an endpoint that corresponds to the Calculator service.","pos":[923,1069]},{"content":"Thus messages sent from the client are received by the router and re-routed to the actual Calculator service.","pos":[1070,1179]},{"content":"Messages from the Calculator service are sent back to the router, which in turn passes them back to the Calculator client.","pos":[1180,1302]},{"pos":[1312,1330],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[1340,1448],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph>, open HelloRoutingService.sln.","source":"Using [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], open HelloRoutingService.sln."},{"content":"Press F5 or CTRL+SHIFT+B.","pos":[1458,1483]},{"pos":[1495,1653],"content":"[!NOTE]\nIf you press F5, the Calculator Client automatically starts. If you press CTRL+SHIFT+B (build), you must start following applications yourself.","leadings":["","    >  "],"nodes":[{"content":"If you press F5, the Calculator Client automatically starts. If you press CTRL+SHIFT+B (build), you must start following applications yourself.","pos":[8,151],"nodes":[{"content":"If you press F5, the Calculator Client automatically starts.","pos":[0,60]},{"content":"If you press CTRL+SHIFT+B (build), you must start following applications yourself.","pos":[61,143]}]}]},{"content":"Calculator client (./CalculatorClient/bin/client.exe","pos":[1676,1728]},{"content":"Calculator service (./CalculatorService/bin/service.exe)","pos":[1741,1797]},{"content":"Routing service (./RoutingService/bin/RoutingService.exe)","pos":[1810,1867]},{"content":"Press ENTER to start the client.","pos":[1877,1909]},{"content":"You should see the following output:","pos":[1920,1956]},{"content":"Add(100,15.99) = 115.99","pos":[1967,1990]},{"content":"Subtract(145,76.54) = 68.46","pos":[2001,2028]},{"content":"Multiply(9,81.25) = 731.25","pos":[2039,2065]},{"content":"Divide(22,7) = 3.14285714285714","pos":[2076,2107]},{"pos":[2116,2151],"content":"Configurable via Code or App.Config","linkify":"Configurable via Code or App.Config","nodes":[{"content":"Configurable via Code or App.Config","pos":[0,35]}]},{"content":"The sample ships configured to use an App.config file to define the router’s behavior.","pos":[2155,2241]},{"content":"You can also change the name of the App.config file to something else so that it is not recognized and uncomment the method call to ConfigureRouterViaCode().","pos":[2242,2399]},{"content":"Either method results in the same behavior from the router.","pos":[2400,2459]},{"pos":[2469,2477],"content":"Scenario","linkify":"Scenario","nodes":[{"content":"Scenario","pos":[0,8]}]},{"content":"This sample demonstrates the router acting as a basic message pump.","pos":[2481,2548]},{"content":"The routing service acts as a transparent proxy node configured to pass messages directly to a preconfigured set of destination endpoints.","pos":[2549,2687]},{"pos":[2697,2716],"content":"Real World Scenario","linkify":"Real World Scenario","nodes":[{"content":"Real World Scenario","pos":[0,19]}]},{"content":"Contoso wants to increase the flexibility it has in the naming, addressing, configuration, and security of its services.","pos":[2720,2840]},{"content":"To do this, they place a basic message pump in front of their services to act as a public facing endpoint.","pos":[2841,2947]},{"content":"This allows them to place additional security in front of their actual services and make it easier to implement scaled out solutions or service versioning at a later date.","pos":[2948,3119]},{"pos":[3127,3260],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[13,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[1,55]},{"content":"Check for the following (default) directory before continuing.","pos":[56,118]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[3314,3640],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[3641,3691]},{"pos":[3789,3797],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3801,3891],"content":"<bpt id=\"p1\">[</bpt>AppFabric Hosting and Persistence Samples<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=193961)</ept>","source":"[AppFabric Hosting and Persistence Samples](http://go.microsoft.com/fwlink/?LinkId=193961)"}]}