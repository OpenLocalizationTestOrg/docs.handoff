{"content":"---\ntitle: \"Security (WPF)\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"XAML files [WPF], sandbox behavior\"\n  - \"browser-hosted application security [WPF]\"\n  - \"application security [WPF]\"\n  - \"navigation security [WPF]\"\n  - \"loose XAML files [WPF], sandbox behavior\"\n  - \"WPF security [WPF]\"\n  - \"WebBrowser control [WPF], security\"\n  - \"feature controls [WPF], security\"\n  - \"XBAP security [WPF]\"\n  - \"Internet Explorer security settings [WPF]\"\nms.assetid: ee1baea0-3611-4e36-9ad6-fcd5205376fb\n---\n# Security (WPF)\n<a name=\"introduction\"></a> When developing Windows Presentation Foundation (WPF) standalone and browser-hosted applications, you must consider the security model. [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] standalone applications execute with unrestricted permissions ( [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]**FullTrust** permission set), whether deployed using Windows Installer (.msi), XCopy, or [!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)]. Deploying partial-trust, standalone WPF applications with ClickOnce is unsupported. However, a full-trust host application can create a partial-trust <xref:System.AppDomain> using the .NET Framework Add-in model. For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md).  \n  \n [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] browser-hosted applications are hosted by [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)] or Firefox, and can be either [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)] or loose [!INCLUDE[TLA#tla_xaml](../../../includes/tlasharptla-xaml-md.md)] documents For more information, see [WPF XAML Browser Applications Overview](./app-development/wpf-xaml-browser-applications-overview.md).  \n  \n [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] browser-hosted applications execute within a partial trust security sandbox, by default, which is limited to the default [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]**Internet** zone permission set. This effectively isolates [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] browser-hosted applications from the client computer in the same way that you would expect typical Web applications to be isolated. An XBAP can elevate privileges, up to Full Trust, depending on the security zone of the deployment URL and the client's security configuration. For more information, see [WPF Partial Trust Security](wpf-partial-trust-security.md).  \n  \n This topic discusses the security model for Windows Presentation Foundation (WPF) standalone and browser-hosted applications.  \n  \n This topic contains the following sections:  \n  \n-   [Safe Navigation](#SafeTopLevelNavigation)  \n  \n-   [Web Browsing Software Security Settings](#InternetExplorerSecuritySettings)  \n  \n-   [WebBrowser Control and Feature Controls](#webbrowser_control_and_feature_controls)  \n  \n-   [Disabling APTCA Assemblies for Partially Trusted Client Applications](#APTCA)  \n  \n-   [Sandbox Behavior for Loose XAML Files](#LooseContentSandboxing)  \n  \n-   [Resources for Developing WPF Applications that Promote Security](#BestPractices)  \n  \n<a name=\"SafeTopLevelNavigation\"></a>   \n## Safe Navigation  \n For [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] distinguishes two types of navigation: application and browser.  \n  \n *Application navigation* is navigation between items of content within an application that is hosted by a browser. *Browser navigation* is navigation that changes the content and location URL of a browser itself. The relationship between application navigation (typically XAML) and browser navigation (typically HTML) is shown in the following illustration:\n  \n ![Relationship between application navigation and browser navigation.](./media/security-wpf/application-browser-navigation-relationship.png)  \n  \n The type of content that is considered safe for an [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] to navigate to is primarily determined by whether application navigation or browser navigation is used.  \n  \n<a name=\"Application_Navigation_Security\"></a>   \n### Application Navigation Security  \n Application navigation is considered safe if it can be identified with a pack [!INCLUDE[TLA2#tla_uri](../../../includes/tla2sharptla-uri-md.md)], which supports four types of content:  \n  \n|Content Type|Description|URI Example|  \n|------------------|-----------------|-----------------|  \n|Resource|Files that are added to a project with a build type of **Resource**.|`pack://application:,,,/MyResourceFile.xaml`|  \n|Content|Files that are added to a project with a build type of **Content**.|`pack://application:,,,/MyContentFile.xaml`|  \n|Site of origin|Files that are added to a project with a build type of **None**.|`pack://siteoforigin:,,,/MySiteOfOriginFile.xaml`|  \n|Application code|XAML resources that have a compiled code-behind.<br /><br /> -or-<br /><br /> XAML files that are added to a project with a build type of **Page**.|`pack://application:,,,/MyResourceFile` `.xaml`|  \n  \n> [!NOTE]\n>  For more information about application data files and pack [!INCLUDE[TLA2#tla_uri#plural](../../../includes/tla2sharptla-urisharpplural-md.md)], see [WPF Application Resource, Content, and Data Files](./app-development/wpf-application-resource-content-and-data-files.md).  \n  \n Files of these content types can be navigated to by either the user or programmatically:  \n  \n-   **User Navigation**. The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element.  \n  \n-   **Programmatic Navigation**. The application navigates without involving the user, for example, by setting the <xref:System.Windows.Navigation.NavigationWindow.Source%2A?displayProperty=nameWithType> property.  \n  \n<a name=\"Browser_Navigation_Security\"></a>   \n### Browser Navigation Security  \n Browser navigation is considered safe only under the following conditions:  \n  \n-   **User Navigation**. The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element that is within the main <xref:System.Windows.Navigation.NavigationWindow>, not in a nested <xref:System.Windows.Controls.Frame>.  \n  \n-   **Zone**. The content being navigated to is located on the Internet or the local intranet.  \n  \n-   **Protocol**. The protocol being used is either **http**, **https**, **file**, or **mailto**.  \n  \n If an [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] attempts to navigate to content in a manner that does not comply with these conditions, a <xref:System.Security.SecurityException> is thrown.  \n  \n<a name=\"InternetExplorerSecuritySettings\"></a>   \n## Web Browsing Software Security Settings  \n The security settings on your computer determine the access that any Web browsing software is granted. Web browsing software includes any application or component that uses the [WinINet](https://go.microsoft.com/fwlink/?LinkId=179379) or [UrlMon](https://go.microsoft.com/fwlink/?LinkId=179383) APIs, including Internet Explorer and PresentationHost.exe.  \n  \n [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] provides a mechanism by which you can configure the functionality that is allowed to be executed by or from [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)], including the following:  \n  \n-   .NET Framework-reliant components  \n  \n-   ActiveX controls and plug-ins  \n  \n-   Downloads  \n  \n-   Scripting  \n  \n-   User Authentication  \n  \n The collection of functionality that can be secured in this way is configured on a per-zone basis for the **Internet**, **Intranet**, **Trusted Sites**, and **Restricted Sites** zones. The following steps describe how to configure your security settings:  \n  \n1.  Open **Control Panel**.  \n  \n2.  Click **Network and Internet** and then click **Internet Options**.  \n  \n     The Internet Options dialog box appears.  \n  \n3.  On the **Security** tab, select the zone to configure the security settings for.  \n  \n4.  Click the **Custom Level** button.  \n  \n     The **Security Settings** dialog box appears and you can configure the security settings for the selected zone.  \n  \n     ![Screenshot that shows the Security Settings dialog box.](./media/security-wpf/windows-presentation-foundation-security-settings.png)  \n  \n> [!NOTE]\n>  You can also get to the Internet Options dialog box from Internet Explorer. Click **Tools** and then click **Internet Options**.  \n  \n Starting with [!INCLUDE[TLA#tla_ie7](../../../includes/tlasharptla-ie7-md.md)], the following security settings specifically for .NET Framework are included:  \n  \n-   **Loose XAML**. Controls whether [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] can navigate to and loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files. (Enable, Disable, and Prompt options).  \n  \n-   **XAML browser applications**. Controls whether [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] can navigate to and run [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)]. (Enable, Disable, and Prompt options).  \n  \n By default, these settings are all enabled for the **Internet**, **Local intranet**, and **Trusted sites** zones, and disabled for the **Restricted sites** zone.  \n  \n<a name=\"Security_Settings_for_IE6_and_Below\"></a>   \n### Security-related WPF Registry Settings  \n In addition to the security settings available through the Internet Options, the following registry values are available for selectively blocking a number of security-sensitive WPF features. The values are defined under the following key:  \n  \n `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\.NETFramework\\Windows Presentation Foundation\\Features`  \n  \n The following table lists the values that can be set.  \n  \n|Value Name|Value Type|Value Data|  \n|----------------|----------------|----------------|  \n|XBAPDisallow|REG_DWORD|1 to disallow; 0 to allow.|  \n|LooseXamlDisallow|REG_DWORD|1 to disallow; 0 to allow.|  \n|WebBrowserDisallow|REG_DWORD|1 to disallow; 0 to allow.|  \n|MediaAudioDisallow|REG_DWORD|1 to disallow; 0 to allow.|  \n|MediaImageDisallow|REG_DWORD|1 to disallow; 0 to allow.|  \n|MediaVideoDisallow|REG_DWORD|1 to disallow; 0 to allow.|  \n|ScriptInteropDisallow|REG_DWORD|1 to disallow; 0 to allow.|  \n  \n<a name=\"webbrowser_control_and_feature_controls\"></a>   \n## WebBrowser Control and Feature Controls  \n The WPF <xref:System.Windows.Controls.WebBrowser> control can be used to host Web content. The WPF <xref:System.Windows.Controls.WebBrowser> control wraps the underlying WebBrowser ActiveX control. WPF provides some support for securing your application when you use the WPF <xref:System.Windows.Controls.WebBrowser> control to host untrusted Web content. However, some security features must be applied directly by the applications using the <xref:System.Windows.Controls.WebBrowser> control. For more information about the WebBrowser ActiveX control, see [WebBrowser Control Overviews and Tutorials](https://go.microsoft.com/fwlink/?LinkId=179388).  \n  \n> [!NOTE]\n>  This section also applies to the <xref:System.Windows.Controls.Frame> control since it uses the <xref:System.Windows.Controls.WebBrowser> to navigate to HTML content.  \n  \n If the WPF <xref:System.Windows.Controls.WebBrowser> control is used to host untrusted Web content, your application should use a partial-trust <xref:System.AppDomain> to help insulate your application code from potentially malicious HTML script code. This is especially true if your application is interacting with the hosted script by using the <xref:System.Windows.Controls.WebBrowser.InvokeScript%2A> method and the <xref:System.Windows.Controls.WebBrowser.ObjectForScripting%2A> property. For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md).  \n  \n If your application uses the WPF <xref:System.Windows.Controls.WebBrowser> control, another way to increase security and mitigate attacks is to enable Internet Explorer feature controls. Feature controls are additions to Internet Explorer that allow administrators and developers to configure features of Internet Explorer and applications that host the WebBrowser ActiveX control, which the WPF <xref:System.Windows.Controls.WebBrowser> control wraps. Feature controls can be configured by using the [CoInternetSetFeatureEnabled](https://go.microsoft.com/fwlink/?LinkId=179394) function or by changing values in the registry. For more information about feature controls, see [Introduction to Feature Controls](https://go.microsoft.com/fwlink/?LinkId=179390) and [Internet Feature Controls](https://go.microsoft.com/fwlink/?LinkId=179392).  \n  \n If you are developing a standalone WPF application that uses the WPF <xref:System.Windows.Controls.WebBrowser> control, WPF automatically enables the following feature controls for your application.  \n  \n|Feature Control|  \n|---------------------|  \n|FEATURE_MIME_HANDLING|  \n|FEATURE_MIME_SNIFFING|  \n|FEATURE_OBJECT_CACHING|  \n|FEATURE_SAFE_BINDTOOBJECT|  \n|FEATURE_WINDOW_RESTRICTIONS|  \n|FEATURE_ZONE_ELEVATION|  \n|FEATURE_RESTRICT_FILEDOWNLOAD|  \n|FEATURE_RESTRICT_ACTIVEXINSTALL|  \n|FEATURE_ADDON_MANAGEMENT|  \n|FEATURE_HTTP_USERNAME_PASSWORD_DISABLE|  \n|FEATURE_SECURITYBAND|  \n|FEATURE_UNC_SAVEDFILECHECK|  \n|FEATURE_VALIDATE_NAVIGATE_URL|  \n|FEATURE_DISABLE_TELNET_PROTOCOL|  \n|FEATURE_WEBOC_POPUPMANAGEMENT|  \n|FEATURE_DISABLE_LEGACY_COMPRESSION|  \n|FEATURE_SSLUX|  \n  \n Since these feature controls are enabled unconditionally, a full-trust application might be impaired by them. In this case, if there is no security risk for the specific application and the content it is hosting, the corresponding feature control can be disabled.  \n  \n Feature controls are applied by the process instantiating the WebBrowser ActiveX object. Therefore, if you are creating a stand-alone application that can navigate to untrusted content, you should seriously consider enabling additional feature controls.  \n  \n> [!NOTE]\n>  This recommendation is based on general recommendations for MSHTML and SHDOCVW host security. For more information, see [The MSHTML Host Security FAQ: Part I of II](https://go.microsoft.com/fwlink/?LinkId=179396) and [The MSHTML Host Security FAQ: Part II of II](https://go.microsoft.com/fwlink/?LinkId=179415).  \n  \n For your executable, consider enabling the following feature controls by setting the registry value to 1.  \n  \n|Feature Control|  \n|---------------------|  \n|FEATURE_ACTIVEX_REPURPOSEDETECTION|  \n|FEATURE_BLOCK_LMZ_IMG|  \n|FEATURE_BLOCK_LMZ_OBJECT|  \n|FEATURE_BLOCK_LMZ_SCRIPT|  \n|FEATURE_RESTRICT_RES_TO_LMZ|  \n|FEATURE_RESTRICT_ABOUT_PROTOCOL_IE7|  \n|FEATURE_SHOW_APP_PROTOCOL_WARN_DIALOG|  \n|FEATURE_LOCALMACHINE_LOCKDOWN|  \n|FEATURE_FORCE_ADDR_AND_STATUS|  \n|FEATURE_RESTRICTED_ZONE_WHEN_FILE_NOT_FOUND|  \n  \n For your executable, consider disabling the following feature control by setting the registry value to 0.  \n  \n|Feature Control|  \n|---------------------|  \n|FEATURE_ENABLE_SCRIPT_PASTE_URLACTION_IF_PROMPT|  \n  \n If you run a partial-trust [!INCLUDE[TLA#tla_xbap](../../../includes/tlasharptla-xbap-md.md)] that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)], WPF hosts the WebBrowser ActiveX control in the address space of the Internet Explorer process. Since the WebBrowser ActiveX control is hosted in the [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] process, all of the feature controls for Internet Explorer are also enabled for the WebBrowser ActiveX control.  \n  \n XBAPs running in Internet Explorer also get an additional level of security compared to normal standalone applications. This additional security is because Internet Explorer, and therefore the WebBrowser ActiveX control, runs in protected mode by default on [!INCLUDE[TLA#tla_winvista](../../../includes/tlasharptla-winvista-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)]. For more information about protected mode, see [Understanding and Working in Protected Mode Internet Explorer](https://go.microsoft.com/fwlink/?LinkId=179393).  \n  \n> [!NOTE]\n>  If you try to run an XBAP that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in Firefox, while in the Internet zone, a <xref:System.Security.SecurityException> will be thrown. This is due to WPF security policy.  \n  \n<a name=\"APTCA\"></a>   \n## Disabling APTCA Assemblies for Partially Trusted Client Applications  \n When managed assemblies are installed into the [!INCLUDE[TLA#tla_gac](../../../includes/tlasharptla-gac-md.md)], they become fully trusted because the user must provide explicit permission to install them. Because they are fully trusted, only fully trusted managed client applications can use them. To allow partially trusted applications to use them, they must be marked with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> (APTCA). Only assemblies that have been tested to be safe for execution in partial trust should be marked with this attribute.  \n  \n However, it is possible for an APTCA assembly to exhibit a security flaw after being installed into the [!INCLUDE[TLA2#tla_gac](../../../includes/tla2sharptla-gac-md.md)]. Once a security flaw is discovered, assembly publishers can produce a security update to fix the problem on existing installations, and to protect against installations that may occur after the problem is discovered. One option for the update is to uninstall the assembly, although that may break other fully trusted client applications that use the assembly.  \n  \n [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] provides a mechanism by which an APTCA assembly can be disabled for partially trusted [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)] without uninstalling the APTCA assembly.  \n  \n To disable an APTCA assembly, you have to create a special registry key:  \n  \n `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\.NETFramework\\policy\\APTCA\\<AssemblyFullName>, FileVersion=<AssemblyFileVersion>`  \n  \n The following shows an example:  \n  \n `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\.NETFramework\\policy\\APTCA\\aptcagac, Version=1.0.0.0, Culture=neutral, PublicKeyToken=215e3ac809a0fea7, FileVersion=1.0.0.0`  \n  \n This key establishes an entry for the APTCA assembly. You also have to create a value in this key that enables or disables the assembly. The following are the details of the value:  \n  \n-   Value Name: **APTCA_FLAG**.  \n  \n-   Value Type: **REG_DWORD**.  \n  \n-   Value Data: **1** to disable; **0** to enable.  \n  \n If an assembly has to be disabled for partially trusted client applications, you can write an update that creates the registry key and value.  \n  \n> [!NOTE]\n>  Core .NET Framework assemblies are not affected by disabling them in this way because they are required for managed applications to run. Support for disabling APTCA assemblies is primarily targeted to third-party applications.  \n  \n<a name=\"LooseContentSandboxing\"></a>   \n## Sandbox Behavior for Loose XAML Files  \n Loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are markup-only XAML files that do not depend on any code-behind, event handler, or application-specific assembly. When loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to directly from the browser, they are loaded in a security sandbox based on the default Internet zone permission set.  \n  \n However, the security behavior is different when loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application.  \n  \n In both cases, the loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file that is navigated to inherits the permissions of its host application. However, this behavior may be undesirable from a security perspective, particularly if a loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file was produced by an entity that is either not trusted or unknown. This type of content is known as *external content*, and both <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> can be configured to isolate it when navigated to. Isolation is achieved by setting the **SandboxExternalContent** property to true, as shown in the following examples for <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow>:  \n  \n [!code-xaml[SecurityOverviewSnippets#FrameMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/SecurityOverviewSnippets/CS/Window2.xaml#framemarkup)]  \n  \n [!code-xaml[SecurityOverviewSnippets#NavigationWindowMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/SecurityOverviewSnippets/CS/Window1.xaml#navigationwindowmarkup)]  \n  \n With this setting, external content will be loaded into a process that is separate from the process that is hosting the application. This process is restricted to the default Internet zone permission set, effectively isolating it from the hosting application and the client computer.  \n  \n> [!NOTE]\n>  Even though navigation to loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application is implemented based on the WPF browser hosting infrastructure, involving the PresentationHost process, the security level is slightly less than when the content is loaded directly in Internet Explorer on [!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)] (which would still be through PresentationHost). This is because a standalone WPF application using a Web browser does not provide the additional Protected Mode security feature of Internet Explorer.  \n  \n<a name=\"BestPractices\"></a>   \n## Resources for Developing WPF Applications that Promote Security  \n The following are some additional resources to help develop [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] applications that promote security:  \n  \n|Area|Resource|  \n|----------|--------------|  \n|Managed code|[Patterns and Practices Security Guidance for Applications](https://go.microsoft.com/fwlink/?LinkId=117426)|  \n|[!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]|[Code Access Security](../misc/code-access-security.md)|  \n|[!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)]|[ClickOnce Security and Deployment](/visualstudio/deployment/clickonce-security-and-deployment)|  \n|[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]|[WPF Partial Trust Security](wpf-partial-trust-security.md)|  \n  \n## See also\n\n- [WPF Partial Trust Security](wpf-partial-trust-security.md)\n- [WPF Security Strategy - Platform Security](wpf-security-strategy-platform-security.md)\n- [WPF Security Strategy - Security Engineering](wpf-security-strategy-security-engineering.md)\n- [Patterns and Practices Security Guidance for Applications](https://go.microsoft.com/fwlink/?LinkId=117426)\n- [Code Access Security](../misc/code-access-security.md)\n- [ClickOnce Security and Deployment](/visualstudio/deployment/clickonce-security-and-deployment)\n- [XAML Overview (WPF)](./advanced/xaml-overview-wpf.md)\n","nodes":[{"pos":[4,500],"embed":true,"restype":"x-metadata","content":"title: \"Security (WPF)\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"XAML files [WPF], sandbox behavior\"\n  - \"browser-hosted application security [WPF]\"\n  - \"application security [WPF]\"\n  - \"navigation security [WPF]\"\n  - \"loose XAML files [WPF], sandbox behavior\"\n  - \"WPF security [WPF]\"\n  - \"WebBrowser control [WPF], security\"\n  - \"feature controls [WPF], security\"\n  - \"XBAP security [WPF]\"\n  - \"Internet Explorer security settings [WPF]\"\nms.assetid: ee1baea0-3611-4e36-9ad6-fcd5205376fb","nodes":[{"content":"Security (WPF)","nodes":[{"pos":[0,14],"content":"Security (WPF)","nodes":[{"content":"Security (WPF)","pos":[0,14]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[507,521],"content":"Security (WPF)","linkify":"Security (WPF)","nodes":[{"content":"Security (WPF)","pos":[0,14]}]},{"content":"<bpt id=\"p1\">&lt;a name=\"introduction\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept> When developing Windows Presentation Foundation (WPF) standalone and browser-hosted applications, you must consider the security model.","pos":[522,685],"source":"<a name=\"introduction\"></a> When developing Windows Presentation Foundation (WPF) standalone and browser-hosted applications, you must consider the security model."},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]</ph> standalone applications execute with unrestricted permissions ( <ph id=\"ph2\">[!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]</ph><bpt id=\"p1\">**</bpt>FullTrust<ept id=\"p1\">**</ept> permission set), whether deployed using Windows Installer (.msi), XCopy, or <ph id=\"ph3\">[!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)]</ph>.","pos":[686,1052],"source":"[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] standalone applications execute with unrestricted permissions ( [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]**FullTrust** permission set), whether deployed using Windows Installer (.msi), XCopy, or [!INCLUDE[TLA2#tla_clickonce](../../../includes/tla2sharptla-clickonce-md.md)]."},{"content":"Deploying partial-trust, standalone WPF applications with ClickOnce is unsupported.","pos":[1053,1136]},{"content":"However, a full-trust host application can create a partial-trust <ph id=\"ph1\">&lt;xref:System.AppDomain&gt;</ph> using the .NET Framework Add-in model.","pos":[1137,1265],"source":" However, a full-trust host application can create a partial-trust <xref:System.AppDomain> using the .NET Framework Add-in model."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WPF Add-Ins Overview<ept id=\"p1\">](./app-development/wpf-add-ins-overview.md)</ept>.","pos":[1266,1358],"source":" For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md)."},{"pos":[1365,1880],"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]</ph> browser-hosted applications are hosted by <ph id=\"ph2\">[!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)]</ph> or Firefox, and can be either <ph id=\"ph3\">[!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)]</ph> or loose <ph id=\"ph4\">[!INCLUDE[TLA#tla_xaml](../../../includes/tlasharptla-xaml-md.md)]</ph> documents For more information, see <bpt id=\"p1\">[</bpt>WPF XAML Browser Applications Overview<ept id=\"p1\">](./app-development/wpf-xaml-browser-applications-overview.md)</ept>.","source":"[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] browser-hosted applications are hosted by [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)] or Firefox, and can be either [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)] or loose [!INCLUDE[TLA#tla_xaml](../../../includes/tlasharptla-xaml-md.md)] documents For more information, see [WPF XAML Browser Applications Overview](./app-development/wpf-xaml-browser-applications-overview.md)."},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]</ph> browser-hosted applications execute within a partial trust security sandbox, by default, which is limited to the default <ph id=\"ph2\">[!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]</ph><bpt id=\"p1\">**</bpt>Internet<ept id=\"p1\">**</ept> zone permission set.","pos":[1887,2174],"source":"[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] browser-hosted applications execute within a partial trust security sandbox, by default, which is limited to the default [!INCLUDE[TLA2#tla_cas](../../../includes/tla2sharptla-cas-md.md)]**Internet** zone permission set."},{"content":"This effectively isolates <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]</ph> browser-hosted applications from the client computer in the same way that you would expect typical Web applications to be isolated.","pos":[2175,2399],"source":" This effectively isolates [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] browser-hosted applications from the client computer in the same way that you would expect typical Web applications to be isolated."},{"content":"An XBAP can elevate privileges, up to Full Trust, depending on the security zone of the deployment URL and the client's security configuration.","pos":[2400,2543]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WPF Partial Trust Security<ept id=\"p1\">](wpf-partial-trust-security.md)</ept>.","pos":[2544,2630],"source":" For more information, see [WPF Partial Trust Security](wpf-partial-trust-security.md)."},{"content":"This topic discusses the security model for Windows Presentation Foundation (WPF) standalone and browser-hosted applications.","pos":[2637,2762]},{"content":"This topic contains the following sections:","pos":[2769,2812]},{"pos":[2822,2864],"content":"<bpt id=\"p1\">[</bpt>Safe Navigation<ept id=\"p1\">](#SafeTopLevelNavigation)</ept>","source":"[Safe Navigation](#SafeTopLevelNavigation)"},{"pos":[2874,2950],"content":"<bpt id=\"p1\">[</bpt>Web Browsing Software Security Settings<ept id=\"p1\">](#InternetExplorerSecuritySettings)</ept>","source":"[Web Browsing Software Security Settings](#InternetExplorerSecuritySettings)"},{"pos":[2960,3043],"content":"<bpt id=\"p1\">[</bpt>WebBrowser Control and Feature Controls<ept id=\"p1\">](#webbrowser_control_and_feature_controls)</ept>","source":"[WebBrowser Control and Feature Controls](#webbrowser_control_and_feature_controls)"},{"pos":[3053,3131],"content":"<bpt id=\"p1\">[</bpt>Disabling APTCA Assemblies for Partially Trusted Client Applications<ept id=\"p1\">](#APTCA)</ept>","source":"[Disabling APTCA Assemblies for Partially Trusted Client Applications](#APTCA)"},{"pos":[3141,3205],"content":"<bpt id=\"p1\">[</bpt>Sandbox Behavior for Loose XAML Files<ept id=\"p1\">](#LooseContentSandboxing)</ept>","source":"[Sandbox Behavior for Loose XAML Files](#LooseContentSandboxing)"},{"pos":[3215,3296],"content":"<bpt id=\"p1\">[</bpt>Resources for Developing WPF Applications that Promote Security<ept id=\"p1\">](#BestPractices)</ept>","source":"[Resources for Developing WPF Applications that Promote Security](#BestPractices)"},{"pos":[3346,3361],"content":"Safe Navigation","linkify":"Safe Navigation","nodes":[{"content":"Safe Navigation","pos":[0,15]}]},{"pos":[3365,3587],"content":"For <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>, <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]</ph> distinguishes two types of navigation: application and browser.","source":"For [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] distinguishes two types of navigation: application and browser."},{"content":"<bpt id=\"p1\">*</bpt>Application navigation<ept id=\"p1\">*</ept> is navigation between items of content within an application that is hosted by a browser.","pos":[3594,3708],"source":"*Application navigation* is navigation between items of content within an application that is hosted by a browser."},{"content":"<bpt id=\"p1\">*</bpt>Browser navigation<ept id=\"p1\">*</ept> is navigation that changes the content and location URL of a browser itself.","pos":[3709,3806],"source":"*Browser navigation* is navigation that changes the content and location URL of a browser itself."},{"content":"The relationship between application navigation (typically XAML) and browser navigation (typically HTML) is shown in the following illustration:","pos":[3807,3951]},{"content":"Relationship between application navigation and browser navigation.","pos":[3958,4025]},{"pos":[4103,4326],"content":"The type of content that is considered safe for an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)]</ph> to navigate to is primarily determined by whether application navigation or browser navigation is used.","source":"The type of content that is considered safe for an [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] to navigate to is primarily determined by whether application navigation or browser navigation is used."},{"pos":[4386,4417],"content":"Application Navigation Security","linkify":"Application Navigation Security","nodes":[{"content":"Application Navigation Security","pos":[0,31]}]},{"pos":[4421,4604],"content":"Application navigation is considered safe if it can be identified with a pack <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../includes/tla2sharptla-uri-md.md)]</ph>, which supports four types of content:","source":"Application navigation is considered safe if it can be identified with a pack [!INCLUDE[TLA2#tla_uri](../../../includes/tla2sharptla-uri-md.md)], which supports four types of content:"},{"content":"Content Type","pos":[4611,4623]},{"content":"Description","pos":[4624,4635]},{"content":"URI Example","pos":[4636,4647]},{"content":"Resource","pos":[4711,4719]},{"pos":[4720,4788],"content":"Files that are added to a project with a build type of <bpt id=\"p1\">**</bpt>Resource<ept id=\"p1\">**</ept>.","source":"Files that are added to a project with a build type of **Resource**."},{"content":"Content","pos":[4838,4845]},{"pos":[4846,4913],"content":"Files that are added to a project with a build type of <bpt id=\"p1\">**</bpt>Content<ept id=\"p1\">**</ept>.","source":"Files that are added to a project with a build type of **Content**."},{"content":"Site of origin","pos":[4962,4976]},{"pos":[4977,5041],"content":"Files that are added to a project with a build type of <bpt id=\"p1\">**</bpt>None<ept id=\"p1\">**</ept>.","source":"Files that are added to a project with a build type of **None**."},{"content":"Application code","pos":[5096,5112]},{"content":"XAML resources that have a compiled code-behind.","pos":[5113,5161]},{"content":"-or-","pos":[5174,5178]},{"content":"XAML files that are added to a project with a build type of <bpt id=\"p1\">**</bpt>Page<ept id=\"p1\">**</ept>.","pos":[5191,5260],"source":"XAML files that are added to a project with a build type of **Page**."},{"pos":[5261,5308],"content":"<ph id=\"ph1\">`pack://application:,,,/MyResourceFile`</ph> <ph id=\"ph2\">`.xaml`</ph>","source":"`pack://application:,,,/MyResourceFile` `.xaml`"},{"pos":[5317,5599],"content":"[!NOTE]\n For more information about application data files and pack [!INCLUDE[TLA2#tla_uri#plural](../../../includes/tla2sharptla-urisharpplural-md.md)], see [WPF Application Resource, Content, and Data Files](./app-development/wpf-application-resource-content-and-data-files.md).","leadings":["","> "],"nodes":[{"content":"For more information about application data files and pack <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri#plural](../../../includes/tla2sharptla-urisharpplural-md.md)]</ph>, see <bpt id=\"p1\">[</bpt>WPF Application Resource, Content, and Data Files<ept id=\"p1\">](./app-development/wpf-application-resource-content-and-data-files.md)</ept>.","pos":[9,280],"source":"For more information about application data files and pack [!INCLUDE[TLA2#tla_uri#plural](../../../includes/tla2sharptla-urisharpplural-md.md)], see [WPF Application Resource, Content, and Data Files](./app-development/wpf-application-resource-content-and-data-files.md)."}]},{"content":"Files of these content types can be navigated to by either the user or programmatically:","pos":[5606,5694]},{"content":"<bpt id=\"p1\">**</bpt>User Navigation<ept id=\"p1\">**</ept>.","pos":[5704,5724],"source":"**User Navigation**."},{"content":"The user navigates by clicking a <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> element.","pos":[5725,5808],"source":" The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element."},{"content":"<bpt id=\"p1\">**</bpt>Programmatic Navigation<ept id=\"p1\">**</ept>.","pos":[5818,5846],"source":"**Programmatic Navigation**."},{"content":"The application navigates without involving the user, for example, by setting the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow.Source%2A?displayProperty=nameWithType&gt;</ph> property.","pos":[5847,6027],"source":" The application navigates without involving the user, for example, by setting the <xref:System.Windows.Navigation.NavigationWindow.Source%2A?displayProperty=nameWithType> property."},{"pos":[6083,6110],"content":"Browser Navigation Security","linkify":"Browser Navigation Security","nodes":[{"content":"Browser Navigation Security","pos":[0,27]}]},{"content":"Browser navigation is considered safe only under the following conditions:","pos":[6114,6188]},{"content":"<bpt id=\"p1\">**</bpt>User Navigation<ept id=\"p1\">**</ept>.","pos":[6198,6218],"source":"**User Navigation**."},{"content":"The user navigates by clicking a <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> element that is within the main <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph>, not in a nested <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Frame&gt;</ph>.","pos":[6219,6430],"source":" The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element that is within the main <xref:System.Windows.Navigation.NavigationWindow>, not in a nested <xref:System.Windows.Controls.Frame>."},{"content":"<bpt id=\"p1\">**</bpt>Zone<ept id=\"p1\">**</ept>.","pos":[6440,6449],"source":"**Zone**."},{"content":"The content being navigated to is located on the Internet or the local intranet.","pos":[6450,6530]},{"content":"<bpt id=\"p1\">**</bpt>Protocol<ept id=\"p1\">**</ept>.","pos":[6540,6553],"source":"**Protocol**."},{"content":"The protocol being used is either <bpt id=\"p1\">**</bpt>http<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>https<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>file<ept id=\"p3\">**</ept>, or <bpt id=\"p4\">**</bpt>mailto<ept id=\"p4\">**</ept>.","pos":[6554,6633],"source":" The protocol being used is either **http**, **https**, **file**, or **mailto**."},{"pos":[6640,6856],"content":"If an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)]</ph> attempts to navigate to content in a manner that does not comply with these conditions, a <ph id=\"ph2\">&lt;xref:System.Security.SecurityException&gt;</ph> is thrown.","source":"If an [!INCLUDE[TLA2#tla_xbap](../../../includes/tla2sharptla-xbap-md.md)] attempts to navigate to content in a manner that does not comply with these conditions, a <xref:System.Security.SecurityException> is thrown."},{"pos":[6916,6955],"content":"Web Browsing Software Security Settings","linkify":"Web Browsing Software Security Settings","nodes":[{"content":"Web Browsing Software Security Settings","pos":[0,39]}]},{"content":"The security settings on your computer determine the access that any Web browsing software is granted.","pos":[6959,7061]},{"content":"Web browsing software includes any application or component that uses the <bpt id=\"p1\">[</bpt>WinINet<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=179379)</ept> or <bpt id=\"p2\">[</bpt>UrlMon<ept id=\"p2\">](https://go.microsoft.com/fwlink/?LinkId=179383)</ept> APIs, including Internet Explorer and PresentationHost.exe.","pos":[7062,7313],"source":" Web browsing software includes any application or component that uses the [WinINet](https://go.microsoft.com/fwlink/?LinkId=179379) or [UrlMon](https://go.microsoft.com/fwlink/?LinkId=179383) APIs, including Internet Explorer and PresentationHost.exe."},{"pos":[7320,7611],"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)]</ph> provides a mechanism by which you can configure the functionality that is allowed to be executed by or from <ph id=\"ph2\">[!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)]</ph>, including the following:","source":"[!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] provides a mechanism by which you can configure the functionality that is allowed to be executed by or from [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)], including the following:"},{"content":".NET Framework-reliant components","pos":[7621,7654]},{"content":"ActiveX controls and plug-ins","pos":[7664,7693]},{"content":"Downloads","pos":[7703,7712]},{"content":"Scripting","pos":[7722,7731]},{"content":"User Authentication","pos":[7741,7760]},{"content":"The collection of functionality that can be secured in this way is configured on a per-zone basis for the <bpt id=\"p1\">**</bpt>Internet<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Intranet<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Trusted Sites<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>Restricted Sites<ept id=\"p4\">**</ept> zones.","pos":[7767,7951],"source":"The collection of functionality that can be secured in this way is configured on a per-zone basis for the **Internet**, **Intranet**, **Trusted Sites**, and **Restricted Sites** zones."},{"content":"The following steps describe how to configure your security settings:","pos":[7952,8021]},{"pos":[8031,8054],"content":"Open <bpt id=\"p1\">**</bpt>Control Panel<ept id=\"p1\">**</ept>.","source":"Open **Control Panel**."},{"pos":[8064,8131],"content":"Click <bpt id=\"p1\">**</bpt>Network and Internet<ept id=\"p1\">**</ept> and then click <bpt id=\"p2\">**</bpt>Internet Options<ept id=\"p2\">**</ept>.","source":"Click **Network and Internet** and then click **Internet Options**."},{"content":"The Internet Options dialog box appears.","pos":[8142,8182]},{"pos":[8192,8272],"content":"On the <bpt id=\"p1\">**</bpt>Security<ept id=\"p1\">**</ept> tab, select the zone to configure the security settings for.","source":"On the **Security** tab, select the zone to configure the security settings for."},{"pos":[8282,8316],"content":"Click the <bpt id=\"p1\">**</bpt>Custom Level<ept id=\"p1\">**</ept> button.","source":"Click the **Custom Level** button."},{"pos":[8327,8438],"content":"The <bpt id=\"p1\">**</bpt>Security Settings<ept id=\"p1\">**</ept> dialog box appears and you can configure the security settings for the selected zone.","source":"The **Security Settings** dialog box appears and you can configure the security settings for the selected zone."},{"content":"Screenshot that shows the Security Settings dialog box.","pos":[8451,8506]},{"pos":[8591,8730],"content":"[!NOTE]\n You can also get to the Internet Options dialog box from Internet Explorer. Click **Tools** and then click **Internet Options**.","leadings":["","> "],"nodes":[{"content":"You can also get to the Internet Options dialog box from Internet Explorer. Click **Tools** and then click **Internet Options**.","pos":[9,137],"nodes":[{"content":"You can also get to the Internet Options dialog box from Internet Explorer.","pos":[0,75]},{"content":"Click <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> and then click <bpt id=\"p2\">**</bpt>Internet Options<ept id=\"p2\">**</ept>.","pos":[76,128],"source":" Click **Tools** and then click **Internet Options**."}]}]},{"pos":[8737,8894],"content":"Starting with <ph id=\"ph1\">[!INCLUDE[TLA#tla_ie7](../../../includes/tlasharptla-ie7-md.md)]</ph>, the following security settings specifically for .NET Framework are included:","source":"Starting with [!INCLUDE[TLA#tla_ie7](../../../includes/tlasharptla-ie7-md.md)], the following security settings specifically for .NET Framework are included:"},{"content":"<bpt id=\"p1\">**</bpt>Loose XAML<ept id=\"p1\">**</ept>.","pos":[8904,8919],"source":"**Loose XAML**."},{"content":"Controls whether <ph id=\"ph1\">[!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)]</ph> can navigate to and loose <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> files.","pos":[8920,9117],"source":" Controls whether [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] can navigate to and loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files."},{"content":"(Enable, Disable, and Prompt options).","pos":[9118,9156]},{"content":"<bpt id=\"p1\">**</bpt>XAML browser applications<ept id=\"p1\">**</ept>.","pos":[9166,9196],"source":"**XAML browser applications**."},{"content":"Controls whether <ph id=\"ph1\">[!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)]</ph> can navigate to and run <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>.","pos":[9197,9404],"source":" Controls whether [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] can navigate to and run [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)]."},{"content":"(Enable, Disable, and Prompt options).","pos":[9405,9443]},{"pos":[9450,9611],"content":"By default, these settings are all enabled for the <bpt id=\"p1\">**</bpt>Internet<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Local intranet<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Trusted sites<ept id=\"p3\">**</ept> zones, and disabled for the <bpt id=\"p4\">**</bpt>Restricted sites<ept id=\"p4\">**</ept> zone.","source":"By default, these settings are all enabled for the **Internet**, **Local intranet**, and **Trusted sites** zones, and disabled for the **Restricted sites** zone."},{"pos":[9675,9713],"content":"Security-related WPF Registry Settings","linkify":"Security-related WPF Registry Settings","nodes":[{"content":"Security-related WPF Registry Settings","pos":[0,38]}]},{"content":"In addition to the security settings available through the Internet Options, the following registry values are available for selectively blocking a number of security-sensitive WPF features.","pos":[9717,9907]},{"content":"The values are defined under the following key:","pos":[9908,9955]},{"content":"The following table lists the values that can be set.","pos":[10063,10116]},{"content":"Value Name","pos":[10123,10133]},{"content":"Value Type","pos":[10134,10144]},{"content":"Value Data","pos":[10145,10155]},{"content":"XBAPDisallow","pos":[10215,10227]},{"content":"REG_DWORD","pos":[10228,10237]},{"content":"1 to disallow; 0 to allow.","pos":[10238,10264]},{"content":"LooseXamlDisallow","pos":[10269,10286]},{"content":"REG_DWORD","pos":[10287,10296]},{"content":"1 to disallow; 0 to allow.","pos":[10297,10323]},{"content":"WebBrowserDisallow","pos":[10328,10346]},{"content":"REG_DWORD","pos":[10347,10356]},{"content":"1 to disallow; 0 to allow.","pos":[10357,10383]},{"content":"MediaAudioDisallow","pos":[10388,10406]},{"content":"REG_DWORD","pos":[10407,10416]},{"content":"1 to disallow; 0 to allow.","pos":[10417,10443]},{"content":"MediaImageDisallow","pos":[10448,10466]},{"content":"REG_DWORD","pos":[10467,10476]},{"content":"1 to disallow; 0 to allow.","pos":[10477,10503]},{"content":"MediaVideoDisallow","pos":[10508,10526]},{"content":"REG_DWORD","pos":[10527,10536]},{"content":"1 to disallow; 0 to allow.","pos":[10537,10563]},{"content":"ScriptInteropDisallow","pos":[10568,10589]},{"content":"REG_DWORD","pos":[10590,10599]},{"content":"1 to disallow; 0 to allow.","pos":[10600,10626]},{"pos":[10694,10733],"content":"WebBrowser Control and Feature Controls","linkify":"WebBrowser Control and Feature Controls","nodes":[{"content":"WebBrowser Control and Feature Controls","pos":[0,39]}]},{"content":"The WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control can be used to host Web content.","pos":[10737,10827],"source":"The WPF <xref:System.Windows.Controls.WebBrowser> control can be used to host Web content."},{"content":"The WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control wraps the underlying WebBrowser ActiveX control.","pos":[10828,10934],"source":" The WPF <xref:System.Windows.Controls.WebBrowser> control wraps the underlying WebBrowser ActiveX control."},{"content":"WPF provides some support for securing your application when you use the WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control to host untrusted Web content.","pos":[10935,11092],"source":" WPF provides some support for securing your application when you use the WPF <xref:System.Windows.Controls.WebBrowser> control to host untrusted Web content."},{"content":"However, some security features must be applied directly by the applications using the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control.","pos":[11093,11230],"source":" However, some security features must be applied directly by the applications using the <xref:System.Windows.Controls.WebBrowser> control."},{"content":"For more information about the WebBrowser ActiveX control, see <bpt id=\"p1\">[</bpt>WebBrowser Control Overviews and Tutorials<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=179388)</ept>.","pos":[11231,11387],"source":" For more information about the WebBrowser ActiveX control, see [WebBrowser Control Overviews and Tutorials](https://go.microsoft.com/fwlink/?LinkId=179388)."},{"pos":[11395,11572],"content":"[!NOTE]\n This section also applies to the <xref:System.Windows.Controls.Frame> control since it uses the <xref:System.Windows.Controls.WebBrowser> to navigate to HTML content.","leadings":["","> "],"nodes":[{"content":"This section also applies to the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> control since it uses the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> to navigate to HTML content.","pos":[9,175],"source":"This section also applies to the <xref:System.Windows.Controls.Frame> control since it uses the <xref:System.Windows.Controls.WebBrowser> to navigate to HTML content."}]},{"content":"If the WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control is used to host untrusted Web content, your application should use a partial-trust <ph id=\"ph2\">&lt;xref:System.AppDomain&gt;</ph> to help insulate your application code from potentially malicious HTML script code.","pos":[11579,11830],"source":"If the WPF <xref:System.Windows.Controls.WebBrowser> control is used to host untrusted Web content, your application should use a partial-trust <xref:System.AppDomain> to help insulate your application code from potentially malicious HTML script code."},{"content":"This is especially true if your application is interacting with the hosted script by using the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser.InvokeScript%2A&gt;</ph> method and the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.WebBrowser.ObjectForScripting%2A&gt;</ph> property.","pos":[11831,12072],"source":" This is especially true if your application is interacting with the hosted script by using the <xref:System.Windows.Controls.WebBrowser.InvokeScript%2A> method and the <xref:System.Windows.Controls.WebBrowser.ObjectForScripting%2A> property."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WPF Add-Ins Overview<ept id=\"p1\">](./app-development/wpf-add-ins-overview.md)</ept>.","pos":[12073,12165],"source":" For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md)."},{"content":"If your application uses the WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control, another way to increase security and mitigate attacks is to enable Internet Explorer feature controls.","pos":[12172,12358],"source":"If your application uses the WPF <xref:System.Windows.Controls.WebBrowser> control, another way to increase security and mitigate attacks is to enable Internet Explorer feature controls."},{"content":"Feature controls are additions to Internet Explorer that allow administrators and developers to configure features of Internet Explorer and applications that host the WebBrowser ActiveX control, which the WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control wraps.","pos":[12359,12624],"source":" Feature controls are additions to Internet Explorer that allow administrators and developers to configure features of Internet Explorer and applications that host the WebBrowser ActiveX control, which the WPF <xref:System.Windows.Controls.WebBrowser> control wraps."},{"content":"Feature controls can be configured by using the <bpt id=\"p1\">[</bpt>CoInternetSetFeatureEnabled<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=179394)</ept> function or by changing values in the registry.","pos":[12625,12798],"source":" Feature controls can be configured by using the [CoInternetSetFeatureEnabled](https://go.microsoft.com/fwlink/?LinkId=179394) function or by changing values in the registry."},{"content":"For more information about feature controls, see <bpt id=\"p1\">[</bpt>Introduction to Feature Controls<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=179390)</ept> and <bpt id=\"p2\">[</bpt>Internet Feature Controls<ept id=\"p2\">](https://go.microsoft.com/fwlink/?LinkId=179392)</ept>.","pos":[12799,13011],"source":" For more information about feature controls, see [Introduction to Feature Controls](https://go.microsoft.com/fwlink/?LinkId=179390) and [Internet Feature Controls](https://go.microsoft.com/fwlink/?LinkId=179392)."},{"pos":[13018,13216],"content":"If you are developing a standalone WPF application that uses the WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control, WPF automatically enables the following feature controls for your application.","source":"If you are developing a standalone WPF application that uses the WPF <xref:System.Windows.Controls.WebBrowser> control, WPF automatically enables the following feature controls for your application."},{"content":"Feature Control","pos":[13223,13238]},{"content":"FEATURE_MIME_HANDLING","pos":[13269,13290]},{"content":"FEATURE_MIME_SNIFFING","pos":[13295,13316]},{"content":"FEATURE_OBJECT_CACHING","pos":[13321,13343]},{"content":"FEATURE_SAFE_BINDTOOBJECT","pos":[13348,13373]},{"content":"FEATURE_WINDOW_RESTRICTIONS","pos":[13378,13405]},{"content":"FEATURE_ZONE_ELEVATION","pos":[13410,13432]},{"content":"FEATURE_RESTRICT_FILEDOWNLOAD","pos":[13437,13466]},{"content":"FEATURE_RESTRICT_ACTIVEXINSTALL","pos":[13471,13502]},{"content":"FEATURE_ADDON_MANAGEMENT","pos":[13507,13531]},{"content":"FEATURE_HTTP_USERNAME_PASSWORD_DISABLE","pos":[13536,13574]},{"content":"FEATURE_SECURITYBAND","pos":[13579,13599]},{"content":"FEATURE_UNC_SAVEDFILECHECK","pos":[13604,13630]},{"content":"FEATURE_VALIDATE_NAVIGATE_URL","pos":[13635,13664]},{"content":"FEATURE_DISABLE_TELNET_PROTOCOL","pos":[13669,13700]},{"content":"FEATURE_WEBOC_POPUPMANAGEMENT","pos":[13705,13734]},{"content":"FEATURE_DISABLE_LEGACY_COMPRESSION","pos":[13739,13773]},{"content":"FEATURE_SSLUX","pos":[13778,13791]},{"content":"Since these feature controls are enabled unconditionally, a full-trust application might be impaired by them.","pos":[13799,13908]},{"content":"In this case, if there is no security risk for the specific application and the content it is hosting, the corresponding feature control can be disabled.","pos":[13909,14062]},{"content":"Feature controls are applied by the process instantiating the WebBrowser ActiveX object.","pos":[14069,14157]},{"content":"Therefore, if you are creating a stand-alone application that can navigate to untrusted content, you should seriously consider enabling additional feature controls.","pos":[14158,14322]},{"pos":[14330,14652],"content":"[!NOTE]\n This recommendation is based on general recommendations for MSHTML and SHDOCVW host security. For more information, see [The MSHTML Host Security FAQ: Part I of II](https://go.microsoft.com/fwlink/?LinkId=179396) and [The MSHTML Host Security FAQ: Part II of II](https://go.microsoft.com/fwlink/?LinkId=179415).","leadings":["","> "],"nodes":[{"content":"This recommendation is based on general recommendations for MSHTML and SHDOCVW host security. For more information, see [The MSHTML Host Security FAQ: Part I of II](https://go.microsoft.com/fwlink/?LinkId=179396) and [The MSHTML Host Security FAQ: Part II of II](https://go.microsoft.com/fwlink/?LinkId=179415).","pos":[9,320],"nodes":[{"content":"This recommendation is based on general recommendations for MSHTML and SHDOCVW host security.","pos":[0,93]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>The MSHTML Host Security FAQ: Part I of II<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=179396)</ept> and <bpt id=\"p2\">[</bpt>The MSHTML Host Security FAQ: Part II of II<ept id=\"p2\">](https://go.microsoft.com/fwlink/?LinkId=179415)</ept>.","pos":[94,311],"source":" For more information, see [The MSHTML Host Security FAQ: Part I of II](https://go.microsoft.com/fwlink/?LinkId=179396) and [The MSHTML Host Security FAQ: Part II of II](https://go.microsoft.com/fwlink/?LinkId=179415)."}]}]},{"content":"For your executable, consider enabling the following feature controls by setting the registry value to 1.","pos":[14659,14764]},{"content":"Feature Control","pos":[14771,14786]},{"content":"FEATURE_ACTIVEX_REPURPOSEDETECTION","pos":[14817,14851]},{"content":"FEATURE_BLOCK_LMZ_IMG","pos":[14856,14877]},{"content":"FEATURE_BLOCK_LMZ_OBJECT","pos":[14882,14906]},{"content":"FEATURE_BLOCK_LMZ_SCRIPT","pos":[14911,14935]},{"content":"FEATURE_RESTRICT_RES_TO_LMZ","pos":[14940,14967]},{"content":"FEATURE_RESTRICT_ABOUT_PROTOCOL_IE7","pos":[14972,15007]},{"content":"FEATURE_SHOW_APP_PROTOCOL_WARN_DIALOG","pos":[15012,15049]},{"content":"FEATURE_LOCALMACHINE_LOCKDOWN","pos":[15054,15083]},{"content":"FEATURE_FORCE_ADDR_AND_STATUS","pos":[15088,15117]},{"content":"FEATURE_RESTRICTED_ZONE_WHEN_FILE_NOT_FOUND","pos":[15122,15165]},{"content":"For your executable, consider disabling the following feature control by setting the registry value to 0.","pos":[15173,15278]},{"content":"Feature Control","pos":[15285,15300]},{"content":"FEATURE_ENABLE_SCRIPT_PASTE_URLACTION_IF_PROMPT","pos":[15331,15378]},{"content":"If you run a partial-trust <ph id=\"ph1\">[!INCLUDE[TLA#tla_xbap](../../../includes/tlasharptla-xbap-md.md)]</ph> that includes a WPF <ph id=\"ph2\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control in <ph id=\"ph3\">[!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)]</ph>, WPF hosts the WebBrowser ActiveX control in the address space of the Internet Explorer process.","pos":[15386,15726],"source":"If you run a partial-trust [!INCLUDE[TLA#tla_xbap](../../../includes/tlasharptla-xbap-md.md)] that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in [!INCLUDE[TLA#tla_iegeneric](../../../includes/tlasharptla-iegeneric-md.md)], WPF hosts the WebBrowser ActiveX control in the address space of the Internet Explorer process."},{"content":"Since the WebBrowser ActiveX control is hosted in the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)]</ph> process, all of the feature controls for Internet Explorer are also enabled for the WebBrowser ActiveX control.","pos":[15727,15971],"source":" Since the WebBrowser ActiveX control is hosted in the [!INCLUDE[TLA2#tla_iegeneric](../../../includes/tla2sharptla-iegeneric-md.md)] process, all of the feature controls for Internet Explorer are also enabled for the WebBrowser ActiveX control."},{"content":"XBAPs running in Internet Explorer also get an additional level of security compared to normal standalone applications.","pos":[15978,16097]},{"content":"This additional security is because Internet Explorer, and therefore the WebBrowser ActiveX control, runs in protected mode by default on <ph id=\"ph1\">[!INCLUDE[TLA#tla_winvista](../../../includes/tlasharptla-winvista-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[win7](../../../includes/win7-md.md)]</ph>.","pos":[16098,16362],"source":" This additional security is because Internet Explorer, and therefore the WebBrowser ActiveX control, runs in protected mode by default on [!INCLUDE[TLA#tla_winvista](../../../includes/tlasharptla-winvista-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)]."},{"content":"For more information about protected mode, see <bpt id=\"p1\">[</bpt>Understanding and Working in Protected Mode Internet Explorer<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=179393)</ept>.","pos":[16363,16522],"source":" For more information about protected mode, see [Understanding and Working in Protected Mode Internet Explorer](https://go.microsoft.com/fwlink/?LinkId=179393)."},{"pos":[16530,16771],"content":"[!NOTE]\n If you try to run an XBAP that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in Firefox, while in the Internet zone, a <xref:System.Security.SecurityException> will be thrown. This is due to WPF security policy.","leadings":["","> "],"nodes":[{"content":"If you try to run an XBAP that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in Firefox, while in the Internet zone, a <xref:System.Security.SecurityException> will be thrown. This is due to WPF security policy.","pos":[9,239],"nodes":[{"content":"If you try to run an XBAP that includes a WPF <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control in Firefox, while in the Internet zone, a <ph id=\"ph2\">&lt;xref:System.Security.SecurityException&gt;</ph> will be thrown.","pos":[0,194],"source":"If you try to run an XBAP that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in Firefox, while in the Internet zone, a <xref:System.Security.SecurityException> will be thrown."},{"content":"This is due to WPF security policy.","pos":[195,230]}]}]},{"pos":[16804,16872],"content":"Disabling APTCA Assemblies for Partially Trusted Client Applications","linkify":"Disabling APTCA Assemblies for Partially Trusted Client Applications","nodes":[{"content":"Disabling APTCA Assemblies for Partially Trusted Client Applications","pos":[0,68]}]},{"content":"When managed assemblies are installed into the <ph id=\"ph1\">[!INCLUDE[TLA#tla_gac](../../../includes/tlasharptla-gac-md.md)]</ph>, they become fully trusted because the user must provide explicit permission to install them.","pos":[16876,17081],"source":"When managed assemblies are installed into the [!INCLUDE[TLA#tla_gac](../../../includes/tlasharptla-gac-md.md)], they become fully trusted because the user must provide explicit permission to install them."},{"content":"Because they are fully trusted, only fully trusted managed client applications can use them.","pos":[17082,17174]},{"content":"To allow partially trusted applications to use them, they must be marked with the <ph id=\"ph1\">&lt;xref:System.Security.AllowPartiallyTrustedCallersAttribute&gt;</ph> (APTCA).","pos":[17175,17326],"source":" To allow partially trusted applications to use them, they must be marked with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> (APTCA)."},{"content":"Only assemblies that have been tested to be safe for execution in partial trust should be marked with this attribute.","pos":[17327,17444]},{"content":"However, it is possible for an APTCA assembly to exhibit a security flaw after being installed into the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_gac](../../../includes/tla2sharptla-gac-md.md)]</ph>.","pos":[17451,17622],"source":"However, it is possible for an APTCA assembly to exhibit a security flaw after being installed into the [!INCLUDE[TLA2#tla_gac](../../../includes/tla2sharptla-gac-md.md)]."},{"content":"Once a security flaw is discovered, assembly publishers can produce a security update to fix the problem on existing installations, and to protect against installations that may occur after the problem is discovered.","pos":[17623,17839]},{"content":"One option for the update is to uninstall the assembly, although that may break other fully trusted client applications that use the assembly.","pos":[17840,17982]},{"pos":[17989,18269],"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]</ph> provides a mechanism by which an APTCA assembly can be disabled for partially trusted <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> without uninstalling the APTCA assembly.","source":"[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] provides a mechanism by which an APTCA assembly can be disabled for partially trusted [!INCLUDE[TLA2#tla_xbap#plural](../../../includes/tla2sharptla-xbapsharpplural-md.md)] without uninstalling the APTCA assembly."},{"content":"To disable an APTCA assembly, you have to create a special registry key:","pos":[18276,18348]},{"content":"The following shows an example:","pos":[18482,18513]},{"content":"This key establishes an entry for the APTCA assembly.","pos":[18690,18743]},{"content":"You also have to create a value in this key that enables or disables the assembly.","pos":[18744,18826]},{"content":"The following are the details of the value:","pos":[18827,18870]},{"pos":[18880,18907],"content":"Value Name: <bpt id=\"p1\">**</bpt>APTCA_FLAG<ept id=\"p1\">**</ept>.","source":"Value Name: **APTCA_FLAG**."},{"pos":[18917,18943],"content":"Value Type: <bpt id=\"p1\">**</bpt>REG_DWORD<ept id=\"p1\">**</ept>.","source":"Value Type: **REG_DWORD**."},{"pos":[18953,18999],"content":"Value Data: <bpt id=\"p1\">**</bpt>1<ept id=\"p1\">**</ept> to disable; <bpt id=\"p2\">**</bpt>0<ept id=\"p2\">**</ept> to enable.","source":"Value Data: **1** to disable; **0** to enable."},{"content":"If an assembly has to be disabled for partially trusted client applications, you can write an update that creates the registry key and value.","pos":[19006,19147]},{"pos":[19155,19392],"content":"[!NOTE]\n Core .NET Framework assemblies are not affected by disabling them in this way because they are required for managed applications to run. Support for disabling APTCA assemblies is primarily targeted to third-party applications.","leadings":["","> "],"nodes":[{"content":"Core .NET Framework assemblies are not affected by disabling them in this way because they are required for managed applications to run. Support for disabling APTCA assemblies is primarily targeted to third-party applications.","pos":[9,235],"nodes":[{"content":"Core .NET Framework assemblies are not affected by disabling them in this way because they are required for managed applications to run.","pos":[0,136]},{"content":"Support for disabling APTCA assemblies is primarily targeted to third-party applications.","pos":[137,226]}]}]},{"pos":[19442,19479],"content":"Sandbox Behavior for Loose XAML Files","linkify":"Sandbox Behavior for Loose XAML Files","nodes":[{"content":"Sandbox Behavior for Loose XAML Files","pos":[0,37]}]},{"content":"Loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> files are markup-only XAML files that do not depend on any code-behind, event handler, or application-specific assembly.","pos":[19483,19678],"source":"Loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are markup-only XAML files that do not depend on any code-behind, event handler, or application-specific assembly."},{"content":"When loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> files are navigated to directly from the browser, they are loaded in a security sandbox based on the default Internet zone permission set.","pos":[19679,19897],"source":" When loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to directly from the browser, they are loaded in a security sandbox based on the default Internet zone permission set."},{"pos":[19904,20183],"content":"However, the security behavior is different when loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> files are navigated to from either a <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> in a standalone application.","source":"However, the security behavior is different when loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application."},{"content":"In both cases, the loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> file that is navigated to inherits the permissions of its host application.","pos":[20190,20359],"source":"In both cases, the loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file that is navigated to inherits the permissions of its host application."},{"content":"However, this behavior may be undesirable from a security perspective, particularly if a loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> file was produced by an entity that is either not trusted or unknown.","pos":[20360,20593],"source":" However, this behavior may be undesirable from a security perspective, particularly if a loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file was produced by an entity that is either not trusted or unknown."},{"content":"This type of content is known as <bpt id=\"p1\">*</bpt>external content<ept id=\"p1\">*</ept>, and both <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> can be configured to isolate it when navigated to.","pos":[20594,20797],"source":" This type of content is known as *external content*, and both <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> can be configured to isolate it when navigated to."},{"content":"Isolation is achieved by setting the <bpt id=\"p1\">**</bpt>SandboxExternalContent<ept id=\"p1\">**</ept> property to true, as shown in the following examples for <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph>:","pos":[20798,21010],"source":" Isolation is achieved by setting the **SandboxExternalContent** property to true, as shown in the following examples for <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow>:"},{"content":"With this setting, external content will be loaded into a process that is separate from the process that is hosting the application.","pos":[21345,21477]},{"content":"This process is restricted to the default Internet zone permission set, effectively isolating it from the hosting application and the client computer.","pos":[21478,21628]},{"pos":[21636,22398],"content":"[!NOTE]\n Even though navigation to loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application is implemented based on the WPF browser hosting infrastructure, involving the PresentationHost process, the security level is slightly less than when the content is loaded directly in Internet Explorer on [!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)] (which would still be through PresentationHost). This is because a standalone WPF application using a Web browser does not provide the additional Protected Mode security feature of Internet Explorer.","leadings":["","> "],"nodes":[{"content":"Even though navigation to loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application is implemented based on the WPF browser hosting infrastructure, involving the PresentationHost process, the security level is slightly less than when the content is loaded directly in Internet Explorer on [!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)] (which would still be through PresentationHost). This is because a standalone WPF application using a Web browser does not provide the additional Protected Mode security feature of Internet Explorer.","pos":[9,760],"nodes":[{"content":"Even though navigation to loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)]</ph> files from either a <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> in a standalone application is implemented based on the WPF browser hosting infrastructure, involving the PresentationHost process, the security level is slightly less than when the content is loaded directly in Internet Explorer on <ph id=\"ph4\">[!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)]</ph> and <ph id=\"ph5\">[!INCLUDE[win7](../../../includes/win7-md.md)]</ph> (which would still be through PresentationHost).","pos":[0,600],"source":"Even though navigation to loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application is implemented based on the WPF browser hosting infrastructure, involving the PresentationHost process, the security level is slightly less than when the content is loaded directly in Internet Explorer on [!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)] and [!INCLUDE[win7](../../../includes/win7-md.md)] (which would still be through PresentationHost)."},{"content":"This is because a standalone WPF application using a Web browser does not provide the additional Protected Mode security feature of Internet Explorer.","pos":[601,751]}]}]},{"pos":[22439,22502],"content":"Resources for Developing WPF Applications that Promote Security","linkify":"Resources for Developing WPF Applications that Promote Security","nodes":[{"content":"Resources for Developing WPF Applications that Promote Security","pos":[0,63]}]},{"pos":[22506,22668],"content":"The following are some additional resources to help develop <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)]</ph> applications that promote security:","source":"The following are some additional resources to help develop [!INCLUDE[TLA2#tla_wpf](../../../includes/tla2sharptla-wpf-md.md)] applications that promote security:"},{"content":"Area","pos":[22675,22679]},{"content":"Resource","pos":[22680,22688]},{"content":"Managed code","pos":[22723,22735]},{"pos":[22736,22843],"content":"<bpt id=\"p1\">[</bpt>Patterns and Practices Security Guidance for Applications<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=117426)</ept>","source":"[Patterns and Practices Security Guidance for Applications](https://go.microsoft.com/fwlink/?LinkId=117426)"},{"pos":[22915,22970],"content":"<bpt id=\"p1\">[</bpt>Code Access Security<ept id=\"p1\">](../misc/code-access-security.md)</ept>","source":"[Code Access Security](../misc/code-access-security.md)"},{"pos":[23054,23149],"content":"<bpt id=\"p1\">[</bpt>ClickOnce Security and Deployment<ept id=\"p1\">](/visualstudio/deployment/clickonce-security-and-deployment)</ept>","source":"[ClickOnce Security and Deployment](/visualstudio/deployment/clickonce-security-and-deployment)"},{"pos":[23221,23280],"content":"<bpt id=\"p1\">[</bpt>WPF Partial Trust Security<ept id=\"p1\">](wpf-partial-trust-security.md)</ept>","source":"[WPF Partial Trust Security](wpf-partial-trust-security.md)"},{"pos":[23290,23298],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[23302,23361],"content":"<bpt id=\"p1\">[</bpt>WPF Partial Trust Security<ept id=\"p1\">](wpf-partial-trust-security.md)</ept>","source":"[WPF Partial Trust Security](wpf-partial-trust-security.md)"},{"pos":[23364,23451],"content":"<bpt id=\"p1\">[</bpt>WPF Security Strategy - Platform Security<ept id=\"p1\">](wpf-security-strategy-platform-security.md)</ept>","source":"[WPF Security Strategy - Platform Security](wpf-security-strategy-platform-security.md)"},{"pos":[23454,23547],"content":"<bpt id=\"p1\">[</bpt>WPF Security Strategy - Security Engineering<ept id=\"p1\">](wpf-security-strategy-security-engineering.md)</ept>","source":"[WPF Security Strategy - Security Engineering](wpf-security-strategy-security-engineering.md)"},{"pos":[23550,23657],"content":"<bpt id=\"p1\">[</bpt>Patterns and Practices Security Guidance for Applications<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=117426)</ept>","source":"[Patterns and Practices Security Guidance for Applications](https://go.microsoft.com/fwlink/?LinkId=117426)"},{"pos":[23660,23715],"content":"<bpt id=\"p1\">[</bpt>Code Access Security<ept id=\"p1\">](../misc/code-access-security.md)</ept>","source":"[Code Access Security](../misc/code-access-security.md)"},{"pos":[23718,23813],"content":"<bpt id=\"p1\">[</bpt>ClickOnce Security and Deployment<ept id=\"p1\">](/visualstudio/deployment/clickonce-security-and-deployment)</ept>","source":"[ClickOnce Security and Deployment](/visualstudio/deployment/clickonce-security-and-deployment)"},{"pos":[23816,23870],"content":"<bpt id=\"p1\">[</bpt>XAML Overview (WPF)<ept id=\"p1\">](./advanced/xaml-overview-wpf.md)</ept>","source":"[XAML Overview (WPF)](./advanced/xaml-overview-wpf.md)"}]}