{"content":"---\ntitle: \"How to: Create a File or Folder (C# Programming Guide) | Microsoft Docs\"\n\nms.date: \"2015-07-20\"\nms.prod: .net\n\n\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"folders [C#]\"\n  - \"creating files [C#]\"\n  - \"files [C#]\"\n  - \"creating folders [C#]\"\nms.assetid: 4582ee2d-d72d-4687-bcb9-08d336c62c25\ncaps.latest.revision: 22\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# How to: Create a File or Folder (C# Programming Guide)\nYou can programmatically create a folder on your computer, create a subfolder, create a file in the subfolder, and write data to the file.  \n  \n## Example  \n [!code-cs[csFilesandFolders#10](../../../csharp/programming-guide/file-system/codesnippet/CSharp/how-to-create-a-file-or-folder_1.cs)]  \n  \n If the folder already exists, <xref:System.IO.Directory.CreateDirectory%2A> does nothing, and no exception is thrown. However, <xref:System.IO.File.Create%2A?displayProperty=fullName> replaces an existing file with a new file. The example uses an `if`-`else` statement to prevent an existing file from being replaced.  \n  \n By making the following changes in the example, you can specify different outcomes based on whether a file with a certain name already exists. If such a file doesn't exist, the code creates one. If such a file exists, the code appends data to that file.  \n  \n-   Specify a non-random file name.  \n  \n    ```csharp  \n    // Comment out the following line.  \n    //string fileName = System.IO.Path.GetRandomFileName();  \n  \n    // Replace that line with the following assignment.  \n    string fileName = \"MyNewFile.txt\";  \n  \n    ```  \n  \n-   Replace the `if`-`else` statement with the `using` statement in the following code.  \n  \n    ```csharp  \n    using (System.IO.FileStream fs = new System.IO.FileStream(pathString, FileMode.Append))   \n    {  \n        for (byte i = 0; i < 100; i++)  \n        {  \n            fs.WriteByte(i);  \n        }  \n    }  \n  \n    ```  \n  \n Run the example several times to verify that data is added to the file each time.  \n  \n For more `FileMode` values that you can try, see <xref:System.IO.FileMode>.  \n  \n The following conditions may cause an exception:  \n  \n-   The folder name is malformed. For example, it contains illegal characters or is only white space (<xref:System.ArgumentException> class). Use the <xref:System.IO.Path> class to create valid path names.  \n  \n-   The parent folder of the folder to be created is read-only (<xref:System.IO.IOException> class).  \n  \n-   The folder name is `null` (<xref:System.ArgumentNullException> class).  \n  \n-   The folder name is too long (<xref:System.IO.PathTooLongException> class).  \n  \n-   The folder name is only a colon, \":\" (<xref:System.IO.PathTooLongException> class).  \n  \n## .NET Framework Security  \n An instance of the <xref:System.Security.SecurityException> class may be thrown in partial-trust situations.  \n  \n If you don’t have permission to create the folder, the example throws an instance of the <xref:System.UnauthorizedAccessException> class.  \n  \n## See Also  \n <xref:System.IO?displayProperty=fullName>   \n [C# Programming Guide](../../../csharp/programming-guide/index.md)   \n [File System and the Registry (C# Programming Guide)](../../../csharp/programming-guide/file-system/index.md)","nodes":[{"pos":[4,616],"embed":true,"restype":"x-metadata","content":"title: \"How to: Create a File or Folder (C# Programming Guide) | Microsoft Docs\"\n\nms.date: \"2015-07-20\"\nms.prod: .net\n\n\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"folders [C#]\"\n  - \"creating files [C#]\"\n  - \"files [C#]\"\n  - \"creating folders [C#]\"\nms.assetid: 4582ee2d-d72d-4687-bcb9-08d336c62c25\ncaps.latest.revision: 22\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"","nodes":[{"content":"How to: Create a File or Folder (C# Programming Guide) | Microsoft Docs","nodes":[{"pos":[0,71],"content":"How to: Create a File or Folder (C# Programming Guide) | Microsoft Docs","nodes":[{"content":"How to: Create a File or Folder (C# Programming Guide) | Microsoft Docs","pos":[0,71]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[623,677],"content":"How to: Create a File or Folder (C# Programming Guide)","linkify":"How to: Create a File or Folder (C# Programming Guide)","nodes":[{"content":"How to: Create a File or Folder (C# Programming Guide)","pos":[0,54]}]},{"content":"You can programmatically create a folder on your computer, create a subfolder, create a file in the subfolder, and write data to the file.","pos":[678,816]},{"pos":[825,832],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"If the folder already exists, <ph id=\"ph1\">&lt;xref:System.IO.Directory.CreateDirectory%2A&gt;</ph> does nothing, and no exception is thrown.","pos":[977,1094],"source":"If the folder already exists, <xref:System.IO.Directory.CreateDirectory%2A> does nothing, and no exception is thrown."},{"content":"However, <ph id=\"ph1\">&lt;xref:System.IO.File.Create%2A?displayProperty=fullName&gt;</ph> replaces an existing file with a new file.","pos":[1095,1203],"source":" However, <xref:System.IO.File.Create%2A?displayProperty=fullName> replaces an existing file with a new file."},{"content":"The example uses an <ph id=\"ph1\">`if`</ph><ph id=\"ph2\">-</ph><ph id=\"ph3\">`else`</ph> statement to prevent an existing file from being replaced.","pos":[1204,1294],"source":" The example uses an `if`-`else` statement to prevent an existing file from being replaced."},{"content":"By making the following changes in the example, you can specify different outcomes based on whether a file with a certain name already exists.","pos":[1301,1443]},{"content":"If such a file doesn't exist, the code creates one.","pos":[1444,1495]},{"content":"If such a file exists, the code appends data to that file.","pos":[1496,1554]},{"content":"Specify a non-random file name.","pos":[1564,1595]},{"pos":[1842,1925],"content":"Replace the <ph id=\"ph1\">`if`</ph><ph id=\"ph2\">-</ph><ph id=\"ph3\">`else`</ph> statement with the <ph id=\"ph4\">`using`</ph> statement in the following code.","source":"Replace the `if`-`else` statement with the `using` statement in the following code."},{"content":"Run the example several times to verify that data is added to the file each time.","pos":[2171,2252]},{"pos":[2259,2334],"content":"For more <ph id=\"ph1\">`FileMode`</ph> values that you can try, see <ph id=\"ph2\">&lt;xref:System.IO.FileMode&gt;</ph>.","source":"For more `FileMode` values that you can try, see <xref:System.IO.FileMode>."},{"content":"The following conditions may cause an exception:","pos":[2341,2389]},{"content":"The folder name is malformed.","pos":[2399,2428]},{"content":"For example, it contains illegal characters or is only white space (<ph id=\"ph1\">&lt;xref:System.ArgumentException&gt;</ph> class).","pos":[2429,2536],"source":" For example, it contains illegal characters or is only white space (<xref:System.ArgumentException> class)."},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.IO.Path&gt;</ph> class to create valid path names.","pos":[2537,2600],"source":" Use the <xref:System.IO.Path> class to create valid path names."},{"pos":[2610,2706],"content":"The parent folder of the folder to be created is read-only (<ph id=\"ph1\">&lt;xref:System.IO.IOException&gt;</ph> class).","source":"The parent folder of the folder to be created is read-only (<xref:System.IO.IOException> class)."},{"pos":[2716,2786],"content":"The folder name is <ph id=\"ph1\">`null`</ph> (<ph id=\"ph2\">&lt;xref:System.ArgumentNullException&gt;</ph> class).","source":"The folder name is `null` (<xref:System.ArgumentNullException> class)."},{"pos":[2796,2870],"content":"The folder name is too long (<ph id=\"ph1\">&lt;xref:System.IO.PathTooLongException&gt;</ph> class).","source":"The folder name is too long (<xref:System.IO.PathTooLongException> class)."},{"pos":[2880,2963],"content":"The folder name is only a colon, \":\" (<ph id=\"ph1\">&lt;xref:System.IO.PathTooLongException&gt;</ph> class).","source":"The folder name is only a colon, \":\" (<xref:System.IO.PathTooLongException> class)."},{"pos":[2972,2995],"content":".NET Framework Security","linkify":".NET Framework Security","nodes":[{"content":".NET Framework Security","pos":[0,23]}]},{"pos":[2999,3107],"content":"An instance of the <ph id=\"ph1\">&lt;xref:System.Security.SecurityException&gt;</ph> class may be thrown in partial-trust situations.","source":"An instance of the <xref:System.Security.SecurityException> class may be thrown in partial-trust situations."},{"pos":[3114,3251],"content":"If you don’t have permission to create the folder, the example throws an instance of the <ph id=\"ph1\">&lt;xref:System.UnauthorizedAccessException&gt;</ph> class.","source":"If you don’t have permission to create the folder, the example throws an instance of the <xref:System.UnauthorizedAccessException> class."},{"pos":[3260,3268],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>C# Programming Guide<ept id=\"p1\">](../../../csharp/programming-guide/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[3318,3385],"source":"[C# Programming Guide](../../../csharp/programming-guide/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>File System and the Registry (C# Programming Guide)<ept id=\"p1\">](../../../csharp/programming-guide/file-system/index.md)</ept>","pos":[3389,3498],"source":"[File System and the Registry (C# Programming Guide)](../../../csharp/programming-guide/file-system/index.md)"}]}