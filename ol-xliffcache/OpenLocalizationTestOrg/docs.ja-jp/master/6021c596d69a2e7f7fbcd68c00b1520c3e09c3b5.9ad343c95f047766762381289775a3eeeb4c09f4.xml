{"content":"---\ntitle: \"How to: Use Compositing Mode to Control Alpha Blending | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"alpha blending, compositing\"\n  - \"colors, blending\"\n  - \"colors, controlling transparency\"\nms.assetid: f331df2d-b395-4b0a-95be-24fec8c9bbb5\ncaps.latest.revision: 14\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# How to: Use Compositing Mode to Control Alpha Blending\nThere may be times when you want to create an off-screen bitmap that has the following characteristics:  \n  \n-   Colors have alpha values that are less than 255.  \n  \n-   Colors are not alpha blended with each other as you create the bitmap.  \n  \n-   When you display the finished bitmap, colors in the bitmap are alpha blended with the background colors on the display device.  \n  \n To create such a bitmap, construct a blank <xref:System.Drawing.Bitmap> object, and then construct a <xref:System.Drawing.Graphics> object based on that bitmap. Set the compositing mode of the <xref:System.Drawing.Graphics> object to <xref:System.Drawing.Drawing2D.CompositingMode?displayProperty=fullName>.  \n  \n## Example  \n The following example creates a <xref:System.Drawing.Graphics> object based on a <xref:System.Drawing.Bitmap> object. The code uses the <xref:System.Drawing.Graphics> object along with two semitransparent brushes (alpha = 160) to paint on the bitmap. The code fills a red ellipse and a green ellipse using the semitransparent brushes. The green ellipse overlaps the red ellipse, but the green is not blended with the red because the compositing mode of the <xref:System.Drawing.Graphics> object is set to <xref:System.Drawing.Drawing2D.CompositingMode>.  \n  \n The code draws the bitmap on the screen twice: once on a white background and once on a multicolored background. The pixels in the bitmap that are part of the two ellipses have an alpha component of 160, so the ellipses are blended with the background colors on the screen.  \n  \n The following illustration shows the output of the code example. Note that the ellipses are blended with the background, but they are not blended with each other.  \n  \n ![Source Copy](../../../../docs/framework/winforms/advanced/media/sourcecopy.png \"sourcecopy\")  \n  \n The code example contains this statement:  \n  \n [!code-csharp[System.Drawing.AlphaBlending#41](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#41)]\n [!code-vb[System.Drawing.AlphaBlending#41](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#41)]  \n  \n If you want the ellipses to be blended with each other as well as with the background, change that statement to the following:  \n  \n [!code-csharp[System.Drawing.AlphaBlending#42](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#42)]\n [!code-vb[System.Drawing.AlphaBlending#42](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#42)]  \n  \n The following illustration shows the output of the revised code.  \n  \n ![Source Over](../../../../docs/framework/winforms/advanced/media/sourceover.png \"sourceover\")  \n  \n [!code-csharp[System.Drawing.AlphaBlending#43](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#43)]\n [!code-vb[System.Drawing.AlphaBlending#43](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#43)]  \n  \n## Compiling the Code  \n The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs>`e`, which is a parameter of <xref:System.Windows.Forms.PaintEventHandler>.  \n  \n## See Also  \n <xref:System.Drawing.Color.FromArgb%2A>   \n [Alpha Blending Lines and Fills](../../../../docs/framework/winforms/advanced/alpha-blending-lines-and-fills.md)","nodes":[{"pos":[4,532],"nodes":[{"content":"How to: Use Compositing Mode to Control Alpha Blending | Microsoft Docs","nodes":[{"pos":[0,71],"content":"How to: Use Compositing Mode to Control Alpha Blending | Microsoft Docs","nodes":[{"content":"How to: Use Compositing Mode to Control Alpha Blending | Microsoft Docs","pos":[0,71]}]}],"pos":[6,80],"yaml":true}],"content":"title: \"How to: Use Compositing Mode to Control Alpha Blending | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"alpha blending, compositing\"\n  - \"colors, blending\"\n  - \"colors, controlling transparency\"\nms.assetid: f331df2d-b395-4b0a-95be-24fec8c9bbb5\ncaps.latest.revision: 14\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","yamlblock":true},{"pos":[539,593],"content":"How to: Use Compositing Mode to Control Alpha Blending","linkify":"How to: Use Compositing Mode to Control Alpha Blending","nodes":[{"content":"How to: Use Compositing Mode to Control Alpha Blending","pos":[0,54]}]},{"content":"There may be times when you want to create an off-screen bitmap that has the following characteristics:","pos":[594,697]},{"content":"Colors have alpha values that are less than 255.","pos":[707,755]},{"content":"Colors are not alpha blended with each other as you create the bitmap.","pos":[765,835]},{"content":"When you display the finished bitmap, colors in the bitmap are alpha blended with the background colors on the display device.","pos":[845,971]},{"content":"To create such a bitmap, construct a blank <ph id=\"ph1\">&lt;xref:System.Drawing.Bitmap&gt;</ph> object, and then construct a <ph id=\"ph2\">&lt;xref:System.Drawing.Graphics&gt;</ph> object based on that bitmap.","pos":[978,1138],"source":"To create such a bitmap, construct a blank <xref:System.Drawing.Bitmap> object, and then construct a <xref:System.Drawing.Graphics> object based on that bitmap."},{"content":"Set the compositing mode of the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object to <ph id=\"ph2\">&lt;xref:System.Drawing.Drawing2D.CompositingMode?displayProperty=fullName&gt;</ph>.","pos":[1139,1285],"source":" Set the compositing mode of the <xref:System.Drawing.Graphics> object to <xref:System.Drawing.Drawing2D.CompositingMode?displayProperty=fullName>."},{"pos":[1294,1301],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example creates a <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object based on a <ph id=\"ph2\">&lt;xref:System.Drawing.Bitmap&gt;</ph> object.","pos":[1305,1422],"source":"The following example creates a <xref:System.Drawing.Graphics> object based on a <xref:System.Drawing.Bitmap> object."},{"content":"The code uses the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object along with two semitransparent brushes (alpha = 160) to paint on the bitmap.","pos":[1423,1555],"source":" The code uses the <xref:System.Drawing.Graphics> object along with two semitransparent brushes (alpha = 160) to paint on the bitmap."},{"content":"The code fills a red ellipse and a green ellipse using the semitransparent brushes.","pos":[1556,1639]},{"content":"The green ellipse overlaps the red ellipse, but the green is not blended with the red because the compositing mode of the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics&gt;</ph> object is set to <ph id=\"ph2\">&lt;xref:System.Drawing.Drawing2D.CompositingMode&gt;</ph>.","pos":[1640,1858],"source":" The green ellipse overlaps the red ellipse, but the green is not blended with the red because the compositing mode of the <xref:System.Drawing.Graphics> object is set to <xref:System.Drawing.Drawing2D.CompositingMode>."},{"content":"The code draws the bitmap on the screen twice: once on a white background and once on a multicolored background.","pos":[1865,1977]},{"content":"The pixels in the bitmap that are part of the two ellipses have an alpha component of 160, so the ellipses are blended with the background colors on the screen.","pos":[1978,2138]},{"content":"The following illustration shows the output of the code example.","pos":[2145,2209]},{"content":"Note that the ellipses are blended with the background, but they are not blended with each other.","pos":[2210,2307]},{"pos":[2314,2408],"content":"<bpt id=\"p1\">![</bpt>Source Copy<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/winforms/advanced/media/sourcecopy.png \"</bpt>sourcecopy<ept id=\"p2\">\")</ept>","source":"![Source Copy](../../../../docs/framework/winforms/advanced/media/sourcecopy.png \"sourcecopy\")"},{"content":"The code example contains this statement:","pos":[2415,2456]},{"pos":[2463,2766],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.AlphaBlending#41<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#41)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.AlphaBlending#41<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#41)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.AlphaBlending#41](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#41)]\n [!code-vb[System.Drawing.AlphaBlending#41](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#41)]"},{"content":"If you want the ellipses to be blended with each other as well as with the background, change that statement to the following:","pos":[2773,2899]},{"pos":[2906,3209],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.AlphaBlending#42<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#42)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.AlphaBlending#42<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#42)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.AlphaBlending#42](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#42)]\n [!code-vb[System.Drawing.AlphaBlending#42](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#42)]"},{"content":"The following illustration shows the output of the revised code.","pos":[3216,3280]},{"pos":[3287,3381],"content":"<bpt id=\"p1\">![</bpt>Source Over<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/winforms/advanced/media/sourceover.png \"</bpt>sourceover<ept id=\"p2\">\")</ept>","source":"![Source Over](../../../../docs/framework/winforms/advanced/media/sourceover.png \"sourceover\")"},{"pos":[3388,3691],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.AlphaBlending#43<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#43)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.AlphaBlending#43<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#43)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.AlphaBlending#43](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#43)]\n [!code-vb[System.Drawing.AlphaBlending#43](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#43)]"},{"pos":[3700,3718],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"pos":[3722,3917],"content":"The preceding example is designed for use with Windows Forms, and it requires <ph id=\"ph1\">&lt;xref:System.Windows.Forms.PaintEventArgs&gt;</ph><ph id=\"ph2\">`e`</ph>, which is a parameter of <ph id=\"ph3\">&lt;xref:System.Windows.Forms.PaintEventHandler&gt;</ph>.","source":"The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs>`e`, which is a parameter of <xref:System.Windows.Forms.PaintEventHandler>."},{"pos":[3926,3934],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Drawing.Color.FromArgb%2A&gt;</ph>","pos":[3938,3977],"source":"<xref:System.Drawing.Color.FromArgb%2A> "},{"content":"<bpt id=\"p1\">[</bpt>Alpha Blending Lines and Fills<ept id=\"p1\">](../../../../docs/framework/winforms/advanced/alpha-blending-lines-and-fills.md)</ept>","pos":[3982,4094],"source":"[Alpha Blending Lines and Fills](../../../../docs/framework/winforms/advanced/alpha-blending-lines-and-fills.md)"}]}