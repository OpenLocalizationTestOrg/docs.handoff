{"content":"---\ntitle: \"International Resource Identifier Support in System.Uri\"\nms.date: \"03/30/2017\"\nms.assetid: b5e994c3-3535-4aff-8e1b-b69be22e9a22\n---\n# International Resource Identifier Support in System.Uri\nThe <xref:System.Uri?displayProperty=nameWithType> class has been extended with International Resource Identifier (IRI) and Internationalized Domain Names (IDN) support. These enhancements are available in .NET Framework 3.5, 3.0 SP1, and 2.0 SP1.  \n  \n## IRI and IDN Support  \n Web addresses are typically expressed using Uniform Resource Identifiers (URI) that consist of a very restricted set of characters:  \n  \n-   Upper and lower case ASCII letters from the English alphabet.  \n  \n-   Digits from 0 to 9.  \n  \n-   A small number of other ASCII symbols.  \n  \n The specifications for URIs are documented in RFC 2396 and RFC 3986 published by the Internet Engineering Task Force (IETF).  \n  \n With the growth of the Internet, there is a growing need to identify resources using languages other than English. Identifiers which facilitate this need and allow non-ASCII characters (characters in the Unicode/ISO 10646 character set) are known as International Resource Identifiers (IRIs). The specifications for IRIs are documented in RFC 3987 published by IETF. Using IRIs allows a URL to contain Unicode characters.  \n  \n The existing <xref:System.Uri?displayProperty=nameWithType> class has been extended to provide IRI support based on RFC 3987. Current users will not see any change from the .NET Framework 2.0 behavior unless they specifically enable IRI. This ensures application compatibility with prior versions of the .NET Framework.  \n  \n An application can specify whether to use Internationalized Domain Name (IDN) parsing applied to domain names and whether IRI parsing rules should be applied. This can be done in the machine.config or in the app.config file.  \n  \n Enabling IDN will convert all Unicode labels in a domain name to their Punycode equivalents. Punycode names contain only ASCII characters and always start with the xn-- prefix. The reason for this is to support existing DNS servers on the Internet, since most DNS servers only support ASCII characters (see RFC 3940).  \n  \n Enabling IRI and IDN affects the value of the <xref:System.Uri.DnsSafeHost%2A?displayProperty=nameWithType> property. Enabling IRI and IDN can also change the behavior of the <xref:System.Uri.Equals%2A?displayProperty=nameWithType>, <xref:System.Uri.OriginalString%2A?displayProperty=nameWithType>, <xref:System.Uri.GetComponents%2A?displayProperty=nameWithType>, and <xref:System.Uri.IsWellFormedOriginalString%2A> methods.  \n  \n The <xref:System.GenericUriParser?displayProperty=nameWithType> class has also been extended to allow creating a customizable parser that supports IRI and IDN. The behavior of a <xref:System.GenericUriParser?displayProperty=nameWithType> object is specified by passing a bitwise combination of the values available in the <xref:System.GenericUriParserOptions?displayProperty=nameWithType> enumeration to the <xref:System.GenericUriParser?displayProperty=nameWithType> constructor. The <xref:System.GenericUriParserOptions.IriParsing?displayProperty=nameWithType> type indicates the parser supports the parsing rules specified in RFC 3987 for International Resource Identifiers (IRI). Whether IRI is actually used depends on if IRI is enabled.  \n  \n The <xref:System.GenericUriParserOptions.Idn?displayProperty=nameWithType> type indicates the parser supports Internationalized Domain Name (IDN) parsing (IDN) of host names. Whether IDN is actually used depends on if IDN is enabled.  \n  \n Enabling IRI parsing will do normalization and character checking according to the latest IRI rules in RFC 3987. The default value is for IRI parsing to be disabled so normalization and character checking are done according to RFC 2396 and RFC 3986.  \n  \n IRI and IDN processing in the <xref:System.Uri?displayProperty=nameWithType> class can also be controlled using the <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> and <xref:System.Configuration.IdnElement?displayProperty=nameWithType> configuration setting classes. The <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> setting enables or disables IRI processing in the <xref:System.Uri?displayProperty=nameWithType> class. The <xref:System.Configuration.IdnElement?displayProperty=nameWithType> setting enables or disables IDN processing in the <xref:System.Uri> class. The <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> setting also indirectly controls IDN. IRI processing must be enabled for IDN processing to be possible. If IRI processing is disabled, then IDN processing will be set to the default setting where the .NET Framework 2.0 behavior is used for compatibility and IDN names are not used.  \n  \n The configuration setting for the <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> and <xref:System.Configuration.IdnElement?displayProperty=nameWithType> configuration classes will be read once when the first <xref:System.Uri?displayProperty=nameWithType> class is constructed. Changes to configuration settings after that time are ignored.  \n  \n## See also\n\n- <xref:System.Configuration.IdnElement?displayProperty=nameWithType>\n- <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType>\n- <xref:System.Uri?displayProperty=nameWithType>\n- <xref:System.Uri.DnsSafeHost%2A?displayProperty=nameWithType>\n","nodes":[{"pos":[4,139],"embed":true,"restype":"x-metadata","content":"title: \"International Resource Identifier Support in System.Uri\"\nms.date: \"03/30/2017\"\nms.assetid: b5e994c3-3535-4aff-8e1b-b69be22e9a22","nodes":[{"content":"International Resource Identifier Support in System.Uri","nodes":[{"pos":[0,55],"content":"International Resource Identifier Support in System.Uri","nodes":[{"content":"International Resource Identifier Support in System.Uri","pos":[0,55]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[146,201],"content":"International Resource Identifier Support in System.Uri","linkify":"International Resource Identifier Support in System.Uri","nodes":[{"content":"International Resource Identifier Support in System.Uri","pos":[0,55]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class has been extended with International Resource Identifier (IRI) and Internationalized Domain Names (IDN) support.","pos":[202,371],"source":"The <xref:System.Uri?displayProperty=nameWithType> class has been extended with International Resource Identifier (IRI) and Internationalized Domain Names (IDN) support."},{"content":"These enhancements are available in .NET Framework 3.5, 3.0 SP1, and 2.0 SP1.","pos":[372,449]},{"pos":[458,477],"content":"IRI and IDN Support","linkify":"IRI and IDN Support","nodes":[{"content":"IRI and IDN Support","pos":[0,19]}]},{"content":"Web addresses are typically expressed using Uniform Resource Identifiers (URI) that consist of a very restricted set of characters:","pos":[481,612]},{"content":"Upper and lower case ASCII letters from the English alphabet.","pos":[622,683]},{"content":"Digits from 0 to 9.","pos":[693,712]},{"content":"A small number of other ASCII symbols.","pos":[722,760]},{"content":"The specifications for URIs are documented in RFC 2396 and RFC 3986 published by the Internet Engineering Task Force (IETF).","pos":[767,891]},{"content":"With the growth of the Internet, there is a growing need to identify resources using languages other than English.","pos":[898,1012]},{"content":"Identifiers which facilitate this need and allow non-ASCII characters (characters in the Unicode/ISO 10646 character set) are known as International Resource Identifiers (IRIs).","pos":[1013,1190]},{"content":"The specifications for IRIs are documented in RFC 3987 published by IETF.","pos":[1191,1264]},{"content":"Using IRIs allows a URL to contain Unicode characters.","pos":[1265,1319]},{"content":"The existing <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class has been extended to provide IRI support based on RFC 3987.","pos":[1326,1451],"source":"The existing <xref:System.Uri?displayProperty=nameWithType> class has been extended to provide IRI support based on RFC 3987."},{"content":"Current users will not see any change from the .NET Framework 2.0 behavior unless they specifically enable IRI.","pos":[1452,1563]},{"content":"This ensures application compatibility with prior versions of the .NET Framework.","pos":[1564,1645]},{"content":"An application can specify whether to use Internationalized Domain Name (IDN) parsing applied to domain names and whether IRI parsing rules should be applied.","pos":[1652,1810]},{"content":"This can be done in the machine.config or in the app.config file.","pos":[1811,1876]},{"content":"Enabling IDN will convert all Unicode labels in a domain name to their Punycode equivalents.","pos":[1883,1975]},{"content":"Punycode names contain only ASCII characters and always start with the xn-- prefix.","pos":[1976,2059]},{"content":"The reason for this is to support existing DNS servers on the Internet, since most DNS servers only support ASCII characters (see RFC 3940).","pos":[2060,2200]},{"content":"Enabling IRI and IDN affects the value of the <ph id=\"ph1\">&lt;xref:System.Uri.DnsSafeHost%2A?displayProperty=nameWithType&gt;</ph> property.","pos":[2207,2324],"source":"Enabling IRI and IDN affects the value of the <xref:System.Uri.DnsSafeHost%2A?displayProperty=nameWithType> property."},{"content":"Enabling IRI and IDN can also change the behavior of the <ph id=\"ph1\">&lt;xref:System.Uri.Equals%2A?displayProperty=nameWithType&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Uri.OriginalString%2A?displayProperty=nameWithType&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Uri.GetComponents%2A?displayProperty=nameWithType&gt;</ph>, and <ph id=\"ph4\">&lt;xref:System.Uri.IsWellFormedOriginalString%2A&gt;</ph> methods.","pos":[2325,2631],"source":" Enabling IRI and IDN can also change the behavior of the <xref:System.Uri.Equals%2A?displayProperty=nameWithType>, <xref:System.Uri.OriginalString%2A?displayProperty=nameWithType>, <xref:System.Uri.GetComponents%2A?displayProperty=nameWithType>, and <xref:System.Uri.IsWellFormedOriginalString%2A> methods."},{"content":"The <ph id=\"ph1\">&lt;xref:System.GenericUriParser?displayProperty=nameWithType&gt;</ph> class has also been extended to allow creating a customizable parser that supports IRI and IDN.","pos":[2638,2797],"source":"The <xref:System.GenericUriParser?displayProperty=nameWithType> class has also been extended to allow creating a customizable parser that supports IRI and IDN."},{"content":"The behavior of a <ph id=\"ph1\">&lt;xref:System.GenericUriParser?displayProperty=nameWithType&gt;</ph> object is specified by passing a bitwise combination of the values available in the <ph id=\"ph2\">&lt;xref:System.GenericUriParserOptions?displayProperty=nameWithType&gt;</ph> enumeration to the <ph id=\"ph3\">&lt;xref:System.GenericUriParser?displayProperty=nameWithType&gt;</ph> constructor.","pos":[2798,3118],"source":" The behavior of a <xref:System.GenericUriParser?displayProperty=nameWithType> object is specified by passing a bitwise combination of the values available in the <xref:System.GenericUriParserOptions?displayProperty=nameWithType> enumeration to the <xref:System.GenericUriParser?displayProperty=nameWithType> constructor."},{"content":"The <ph id=\"ph1\">&lt;xref:System.GenericUriParserOptions.IriParsing?displayProperty=nameWithType&gt;</ph> type indicates the parser supports the parsing rules specified in RFC 3987 for International Resource Identifiers (IRI).","pos":[3119,3321],"source":" The <xref:System.GenericUriParserOptions.IriParsing?displayProperty=nameWithType> type indicates the parser supports the parsing rules specified in RFC 3987 for International Resource Identifiers (IRI)."},{"content":"Whether IRI is actually used depends on if IRI is enabled.","pos":[3322,3380]},{"content":"The <ph id=\"ph1\">&lt;xref:System.GenericUriParserOptions.Idn?displayProperty=nameWithType&gt;</ph> type indicates the parser supports Internationalized Domain Name (IDN) parsing (IDN) of host names.","pos":[3387,3561],"source":"The <xref:System.GenericUriParserOptions.Idn?displayProperty=nameWithType> type indicates the parser supports Internationalized Domain Name (IDN) parsing (IDN) of host names."},{"content":"Whether IDN is actually used depends on if IDN is enabled.","pos":[3562,3620]},{"content":"Enabling IRI parsing will do normalization and character checking according to the latest IRI rules in RFC 3987.","pos":[3627,3739]},{"content":"The default value is for IRI parsing to be disabled so normalization and character checking are done according to RFC 2396 and RFC 3986.","pos":[3740,3876]},{"content":"IRI and IDN processing in the <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class can also be controlled using the <ph id=\"ph2\">&lt;xref:System.Configuration.IriParsingElement?displayProperty=nameWithType&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Configuration.IdnElement?displayProperty=nameWithType&gt;</ph> configuration setting classes.","pos":[3883,4176],"source":"IRI and IDN processing in the <xref:System.Uri?displayProperty=nameWithType> class can also be controlled using the <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> and <xref:System.Configuration.IdnElement?displayProperty=nameWithType> configuration setting classes."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Configuration.IriParsingElement?displayProperty=nameWithType&gt;</ph> setting enables or disables IRI processing in the <ph id=\"ph2\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class.","pos":[4177,4359],"source":" The <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> setting enables or disables IRI processing in the <xref:System.Uri?displayProperty=nameWithType> class."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Configuration.IdnElement?displayProperty=nameWithType&gt;</ph> setting enables or disables IDN processing in the <ph id=\"ph2\">&lt;xref:System.Uri&gt;</ph> class.","pos":[4360,4506],"source":" The <xref:System.Configuration.IdnElement?displayProperty=nameWithType> setting enables or disables IDN processing in the <xref:System.Uri> class."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Configuration.IriParsingElement?displayProperty=nameWithType&gt;</ph> setting also indirectly controls IDN.","pos":[4507,4623],"source":" The <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> setting also indirectly controls IDN."},{"content":"IRI processing must be enabled for IDN processing to be possible.","pos":[4624,4689]},{"content":"If IRI processing is disabled, then IDN processing will be set to the default setting where the .NET Framework 2.0 behavior is used for compatibility and IDN names are not used.","pos":[4690,4867]},{"content":"The configuration setting for the <ph id=\"ph1\">&lt;xref:System.Configuration.IriParsingElement?displayProperty=nameWithType&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Configuration.IdnElement?displayProperty=nameWithType&gt;</ph> configuration classes will be read once when the first <ph id=\"ph3\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class is constructed.","pos":[4874,5178],"source":"The configuration setting for the <xref:System.Configuration.IriParsingElement?displayProperty=nameWithType> and <xref:System.Configuration.IdnElement?displayProperty=nameWithType> configuration classes will be read once when the first <xref:System.Uri?displayProperty=nameWithType> class is constructed."},{"content":"Changes to configuration settings after that time are ignored.","pos":[5179,5241]},{"pos":[5250,5258],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}