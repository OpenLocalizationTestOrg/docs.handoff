{"content":"---\ntitle: \"Using Contracts in Workflow | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 939c64e9-e7cc-4abc-b41e-27cfce1d7e50\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Using Contracts in Workflow\nWhen implementing a service, you define a number of contracts that describe the service and the data that it sends and receives. The data is represented as data contracts and message contracts; both [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] and workflow services use data contract and message contract definitions as part of service descriptions. The service itself exposes metadata (in the form of WSDL) in order to describe the operations of the service. In [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], service contracts and operation contracts define the service and the operations it supports. However, in a workflow service, these contracts are part of the business process itself; they are exposed in metadata by a process called contract inference.  \n  \n## Contract Inference  \n When a workflow service is hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost>, the workflow definition is examined and a contract is generated based on the set of messaging activities found in the workflow. In particular the following activities and properties are used to generate the contract:  \n  \n <xref:System.ServiceModel.Activities.Receive> Activity  \n  \n-   <xref:System.ServiceModel.Activities.Receive.ServiceContractName%2A>  \n  \n-   <!--zz <xref:System.ServiceModel.Activities.Receive.OperationContractName%2A>  --> `System.ServiceModel.Activities.Receive.OperationContractName`\n  \n-   <xref:System.ServiceModel.Activities.Receive.Action%2A>  \n  \n-   <!--zz <xref:System.ServiceModel.Activities.Receive.ValueType%2A> --> `System.ServiceModel.Activities.Receive.ValueType`\n  \n <xref:System.ServiceModel.Activities.SendReply> Activity  \n  \n-   <xref:System.ServiceModel.Activities.SendReply.Action%2A>  \n  \n-   <!--zz <xref:System.ServiceModel.Activities.SendReply.ValueType%2A>-->  `System.ServiceModel.Activities.SendReply.ValueType`\n  \n <xref:System.ServiceModel.Activities.TransactedReceiveScope> Activity  \n  \n The end result of contract inference is a description of the service using the same data structures as WCF service and operation contracts. This information is then used to expose WSDL for the workflow service.  \n  \n## See Also  \n [Workflow Services](../../../../docs/framework/wcf/feature-details/workflow-services.md)   \n [Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md)   \n [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md)   \n [How to: Create a workflow service that consumes an existing service contract](../../../../docs/framework/windows-workflow-foundation/how-to-create-a-workflow-service-that-consumes-an-existing-service-contract.md)","nodes":[{"pos":[4,347],"embed":true,"restype":"x-metadata","content":"title: \"Using Contracts in Workflow | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 939c64e9-e7cc-4abc-b41e-27cfce1d7e50\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Using Contracts in Workflow | Microsoft Docs","nodes":[{"pos":[0,44],"content":"Using Contracts in Workflow | Microsoft Docs","nodes":[{"content":"Using Contracts in Workflow | Microsoft Docs","pos":[0,44]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[354,381],"content":"Using Contracts in Workflow","linkify":"Using Contracts in Workflow","nodes":[{"content":"Using Contracts in Workflow","pos":[0,27]}]},{"content":"When implementing a service, you define a number of contracts that describe the service and the data that it sends and receives.","pos":[382,510]},{"content":"The data is represented as data contracts and message contracts; both <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> and workflow services use data contract and message contract definitions as part of service descriptions.","pos":[511,742],"source":" The data is represented as data contracts and message contracts; both [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] and workflow services use data contract and message contract definitions as part of service descriptions."},{"content":"The service itself exposes metadata (in the form of WSDL) in order to describe the operations of the service.","pos":[743,852]},{"content":"In <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph>, service contracts and operation contracts define the service and the operations it supports.","pos":[853,1005],"source":" In [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], service contracts and operation contracts define the service and the operations it supports."},{"content":"However, in a workflow service, these contracts are part of the business process itself; they are exposed in metadata by a process called contract inference.","pos":[1006,1163]},{"pos":[1172,1190],"content":"Contract Inference","linkify":"Contract Inference","nodes":[{"content":"Contract Inference","pos":[0,18]}]},{"content":"When a workflow service is hosted using <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.WorkflowServiceHost&gt;</ph>, the workflow definition is examined and a contract is generated based on the set of messaging activities found in the workflow.","pos":[1194,1420],"source":"When a workflow service is hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost>, the workflow definition is examined and a contract is generated based on the set of messaging activities found in the workflow."},{"content":"In particular the following activities and properties are used to generate the contract:","pos":[1421,1509]},{"pos":[1516,1570],"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.Receive&gt;</ph> Activity","source":"<xref:System.ServiceModel.Activities.Receive> Activity"},{"pos":[1658,1803],"content":"<ph id=\"ph1\">&lt;!--zz &lt;xref:System.ServiceModel.Activities.Receive.OperationContractName%2A&gt;  --&gt;</ph> <ph id=\"ph2\">`System.ServiceModel.Activities.Receive.OperationContractName`</ph>","source":"<!--zz <xref:System.ServiceModel.Activities.Receive.OperationContractName%2A>  --> `System.ServiceModel.Activities.Receive.OperationContractName`"},{"pos":[1876,1996],"content":"<ph id=\"ph1\">&lt;!--zz &lt;xref:System.ServiceModel.Activities.Receive.ValueType%2A&gt; --&gt;</ph> <ph id=\"ph2\">`System.ServiceModel.Activities.Receive.ValueType`</ph>","source":"<!--zz <xref:System.ServiceModel.Activities.Receive.ValueType%2A> --> `System.ServiceModel.Activities.Receive.ValueType`"},{"pos":[2001,2057],"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.SendReply&gt;</ph> Activity","source":"<xref:System.ServiceModel.Activities.SendReply> Activity"},{"pos":[2134,2258],"content":"<ph id=\"ph1\">&lt;!--zz &lt;xref:System.ServiceModel.Activities.SendReply.ValueType%2A&gt;--&gt;</ph>  <ph id=\"ph2\">`System.ServiceModel.Activities.SendReply.ValueType`</ph>","source":"<!--zz <xref:System.ServiceModel.Activities.SendReply.ValueType%2A>-->  `System.ServiceModel.Activities.SendReply.ValueType`"},{"pos":[2263,2332],"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Activities.TransactedReceiveScope&gt;</ph> Activity","source":"<xref:System.ServiceModel.Activities.TransactedReceiveScope> Activity"},{"content":"The end result of contract inference is a description of the service using the same data structures as WCF service and operation contracts.","pos":[2339,2478]},{"content":"This information is then used to expose WSDL for the workflow service.","pos":[2479,2549]},{"pos":[2558,2566],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Workflow Services<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/workflow-services.md)</ept><ph id=\"ph1\"> </ph>","pos":[2570,2659],"source":"[Workflow Services](../../../../docs/framework/wcf/feature-details/workflow-services.md) "},{"content":"<bpt id=\"p1\">[</bpt>Messaging Activities<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/messaging-activities.md)</ept><ph id=\"ph1\"> </ph>","pos":[2663,2758],"source":"[Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Create a Workflow Service with Messaging Activities<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md)</ept><ph id=\"ph1\"> </ph>","pos":[2762,2934],"source":"[How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Create a workflow service that consumes an existing service contract<ept id=\"p1\">](../../../../docs/framework/windows-workflow-foundation/how-to-create-a-workflow-service-that-consumes-an-existing-service-contract.md)</ept>","pos":[2938,3151],"source":"[How to: Create a workflow service that consumes an existing service contract](../../../../docs/framework/windows-workflow-foundation/how-to-create-a-workflow-service-that-consumes-an-existing-service-contract.md)"}]}