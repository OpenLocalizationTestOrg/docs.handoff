{"content":"---\ntitle: \"&lt;trace&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.diagnostics/trace\"\n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#trace\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"<trace> element\"\n  - \"listeners\"\n  - \"trace element\"\n  - \"trace listener, <trace> element\"\nms.assetid: 7931c942-63c1-47c3-a045-9d9de3cacdbf\ncaps.latest.revision: 13\nauthor: \"mcleblanc\"\nms.author: \"markl\"\nmanager: \"markl\"\n---\n# &lt;trace&gt; Element\nContains listeners that collect, store, and route tracing messages.  \n  \n \\<configuration>  \n\\<system.diagnostics>  \n\\<trace>  \n  \n## Syntax  \n  \n```  \n<trace autoflush=\"true|false\"   \n       indentsize=\"indent value\"  \n       useGlobalLock=\"true| false\"/>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`autoflush`|Optional attribute.<br /><br /> Specifies whether the trace listeners automatically flush the output buffer after every write operation.|  \n|`indentsize`|Optional attribute.<br /><br /> Specifies the number of spaces to indent.|  \n|`useGlobalLock`|Optional attribute.<br /><br /> Indicates whether the global lock should be used.|  \n  \n## autoflush Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|`false`|Does not automatically flush the output buffer. This is the default.|  \n|`true`|Automatically flushes the output buffer.|  \n  \n## useGlobalLock Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|`false`|Does not use the global lock if the listener is thread safe; otherwise, uses the global lock.|  \n|`true`|Uses the global lock regardless of whether the listener is thread safe. This is the default.|  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<listeners>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/listeners-element-for-trace.md)|Specifies a listener that collects, stores, and routes messages.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`configuration`|The root element in every configuration file used by the common language runtime and .NET Framework applications.|  \n|`system.diagnostics`|Specifies trace listeners that collect, store, and route messages and the level where a trace switch is set.|  \n  \n## Example  \n The following example shows how to use the `<trace>` element to add the listener `MyListener` to the `Listeners` collection. `MyListener` creates a file that is named `MyListener.log` and writes the output to the file. The `useGlobalLock` attribute is set to `false`, which causes the global lock not to be used if the trace listener is thread safe. The `autoflush` attribute is set to `true`, which causes the trace listener to write to the file regardless of whether the <xref:System.Diagnostics.Trace.Flush%2A?displayProperty=fullName> method is called. The `indentsize` attribute is set to 0 (zero), which causes the listener to indent zero spaces when the <xref:System.Diagnostics.Trace.Indent%2A?displayProperty=fullName> method is called.  \n  \n```  \n<configuration>  \n   <system.diagnostics>  \n      <trace useGlobalLock=\"false\" autoflush=\"true\" indentsize=\"0\">  \n         <listeners>  \n            <add name=\"myListener\" type=\"System.Diagnostics.TextWriterTraceListener, system version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" initializeData=\"c:\\myListener.log\" />  \n         </listeners>  \n      </trace>  \n   </system.diagnostics>  \n</configuration>  \n```  \n  \n## See Also  \n <xref:System.Diagnostics.TraceListener>   \n <xref:System.Diagnostics.DefaultTraceListener>   \n <xref:System.Diagnostics.TextWriterTraceListener>   \n <xref:System.Diagnostics.EventLogTraceListener>   \n [Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)","nodes":[{"pos":[4,693],"embed":true,"restype":"x-metadata","content":"title: \"&lt;trace&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.diagnostics/trace\"\n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#trace\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"<trace> element\"\n  - \"listeners\"\n  - \"trace element\"\n  - \"trace listener, <trace> element\"\nms.assetid: 7931c942-63c1-47c3-a045-9d9de3cacdbf\ncaps.latest.revision: 13\nauthor: \"mcleblanc\"\nms.author: \"markl\"\nmanager: \"markl\"","nodes":[{"content":"&lt;trace&gt; Element | Microsoft Docs","nodes":[{"pos":[0,38],"content":"&lt;trace&gt; Element | Microsoft Docs","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>trace<ph id=\"ph2\">&amp;gt;</ph> Element | Microsoft Docs","pos":[0,38],"source":"&lt;trace&gt; Element | Microsoft Docs"}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[700,721],"content":"&lt;trace&gt; Element","linkify":"&lt;trace&gt; Element","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>trace<ph id=\"ph2\">&amp;gt;</ph> Element","pos":[0,21],"source":"&lt;trace&gt; Element"}]},{"content":"Contains listeners that collect, store, and route tracing messages.","pos":[722,789]},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt;","pos":[796,812],"source":"\\<configuration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.diagnostics&gt;","pos":[815,836],"source":"\\<system.diagnostics>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>trace&gt;","pos":[839,847],"source":"\\<trace>"},{"pos":[856,862],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[993,1016],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[1020,1100]},{"pos":[1110,1120],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1127,1136]},{"content":"Description","pos":[1137,1148]},{"content":"Optional attribute.","pos":[1203,1222]},{"content":"Specifies whether the trace listeners automatically flush the output buffer after every write operation.","pos":[1235,1339]},{"content":"Optional attribute.","pos":[1357,1376]},{"content":"Specifies the number of spaces to indent.","pos":[1389,1430]},{"content":"Optional attribute.","pos":[1451,1470]},{"content":"Indicates whether the global lock should be used.","pos":[1483,1532]},{"pos":[1542,1561],"content":"autoflush Attribute","linkify":"autoflush Attribute","nodes":[{"content":"autoflush Attribute","pos":[0,19]}]},{"content":"Value","pos":[1568,1573]},{"content":"Description","pos":[1574,1585]},{"content":"Does not automatically flush the output buffer.","pos":[1632,1679]},{"content":"This is the default.","pos":[1680,1700]},{"content":"Automatically flushes the output buffer.","pos":[1712,1752]},{"pos":[1762,1785],"content":"useGlobalLock Attribute","linkify":"useGlobalLock Attribute","nodes":[{"content":"useGlobalLock Attribute","pos":[0,23]}]},{"content":"Value","pos":[1792,1797]},{"content":"Description","pos":[1798,1809]},{"content":"Does not use the global lock if the listener is thread safe; otherwise, uses the global lock.","pos":[1856,1949]},{"content":"Uses the global lock regardless of whether the listener is thread safe.","pos":[1961,2032]},{"content":"This is the default.","pos":[2033,2053]},{"pos":[2064,2078],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[2085,2092]},{"content":"Description","pos":[2093,2104]},{"pos":[2145,2260],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>listeners&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/listeners-element-for-trace.md)</ept>","source":"[\\<listeners>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/listeners-element-for-trace.md)"},{"content":"Specifies a listener that collects, stores, and routes messages.","pos":[2261,2325]},{"pos":[2336,2351],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[2358,2365]},{"content":"Description","pos":[2366,2377]},{"content":"The root element in every configuration file used by the common language runtime and .NET Framework applications.","pos":[2434,2547]},{"content":"Specifies trace listeners that collect, store, and route messages and the level where a trace switch is set.","pos":[2573,2681]},{"pos":[2691,2698],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows how to use the <ph id=\"ph1\">`&lt;trace&gt;`</ph> element to add the listener <ph id=\"ph2\">`MyListener`</ph> to the <ph id=\"ph3\">`Listeners`</ph> collection.","pos":[2702,2826],"source":"The following example shows how to use the `<trace>` element to add the listener `MyListener` to the `Listeners` collection."},{"content":"<ph id=\"ph1\">`MyListener`</ph> creates a file that is named <ph id=\"ph2\">`MyListener.log`</ph> and writes the output to the file.","pos":[2827,2920],"source":"`MyListener` creates a file that is named `MyListener.log` and writes the output to the file."},{"content":"The <ph id=\"ph1\">`useGlobalLock`</ph> attribute is set to <ph id=\"ph2\">`false`</ph>, which causes the global lock not to be used if the trace listener is thread safe.","pos":[2921,3051],"source":" The `useGlobalLock` attribute is set to `false`, which causes the global lock not to be used if the trace listener is thread safe."},{"content":"The <ph id=\"ph1\">`autoflush`</ph> attribute is set to <ph id=\"ph2\">`true`</ph>, which causes the trace listener to write to the file regardless of whether the <ph id=\"ph3\">&lt;xref:System.Diagnostics.Trace.Flush%2A?displayProperty=fullName&gt;</ph> method is called.","pos":[3052,3258],"source":" The `autoflush` attribute is set to `true`, which causes the trace listener to write to the file regardless of whether the <xref:System.Diagnostics.Trace.Flush%2A?displayProperty=fullName> method is called."},{"content":"The <ph id=\"ph1\">`indentsize`</ph> attribute is set to 0 (zero), which causes the listener to indent zero spaces when the <ph id=\"ph2\">&lt;xref:System.Diagnostics.Trace.Indent%2A?displayProperty=fullName&gt;</ph> method is called.","pos":[3259,3447],"source":" The `indentsize` attribute is set to 0 (zero), which causes the listener to indent zero spaces when the <xref:System.Diagnostics.Trace.Indent%2A?displayProperty=fullName> method is called."},{"pos":[3897,3905],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Trace and Debug Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)</ept>","pos":[4110,4222],"source":"[Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)"}]}