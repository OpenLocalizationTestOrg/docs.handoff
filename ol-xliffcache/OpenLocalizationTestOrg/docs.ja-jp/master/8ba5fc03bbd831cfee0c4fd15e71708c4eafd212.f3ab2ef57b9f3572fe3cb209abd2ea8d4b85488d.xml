{"content":"---\ntitle: \"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)\"\nms.date: 07/20/2015\nms.assetid: cae1c4ac-6cd5-46cf-9b1c-bd85bc9b7ea9\n---\n# How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)\nXPath expressions can find nodes in a particular namespace. XPath expressions use namespace prefixes for specifying namespaces. To parse an XPath expression that contains namespace prefixes, you must pass an object to the XPath methods that implements <xref:System.Xml.IXmlNamespaceResolver>. This example uses <xref:System.Xml.XmlNamespaceManager>.  \n  \n The XPath expression is:  \n  \n `./aw:*`  \n  \n## Example  \n The following example reads an XML tree that contains two namespaces. It uses an <xref:System.Xml.XmlReader> to read the XML document. It then gets an <xref:System.Xml.XmlNameTable> from the <xref:System.Xml.XmlReader>, and an <xref:System.Xml.XmlNamespaceManager> from the <xref:System.Xml.XmlNameTable>. It uses the <xref:System.Xml.XmlNamespaceManager> when selecting elements.  \n  \n```csharp  \nXmlReader reader = XmlReader.Create(\"ConsolidatedPurchaseOrders.xml\");  \nXElement root = XElement.Load(reader);  \nXmlNameTable nameTable = reader.NameTable;  \nXmlNamespaceManager namespaceManager = new XmlNamespaceManager(nameTable);  \nnamespaceManager.AddNamespace(\"aw\", \"http://www.adventure-works.com\");  \nIEnumerable<XElement> list1 = root.XPathSelectElements(\"./aw:*\", namespaceManager);  \nIEnumerable<XElement> list2 =  \n    from el in root.Elements()  \n    where el.Name.Namespace == \"http://www.adventure-works.com\"  \n    select el;  \nif (list1.Count() == list2.Count() &&  \n        list1.Intersect(list2).Count() == list1.Count())  \n    Console.WriteLine(\"Results are identical\");  \nelse  \n    Console.WriteLine(\"Results differ\");  \nforeach (XElement el in list2)  \n    Console.WriteLine(el);  \n```  \n  \n This example produces the following output:  \n  \n```  \nResults are identical  \n<aw:PurchaseOrder PONumber=\"11223\" Date=\"2000-01-15\" xmlns:aw=\"http://www.adventure-works.com\">  \n    <aw:ShippingAddress>  \n      <aw:Name>Chris Preston</aw:Name>  \n      <aw:Street>123 Main St.</aw:Street>  \n      <aw:City>Seattle</aw:City>  \n      <aw:State>WA</aw:State>  \n      <aw:Zip>98113</aw:Zip>  \n      <aw:Country>USA</aw:Country>  \n    </aw:ShippingAddress>  \n    <aw:BillingAddress>  \n      <aw:Name>Chris Preston</aw:Name>  \n      <aw:Street>123 Main St.</aw:Street>  \n      <aw:City>Seattle</aw:City>  \n      <aw:State>WA</aw:State>  \n      <aw:Zip>98113</aw:Zip>  \n      <aw:Country>USA</aw:Country>  \n    </aw:BillingAddress>  \n    <aw:DeliveryInstructions>Ship only complete order.</aw:DeliveryInstructions>  \n    <aw:Item PartNum=\"LIT-01\">  \n      <aw:ProductID>Litware Networking Card</aw:ProductID>  \n      <aw:Qty>1</aw:Qty>  \n      <aw:Price>20.99</aw:Price>  \n    </aw:Item>  \n    <aw:Item PartNum=\"LIT-25\">  \n      <aw:ProductID>Litware 17in LCD Monitor</aw:ProductID>  \n      <aw:Qty>1</aw:Qty>  \n      <aw:Price>199.99</aw:Price>  \n    </aw:Item>  \n  </aw:PurchaseOrder>  \n```  \n  \n## See also\n\n- [LINQ to XML for XPath Users (C#)](../../../../csharp/programming-guide/concepts/linq/linq-to-xml-for-xpath-users.md)\n","nodes":[{"pos":[4,143],"embed":true,"restype":"x-metadata","content":"title: \"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)\"\nms.date: 07/20/2015\nms.assetid: cae1c4ac-6cd5-46cf-9b1c-bd85bc9b7ea9","nodes":[{"content":"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)","nodes":[{"pos":[0,61],"content":"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)","nodes":[{"content":"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)","pos":[0,61]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[150,211],"content":"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)","linkify":"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)","nodes":[{"content":"How to: Find Elements in a Namespace (XPath-LINQ to XML) (C#)","pos":[0,61]}]},{"content":"XPath expressions can find nodes in a particular namespace.","pos":[212,271]},{"content":"XPath expressions use namespace prefixes for specifying namespaces.","pos":[272,339]},{"content":"To parse an XPath expression that contains namespace prefixes, you must pass an object to the XPath methods that implements <ph id=\"ph1\">&lt;xref:System.Xml.IXmlNamespaceResolver&gt;</ph>.","pos":[340,504],"source":" To parse an XPath expression that contains namespace prefixes, you must pass an object to the XPath methods that implements <xref:System.Xml.IXmlNamespaceResolver>."},{"content":"This example uses <ph id=\"ph1\">&lt;xref:System.Xml.XmlNamespaceManager&gt;</ph>.","pos":[505,561],"source":" This example uses <xref:System.Xml.XmlNamespaceManager>."},{"content":"The XPath expression is:","pos":[568,592]},{"pos":[616,623],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example reads an XML tree that contains two namespaces.","pos":[627,696]},{"content":"It uses an <ph id=\"ph1\">&lt;xref:System.Xml.XmlReader&gt;</ph> to read the XML document.","pos":[697,761],"source":" It uses an <xref:System.Xml.XmlReader> to read the XML document."},{"content":"It then gets an <ph id=\"ph1\">&lt;xref:System.Xml.XmlNameTable&gt;</ph> from the <ph id=\"ph2\">&lt;xref:System.Xml.XmlReader&gt;</ph>, and an <ph id=\"ph3\">&lt;xref:System.Xml.XmlNamespaceManager&gt;</ph> from the <ph id=\"ph4\">&lt;xref:System.Xml.XmlNameTable&gt;</ph>.","pos":[762,932],"source":" It then gets an <xref:System.Xml.XmlNameTable> from the <xref:System.Xml.XmlReader>, and an <xref:System.Xml.XmlNamespaceManager> from the <xref:System.Xml.XmlNameTable>."},{"content":"It uses the <ph id=\"ph1\">&lt;xref:System.Xml.XmlNamespaceManager&gt;</ph> when selecting elements.","pos":[933,1007],"source":" It uses the <xref:System.Xml.XmlNamespaceManager> when selecting elements."},{"content":"This example produces the following output:","pos":[1839,1882]},{"pos":[3031,3039],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3043,3160],"content":"<bpt id=\"p1\">[</bpt>LINQ to XML for XPath Users (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/linq-to-xml-for-xpath-users.md)</ept>","source":"[LINQ to XML for XPath Users (C#)](../../../../csharp/programming-guide/concepts/linq/linq-to-xml-for-xpath-users.md)"}]}