{"content":"---\ntitle: \"How to: Enumerate directories and files\"\nms.date: \"12/27/2018\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"I/O [.NET Framework], enumerating directories and files\"\nms.assetid: 86b69a08-3bfa-4e5f-b4e1-3b7cb8478215\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# How to: Enumerate directories and files\nEnumerable collections provide better performance than arrays when you work with large collections of directories and files. To enumerate directories and files, use methods that return an enumerable collection of directory or file names, or their <xref:System.IO.DirectoryInfo>, <xref:System.IO.FileInfo>, or <xref:System.IO.FileSystemInfo> objects.  \n  \nIf you want to search and return only the names of directories or files, use the enumeration methods of the <xref:System.IO.Directory> class. If you want to search and return other properties of directories or files, use the <xref:System.IO.DirectoryInfo> and <xref:System.IO.FileSystemInfo> classes.  \n  \nYou can use enumerable collections from these methods as the <xref:System.Collections.Generic.IEnumerable%601> parameter for constructors of collection classes like <xref:System.Collections.Generic.List%601>.  \n  \nThe following table summarizes the methods that return enumerable collections of files and directories:  \n  \n|To search and return|Use method|  \n|------------------|-------------------------------------|-------------------|  \n|Directory names|<xref:System.IO.Directory.EnumerateDirectories%2A?displayProperty=nameWithType>|  \n|Directory information (<xref:System.IO.DirectoryInfo>)|<xref:System.IO.DirectoryInfo.EnumerateDirectories%2A?displayProperty=nameWithType>|  \n|File names|<xref:System.IO.Directory.EnumerateFiles%2A?displayProperty=nameWithType>|  \n|File information (<xref:System.IO.FileInfo>)|<xref:System.IO.DirectoryInfo.EnumerateFiles%2A?displayProperty=nameWithType>|  \n|File system entry names|<xref:System.IO.Directory.EnumerateFileSystemEntries%2A?displayProperty=nameWithType>|  \n|File system entry information (<xref:System.IO.FileSystemInfo>)|<xref:System.IO.DirectoryInfo.EnumerateFileSystemInfos%2A?displayProperty=nameWithType>|  \n|Directory and file names |<xref:System.IO.Directory.EnumerateFileSystemEntries%2A?displayProperty=nameWithType>|  \n\n> [!NOTE]\n> Although you can immediately enumerate all the files in the subdirectories of a parent directory by using the <xref:System.IO.SearchOption.AllDirectories> option of the optional <xref:System.IO.SearchOption> enumeration, <xref:System.UnauthorizedAccessException> errors may make the enumeration incomplete. You can catch these exceptions by first enumerating directories and then enumerating files.  \n  \n## Examples: Use the Directory class  \n  \nThe following example uses the <xref:System.IO.Directory.EnumerateDirectories%28System.String%29?displayProperty=nameWithType> method to get a list of the top-level directory names in a specified path.  \n\n[!code-csharp[System.IO.EnumDirs1#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.io.enumdirs1/cs/program.cs#1)]\n[!code-vb[System.IO.EnumDirs1#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.enumdirs1/vb/program.vb#1)]  \n\nThe following example uses the <xref:System.IO.Directory.EnumerateFiles%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29?displayProperty=nameWithType> method to recursively enumerate all file names in a directory and subdirectories that match a certain pattern. It then reads each line of each file and displays the lines that contain a specified string, with their filenames and paths.\n\n[!code-csharp[System.IO.Directory.EnumerateFiles#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directory.enumeratefiles/cs/program.cs#1)]\n[!code-vb[System.IO.Directory.EnumerateFiles#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directory.enumeratefiles/vb/program.vb#1)]  \n  \n## Examples: Use the DirectoryInfo class  \n  \nThe following example uses the <xref:System.IO.DirectoryInfo.EnumerateDirectories%2A?displayProperty=nameWithType> method to list a collection of top-level directories whose <xref:System.IO.FileSystemInfo.CreationTimeUtc> is earlier than a certain <xref:System.DateTime> value.  \n\n[!code-csharp[System.IO.DirectoryInfo.EnumDirs#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directoryinfo.enumdirs/cs/program.cs)]\n[!code-vb[System.IO.DirectoryInfo.EnumDirs#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directoryinfo.enumdirs/vb/module1.vb)]  \n  \nThe following example uses the <xref:System.IO.DirectoryInfo.EnumerateFiles%2A?displayProperty=nameWithType> method to list all files whose <xref:System.IO.FileInfo.Length> exceeds 10MB. This example first enumerates the top-level directories, to catch possible unauthorized access exceptions, and then enumerates the files.  \n\n[!code-csharp[System.IO.DirectoryInfo.EnumerateDirectories#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.io.directoryinfo.enumeratedirectories/cs/program.cs#1)]\n[!code-vb[System.IO.DirectoryInfo.EnumerateDirectories#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.io.directoryinfo.enumeratedirectories/vb/program.vb#1)]  \n  \n## See also\n\n- [File and stream I/O](../../../docs/standard/io/index.md)\n","nodes":[{"pos":[4,309],"embed":true,"restype":"x-metadata","content":"title: \"How to: Enumerate directories and files\"\nms.date: \"12/27/2018\"\nms.technology: dotnet-standard\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"I/O [.NET Framework], enumerating directories and files\"\nms.assetid: 86b69a08-3bfa-4e5f-b4e1-3b7cb8478215\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"How to: Enumerate directories and files","nodes":[{"pos":[0,39],"content":"How to: Enumerate directories and files","nodes":[{"content":"How to: Enumerate directories and files","pos":[0,39]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[316,355],"content":"How to: Enumerate directories and files","linkify":"How to: Enumerate directories and files","nodes":[{"content":"How to: Enumerate directories and files","pos":[0,39]}]},{"content":"Enumerable collections provide better performance than arrays when you work with large collections of directories and files.","pos":[356,480]},{"content":"To enumerate directories and files, use methods that return an enumerable collection of directory or file names, or their <ph id=\"ph1\">&lt;xref:System.IO.DirectoryInfo&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.IO.FileInfo&gt;</ph>, or <ph id=\"ph3\">&lt;xref:System.IO.FileSystemInfo&gt;</ph> objects.","pos":[481,705],"source":" To enumerate directories and files, use methods that return an enumerable collection of directory or file names, or their <xref:System.IO.DirectoryInfo>, <xref:System.IO.FileInfo>, or <xref:System.IO.FileSystemInfo> objects."},{"content":"If you want to search and return only the names of directories or files, use the enumeration methods of the <ph id=\"ph1\">&lt;xref:System.IO.Directory&gt;</ph> class.","pos":[711,852],"source":"If you want to search and return only the names of directories or files, use the enumeration methods of the <xref:System.IO.Directory> class."},{"content":"If you want to search and return other properties of directories or files, use the <ph id=\"ph1\">&lt;xref:System.IO.DirectoryInfo&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.IO.FileSystemInfo&gt;</ph> classes.","pos":[853,1011],"source":" If you want to search and return other properties of directories or files, use the <xref:System.IO.DirectoryInfo> and <xref:System.IO.FileSystemInfo> classes."},{"pos":[1017,1225],"content":"You can use enumerable collections from these methods as the <ph id=\"ph1\">&lt;xref:System.Collections.Generic.IEnumerable%601&gt;</ph> parameter for constructors of collection classes like <ph id=\"ph2\">&lt;xref:System.Collections.Generic.List%601&gt;</ph>.","source":"You can use enumerable collections from these methods as the <xref:System.Collections.Generic.IEnumerable%601> parameter for constructors of collection classes like <xref:System.Collections.Generic.List%601>."},{"content":"The following table summarizes the methods that return enumerable collections of files and directories:","pos":[1231,1334]},{"content":"To search and return","pos":[1341,1361]},{"content":"Use method","pos":[1362,1372]},{"content":"Directory names","pos":[1458,1473]},{"pos":[1558,1612],"content":"Directory information (<ph id=\"ph1\">&lt;xref:System.IO.DirectoryInfo&gt;</ph>)","source":"Directory information (<xref:System.IO.DirectoryInfo>)"},{"content":"File names","pos":[1701,1711]},{"pos":[1790,1834],"content":"File information (<ph id=\"ph1\">&lt;xref:System.IO.FileInfo&gt;</ph>)","source":"File information (<xref:System.IO.FileInfo>)"},{"content":"File system entry names","pos":[1917,1940]},{"pos":[2031,2094],"content":"File system entry information (<ph id=\"ph1\">&lt;xref:System.IO.FileSystemInfo&gt;</ph>)","source":"File system entry information (<xref:System.IO.FileSystemInfo>)"},{"content":"Directory and file names","pos":[2187,2211]},{"pos":[2305,2713],"content":"[!NOTE]\nAlthough you can immediately enumerate all the files in the subdirectories of a parent directory by using the <xref:System.IO.SearchOption.AllDirectories> option of the optional <xref:System.IO.SearchOption> enumeration, <xref:System.UnauthorizedAccessException> errors may make the enumeration incomplete. You can catch these exceptions by first enumerating directories and then enumerating files.","leadings":["","> "],"nodes":[{"content":"Although you can immediately enumerate all the files in the subdirectories of a parent directory by using the <xref:System.IO.SearchOption.AllDirectories> option of the optional <xref:System.IO.SearchOption> enumeration, <xref:System.UnauthorizedAccessException> errors may make the enumeration incomplete. You can catch these exceptions by first enumerating directories and then enumerating files.","pos":[8,406],"nodes":[{"content":"Although you can immediately enumerate all the files in the subdirectories of a parent directory by using the <ph id=\"ph1\">&lt;xref:System.IO.SearchOption.AllDirectories&gt;</ph> option of the optional <ph id=\"ph2\">&lt;xref:System.IO.SearchOption&gt;</ph> enumeration, <ph id=\"ph3\">&lt;xref:System.UnauthorizedAccessException&gt;</ph> errors may make the enumeration incomplete.","pos":[0,306],"source":"Although you can immediately enumerate all the files in the subdirectories of a parent directory by using the <xref:System.IO.SearchOption.AllDirectories> option of the optional <xref:System.IO.SearchOption> enumeration, <xref:System.UnauthorizedAccessException> errors may make the enumeration incomplete."},{"content":"You can catch these exceptions by first enumerating directories and then enumerating files.","pos":[307,398]}]}]},{"pos":[2722,2755],"content":"Examples: Use the Directory class","linkify":"Examples: Use the Directory class","nodes":[{"content":"Examples: Use the Directory class","pos":[0,33]}]},{"pos":[2761,2962],"content":"The following example uses the <ph id=\"ph1\">&lt;xref:System.IO.Directory.EnumerateDirectories%28System.String%29?displayProperty=nameWithType&gt;</ph> method to get a list of the top-level directory names in a specified path.","source":"The following example uses the <xref:System.IO.Directory.EnumerateDirectories%28System.String%29?displayProperty=nameWithType> method to get a list of the top-level directory names in a specified path."},{"content":"The following example uses the <ph id=\"ph1\">&lt;xref:System.IO.Directory.EnumerateFiles%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29?displayProperty=nameWithType&gt;</ph> method to recursively enumerate all file names in a directory and subdirectories that match a certain pattern.","pos":[3232,3504],"source":"The following example uses the <xref:System.IO.Directory.EnumerateFiles%28System.String%2CSystem.String%2CSystem.IO.SearchOption%29?displayProperty=nameWithType> method to recursively enumerate all file names in a directory and subdirectories that match a certain pattern."},{"content":"It then reads each line of each file and displays the lines that contain a specified string, with their filenames and paths.","pos":[3505,3629]},{"pos":[3962,3999],"content":"Examples: Use the DirectoryInfo class","linkify":"Examples: Use the DirectoryInfo class","nodes":[{"content":"Examples: Use the DirectoryInfo class","pos":[0,37]}]},{"pos":[4005,4282],"content":"The following example uses the <ph id=\"ph1\">&lt;xref:System.IO.DirectoryInfo.EnumerateDirectories%2A?displayProperty=nameWithType&gt;</ph> method to list a collection of top-level directories whose <ph id=\"ph2\">&lt;xref:System.IO.FileSystemInfo.CreationTimeUtc&gt;</ph> is earlier than a certain <ph id=\"ph3\">&lt;xref:System.DateTime&gt;</ph> value.","source":"The following example uses the <xref:System.IO.DirectoryInfo.EnumerateDirectories%2A?displayProperty=nameWithType> method to list a collection of top-level directories whose <xref:System.IO.FileSystemInfo.CreationTimeUtc> is earlier than a certain <xref:System.DateTime> value."},{"content":"The following example uses the <ph id=\"ph1\">&lt;xref:System.IO.DirectoryInfo.EnumerateFiles%2A?displayProperty=nameWithType&gt;</ph> method to list all files whose <ph id=\"ph2\">&lt;xref:System.IO.FileInfo.Length&gt;</ph> exceeds 10MB.","pos":[4602,4788],"source":"The following example uses the <xref:System.IO.DirectoryInfo.EnumerateFiles%2A?displayProperty=nameWithType> method to list all files whose <xref:System.IO.FileInfo.Length> exceeds 10MB."},{"content":"This example first enumerates the top-level directories, to catch possible unauthorized access exceptions, and then enumerates the files.","pos":[4789,4926]},{"pos":[5301,5309],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5313,5370],"content":"<bpt id=\"p1\">[</bpt>File and stream I/O<ept id=\"p1\">](../../../docs/standard/io/index.md)</ept>","source":"[File and stream I/O](../../../docs/standard/io/index.md)"}]}