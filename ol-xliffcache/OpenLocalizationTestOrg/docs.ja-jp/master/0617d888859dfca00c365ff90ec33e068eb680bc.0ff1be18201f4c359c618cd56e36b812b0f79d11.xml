{"content":"---\ntitle: \"How to: Create an AJAX-Enabled WCF Service and an ASP.NET Client that Accesses the Service | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 95012df8-2a66-420d-944a-8afab261013e\ncaps.latest.revision: 9\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Create an AJAX-Enabled WCF Service and an ASP.NET Client that Accesses the Service\nThis topic shows how to use Visual Studio 2008 to create an AJAX-enabled [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service and an ASP.NET client that accesses the service. The code for the service and for the client are provided in the Example section after the steps for creating them are described in the Procedures section.  \n  \n### To create the ASP.NET client application  \n  \n1.  Open [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)].  \n  \n2.  From the **File** menu, select **New**, then **Project**, then **Web**, and then select **ASP.NET Web Application**.  \n  \n3.  Name the Project `SandwichServices` and click **OK**.  \n  \n### To create the WCF AJAX-enabled service  \n  \n1.  Right-click the `SandwichServices` project in the **Solution Explorer** window and select **Add**, then **New Item**, and then **AJAX-enabled WCF Service**.  \n  \n2.  Name the service `CostService` in the **Name** box and click **Add**.  \n  \n3.  Open the CostService.svc.cs file.  \n  \n4.  Specify the `Namespace` for <xref:System.ServiceModel.ServiceContractAttribute> as `SandwichService`:  \n  \n    ```  \n    namespace SandwichServices  \n    {  \n      [ServiceContract(Namespace = \"SandwichServices\")]  \n      [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]  \n       public class CostService  \n       {  \n         â€¦  \n       }  \n     }  \n    ```  \n  \n5.  Implement the operations in the service. Add the <xref:System.ServiceModel.OperationContractAttribute> to each of the operations to indicate that they are part of the contract. The following example implements a method that returns the cost of a given quantity of sandwiches.  \n  \n    ```  \n    public class CostService  \n    {  \n        [OperationContract]  \n        public double CostOfSandwiches(int quantity)  \n        {  \n            return 1.25 * quantity;  \n        }  \n  \n    // Add more operations here and mark them with [OperationContract]  \n    }  \n    ```  \n  \n### To configure the client to access the service  \n  \n1.  Open the Default.aspx page and select the **Design** view.  \n  \n2.  From the **View** menu, select **Toolbox**.  \n  \n3.  Expand the **AJAX Extensions** node and drag and drop a **ScriptManager** on to the Default.aspx page.  \n  \n4.  Right-click the **ScriptManager** and select **Properties**.  \n  \n5.  Expand the **Services** collection in the **Properties** window to open up the **ServiceReference Collection Editor** window.  \n  \n6.  Click **Add**, specify `CostService.svc` as the **Path** referenced, and click **OK**.  \n  \n7.  Expand the **HTML** node in the **Toolbox** and drag and drop an **Input (Button)** on to the Default.aspx page.  \n  \n8.  Right-click the **Button** and select **Properties**.  \n  \n9. Change the **Value** field to `Price for 3 Sandwiches`.  \n  \n10. Double-click the **Button** to access the JavaScript code.  \n  \n11. Pass in the following JavaScript code within the <`script`> element.  \n  \n    ```  \n    function Button1_onclick() {  \n    var service = new SandwichServices.CostService();  \n    service.CostOfSandwiches(3, onSuccess, null, null);  \n    }  \n  \n    function onSuccess(result){  \n    alert(result);  \n    }  \n    ```  \n  \n### To access the service from the client  \n  \n1.  Use Ctrl +F5 to launch the service and the Web client. Click the **Price for 3 Grilled Sandwiches** button to generate the expected output of \"3.75\".  \n  \n## Example  \n This example contains the service code contained in the WCFService.svc.cs file and the client code contained in the Default.aspx file.  \n  \n```  \n//The service code contained in the CostService.svc.cs file.  \n  \nusing System;  \nusing System.Linq;  \nusing System.Runtime.Serialization;  \nusing System.ServiceModel;  \nusing System.ServiceModel.Activation;  \nusing System.ServiceModel.Web;  \n  \nnamespace SandwichServices  \n{  \n    [ServiceContract(Namespace=\"SandwichServices\")]  \n    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]  \n    public class CostService  \n    {  \n        // Add [WebGet] attribute to use HTTP GET  \n        [OperationContract]  \n        public double CostOfSandwiches(int quantity)  \n        {  \n            return 1.25 * quantity;  \n        }  \n  \n        // Add more operations here and mark them with [OperationContract]  \n    }  \n}  \n//The code for hosting the service is contained in the CostService.svc file.  \n  \n<%@ ServiceHost Language=\"C#\" Debug=\"true\" Service=\"SandwichServices.CostService\" CodeBehind=\"CostService.svc.cs\" %>  \n  \n//The client code contained in the Default.aspx file.  \n  \n<%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"Default.aspx.cs\" Inherits=\"SandwichServices._Default\" %>  \n  \n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">  \n  \n<html >  \n<head runat=\"server\">  \n    <title>Untitled Page</title>  \n<script language=\"javascript\" type=\"text/javascript\">  \n// <!CDATA[  \n  \nfunction Button1_onclick() {  \nvar service = new SandwichServices.CostService();  \nservice.CostOfSandwiches(3, onSuccess, null, null);  \n}  \n  \nfunction onSuccess(result){  \nalert(result);  \n}  \n  \n// ]]>  \n</script>  \n</head>  \n<body>  \n    <form id=\"form1\" runat=\"server\">  \n    <div>  \n  \n    </div>  \n    <asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\">  \n        <services>  \n            <asp:servicereference Path=\"CostService.svc\" />  \n        </services>  \n    </asp:ScriptManager>  \n    </form>  \n    <p>  \n        <input id=\"Button1\" type=\"button\" value=\"Price for 3 Sandwiches\" onclick=\"return Button1_onclick()\" /></p>  \n</body>  \n</html>  \n  \n```     \n","nodes":[{"pos":[12,119],"content":"How to: Create an AJAX-Enabled WCF Service and an ASP.NET Client that Accesses the Service | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Create an AJAX-Enabled WCF Service and an ASP.NET Client that Accesses the Service | Microsoft Docs","pos":[0,107]}]},{"pos":[417,507],"content":"How to: Create an AJAX-Enabled WCF Service and an ASP.NET Client that Accesses the Service","linkify":"How to: Create an AJAX-Enabled WCF Service and an ASP.NET Client that Accesses the Service","nodes":[{"content":"How to: Create an AJAX-Enabled WCF Service and an ASP.NET Client that Accesses the Service","pos":[0,90]}]},{"content":"This topic shows how to use Visual Studio 2008 to create an AJAX-enabled <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> service and an ASP.NET client that accesses the service.","pos":[508,693],"source":"This topic shows how to use Visual Studio 2008 to create an AJAX-enabled [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service and an ASP.NET client that accesses the service."},{"content":"The code for the service and for the client are provided in the Example section after the steps for creating them are described in the Procedures section.","pos":[694,848]},{"pos":[858,898],"content":"To create the ASP.NET client application","linkify":"To create the ASP.NET client application","nodes":[{"content":"To create the ASP.NET client application","pos":[0,40]}]},{"pos":[908,985],"content":"Open <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph>.","source":"Open [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]."},{"pos":[995,1111],"content":"From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, select <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, then <bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept>, then <bpt id=\"p4\">**</bpt>Web<ept id=\"p4\">**</ept>, and then select <bpt id=\"p5\">**</bpt>ASP.NET Web Application<ept id=\"p5\">**</ept>.","source":"From the **File** menu, select **New**, then **Project**, then **Web**, and then select **ASP.NET Web Application**."},{"pos":[1121,1174],"content":"Name the Project <ph id=\"ph1\">`SandwichServices`</ph> and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Name the Project `SandwichServices` and click **OK**."},{"pos":[1184,1222],"content":"To create the WCF AJAX-enabled service","linkify":"To create the WCF AJAX-enabled service","nodes":[{"content":"To create the WCF AJAX-enabled service","pos":[0,38]}]},{"pos":[1232,1388],"content":"Right-click the <ph id=\"ph1\">`SandwichServices`</ph> project in the <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> window and select <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>, then <bpt id=\"p3\">**</bpt>New Item<ept id=\"p3\">**</ept>, and then <bpt id=\"p4\">**</bpt>AJAX-enabled WCF Service<ept id=\"p4\">**</ept>.","source":"Right-click the `SandwichServices` project in the **Solution Explorer** window and select **Add**, then **New Item**, and then **AJAX-enabled WCF Service**."},{"pos":[1398,1467],"content":"Name the service <ph id=\"ph1\">`CostService`</ph> in the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> box and click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"Name the service `CostService` in the **Name** box and click **Add**."},{"content":"Open the CostService.svc.cs file.","pos":[1477,1510]},{"pos":[1520,1621],"content":"Specify the <ph id=\"ph1\">`Namespace`</ph> for <ph id=\"ph2\">&lt;xref:System.ServiceModel.ServiceContractAttribute&gt;</ph> as <ph id=\"ph3\">`SandwichService`</ph>:","source":"Specify the `Namespace` for <xref:System.ServiceModel.ServiceContractAttribute> as `SandwichService`:"},{"content":"Implement the operations in the service.","pos":[1937,1977]},{"content":"Add the <ph id=\"ph1\">&lt;xref:System.ServiceModel.OperationContractAttribute&gt;</ph> to each of the operations to indicate that they are part of the contract.","pos":[1978,2113],"source":" Add the <xref:System.ServiceModel.OperationContractAttribute> to each of the operations to indicate that they are part of the contract."},{"content":"The following example implements a method that returns the cost of a given quantity of sandwiches.","pos":[2114,2212]},{"pos":[2515,2560],"content":"To configure the client to access the service","linkify":"To configure the client to access the service","nodes":[{"content":"To configure the client to access the service","pos":[0,45]}]},{"pos":[2570,2628],"content":"Open the Default.aspx page and select the <bpt id=\"p1\">**</bpt>Design<ept id=\"p1\">**</ept> view.","source":"Open the Default.aspx page and select the **Design** view."},{"pos":[2638,2681],"content":"From the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu, select <bpt id=\"p2\">**</bpt>Toolbox<ept id=\"p2\">**</ept>.","source":"From the **View** menu, select **Toolbox**."},{"pos":[2691,2793],"content":"Expand the <bpt id=\"p1\">**</bpt>AJAX Extensions<ept id=\"p1\">**</ept> node and drag and drop a <bpt id=\"p2\">**</bpt>ScriptManager<ept id=\"p2\">**</ept> on to the Default.aspx page.","source":"Expand the **AJAX Extensions** node and drag and drop a **ScriptManager** on to the Default.aspx page."},{"pos":[2803,2863],"content":"Right-click the <bpt id=\"p1\">**</bpt>ScriptManager<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","source":"Right-click the **ScriptManager** and select **Properties**."},{"pos":[2873,2998],"content":"Expand the <bpt id=\"p1\">**</bpt>Services<ept id=\"p1\">**</ept> collection in the <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> window to open up the <bpt id=\"p3\">**</bpt>ServiceReference Collection Editor<ept id=\"p3\">**</ept> window.","source":"Expand the **Services** collection in the **Properties** window to open up the **ServiceReference Collection Editor** window."},{"pos":[3008,3094],"content":"Click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>, specify <ph id=\"ph1\">`CostService.svc`</ph> as the <bpt id=\"p2\">**</bpt>Path<ept id=\"p2\">**</ept> referenced, and click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","source":"Click **Add**, specify `CostService.svc` as the **Path** referenced, and click **OK**."},{"pos":[3104,3216],"content":"Expand the <bpt id=\"p1\">**</bpt>HTML<ept id=\"p1\">**</ept> node in the <bpt id=\"p2\">**</bpt>Toolbox<ept id=\"p2\">**</ept> and drag and drop an <bpt id=\"p3\">**</bpt>Input (Button)<ept id=\"p3\">**</ept> on to the Default.aspx page.","source":"Expand the **HTML** node in the **Toolbox** and drag and drop an **Input (Button)** on to the Default.aspx page."},{"pos":[3226,3279],"content":"Right-click the <bpt id=\"p1\">**</bpt>Button<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","source":"Right-click the **Button** and select **Properties**."},{"pos":[3288,3343],"content":"Change the <bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept> field to <ph id=\"ph1\">`Price for 3 Sandwiches`</ph>.","source":"Change the **Value** field to `Price for 3 Sandwiches`."},{"pos":[3353,3411],"content":"Double-click the <bpt id=\"p1\">**</bpt>Button<ept id=\"p1\">**</ept> to access the JavaScript code.","source":"Double-click the **Button** to access the JavaScript code."},{"pos":[3421,3489],"content":"Pass in the following JavaScript code within the &lt;<ph id=\"ph1\">`script`</ph>&gt; element.","source":"Pass in the following JavaScript code within the <`script`> element."},{"pos":[3745,3782],"content":"To access the service from the client","linkify":"To access the service from the client","nodes":[{"content":"To access the service from the client","pos":[0,37]}]},{"content":"Use Ctrl +F5 to launch the service and the Web client.","pos":[3792,3846]},{"content":"Click the <bpt id=\"p1\">**</bpt>Price for 3 Grilled Sandwiches<ept id=\"p1\">**</ept> button to generate the expected output of \"3.75\".","pos":[3847,3941],"source":" Click the **Price for 3 Grilled Sandwiches** button to generate the expected output of \"3.75\"."},{"pos":[3950,3957],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"This example contains the service code contained in the WCFService.svc.cs file and the client code contained in the Default.aspx file.","pos":[3961,4095]}]}