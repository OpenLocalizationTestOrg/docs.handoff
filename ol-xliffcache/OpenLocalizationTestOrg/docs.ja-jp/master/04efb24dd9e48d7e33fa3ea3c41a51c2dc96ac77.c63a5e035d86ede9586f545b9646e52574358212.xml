{"content":"---\ntitle: \"Location-Based Cache Policies\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"Cache If Available policy\"\n  - \"reload policy\"\n  - \"location-based cache policies\"\n  - \"Cache Only policy\"\n  - \"local cache\"\n  - \"intermediate cache\"\n  - \"No Cache No Store policy\"\n  - \"cache [.NET Framework], location-based policies\"\n  - \"Revalidate policy\"\n  - \"freshness of cached resources\"\n  - \"Cache Or Next Cache Only policy\"\n  - \"Refresh policy\"\nms.assetid: e41d7f1a-0a6a-4dee-97d1-c6a8b6a07fc2\n---\n# Location-Based Cache Policies\nA location-based cache policy defines the freshness of valid cached entries based on where the requested resource can be taken from. A cached resource is valid if using it does not does not violate server-specified revalidation requirements. A location-based cache policy is created programmatically by using a <xref:System.Net.Cache.RequestCachePolicy> or <xref:System.Net.Cache.HttpRequestCachePolicy> class constructor. The type of location-based policy is passed to the constructor using a <xref:System.Net.Cache.RequestCacheLevel> or <xref:System.Net.Cache.HttpRequestCacheLevel> enumeration value. For code examples that create location-based cache policies, see [How to: Set a Location-Based Cache Policy for an Application](../../../docs/framework/network-programming/how-to-set-a-location-based-cache-policy-for-an-application.md). The following sections explain each type of location-based cache policy for Hypertext Transfer Protocol (http and https) resources.  \n  \n## Cache If Available Policy  \n If a valid requested resource is in the local cache, the cached resource is used; otherwise, the request for the resource is sent to the server. If the requested resource is available in any cache between the client and the server, the request can be satisfied by an intermediate cache.  \n  \n## Cache Only Policy  \n If a valid requested resource is in the local cache, the cached resource is used. When this cache policy level is specified, a <xref:System.Net.WebException> exception is thrown if the item is not in the local cache.  \n  \n## Cache Or Next Cache Only Policy  \n If a valid requested resource is in the local cache or an intermediate cache on the local area network, the cached resource is used. Otherwise, a <xref:System.Net.WebException> exception is thrown. In the HTTP caching protocol, this is achieved using the only-if-cached cache control directive.  \n  \n## No Cache No Store Policy  \n A requested resource is never used from any cache and is never placed in any cache. If a requested resource is present in the local cache, it is removed. This policy level indicates to intermediate caches that they should also remove the resource. In the HTTP caching protocol, this is achieved using the no-store cache control directive.  \n  \n## Refresh Policy  \n A requested resource can be used if it is obtained from the server or found in a cache other than the local cache. Before the request can be satisfied by an intermediate cache, that cache must revalidate its cached entry with the server. In the HTTP caching protocol, this is achieved using the max-age = 0 cache control directive and the no-cache Pragma header.  \n  \n## Reload Policy  \n Requested resources must be obtained from the server. The response might be saved in the local cache. In the HTTP caching protocol, this is achieved using the no-cache cache control directive and the no-cache Pragma header.  \n  \n## Revalidate Policy  \n Compares the copy of the resource in the cache with the copy on the server. If the copy on the server is newer, it is used to satisfy the request and replaces the copy in the cache. If the copy in the cache is the same as the server copy, the cached copy is used. In the HTTP caching protocol, this is achieved using a conditional request.  \n  \n## See also\n\n- [Cache Management for Network Applications](../../../docs/framework/network-programming/cache-management-for-network-applications.md)\n- [Cache Policy](../../../docs/framework/network-programming/cache-policy.md)\n- [Time-Based Cache Policies](../../../docs/framework/network-programming/time-based-cache-policies.md)\n- [Configuring Caching in Network Applications](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)\n- [\\<requestCaching> Element (Network Settings)](../../../docs/framework/configure-apps/file-schema/network/requestcaching-element-network-settings.md)\n","nodes":[{"pos":[4,494],"embed":true,"restype":"x-metadata","content":"title: \"Location-Based Cache Policies\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"Cache If Available policy\"\n  - \"reload policy\"\n  - \"location-based cache policies\"\n  - \"Cache Only policy\"\n  - \"local cache\"\n  - \"intermediate cache\"\n  - \"No Cache No Store policy\"\n  - \"cache [.NET Framework], location-based policies\"\n  - \"Revalidate policy\"\n  - \"freshness of cached resources\"\n  - \"Cache Or Next Cache Only policy\"\n  - \"Refresh policy\"\nms.assetid: e41d7f1a-0a6a-4dee-97d1-c6a8b6a07fc2","nodes":[{"content":"Location-Based Cache Policies","nodes":[{"pos":[0,29],"content":"Location-Based Cache Policies","nodes":[{"content":"Location-Based Cache Policies","pos":[0,29]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[501,530],"content":"Location-Based Cache Policies","linkify":"Location-Based Cache Policies","nodes":[{"content":"Location-Based Cache Policies","pos":[0,29]}]},{"content":"A location-based cache policy defines the freshness of valid cached entries based on where the requested resource can be taken from.","pos":[531,663]},{"content":"A cached resource is valid if using it does not does not violate server-specified revalidation requirements.","pos":[664,772]},{"content":"A location-based cache policy is created programmatically by using a <ph id=\"ph1\">&lt;xref:System.Net.Cache.RequestCachePolicy&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Net.Cache.HttpRequestCachePolicy&gt;</ph> class constructor.","pos":[773,953],"source":" A location-based cache policy is created programmatically by using a <xref:System.Net.Cache.RequestCachePolicy> or <xref:System.Net.Cache.HttpRequestCachePolicy> class constructor."},{"content":"The type of location-based policy is passed to the constructor using a <ph id=\"ph1\">&lt;xref:System.Net.Cache.RequestCacheLevel&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Net.Cache.HttpRequestCacheLevel&gt;</ph> enumeration value.","pos":[954,1134],"source":" The type of location-based policy is passed to the constructor using a <xref:System.Net.Cache.RequestCacheLevel> or <xref:System.Net.Cache.HttpRequestCacheLevel> enumeration value."},{"content":"For code examples that create location-based cache policies, see <bpt id=\"p1\">[</bpt>How to: Set a Location-Based Cache Policy for an Application<ept id=\"p1\">](../../../docs/framework/network-programming/how-to-set-a-location-based-cache-policy-for-an-application.md)</ept>.","pos":[1135,1371],"source":" For code examples that create location-based cache policies, see [How to: Set a Location-Based Cache Policy for an Application](../../../docs/framework/network-programming/how-to-set-a-location-based-cache-policy-for-an-application.md)."},{"content":"The following sections explain each type of location-based cache policy for Hypertext Transfer Protocol (http and https) resources.","pos":[1372,1503]},{"pos":[1512,1537],"content":"Cache If Available Policy","linkify":"Cache If Available Policy","nodes":[{"content":"Cache If Available Policy","pos":[0,25]}]},{"content":"If a valid requested resource is in the local cache, the cached resource is used; otherwise, the request for the resource is sent to the server.","pos":[1541,1685]},{"content":"If the requested resource is available in any cache between the client and the server, the request can be satisfied by an intermediate cache.","pos":[1686,1827]},{"pos":[1836,1853],"content":"Cache Only Policy","linkify":"Cache Only Policy","nodes":[{"content":"Cache Only Policy","pos":[0,17]}]},{"content":"If a valid requested resource is in the local cache, the cached resource is used.","pos":[1857,1938]},{"content":"When this cache policy level is specified, a <ph id=\"ph1\">&lt;xref:System.Net.WebException&gt;</ph> exception is thrown if the item is not in the local cache.","pos":[1939,2073],"source":" When this cache policy level is specified, a <xref:System.Net.WebException> exception is thrown if the item is not in the local cache."},{"pos":[2082,2113],"content":"Cache Or Next Cache Only Policy","linkify":"Cache Or Next Cache Only Policy","nodes":[{"content":"Cache Or Next Cache Only Policy","pos":[0,31]}]},{"content":"If a valid requested resource is in the local cache or an intermediate cache on the local area network, the cached resource is used.","pos":[2117,2249]},{"content":"Otherwise, a <ph id=\"ph1\">&lt;xref:System.Net.WebException&gt;</ph> exception is thrown.","pos":[2250,2314],"source":" Otherwise, a <xref:System.Net.WebException> exception is thrown."},{"content":"In the HTTP caching protocol, this is achieved using the only-if-cached cache control directive.","pos":[2315,2411]},{"pos":[2420,2444],"content":"No Cache No Store Policy","linkify":"No Cache No Store Policy","nodes":[{"content":"No Cache No Store Policy","pos":[0,24]}]},{"content":"A requested resource is never used from any cache and is never placed in any cache.","pos":[2448,2531]},{"content":"If a requested resource is present in the local cache, it is removed.","pos":[2532,2601]},{"content":"This policy level indicates to intermediate caches that they should also remove the resource.","pos":[2602,2695]},{"content":"In the HTTP caching protocol, this is achieved using the no-store cache control directive.","pos":[2696,2786]},{"pos":[2795,2809],"content":"Refresh Policy","linkify":"Refresh Policy","nodes":[{"content":"Refresh Policy","pos":[0,14]}]},{"content":"A requested resource can be used if it is obtained from the server or found in a cache other than the local cache.","pos":[2813,2927]},{"content":"Before the request can be satisfied by an intermediate cache, that cache must revalidate its cached entry with the server.","pos":[2928,3050]},{"content":"In the HTTP caching protocol, this is achieved using the max-age = 0 cache control directive and the no-cache Pragma header.","pos":[3051,3175]},{"pos":[3184,3197],"content":"Reload Policy","linkify":"Reload Policy","nodes":[{"content":"Reload Policy","pos":[0,13]}]},{"content":"Requested resources must be obtained from the server.","pos":[3201,3254]},{"content":"The response might be saved in the local cache.","pos":[3255,3302]},{"content":"In the HTTP caching protocol, this is achieved using the no-cache cache control directive and the no-cache Pragma header.","pos":[3303,3424]},{"pos":[3433,3450],"content":"Revalidate Policy","linkify":"Revalidate Policy","nodes":[{"content":"Revalidate Policy","pos":[0,17]}]},{"content":"Compares the copy of the resource in the cache with the copy on the server.","pos":[3454,3529]},{"content":"If the copy on the server is newer, it is used to satisfy the request and replaces the copy in the cache.","pos":[3530,3635]},{"content":"If the copy in the cache is the same as the server copy, the cached copy is used.","pos":[3636,3717]},{"content":"In the HTTP caching protocol, this is achieved using a conditional request.","pos":[3718,3793]},{"pos":[3802,3810],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3814,3947],"content":"<bpt id=\"p1\">[</bpt>Cache Management for Network Applications<ept id=\"p1\">](../../../docs/framework/network-programming/cache-management-for-network-applications.md)</ept>","source":"[Cache Management for Network Applications](../../../docs/framework/network-programming/cache-management-for-network-applications.md)"},{"pos":[3950,4025],"content":"<bpt id=\"p1\">[</bpt>Cache Policy<ept id=\"p1\">](../../../docs/framework/network-programming/cache-policy.md)</ept>","source":"[Cache Policy](../../../docs/framework/network-programming/cache-policy.md)"},{"pos":[4028,4129],"content":"<bpt id=\"p1\">[</bpt>Time-Based Cache Policies<ept id=\"p1\">](../../../docs/framework/network-programming/time-based-cache-policies.md)</ept>","source":"[Time-Based Cache Policies](../../../docs/framework/network-programming/time-based-cache-policies.md)"},{"pos":[4132,4269],"content":"<bpt id=\"p1\">[</bpt>Configuring Caching in Network Applications<ept id=\"p1\">](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)</ept>","source":"[Configuring Caching in Network Applications](../../../docs/framework/network-programming/configuring-caching-in-network-applications.md)"},{"pos":[4272,4421],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>requestCaching&gt; Element (Network Settings)<ept id=\"p1\">](../../../docs/framework/configure-apps/file-schema/network/requestcaching-element-network-settings.md)</ept>","source":"[\\<requestCaching> Element (Network Settings)](../../../docs/framework/configure-apps/file-schema/network/requestcaching-element-network-settings.md)"}]}