{"content":"---\ntitle: \"Dynamically specify predicate filters at runtime\"\ndescription: How to dynamically specify predicate filters at runtime.\nkeywords: .NET, .NET Core, C#\nauthor: BillWagner\nmanager: wpickett\nms.author: wiwagn\nms.date: 12/1/2016\nms.topic: article\nms.prod: .net-core\nms.technology: .net-core-technologies\nms.devlang: dotnet\nms.assetid: 90238470-0767-497c-916c-52d0d16845e0\n---\n# Dynamically specify predicate filters at runtime\n\nIn some cases you do not know until run time how many predicates you have to apply to source elements in the `where` clause. One way to dynamically specify multiple predicate filters is to use the <xref:System.Linq.Enumerable.Contains%2A> method, as shown in the following example. The example is constructed in two ways. First, the project is run by filtering on values that are provided in the program. Then the project is run again by using input provided at run time.  \n  \n## To filter by using the Contains method  \n  \n1.  Open a new console application and name it `PredicateFilters`.  \n  \n2.  Copy the `StudentClass` class from [Query a collection of objects](query-a-collection-of-objects.md) and paste it into namespace `PredicateFilters` underneath class `Program`. `StudentClass` provides a list of `Student` objects.  \n  \n3.  Comment out the `Main` method in `StudentClass`.  \n  \n4.  Replace class `Program` with the following code.  \n  \n     [!code-cs[csProgGuideLINQ#26](../../../samples/snippets/csharp/concepts/linq/how-to-dynamically-specify-predicate-filters-at-runtime_1.cs)]  \n  \n5.  Add the following line to the `Main` method in class `DynamicPredicates`, under the declaration of `ids`.  \n  \n     ```csharp\n     QueryById(ids);\n     ```\n\n6.  Run the project.  \n  \n7.  The following output is displayed in a console window:  \n  \n     Garcia: 114  \n  \n     O'Donnell: 112  \n  \n     Omelchenko: 111  \n  \n8.  The next step is to run the project again, this time by using input entered at run time instead of array `ids`. Change `QueryByID(ids)` to `QueryByID(args)` in the `Main` method.  \n  \n9. Run the project with the command line arguments `122 117 120 115`. When the project is run, those values become elements of `args`, the parameter of the `Main` method..  \n  \n10. The following output is displayed in a console window:  \n  \n     Adams: 120  \n  \n     Feng: 117  \n  \n     Garcia: 115  \n  \n     Tucker: 122  \n  \n## To filter by using a switch statement  \n  \n1.  You can use a `switch` statement to select among predetermined alternative queries. In the following example, `studentQuery` uses a different `where` clause depending on which grade level, or year, is specified at run time.  \n  \n2.  Copy the following method and paste it into class `DynamicPredicates`.  \n  \n     [!code-cs[csProgGuideLINQ#27](../../../samples/snippets/csharp/concepts/linq//how-to-dynamically-specify-predicate-filters-at-runtime_2.cs)]  \n  \n3.  In the `Main` method, replace the call to `QueryByID` with the following call, which sends the first element from the `args` array as its argument: `QueryByYear(args[0])`.  \n  \n4.  Run the project with a command line argument of an integer value between 1 and 4.  \n  \n \n## See Also  \n [LINQ Query Expressions](index.md)   \n [where clause](../language-reference/keywords/where-clause.md)","nodes":[{"pos":[12,60],"content":"Dynamically specify predicate filters at runtime","needQuote":false,"needEscape":true,"nodes":[{"content":"Dynamically specify predicate filters at runtime","pos":[0,48]}]},{"pos":[75,131],"content":"How to dynamically specify predicate filters at runtime.","needQuote":true,"needEscape":true,"nodes":[{"content":"How to dynamically specify predicate filters at runtime.","pos":[0,56]}]},{"pos":[142,161],"content":".NET, .NET Core, C#","needQuote":true,"needEscape":true,"nodes":[{"content":".NET, .NET Core, C#","pos":[0,19]}]},{"pos":[385,433],"content":"Dynamically specify predicate filters at runtime","linkify":"Dynamically specify predicate filters at runtime","nodes":[{"content":"Dynamically specify predicate filters at runtime","pos":[0,48]}]},{"content":"In some cases you do not know until run time how many predicates you have to apply to source elements in the <ph id=\"ph1\">`where`</ph> clause.","pos":[435,559],"source":"In some cases you do not know until run time how many predicates you have to apply to source elements in the `where` clause."},{"content":"One way to dynamically specify multiple predicate filters is to use the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.Contains%2A&gt;</ph> method, as shown in the following example.","pos":[560,716],"source":" One way to dynamically specify multiple predicate filters is to use the <xref:System.Linq.Enumerable.Contains%2A> method, as shown in the following example."},{"content":"The example is constructed in two ways.","pos":[717,756]},{"content":"First, the project is run by filtering on values that are provided in the program.","pos":[757,839]},{"content":"Then the project is run again by using input provided at run time.","pos":[840,906]},{"pos":[915,953],"content":"To filter by using the Contains method","linkify":"To filter by using the Contains method","nodes":[{"content":"To filter by using the Contains method","pos":[0,38]}]},{"pos":[963,1025],"content":"Open a new console application and name it <ph id=\"ph1\">`PredicateFilters`</ph>.","source":"Open a new console application and name it `PredicateFilters`."},{"content":"Copy the <ph id=\"ph1\">`StudentClass`</ph> class from <bpt id=\"p1\">[</bpt>Query a collection of objects<ept id=\"p1\">](query-a-collection-of-objects.md)</ept> and paste it into namespace <ph id=\"ph2\">`PredicateFilters`</ph> underneath class <ph id=\"ph3\">`Program`</ph>.","pos":[1035,1210],"source":"Copy the `StudentClass` class from [Query a collection of objects](query-a-collection-of-objects.md) and paste it into namespace `PredicateFilters` underneath class `Program`."},{"content":"<ph id=\"ph1\">`StudentClass`</ph> provides a list of <ph id=\"ph2\">`Student`</ph> objects.","pos":[1211,1263],"source":"`StudentClass` provides a list of `Student` objects."},{"pos":[1273,1321],"content":"Comment out the <ph id=\"ph1\">`Main`</ph> method in <ph id=\"ph2\">`StudentClass`</ph>.","source":"Comment out the `Main` method in `StudentClass`."},{"pos":[1331,1379],"content":"Replace class <ph id=\"ph1\">`Program`</ph> with the following code.","source":"Replace class `Program` with the following code."},{"pos":[1390,1529],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csProgGuideLINQ#26<ept id=\"p2\">](../../../samples/snippets/csharp/concepts/linq/how-to-dynamically-specify-predicate-filters-at-runtime_1.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csProgGuideLINQ#26](../../../samples/snippets/csharp/concepts/linq/how-to-dynamically-specify-predicate-filters-at-runtime_1.cs)]"},{"pos":[1539,1644],"content":"Add the following line to the <ph id=\"ph1\">`Main`</ph> method in class <ph id=\"ph2\">`DynamicPredicates`</ph>, under the declaration of <ph id=\"ph3\">`ids`</ph>.","source":"Add the following line to the `Main` method in class `DynamicPredicates`, under the declaration of `ids`."},{"content":"Run the project.","pos":[1700,1716]},{"content":"The following output is displayed in a console window:","pos":[1726,1780]},{"content":"Garcia: 114","pos":[1791,1802]},{"content":"O'Donnell: 112","pos":[1813,1827]},{"content":"Omelchenko: 111","pos":[1838,1853]},{"content":"The next step is to run the project again, this time by using input entered at run time instead of array <ph id=\"ph1\">`ids`</ph>.","pos":[1863,1974],"source":"The next step is to run the project again, this time by using input entered at run time instead of array `ids`."},{"content":"Change <ph id=\"ph1\">`QueryByID(ids)`</ph> to <ph id=\"ph2\">`QueryByID(args)`</ph> in the <ph id=\"ph3\">`Main`</ph> method.","pos":[1975,2041],"source":" Change `QueryByID(ids)` to `QueryByID(args)` in the `Main` method."},{"content":"Run the project with the command line arguments <ph id=\"ph1\">`122 117 120 115`</ph>.","pos":[2050,2116],"source":"Run the project with the command line arguments `122 117 120 115`."},{"content":"When the project is run, those values become elements of <ph id=\"ph1\">`args`</ph>, the parameter of the <ph id=\"ph2\">`Main`</ph> method..","pos":[2117,2218],"source":" When the project is run, those values become elements of `args`, the parameter of the `Main` method.."},{"content":"The following output is displayed in a console window:","pos":[2228,2282]},{"content":"Adams: 120","pos":[2293,2303]},{"content":"Feng: 117","pos":[2314,2323]},{"content":"Garcia: 115","pos":[2334,2345]},{"content":"Tucker: 122","pos":[2356,2367]},{"pos":[2376,2413],"content":"To filter by using a switch statement","linkify":"To filter by using a switch statement","nodes":[{"content":"To filter by using a switch statement","pos":[0,37]}]},{"content":"You can use a <ph id=\"ph1\">`switch`</ph> statement to select among predetermined alternative queries.","pos":[2423,2506],"source":"You can use a `switch` statement to select among predetermined alternative queries."},{"content":"In the following example, <ph id=\"ph1\">`studentQuery`</ph> uses a different <ph id=\"ph2\">`where`</ph> clause depending on which grade level, or year, is specified at run time.","pos":[2507,2646],"source":" In the following example, `studentQuery` uses a different `where` clause depending on which grade level, or year, is specified at run time."},{"pos":[2656,2726],"content":"Copy the following method and paste it into class <ph id=\"ph1\">`DynamicPredicates`</ph>.","source":"Copy the following method and paste it into class `DynamicPredicates`."},{"pos":[2737,2877],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csProgGuideLINQ#27<ept id=\"p2\">](../../../samples/snippets/csharp/concepts/linq//how-to-dynamically-specify-predicate-filters-at-runtime_2.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csProgGuideLINQ#27](../../../samples/snippets/csharp/concepts/linq//how-to-dynamically-specify-predicate-filters-at-runtime_2.cs)]"},{"pos":[2887,3058],"content":"In the <ph id=\"ph1\">`Main`</ph> method, replace the call to <ph id=\"ph2\">`QueryByID`</ph> with the following call, which sends the first element from the <ph id=\"ph3\">`args`</ph> array as its argument: <ph id=\"ph4\">`QueryByYear(args[0])`</ph>.","source":"In the `Main` method, replace the call to `QueryByID` with the following call, which sends the first element from the `args` array as its argument: `QueryByYear(args[0])`."},{"content":"Run the project with a command line argument of an integer value between 1 and 4.","pos":[3068,3149]},{"pos":[3160,3168],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>LINQ Query Expressions<ept id=\"p1\">](index.md)</ept><ph id=\"ph1\"> </ph>","pos":[3172,3207],"source":"[LINQ Query Expressions](index.md) "},{"content":"<bpt id=\"p1\"> [</bpt>where clause<ept id=\"p1\">](../language-reference/keywords/where-clause.md)</ept>","pos":[3210,3273],"source":" [where clause](../language-reference/keywords/where-clause.md)"}]}