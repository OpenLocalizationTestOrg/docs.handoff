{"content":"---\ntitle: \"FunctionTailcall Function | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\napi_name: \n  - \"FunctionTailcall\"\napi_location: \n  - \"mscorwks.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"FunctionTailcall\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"FunctionTailcall function [.NET Framework profiling]\"\nms.assetid: 66347e03-9a97-41e8-8f9d-89b80803f7b5\ntopic_type: \n  - \"apiref\"\ncaps.latest.revision: 15\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# FunctionTailcall Function\nNotifies the profiler that the currently executing function is about to perform a tail call to another function.  \n  \n> [!NOTE]\n>  The `FunctionTailcall` function is deprecated in the .NET Framework version 2.0. It will continue to work, but will incur a performance penalty. Use the [FunctionTailcall2](../../../../docs/framework/unmanaged-api/profiling/functiontailcall2-function.md) function instead.  \n  \n## Syntax  \n  \n```  \nvoid __stdcall FunctionTailcall (  \n    [in] FunctionID funcID  \n);  \n```  \n  \n#### Parameters  \n `funcID`  \n [in] The identifier of the currently executing function that is about to make a tail call.  \n  \n## Remarks  \n The target function of the tail call will use the current stack frame, and will return directly to the caller of the function that made the tail call. This means that a [FunctionLeave](../../../../docs/framework/unmanaged-api/profiling/functionleave-function.md) callback will not be issued for a function that is the target of a tail call.  \n  \n The `FunctionTailcall` function is a callback; you must implement it. The implementation must use the `__declspec`(`naked`) storage-class attribute.  \n  \n The execution engine does not save any registers before calling this function.  \n  \n-   On entry, you must save all registers that you use, including those in the floating-point unit (FPU).  \n  \n-   On exit, you must restore the stack by popping off all the parameters that were pushed by its caller.  \n  \n The implementation of `FunctionTailcall` should not block because it will delay garbage collection. The implementation should not attempt a garbage collection because the stack may not be in a garbage collection-friendly state. If a garbage collection is attempted, the runtime will block until `FunctionTailcall` returns.  \n  \n Also, the `FunctionTailcall` function must not call into managed code or in any way cause a managed memory allocation.  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** CorProf.idl  \n  \n **Library:** CorGuids.lib  \n  \n **.NET Framework Versions:** 1.1, 1.0  \n  \n## See Also  \n [FunctionEnter2 Function](../../../../docs/framework/unmanaged-api/profiling/functionenter2-function.md)   \n [FunctionLeave2 Function](../../../../docs/framework/unmanaged-api/profiling/functionleave2-function.md)   \n [SetEnterLeaveFunctionHooks2 Method](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-setenterleavefunctionhooks2-method.md)   \n [Profiling Global Static Functions](../../../../docs/framework/unmanaged-api/profiling/profiling-global-static-functions.md)","nodes":[{"pos":[12,54],"content":"FunctionTailcall Function | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"FunctionTailcall Function | Microsoft Docs","pos":[0,42]}]},{"pos":[612,637],"content":"FunctionTailcall Function","linkify":"FunctionTailcall Function","nodes":[{"content":"FunctionTailcall Function","pos":[0,25]}]},{"content":"Notifies the profiler that the currently executing function is about to perform a tail call to another function.","pos":[638,750]},{"pos":[758,1041],"content":"[!NOTE]\n The `FunctionTailcall` function is deprecated in the .NET Framework version 2.0. It will continue to work, but will incur a performance penalty. Use the [FunctionTailcall2](../../../../docs/framework/unmanaged-api/profiling/functiontailcall2-function.md) function instead.","leadings":["","> "],"nodes":[{"content":" The `FunctionTailcall` function is deprecated in the .NET Framework version 2.0. It will continue to work, but will incur a performance penalty. Use the [FunctionTailcall2](../../../../docs/framework/unmanaged-api/profiling/functiontailcall2-function.md) function instead.","pos":[8,281],"nodes":[{"content":"The <ph id=\"ph1\">`FunctionTailcall`</ph> function is deprecated in the .NET Framework version 2.0.","pos":[1,81],"source":" The `FunctionTailcall` function is deprecated in the .NET Framework version 2.0."},{"content":"It will continue to work, but will incur a performance penalty.","pos":[82,145]},{"content":"Use the <bpt id=\"p1\">[</bpt>FunctionTailcall2<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/functiontailcall2-function.md)</ept> function instead.","pos":[146,273],"source":" Use the [FunctionTailcall2](../../../../docs/framework/unmanaged-api/profiling/functiontailcall2-function.md) function instead."}]}]},{"pos":[1050,1056],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1152,1162],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] The identifier of the currently executing function that is about to make a tail call.","pos":[1178,1268]},{"pos":[1277,1284],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The target function of the tail call will use the current stack frame, and will return directly to the caller of the function that made the tail call.","pos":[1288,1438]},{"content":"This means that a <bpt id=\"p1\">[</bpt>FunctionLeave<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/functionleave-function.md)</ept> callback will not be issued for a function that is the target of a tail call.","pos":[1439,1628],"source":" This means that a [FunctionLeave](../../../../docs/framework/unmanaged-api/profiling/functionleave-function.md) callback will not be issued for a function that is the target of a tail call."},{"content":"The <ph id=\"ph1\">`FunctionTailcall`</ph> function is a callback; you must implement it.","pos":[1635,1704],"source":"The `FunctionTailcall` function is a callback; you must implement it."},{"content":"The implementation must use the <ph id=\"ph1\">`__declspec`</ph>(<ph id=\"ph2\">`naked`</ph>) storage-class attribute.","pos":[1705,1783],"source":" The implementation must use the `__declspec`(`naked`) storage-class attribute."},{"content":"The execution engine does not save any registers before calling this function.","pos":[1790,1868]},{"content":"On entry, you must save all registers that you use, including those in the floating-point unit (FPU).","pos":[1878,1979]},{"content":"On exit, you must restore the stack by popping off all the parameters that were pushed by its caller.","pos":[1989,2090]},{"content":"The implementation of <ph id=\"ph1\">`FunctionTailcall`</ph> should not block because it will delay garbage collection.","pos":[2097,2196],"source":"The implementation of `FunctionTailcall` should not block because it will delay garbage collection."},{"content":"The implementation should not attempt a garbage collection because the stack may not be in a garbage collection-friendly state.","pos":[2197,2324]},{"content":"If a garbage collection is attempted, the runtime will block until <ph id=\"ph1\">`FunctionTailcall`</ph> returns.","pos":[2325,2419],"source":" If a garbage collection is attempted, the runtime will block until `FunctionTailcall` returns."},{"pos":[2426,2544],"content":"Also, the <ph id=\"ph1\">`FunctionTailcall`</ph> function must not call into managed code or in any way cause a managed memory allocation.","source":"Also, the `FunctionTailcall` function must not call into managed code or in any way cause a managed memory allocation."},{"pos":[2553,2565],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2569,2673],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[2680,2703],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> CorProf.idl","source":"**Header:** CorProf.idl"},{"pos":[2710,2735],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> CorGuids.lib","source":"**Library:** CorGuids.lib"},{"pos":[2742,2779],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> 1.1, 1.0","source":"**.NET Framework Versions:** 1.1, 1.0"},{"pos":[2788,2796],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>FunctionEnter2 Function<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/functionenter2-function.md)</ept><ph id=\"ph1\"> </ph>","pos":[2800,2905],"source":"[FunctionEnter2 Function](../../../../docs/framework/unmanaged-api/profiling/functionenter2-function.md) "},{"content":"<bpt id=\"p1\"> [</bpt>FunctionLeave2 Function<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/functionleave2-function.md)</ept><ph id=\"ph1\"> </ph>","pos":[2908,3014],"source":" [FunctionLeave2 Function](../../../../docs/framework/unmanaged-api/profiling/functionleave2-function.md) "},{"content":"<bpt id=\"p1\"> [</bpt>SetEnterLeaveFunctionHooks2 Method<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-setenterleavefunctionhooks2-method.md)</ept><ph id=\"ph1\"> </ph>","pos":[3017,3163],"source":" [SetEnterLeaveFunctionHooks2 Method](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-setenterleavefunctionhooks2-method.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Profiling Global Static Functions<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/profiling-global-static-functions.md)</ept>","pos":[3166,3291],"source":" [Profiling Global Static Functions](../../../../docs/framework/unmanaged-api/profiling/profiling-global-static-functions.md)"}]}