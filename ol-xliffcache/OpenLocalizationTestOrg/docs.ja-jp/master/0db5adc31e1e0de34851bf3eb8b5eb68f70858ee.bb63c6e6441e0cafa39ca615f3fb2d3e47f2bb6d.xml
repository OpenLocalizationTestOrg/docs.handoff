{"content":"---\ntitle: \"Synchronous Client Socket Example | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"sockets, code examples\"\n  - \"synchronous client sockets\"\n  - \"sockets, synchronous client sockets\"\nms.assetid: 2c7d5be7-2221-467c-a839-5744ec4d576d\ncaps.latest.revision: 8\nauthor: \"mcleblanc\"\nms.author: \"markl\"\nmanager: \"markl\"\n---\n# Synchronous Client Socket Example\nThe following example program creates a client that connects to a server. The client is built with a synchronous socket, so execution of the client application is suspended until the server returns a response. The application sends a string to the server and then displays the string returned by the server on the console.  \n  \n```vb  \nImports System  \nImports System.Net  \nImports System.Net.Sockets  \nImports System.Text  \n  \nPublic Class SynchronousSocketClient  \n  \n    Public Shared Sub Main()  \n        ' Data buffer for incoming data.  \n        Dim bytes(1024) As Byte  \n  \n        ' Connect to a remote device.  \n  \n        ' Establish the remote endpoint for the socket.  \n        ' This example uses port 11000 on the local computer.  \n        Dim ipHostInfo As IPHostEntry = Dns.Resolve(Dns.GetHostName())  \n        Dim ipAddress As IPAddress = ipHostInfo.AddressList(0)  \n        Dim remoteEP As New IPEndPoint(ipAddress, 11000)  \n  \n        ' Create a TCP/IP socket.  \n        Dim sender As New Socket(AddressFamily.InterNetwork, _  \n            SocketType.Stream, ProtocolType.Tcp)  \n  \n        ' Connect the socket to the remote endpoint.  \n        sender.Connect(remoteEP)  \n  \n        Console.WriteLine(\"Socket connected to {0}\", _  \n            sender.RemoteEndPoint.ToString())  \n  \n        ' Encode the data string into a byte array.  \n        Dim msg As Byte() = _  \n            Encoding.ASCII.GetBytes(\"This is a test<EOF>\")  \n  \n        ' Send the data through the socket.  \n        Dim bytesSent As Integer = sender.Send(msg)  \n  \n        ' Receive the response from the remote device.  \n        Dim bytesRec As Integer = sender.Receive(bytes)  \n        Console.WriteLine(\"Echoed test = {0}\", _  \n            Encoding.ASCII.GetString(bytes, 0, bytesRec))  \n  \n        ' Release the socket.  \n        sender.Shutdown(SocketShutdown.Both)  \n        sender.Close()  \n    End Sub  \n  \nEnd Class 'SynchronousSocketClient  \n```  \n  \n```csharp  \nusing System;  \nusing System.Net;  \nusing System.Net.Sockets;  \nusing System.Text;  \n  \npublic class SynchronousSocketClient {  \n  \n    public static void StartClient() {  \n        // Data buffer for incoming data.  \n        byte[] bytes = new byte[1024];  \n  \n        // Connect to a remote device.  \n        try {  \n            // Establish the remote endpoint for the socket.  \n            // This example uses port 11000 on the local computer.  \n            IPHostEntry ipHostInfo = Dns.Resolve(Dns.GetHostName())  \n            IPAddress ipAddress = ipHostInfo.AddressList[0];  \n            IPEndPoint remoteEP = new IPEndPoint(ipAddress,11000);  \n  \n            // Create a TCP/IP  socket.  \n            Socket sender = new Socket(AddressFamily.InterNetwork,   \n                SocketType.Stream, ProtocolType.Tcp );  \n  \n            // Connect the socket to the remote endpoint. Catch any errors.  \n            try {  \n                sender.Connect(remoteEP);  \n  \n                Console.WriteLine(\"Socket connected to {0}\",  \n                    sender.RemoteEndPoint.ToString());  \n  \n                // Encode the data string into a byte array.  \n                byte[] msg = Encoding.ASCII.GetBytes(\"This is a test<EOF>\");  \n  \n                // Send the data through the socket.  \n                int bytesSent = sender.Send(msg);  \n  \n                // Receive the response from the remote device.  \n                int bytesRec = sender.Receive(bytes);  \n                Console.WriteLine(\"Echoed test = {0}\",  \n                    Encoding.ASCII.GetString(bytes,0,bytesRec));  \n  \n                // Release the socket.  \n                sender.Shutdown(SocketShutdown.Both);  \n                sender.Close();  \n  \n            } catch (ArgumentNullException ane) {  \n                Console.WriteLine(\"ArgumentNullException : {0}\",ane.ToString());  \n            } catch (SocketException se) {  \n                Console.WriteLine(\"SocketException : {0}\",se.ToString());  \n            } catch (Exception e) {  \n                Console.WriteLine(\"Unexpected exception : {0}\", e.ToString());  \n            }  \n  \n        } catch (Exception e) {  \n            Console.WriteLine( e.ToString());  \n        }  \n    }  \n  \n    public static int Main(String[] args) {  \n        StartClient();  \n        return 0;  \n    }  \n}  \n```  \n  \n## See Also  \n [Synchronous Server Socket Example](../../../docs/framework/network-programming/synchronous-server-socket-example.md)   \n [Using a Synchronous Client Socket](../../../docs/framework/network-programming/using-a-synchronous-client-socket.md)   \n [Socket Code Examples](../../../docs/framework/network-programming/socket-code-examples.md)","nodes":[{"pos":[12,62],"content":"Synchronous Client Socket Example | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Synchronous Client Socket Example | Microsoft Docs","pos":[0,50]}]},{"pos":[511,544],"content":"Synchronous Client Socket Example","linkify":"Synchronous Client Socket Example","nodes":[{"content":"Synchronous Client Socket Example","pos":[0,33]}]},{"content":"The following example program creates a client that connects to a server.","pos":[545,618]},{"content":"The client is built with a synchronous socket, so execution of the client application is suspended until the server returns a response.","pos":[619,754]},{"content":"The application sends a string to the server and then displays the string returned by the server on the console.","pos":[755,867]},{"pos":[4855,4863],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Synchronous Server Socket Example<ept id=\"p1\">](../../../docs/framework/network-programming/synchronous-server-socket-example.md)</ept><ph id=\"ph1\"> </ph>","pos":[4867,4985],"source":"[Synchronous Server Socket Example](../../../docs/framework/network-programming/synchronous-server-socket-example.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Using a Synchronous Client Socket<ept id=\"p1\">](../../../docs/framework/network-programming/using-a-synchronous-client-socket.md)</ept><ph id=\"ph1\"> </ph>","pos":[4988,5107],"source":" [Using a Synchronous Client Socket](../../../docs/framework/network-programming/using-a-synchronous-client-socket.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Socket Code Examples<ept id=\"p1\">](../../../docs/framework/network-programming/socket-code-examples.md)</ept>","pos":[5110,5202],"source":" [Socket Code Examples](../../../docs/framework/network-programming/socket-code-examples.md)"}]}