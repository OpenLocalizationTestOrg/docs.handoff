{"content":"---\ntitle: \"How to: Use Parallel.Invoke to Execute Parallel Operations | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"task parallelism in .NET\"\n  - \"parallel programming, task parallelism\"\nms.assetid: 6b3ecd79-dec9-4ce1-abf4-62e5392a59c6\ncaps.latest.revision: 22\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# How to: Use Parallel.Invoke to Execute Parallel Operations\nThis example shows how to parallelize operations by using <xref:System.Threading.Tasks.Parallel.Invoke%2A> in the Task Parallel Library. Three operations are performed on a shared data source. Because none of the operations modifies the source, they can be executed in parallel in a straightforward manner.  \n  \n> [!NOTE]\n>  This documentation uses lambda expressions to define delegates in TPL. If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).  \n  \n## Example  \n [!code-csharp[TPL_Parallel#06](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_parallel/cs/parallelinvoke.cs#06)]\n [!code-vb[TPL_Parallel#06](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_parallel/vb/parallelinvoke.vb#06)]  \n  \n Note that with <xref:System.Threading.Tasks.Parallel.Invoke%2A>, you simply express which actions you want to run concurrently, and the runtime handles all thread scheduling details, including scaling automatically to the number of cores on the host computer.  \n  \n This example parallelizes the operations, not the data. As an alternate approach, you can parallelize the LINQ queries by using PLINQ and run the queries sequentially. Alternatively, you could parallelize the data by using PLINQ. Another option is to parallelize both the queries and the tasks. Although the resulting overhead might degrade performance on host computers with relatively few processors, it would scale much better on computers with many processors.  \n  \n## Compiling the Code  \n  \n-   Copy and paste the entire example into a Microsoft Visual Studio 2010 project and press F5.  \n  \n## See Also  \n [Parallel Programming](../../../docs/standard/parallel-programming/index.md)   \n [How to: Cancel a Task and Its Children](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md)   \n [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)","nodes":[{"pos":[4,470],"embed":true,"restype":"x-metadata","content":"title: \"How to: Use Parallel.Invoke to Execute Parallel Operations | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"task parallelism in .NET\"\n  - \"parallel programming, task parallelism\"\nms.assetid: 6b3ecd79-dec9-4ce1-abf4-62e5392a59c6\ncaps.latest.revision: 22\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"","nodes":[{"content":"How to: Use Parallel.Invoke to Execute Parallel Operations | Microsoft Docs","nodes":[{"pos":[0,75],"content":"How to: Use Parallel.Invoke to Execute Parallel Operations | Microsoft Docs","nodes":[{"content":"How to: Use Parallel.Invoke to Execute Parallel Operations | Microsoft Docs","pos":[0,75]}]}],"path":["title"]}],"yml":true},{"pos":[477,535],"content":"How to: Use Parallel.Invoke to Execute Parallel Operations","linkify":"How to: Use Parallel.Invoke to Execute Parallel Operations","nodes":[{"content":"How to: Use Parallel.Invoke to Execute Parallel Operations","pos":[0,58]}]},{"content":"This example shows how to parallelize operations by using <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Parallel.Invoke%2A&gt;</ph> in the Task Parallel Library.","pos":[536,672],"source":"This example shows how to parallelize operations by using <xref:System.Threading.Tasks.Parallel.Invoke%2A> in the Task Parallel Library."},{"content":"Three operations are performed on a shared data source.","pos":[673,728]},{"content":"Because none of the operations modifies the source, they can be executed in parallel in a straightforward manner.","pos":[729,842]},{"pos":[850,1129],"content":"[!NOTE]\n This documentation uses lambda expressions to define delegates in TPL. If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).","leadings":["","> "],"nodes":[{"content":"This documentation uses lambda expressions to define delegates in TPL. If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).","pos":[9,277],"nodes":[{"content":"This documentation uses lambda expressions to define delegates in TPL.","pos":[0,70]},{"content":"If you are not familiar with lambda expressions in C# or Visual Basic, see <bpt id=\"p1\">[</bpt>Lambda Expressions in PLINQ and TPL<ept id=\"p1\">](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md)</ept>.","pos":[71,268],"source":" If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md)."}]}]},{"pos":[1138,1145],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>TPL_Parallel#06<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_parallel/cs/parallelinvoke.cs#06)</ept><ept id=\"p1\">]</ept>","pos":[1149,1268],"source":"[!code-csharp[TPL_Parallel#06](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl_parallel/cs/parallelinvoke.cs#06)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>TPL_Parallel#06<ept id=\"p2\">](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_parallel/vb/parallelinvoke.vb#06)</ept><ept id=\"p1\">]</ept>","pos":[1270,1390],"source":"[!code-vb[TPL_Parallel#06](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl_parallel/vb/parallelinvoke.vb#06)]"},{"content":"Note that with <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Parallel.Invoke%2A&gt;</ph>, you simply express which actions you want to run concurrently, and the runtime handles all thread scheduling details, including scaling automatically to the number of cores on the host computer.","pos":[1397,1656],"source":"Note that with <xref:System.Threading.Tasks.Parallel.Invoke%2A>, you simply express which actions you want to run concurrently, and the runtime handles all thread scheduling details, including scaling automatically to the number of cores on the host computer."},{"content":"This example parallelizes the operations, not the data.","pos":[1663,1718]},{"content":"As an alternate approach, you can parallelize the LINQ queries by using PLINQ and run the queries sequentially.","pos":[1719,1830]},{"content":"Alternatively, you could parallelize the data by using PLINQ.","pos":[1831,1892]},{"content":"Another option is to parallelize both the queries and the tasks.","pos":[1893,1957]},{"content":"Although the resulting overhead might degrade performance on host computers with relatively few processors, it would scale much better on computers with many processors.","pos":[1958,2127]},{"pos":[2136,2154],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"content":"Copy and paste the entire example into a Microsoft Visual Studio 2010 project and press F5.","pos":[2164,2255]},{"pos":[2264,2272],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Parallel Programming<ept id=\"p1\">](../../../docs/standard/parallel-programming/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[2276,2353],"source":"[Parallel Programming](../../../docs/standard/parallel-programming/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Cancel a Task and Its Children<ept id=\"p1\">](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md)</ept><ph id=\"ph1\"> </ph>","pos":[2357,2484],"source":"[How to: Cancel a Task and Its Children](../../../docs/standard/parallel-programming/how-to-cancel-a-task-and-its-children.md) "},{"content":"<bpt id=\"p1\">[</bpt>Parallel LINQ (PLINQ)<ept id=\"p1\">](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)</ept>","pos":[2488,2579],"source":"[Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)"}]}