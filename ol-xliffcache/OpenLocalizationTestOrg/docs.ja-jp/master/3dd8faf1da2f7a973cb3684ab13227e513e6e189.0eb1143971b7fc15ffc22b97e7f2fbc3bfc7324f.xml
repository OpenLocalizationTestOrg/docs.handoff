{"content":"---\ntitle: \"Default NetTcpBinding | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"Net profile TCP\"\nms.assetid: e8475fe6-0ecd-407a-8e7e-45860561bb74\ncaps.latest.revision: 39\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Default NetTcpBinding\nThis sample demonstrates the use of the <xref:System.ServiceModel.NetTcpBinding> binding. This sample is based on the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md) that implements a calculator service. In this sample, the service is self-hosted. Both the client and service are console applications.  \n  \n> [!NOTE]\n>  The setup procedure and build instructions for this sample are located at the end of this topic.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Binding\\Net\\TCP\\Default`  \n  \n The binding is specified in the configuration files for the client and service. The binding type is specified in the `binding` attribute of the [\\<endpoint>](http://msdn.microsoft.com/en-us/13aa23b7-2f08-4add-8dbf-a99f8127c017) element as shown in the following sample configuration.  \n  \n```  \n<endpoint address=\"\"  \n          binding=\"netTcpBinding\"  \n          contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />  \n```  \n  \n The previous sample shows how to configure an endpoint to use the `netTcpBinding` binding with the default settings. If you want to configure the `netTcpBinding` binding and change some of its settings, it is necessary to define a binding configuration. The endpoint must reference the binding configuration by name with a `bindingConfiguration` attribute. In this sample, the binding configuration is named `Binding1` and is defined as shown in the following sample configuration.  \n  \n```  \n<services>  \n  <service name=\"Microsoft.ServiceModel.Samples.CalculatorService\"  \n           behaviorConfiguration=\"CalculatorServiceBehavior\">  \n    ...  \n    <endpoint address=\"\"  \n              binding=\"netTcpBinding\"  \n              bindingConfiguration=\"Binding1\"   \n              contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />  \n    ...  \n  </service>  \n</services>  \n  \n<bindings>  \n  <netTcpBinding>  \n    <binding name=\"Binding1\"   \n             closeTimeout=\"00:01:00\"  \n             openTimeout=\"00:01:00\"   \n             receiveTimeout=\"00:10:00\"   \n             sendTimeout=\"00:01:00\"  \n             transactionFlow=\"false\"   \n             transferMode=\"Buffered\"   \n             transactionProtocol=\"OleTransactions\"  \n             hostNameComparisonMode=\"StrongWildcard\"   \n             listenBacklog=\"10\"  \n             maxBufferPoolSize=\"524288\"   \n             maxBufferSize=\"65536\"   \n             maxConnections=\"10\"  \n             maxReceivedMessageSize=\"65536\">  \n      <readerQuotas maxDepth=\"32\"   \n                    maxStringContentLength=\"8192\"   \n                    maxArrayLength=\"16384\"  \n                    maxBytesPerRead=\"4096\"   \n                    maxNameTableCharCount=\"16384\" />  \n      <reliableSession ordered=\"true\"   \n                       inactivityTimeout=\"00:10:00\"  \n                       enabled=\"false\" />  \n      <security mode=\"Transport\">  \n        <transport clientCredentialType=\"Windows\" protectionLevel=\"EncryptAndSign\" />  \n      </security>  \n    </binding>  \n  </netTcpBinding>  \n</bindings>  \n```  \n  \n When you run the sample, the operation requests and responses are displayed in the client console window. Press ENTER in the client window to shut down the client.  \n  \n```  \nAdd(100,15.99) = 115.99  \nSubtract(145,76.54) = 68.46  \nMultiply(9,81.25) = 731.25  \nDivide(22,7) = 3.14285714285714  \n  \nPress ENTER to terminate client.  \n```  \n  \n### To set up, build, and run the sample  \n  \n1.  Install [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 4.0 using the following command.  \n  \n    ```  \n    %windir%\\Microsoft.NET\\Framework\\v4.0.XXXXX\\aspnet_regiis.exe /i /enable  \n  \n    ```  \n  \n2.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n3.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n4.  To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n    > [!NOTE]\n    >  Because the server is self-hosted, you must specify an identity in the client's App.config file to run the sample in a cross-machine configuration.  \n  \n    ```  \n    <client>  \n      <endpoint name=\"\"  \n          address=\"net.tcp://servername:9000/servicemodelsamples/service\"   \n          binding=\"netTcpBinding\"   \n          contract=\"Microsoft.ServiceModel.Samples.ICalculator\">  \n            <identity>  \n              <userPrincipalName value = \"user_name@service_domain\"/>  \n            </identity>  \n      </endpoint>  \n    </client>  \n    ```  \n  \n## See Also","nodes":[{"pos":[12,50],"content":"Default NetTcpBinding | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Default NetTcpBinding | Microsoft Docs","pos":[0,38]}]},{"pos":[427,448],"content":"Default NetTcpBinding","linkify":"Default NetTcpBinding","nodes":[{"content":"Default NetTcpBinding","pos":[0,21]}]},{"content":"This sample demonstrates the use of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.NetTcpBinding&gt;</ph> binding.","pos":[449,538],"source":"This sample demonstrates the use of the <xref:System.ServiceModel.NetTcpBinding> binding."},{"content":"This sample is based on the <bpt id=\"p1\">[</bpt>Getting Started<ept id=\"p1\">](../../../../docs/framework/wcf/samples/getting-started-sample.md)</ept> that implements a calculator service.","pos":[539,688],"source":" This sample is based on the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md) that implements a calculator service."},{"content":"In this sample, the service is self-hosted.","pos":[689,732]},{"content":"Both the client and service are console applications.","pos":[733,786]},{"pos":[794,901],"content":"[!NOTE]\n The setup procedure and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The setup procedure and build instructions for this sample are located at the end of this topic.","pos":[9,105]}]},{"pos":[909,1041],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[1,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1095,1421],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1422,1472]},{"content":"The binding is specified in the configuration files for the client and service.","pos":[1556,1635]},{"content":"The binding type is specified in the <ph id=\"ph1\">`binding`</ph> attribute of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>endpoint&gt;<ept id=\"p1\">](http://msdn.microsoft.com/en-us/13aa23b7-2f08-4add-8dbf-a99f8127c017)</ept> element as shown in the following sample configuration.","pos":[1636,1839],"source":" The binding type is specified in the `binding` attribute of the [\\<endpoint>](http://msdn.microsoft.com/en-us/13aa23b7-2f08-4add-8dbf-a99f8127c017) element as shown in the following sample configuration."},{"content":"The previous sample shows how to configure an endpoint to use the <ph id=\"ph1\">`netTcpBinding`</ph> binding with the default settings.","pos":[1989,2105],"source":"The previous sample shows how to configure an endpoint to use the `netTcpBinding` binding with the default settings."},{"content":"If you want to configure the <ph id=\"ph1\">`netTcpBinding`</ph> binding and change some of its settings, it is necessary to define a binding configuration.","pos":[2106,2242],"source":" If you want to configure the `netTcpBinding` binding and change some of its settings, it is necessary to define a binding configuration."},{"content":"The endpoint must reference the binding configuration by name with a <ph id=\"ph1\">`bindingConfiguration`</ph> attribute.","pos":[2243,2345],"source":" The endpoint must reference the binding configuration by name with a `bindingConfiguration` attribute."},{"content":"In this sample, the binding configuration is named <ph id=\"ph1\">`Binding1`</ph> and is defined as shown in the following sample configuration.","pos":[2346,2470],"source":" In this sample, the binding configuration is named `Binding1` and is defined as shown in the following sample configuration."},{"content":"When you run the sample, the operation requests and responses are displayed in the client console window.","pos":[4059,4164]},{"content":"Press ENTER in the client window to shut down the client.","pos":[4165,4222]},{"pos":[4404,4440],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[4450,4548],"content":"Install <ph id=\"ph1\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> 4.0 using the following command.","source":"Install [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 4.0 using the following command."},{"pos":[4663,4862],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[4872,5081],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[5091,5299],"content":"To run the sample in a single- or cross-machine configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[5311,5473],"content":"[!NOTE]\nBecause the server is self-hosted, you must specify an identity in the client's App.config file to run the sample in a cross-machine configuration.","leadings":["","    >  "],"nodes":[{"content":"Because the server is self-hosted, you must specify an identity in the client's App.config file to run the sample in a cross-machine configuration.","pos":[8,155]}]},{"pos":[5886,5894],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}