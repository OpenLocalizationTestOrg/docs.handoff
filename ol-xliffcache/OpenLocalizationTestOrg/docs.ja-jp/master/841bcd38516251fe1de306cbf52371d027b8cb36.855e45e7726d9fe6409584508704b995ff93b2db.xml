{"content":"---\ntitle: \"Stand-Alone Diagnostics Feed Sample\"\nms.date: \"03/30/2017\"\nms.assetid: d31c6c1f-292c-4d95-8e23-ed8565970ea5\n---\n# Stand-Alone Diagnostics Feed Sample\nThis sample demonstrates how to create an RSS/Atom feed for syndication with Windows Communication Foundation (WCF). It is a basic \"Hello World\" program that shows the basics of the object model and how to set it up on a Windows Communication Foundation (WCF) service.  \n  \n WCF models syndication feeds as service operations that return a special data type, <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter>. Instances of <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter> can serialize a feed into both the RSS 2.0 and Atom 1.0 formats. The following sample code shows the contract used.  \n  \n```  \n[ServiceContract(Namespace = \"\")]  \n    interface IDiagnosticsService  \n    {  \n        [OperationContract]  \n        //The [WebGet] attribute controls how WCF dispatches  \n        //HTTP requests to service operations based on a URI suffix  \n        //(the part of the request URI after the endpoint address)  \n        //using the HTTP GET method. The UriTemplate specifies a relative  \n        //path of 'feed', and specifies that the format is  \n        //supplied using a query string.   \n        [WebGet(UriTemplate=\"feed?format={format}\")]  \n        [ServiceKnownType(typeof(Atom10FeedFormatter))]  \n        [ServiceKnownType(typeof(Rss20FeedFormatter))]  \n        SyndicationFeedFormatter GetProcesses(string format);  \n    }  \n```  \n  \n The `GetProcesses` operation is annotated with the <xref:System.ServiceModel.Web.WebGetAttribute> attribute that enables you to control how WCF dispatches HTTP GET requests to service operations and specify the format of the messages sent.  \n  \n Like any WCF service, syndication feeds can be self hosted in any managed application. Syndication services require a specific binding (the <xref:System.ServiceModel.WebHttpBinding>) and a specific endpoint behavior (the <xref:System.ServiceModel.Description.WebHttpBehavior>) to function correctly. The new <xref:System.ServiceModel.Web.WebServiceHost> class provides a convenient API for creating such endpoints without specific configuration.  \n  \n```  \nWebServiceHost host = new WebServiceHost(typeof(ProcessService), new Uri(\"http://localhost:8000/diagnostics\"));  \n  \n            //The WebServiceHost will automatically provide a default endpoint at the base address  \n            //using the proper binding (the WebHttpBinding) and endpoint behavior (the WebHttpBehavior)  \n```  \n  \n Alternatively, you can use <xref:System.ServiceModel.Activation.WebServiceHostFactory> from within an IIS-hosted .svc file to provide equivalent functionality (this technique is not demonstrated in this sample code).  \n  \n```  \n<%@ ServiceHost Language=\"C#|VB\" Debug=\"true\" Service=\"ProcessService\" %>  \n```  \n  \n Because this service receives requests using the standard HTTP GET, you can use any RSS or ATOM-aware client to access the service. For example, you can view the output of this service by navigating to `http://localhost:8000/diagnostics/feed/?format=atom` or `http://localhost:8000/diagnostics/feed/?format=rss` in an RSS-aware browser.\n  \n You can also use the [How the WCF Syndication Object Model Maps to Atom and RSS](../../../../docs/framework/wcf/feature-details/how-the-wcf-syndication-object-model-maps-to-atom-and-rss.md) to read syndicated data and process it using imperative code.  \n  \n```  \nXmlReader reader = XmlReader.Create( \"http://localhost:8000/diagnostics/feed/?format=rss\",  \nnew XmlReaderSettings()  \n{  \n//MaxCharactersInDocument can be used to control the maximum amount of data   \n//read from the reader and helps prevent OutOfMemoryException  \nMaxCharactersInDocument = 1024 * 64  \n} );  \n  \nSyndicationFeed feed = SyndicationFeed.Load( reader );  \n  \nforeach (SyndicationItem i in feed.Items)  \n{  \n        XmlSyndicationContent content = i.Content as XmlSyndicationContent;  \n        ProcessData pd = content.ReadContent<ProcessData>();  \n  \n        Console.WriteLine(i.Title.Text);  \n        Console.WriteLine(pd.ToString());  \n}  \n```  \n  \n### To set up, build, and run the sample  \n  \n1.  Ensure that you have the right address registration permission for HTTP and HTTPS on the computer as explained in the set up instructions in [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  Build the solution.  \n  \n3.  Run the console application.  \n  \n4.  While the console application is running, navigate to `http://localhost:8000/diagnostics/feed/?format=atom` or `http://localhost:8000/diagnostics/feed/?format=rss` using an RSS-aware browser.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Syndication\\DiagnosticsFeed`  \n  \n## See also\n\n- [WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)\n- [WCF Syndication](../../../../docs/framework/wcf/feature-details/wcf-syndication.md)\n","nodes":[{"pos":[4,119],"embed":true,"restype":"x-metadata","content":"title: \"Stand-Alone Diagnostics Feed Sample\"\nms.date: \"03/30/2017\"\nms.assetid: d31c6c1f-292c-4d95-8e23-ed8565970ea5","nodes":[{"content":"Stand-Alone Diagnostics Feed Sample","nodes":[{"pos":[0,35],"content":"Stand-Alone Diagnostics Feed Sample","nodes":[{"content":"Stand-Alone Diagnostics Feed Sample","pos":[0,35]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[126,161],"content":"Stand-Alone Diagnostics Feed Sample","linkify":"Stand-Alone Diagnostics Feed Sample","nodes":[{"content":"Stand-Alone Diagnostics Feed Sample","pos":[0,35]}]},{"content":"This sample demonstrates how to create an RSS/Atom feed for syndication with Windows Communication Foundation (WCF).","pos":[162,278]},{"content":"It is a basic \"Hello World\" program that shows the basics of the object model and how to set it up on a Windows Communication Foundation (WCF) service.","pos":[279,430]},{"content":"WCF models syndication feeds as service operations that return a special data type, <ph id=\"ph1\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeedFormatter&gt;</ph>.","pos":[437,585],"source":"WCF models syndication feeds as service operations that return a special data type, <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter>."},{"content":"Instances of <ph id=\"ph1\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeedFormatter&gt;</ph> can serialize a feed into both the RSS 2.0 and Atom 1.0 formats.","pos":[586,727],"source":" Instances of <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter> can serialize a feed into both the RSS 2.0 and Atom 1.0 formats."},{"content":"The following sample code shows the contract used.","pos":[728,778]},{"pos":[1535,1774],"content":"The <ph id=\"ph1\">`GetProcesses`</ph> operation is annotated with the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> attribute that enables you to control how WCF dispatches HTTP GET requests to service operations and specify the format of the messages sent.","source":"The `GetProcesses` operation is annotated with the <xref:System.ServiceModel.Web.WebGetAttribute> attribute that enables you to control how WCF dispatches HTTP GET requests to service operations and specify the format of the messages sent."},{"content":"Like any WCF service, syndication feeds can be self hosted in any managed application.","pos":[1781,1867]},{"content":"Syndication services require a specific binding (the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph>) and a specific endpoint behavior (the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior&gt;</ph>) to function correctly.","pos":[1868,2080],"source":" Syndication services require a specific binding (the <xref:System.ServiceModel.WebHttpBinding>) and a specific endpoint behavior (the <xref:System.ServiceModel.Description.WebHttpBehavior>) to function correctly."},{"content":"The new <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebServiceHost&gt;</ph> class provides a convenient API for creating such endpoints without specific configuration.","pos":[2081,2226],"source":" The new <xref:System.ServiceModel.Web.WebServiceHost> class provides a convenient API for creating such endpoints without specific configuration."},{"pos":[2572,2788],"content":"Alternatively, you can use <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activation.WebServiceHostFactory&gt;</ph> from within an IIS-hosted .svc file to provide equivalent functionality (this technique is not demonstrated in this sample code).","source":"Alternatively, you can use <xref:System.ServiceModel.Activation.WebServiceHostFactory> from within an IIS-hosted .svc file to provide equivalent functionality (this technique is not demonstrated in this sample code)."},{"content":"Because this service receives requests using the standard HTTP GET, you can use any RSS or ATOM-aware client to access the service.","pos":[2886,3017]},{"content":"For example, you can view the output of this service by navigating to <ph id=\"ph1\">`http://localhost:8000/diagnostics/feed/?format=atom`</ph> or <ph id=\"ph2\">`http://localhost:8000/diagnostics/feed/?format=rss`</ph> in an RSS-aware browser.","pos":[3018,3222],"source":" For example, you can view the output of this service by navigating to `http://localhost:8000/diagnostics/feed/?format=atom` or `http://localhost:8000/diagnostics/feed/?format=rss` in an RSS-aware browser."},{"pos":[3227,3478],"content":"You can also use the <bpt id=\"p1\">[</bpt>How the WCF Syndication Object Model Maps to Atom and RSS<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-the-wcf-syndication-object-model-maps-to-atom-and-rss.md)</ept> to read syndicated data and process it using imperative code.","source":"You can also use the [How the WCF Syndication Object Model Maps to Atom and RSS](../../../../docs/framework/wcf/feature-details/how-the-wcf-syndication-object-model-maps-to-atom-and-rss.md) to read syndicated data and process it using imperative code."},{"pos":[4160,4196],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[4206,4511],"content":"Ensure that you have the right address registration permission for HTTP and HTTPS on the computer as explained in the set up instructions in <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have the right address registration permission for HTTP and HTTPS on the computer as explained in the set up instructions in [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"content":"Build the solution.","pos":[4521,4540]},{"content":"Run the console application.","pos":[4550,4578]},{"pos":[4588,4779],"content":"While the console application is running, navigate to <ph id=\"ph1\">`http://localhost:8000/diagnostics/feed/?format=atom`</ph> or <ph id=\"ph2\">`http://localhost:8000/diagnostics/feed/?format=rss`</ph> using an RSS-aware browser.","source":"While the console application is running, navigate to `http://localhost:8000/diagnostics/feed/?format=atom` or `http://localhost:8000/diagnostics/feed/?format=rss` using an RSS-aware browser."},{"pos":[4787,4920],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[14,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[0,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[4974,5284],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[5285,5335]},{"pos":[5425,5433],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5437,5551],"content":"<bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)</ept>","source":"[WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)"},{"pos":[5554,5638],"content":"<bpt id=\"p1\">[</bpt>WCF Syndication<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-syndication.md)</ept>","source":"[WCF Syndication](../../../../docs/framework/wcf/feature-details/wcf-syndication.md)"}]}