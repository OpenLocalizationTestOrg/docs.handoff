{"content":"---\ntitle: \"How to: Inherit from the Control Class | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"inheritance, Windows Forms custom controls\"\n  - \"Control class, inheriting from\"\n  - \"custom controls [Windows Forms], inheritance\"\n  - \"OnPaint method [Windows Forms]\"\n  - \"custom controls [Windows Forms], creating\"\nms.assetid: 46ba0df3-5cf7-443c-a3b4-a72660172476\ncaps.latest.revision: 11\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# How to: Inherit from the Control Class\nIf you want to create a completely custom control to use on a Windows Form, you should inherit from the <xref:System.Windows.Forms.Control> class. While inheriting from the <xref:System.Windows.Forms.Control> class requires that you perform more planning and implementation, it also provides you with the largest range of options. When inheriting from <xref:System.Windows.Forms.Control>, you inherit the very basic functionality that makes controls work. The functionality inherent in the <xref:System.Windows.Forms.Control> class handles user input through the keyboard and mouse, defines the bounds and size of the control, provides a windows handle, and provides message handling and security. It does not incorporate any painting, which in this case is the actual rendering of the graphical interface of the control, nor does it incorporate any specific user interaction functionality. You must provide all of these aspects through custom code.  \n  \n> [!NOTE]\n>  The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  \n  \n### To create a custom control  \n  \n1.  Create a new **Windows Application** or **Windows Control Library** project.  \n  \n2.  From the **Project** menu, choose **Add Class**.  \n  \n3.  In the **Add New Item** dialog box, click **Custom Control**.  \n  \n     A new custom control is added to your project.  \n  \n4.  Press F7 to open the **Code Editor** for your custom control.  \n  \n5.  Locate the <xref:System.Windows.Forms.Control.OnPaint%2A> method, which will be empty except for a call to the <xref:System.Windows.Forms.Control.OnPaint%2A> method of the base class.  \n  \n6.  Modify the code to incorporate any custom painting you want for your control.  \n  \n     For information about writing code to render graphics for controls, see [Custom Control Painting and Rendering](../../../../docs/framework/winforms/controls/custom-control-painting-and-rendering.md).  \n  \n7.  Implement any custom methods, properties, or events that your control will incorporate.  \n  \n8.  Save and test your control.  \n  \n## See Also  \n [Varieties of Custom Controls](../../../../docs/framework/winforms/controls/varieties-of-custom-controls.md)   \n [How to: Inherit from the UserControl Class](../../../../docs/framework/winforms/controls/how-to-inherit-from-the-usercontrol-class.md)   \n [How to: Inherit from Existing Windows Forms Controls](../../../../docs/framework/winforms/controls/how-to-inherit-from-existing-windows-forms-controls.md)   \n [How to: Author Controls for Windows Forms](../../../../docs/framework/winforms/controls/how-to-author-controls-for-windows-forms.md)   \n [Troubleshooting Inherited Event Handlers in Visual Basic](~/docs/visual-basic/programming-guide/language-features/events/troubleshooting-inherited-event-handlers.md)   \n [Developing Windows Forms Controls at Design Time](../../../../docs/framework/winforms/controls/developing-windows-forms-controls-at-design-time.md)","nodes":[{"pos":[12,67],"content":"How to: Inherit from the Control Class | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Inherit from the Control Class | Microsoft Docs","pos":[0,55]}]},{"pos":[649,687],"content":"How to: Inherit from the Control Class","linkify":"How to: Inherit from the Control Class","nodes":[{"content":"How to: Inherit from the Control Class","pos":[0,38]}]},{"content":"If you want to create a completely custom control to use on a Windows Form, you should inherit from the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control&gt;</ph> class.","pos":[688,834],"source":"If you want to create a completely custom control to use on a Windows Form, you should inherit from the <xref:System.Windows.Forms.Control> class."},{"content":"While inheriting from the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control&gt;</ph> class requires that you perform more planning and implementation, it also provides you with the largest range of options.","pos":[835,1018],"source":" While inheriting from the <xref:System.Windows.Forms.Control> class requires that you perform more planning and implementation, it also provides you with the largest range of options."},{"content":"When inheriting from <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control&gt;</ph>, you inherit the very basic functionality that makes controls work.","pos":[1019,1143],"source":" When inheriting from <xref:System.Windows.Forms.Control>, you inherit the very basic functionality that makes controls work."},{"content":"The functionality inherent in the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control&gt;</ph> class handles user input through the keyboard and mouse, defines the bounds and size of the control, provides a windows handle, and provides message handling and security.","pos":[1144,1385],"source":" The functionality inherent in the <xref:System.Windows.Forms.Control> class handles user input through the keyboard and mouse, defines the bounds and size of the control, provides a windows handle, and provides message handling and security."},{"content":"It does not incorporate any painting, which in this case is the actual rendering of the graphical interface of the control, nor does it incorporate any specific user interaction functionality.","pos":[1386,1578]},{"content":"You must provide all of these aspects through custom code.","pos":[1579,1637]},{"pos":[1645,2021],"content":"[!NOTE]\n The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).","leadings":["","> "],"nodes":[{"content":" The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).","pos":[8,374],"nodes":[{"content":"The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition.","pos":[1,131]},{"content":"To change your settings, choose <bpt id=\"p1\">**</bpt>Import and Export Settings<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>Tools<ept id=\"p2\">**</ept> menu.","pos":[132,217],"source":" To change your settings, choose **Import and Export Settings** on the **Tools** menu."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Customizing Development Settings in Visual Studio<ept id=\"p1\">](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3)</ept>.","pos":[218,366],"source":" For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3)."}]}]},{"pos":[2031,2057],"content":"To create a custom control","linkify":"To create a custom control","nodes":[{"content":"To create a custom control","pos":[0,26]}]},{"pos":[2067,2143],"content":"Create a new <bpt id=\"p1\">**</bpt>Windows Application<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Windows Control Library<ept id=\"p2\">**</ept> project.","source":"Create a new **Windows Application** or **Windows Control Library** project."},{"pos":[2153,2201],"content":"From the <bpt id=\"p1\">**</bpt>Project<ept id=\"p1\">**</ept> menu, choose <bpt id=\"p2\">**</bpt>Add Class<ept id=\"p2\">**</ept>.","source":"From the **Project** menu, choose **Add Class**."},{"pos":[2211,2272],"content":"In the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> dialog box, click <bpt id=\"p2\">**</bpt>Custom Control<ept id=\"p2\">**</ept>.","source":"In the **Add New Item** dialog box, click **Custom Control**."},{"content":"A new custom control is added to your project.","pos":[2283,2329]},{"pos":[2339,2400],"content":"Press F7 to open the <bpt id=\"p1\">**</bpt>Code Editor<ept id=\"p1\">**</ept> for your custom control.","source":"Press F7 to open the **Code Editor** for your custom control."},{"content":"Locate the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> method, which will be empty except for a call to the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> method of the base class.","pos":[2410,2593],"source":"Locate the <xref:System.Windows.Forms.Control.OnPaint%2A> method, which will be empty except for a call to the <xref:System.Windows.Forms.Control.OnPaint%2A> method of the base class."},{"content":"Modify the code to incorporate any custom painting you want for your control.","pos":[2603,2680]},{"pos":[2691,2890],"content":"For information about writing code to render graphics for controls, see <bpt id=\"p1\">[</bpt>Custom Control Painting and Rendering<ept id=\"p1\">](../../../../docs/framework/winforms/controls/custom-control-painting-and-rendering.md)</ept>.","source":"For information about writing code to render graphics for controls, see [Custom Control Painting and Rendering](../../../../docs/framework/winforms/controls/custom-control-painting-and-rendering.md)."},{"content":"Implement any custom methods, properties, or events that your control will incorporate.","pos":[2900,2987]},{"content":"Save and test your control.","pos":[2997,3024]},{"pos":[3033,3041],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Varieties of Custom Controls<ept id=\"p1\">](../../../../docs/framework/winforms/controls/varieties-of-custom-controls.md)</ept><ph id=\"ph1\"> </ph>","pos":[3045,3154],"source":"[Varieties of Custom Controls](../../../../docs/framework/winforms/controls/varieties-of-custom-controls.md) "},{"content":"<bpt id=\"p1\"> [</bpt>How to: Inherit from the UserControl Class<ept id=\"p1\">](../../../../docs/framework/winforms/controls/how-to-inherit-from-the-usercontrol-class.md)</ept><ph id=\"ph1\"> </ph>","pos":[3157,3294],"source":" [How to: Inherit from the UserControl Class](../../../../docs/framework/winforms/controls/how-to-inherit-from-the-usercontrol-class.md) "},{"content":"<bpt id=\"p1\"> [</bpt>How to: Inherit from Existing Windows Forms Controls<ept id=\"p1\">](../../../../docs/framework/winforms/controls/how-to-inherit-from-existing-windows-forms-controls.md)</ept><ph id=\"ph1\"> </ph>","pos":[3297,3454],"source":" [How to: Inherit from Existing Windows Forms Controls](../../../../docs/framework/winforms/controls/how-to-inherit-from-existing-windows-forms-controls.md) "},{"content":"<bpt id=\"p1\"> [</bpt>How to: Author Controls for Windows Forms<ept id=\"p1\">](../../../../docs/framework/winforms/controls/how-to-author-controls-for-windows-forms.md)</ept><ph id=\"ph1\"> </ph>","pos":[3457,3592],"source":" [How to: Author Controls for Windows Forms](../../../../docs/framework/winforms/controls/how-to-author-controls-for-windows-forms.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Troubleshooting Inherited Event Handlers in Visual Basic<ept id=\"p1\">](~/docs/visual-basic/programming-guide/language-features/events/troubleshooting-inherited-event-handlers.md)</ept><ph id=\"ph1\"> </ph>","pos":[3595,3763],"source":" [Troubleshooting Inherited Event Handlers in Visual Basic](~/docs/visual-basic/programming-guide/language-features/events/troubleshooting-inherited-event-handlers.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Developing Windows Forms Controls at Design Time<ept id=\"p1\">](../../../../docs/framework/winforms/controls/developing-windows-forms-controls-at-design-time.md)</ept>","pos":[3766,3915],"source":" [Developing Windows Forms Controls at Design Time](../../../../docs/framework/winforms/controls/developing-windows-forms-controls-at-design-time.md)"}]}