{"content":"---\ntitle: \"How to: Use Lambda Expressions in a Query - C# Programming Guide\"\nms.custom: seodec18\nms.date: 07/20/2015\nhelpviewer_keywords: \n  - \"lambda expressions [C#], in LINQ\"\nms.assetid: 3cac4d25-d11f-4abd-9e7c-0f02e97ae06d\n---\n# How to: Use Lambda Expressions in a Query (C# Programming Guide)\nYou do not use lambda expressions directly in query syntax, but you do use them in method calls, and query expressions can contain method calls. In fact, some query operations can only be expressed in method syntax. For more information about the difference between query syntax and method syntax, see [Query Syntax and Method Syntax in LINQ](../../../csharp/programming-guide/concepts/linq/query-syntax-and-method-syntax-in-linq.md).  \n  \n## Example  \n The following example demonstrates how to use a lambda expression in a method-based query by using the <xref:System.Linq.Enumerable.Where%2A?displayProperty=nameWithType> standard query operator. Note that the <xref:System.Linq.Enumerable.Where%2A> method in this example has an input parameter of the delegate type <xref:System.Func%601> and that delegate takes an integer as input and returns a Boolean. The lambda expression can be converted to that delegate. If this were a [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)] query that used the <xref:System.Linq.Queryable.Where%2A?displayProperty=nameWithType> method, the parameter type would be an `Expression<Func<int,bool>>` but the lambda expression would look exactly the same. For more information on the Expression type, see <xref:System.Linq.Expressions.Expression?displayProperty=nameWithType>.  \n  \n [!code-csharp[csProgGuideLINQ#1](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideLINQ/CS/csrefLINQHowTos.cs#1)]  \n  \n## Example  \n The following example demonstrates how to use a lambda expression in a method call of a query expression. The lambda is necessary because the <xref:System.Linq.Enumerable.Sum%2A> standard query operator cannot be invoked by using query syntax.  \n  \n The query first groups the students according to their grade level, as defined in the `GradeLevel` enum. Then for each group it adds the total scores for each student. This requires two `Sum` operations. The inner `Sum` calculates the total score for each student, and the outer `Sum` keeps a running, combined total for all students in the group.  \n  \n [!code-csharp[csProgGuideLINQ#2](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideLINQ/CS/csrefLINQHowTos.cs#2)]  \n  \n## Compiling the Code  \n To run this code, copy and paste the method into the `StudentClass` that is provided in [How to: Query a Collection of Objects](../../../csharp/programming-guide/linq-query-expressions/how-to-query-a-collection-of-objects.md) and call it from the `Main` method.  \n  \n## See also\n\n- [Lambda Expressions](../../../csharp/programming-guide/statements-expressions-operators/lambda-expressions.md)\n- [Expression Trees (C#)](../concepts/expression-trees/index.md)\n","nodes":[{"pos":[4,227],"embed":true,"restype":"x-metadata","content":"title: \"How to: Use Lambda Expressions in a Query - C# Programming Guide\"\nms.custom: seodec18\nms.date: 07/20/2015\nhelpviewer_keywords: \n  - \"lambda expressions [C#], in LINQ\"\nms.assetid: 3cac4d25-d11f-4abd-9e7c-0f02e97ae06d","nodes":[{"content":"How to: Use Lambda Expressions in a Query - C# Programming Guide","nodes":[{"pos":[0,64],"content":"How to: Use Lambda Expressions in a Query - C# Programming Guide","nodes":[{"content":"How to: Use Lambda Expressions in a Query - C# Programming Guide","pos":[0,64]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[234,298],"content":"How to: Use Lambda Expressions in a Query (C# Programming Guide)","linkify":"How to: Use Lambda Expressions in a Query (C# Programming Guide)","nodes":[{"content":"How to: Use Lambda Expressions in a Query (C# Programming Guide)","pos":[0,64]}]},{"content":"You do not use lambda expressions directly in query syntax, but you do use them in method calls, and query expressions can contain method calls.","pos":[299,443]},{"content":"In fact, some query operations can only be expressed in method syntax.","pos":[444,514]},{"content":"For more information about the difference between query syntax and method syntax, see <bpt id=\"p1\">[</bpt>Query Syntax and Method Syntax in LINQ<ept id=\"p1\">](../../../csharp/programming-guide/concepts/linq/query-syntax-and-method-syntax-in-linq.md)</ept>.","pos":[515,733],"source":" For more information about the difference between query syntax and method syntax, see [Query Syntax and Method Syntax in LINQ](../../../csharp/programming-guide/concepts/linq/query-syntax-and-method-syntax-in-linq.md)."},{"pos":[742,749],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to use a lambda expression in a method-based query by using the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.Where%2A?displayProperty=nameWithType&gt;</ph> standard query operator.","pos":[753,948],"source":"The following example demonstrates how to use a lambda expression in a method-based query by using the <xref:System.Linq.Enumerable.Where%2A?displayProperty=nameWithType> standard query operator."},{"content":"Note that the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.Where%2A&gt;</ph> method in this example has an input parameter of the delegate type <ph id=\"ph2\">&lt;xref:System.Func%601&gt;</ph> and that delegate takes an integer as input and returns a Boolean.","pos":[949,1158],"source":" Note that the <xref:System.Linq.Enumerable.Where%2A> method in this example has an input parameter of the delegate type <xref:System.Func%601> and that delegate takes an integer as input and returns a Boolean."},{"content":"The lambda expression can be converted to that delegate.","pos":[1159,1215]},{"content":"If this were a <ph id=\"ph1\">[!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)]</ph> query that used the <ph id=\"ph2\">&lt;xref:System.Linq.Queryable.Where%2A?displayProperty=nameWithType&gt;</ph> method, the parameter type would be an <ph id=\"ph3\">`Expression&lt;Func&lt;int,bool&gt;&gt;`</ph> but the lambda expression would look exactly the same.","pos":[1216,1492],"source":" If this were a [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)] query that used the <xref:System.Linq.Queryable.Where%2A?displayProperty=nameWithType> method, the parameter type would be an `Expression<Func<int,bool>>` but the lambda expression would look exactly the same."},{"content":"For more information on the Expression type, see <ph id=\"ph1\">&lt;xref:System.Linq.Expressions.Expression?displayProperty=nameWithType&gt;</ph>.","pos":[1493,1613],"source":" For more information on the Expression type, see <xref:System.Linq.Expressions.Expression?displayProperty=nameWithType>."},{"pos":[1750,1757],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to use a lambda expression in a method call of a query expression.","pos":[1761,1866]},{"content":"The lambda is necessary because the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.Sum%2A&gt;</ph> standard query operator cannot be invoked by using query syntax.","pos":[1867,2004],"source":" The lambda is necessary because the <xref:System.Linq.Enumerable.Sum%2A> standard query operator cannot be invoked by using query syntax."},{"content":"The query first groups the students according to their grade level, as defined in the <ph id=\"ph1\">`GradeLevel`</ph> enum.","pos":[2011,2115],"source":"The query first groups the students according to their grade level, as defined in the `GradeLevel` enum."},{"content":"Then for each group it adds the total scores for each student.","pos":[2116,2178]},{"content":"This requires two <ph id=\"ph1\">`Sum`</ph> operations.","pos":[2179,2214],"source":" This requires two `Sum` operations."},{"content":"The inner <ph id=\"ph1\">`Sum`</ph> calculates the total score for each student, and the outer <ph id=\"ph2\">`Sum`</ph> keeps a running, combined total for all students in the group.","pos":[2215,2358],"source":" The inner `Sum` calculates the total score for each student, and the outer `Sum` keeps a running, combined total for all students in the group."},{"pos":[2495,2513],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"pos":[2517,2778],"content":"To run this code, copy and paste the method into the <ph id=\"ph1\">`StudentClass`</ph> that is provided in <bpt id=\"p1\">[</bpt>How to: Query a Collection of Objects<ept id=\"p1\">](../../../csharp/programming-guide/linq-query-expressions/how-to-query-a-collection-of-objects.md)</ept> and call it from the <ph id=\"ph2\">`Main`</ph> method.","source":"To run this code, copy and paste the method into the `StudentClass` that is provided in [How to: Query a Collection of Objects](../../../csharp/programming-guide/linq-query-expressions/how-to-query-a-collection-of-objects.md) and call it from the `Main` method."},{"pos":[2787,2795],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2799,2909],"content":"<bpt id=\"p1\">[</bpt>Lambda Expressions<ept id=\"p1\">](../../../csharp/programming-guide/statements-expressions-operators/lambda-expressions.md)</ept>","source":"[Lambda Expressions](../../../csharp/programming-guide/statements-expressions-operators/lambda-expressions.md)"},{"pos":[2912,2974],"content":"<bpt id=\"p1\">[</bpt>Expression Trees (C#)<ept id=\"p1\">](../concepts/expression-trees/index.md)</ept>","source":"[Expression Trees (C#)](../concepts/expression-trees/index.md)"}]}