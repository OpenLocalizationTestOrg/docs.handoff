{"content":"---\ntitle: \"Throttled Parallel ForEach\"\nms.date: \"03/30/2017\"\nms.assetid: f2855b5f-e9a7-433d-96a4-40fc31025215\n---\n# Throttled Parallel ForEach\n\nThe `ThrottleParallelForEach` activity is similar to the <xref:System.Activities.Statements.ParallelForEach%601> activity with the one exception that it allows setting a concurrency factor to restrict the number of simultaneous branches to execute. The `ThrottleParallelForEach` activity derives from <xref:System.Activities.NativeActivity>, because it needs to schedule other activities (the child activities) and this is only accessible through the <xref:System.Activities.NativeActivityContext> class.\n\n## Projects\n\n|**ProjectName**|**Description**|**Main Files**|\n|-|-|-|\n|ThrottledParallelForEach|Contains `ThrottledParallelForEach` activity and its designer.|ThrottledParallelForEach.cs<br /><br /> The `ThrottledParallelForEach` activity definition.|\n|CodeTestClient|Sample client application that configures and runs a workflow with a `ThrottledParallelForEach` using imperative code.|Program.cs<br /><br /> Defines and runs an instance of the sample workflow.|\n\n## To use this sample\n\n1. Using Visual Studio 2010, open the ThrottledParallelForEach.sln file.\n\n2. To build the solution, press CTRL+SHIFT+B.\n\n3. To run the solution, press F5.\n\n> [!IMPORTANT]\n> The samples may already be installed on your machine. Check for the following (default) directory before continuing.\n>\n> `<InstallDrive>:\\WF_WCF_Samples`\n>\n> If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.\n>\n> `<InstallDrive>:\\WF_WCF_Samples\\WF\\Scenario\\ActivityLibrary\\ThrottledParallelForEach`","nodes":[{"pos":[4,110],"embed":true,"restype":"x-metadata","content":"title: \"Throttled Parallel ForEach\"\nms.date: \"03/30/2017\"\nms.assetid: f2855b5f-e9a7-433d-96a4-40fc31025215","nodes":[{"content":"Throttled Parallel ForEach","nodes":[{"pos":[0,26],"content":"Throttled Parallel ForEach","nodes":[{"content":"Throttled Parallel ForEach","pos":[0,26]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[117,143],"content":"Throttled Parallel ForEach","linkify":"Throttled Parallel ForEach","nodes":[{"content":"Throttled Parallel ForEach","pos":[0,26]}]},{"content":"The <ph id=\"ph1\">`ThrottleParallelForEach`</ph> activity is similar to the <ph id=\"ph2\">&lt;xref:System.Activities.Statements.ParallelForEach%601&gt;</ph> activity with the one exception that it allows setting a concurrency factor to restrict the number of simultaneous branches to execute.","pos":[145,393],"source":"The `ThrottleParallelForEach` activity is similar to the <xref:System.Activities.Statements.ParallelForEach%601> activity with the one exception that it allows setting a concurrency factor to restrict the number of simultaneous branches to execute."},{"content":"The <ph id=\"ph1\">`ThrottleParallelForEach`</ph> activity derives from <ph id=\"ph2\">&lt;xref:System.Activities.NativeActivity&gt;</ph>, because it needs to schedule other activities (the child activities) and this is only accessible through the <ph id=\"ph3\">&lt;xref:System.Activities.NativeActivityContext&gt;</ph> class.","pos":[394,649],"source":" The `ThrottleParallelForEach` activity derives from <xref:System.Activities.NativeActivity>, because it needs to schedule other activities (the child activities) and this is only accessible through the <xref:System.Activities.NativeActivityContext> class."},{"pos":[654,662],"content":"Projects","linkify":"Projects","nodes":[{"content":"Projects","pos":[0,8]}]},{"pos":[665,680],"content":"<bpt id=\"p1\">**</bpt>ProjectName<ept id=\"p1\">**</ept>","source":"**ProjectName**"},{"pos":[681,696],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"pos":[697,711],"content":"<bpt id=\"p1\">**</bpt>Main Files<ept id=\"p1\">**</ept>","source":"**Main Files**"},{"content":"ThrottledParallelForEach","pos":[722,746]},{"pos":[747,809],"content":"Contains <ph id=\"ph1\">`ThrottledParallelForEach`</ph> activity and its designer.","source":"Contains `ThrottledParallelForEach` activity and its designer."},{"content":"ThrottledParallelForEach.cs","pos":[810,837]},{"content":"The <ph id=\"ph1\">`ThrottledParallelForEach`</ph> activity definition.","pos":[850,901],"source":"The `ThrottledParallelForEach` activity definition."},{"content":"CodeTestClient","pos":[904,918]},{"pos":[919,1037],"content":"Sample client application that configures and runs a workflow with a <ph id=\"ph1\">`ThrottledParallelForEach`</ph> using imperative code.","source":"Sample client application that configures and runs a workflow with a `ThrottledParallelForEach` using imperative code."},{"content":"Program.cs","pos":[1038,1048]},{"content":"Defines and runs an instance of the sample workflow.","pos":[1061,1113]},{"pos":[1119,1137],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"content":"Using Visual Studio 2010, open the ThrottledParallelForEach.sln file.","pos":[1142,1211]},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[1216,1258]},{"content":"To run the solution, press F5.","pos":[1263,1293]},{"pos":[1297,1428],"content":"[!IMPORTANT]\nThe samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,129],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1470,1780],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1781,1831]}]}