{"content":"---\ntitle: \"Cryptographic agility in WCF security\"\nms.date: \"03/30/2017\"\nms.assetid: c2c549e5-ac19-40c5-b686-8f67f52b6dbf\n---\n# Cryptographic agility in WCF security\n\nThis sample shows how to specify in a standard/custom algorithm to provide a cryptographic agile implementation in a Windows Communication Foundation (WCF) client and service. The sample is composed of the following projects:\n\n**Service**\n\nThis is a self-hosted WCF service that implements the `ICalculator` interface and secures the endpoint using the <xref:System.ServiceModel.WSHttpBinding> with secure session and reliable session disabled. The service defines a custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security.\n\n**Client**\n\nThis is a WCF client that accesses the service after successful authentication. It invokes the operations exposed by the `ICalculator` interface and implemented by the service. The client also defines the same custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security.\n\n## To use this sample\n\n1. Open the CryptoAgility.sln solution in Visual Studio 2012.\n\n2. Press CTRL+SHIFT+B to build the solution.\n\n3. Open [!INCLUDE[fileExplorer](~/includes/fileexplorer-md.md)] and navigate to the \\WCF\\Basic\\Security\\CryptoAgility\\Service\\bin directory and run the service.exe file with administrator privileges by right-clicking service.exe and selecting **Run as administrator**.\n\n4. Navigate to \\WCF\\Basic\\Security\\CryptoAgility\\Client\\bin directory and run the client.exe file normally.\n\n> [!IMPORTANT]\n> The samples may already be installed on your machine. Check for the following (default) directory before continuing.\n>\n> `<InstallDrive>:\\WF_WCF_Samples`\n>\n> If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.\n>\n> `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Security\\CryptoAgility`\n\n## See also\n\n- [Windows Communication Foundation Security](../feature-details/security.md)","nodes":[{"pos":[4,121],"embed":true,"restype":"x-metadata","content":"title: \"Cryptographic agility in WCF security\"\nms.date: \"03/30/2017\"\nms.assetid: c2c549e5-ac19-40c5-b686-8f67f52b6dbf","nodes":[{"content":"Cryptographic agility in WCF security","nodes":[{"pos":[0,37],"content":"Cryptographic agility in WCF security","nodes":[{"content":"Cryptographic agility in WCF security","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[128,165],"content":"Cryptographic agility in WCF security","linkify":"Cryptographic agility in WCF security","nodes":[{"content":"Cryptographic agility in WCF security","pos":[0,37]}]},{"content":"This sample shows how to specify in a standard/custom algorithm to provide a cryptographic agile implementation in a Windows Communication Foundation (WCF) client and service.","pos":[167,342]},{"content":"The sample is composed of the following projects:","pos":[343,392]},{"pos":[394,405],"content":"<bpt id=\"p1\">**</bpt>Service<ept id=\"p1\">**</ept>","source":"**Service**"},{"content":"This is a self-hosted WCF service that implements the <ph id=\"ph1\">`ICalculator`</ph> interface and secures the endpoint using the <ph id=\"ph2\">&lt;xref:System.ServiceModel.WSHttpBinding&gt;</ph> with secure session and reliable session disabled.","pos":[407,611],"source":"This is a self-hosted WCF service that implements the `ICalculator` interface and secures the endpoint using the <xref:System.ServiceModel.WSHttpBinding> with secure session and reliable session disabled."},{"content":"The service defines a custom <ph id=\"ph1\">`SecurityAlgorithmSuite`</ph> class to specify the cryptographic algorithms to be used for message security.","pos":[612,744],"source":" The service defines a custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security."},{"pos":[746,756],"content":"<bpt id=\"p1\">**</bpt>Client<ept id=\"p1\">**</ept>","source":"**Client**"},{"content":"This is a WCF client that accesses the service after successful authentication.","pos":[758,837]},{"content":"It invokes the operations exposed by the <ph id=\"ph1\">`ICalculator`</ph> interface and implemented by the service.","pos":[838,934],"source":" It invokes the operations exposed by the `ICalculator` interface and implemented by the service."},{"content":"The client also defines the same custom <ph id=\"ph1\">`SecurityAlgorithmSuite`</ph> class to specify the cryptographic algorithms to be used for message security.","pos":[935,1078],"source":" The client also defines the same custom `SecurityAlgorithmSuite` class to specify the cryptographic algorithms to be used for message security."},{"pos":[1083,1101],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"content":"Open the CryptoAgility.sln solution in Visual Studio 2012.","pos":[1106,1164]},{"content":"Press CTRL+SHIFT+B to build the solution.","pos":[1169,1210]},{"pos":[1215,1480],"content":"Open <ph id=\"ph1\">[!INCLUDE[fileExplorer](~/includes/fileexplorer-md.md)]</ph> and navigate to the \\WCF\\Basic\\Security\\CryptoAgility\\Service\\bin directory and run the service.exe file with administrator privileges by right-clicking service.exe and selecting <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept>.","source":"Open [!INCLUDE[fileExplorer](~/includes/fileexplorer-md.md)] and navigate to the \\WCF\\Basic\\Security\\CryptoAgility\\Service\\bin directory and run the service.exe file with administrator privileges by right-clicking service.exe and selecting **Run as administrator**."},{"content":"Navigate to \\WCF\\Basic\\Security\\CryptoAgility\\Client\\bin directory and run the client.exe file normally.","pos":[1485,1589]},{"pos":[1593,1724],"content":"[!IMPORTANT]\nThe samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,129],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1766,2076],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2077,2127]},{"pos":[2202,2210],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2214,2289],"content":"<bpt id=\"p1\">[</bpt>Windows Communication Foundation Security<ept id=\"p1\">](../feature-details/security.md)</ept>","source":"[Windows Communication Foundation Security](../feature-details/security.md)"}]}