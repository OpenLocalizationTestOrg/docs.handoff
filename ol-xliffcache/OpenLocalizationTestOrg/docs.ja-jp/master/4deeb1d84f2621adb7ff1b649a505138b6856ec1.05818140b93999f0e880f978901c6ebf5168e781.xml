{"content":"---\ntitle: \"<tokenReplayDetection>\"\nms.date: \"03/30/2017\"\nms.assetid: ac3f588e-5f75-4275-b969-2d492ecc3b47\nauthor: \"BrucePerlerMS\"\n---\n# \\<tokenReplayDetection>\nEnables token replay detection and specifies the expiration time for tokens.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<tokenReplayDetection>  \n  \n## Syntax  \n  \n```xml  \n<system.identityModel>  \n  <identityConfiguration>  \n    <tokenReplayDetection enabled=xs:boolean expirationPeriod=TimeSpan>  \n    </tokenReplayDetection>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Type  \n <xref:System.IdentityModel.Configuration.TokenReplayDetectionElement>  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|enabled|A value that specifies whether token replay detection is enabled; \"true\" to enable token replay detection.|  \n|expirationPeriod|A <xref:System.TimeSpan> that specifies the maximum amount of time before an item is considered expired and removed from the cache.  For more information about how to specify <xref:System.TimeSpan> values, see [Timespan Values](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md).|  \n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)|Specifies service-level identity settings.|  \n|[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)|Provides configuration for a collection of security token handlers.|  \n  \n## Remarks  \n A `<tokenReplayDetection>` element can be specified at the service level under the `<identityConfiguration>` element or on the security token handler collection level under the `<securityTokenHandlerConfiguration>` element. Settings on a token handler collection override those specified on the service.  \n  \n The type of the token replay cache is specified by the [\\<tokenReplayCache>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaycache.md) element.\n","nodes":[{"pos":[4,130],"embed":true,"restype":"x-metadata","content":"title: \"<tokenReplayDetection>\"\nms.date: \"03/30/2017\"\nms.assetid: ac3f588e-5f75-4275-b969-2d492ecc3b47\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"<tokenReplayDetection>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[137,160],"content":"\\<tokenReplayDetection>","linkify":"\\<tokenReplayDetection>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>tokenReplayDetection&gt;","pos":[0,23],"source":"\\<tokenReplayDetection>"}]},{"content":"Enables token replay detection and specifies the expiration time for tokens.","pos":[161,237]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[244,267],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[270,294],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>tokenReplayDetection&gt;","pos":[297,320],"source":"\\<tokenReplayDetection>"},{"pos":[329,335],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[574,578],"content":"Type","linkify":"Type","nodes":[{"content":"Type","pos":[0,4]}]},{"pos":[660,683],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[687,767]},{"pos":[777,787],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[794,803]},{"content":"Description","pos":[804,815]},{"content":"enabled","pos":[858,865]},{"content":"A value that specifies whether token replay detection is enabled; \"true\" to enable token replay detection.","pos":[866,972]},{"content":"expirationPeriod","pos":[977,993]},{"content":"A <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> that specifies the maximum amount of time before an item is considered expired and removed from the cache.","pos":[994,1125],"source":"A <xref:System.TimeSpan> that specifies the maximum amount of time before an item is considered expired and removed from the cache."},{"content":"For more information about how to specify <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> values, see <bpt id=\"p1\">[</bpt>Timespan Values<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md)</ept>.","pos":[1127,1317],"source":"  For more information about how to specify <xref:System.TimeSpan> values, see [Timespan Values](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md)."},{"pos":[1328,1342],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[1346,1350]},{"pos":[1360,1375],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1382,1389]},{"content":"Description","pos":[1390,1401]},{"pos":[1442,1579],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)</ept>","source":"[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)"},{"content":"Specifies service-level identity settings.","pos":[1580,1622]},{"pos":[1627,1788],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>securityTokenHandlerConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)</ept>","source":"[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)"},{"content":"Provides configuration for a collection of security token handlers.","pos":[1789,1856]},{"pos":[1866,1873],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"A <ph id=\"ph1\">`&lt;tokenReplayDetection&gt;`</ph> element can be specified at the service level under the <ph id=\"ph2\">`&lt;identityConfiguration&gt;`</ph> element or on the security token handler collection level under the <ph id=\"ph3\">`&lt;securityTokenHandlerConfiguration&gt;`</ph> element.","pos":[1877,2100],"source":"A `<tokenReplayDetection>` element can be specified at the service level under the `<identityConfiguration>` element or on the security token handler collection level under the `<securityTokenHandlerConfiguration>` element."},{"content":"Settings on a token handler collection override those specified on the service.","pos":[2101,2180]},{"pos":[2187,2378],"content":"The type of the token replay cache is specified by the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>tokenReplayCache&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaycache.md)</ept> element.","source":"The type of the token replay cache is specified by the [\\<tokenReplayCache>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaycache.md) element."}]}