{"content":"---\ntitle: \"WCF Service Publishing\"\nms.date: \"03/30/2017\"\nms.assetid: c806b253-cd47-4b96-b831-e73cbf08808f\n---\n# WCF Service Publishing\n\nWindows Communication Foundation (WCF) Service Publishing assists you in progressing from the early development environment provided by WCF Service Host and WCF Test Client to actually deploying the application to a production environment for testing purposes. Before you commit to a final deployment plan, you can use Windows Communication Foundation (WCF) Service Publishing to verify that your WCF service performs correctly and is ready to be published. You can also choose to deploy your WCF service libraries to various target locations for testing.\n\n## Supported Services and Target Locations\n\nWCF Service Publishing supports publishing WCF services created from the set of WCF service library templates, and their corresponding item templates, which include the following:\n\n-   WCF Service Library template with item template.\n\n-   Syndication Service Library.\n\nYou can find these service templates by choosing **File** > **New Project** > [**Visual Basic** or **Visual C#**] > **WCF**. For other WCF templates in this location (including WCF Workflow Service Application and WCF Service Application), you can publish using [One-Click publishing for web applications](https://docs.microsoft.com/previous-versions/aspnet/dd465337(v=vs.110)).\n\nThe service can be published to the following target locations.\n\n-   Local IIS.\n\n-   File System.\n\n-   FTP Site.\n\n## Using WCF Service Publishing\n\nPerform the following steps to deploy a service implementation:\n\n1.  Open Visual Studio with elevated privileges (right-click the executable and choose **Run as administrator** to open it).  If you are using IIS 7.0 or later, ensure that you have installed the \"IIS Metabase and IIS6 Configuration Compatibility\" component using \"Turn Windows features on or off\" in Control Panel.\n\n2.  Open a service project, select **Build** > **Publish \\<Project Name>** from the main menu, or right-click the project in **Solution Explorer** and click **Publish**.\n\n3.  The **Publish** window appears. Click the **…**. button to specify the target location that the service should be deployed to. You can select to deploy the application to local IIS, File System, or FTP Site. If deploying the application to local IIS, you can select your website and create your web application under it, by clicking the **Create New Web Application** icon at the top right corner.\n\n4.  After you click **Publish** in the main window, Visual Studio deploys the application to the specified target location and copies the Web.config, .svc, and assembly files to the target directory. . The name of .svc will be \"ProjectName.ServiceName.svc\". After the service is published successfully, you can find a hotlink in the Visual Studio Output window, which looks similar to \"Connecting to `http://localhost/WebApplicationFolderName...`\". You can press CTRL and click the link to open a browser page inside Visual Studio to view the service directory structure.\n\n     If you cannot browse to the site, it may because directory browser is not enabled in IIS. Please follow the tips in the \"Things you can try\" section to enable it. Alternatively, you can directly type `http://localhost/WebApplicationFolderName/ProjectName.ServiceName.svc` to view your service page.\n\nYou can use **Publish** to specify if you want to copy the assembly, configuration, and .svc file for all services defined in the project to the target location, and overwrite existing files at the destination.\n\nIf you choose to deploy your application to local IIS, you may encounter errors related to IIS setup. Please ensure that IIS is installed properly. You can enter `http://localhost` in your browser's address bar and check whether the IIS default page displays. In some cases, the issues may also be caused by improper registration of ASP.NET or WCF in IIS. You can open the Developer Command Prompt for Visual Studio and run the command `aspnet_regiis.exe -ir` to fix ASP.NET registration issues, or run command `ServiceModelReg.exe –ia` to fix WCF registration issues.\n\n## Files Generated for Publishing\n Before a WCF service library can be Web-hosted, the following files are generated by the tool: assembly files, Web.config file, and .svc file. All the files are copied to the target location. The service is then published.\n\n### Assembly files\n When you publish a WCF service using this tool, the service is automatically built first and the assembly files are generated in the service project after building.\n\n### .SVC File\n The publishing operation generates a *.svc file for each WCF service, whether the file exists or not, to ensure version validity. There are two different kinds of svc files: one for WCF Service Library and Syndication Service Library, and another one for Sequential and State Machine Workflow Service Library. The generated \\*.svc file is copied to the root folder in the target location.\n\n### Web.config File\n Each time a service project is published to a specific target location, a Web.config file is created.\n\n The generated Web.config file includes Web sections that are useful for Web hosting, and the content of App.config for the WCF service library with the following changes:\n\n-   The base address is excluded.\n\n-   Settings in the `<diagnostics>` element are excluded to preserve the tracing settings of the target platform.\n\n## Publishing WCF services with non-HTTP Bindings to IIS\n If you are using IIS7.0 or later, you can publish WCF services with non-HTTP bindings to IIS. You need to do some pre-configurations. For more information, please see the topics at  [Hosting in Windows Process Activation Service](../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md).\n\n## Security\n Publishing to local IIS requires administrator privilege, because IIS requires running in Administrator account. If a user without administrator privilege opens WCF Service Publishing, IIS is not available as a target location. Publishing to File System, or FTP Site works without administrator privilege.\n\n## See also\n\n- [WCF Visual Studio Templates](../../../docs/framework/wcf/wcf-vs-templates.md)\n- [WCF Service Host (WcfSvcHost.exe)](../../../docs/framework/wcf/wcf-service-host-wcfsvchost-exe.md)\n- [WCF Test Client (WcfTestClient.exe)](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)","nodes":[{"pos":[4,106],"embed":true,"restype":"x-metadata","content":"title: \"WCF Service Publishing\"\nms.date: \"03/30/2017\"\nms.assetid: c806b253-cd47-4b96-b831-e73cbf08808f","nodes":[{"content":"WCF Service Publishing","nodes":[{"pos":[0,22],"content":"WCF Service Publishing","nodes":[{"content":"WCF Service Publishing","pos":[0,22]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[113,135],"content":"WCF Service Publishing","linkify":"WCF Service Publishing","nodes":[{"content":"WCF Service Publishing","pos":[0,22]}]},{"content":"Windows Communication Foundation (WCF) Service Publishing assists you in progressing from the early development environment provided by WCF Service Host and WCF Test Client to actually deploying the application to a production environment for testing purposes.","pos":[137,397]},{"content":"Before you commit to a final deployment plan, you can use Windows Communication Foundation (WCF) Service Publishing to verify that your WCF service performs correctly and is ready to be published.","pos":[398,594]},{"content":"You can also choose to deploy your WCF service libraries to various target locations for testing.","pos":[595,692]},{"pos":[697,736],"content":"Supported Services and Target Locations","linkify":"Supported Services and Target Locations","nodes":[{"content":"Supported Services and Target Locations","pos":[0,39]}]},{"content":"WCF Service Publishing supports publishing WCF services created from the set of WCF service library templates, and their corresponding item templates, which include the following:","pos":[738,917]},{"content":"WCF Service Library template with item template.","pos":[923,971]},{"content":"Syndication Service Library.","pos":[977,1005]},{"content":"You can find these service templates by choosing <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>New Project<ept id=\"p2\">**</ept> &gt; [<bpt id=\"p3\">**</bpt>Visual Basic<ept id=\"p3\">**</ept> or <bpt id=\"p4\">**</bpt>Visual C#<ept id=\"p4\">**</ept>] &gt; <bpt id=\"p5\">**</bpt>WCF<ept id=\"p5\">**</ept>.","pos":[1007,1131],"source":"You can find these service templates by choosing **File** > **New Project** > [**Visual Basic** or **Visual C#**] > **WCF**."},{"content":"For other WCF templates in this location (including WCF Workflow Service Application and WCF Service Application), you can publish using <bpt id=\"p1\">[</bpt>One-Click publishing for web applications<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/aspnet/dd465337(v=vs.110))</ept>.","pos":[1132,1385],"source":" For other WCF templates in this location (including WCF Workflow Service Application and WCF Service Application), you can publish using [One-Click publishing for web applications](https://docs.microsoft.com/previous-versions/aspnet/dd465337(v=vs.110))."},{"content":"The service can be published to the following target locations.","pos":[1387,1450]},{"content":"Local IIS.","pos":[1456,1466]},{"content":"File System.","pos":[1472,1484]},{"content":"FTP Site.","pos":[1490,1499]},{"pos":[1504,1532],"content":"Using WCF Service Publishing","linkify":"Using WCF Service Publishing","nodes":[{"content":"Using WCF Service Publishing","pos":[0,28]}]},{"content":"Perform the following steps to deploy a service implementation:","pos":[1534,1597]},{"content":"Open Visual Studio with elevated privileges (right-click the executable and choose <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept> to open it).","pos":[1603,1723],"source":"Open Visual Studio with elevated privileges (right-click the executable and choose **Run as administrator** to open it)."},{"content":"If you are using IIS 7.0 or later, ensure that you have installed the \"IIS Metabase and IIS6 Configuration Compatibility\" component using \"Turn Windows features on or off\" in Control Panel.","pos":[1725,1914]},{"pos":[1920,2085],"content":"Open a service project, select <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Publish <ph id=\"ph2\">\\&lt;</ph>Project Name&gt;<ept id=\"p2\">**</ept> from the main menu, or right-click the project in <bpt id=\"p3\">**</bpt>Solution Explorer<ept id=\"p3\">**</ept> and click <bpt id=\"p4\">**</bpt>Publish<ept id=\"p4\">**</ept>.","source":"Open a service project, select **Build** > **Publish \\<Project Name>** from the main menu, or right-click the project in **Solution Explorer** and click **Publish**."},{"content":"The <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> window appears.","pos":[2091,2122],"source":"The **Publish** window appears."},{"content":"Click the <bpt id=\"p1\">**</bpt>…<ept id=\"p1\">**</ept>.","pos":[2123,2139],"source":" Click the **…**."},{"content":"button to specify the target location that the service should be deployed to.","pos":[2140,2217]},{"content":"You can select to deploy the application to local IIS, File System, or FTP Site.","pos":[2218,2298]},{"content":"If deploying the application to local IIS, you can select your website and create your web application under it, by clicking the <bpt id=\"p1\">**</bpt>Create New Web Application<ept id=\"p1\">**</ept> icon at the top right corner.","pos":[2299,2488],"source":" If deploying the application to local IIS, you can select your website and create your web application under it, by clicking the **Create New Web Application** icon at the top right corner."},{"content":"After you click <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> in the main window, Visual Studio deploys the application to the specified target location and copies the Web.config, .svc, and assembly files to the target directory.","pos":[2494,2689],"source":"After you click **Publish** in the main window, Visual Studio deploys the application to the specified target location and copies the Web.config, .svc, and assembly files to the target directory."},{"content":".","pos":[2690,2691]},{"content":"The name of .svc will be \"ProjectName.ServiceName.svc\".","pos":[2692,2747]},{"content":"After the service is published successfully, you can find a hotlink in the Visual Studio Output window, which looks similar to \"Connecting to <ph id=\"ph1\">`http://localhost/WebApplicationFolderName...`</ph>\".","pos":[2748,2938],"source":" After the service is published successfully, you can find a hotlink in the Visual Studio Output window, which looks similar to \"Connecting to `http://localhost/WebApplicationFolderName...`\"."},{"content":"You can press CTRL and click the link to open a browser page inside Visual Studio to view the service directory structure.","pos":[2939,3061]},{"content":"If you cannot browse to the site, it may because directory browser is not enabled in IIS.","pos":[3068,3157]},{"content":"Please follow the tips in the \"Things you can try\" section to enable it.","pos":[3158,3230]},{"content":"Alternatively, you can directly type <ph id=\"ph1\">`http://localhost/WebApplicationFolderName/ProjectName.ServiceName.svc`</ph> to view your service page.","pos":[3231,3366],"source":" Alternatively, you can directly type `http://localhost/WebApplicationFolderName/ProjectName.ServiceName.svc` to view your service page."},{"pos":[3368,3578],"content":"You can use <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> to specify if you want to copy the assembly, configuration, and .svc file for all services defined in the project to the target location, and overwrite existing files at the destination.","source":"You can use **Publish** to specify if you want to copy the assembly, configuration, and .svc file for all services defined in the project to the target location, and overwrite existing files at the destination."},{"content":"If you choose to deploy your application to local IIS, you may encounter errors related to IIS setup.","pos":[3580,3681]},{"content":"Please ensure that IIS is installed properly.","pos":[3682,3727]},{"content":"You can enter <ph id=\"ph1\">`http://localhost`</ph> in your browser's address bar and check whether the IIS default page displays.","pos":[3728,3839],"source":" You can enter `http://localhost` in your browser's address bar and check whether the IIS default page displays."},{"content":"In some cases, the issues may also be caused by improper registration of ASP.NET or WCF in IIS.","pos":[3840,3935]},{"content":"You can open the Developer Command Prompt for Visual Studio and run the command <ph id=\"ph1\">`aspnet_regiis.exe -ir`</ph> to fix ASP.NET registration issues, or run command <ph id=\"ph2\">`ServiceModelReg.exe –ia`</ph> to fix WCF registration issues.","pos":[3936,4148],"source":" You can open the Developer Command Prompt for Visual Studio and run the command `aspnet_regiis.exe -ir` to fix ASP.NET registration issues, or run command `ServiceModelReg.exe –ia` to fix WCF registration issues."},{"pos":[4153,4183],"content":"Files Generated for Publishing","linkify":"Files Generated for Publishing","nodes":[{"content":"Files Generated for Publishing","pos":[0,30]}]},{"content":"Before a WCF service library can be Web-hosted, the following files are generated by the tool: assembly files, Web.config file, and .svc file.","pos":[4185,4327]},{"content":"All the files are copied to the target location.","pos":[4328,4376]},{"content":"The service is then published.","pos":[4377,4407]},{"pos":[4413,4427],"content":"Assembly files","linkify":"Assembly files","nodes":[{"content":"Assembly files","pos":[0,14]}]},{"content":"When you publish a WCF service using this tool, the service is automatically built first and the assembly files are generated in the service project after building.","pos":[4429,4593]},{"pos":[4599,4608],"content":".SVC File","linkify":".SVC File","nodes":[{"content":".SVC File","pos":[0,9]}]},{"content":"The publishing operation generates a *.svc file for each WCF service, whether the file exists or not, to ensure version validity.","pos":[4610,4739]},{"content":"There are two different kinds of svc files: one for WCF Service Library and Syndication Service Library, and another one for Sequential and State Machine Workflow Service Library.","pos":[4740,4919]},{"content":"The generated <ph id=\"ph1\">\\*</ph>.svc file is copied to the root folder in the target location.","pos":[4920,4998],"source":" The generated \\*.svc file is copied to the root folder in the target location."},{"pos":[5004,5019],"content":"Web.config File","linkify":"Web.config File","nodes":[{"content":"Web.config File","pos":[0,15]}]},{"content":"Each time a service project is published to a specific target location, a Web.config file is created.","pos":[5021,5122]},{"content":"The generated Web.config file includes Web sections that are useful for Web hosting, and the content of App.config for the WCF service library with the following changes:","pos":[5125,5295]},{"content":"The base address is excluded.","pos":[5301,5330]},{"pos":[5336,5445],"content":"Settings in the <ph id=\"ph1\">`&lt;diagnostics&gt;`</ph> element are excluded to preserve the tracing settings of the target platform.","source":"Settings in the `<diagnostics>` element are excluded to preserve the tracing settings of the target platform."},{"pos":[5450,5503],"content":"Publishing WCF services with non-HTTP Bindings to IIS","linkify":"Publishing WCF services with non-HTTP Bindings to IIS","nodes":[{"content":"Publishing WCF services with non-HTTP Bindings to IIS","pos":[0,53]}]},{"content":"If you are using IIS7.0 or later, you can publish WCF services with non-HTTP bindings to IIS.","pos":[5505,5598]},{"content":"You need to do some pre-configurations.","pos":[5599,5638]},{"content":"For more information, please see the topics at  <bpt id=\"p1\">[</bpt>Hosting in Windows Process Activation Service<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md)</ept>.","pos":[5639,5829],"source":" For more information, please see the topics at  [Hosting in Windows Process Activation Service](../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md)."},{"pos":[5834,5842],"content":"Security","linkify":"Security","nodes":[{"content":"Security","pos":[0,8]}]},{"content":"Publishing to local IIS requires administrator privilege, because IIS requires running in Administrator account.","pos":[5844,5956]},{"content":"If a user without administrator privilege opens WCF Service Publishing, IIS is not available as a target location.","pos":[5957,6071]},{"content":"Publishing to File System, or FTP Site works without administrator privilege.","pos":[6072,6149]},{"pos":[6154,6162],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6166,6244],"content":"<bpt id=\"p1\">[</bpt>WCF Visual Studio Templates<ept id=\"p1\">](../../../docs/framework/wcf/wcf-vs-templates.md)</ept>","source":"[WCF Visual Studio Templates](../../../docs/framework/wcf/wcf-vs-templates.md)"},{"pos":[6247,6346],"content":"<bpt id=\"p1\">[</bpt>WCF Service Host (WcfSvcHost.exe)<ept id=\"p1\">](../../../docs/framework/wcf/wcf-service-host-wcfsvchost-exe.md)</ept>","source":"[WCF Service Host (WcfSvcHost.exe)](../../../docs/framework/wcf/wcf-service-host-wcfsvchost-exe.md)"},{"pos":[6349,6452],"content":"<bpt id=\"p1\">[</bpt>WCF Test Client (WcfTestClient.exe)<ept id=\"p1\">](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)</ept>","source":"[WCF Test Client (WcfTestClient.exe)](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)"}]}