{"content":"---\ntitle: \"How to: Call Model-Defined Functions in Queries | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6c804e4d-f348-4afd-9f63-d3f0f24bc6a9\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# How to: Call Model-Defined Functions in Queries\nThis topic describes how to call functions that are defined in the conceptual model from within [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] queries.  \n  \n The procedure below provides a high-level outline for calling a model-defined function from within a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query. The example that follows provides more detail about the steps in the procedure. The procedure assumes that you have defined a function in the conceptual model. For more information, see [How to: Define Custom Functions in the Conceptual Model](http://msdn.microsoft.com/en-us/0dad7b8b-58f6-4271-b238-f34810d68e5f).  \n  \n### To call a function defined in the conceptual model  \n  \n1.  Add a common language runtime (CLR) method to your application that maps to the function defined in the conceptual model. To map the method, you must apply an <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute> to the method. Note that the <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute.NamespaceName%2A> and <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute.FunctionName%2A> parameters of the attribute are the namespace name of the conceptual model and the function name in the conceptual model respectively. Function name resolution for LINQ is case sensitive.  \n  \n2.  Call the function in a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query.  \n  \n## Example  \n The following example demonstrates how to call a function that is defined in the conceptual model from within a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query. The example uses the School model. For information about the School model, see [Creating the School Sample Database](http://msdn.microsoft.com/en-us/c1bec483-a0ea-4660-aa0b-7b0a8b68fed0) and [Generating the School .edmx File](http://msdn.microsoft.com/en-us/c48b3907-a8be-4fe6-884c-e95af1852758).  \n  \n The following conceptual model function returns the number of years since an instructor was hired. For information about adding the function to a conceptual model, see [How to: Define Custom Functions in the Conceptual Model](http://msdn.microsoft.com/en-us/0dad7b8b-58f6-4271-b238-f34810d68e5f).)  \n  \n [!code-xml[DP ConceptualModelFunctions#1](../../../../../../samples/snippets/xml/VS_Snippets_Data/dp conceptualmodelfunctions/xml/school.edmx#1)]\n  \n## Example  \n Next, add the following method to your application and use an <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute> to map it to the conceptual model function:  \n  \n [!code-csharp[DP ConceptualModelFunctions#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp conceptualmodelfunctions/cs/program.cs#2)]\n [!code-vb[DP ConceptualModelFunctions#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/dp conceptualmodelfunctions/vb/module1.vb#2)]  \n  \n## Example  \n Now you can call the conceptual model function from within a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query. The following code calls the method to display all instructors that were hired more than ten years ago:  \n  \n [!code-csharp[DP ConceptualModelFunctions#3](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp conceptualmodelfunctions/cs/program.cs#3)]\n [!code-vb[DP ConceptualModelFunctions#3](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/dp conceptualmodelfunctions/vb/module1.vb#3)]  \n  \n## See Also  \n [.edmx File Overview](http://msdn.microsoft.com/en-us/f4c8e7ce-1db6-417e-9759-15f8b55155d4)   \n [Queries in LINQ to Entities](../../../../../../docs/framework/data/adonet/ef/language-reference/queries-in-linq-to-entities.md)   \n [Calling Functions in LINQ to Entities Queries](../../../../../../docs/framework/data/adonet/ef/language-reference/calling-functions-in-linq-to-entities-queries.md)   \n [How to: Call Model-Defined Functions as Object Methods](../../../../../../docs/framework/data/adonet/ef/language-reference/how-to-call-model-defined-functions-as-object-methods.md)","nodes":[{"pos":[4,378],"nodes":[{"content":"How to: Call Model-Defined Functions in Queries | Microsoft Docs","nodes":[{"pos":[0,64],"content":"How to: Call Model-Defined Functions in Queries | Microsoft Docs","nodes":[{"content":"How to: Call Model-Defined Functions in Queries | Microsoft Docs","pos":[0,64]}]}],"pos":[6,73],"yaml":true}],"content":"title: \"How to: Call Model-Defined Functions in Queries | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6c804e4d-f348-4afd-9f63-d3f0f24bc6a9\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[385,432],"content":"How to: Call Model-Defined Functions in Queries","linkify":"How to: Call Model-Defined Functions in Queries","nodes":[{"content":"How to: Call Model-Defined Functions in Queries","pos":[0,47]}]},{"pos":[433,611],"content":"This topic describes how to call functions that are defined in the conceptual model from within <ph id=\"ph1\">[!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)]</ph> queries.","source":"This topic describes how to call functions that are defined in the conceptual model from within [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] queries."},{"content":"The procedure below provides a high-level outline for calling a model-defined function from within a <ph id=\"ph1\">[!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)]</ph> query.","pos":[618,799],"source":"The procedure below provides a high-level outline for calling a model-defined function from within a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query."},{"content":"The example that follows provides more detail about the steps in the procedure.","pos":[800,879]},{"content":"The procedure assumes that you have defined a function in the conceptual model.","pos":[880,959]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Define Custom Functions in the Conceptual Model<ept id=\"p1\">](http://msdn.microsoft.com/en-us/0dad7b8b-58f6-4271-b238-f34810d68e5f)</ept>.","pos":[960,1114],"source":" For more information, see [How to: Define Custom Functions in the Conceptual Model](http://msdn.microsoft.com/en-us/0dad7b8b-58f6-4271-b238-f34810d68e5f)."},{"pos":[1124,1174],"content":"To call a function defined in the conceptual model","linkify":"To call a function defined in the conceptual model","nodes":[{"content":"To call a function defined in the conceptual model","pos":[0,50]}]},{"content":"Add a common language runtime (CLR) method to your application that maps to the function defined in the conceptual model.","pos":[1184,1305]},{"content":"To map the method, you must apply an <ph id=\"ph1\">&lt;xref:System.Data.Objects.DataClasses.EdmFunctionAttribute&gt;</ph> to the method.","pos":[1306,1417],"source":" To map the method, you must apply an <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute> to the method."},{"content":"Note that the <ph id=\"ph1\">&lt;xref:System.Data.Objects.DataClasses.EdmFunctionAttribute.NamespaceName%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Data.Objects.DataClasses.EdmFunctionAttribute.FunctionName%2A&gt;</ph> parameters of the attribute are the namespace name of the conceptual model and the function name in the conceptual model respectively.","pos":[1418,1723],"source":" Note that the <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute.NamespaceName%2A> and <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute.FunctionName%2A> parameters of the attribute are the namespace name of the conceptual model and the function name in the conceptual model respectively."},{"content":"Function name resolution for LINQ is case sensitive.","pos":[1724,1776]},{"pos":[1786,1889],"content":"Call the function in a <ph id=\"ph1\">[!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)]</ph> query.","source":"Call the function in a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query."},{"pos":[1898,1905],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to call a function that is defined in the conceptual model from within a <ph id=\"ph1\">[!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)]</ph> query.","pos":[1909,2101],"source":"The following example demonstrates how to call a function that is defined in the conceptual model from within a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query."},{"content":"The example uses the School model.","pos":[2102,2136]},{"content":"For information about the School model, see <bpt id=\"p1\">[</bpt>Creating the School Sample Database<ept id=\"p1\">](http://msdn.microsoft.com/en-us/c1bec483-a0ea-4660-aa0b-7b0a8b68fed0)</ept> and <bpt id=\"p2\">[</bpt>Generating the School .edmx File<ept id=\"p2\">](http://msdn.microsoft.com/en-us/c48b3907-a8be-4fe6-884c-e95af1852758)</ept>.","pos":[2137,2398],"source":" For information about the School model, see [Creating the School Sample Database](http://msdn.microsoft.com/en-us/c1bec483-a0ea-4660-aa0b-7b0a8b68fed0) and [Generating the School .edmx File](http://msdn.microsoft.com/en-us/c48b3907-a8be-4fe6-884c-e95af1852758)."},{"content":"The following conceptual model function returns the number of years since an instructor was hired.","pos":[2405,2503]},{"content":"For information about adding the function to a conceptual model, see <bpt id=\"p1\">[</bpt>How to: Define Custom Functions in the Conceptual Model<ept id=\"p1\">](http://msdn.microsoft.com/en-us/0dad7b8b-58f6-4271-b238-f34810d68e5f)</ept>.)","pos":[2504,2702],"source":" For information about adding the function to a conceptual model, see [How to: Define Custom Functions in the Conceptual Model](http://msdn.microsoft.com/en-us/0dad7b8b-58f6-4271-b238-f34810d68e5f).)"},{"pos":[2709,2854],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>DP ConceptualModelFunctions#1<ept id=\"p2\">](../../../../../../samples/snippets/xml/VS_Snippets_Data/dp conceptualmodelfunctions/xml/school.edmx#1)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[DP ConceptualModelFunctions#1](../../../../../../samples/snippets/xml/VS_Snippets_Data/dp conceptualmodelfunctions/xml/school.edmx#1)]"},{"pos":[2861,2868],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"Next, add the following method to your application and use an <ph id=\"ph1\">&lt;xref:System.Data.Objects.DataClasses.EdmFunctionAttribute&gt;</ph> to map it to the conceptual model function:","pos":[2872,3037],"source":"Next, add the following method to your application and use an <xref:System.Data.Objects.DataClasses.EdmFunctionAttribute> to map it to the conceptual model function:"},{"pos":[3044,3345],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP ConceptualModelFunctions#2<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp conceptualmodelfunctions/cs/program.cs#2)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP ConceptualModelFunctions#2<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/dp conceptualmodelfunctions/vb/module1.vb#2)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP ConceptualModelFunctions#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp conceptualmodelfunctions/cs/program.cs#2)]\n [!code-vb[DP ConceptualModelFunctions#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/dp conceptualmodelfunctions/vb/module1.vb#2)]"},{"pos":[3354,3361],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"Now you can call the conceptual model function from within a <ph id=\"ph1\">[!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)]</ph> query.","pos":[3365,3506],"source":"Now you can call the conceptual model function from within a [!INCLUDE[linq_entities](../../../../../../includes/linq-entities-md.md)] query."},{"content":"The following code calls the method to display all instructors that were hired more than ten years ago:","pos":[3507,3610]},{"pos":[3617,3918],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP ConceptualModelFunctions#3<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp conceptualmodelfunctions/cs/program.cs#3)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>DP ConceptualModelFunctions#3<ept id=\"p4\">](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/dp conceptualmodelfunctions/vb/module1.vb#3)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[DP ConceptualModelFunctions#3](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp conceptualmodelfunctions/cs/program.cs#3)]\n [!code-vb[DP ConceptualModelFunctions#3](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/dp conceptualmodelfunctions/vb/module1.vb#3)]"},{"pos":[3927,3935],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>.edmx File Overview<ept id=\"p1\">](http://msdn.microsoft.com/en-us/f4c8e7ce-1db6-417e-9759-15f8b55155d4)</ept><ph id=\"ph1\"> </ph>","pos":[3939,4031],"source":"[.edmx File Overview](http://msdn.microsoft.com/en-us/f4c8e7ce-1db6-417e-9759-15f8b55155d4) "},{"content":"<bpt id=\"p1\">[</bpt>Queries in LINQ to Entities<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/queries-in-linq-to-entities.md)</ept><ph id=\"ph1\"> </ph>","pos":[4035,4164],"source":"[Queries in LINQ to Entities](../../../../../../docs/framework/data/adonet/ef/language-reference/queries-in-linq-to-entities.md) "},{"content":"<bpt id=\"p1\">[</bpt>Calling Functions in LINQ to Entities Queries<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/calling-functions-in-linq-to-entities-queries.md)</ept><ph id=\"ph1\"> </ph>","pos":[4168,4333],"source":"[Calling Functions in LINQ to Entities Queries](../../../../../../docs/framework/data/adonet/ef/language-reference/calling-functions-in-linq-to-entities-queries.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Call Model-Defined Functions as Object Methods<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/how-to-call-model-defined-functions-as-object-methods.md)</ept>","pos":[4337,4518],"source":"[How to: Call Model-Defined Functions as Object Methods](../../../../../../docs/framework/data/adonet/ef/language-reference/how-to-call-model-defined-functions-as-object-methods.md)"}]}