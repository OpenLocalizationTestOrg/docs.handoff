{"content":"---\ntitle: \"Property Animation Techniques Overview\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords: \n  - \"animation [WPF], properties [WPF], methods for\"\n  - \"properties [WPF], methods for animating\"\nms.assetid: 74f61413-f8c0-4e75-bf04-951886426c8b\n---\n# Property Animation Techniques Overview\nThis topic describes the different approaches for animating properties: storyboards, local animations, clocks, and per-frame animations.  \n  \n<a name=\"prerequisites\"></a>   \n## Prerequisites  \n To understand this topic, you should be familiar with the basic animation features described in the [Animation Overview](animation-overview.md).  \n  \n<a name=\"summary\"></a>   \n## Different Ways to Animate  \n Because there are many different scenarios for animating properties, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides several approaches for animating properties.  \n  \n For each approach, the following table indicates whether it can be used per-instance, in styles, in control templates, or in data templates; whether it can be used in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]; and whether the approach enables you to interactively control the animation.  \"Per-Instance\" refers to the technique of applying an animation or storyboard directly to instances of an object, rather than in a style, control template, or data template.  \n  \n|Animation technique|Scenarios|Supports XAML|Interactively controllable|  \n|-------------------------|---------------|-------------------|--------------------------------|  \n|Storyboard animation|Per-instance, <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, <xref:System.Windows.DataTemplate>|Yes|Yes|  \n|Local animation|Per-instance|No|No|  \n|Clock animation|Per-instance|No|Yes|  \n|Per-frame animation|Per-instance|No|N/A|  \n  \n<a name=\"storyboard_animations\"></a>   \n## Storyboard Animations  \n Use a <xref:System.Windows.Media.Animation.Storyboard> when you want to define and apply your animations in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], interactively control your animations after they start, create a complex tree of animations, or animate in a <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate> or <xref:System.Windows.DataTemplate>. For an object to be animated by a <xref:System.Windows.Media.Animation.Storyboard>, it must be a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>, or it must be used to set a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>. For more details, see the [Storyboards Overview](storyboards-overview.md).  \n  \n A <xref:System.Windows.Media.Animation.Storyboard> is a special type of container <xref:System.Windows.Media.Animation.Timeline> that provides targeting information for the animations it contains. To animate with a <xref:System.Windows.Media.Animation.Storyboard>, you complete the following three steps.  \n  \n1.  Declare a <xref:System.Windows.Media.Animation.Storyboard> and one or more animations.  \n  \n2.  Use the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> and <xref:System.Windows.Media.Animation.Storyboard.TargetProperty> attached properties to specify the target object and property of each animation.  \n  \n3.  (Code only) Define a <xref:System.Windows.NameScope> for a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>. Register the names of the objects to animate with that <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.  \n  \n4.  Begin the <xref:System.Windows.Media.Animation.Storyboard>.  \n  \n Beginning a <xref:System.Windows.Media.Animation.Storyboard> applies animations to the properties they animate and starts them. There are two ways to begin a <xref:System.Windows.Media.Animation.Storyboard>: you can use the <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method provided by the <xref:System.Windows.Media.Animation.Storyboard> class, or you can use a <xref:System.Windows.Media.Animation.BeginStoryboard> action. The only way to animate in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is to use a <xref:System.Windows.Media.Animation.BeginStoryboard> action. A <xref:System.Windows.Media.Animation.BeginStoryboard> action can be used in an <xref:System.Windows.EventTrigger>, property <xref:System.Windows.Trigger>, or a <xref:System.Windows.DataTrigger>.  \n  \n The following table shows the different places where each <xref:System.Windows.Media.Animation.Storyboard> begin technique is supported: per-instance, style, control template, and data template.  \n  \n|Storyboard is begun using…|Per-instance|Style|Control template|Data template|Example|  \n|--------------------------------|-------------------|-----------|----------------------|-------------------|-------------|  \n|<xref:System.Windows.Media.Animation.BeginStoryboard> and an <xref:System.Windows.EventTrigger>|Yes|Yes|Yes|Yes|[Animate a Property by Using a Storyboard](how-to-animate-a-property-by-using-a-storyboard.md)|  \n|<xref:System.Windows.Media.Animation.BeginStoryboard> and a property <xref:System.Windows.Trigger>|No|Yes|Yes|Yes|[Trigger an Animation When a Property Value Changes](how-to-trigger-an-animation-when-a-property-value-changes.md)|  \n|<xref:System.Windows.Media.Animation.BeginStoryboard> and a <xref:System.Windows.DataTrigger>|No|Yes|Yes|Yes|[How to: Trigger an Animation When Data Changes](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa970679(v=vs.90))|  \n|<xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method|Yes|No|No|No|[Animate a Property by Using a Storyboard](how-to-animate-a-property-by-using-a-storyboard.md)|  \n  \n For more information about <xref:System.Windows.Media.Animation.Storyboard> objects, see the [Storyboards Overview](storyboards-overview.md).  \n  \n## Local Animations  \n Local animations provide a convenient way to animate a dependency property of any <xref:System.Windows.Media.Animation.Animatable> object. Use local animations when you want to apply a single animation to a property and you don't need to interactively control the animation after it starts. Unlike a <xref:System.Windows.Media.Animation.Storyboard> animation, a local animation can animate an object that isn't associated with a <xref:System.Windows.FrameworkElement> or a <xref:System.Windows.FrameworkContentElement>. You also don't have to define a <xref:System.Windows.NameScope> for this type of animation.  \n  \n Local animations may only be used in code, and cannot be defined in styles, control templates, or data templates. A local animation cannot be interactively controlled after it is started.  \n  \n To animate using a local animation, complete the following steps.  \n  \n1.  Create an <xref:System.Windows.Media.Animation.AnimationTimeline> object.  \n  \n2.  Use the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationTimeline> to the property that you specify.  \n  \n The following example shows how to animate the width and background color of a <xref:System.Windows.Controls.Button>.  \n  \n [!code-cpp[animateproperty#11](~/samples/snippets/cpp/VS_Snippets_Wpf/animateproperty/CPP/LocalAnimationExample.cpp#11)]\n [!code-csharp[animateproperty#11](~/samples/snippets/csharp/VS_Snippets_Wpf/animateproperty/CSharp/LocalAnimationExample.cs#11)]\n [!code-vb[animateproperty#11](~/samples/snippets/visualbasic/VS_Snippets_Wpf/animateproperty/VisualBasic/LocalAnimationExample.vb#11)]  \n  \n## Clock Animations  \n Use <xref:System.Windows.Media.MediaPlayer.Clock%2A> objects when you want to animate without using a <xref:System.Windows.Media.Animation.Storyboard> and you want to create complex timing trees or interactively control animations after they start. You can use Clock objects to animate a dependency property of any <xref:System.Windows.Media.Animation.Animatable> object.  \n  \n You cannot use <xref:System.Windows.Media.Animation.Clock> objects directly to animate in styles, control templates, or data templates. (The animation and timing system actually does use <xref:System.Windows.Media.Animation.Clock> objects to animate in styles, control templates, and data templates, but it must create those <xref:System.Windows.Media.Animation.Clock> objects for you from a <xref:System.Windows.Media.Animation.Storyboard>. For more information about the relationship between <xref:System.Windows.Media.Animation.Storyboard> objects and <xref:System.Windows.Media.Animation.Clock> objects, see the [Animation and Timing System Overview](animation-and-timing-system-overview.md).)  \n  \n To apply a single <xref:System.Windows.Media.Animation.Clock> to a property, you complete the following steps.  \n  \n1.  Create an <xref:System.Windows.Media.Animation.AnimationTimeline> object.  \n  \n2.  Use the <xref:System.Windows.Media.Animation.AnimationTimeline.CreateClock%2A> method of the <xref:System.Windows.Media.Animation.AnimationTimeline> to create an <xref:System.Windows.Media.Animation.AnimationClock>.  \n  \n3.  Use the <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationClock> to the property you specify.  \n  \n The following example shows how to create an <xref:System.Windows.Media.Animation.AnimationClock> and apply it to two similar properties.  \n  \n [!code-csharp[timingbehaviors_procedural_snip#GraphicsMMCreateAnimationClockWholeClass](~/samples/snippets/csharp/VS_Snippets_Wpf/timingbehaviors_procedural_snip/CSharp/AnimationClockExample.cs#graphicsmmcreateanimationclockwholeclass)]\n [!code-vb[timingbehaviors_procedural_snip#GraphicsMMCreateAnimationClockWholeClass](~/samples/snippets/visualbasic/VS_Snippets_Wpf/timingbehaviors_procedural_snip/visualbasic/animationclockexample.vb#graphicsmmcreateanimationclockwholeclass)]  \n  \n To create a timing tree and use it animate properties, you complete the following steps.  \n  \n1.  Use <xref:System.Windows.Media.Animation.ParallelTimeline> and <xref:System.Windows.Media.Animation.AnimationTimeline> objects to create the timing tree.  \n  \n2.  Use the <xref:System.Windows.Media.Animation.TimelineGroup.CreateClock%2A> of the root <xref:System.Windows.Media.Animation.ParallelTimeline> to create a <xref:System.Windows.Media.Animation.ClockGroup>.  \n  \n3.  Iterate through the <xref:System.Windows.Media.Animation.ClockGroup.Children%2A> of the <xref:System.Windows.Media.Animation.ClockGroup> and apply its child <xref:System.Windows.Media.Animation.Clock> objects. For each <xref:System.Windows.Media.Animation.AnimationClock> child, use the <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationClock> to the property you specify  \n  \n For more information about Clock objects, see the [Animation and Timing System Overview](animation-and-timing-system-overview.md).  \n  \n## Per-Frame Animation: Bypass the Animation and Timing System  \n Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system. One scenario for this approach is physics animations, where each step in the animation requires objects to be recomputed based on the last set of object interactions.  \n  \n Per-frame animations cannot be defined inside styles, control templates, or data templates.  \n  \n To animate frame-by-frame, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate. This event handler method gets called once per frame. Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.  \n  \n In your event handler, perform whatever calculations are necessary for your animation effect and set the properties of the objects you want to animate with these values.  \n  \n To obtain the presentation time for the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time.  \n  \n For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page.  \n  \n## See also\n\n- [Animation Overview](animation-overview.md)\n- [Storyboards Overview](storyboards-overview.md)\n- [Animation and Timing System Overview](animation-and-timing-system-overview.md)\n- [Dependency Properties Overview](../advanced/dependency-properties-overview.md)\n","nodes":[{"pos":[4,287],"embed":true,"restype":"x-metadata","content":"title: \"Property Animation Techniques Overview\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords: \n  - \"animation [WPF], properties [WPF], methods for\"\n  - \"properties [WPF], methods for animating\"\nms.assetid: 74f61413-f8c0-4e75-bf04-951886426c8b","nodes":[{"content":"Property Animation Techniques Overview","nodes":[{"pos":[0,38],"content":"Property Animation Techniques Overview","nodes":[{"content":"Property Animation Techniques Overview","pos":[0,38]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[294,332],"content":"Property Animation Techniques Overview","linkify":"Property Animation Techniques Overview","nodes":[{"content":"Property Animation Techniques Overview","pos":[0,38]}]},{"content":"This topic describes the different approaches for animating properties: storyboards, local animations, clocks, and per-frame animations.","pos":[333,469]},{"pos":[510,523],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"pos":[527,671],"content":"To understand this topic, you should be familiar with the basic animation features described in the <bpt id=\"p1\">[</bpt>Animation Overview<ept id=\"p1\">](animation-overview.md)</ept>.","source":"To understand this topic, you should be familiar with the basic animation features described in the [Animation Overview](animation-overview.md)."},{"pos":[706,731],"content":"Different Ways to Animate","linkify":"Different Ways to Animate","nodes":[{"content":"Different Ways to Animate","pos":[0,25]}]},{"pos":[735,939],"content":"Because there are many different scenarios for animating properties, <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> provides several approaches for animating properties.","source":"Because there are many different scenarios for animating properties, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides several approaches for animating properties."},{"content":"For each approach, the following table indicates whether it can be used per-instance, in styles, in control templates, or in data templates; whether it can be used in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph>; and whether the approach enables you to interactively control the animation.","pos":[946,1262],"source":"For each approach, the following table indicates whether it can be used per-instance, in styles, in control templates, or in data templates; whether it can be used in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]; and whether the approach enables you to interactively control the animation."},{"content":"\"Per-Instance\" refers to the technique of applying an animation or storyboard directly to instances of an object, rather than in a style, control template, or data template.","pos":[1264,1437]},{"content":"Animation technique","pos":[1444,1463]},{"content":"Scenarios","pos":[1464,1473]},{"content":"Supports XAML","pos":[1474,1487]},{"content":"Interactively controllable","pos":[1488,1514]},{"content":"Storyboard animation","pos":[1618,1638]},{"pos":[1639,1764],"content":"Per-instance, <ph id=\"ph1\">&lt;xref:System.Windows.Style&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ControlTemplate&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Windows.DataTemplate&gt;</ph>","source":"Per-instance, <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, <xref:System.Windows.DataTemplate>"},{"content":"Yes","pos":[1765,1768]},{"content":"Yes","pos":[1769,1772]},{"content":"Local animation","pos":[1777,1792]},{"content":"Per-instance","pos":[1793,1805]},{"content":"No","pos":[1806,1808]},{"content":"No","pos":[1809,1811]},{"content":"Clock animation","pos":[1816,1831]},{"content":"Per-instance","pos":[1832,1844]},{"content":"No","pos":[1845,1847]},{"content":"Yes","pos":[1848,1851]},{"content":"Per-frame animation","pos":[1856,1875]},{"content":"Per-instance","pos":[1876,1888]},{"content":"No","pos":[1889,1891]},{"content":"N/A","pos":[1892,1895]},{"pos":[1945,1966],"content":"Storyboard Animations","linkify":"Storyboard Animations","nodes":[{"content":"Storyboard Animations","pos":[0,21]}]},{"content":"Use a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> when you want to define and apply your animations in <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph>, interactively control your animations after they start, create a complex tree of animations, or animate in a <ph id=\"ph3\">&lt;xref:System.Windows.Style&gt;</ph>, <ph id=\"ph4\">&lt;xref:System.Windows.Controls.ControlTemplate&gt;</ph> or <ph id=\"ph5\">&lt;xref:System.Windows.DataTemplate&gt;</ph>.","pos":[1970,2374],"source":"Use a <xref:System.Windows.Media.Animation.Storyboard> when you want to define and apply your animations in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], interactively control your animations after they start, create a complex tree of animations, or animate in a <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate> or <xref:System.Windows.DataTemplate>."},{"content":"For an object to be animated by a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph>, it must be a <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkContentElement&gt;</ph>, or it must be used to set a <ph id=\"ph4\">&lt;xref:System.Windows.FrameworkElement&gt;</ph> or <ph id=\"ph5\">&lt;xref:System.Windows.FrameworkContentElement&gt;</ph>.","pos":[2375,2677],"source":" For an object to be animated by a <xref:System.Windows.Media.Animation.Storyboard>, it must be a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>, or it must be used to set a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>."},{"content":"For more details, see the <bpt id=\"p1\">[</bpt>Storyboards Overview<ept id=\"p1\">](storyboards-overview.md)</ept>.","pos":[2678,2752],"source":" For more details, see the [Storyboards Overview](storyboards-overview.md)."},{"content":"A <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> is a special type of container <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.Timeline&gt;</ph> that provides targeting information for the animations it contains.","pos":[2759,2955],"source":"A <xref:System.Windows.Media.Animation.Storyboard> is a special type of container <xref:System.Windows.Media.Animation.Timeline> that provides targeting information for the animations it contains."},{"content":"To animate with a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph>, you complete the following three steps.","pos":[2956,3063],"source":" To animate with a <xref:System.Windows.Media.Animation.Storyboard>, you complete the following three steps."},{"pos":[3073,3159],"content":"Declare a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> and one or more animations.","source":"Declare a <xref:System.Windows.Media.Animation.Storyboard> and one or more animations."},{"pos":[3169,3388],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard.TargetName%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.Storyboard.TargetProperty&gt;</ph> attached properties to specify the target object and property of each animation.","source":"Use the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> and <xref:System.Windows.Media.Animation.Storyboard.TargetProperty> attached properties to specify the target object and property of each animation."},{"content":"(Code only) Define a <ph id=\"ph1\">&lt;xref:System.Windows.NameScope&gt;</ph> for a <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkContentElement&gt;</ph>.","pos":[3398,3545],"source":"(Code only) Define a <xref:System.Windows.NameScope> for a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>."},{"content":"Register the names of the objects to animate with that <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkContentElement&gt;</ph>.","pos":[3546,3689],"source":" Register the names of the objects to animate with that <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>."},{"pos":[3699,3758],"content":"Begin the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph>.","source":"Begin the <xref:System.Windows.Media.Animation.Storyboard>."},{"content":"Beginning a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> applies animations to the properties they animate and starts them.","pos":[3765,3892],"source":"Beginning a <xref:System.Windows.Media.Animation.Storyboard> applies animations to the properties they animate and starts them."},{"content":"There are two ways to begin a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph>: you can use the <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.Storyboard.Begin%2A&gt;</ph> method provided by the <ph id=\"ph3\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> class, or you can use a <ph id=\"ph4\">&lt;xref:System.Windows.Media.Animation.BeginStoryboard&gt;</ph> action.","pos":[3893,4204],"source":" There are two ways to begin a <xref:System.Windows.Media.Animation.Storyboard>: you can use the <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method provided by the <xref:System.Windows.Media.Animation.Storyboard> class, or you can use a <xref:System.Windows.Media.Animation.BeginStoryboard> action."},{"content":"The only way to animate in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> is to use a <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.BeginStoryboard&gt;</ph> action.","pos":[4205,4377],"source":" The only way to animate in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is to use a <xref:System.Windows.Media.Animation.BeginStoryboard> action."},{"content":"A <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.BeginStoryboard&gt;</ph> action can be used in an <ph id=\"ph2\">&lt;xref:System.Windows.EventTrigger&gt;</ph>, property <ph id=\"ph3\">&lt;xref:System.Windows.Trigger&gt;</ph>, or a <ph id=\"ph4\">&lt;xref:System.Windows.DataTrigger&gt;</ph>.","pos":[4378,4574],"source":" A <xref:System.Windows.Media.Animation.BeginStoryboard> action can be used in an <xref:System.Windows.EventTrigger>, property <xref:System.Windows.Trigger>, or a <xref:System.Windows.DataTrigger>."},{"pos":[4581,4775],"content":"The following table shows the different places where each <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> begin technique is supported: per-instance, style, control template, and data template.","source":"The following table shows the different places where each <xref:System.Windows.Media.Animation.Storyboard> begin technique is supported: per-instance, style, control template, and data template."},{"content":"Storyboard is begun using…","pos":[4782,4808]},{"content":"Per-instance","pos":[4809,4821]},{"content":"Style","pos":[4822,4827]},{"content":"Control template","pos":[4828,4844]},{"content":"Data template","pos":[4845,4858]},{"content":"Example","pos":[4859,4866]},{"pos":[4997,5092],"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.BeginStoryboard&gt;</ph> and an <ph id=\"ph2\">&lt;xref:System.Windows.EventTrigger&gt;</ph>","source":"<xref:System.Windows.Media.Animation.BeginStoryboard> and an <xref:System.Windows.EventTrigger>"},{"content":"Yes","pos":[5093,5096]},{"content":"Yes","pos":[5097,5100]},{"content":"Yes","pos":[5101,5104]},{"content":"Yes","pos":[5105,5108]},{"pos":[5109,5203],"content":"<bpt id=\"p1\">[</bpt>Animate a Property by Using a Storyboard<ept id=\"p1\">](how-to-animate-a-property-by-using-a-storyboard.md)</ept>","source":"[Animate a Property by Using a Storyboard](how-to-animate-a-property-by-using-a-storyboard.md)"},{"pos":[5208,5306],"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.BeginStoryboard&gt;</ph> and a property <ph id=\"ph2\">&lt;xref:System.Windows.Trigger&gt;</ph>","source":"<xref:System.Windows.Media.Animation.BeginStoryboard> and a property <xref:System.Windows.Trigger>"},{"content":"No","pos":[5307,5309]},{"content":"Yes","pos":[5310,5313]},{"content":"Yes","pos":[5314,5317]},{"content":"Yes","pos":[5318,5321]},{"pos":[5322,5436],"content":"<bpt id=\"p1\">[</bpt>Trigger an Animation When a Property Value Changes<ept id=\"p1\">](how-to-trigger-an-animation-when-a-property-value-changes.md)</ept>","source":"[Trigger an Animation When a Property Value Changes](how-to-trigger-an-animation-when-a-property-value-changes.md)"},{"pos":[5441,5534],"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.BeginStoryboard&gt;</ph> and a <ph id=\"ph2\">&lt;xref:System.Windows.DataTrigger&gt;</ph>","source":"<xref:System.Windows.Media.Animation.BeginStoryboard> and a <xref:System.Windows.DataTrigger>"},{"content":"No","pos":[5535,5537]},{"content":"Yes","pos":[5538,5541]},{"content":"Yes","pos":[5542,5545]},{"content":"Yes","pos":[5546,5549]},{"pos":[5550,5686],"content":"<bpt id=\"p1\">[</bpt>How to: Trigger an Animation When Data Changes<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa970679(v=vs.90))</ept>","source":"[How to: Trigger an Animation When Data Changes](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa970679(v=vs.90))"},{"pos":[5691,5755],"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard.Begin%2A&gt;</ph> method","source":"<xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method"},{"content":"Yes","pos":[5756,5759]},{"content":"No","pos":[5760,5762]},{"content":"No","pos":[5763,5765]},{"content":"No","pos":[5766,5768]},{"pos":[5769,5863],"content":"<bpt id=\"p1\">[</bpt>Animate a Property by Using a Storyboard<ept id=\"p1\">](how-to-animate-a-property-by-using-a-storyboard.md)</ept>","source":"[Animate a Property by Using a Storyboard](how-to-animate-a-property-by-using-a-storyboard.md)"},{"pos":[5871,6012],"content":"For more information about <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> objects, see the <bpt id=\"p1\">[</bpt>Storyboards Overview<ept id=\"p1\">](storyboards-overview.md)</ept>.","source":"For more information about <xref:System.Windows.Media.Animation.Storyboard> objects, see the [Storyboards Overview](storyboards-overview.md)."},{"pos":[6021,6037],"content":"Local Animations","linkify":"Local Animations","nodes":[{"content":"Local Animations","pos":[0,16]}]},{"content":"Local animations provide a convenient way to animate a dependency property of any <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Animatable&gt;</ph> object.","pos":[6041,6179],"source":"Local animations provide a convenient way to animate a dependency property of any <xref:System.Windows.Media.Animation.Animatable> object."},{"content":"Use local animations when you want to apply a single animation to a property and you don't need to interactively control the animation after it starts.","pos":[6180,6331]},{"content":"Unlike a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> animation, a local animation can animate an object that isn't associated with a <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement&gt;</ph> or a <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkContentElement&gt;</ph>.","pos":[6332,6560],"source":" Unlike a <xref:System.Windows.Media.Animation.Storyboard> animation, a local animation can animate an object that isn't associated with a <xref:System.Windows.FrameworkElement> or a <xref:System.Windows.FrameworkContentElement>."},{"content":"You also don't have to define a <ph id=\"ph1\">&lt;xref:System.Windows.NameScope&gt;</ph> for this type of animation.","pos":[6561,6652],"source":" You also don't have to define a <xref:System.Windows.NameScope> for this type of animation."},{"content":"Local animations may only be used in code, and cannot be defined in styles, control templates, or data templates.","pos":[6659,6772]},{"content":"A local animation cannot be interactively controlled after it is started.","pos":[6773,6846]},{"content":"To animate using a local animation, complete the following steps.","pos":[6853,6918]},{"pos":[6928,7001],"content":"Create an <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.AnimationTimeline&gt;</ph> object.","source":"Create an <xref:System.Windows.Media.Animation.AnimationTimeline> object."},{"pos":[7011,7234],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A&gt;</ph> method of the object that you want to animate to apply the <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.AnimationTimeline&gt;</ph> to the property that you specify.","source":"Use the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationTimeline> to the property that you specify."},{"pos":[7241,7358],"content":"The following example shows how to animate the width and background color of a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Button&gt;</ph>.","source":"The following example shows how to animate the width and background color of a <xref:System.Windows.Controls.Button>."},{"pos":[7365,7751],"content":"[!code-cpp[animateproperty#11](~/samples/snippets/cpp/VS_Snippets_Wpf/animateproperty/CPP/LocalAnimationExample.cpp#11)]\n[!code-csharp[animateproperty#11](~/samples/snippets/csharp/VS_Snippets_Wpf/animateproperty/CSharp/LocalAnimationExample.cs#11)]\n[!code-vb[animateproperty#11](~/samples/snippets/visualbasic/VS_Snippets_Wpf/animateproperty/VisualBasic/LocalAnimationExample.vb#11)]","leadings":[""," "," "],"nodes":[]},{"pos":[7760,7776],"content":"Clock Animations","linkify":"Clock Animations","nodes":[{"content":"Clock Animations","pos":[0,16]}]},{"content":"Use <ph id=\"ph1\">&lt;xref:System.Windows.Media.MediaPlayer.Clock%2A&gt;</ph> objects when you want to animate without using a <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> and you want to create complex timing trees or interactively control animations after they start.","pos":[7780,8028],"source":"Use <xref:System.Windows.Media.MediaPlayer.Clock%2A> objects when you want to animate without using a <xref:System.Windows.Media.Animation.Storyboard> and you want to create complex timing trees or interactively control animations after they start."},{"content":"You can use Clock objects to animate a dependency property of any <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Animatable&gt;</ph> object.","pos":[8029,8151],"source":" You can use Clock objects to animate a dependency property of any <xref:System.Windows.Media.Animation.Animatable> object."},{"content":"You cannot use <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Clock&gt;</ph> objects directly to animate in styles, control templates, or data templates.","pos":[8158,8293],"source":"You cannot use <xref:System.Windows.Media.Animation.Clock> objects directly to animate in styles, control templates, or data templates."},{"content":"(The animation and timing system actually does use <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Clock&gt;</ph> objects to animate in styles, control templates, and data templates, but it must create those <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.Clock&gt;</ph> objects for you from a <ph id=\"ph3\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph>.","pos":[8294,8599],"source":" (The animation and timing system actually does use <xref:System.Windows.Media.Animation.Clock> objects to animate in styles, control templates, and data templates, but it must create those <xref:System.Windows.Media.Animation.Clock> objects for you from a <xref:System.Windows.Media.Animation.Storyboard>."},{"content":"For more information about the relationship between <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Storyboard&gt;</ph> objects and <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.Clock&gt;</ph> objects, see the <bpt id=\"p1\">[</bpt>Animation and Timing System Overview<ept id=\"p1\">](animation-and-timing-system-overview.md)</ept>.)","pos":[8600,8855],"source":" For more information about the relationship between <xref:System.Windows.Media.Animation.Storyboard> objects and <xref:System.Windows.Media.Animation.Clock> objects, see the [Animation and Timing System Overview](animation-and-timing-system-overview.md).)"},{"pos":[8862,8972],"content":"To apply a single <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Clock&gt;</ph> to a property, you complete the following steps.","source":"To apply a single <xref:System.Windows.Media.Animation.Clock> to a property, you complete the following steps."},{"pos":[8982,9055],"content":"Create an <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.AnimationTimeline&gt;</ph> object.","source":"Create an <xref:System.Windows.Media.Animation.AnimationTimeline> object."},{"pos":[9065,9280],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.AnimationTimeline.CreateClock%2A&gt;</ph> method of the <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.AnimationTimeline&gt;</ph> to create an <ph id=\"ph3\">&lt;xref:System.Windows.Media.Animation.AnimationClock&gt;</ph>.","source":"Use the <xref:System.Windows.Media.Animation.AnimationTimeline.CreateClock%2A> method of the <xref:System.Windows.Media.Animation.AnimationTimeline> to create an <xref:System.Windows.Media.Animation.AnimationClock>."},{"pos":[9290,9510],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A&gt;</ph> method of the object that you want to animate to apply the <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.AnimationClock&gt;</ph> to the property you specify.","source":"Use the <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationClock> to the property you specify."},{"pos":[9517,9654],"content":"The following example shows how to create an <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.AnimationClock&gt;</ph> and apply it to two similar properties.","source":"The following example shows how to create an <xref:System.Windows.Media.Animation.AnimationClock> and apply it to two similar properties."},{"pos":[9661,10141],"content":"[!code-csharp[timingbehaviors_procedural_snip#GraphicsMMCreateAnimationClockWholeClass](~/samples/snippets/csharp/VS_Snippets_Wpf/timingbehaviors_procedural_snip/CSharp/AnimationClockExample.cs#graphicsmmcreateanimationclockwholeclass)]\n[!code-vb[timingbehaviors_procedural_snip#GraphicsMMCreateAnimationClockWholeClass](~/samples/snippets/visualbasic/VS_Snippets_Wpf/timingbehaviors_procedural_snip/visualbasic/animationclockexample.vb#graphicsmmcreateanimationclockwholeclass)]","leadings":[""," "],"nodes":[]},{"content":"To create a timing tree and use it animate properties, you complete the following steps.","pos":[10148,10236]},{"pos":[10246,10399],"content":"Use <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.ParallelTimeline&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.AnimationTimeline&gt;</ph> objects to create the timing tree.","source":"Use <xref:System.Windows.Media.Animation.ParallelTimeline> and <xref:System.Windows.Media.Animation.AnimationTimeline> objects to create the timing tree."},{"pos":[10409,10612],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.TimelineGroup.CreateClock%2A&gt;</ph> of the root <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.ParallelTimeline&gt;</ph> to create a <ph id=\"ph3\">&lt;xref:System.Windows.Media.Animation.ClockGroup&gt;</ph>.","source":"Use the <xref:System.Windows.Media.Animation.TimelineGroup.CreateClock%2A> of the root <xref:System.Windows.Media.Animation.ParallelTimeline> to create a <xref:System.Windows.Media.Animation.ClockGroup>."},{"content":"Iterate through the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.ClockGroup.Children%2A&gt;</ph> of the <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.ClockGroup&gt;</ph> and apply its child <ph id=\"ph3\">&lt;xref:System.Windows.Media.Animation.Clock&gt;</ph> objects.","pos":[10622,10831],"source":"Iterate through the <xref:System.Windows.Media.Animation.ClockGroup.Children%2A> of the <xref:System.Windows.Media.Animation.ClockGroup> and apply its child <xref:System.Windows.Media.Animation.Clock> objects."},{"content":"For each <ph id=\"ph1\">&lt;xref:System.Windows.Media.Animation.AnimationClock&gt;</ph> child, use the <ph id=\"ph2\">&lt;xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A&gt;</ph> method of the object that you want to animate to apply the <ph id=\"ph3\">&lt;xref:System.Windows.Media.Animation.AnimationClock&gt;</ph> to the property you specify","pos":[10832,11120],"source":" For each <xref:System.Windows.Media.Animation.AnimationClock> child, use the <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationClock> to the property you specify"},{"pos":[11127,11257],"content":"For more information about Clock objects, see the <bpt id=\"p1\">[</bpt>Animation and Timing System Overview<ept id=\"p1\">](animation-and-timing-system-overview.md)</ept>.","source":"For more information about Clock objects, see the [Animation and Timing System Overview](animation-and-timing-system-overview.md)."},{"pos":[11266,11325],"content":"Per-Frame Animation: Bypass the Animation and Timing System","linkify":"Per-Frame Animation: Bypass the Animation and Timing System","nodes":[{"content":"Per-Frame Animation: Bypass the Animation and Timing System","pos":[0,59]}]},{"content":"Use this approach when you need to completely bypass the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> animation system.","pos":[11329,11485],"source":"Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system."},{"content":"One scenario for this approach is physics animations, where each step in the animation requires objects to be recomputed based on the last set of object interactions.","pos":[11486,11652]},{"content":"Per-frame animations cannot be defined inside styles, control templates, or data templates.","pos":[11659,11750]},{"content":"To animate frame-by-frame, you register for the <ph id=\"ph1\">&lt;xref:System.Windows.Media.CompositionTarget.Rendering&gt;</ph> event of the object that contains the objects you want to animate.","pos":[11757,11927],"source":"To animate frame-by-frame, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate."},{"content":"This event handler method gets called once per frame.","pos":[11928,11981]},{"content":"Each time that <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.","pos":[11982,12204],"source":" Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called."},{"content":"In your event handler, perform whatever calculations are necessary for your animation effect and set the properties of the objects you want to animate with these values.","pos":[12211,12380]},{"pos":[12387,12711],"content":"To obtain the presentation time for the current frame, the <ph id=\"ph1\">&lt;xref:System.EventArgs&gt;</ph> associated with this event can be cast as <ph id=\"ph2\">&lt;xref:System.Windows.Media.RenderingEventArgs&gt;</ph>, which provide a <ph id=\"ph3\">&lt;xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A&gt;</ph> property that you can use to obtain the current frame's rendering time.","source":"To obtain the presentation time for the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time."},{"pos":[12718,12809],"content":"For more information, see the <ph id=\"ph1\">&lt;xref:System.Windows.Media.CompositionTarget.Rendering&gt;</ph> page.","source":"For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page."},{"pos":[12818,12826],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[12830,12873],"content":"<bpt id=\"p1\">[</bpt>Animation Overview<ept id=\"p1\">](animation-overview.md)</ept>","source":"[Animation Overview](animation-overview.md)"},{"pos":[12876,12923],"content":"<bpt id=\"p1\">[</bpt>Storyboards Overview<ept id=\"p1\">](storyboards-overview.md)</ept>","source":"[Storyboards Overview](storyboards-overview.md)"},{"pos":[12926,13005],"content":"<bpt id=\"p1\">[</bpt>Animation and Timing System Overview<ept id=\"p1\">](animation-and-timing-system-overview.md)</ept>","source":"[Animation and Timing System Overview](animation-and-timing-system-overview.md)"},{"pos":[13008,13087],"content":"<bpt id=\"p1\">[</bpt>Dependency Properties Overview<ept id=\"p1\">](../advanced/dependency-properties-overview.md)</ept>","source":"[Dependency Properties Overview](../advanced/dependency-properties-overview.md)"}]}