{"content":"---\ntitle: \"Retargeting Changes in the .NET Framework 4.5.1 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"application compatibility\"\n  - \"retargeting changes\"\n  - \".NET Framework 4.5.1\"\n  - \"retargeting changes, .NET Framework 4.5.1\"\n  - \"retargeting changes, .NET Framework\"\nms.assetid: 8087326d-77e9-4804-ba33-ff1bb1bec2b8\ncaps.latest.revision: 15\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Retargeting Changes in the .NET Framework 4.5.1\nIn rare cases, retargeting changes may affect apps that are recompiled to target the [!INCLUDE[net_v451](../../../includes/net-v451-md.md)]. They do not affect binaries that target a previous version of the .NET Framework but are running under version 4.5.1. The [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] includes retargeting changes in the following areas:  \n  \n-   [Core](#Core)  \n  \n-   [ADO.NET](#ADO)  \n  \n-   [MSBuild](#MSBuild)  \n  \n The Scope column in the following tables specifies the significance of each change:  \n  \n-   Major. A significant change that affects a large number of apps or that requires substantial modification of code. Note that none of the retargeting changes fall into this category.  \n  \n-   Minor. A change that either affects a small number of apps or that requires minor modification of code.  \n  \n-   Edge. A change that affects apps under very specific scenarios that are not common.  \n  \n-   Transparent. A change that has no noticeable effect on the app's developer or user. The app should not require modification because of this change.  \n  \n<a name=\"Core\"></a>   \n## Core retargeting changes  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.ObsoleteAttribute?displayProperty=fullName> attribute|When you create a Windows Metadata library (.winmd file), the <xref:System.ObsoleteAttribute> attribute is exported as both <xref:System.ObsoleteAttribute> and [Windows.Foundation.DeprecatedAttribute](http://msdn.microsoft.com/library/windows/apps/windows.foundation.metadata.deprecatedattribute.aspx).|Recompilation of existing source code that uses the <xref:System.ObsoleteAttribute> attribute may generate warnings when consuming that code from C++/CX or JavaScript.<br /><br /> We do not recommend applying both <xref:System.ObsoleteAttribute> and [Windows.Foundation.DeprecatedAttribute](http://msdn.microsoft.com/library/windows/apps/windows.foundation.metadata.deprecatedattribute.aspx) to code in managed assemblies; it may result in build warnings.<br /><br /> For more information, see the <xref:System.ObsoleteAttribute> reference topic.|Edge|  \n  \n<a name=\"ADO\"></a>   \n## ADO.NET retargeting changes  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|<xref:System.Data.Common.DbParameter?displayProperty=fullName> class|<xref:System.Data.Common.DbParameter.Precision%2A?displayProperty=fullName> and <xref:System.Data.Common.DbParameter.Scale%2A?displayProperty=fullName> are implemented as public virtual properties. They replace the corresponding explicit interface implementations, <xref:System.Data.Common.DbParameter.System%23Data%23IDbDataParameter%23Precision%2A?displayProperty=fullName> and <xref:System.Data.Common.DbParameter.System%23Data%23IDbDataParameter%23Scale%2A?displayProperty=fullName>.|The change only affects developers who build an ADO.NET database provider.|Edge|  \n  \n<a name=\"MSBuild\"></a>   \n## MSBuild retargeting changes  \n  \n|Feature|Change|Impact|Scope|  \n|-------------|------------|------------|-----------|  \n|`ResolveAssemblyReference` task|The task emits a warning, MSB3270, which indicates that a reference or any of its dependencies does not match the app's architecture. For example, this occurs if an app that was compiled with the `anycpu` option includes an x86 reference. Such a scenario could result in an app failure at run time (in this case, if the app is deployed as an x64 process).|There are two areas of impact:<br /><br /> -   Recompilation generates warnings that did not appear when the app was compiled under a previous version of MSBuild. However, because the warning identifies a possible source of runtime failure, it should be investigated and addressed.<br />-   If warnings are treated as errors, the app will fail to compile.|Minor|  \n  \n## See Also  \n [Runtime Changes](../../../docs/framework/migration-guide/runtime-changes-in-the-net-framework-4-5-1.md)   \n [Application Compatibility in 4.5](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5.md)   \n [Application Compatibility in 4.5.2](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5-2.md)","nodes":[{"pos":[4,570],"nodes":[{"content":"Retargeting Changes in the .NET Framework 4.5.1 | Microsoft Docs","nodes":[{"pos":[0,64],"content":"Retargeting Changes in the .NET Framework 4.5.1 | Microsoft Docs","nodes":[{"content":"Retargeting Changes in the .NET Framework 4.5.1 | Microsoft Docs","pos":[0,64]}]}],"pos":[6,73],"yaml":true}],"content":"title: \"Retargeting Changes in the .NET Framework 4.5.1 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"application compatibility\"\n  - \"retargeting changes\"\n  - \".NET Framework 4.5.1\"\n  - \"retargeting changes, .NET Framework 4.5.1\"\n  - \"retargeting changes, .NET Framework\"\nms.assetid: 8087326d-77e9-4804-ba33-ff1bb1bec2b8\ncaps.latest.revision: 15\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"","yamlblock":true},{"pos":[577,624],"content":"Retargeting Changes in the .NET Framework 4.5.1","linkify":"Retargeting Changes in the .NET Framework 4.5.1","nodes":[{"content":"Retargeting Changes in the .NET Framework 4.5.1","pos":[0,47]}]},{"content":"In rare cases, retargeting changes may affect apps that are recompiled to target the <ph id=\"ph1\">[!INCLUDE[net_v451](../../../includes/net-v451-md.md)]</ph>.","pos":[625,765],"source":"In rare cases, retargeting changes may affect apps that are recompiled to target the [!INCLUDE[net_v451](../../../includes/net-v451-md.md)]."},{"content":"They do not affect binaries that target a previous version of the .NET Framework but are running under version 4.5.1.","pos":[766,883]},{"content":"The <ph id=\"ph1\">[!INCLUDE[net_v451](../../../includes/net-v451-md.md)]</ph> includes retargeting changes in the following areas:","pos":[884,995],"source":" The [!INCLUDE[net_v451](../../../includes/net-v451-md.md)] includes retargeting changes in the following areas:"},{"pos":[1005,1018],"content":"<bpt id=\"p1\">[</bpt>Core<ept id=\"p1\">](#Core)</ept>","source":"[Core](#Core)"},{"pos":[1028,1043],"content":"<bpt id=\"p1\">[</bpt>ADO.NET<ept id=\"p1\">](#ADO)</ept>","source":"[ADO.NET](#ADO)"},{"pos":[1053,1072],"content":"<bpt id=\"p1\">[</bpt>MSBuild<ept id=\"p1\">](#MSBuild)</ept>","source":"[MSBuild](#MSBuild)"},{"content":"The Scope column in the following tables specifies the significance of each change:","pos":[1079,1162]},{"content":"Major.","pos":[1172,1178]},{"content":"A significant change that affects a large number of apps or that requires substantial modification of code.","pos":[1179,1286]},{"content":"Note that none of the retargeting changes fall into this category.","pos":[1287,1353]},{"content":"Minor.","pos":[1363,1369]},{"content":"A change that either affects a small number of apps or that requires minor modification of code.","pos":[1370,1466]},{"content":"Edge.","pos":[1476,1481]},{"content":"A change that affects apps under very specific scenarios that are not common.","pos":[1482,1559]},{"content":"Transparent.","pos":[1569,1581]},{"content":"A change that has no noticeable effect on the app's developer or user.","pos":[1582,1652]},{"content":"The app should not require modification because of this change.","pos":[1653,1716]},{"pos":[1748,1772],"content":"Core retargeting changes","linkify":"Core retargeting changes","nodes":[{"content":"Core retargeting changes","pos":[0,24]}]},{"content":"Feature","pos":[1779,1786]},{"content":"Change","pos":[1787,1793]},{"content":"Impact","pos":[1794,1800]},{"content":"Scope","pos":[1801,1806]},{"content":"<ph id=\"ph1\">&lt;xref:System.ObsoleteAttribute?displayProperty=fullName&gt;</ph> attribute","pos":[1867,1933],"source":"<xref:System.ObsoleteAttribute?displayProperty=fullName> attribute"},{"pos":[1934,2236],"content":"When you create a Windows Metadata library (.winmd file), the <ph id=\"ph1\">&lt;xref:System.ObsoleteAttribute&gt;</ph> attribute is exported as both <ph id=\"ph2\">&lt;xref:System.ObsoleteAttribute&gt;</ph> and <bpt id=\"p1\">[</bpt>Windows.Foundation.DeprecatedAttribute<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/windows.foundation.metadata.deprecatedattribute.aspx)</ept>.","source":"When you create a Windows Metadata library (.winmd file), the <xref:System.ObsoleteAttribute> attribute is exported as both <xref:System.ObsoleteAttribute> and [Windows.Foundation.DeprecatedAttribute](http://msdn.microsoft.com/library/windows/apps/windows.foundation.metadata.deprecatedattribute.aspx)."},{"content":"Recompilation of existing source code that uses the <ph id=\"ph1\">&lt;xref:System.ObsoleteAttribute&gt;</ph> attribute may generate warnings when consuming that code from C++/CX or JavaScript.","pos":[2237,2404],"source":"Recompilation of existing source code that uses the <xref:System.ObsoleteAttribute> attribute may generate warnings when consuming that code from C++/CX or JavaScript."},{"content":"We do not recommend applying both <ph id=\"ph1\">&lt;xref:System.ObsoleteAttribute&gt;</ph> and <bpt id=\"p1\">[</bpt>Windows.Foundation.DeprecatedAttribute<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/windows.foundation.metadata.deprecatedattribute.aspx)</ept> to code in managed assemblies; it may result in build warnings.","pos":[2417,2692],"source":"We do not recommend applying both <xref:System.ObsoleteAttribute> and [Windows.Foundation.DeprecatedAttribute](http://msdn.microsoft.com/library/windows/apps/windows.foundation.metadata.deprecatedattribute.aspx) to code in managed assemblies; it may result in build warnings."},{"content":"For more information, see the <ph id=\"ph1\">&lt;xref:System.ObsoleteAttribute&gt;</ph> reference topic.","pos":[2705,2783],"source":"For more information, see the <xref:System.ObsoleteAttribute> reference topic."},{"content":"Edge","pos":[2784,2788]},{"pos":[2820,2847],"content":"ADO.NET retargeting changes","linkify":"ADO.NET retargeting changes","nodes":[{"content":"ADO.NET retargeting changes","pos":[0,27]}]},{"content":"Feature","pos":[2854,2861]},{"content":"Change","pos":[2862,2868]},{"content":"Impact","pos":[2869,2875]},{"content":"Scope","pos":[2876,2881]},{"content":"<ph id=\"ph1\">&lt;xref:System.Data.Common.DbParameter?displayProperty=fullName&gt;</ph> class","pos":[2942,3010],"source":"<xref:System.Data.Common.DbParameter?displayProperty=fullName> class"},{"content":"<ph id=\"ph1\">&lt;xref:System.Data.Common.DbParameter.Precision%2A?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Data.Common.DbParameter.Scale%2A?displayProperty=fullName&gt;</ph> are implemented as public virtual properties.","pos":[3011,3208],"source":"<xref:System.Data.Common.DbParameter.Precision%2A?displayProperty=fullName> and <xref:System.Data.Common.DbParameter.Scale%2A?displayProperty=fullName> are implemented as public virtual properties."},{"content":"They replace the corresponding explicit interface implementations, <ph id=\"ph1\">&lt;xref:System.Data.Common.DbParameter.System%23Data%23IDbDataParameter%23Precision%2A?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Data.Common.DbParameter.System%23Data%23IDbDataParameter%23Scale%2A?displayProperty=fullName&gt;</ph>.","pos":[3209,3498],"source":" They replace the corresponding explicit interface implementations, <xref:System.Data.Common.DbParameter.System%23Data%23IDbDataParameter%23Precision%2A?displayProperty=fullName> and <xref:System.Data.Common.DbParameter.System%23Data%23IDbDataParameter%23Scale%2A?displayProperty=fullName>."},{"content":"The change only affects developers who build an ADO.NET database provider.","pos":[3499,3573]},{"content":"Edge","pos":[3574,3578]},{"pos":[3614,3641],"content":"MSBuild retargeting changes","linkify":"MSBuild retargeting changes","nodes":[{"content":"MSBuild retargeting changes","pos":[0,27]}]},{"content":"Feature","pos":[3648,3655]},{"content":"Change","pos":[3656,3662]},{"content":"Impact","pos":[3663,3669]},{"content":"Scope","pos":[3670,3675]},{"pos":[3736,3767],"content":"<ph id=\"ph1\">`ResolveAssemblyReference`</ph> task","source":"`ResolveAssemblyReference` task"},{"content":"The task emits a warning, MSB3270, which indicates that a reference or any of its dependencies does not match the app's architecture.","pos":[3768,3901]},{"content":"For example, this occurs if an app that was compiled with the <ph id=\"ph1\">`anycpu`</ph> option includes an x86 reference.","pos":[3902,4006],"source":" For example, this occurs if an app that was compiled with the `anycpu` option includes an x86 reference."},{"content":"Such a scenario could result in an app failure at run time (in this case, if the app is deployed as an x64 process).","pos":[4007,4123]},{"content":"There are two areas of impact:","pos":[4124,4154]},{"content":"-   Recompilation generates warnings that did not appear when the app was compiled under a previous version of MSBuild.","pos":[4167,4286]},{"content":"However, because the warning identifies a possible source of runtime failure, it should be investigated and addressed.","pos":[4287,4405]},{"content":"-   If warnings are treated as errors, the app will fail to compile.","pos":[4411,4479]},{"content":"Minor","pos":[4480,4485]},{"pos":[4495,4503],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Runtime Changes<ept id=\"p1\">](../../../docs/framework/migration-guide/runtime-changes-in-the-net-framework-4-5-1.md)</ept><ph id=\"ph1\"> </ph>","pos":[4507,4612],"source":"[Runtime Changes](../../../docs/framework/migration-guide/runtime-changes-in-the-net-framework-4-5-1.md) "},{"content":"<bpt id=\"p1\">[</bpt>Application Compatibility in 4.5<ept id=\"p1\">](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5.md)</ept><ph id=\"ph1\"> </ph>","pos":[4616,4746],"source":"[Application Compatibility in 4.5](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5.md) "},{"content":"<bpt id=\"p1\">[</bpt>Application Compatibility in 4.5.2<ept id=\"p1\">](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5-2.md)</ept>","pos":[4750,4883],"source":"[Application Compatibility in 4.5.2](../../../docs/framework/migration-guide/application-compatibility-in-the-net-framework-4-5-2.md)"}]}