{"content":"---\ntitle: \"How to: Handle Keyboard Input at the Form Level\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords: \n  - \"keyboard input [Windows Forms], at form level\"\n  - \"Windows Forms, handling keyboard input\"\n  - \"keyboards [Windows Forms], form-level input\"\nms.assetid: d7f8b390-dc91-42d2-ae0f-2ffa388127ad\n---\n# How to: Handle Keyboard Input at the Form Level\nWindows Forms provides the ability to handle keyboard messages at the form level, before the messages reach a control. This topic shows how to accomplish this task.  \n  \n### To handle a keyboard message at the form level  \n  \n-   Handle the <xref:System.Windows.Forms.Control.KeyPress> or <xref:System.Windows.Forms.Control.KeyDown> event of the startup form, and set the <xref:System.Windows.Forms.Form.KeyPreview%2A> property of the form to `true` so that keyboard messages are received by the form before they reach any controls on the form. The following code example handles the <xref:System.Windows.Forms.Control.KeyPress> event by detecting all of the number keys and consuming '1', '4', and '7'.  \n  \n     [!code-cpp[System.Windows.Forms.KeyboardInputForm#10](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/cpp/form1.cpp#10)]\n     [!code-csharp[System.Windows.Forms.KeyboardInputForm#10](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/CS/form1.cs#10)]\n     [!code-vb[System.Windows.Forms.KeyboardInputForm#10](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/VB/form1.vb#10)]  \n  \n## Example  \n The following code example is the entire application for the above example. The application includes a <xref:System.Windows.Forms.TextBox> along with several other controls that allow you to move focus from the <xref:System.Windows.Forms.TextBox>. The <xref:System.Windows.Forms.Control.KeyPress> event of the main <xref:System.Windows.Forms.Form> consumes '1', '4', and '7', and the <xref:System.Windows.Forms.Control.KeyPress> event of the <xref:System.Windows.Forms.TextBox> consumes '2', '5', and '8' while displaying the remaining keys. Compare the <xref:System.Windows.Forms.MessageBox> output when you press a number key while the <xref:System.Windows.Forms.TextBox> has focus with the <xref:System.Windows.Forms.MessageBox> output when you press a number key while focus is on one of the other controls.  \n  \n [!code-cpp[System.Windows.Forms.KeyBoardInputForm#0](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/cpp/form1.cpp#0)]\n [!code-csharp[System.Windows.Forms.KeyBoardInputForm#0](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/CS/form1.cs#0)]\n [!code-vb[System.Windows.Forms.KeyBoardInputForm#0](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/VB/form1.vb#0)]  \n  \n## Compiling the Code  \n This example requires:  \n  \n-   References to the System, System.Drawing and System.Windows.Forms assemblies.  \n  \n For information about building this example from the command line for Visual Basic or Visual C#, see [Building from the Command Line](../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md) or [Command-line Building With csc.exe](../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md). You can also build this example in Visual Studio by pasting the code into a new project.  \n\n## See also\n\n- [Keyboard Input in a Windows Forms Application](keyboard-input-in-a-windows-forms-application.md)\n","nodes":[{"pos":[4,344],"embed":true,"restype":"x-metadata","content":"title: \"How to: Handle Keyboard Input at the Form Level\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords: \n  - \"keyboard input [Windows Forms], at form level\"\n  - \"Windows Forms, handling keyboard input\"\n  - \"keyboards [Windows Forms], form-level input\"\nms.assetid: d7f8b390-dc91-42d2-ae0f-2ffa388127ad","nodes":[{"content":"How to: Handle Keyboard Input at the Form Level","nodes":[{"pos":[0,47],"content":"How to: Handle Keyboard Input at the Form Level","nodes":[{"content":"How to: Handle Keyboard Input at the Form Level","pos":[0,47]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[351,398],"content":"How to: Handle Keyboard Input at the Form Level","linkify":"How to: Handle Keyboard Input at the Form Level","nodes":[{"content":"How to: Handle Keyboard Input at the Form Level","pos":[0,47]}]},{"content":"Windows Forms provides the ability to handle keyboard messages at the form level, before the messages reach a control.","pos":[399,517]},{"content":"This topic shows how to accomplish this task.","pos":[518,563]},{"pos":[573,619],"content":"To handle a keyboard message at the form level","linkify":"To handle a keyboard message at the form level","nodes":[{"content":"To handle a keyboard message at the form level","pos":[0,46]}]},{"content":"Handle the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.KeyDown&gt;</ph> event of the startup form, and set the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Form.KeyPreview%2A&gt;</ph> property of the form to <ph id=\"ph4\">`true`</ph> so that keyboard messages are received by the form before they reach any controls on the form.","pos":[629,943],"source":"Handle the <xref:System.Windows.Forms.Control.KeyPress> or <xref:System.Windows.Forms.Control.KeyDown> event of the startup form, and set the <xref:System.Windows.Forms.Form.KeyPreview%2A> property of the form to `true` so that keyboard messages are received by the form before they reach any controls on the form."},{"content":"The following code example handles the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> event by detecting all of the number keys and consuming '1', '4', and '7'.","pos":[944,1102],"source":" The following code example handles the <xref:System.Windows.Forms.Control.KeyPress> event by detecting all of the number keys and consuming '1', '4', and '7'."},{"pos":[1113,1599],"content":"[!code-cpp[System.Windows.Forms.KeyboardInputForm#10](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/cpp/form1.cpp#10)]\n [!code-csharp[System.Windows.Forms.KeyboardInputForm#10](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/CS/form1.cs#10)]\n [!code-vb[System.Windows.Forms.KeyboardInputForm#10](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.KeyboardInputForm/VB/form1.vb#10)]","leadings":["","    ","    "],"nodes":[]},{"pos":[1608,1615],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code example is the entire application for the above example.","pos":[1619,1694]},{"content":"The application includes a <ph id=\"ph1\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph> along with several other controls that allow you to move focus from the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph>.","pos":[1695,1866],"source":" The application includes a <xref:System.Windows.Forms.TextBox> along with several other controls that allow you to move focus from the <xref:System.Windows.Forms.TextBox>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> event of the main <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Form&gt;</ph> consumes '1', '4', and '7', and the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Control.KeyPress&gt;</ph> event of the <ph id=\"ph4\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph> consumes '2', '5', and '8' while displaying the remaining keys.","pos":[1867,2160],"source":" The <xref:System.Windows.Forms.Control.KeyPress> event of the main <xref:System.Windows.Forms.Form> consumes '1', '4', and '7', and the <xref:System.Windows.Forms.Control.KeyPress> event of the <xref:System.Windows.Forms.TextBox> consumes '2', '5', and '8' while displaying the remaining keys."},{"content":"Compare the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.MessageBox&gt;</ph> output when you press a number key while the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.TextBox&gt;</ph> has focus with the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.MessageBox&gt;</ph> output when you press a number key while focus is on one of the other controls.","pos":[2161,2430],"source":" Compare the <xref:System.Windows.Forms.MessageBox> output when you press a number key while the <xref:System.Windows.Forms.TextBox> has focus with the <xref:System.Windows.Forms.MessageBox> output when you press a number key while focus is on one of the other controls."},{"pos":[2918,2936],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"content":"This example requires:","pos":[2940,2962]},{"content":"References to the System, System.Drawing and System.Windows.Forms assemblies.","pos":[2972,3049]},{"content":"For information about building this example from the command line for Visual Basic or Visual C#, see <bpt id=\"p1\">[</bpt>Building from the Command Line<ept id=\"p1\">](../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md)</ept> or <bpt id=\"p2\">[</bpt>Command-line Building With csc.exe<ept id=\"p2\">](../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md)</ept>.","pos":[3056,3404],"source":"For information about building this example from the command line for Visual Basic or Visual C#, see [Building from the Command Line](../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md) or [Command-line Building With csc.exe](../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md)."},{"content":"You can also build this example in Visual Studio by pasting the code into a new project.","pos":[3405,3493]},{"pos":[3500,3508],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3512,3609],"content":"<bpt id=\"p1\">[</bpt>Keyboard Input in a Windows Forms Application<ept id=\"p1\">](keyboard-input-in-a-windows-forms-application.md)</ept>","source":"[Keyboard Input in a Windows Forms Application](keyboard-input-in-a-windows-forms-application.md)"}]}