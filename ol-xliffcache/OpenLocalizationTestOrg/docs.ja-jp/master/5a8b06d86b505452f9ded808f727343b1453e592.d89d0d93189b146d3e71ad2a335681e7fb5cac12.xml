{"content":"---\ntitle: \"Supporting Multiple IIS Site Bindings\"\nms.date: \"03/30/2017\"\nms.assetid: 40440495-254d-45c8-a8c6-b29f364892ba\n---\n# Supporting Multiple IIS Site Bindings\nWhen hosting a Windows Communication Foundation (WCF) service under Internet Information Services (IIS) 7.0, you may want to provide multiple base addresses that use the same protocol on the same site. This allows the same service to respond to a number of different URIs. This is useful when you want to host a service that listens on `http://www.contoso.com` and `http://contoso.com`. It is also useful to create a service that has a base address for internal users and a separate base address for external users. For example: `http://internal.contoso.com` and `http://www.contoso.com`.  \n  \n> [!NOTE]\n>  This functionality is only available using the HTTP protocol.  \n  \n## Multiple Base Addresses  \n This feature is only available to WCF services that are hosted under IIS. This feature is not enabled by default. To enable it you must add the `multipleSiteBindingsEnabled` attribute to the <`serviceHostingEnvironment`> element in your Web.config file and set it to `true`, as shown in the following example.  \n  \n```xml  \n<serviceHostingEnvironment multipleSiteBindingsEnabled=\"true\"/>  \n```  \n  \n When hosting a WCF service under IIS, IIS creates one base address for you based on the URI to the virtual directory that contains the application. You can add additional base addresses that use the same protocol by using Internet Information Services Manager to add one or more bindings to your Web site. For each binding specify a protocol (HTTP or HTTPS), an IP address, a port, and a host name. For more information about using Internet Information Services Manager, see [IIS Manager (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164057). For more information about adding bindings to a site, see [Create a Web Site (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164060)  \n  \n Specifying multiple base addresses for the same site affects the content of the WCF Help page, importing schema, and the WSDL/MEX information generated by the service. The WCF Help page displays the command line to use to generate a WCF client that can communicate with the service. This command line contains only the first address specified in the IIS binding for the Web site. Similarly when importing schema, only the first base address specified in the IIS binding is used. WSDL and MEX data contain all the base addresses specified in the IIS bindings.  \n  \n> [!WARNING]\n>  This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.\n","nodes":[{"pos":[4,121],"embed":true,"restype":"x-metadata","content":"title: \"Supporting Multiple IIS Site Bindings\"\nms.date: \"03/30/2017\"\nms.assetid: 40440495-254d-45c8-a8c6-b29f364892ba","nodes":[{"content":"Supporting Multiple IIS Site Bindings","nodes":[{"pos":[0,37],"content":"Supporting Multiple IIS Site Bindings","nodes":[{"content":"Supporting Multiple IIS Site Bindings","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[128,165],"content":"Supporting Multiple IIS Site Bindings","linkify":"Supporting Multiple IIS Site Bindings","nodes":[{"content":"Supporting Multiple IIS Site Bindings","pos":[0,37]}]},{"content":"When hosting a Windows Communication Foundation (WCF) service under Internet Information Services (IIS) 7.0, you may want to provide multiple base addresses that use the same protocol on the same site.","pos":[166,367]},{"content":"This allows the same service to respond to a number of different URIs.","pos":[368,438]},{"content":"This is useful when you want to host a service that listens on <ph id=\"ph1\">`http://www.contoso.com`</ph> and <ph id=\"ph2\">`http://contoso.com`</ph>.","pos":[439,552],"source":" This is useful when you want to host a service that listens on `http://www.contoso.com` and `http://contoso.com`."},{"content":"It is also useful to create a service that has a base address for internal users and a separate base address for external users.","pos":[553,681]},{"content":"For example: <ph id=\"ph1\">`http://internal.contoso.com`</ph> and <ph id=\"ph2\">`http://www.contoso.com`</ph>.","pos":[682,754],"source":" For example: `http://internal.contoso.com` and `http://www.contoso.com`."},{"pos":[762,834],"content":"[!NOTE]\n This functionality is only available using the HTTP protocol.","leadings":["","> "],"nodes":[{"content":"This functionality is only available using the HTTP protocol.","pos":[9,70]}]},{"pos":[843,866],"content":"Multiple Base Addresses","linkify":"Multiple Base Addresses","nodes":[{"content":"Multiple Base Addresses","pos":[0,23]}]},{"content":"This feature is only available to WCF services that are hosted under IIS.","pos":[870,943]},{"content":"This feature is not enabled by default.","pos":[944,983]},{"content":"To enable it you must add the <ph id=\"ph1\">`multipleSiteBindingsEnabled`</ph> attribute to the &lt;<ph id=\"ph2\">`serviceHostingEnvironment`</ph>&gt; element in your Web.config file and set it to <ph id=\"ph3\">`true`</ph>, as shown in the following example.","pos":[984,1179],"source":" To enable it you must add the `multipleSiteBindingsEnabled` attribute to the <`serviceHostingEnvironment`> element in your Web.config file and set it to `true`, as shown in the following example."},{"content":"When hosting a WCF service under IIS, IIS creates one base address for you based on the URI to the virtual directory that contains the application.","pos":[1270,1417]},{"content":"You can add additional base addresses that use the same protocol by using Internet Information Services Manager to add one or more bindings to your Web site.","pos":[1418,1575]},{"content":"For each binding specify a protocol (HTTP or HTTPS), an IP address, a port, and a host name.","pos":[1576,1668]},{"content":"For more information about using Internet Information Services Manager, see <bpt id=\"p1\">[</bpt>IIS Manager (IIS 7)<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=164057)</ept>.","pos":[1669,1815],"source":" For more information about using Internet Information Services Manager, see [IIS Manager (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164057)."},{"content":"For more information about adding bindings to a site, see <bpt id=\"p1\">[</bpt>Create a Web Site (IIS 7)<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=164060)</ept>","pos":[1816,1949],"source":" For more information about adding bindings to a site, see [Create a Web Site (IIS 7)](https://go.microsoft.com/fwlink/?LinkId=164060)"},{"content":"Specifying multiple base addresses for the same site affects the content of the WCF Help page, importing schema, and the WSDL/MEX information generated by the service.","pos":[1956,2123]},{"content":"The WCF Help page displays the command line to use to generate a WCF client that can communicate with the service.","pos":[2124,2238]},{"content":"This command line contains only the first address specified in the IIS binding for the Web site.","pos":[2239,2335]},{"content":"Similarly when importing schema, only the first base address specified in the IIS binding is used.","pos":[2336,2434]},{"content":"WSDL and MEX data contain all the base addresses specified in the IIS bindings.","pos":[2435,2514]},{"pos":[2522,2712],"content":"[!WARNING]\n This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.","leadings":["","> "],"nodes":[{"content":"This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.","pos":[12,188]}]}]}