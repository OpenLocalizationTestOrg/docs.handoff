{"content":"---\ntitle: \"Inferring Relationships | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 8fa86a9d-6545-4a9d-b1f5-58d9742179c7\ncaps.latest.revision: 4\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# Inferring Relationships\nIf an element that is inferred as a table has a child element that is also inferred as a table, a <xref:System.Data.DataRelation> will be created between the two tables. A new column with a name of **ParentTableName_Id** will be added to both the table created for the parent element, and the table created for the child element. The **ColumnMapping** property of this identity column will be set to **MappingType.Hidden**. The column will be an auto-incrementing primary key for the parent table, and will be used for the **DataRelation** between the two tables. The data type of the added identity column will be **System.Int32**, unlike the data type of all other inferred columns, which is **System.String**. A <xref:System.Data.ForeignKeyConstraint> with **DeleteRule** = **Cascade** will also be created using the new column in both the parent and child tables.  \n  \n For example, consider the following XML:  \n  \n```  \n<DocumentElement>  \n  <Element1>  \n    <ChildElement1 attr1=\"value1\" attr2=\"value2\"/>  \n    <ChildElement2>Text2</ChildElement2>  \n  </Element1>  \n</DocumentElement>  \n```  \n  \n The inference process will produce two tables: **Element1** and **ChildElement1**.  \n  \n The **Element1** table will have two columns: **Element1_Id** and **ChildElement2**. The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**. The **ColumnMapping** property of the **ChildElement2** column will be set to **MappingType.Element**. The **Element1_Id** column will be set as the primary key of the **Element1** table.  \n  \n The **ChildElement1** table will have three columns: **attr1**, **attr2** and **Element1_Id**. The **ColumnMapping** property for the **attr1** and **attr2** columns will be set to **MappingType.Attribute**. The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**.  \n  \n A **DataRelation** and **ForeignKeyConstraint** will be created using the **Element1_Id** columns from both tables.  \n  \n **DataSet:** DocumentElement  \n  \n **Table:** Element1  \n  \n|Element1_Id|ChildElement2|  \n|------------------|-------------------|  \n|0|Text2|  \n  \n **Table:** ChildElement1  \n  \n|attr1|attr2|Element1_Id|  \n|-----------|-----------|------------------|  \n|value1|value2|0|  \n  \n **DataRelation:** Element1_ChildElement1  \n  \n **ParentTable:** Element1  \n  \n **ParentColumn:** Element1_Id  \n  \n **ChildTable:** ChildElement1  \n  \n **ChildColumn:** Element1_Id  \n  \n **Nested:** True  \n  \n **ForeignKeyConstraint:** Element1_ChildElement1  \n  \n **Column:** Element1_Id  \n  \n **ParentTable:** Element1  \n  \n **ChildTable:** ChildElement1  \n  \n **DeleteRule:** Cascade  \n  \n **AcceptRejectRule:** None  \n  \n## See Also  \n [Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)   \n [Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)   \n [Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)   \n [Nesting DataRelations](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/nesting-datarelations.md)   \n [Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)   \n [DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)   \n [ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)","nodes":[{"pos":[4,354],"nodes":[{"content":"Inferring Relationships | Microsoft Docs","nodes":[{"pos":[0,40],"content":"Inferring Relationships | Microsoft Docs","nodes":[{"content":"Inferring Relationships | Microsoft Docs","pos":[0,40]}]}],"pos":[6,49],"yaml":true}],"content":"title: \"Inferring Relationships | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 8fa86a9d-6545-4a9d-b1f5-58d9742179c7\ncaps.latest.revision: 4\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[361,384],"content":"Inferring Relationships","linkify":"Inferring Relationships","nodes":[{"content":"Inferring Relationships","pos":[0,23]}]},{"content":"If an element that is inferred as a table has a child element that is also inferred as a table, a <ph id=\"ph1\">&lt;xref:System.Data.DataRelation&gt;</ph> will be created between the two tables.","pos":[385,554],"source":"If an element that is inferred as a table has a child element that is also inferred as a table, a <xref:System.Data.DataRelation> will be created between the two tables."},{"content":"A new column with a name of <bpt id=\"p1\">**</bpt>ParentTableName_Id<ept id=\"p1\">**</ept> will be added to both the table created for the parent element, and the table created for the child element.","pos":[555,714],"source":" A new column with a name of **ParentTableName_Id** will be added to both the table created for the parent element, and the table created for the child element."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of this identity column will be set to <bpt id=\"p2\">**</bpt>MappingType.Hidden<ept id=\"p2\">**</ept>.","pos":[715,808],"source":" The **ColumnMapping** property of this identity column will be set to **MappingType.Hidden**."},{"content":"The column will be an auto-incrementing primary key for the parent table, and will be used for the <bpt id=\"p1\">**</bpt>DataRelation<ept id=\"p1\">**</ept> between the two tables.","pos":[809,948],"source":" The column will be an auto-incrementing primary key for the parent table, and will be used for the **DataRelation** between the two tables."},{"content":"The data type of the added identity column will be <bpt id=\"p1\">**</bpt>System.Int32<ept id=\"p1\">**</ept>, unlike the data type of all other inferred columns, which is <bpt id=\"p2\">**</bpt>System.String<ept id=\"p2\">**</ept>.","pos":[949,1097],"source":" The data type of the added identity column will be **System.Int32**, unlike the data type of all other inferred columns, which is **System.String**."},{"content":"A <ph id=\"ph1\">&lt;xref:System.Data.ForeignKeyConstraint&gt;</ph> with <bpt id=\"p1\">**</bpt>DeleteRule<ept id=\"p1\">**</ept><ph id=\"ph2\"> = </ph><bpt id=\"p2\">**</bpt>Cascade<ept id=\"p2\">**</ept> will also be created using the new column in both the parent and child tables.","pos":[1098,1252],"source":" A <xref:System.Data.ForeignKeyConstraint> with **DeleteRule** = **Cascade** will also be created using the new column in both the parent and child tables."},{"content":"For example, consider the following XML:","pos":[1259,1299]},{"pos":[1489,1571],"content":"The inference process will produce two tables: <bpt id=\"p1\">**</bpt>Element1<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>ChildElement1<ept id=\"p2\">**</ept>.","source":"The inference process will produce two tables: **Element1** and **ChildElement1**."},{"content":"The <bpt id=\"p1\">**</bpt>Element1<ept id=\"p1\">**</ept> table will have two columns: <bpt id=\"p2\">**</bpt>Element1_Id<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>ChildElement2<ept id=\"p3\">**</ept>.","pos":[1578,1662],"source":"The **Element1** table will have two columns: **Element1_Id** and **ChildElement2**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the <bpt id=\"p2\">**</bpt>Element1_Id<ept id=\"p2\">**</ept> column will be set to <bpt id=\"p3\">**</bpt>MappingType.Hidden<ept id=\"p3\">**</ept>.","pos":[1663,1762],"source":" The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the <bpt id=\"p2\">**</bpt>ChildElement2<ept id=\"p2\">**</ept> column will be set to <bpt id=\"p3\">**</bpt>MappingType.Element<ept id=\"p3\">**</ept>.","pos":[1763,1865],"source":" The **ColumnMapping** property of the **ChildElement2** column will be set to **MappingType.Element**."},{"content":"The <bpt id=\"p1\">**</bpt>Element1_Id<ept id=\"p1\">**</ept> column will be set as the primary key of the <bpt id=\"p2\">**</bpt>Element1<ept id=\"p2\">**</ept> table.","pos":[1866,1950],"source":" The **Element1_Id** column will be set as the primary key of the **Element1** table."},{"content":"The <bpt id=\"p1\">**</bpt>ChildElement1<ept id=\"p1\">**</ept> table will have three columns: <bpt id=\"p2\">**</bpt>attr1<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>attr2<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>Element1_Id<ept id=\"p4\">**</ept>.","pos":[1957,2051],"source":"The **ChildElement1** table will have three columns: **attr1**, **attr2** and **Element1_Id**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property for the <bpt id=\"p2\">**</bpt>attr1<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>attr2<ept id=\"p3\">**</ept> columns will be set to <bpt id=\"p4\">**</bpt>MappingType.Attribute<ept id=\"p4\">**</ept>.","pos":[2052,2164],"source":" The **ColumnMapping** property for the **attr1** and **attr2** columns will be set to **MappingType.Attribute**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the <bpt id=\"p2\">**</bpt>Element1_Id<ept id=\"p2\">**</ept> column will be set to <bpt id=\"p3\">**</bpt>MappingType.Hidden<ept id=\"p3\">**</ept>.","pos":[2165,2264],"source":" The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**."},{"pos":[2271,2386],"content":"A <bpt id=\"p1\">**</bpt>DataRelation<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>ForeignKeyConstraint<ept id=\"p2\">**</ept> will be created using the <bpt id=\"p3\">**</bpt>Element1_Id<ept id=\"p3\">**</ept> columns from both tables.","source":"A **DataRelation** and **ForeignKeyConstraint** will be created using the **Element1_Id** columns from both tables."},{"pos":[2393,2421],"content":"<bpt id=\"p1\">**</bpt>DataSet:<ept id=\"p1\">**</ept> DocumentElement","source":"**DataSet:** DocumentElement"},{"pos":[2428,2447],"content":"<bpt id=\"p1\">**</bpt>Table:<ept id=\"p1\">**</ept> Element1","source":"**Table:** Element1"},{"content":"Element1_Id","pos":[2454,2465]},{"content":"ChildElement2","pos":[2466,2479]},{"content":"0","pos":[2527,2528]},{"content":"Text2","pos":[2529,2534]},{"pos":[2542,2566],"content":"<bpt id=\"p1\">**</bpt>Table:<ept id=\"p1\">**</ept> ChildElement1","source":"**Table:** ChildElement1"},{"content":"attr1","pos":[2573,2578]},{"content":"attr2","pos":[2579,2584]},{"content":"Element1_Id","pos":[2585,2596]},{"content":"value1","pos":[2648,2654]},{"content":"value2","pos":[2655,2661]},{"content":"0","pos":[2662,2663]},{"pos":[2671,2711],"content":"<bpt id=\"p1\">**</bpt>DataRelation:<ept id=\"p1\">**</ept> Element1_ChildElement1","source":"**DataRelation:** Element1_ChildElement1"},{"pos":[2718,2743],"content":"<bpt id=\"p1\">**</bpt>ParentTable:<ept id=\"p1\">**</ept> Element1","source":"**ParentTable:** Element1"},{"pos":[2750,2779],"content":"<bpt id=\"p1\">**</bpt>ParentColumn:<ept id=\"p1\">**</ept> Element1_Id","source":"**ParentColumn:** Element1_Id"},{"pos":[2786,2815],"content":"<bpt id=\"p1\">**</bpt>ChildTable:<ept id=\"p1\">**</ept> ChildElement1","source":"**ChildTable:** ChildElement1"},{"pos":[2822,2850],"content":"<bpt id=\"p1\">**</bpt>ChildColumn:<ept id=\"p1\">**</ept> Element1_Id","source":"**ChildColumn:** Element1_Id"},{"pos":[2857,2873],"content":"<bpt id=\"p1\">**</bpt>Nested:<ept id=\"p1\">**</ept> True","source":"**Nested:** True"},{"pos":[2880,2928],"content":"<bpt id=\"p1\">**</bpt>ForeignKeyConstraint:<ept id=\"p1\">**</ept> Element1_ChildElement1","source":"**ForeignKeyConstraint:** Element1_ChildElement1"},{"pos":[2935,2958],"content":"<bpt id=\"p1\">**</bpt>Column:<ept id=\"p1\">**</ept> Element1_Id","source":"**Column:** Element1_Id"},{"pos":[2965,2990],"content":"<bpt id=\"p1\">**</bpt>ParentTable:<ept id=\"p1\">**</ept> Element1","source":"**ParentTable:** Element1"},{"pos":[2997,3026],"content":"<bpt id=\"p1\">**</bpt>ChildTable:<ept id=\"p1\">**</ept> ChildElement1","source":"**ChildTable:** ChildElement1"},{"pos":[3033,3056],"content":"<bpt id=\"p1\">**</bpt>DeleteRule:<ept id=\"p1\">**</ept> Cascade","source":"**DeleteRule:** Cascade"},{"pos":[3063,3089],"content":"<bpt id=\"p1\">**</bpt>AcceptRejectRule:<ept id=\"p1\">**</ept> None","source":"**AcceptRejectRule:** None"},{"pos":[3098,3106],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Inferring DataSet Relational Structure from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)</ept><ph id=\"ph1\"> </ph>","pos":[3110,3281],"source":"[Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md) "},{"content":"<bpt id=\"p1\">[</bpt>Loading a DataSet from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)</ept><ph id=\"ph1\"> </ph>","pos":[3285,3414],"source":"[Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md) "},{"content":"<bpt id=\"p1\">[</bpt>Loading DataSet Schema Information from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)</ept><ph id=\"ph1\"> </ph>","pos":[3418,3581],"source":"[Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md) "},{"content":"<bpt id=\"p1\">[</bpt>Nesting DataRelations<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/nesting-datarelations.md)</ept><ph id=\"ph1\"> </ph>","pos":[3585,3704],"source":"[Nesting DataRelations](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/nesting-datarelations.md) "},{"content":"<bpt id=\"p1\">[</bpt>Using XML in a DataSet<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)</ept><ph id=\"ph1\"> </ph>","pos":[3708,3829],"source":"[Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md) "},{"content":"<bpt id=\"p1\">[</bpt>DataSets, DataTables, and DataViews<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[3833,3950],"source":"[DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=217917)</ept>","pos":[3954,4057],"source":"[ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)"}]}