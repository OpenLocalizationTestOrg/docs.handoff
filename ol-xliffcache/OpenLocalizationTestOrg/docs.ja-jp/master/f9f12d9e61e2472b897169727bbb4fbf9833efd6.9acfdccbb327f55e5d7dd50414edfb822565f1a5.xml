{"content":"---\ntitle: \"<listeners> Element for <trace>\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.diagnostics/trace/listeners\"\nhelpviewer_keywords: \n  - \"<listeners> element\"\n  - \"listeners element\"\nms.assetid: 1394c2c3-6304-46db-87c1-8e8b16f5ad5b\n---\n# \\<listeners> Element for \\<trace>\nSpecifies a listener that collects, stores, and routes messages. Listeners direct the tracing output to an appropriate target.  \n  \n \\<configuration> Element  \n\\<system.diagnostics> Element  \n\\<trace> Element  \n\\<listeners> Element for \\<trace>  \n  \n## Syntax  \n  \n```xml  \n<listeners>   \n  <add>...</add>  \n  <clear/>  \n  <remove ... />  \n</listeners>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n None.  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<add>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/add-element-for-listeners-for-trace.md)|Adds a listener to the `Listeners` collection.|  \n|[\\<clear>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/clear-element-for-listeners-for-trace.md)|Clears the `Listeners` collection for trace.|  \n|[\\<remove>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/remove-element-for-listeners-for-trace.md)|Removes a listener from the `Listeners` collection.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`configuration`|The root element in every configuration file used by the common language runtime and .NET Framework applications.|  \n|`system.diagnostics`|Specifies the root element for the ASP.NET configuration section.|  \n|`trace`|Contains listeners that collect, store, and route tracing messages.|  \n  \n## Remarks  \n The <xref:System.Diagnostics.Debug> and <xref:System.Diagnostics.Trace> classes share the same **Listeners** collection. If you add a listener object to the collection in one of these classes, the other class uses the same listener. The listener classes shipped with the .NET Framework derive from the <xref:System.Diagnostics.TraceListener> class.  \n  \n## Configuration File  \n This element can be used in the machine configuration file (Machine.config) and the application configuration file.  \n  \n## Example  \n The following example shows how to use the **\\<listeners>** element to add the listeners `MyListener` and `MyEventListener` to the **Listeners** collection. `MyListener` creates a file called `MyListener.log` and writes the output to the file. `MyEventListener` creates an entry in the event log.  \n  \n```xml  \n<configuration>  \n  <system.diagnostics>  \n    <trace autoflush=\"true\" indentsize=\"0\">  \n      <listeners>  \n        <add name=\"myListener\"   \n          type=\"System.Diagnostics.TextWriterTraceListener,   \n            system, version=1.0.3300.0, Culture=neutral,   \n            PublicKeyToken=b77a5c561934e089\"   \n          initializeData=\"c:\\myListener.log\" />  \n        <add name=\"MyEventListener\"  \n          type=\"System.Diagnostics.EventLogTraceListener,   \n            system, version=1.0.3300.0, Culture=neutral,   \n            PublicKeyToken=b77a5c561934e089\"  \n          initializeData=\"MyConfigEventLog\"/>  \n      </listeners>  \n    </trace>  \n  </system.diagnostics>  \n</configuration>  \n```  \n  \n## See also\n\n- <xref:System.Diagnostics.TraceListener>\n- [Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)\n","nodes":[{"pos":[4,308],"embed":true,"restype":"x-metadata","content":"title: \"<listeners> Element for <trace>\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.diagnostics/trace/listeners\"\nhelpviewer_keywords: \n  - \"<listeners> element\"\n  - \"listeners element\"\nms.assetid: 1394c2c3-6304-46db-87c1-8e8b16f5ad5b","nodes":[{"content":"<listeners> Element for <trace>","nodes":[{"pos":[0,31],"content":"<ph id=\"ph1\">&lt;listeners&gt;</ph> Element for <ph id=\"ph2\">&lt;trace&gt;</ph>","source":"<listeners> Element for <trace>"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[315,348],"content":"\\<listeners> Element for \\<trace>","linkify":"\\<listeners> Element for \\<trace>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>listeners&gt; Element for <ph id=\"ph2\">\\&lt;</ph>trace&gt;","pos":[0,33],"source":"\\<listeners> Element for \\<trace>"}]},{"content":"Specifies a listener that collects, stores, and routes messages.","pos":[349,413]},{"content":"Listeners direct the tracing output to an appropriate target.","pos":[414,475]},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt; Element","pos":[482,506],"source":"\\<configuration> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.diagnostics&gt; Element","pos":[509,538],"source":"\\<system.diagnostics> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>trace&gt; Element","pos":[541,557],"source":"\\<trace> Element"},{"content":"<ph id=\"ph1\">\\&lt;</ph>listeners&gt; Element for <ph id=\"ph2\">\\&lt;</ph>trace&gt;","pos":[560,593],"source":"\\<listeners> Element for \\<trace>"},{"pos":[602,608],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[716,739],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[743,823]},{"pos":[833,843],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"None.","pos":[847,852]},{"pos":[862,876],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[883,890]},{"content":"Description","pos":[891,902]},{"pos":[943,1060],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/add-element-for-listeners-for-trace.md)</ept>","source":"[\\<add>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/add-element-for-listeners-for-trace.md)"},{"pos":[1061,1107],"content":"Adds a listener to the <ph id=\"ph1\">`Listeners`</ph> collection.","source":"Adds a listener to the `Listeners` collection."},{"pos":[1112,1233],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>clear&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/clear-element-for-listeners-for-trace.md)</ept>","source":"[\\<clear>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/clear-element-for-listeners-for-trace.md)"},{"pos":[1234,1278],"content":"Clears the <ph id=\"ph1\">`Listeners`</ph> collection for trace.","source":"Clears the `Listeners` collection for trace."},{"pos":[1283,1406],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>remove&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/remove-element-for-listeners-for-trace.md)</ept>","source":"[\\<remove>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/remove-element-for-listeners-for-trace.md)"},{"pos":[1407,1458],"content":"Removes a listener from the <ph id=\"ph1\">`Listeners`</ph> collection.","source":"Removes a listener from the `Listeners` collection."},{"pos":[1469,1484],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1491,1498]},{"content":"Description","pos":[1499,1510]},{"content":"The root element in every configuration file used by the common language runtime and .NET Framework applications.","pos":[1567,1680]},{"content":"Specifies the root element for the ASP.NET configuration section.","pos":[1706,1771]},{"content":"Contains listeners that collect, store, and route tracing messages.","pos":[1784,1851]},{"pos":[1861,1868],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.Debug&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Diagnostics.Trace&gt;</ph> classes share the same <bpt id=\"p1\">**</bpt>Listeners<ept id=\"p1\">**</ept> collection.","pos":[1872,1992],"source":"The <xref:System.Diagnostics.Debug> and <xref:System.Diagnostics.Trace> classes share the same **Listeners** collection."},{"content":"If you add a listener object to the collection in one of these classes, the other class uses the same listener.","pos":[1993,2104]},{"content":"The listener classes shipped with the .NET Framework derive from the <ph id=\"ph1\">&lt;xref:System.Diagnostics.TraceListener&gt;</ph> class.","pos":[2105,2220],"source":" The listener classes shipped with the .NET Framework derive from the <xref:System.Diagnostics.TraceListener> class."},{"pos":[2229,2247],"content":"Configuration File","linkify":"Configuration File","nodes":[{"content":"Configuration File","pos":[0,18]}]},{"content":"This element can be used in the machine configuration file (Machine.config) and the application configuration file.","pos":[2251,2366]},{"pos":[2375,2382],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows how to use the <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\&lt;</ph>listeners&gt;<ept id=\"p1\">**</ept> element to add the listeners <ph id=\"ph2\">`MyListener`</ph> and <ph id=\"ph3\">`MyEventListener`</ph> to the <bpt id=\"p2\">**</bpt>Listeners<ept id=\"p2\">**</ept> collection.","pos":[2386,2542],"source":"The following example shows how to use the **\\<listeners>** element to add the listeners `MyListener` and `MyEventListener` to the **Listeners** collection."},{"content":"<ph id=\"ph1\">`MyListener`</ph> creates a file called <ph id=\"ph2\">`MyListener.log`</ph> and writes the output to the file.","pos":[2543,2629],"source":"`MyListener` creates a file called `MyListener.log` and writes the output to the file."},{"content":"<ph id=\"ph1\">`MyEventListener`</ph> creates an entry in the event log.","pos":[2630,2682],"source":"`MyEventListener` creates an entry in the event log."},{"pos":[3408,3416],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3462,3574],"content":"<bpt id=\"p1\">[</bpt>Trace and Debug Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)</ept>","source":"[Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)"}]}