{"content":"---\ntitle: \"&lt;peerAuthentication&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 09a8a9ff-e395-42f6-8ceb-9d44bdc1cbe1\ncaps.latest.revision: 7\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# &lt;peerAuthentication&gt; Element\nSpecifies authentication options for peer-to-peer clients.  \n  \n [!INCLUDE[crabout](../../../../../includes/crabout-md.md)] peer-to-peer programming, see [Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md).  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<endpointBehaviors>  \n\\<behavior>  \n\\<clientCredentials>  \n\\<peer>  \n\\<PeerAuthentication>  \n  \n## Syntax  \n  \n```  \n  \n<peerAuthentication  \ncustomCertificateValidatorType = \"namespace.typeName, [,AssemblyName] [,Version=version number] [,Culture=culture] [,PublicKeyToken=token]\"  \ncertificateValidationMode = \"ChainTrust/None/PeerTrust/PeerOrChainTrust/Custom\"  \nrevocationMode=\"NoCheck/Online/Offline\"  \ntrustedStoreLocation=\"CurrentUser/LocalMachine\"   \n/>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`customCertificateValidatorType`|Optional string. A type and assembly used to validate a custom type. This attribute must be set when `certificateValidationMode` is set to `Custom`.|  \n|`certifcateValidationMode`|Optional enumeration. Specifies one of three modes used to validate credentials. If set to `Custom`, then a `customCertificateValidator` must also be supplied. The default is `ChainTrust`.|  \n|`revocationMode`|Optional enumeration. One of the modes used to check for a revoked certificate lists (CRL). The default is `Online`.|  \n|`trustedStoreLocation`|Optional enumeration. One of the two system store locations: `LocalMachine` or `CurrentUser`. This value is used when a service certificate is negotiated to the client. Validation is performed against the **Trusted People** store in the specified store location. The default is `CurrentUser`.|  \n  \n## customCertificateValidatorType Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|String|Specifies the type name and assembly and other data used to find the type. At minimum, a namespace and type name are required. Optional information includes: assembly name, version number, culture, and public key token.|  \n  \n## certificateValidationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: `None`, `PeerTrust`, `ChainTrust`, `PeerOrChainTrust`, `Custom`. The default is `ChainTrust`.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## revocationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: `NoCheck`, `Online`, `Offline`. The default is `Online`.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## trustedStoreLocation Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: `LocalMachine` or `CurrentUser`. The default is `CurrentUser`. If the client application is running under a system account then the certificate is typically under `LocalMachine`. If the client application is running under a user account then the certificate is typically in `CurrentUser`.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<peer>](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-clientcredentials-element.md)|Specifies a credential used for authenticating the client to a peer service.|  \n  \n## Remarks  \n The `<authentication>` element corresponds to the <xref:System.ServiceModel.Security.X509PeerCertificateAuthentication> class. This element specifies a validator, which is invoked during neighbor-to-neighbor authentication in the mesh. When a new peer tries to establish a neighbor connection, it passes its own credential to the responding peer. The validator of the responder is invoked to verify the credential of the remote party. Whenever a peer connection is established in the mesh, both peers are mutually authenticated, meaning validators on both ends are invoked.  \n  \n## Example  \n The following code sets the certificate validation mode to `PeerOrChainTrust`.  \n  \n```  \n<behaviors>  \n <endpointBehaviors>  \n  <behavior name=\"MyEndpointBehavior\">  \n   <clientCredentials>  \n    <peer>  \n     <certificate findValue=\"www.contoso.com\"   \n                   storeLocation=\"LocalMachine\"  \n                   x509FindType=\"FindByIssuerName\" />  \n     <peerAuthentication   \n          certificateValidationMode=\"PeerOrChainTrust\" />  \n     <messageSenderAuthentication certificateValidationMode=\"None\" />  \n    </peer>  \n   </clientCredentials>  \n  </behavior>  \n</endpointBehaviors>  \n```  \n  \n## See Also  \n <xref:System.ServiceModel.Configuration.PeerCredentialElement>   \n <xref:System.ServiceModel.Security.X509PeerCertificateAuthentication>   \n <xref:System.ServiceModel.Security.PeerCredential.PeerAuthentication%2A>   \n <xref:System.ServiceModel.Configuration.PeerCredentialElement.PeerAuthentication%2A>   \n <xref:System.ServiceModel.Configuration.X509PeerCertificateAuthenticationElement>   \n [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)   \n [Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)   \n [Peer Channel Message Authentication](http://msdn.microsoft.com/en-us/80e73386-514e-4c30-9e4a-b9ca8c173a95)   \n [Peer Channel Custom Authentication](http://msdn.microsoft.com/en-us/4aa8a82e-41a8-48e2-8621-7e1cbabdca7c)   \n [Securing Peer Channel Applications](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)","nodes":[{"pos":[4,354],"nodes":[{"content":"&lt;peerAuthentication&gt; Element | Microsoft Docs","nodes":[{"pos":[0,51],"content":"&lt;peerAuthentication&gt; Element | Microsoft Docs","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>peerAuthentication<ph id=\"ph2\">&amp;gt;</ph> Element | Microsoft Docs","pos":[0,51],"source":"&lt;peerAuthentication&gt; Element | Microsoft Docs"}]}],"pos":[6,60],"yaml":true}],"content":"title: \"&lt;peerAuthentication&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 09a8a9ff-e395-42f6-8ceb-9d44bdc1cbe1\ncaps.latest.revision: 7\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","yamlblock":true},{"pos":[361,395],"content":"&lt;peerAuthentication&gt; Element","linkify":"&lt;peerAuthentication&gt; Element","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>peerAuthentication<ph id=\"ph2\">&amp;gt;</ph> Element","pos":[0,34],"source":"&lt;peerAuthentication&gt; Element"}]},{"content":"Specifies authentication options for peer-to-peer clients.","pos":[396,454]},{"pos":[461,654],"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../../includes/crabout-md.md)]</ph> peer-to-peer programming, see <bpt id=\"p1\">[</bpt>Peer-to-Peer Networking<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)</ept>.","source":"[!INCLUDE[crabout](../../../../../includes/crabout-md.md)] peer-to-peer programming, see [Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)."},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[661,683],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[686,698],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>endpointBehaviors&gt;","pos":[701,721],"source":"\\<endpointBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[724,735],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;","pos":[738,758],"source":"\\<clientCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>peer&gt;","pos":[761,768],"source":"\\<peer>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>PeerAuthentication&gt;","pos":[771,792],"source":"\\<PeerAuthentication>"},{"pos":[801,807],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1178,1201],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[1205,1284]},{"pos":[1294,1304],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1311,1320]},{"content":"Description","pos":[1321,1332]},{"content":"Optional string.","pos":[1408,1424]},{"content":"A type and assembly used to validate a custom type.","pos":[1425,1476]},{"content":"This attribute must be set when <ph id=\"ph1\">`certificateValidationMode`</ph> is set to <ph id=\"ph2\">`Custom`</ph>.","pos":[1477,1556],"source":" This attribute must be set when `certificateValidationMode` is set to `Custom`."},{"content":"Optional enumeration.","pos":[1588,1609]},{"content":"Specifies one of three modes used to validate credentials.","pos":[1610,1668]},{"content":"If set to <ph id=\"ph1\">`Custom`</ph>, then a <ph id=\"ph2\">`customCertificateValidator`</ph> must also be supplied.","pos":[1669,1747],"source":" If set to `Custom`, then a `customCertificateValidator` must also be supplied."},{"content":"The default is <ph id=\"ph1\">`ChainTrust`</ph>.","pos":[1748,1776],"source":" The default is `ChainTrust`."},{"content":"Optional enumeration.","pos":[1798,1819]},{"content":"One of the modes used to check for a revoked certificate lists (CRL).","pos":[1820,1889]},{"content":"The default is <ph id=\"ph1\">`Online`</ph>.","pos":[1890,1914],"source":" The default is `Online`."},{"content":"Optional enumeration.","pos":[1942,1963]},{"content":"One of the two system store locations: <ph id=\"ph1\">`LocalMachine`</ph> or <ph id=\"ph2\">`CurrentUser`</ph>.","pos":[1964,2035],"source":" One of the two system store locations: `LocalMachine` or `CurrentUser`."},{"content":"This value is used when a service certificate is negotiated to the client.","pos":[2036,2110]},{"content":"Validation is performed against the <bpt id=\"p1\">**</bpt>Trusted People<ept id=\"p1\">**</ept> store in the specified store location.","pos":[2111,2204],"source":" Validation is performed against the **Trusted People** store in the specified store location."},{"content":"The default is <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[2205,2234],"source":" The default is `CurrentUser`."},{"pos":[2244,2284],"content":"customCertificateValidatorType Attribute","linkify":"customCertificateValidatorType Attribute","nodes":[{"content":"customCertificateValidatorType Attribute","pos":[0,40]}]},{"content":"Value","pos":[2291,2296]},{"content":"Description","pos":[2297,2308]},{"content":"String","pos":[2347,2353]},{"content":"Specifies the type name and assembly and other data used to find the type.","pos":[2354,2428]},{"content":"At minimum, a namespace and type name are required.","pos":[2429,2480]},{"content":"Optional information includes: assembly name, version number, culture, and public key token.","pos":[2481,2573]},{"pos":[2583,2618],"content":"certificateValidationMode Attribute","linkify":"certificateValidationMode Attribute","nodes":[{"content":"certificateValidationMode Attribute","pos":[0,35]}]},{"content":"Value","pos":[2625,2630]},{"content":"Description","pos":[2631,2642]},{"content":"Enumeration","pos":[2681,2692]},{"content":"One of the following values: <ph id=\"ph1\">`None`</ph>, <ph id=\"ph2\">`PeerTrust`</ph>, <ph id=\"ph3\">`ChainTrust`</ph>, <ph id=\"ph4\">`PeerOrChainTrust`</ph>, <ph id=\"ph5\">`Custom`</ph>.","pos":[2693,2786],"source":"One of the following values: `None`, `PeerTrust`, `ChainTrust`, `PeerOrChainTrust`, `Custom`."},{"content":"The default is <ph id=\"ph1\">`ChainTrust`</ph>.","pos":[2787,2815],"source":" The default is `ChainTrust`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[2828,2962],"source":"For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[2972,2996],"content":"revocationMode Attribute","linkify":"revocationMode Attribute","nodes":[{"content":"revocationMode Attribute","pos":[0,24]}]},{"content":"Value","pos":[3003,3008]},{"content":"Description","pos":[3009,3020]},{"content":"Enumeration","pos":[3059,3070]},{"content":"One of the following values: <ph id=\"ph1\">`NoCheck`</ph>, <ph id=\"ph2\">`Online`</ph>, <ph id=\"ph3\">`Offline`</ph>.","pos":[3071,3131],"source":"One of the following values: `NoCheck`, `Online`, `Offline`."},{"content":"The default is <ph id=\"ph1\">`Online`</ph>.","pos":[3132,3156],"source":" The default is `Online`."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[3169,3303],"source":"For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[3313,3343],"content":"trustedStoreLocation Attribute","linkify":"trustedStoreLocation Attribute","nodes":[{"content":"trustedStoreLocation Attribute","pos":[0,30]}]},{"content":"Value","pos":[3350,3355]},{"content":"Description","pos":[3356,3367]},{"content":"Enumeration","pos":[3406,3417]},{"content":"One of the following values: <ph id=\"ph1\">`LocalMachine`</ph> or <ph id=\"ph2\">`CurrentUser`</ph>.","pos":[3418,3479],"source":"One of the following values: `LocalMachine` or `CurrentUser`."},{"content":"The default is <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[3480,3509],"source":" The default is `CurrentUser`."},{"content":"If the client application is running under a system account then the certificate is typically under <ph id=\"ph1\">`LocalMachine`</ph>.","pos":[3510,3625],"source":" If the client application is running under a system account then the certificate is typically under `LocalMachine`."},{"content":"If the client application is running under a user account then the certificate is typically in <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[3626,3735],"source":" If the client application is running under a user account then the certificate is typically in `CurrentUser`."},{"pos":[3746,3760],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[3764,3769]},{"pos":[3779,3794],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3801,3808]},{"content":"Description","pos":[3809,3820]},{"pos":[3861,3969],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>peer&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-clientcredentials-element.md)</ept>","source":"[\\<peer>](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-clientcredentials-element.md)"},{"content":"Specifies a credential used for authenticating the client to a peer service.","pos":[3970,4046]},{"pos":[4056,4063],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`&lt;authentication&gt;`</ph> element corresponds to the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Security.X509PeerCertificateAuthentication&gt;</ph> class.","pos":[4067,4193],"source":"The `<authentication>` element corresponds to the <xref:System.ServiceModel.Security.X509PeerCertificateAuthentication> class."},{"content":"This element specifies a validator, which is invoked during neighbor-to-neighbor authentication in the mesh.","pos":[4194,4302]},{"content":"When a new peer tries to establish a neighbor connection, it passes its own credential to the responding peer.","pos":[4303,4413]},{"content":"The validator of the responder is invoked to verify the credential of the remote party.","pos":[4414,4501]},{"content":"Whenever a peer connection is established in the mesh, both peers are mutually authenticated, meaning validators on both ends are invoked.","pos":[4502,4640]},{"pos":[4649,4656],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4660,4738],"content":"The following code sets the certificate validation mode to <ph id=\"ph1\">`PeerOrChainTrust`</ph>.","source":"The following code sets the certificate validation mode to `PeerOrChainTrust`."},{"pos":[5272,5280],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.PeerCredentialElement&gt;</ph>","pos":[5284,5346],"source":"<xref:System.ServiceModel.Configuration.PeerCredentialElement> "},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.X509PeerCertificateAuthentication&gt;</ph>","pos":[5351,5420],"source":"<xref:System.ServiceModel.Security.X509PeerCertificateAuthentication> "},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.PeerCredential.PeerAuthentication%2A&gt;</ph>","pos":[5425,5497],"source":"<xref:System.ServiceModel.Security.PeerCredential.PeerAuthentication%2A> "},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.PeerCredentialElement.PeerAuthentication%2A&gt;</ph>","pos":[5502,5586],"source":"<xref:System.ServiceModel.Configuration.PeerCredentialElement.PeerAuthentication%2A> "},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.X509PeerCertificateAuthenticationElement&gt;</ph>","pos":[5591,5672],"source":"<xref:System.ServiceModel.Configuration.X509PeerCertificateAuthenticationElement> "},{"content":"<bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept><ph id=\"ph1\"> </ph>","pos":[5677,5785],"source":"[Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md) "},{"content":"<bpt id=\"p1\">[</bpt>Peer-to-Peer Networking<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)</ept><ph id=\"ph1\"> </ph>","pos":[5789,5893],"source":"[Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md) "},{"content":"<bpt id=\"p1\">[</bpt>Peer Channel Message Authentication<ept id=\"p1\">](http://msdn.microsoft.com/en-us/80e73386-514e-4c30-9e4a-b9ca8c173a95)</ept><ph id=\"ph1\"> </ph>","pos":[5897,6005],"source":"[Peer Channel Message Authentication](http://msdn.microsoft.com/en-us/80e73386-514e-4c30-9e4a-b9ca8c173a95) "},{"content":"<bpt id=\"p1\">[</bpt>Peer Channel Custom Authentication<ept id=\"p1\">](http://msdn.microsoft.com/en-us/4aa8a82e-41a8-48e2-8621-7e1cbabdca7c)</ept><ph id=\"ph1\"> </ph>","pos":[6009,6116],"source":"[Peer Channel Custom Authentication](http://msdn.microsoft.com/en-us/4aa8a82e-41a8-48e2-8621-7e1cbabdca7c) "},{"content":"<bpt id=\"p1\">[</bpt>Securing Peer Channel Applications<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)</ept>","pos":[6120,6245],"source":"[Securing Peer Channel Applications](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)"}]}