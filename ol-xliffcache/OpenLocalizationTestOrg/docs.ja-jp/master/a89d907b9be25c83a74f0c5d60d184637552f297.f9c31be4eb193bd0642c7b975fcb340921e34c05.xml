{"content":"---\ntitle: \"Internet Information Services (IIS) Server Certificate Installation Instructions\"\nms.date: \"03/30/2017\"\nms.assetid: 11281490-d2ac-4324-8f33-e7714611a34b\n---\n# Internet Information Services (IIS) Server Certificate Installation Instructions\nTo run the samples that securely communicate with Internet Information Services (IIS), you must create and install a server certificate.  \n  \n## Step 1. Creating Certificates  \n To create a certificate for your computer, open a Developer Command Prompt for Visual Studio with administrator privileges and run the Setup.bat that is included in each of the samples that use secure communication with IIS. Ensure that the path includes the folder that contains Makecert.exe before you run this batch file. The following command is used to create the certificate in Setup.bat.  \n  \n```  \nmakecert -sr LocalMachine -ss My -n CN=ServiceModelSamples-HTTPS-Server -sky exchange -sk ServiceModelSamples-HTTPS-Key  \n```  \n  \n## Step 2. Installing Certificates  \n The steps required to install the certificates you just created depend on which version of IIS you are using.  \n  \n#### To install IIS on IIS 5.1 (Windows XP) and IIS 6.0 (Windows Server 2003)  \n  \n1.  Open the Internet Information Services Manager MMC Snap-In.  \n  \n2.  Right-click the default Web site and select **Properties**.  \n  \n3.  Select the **Directory Security** tab.  \n  \n4.  Click the **Server Certificate** button. The Web Server Certificate Wizard starts.  \n  \n5.  Complete the wizard. Select the option to assign a certificate. Select the ServiceModelSamples-HTTPS-Server certificate from the list of certificates that are displayed.  \n  \n     ![IIS Certificate Wizard](../../../../docs/framework/wcf/samples/media/iiscertificate-wizard.GIF \"IISCertificate_Wizard\")  \n  \n6.  Test access to the service in a browser by using the HTTPS address `https://localhost/servicemodelsamples/service.svc`.  \n  \n#### If SSL was previously configured by using Httpcfg.exe  \n  \n1.  Use Makecert.exe (or run Setup.bat) to create the server certificate.  \n  \n2.  Run the IIS manager and install the certificate according to the previous steps.  \n  \n3.  Add the following line of code to the client program.  \n  \n> [!IMPORTANT]\n>  This code is only required for test certificates such as those created by Makecert.exe. It is not recommended for production code.  \n  \n```  \nPermissiveCertificatePolicy.Enact(\"CN=ServiceModelSamples-HTTPS-Server\");  \n```  \n  \n#### To install IIS on IIS 7.0 (Windows Vista and Windows Server 2008)  \n  \n1.  From the **Start** menu, click **Run**, then type **inetmgr** to open the Internet Information Services (IIS) MMC snap-in.  \n  \n2.  Right-click the **Default Web Site** and select **Edit Bindings…**  \n  \n3.  Click the **Add** button of the **Site Bindings** dialog box.  \n  \n4.  Select **HTTPS** from the **Type** drop-down list.  \n  \n5.  Select the **ServiceModelSamples-HTTPS-Server** from the **SSL certificate** drop-down list and click **OK**.  \n  \n6.  Test access to the service in a browser by using the HTTPS address `https://localhost/servicemodelsamples/service.svc`.  \n  \n> [!NOTE]\n>  Because the test certificate you have just installed is not a trusted certificate, you may encounter additional Internet Explorer security warnings when browsing to local Web addresses secured with this certificate.  \n  \n## Removing Certificates  \n  \n-   Use the Internet Information Services Manager as previously directed, but remove the certificate or binding instead of adding it.  \n  \n-   Remove the computer certificate by using the following command.  \n  \n    ```  \n    httpcfg delete ssl -i 0.0.0.0:443  \n    ```\n","nodes":[{"pos":[4,164],"embed":true,"restype":"x-metadata","content":"title: \"Internet Information Services (IIS) Server Certificate Installation Instructions\"\nms.date: \"03/30/2017\"\nms.assetid: 11281490-d2ac-4324-8f33-e7714611a34b","nodes":[{"content":"Internet Information Services (IIS) Server Certificate Installation Instructions","nodes":[{"pos":[0,80],"content":"Internet Information Services (IIS) Server Certificate Installation Instructions","nodes":[{"content":"Internet Information Services (IIS) Server Certificate Installation Instructions","pos":[0,80]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[171,251],"content":"Internet Information Services (IIS) Server Certificate Installation Instructions","linkify":"Internet Information Services (IIS) Server Certificate Installation Instructions","nodes":[{"content":"Internet Information Services (IIS) Server Certificate Installation Instructions","pos":[0,80]}]},{"content":"To run the samples that securely communicate with Internet Information Services (IIS), you must create and install a server certificate.","pos":[252,388]},{"pos":[397,426],"content":"Step 1. Creating Certificates","linkify":"Step 1. Creating Certificates","nodes":[{"content":"Step 1. Creating Certificates","pos":[0,29],"nodes":[{"content":"Step 1.","pos":[0,7]},{"content":"Creating Certificates","pos":[8,29]}]}]},{"content":"To create a certificate for your computer, open a Developer Command Prompt for Visual Studio with administrator privileges and run the Setup.bat that is included in each of the samples that use secure communication with IIS.","pos":[430,654]},{"content":"Ensure that the path includes the folder that contains Makecert.exe before you run this batch file.","pos":[655,754]},{"content":"The following command is used to create the certificate in Setup.bat.","pos":[755,824]},{"pos":[970,1001],"content":"Step 2. Installing Certificates","linkify":"Step 2. Installing Certificates","nodes":[{"content":"Step 2. Installing Certificates","pos":[0,31],"nodes":[{"content":"Step 2.","pos":[0,7]},{"content":"Installing Certificates","pos":[8,31]}]}]},{"content":"The steps required to install the certificates you just created depend on which version of IIS you are using.","pos":[1005,1114]},{"pos":[1125,1197],"content":"To install IIS on IIS 5.1 (Windows XP) and IIS 6.0 (Windows Server 2003)","linkify":"To install IIS on IIS 5.1 (Windows XP) and IIS 6.0 (Windows Server 2003)","nodes":[{"content":"To install IIS on IIS 5.1 (Windows XP) and IIS 6.0 (Windows Server 2003)","pos":[0,72]}]},{"content":"Open the Internet Information Services Manager MMC Snap-In.","pos":[1207,1266]},{"pos":[1276,1335],"content":"Right-click the default Web site and select <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","source":"Right-click the default Web site and select **Properties**."},{"pos":[1345,1383],"content":"Select the <bpt id=\"p1\">**</bpt>Directory Security<ept id=\"p1\">**</ept> tab.","source":"Select the **Directory Security** tab."},{"content":"Click the <bpt id=\"p1\">**</bpt>Server Certificate<ept id=\"p1\">**</ept> button.","pos":[1393,1433],"source":"Click the **Server Certificate** button."},{"content":"The Web Server Certificate Wizard starts.","pos":[1434,1475]},{"content":"Complete the wizard.","pos":[1485,1505]},{"content":"Select the option to assign a certificate.","pos":[1506,1548]},{"content":"Select the ServiceModelSamples-HTTPS-Server certificate from the list of certificates that are displayed.","pos":[1549,1654]},{"pos":[1665,1786],"content":"<bpt id=\"p1\">![</bpt>IIS Certificate Wizard<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/samples/media/iiscertificate-wizard.GIF \"</bpt>IISCertificate_Wizard<ept id=\"p2\">\")</ept>","source":"![IIS Certificate Wizard](../../../../docs/framework/wcf/samples/media/iiscertificate-wizard.GIF \"IISCertificate_Wizard\")"},{"pos":[1796,1915],"content":"Test access to the service in a browser by using the HTTPS address <ph id=\"ph1\">`https://localhost/servicemodelsamples/service.svc`</ph>.","source":"Test access to the service in a browser by using the HTTPS address `https://localhost/servicemodelsamples/service.svc`."},{"pos":[1926,1979],"content":"If SSL was previously configured by using Httpcfg.exe","linkify":"If SSL was previously configured by using Httpcfg.exe","nodes":[{"content":"If SSL was previously configured by using Httpcfg.exe","pos":[0,53]}]},{"content":"Use Makecert.exe (or run Setup.bat) to create the server certificate.","pos":[1989,2058]},{"content":"Run the IIS manager and install the certificate according to the previous steps.","pos":[2068,2148]},{"content":"Add the following line of code to the client program.","pos":[2158,2211]},{"pos":[2219,2365],"content":"[!IMPORTANT]\n This code is only required for test certificates such as those created by Makecert.exe. It is not recommended for production code.","leadings":["","> "],"nodes":[{"content":"This code is only required for test certificates such as those created by Makecert.exe. It is not recommended for production code.","pos":[14,144],"nodes":[{"content":"This code is only required for test certificates such as those created by Makecert.exe.","pos":[0,87]},{"content":"It is not recommended for production code.","pos":[88,130]}]}]},{"pos":[2467,2532],"content":"To install IIS on IIS 7.0 (Windows Vista and Windows Server 2008)","linkify":"To install IIS on IIS 7.0 (Windows Vista and Windows Server 2008)","nodes":[{"content":"To install IIS on IIS 7.0 (Windows Vista and Windows Server 2008)","pos":[0,65]}]},{"pos":[2542,2664],"content":"From the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Run<ept id=\"p2\">**</ept>, then type <bpt id=\"p3\">**</bpt>inetmgr<ept id=\"p3\">**</ept> to open the Internet Information Services (IIS) MMC snap-in.","source":"From the **Start** menu, click **Run**, then type **inetmgr** to open the Internet Information Services (IIS) MMC snap-in."},{"pos":[2674,2740],"content":"Right-click the <bpt id=\"p1\">**</bpt>Default Web Site<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Edit Bindings…<ept id=\"p2\">**</ept>","source":"Right-click the **Default Web Site** and select **Edit Bindings…**"},{"pos":[2750,2811],"content":"Click the <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> button of the <bpt id=\"p2\">**</bpt>Site Bindings<ept id=\"p2\">**</ept> dialog box.","source":"Click the **Add** button of the **Site Bindings** dialog box."},{"pos":[2821,2871],"content":"Select <bpt id=\"p1\">**</bpt>HTTPS<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>Type<ept id=\"p2\">**</ept> drop-down list.","source":"Select **HTTPS** from the **Type** drop-down list."},{"pos":[2881,2990],"content":"Select the <bpt id=\"p1\">**</bpt>ServiceModelSamples-HTTPS-Server<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>SSL certificate<ept id=\"p2\">**</ept> drop-down list and click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","source":"Select the **ServiceModelSamples-HTTPS-Server** from the **SSL certificate** drop-down list and click **OK**."},{"pos":[3000,3119],"content":"Test access to the service in a browser by using the HTTPS address <ph id=\"ph1\">`https://localhost/servicemodelsamples/service.svc`</ph>.","source":"Test access to the service in a browser by using the HTTPS address `https://localhost/servicemodelsamples/service.svc`."},{"pos":[3127,3353],"content":"[!NOTE]\n Because the test certificate you have just installed is not a trusted certificate, you may encounter additional Internet Explorer security warnings when browsing to local Web addresses secured with this certificate.","leadings":["","> "],"nodes":[{"content":"Because the test certificate you have just installed is not a trusted certificate, you may encounter additional Internet Explorer security warnings when browsing to local Web addresses secured with this certificate.","pos":[9,224]}]},{"pos":[3362,3383],"content":"Removing Certificates","linkify":"Removing Certificates","nodes":[{"content":"Removing Certificates","pos":[0,21]}]},{"content":"Use the Internet Information Services Manager as previously directed, but remove the certificate or binding instead of adding it.","pos":[3393,3522]},{"content":"Remove the computer certificate by using the following command.","pos":[3532,3595]}]}