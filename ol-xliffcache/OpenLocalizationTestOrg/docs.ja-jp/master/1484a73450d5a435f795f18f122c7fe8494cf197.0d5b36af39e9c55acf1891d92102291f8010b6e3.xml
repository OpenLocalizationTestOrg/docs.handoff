{"content":"---\ntitle: \"entity key\"\nms.date: \"03/30/2017\"\nms.assetid: 0d447a6d-fa7a-4db0-8e7a-fd45e385fca0\n---\n# entity key\nAn *entity key* is a [property](../../../../docs/framework/data/adonet/property.md) or a set of properties of an [entity type](../../../../docs/framework/data/adonet/entity-type.md) that are used to determine identity. The properties that make up an entity key are chosen at design time. The values of entity key properties must uniquely identify an entity type instance within an [entity set](../../../../docs/framework/data/adonet/entity-set.md) at run time. The properties that make up an entity key should be chosen to guarantee uniqueness of instances in an entity set.  \n  \n The following are the requirements for a set of properties to be an entity key:  \n  \n-   No two entity keys within an entity set can be identical. That is, for any two entities within an entity set, the values for all of the properties that constitute a key cannot be the same. However, some (but not all) of the values that make up an entity key can be the same.  \n  \n-   An entity key must consist of a set of non-nullable, immutable, [primitive type properties](../../../../docs/framework/data/adonet/entity-data-model-primitive-data-types.md).  \n  \n-   The properties that make up an entity key for a given entity type cannot change. You cannot allow more than one possible entity key for a given entity type; surrogate keys are not supported.  \n  \n-   When an entity is involved in an inheritance hierarchy, the root entity must contain all the properties that make up the entity key, and the entity key must be defined on the root entity type. For more information, see [Entity Data Model: Inheritance](../../../../docs/framework/data/adonet/entity-data-model-inheritance.md).  \n  \n## Example  \n The diagram below shows a conceptual model with three entity types: `Book`, `Publisher`, and `Author`. The properties of each entity type that make up its entity key are denoted with \"(Key)\". Note that the `Author` entity type has an entity key that consists of two properties, `Name` and `Address`.  \n  \n ![Example model with three entity types](./media/entity-key/example-model-three-entity-types.gif)  \n  \n The [ADO.NET Entity Framework](../../../../docs/framework/data/adonet/ef/index.md) uses a domain-specific language (DSL) called conceptual schema definition language ([CSDL](../../../../docs/framework/data/adonet/ef/language-reference/csdl-specification.md)) to define conceptual models. The CSDL below defines the `Book` entity type shown in the diagram above. Note that the entity key is defined by referencing the `ISBN` property of the entity type.  \n  \n [!code-xml[EDM_Example_Model#EntityExample](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books.edmx#entityexample)]  \n  \n The `ISBN` property is a good choice for the entity key because an International Standard Book Number (ISBN) uniquely identifies a book.  \n  \n The CSDL below defines the `Author` entity type shown in the diagram above. Note that the entity key consists of two properties, `Name` and `Address`.  \n  \n [!code-xml[EDM_Example_Model#CompositeKeyExample](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books.edmx#compositekeyexample)]  \n  \n Using `Name` and `Address` for the entity key is a reasonable choice, because two authors of the same name are unlikely to live at the same address. However, this choice for an entity key does not absolutely guarantee unique entity keys in an entity set. Adding a property, such as `AuthorId`, that could be used to uniquely identify an author would be recommended in this case.  \n  \n## See also\n\n- [Entity Data Model Key Concepts](../../../../docs/framework/data/adonet/entity-data-model-key-concepts.md)\n- [Entity Data Model](../../../../docs/framework/data/adonet/entity-data-model.md)\n","nodes":[{"pos":[4,94],"embed":true,"restype":"x-metadata","content":"title: \"entity key\"\nms.date: \"03/30/2017\"\nms.assetid: 0d447a6d-fa7a-4db0-8e7a-fd45e385fca0","nodes":[{"content":"entity key","nodes":[{"pos":[0,10],"content":"entity key","nodes":[{"content":"entity key","pos":[0,10]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[101,111],"content":"entity key","linkify":"entity key","nodes":[{"content":"entity key","pos":[0,10]}]},{"content":"An <bpt id=\"p1\">*</bpt>entity key<ept id=\"p1\">*</ept> is a <bpt id=\"p2\">[</bpt>property<ept id=\"p2\">](../../../../docs/framework/data/adonet/property.md)</ept> or a set of properties of an <bpt id=\"p3\">[</bpt>entity type<ept id=\"p3\">](../../../../docs/framework/data/adonet/entity-type.md)</ept> that are used to determine identity.","pos":[112,330],"source":"An *entity key* is a [property](../../../../docs/framework/data/adonet/property.md) or a set of properties of an [entity type](../../../../docs/framework/data/adonet/entity-type.md) that are used to determine identity."},{"content":"The properties that make up an entity key are chosen at design time.","pos":[331,399]},{"content":"The values of entity key properties must uniquely identify an entity type instance within an <bpt id=\"p1\">[</bpt>entity set<ept id=\"p1\">](../../../../docs/framework/data/adonet/entity-set.md)</ept> at run time.","pos":[400,572],"source":" The values of entity key properties must uniquely identify an entity type instance within an [entity set](../../../../docs/framework/data/adonet/entity-set.md) at run time."},{"content":"The properties that make up an entity key should be chosen to guarantee uniqueness of instances in an entity set.","pos":[573,686]},{"content":"The following are the requirements for a set of properties to be an entity key:","pos":[693,772]},{"content":"No two entity keys within an entity set can be identical.","pos":[782,839]},{"content":"That is, for any two entities within an entity set, the values for all of the properties that constitute a key cannot be the same.","pos":[840,970]},{"content":"However, some (but not all) of the values that make up an entity key can be the same.","pos":[971,1056]},{"pos":[1066,1240],"content":"An entity key must consist of a set of non-nullable, immutable, <bpt id=\"p1\">[</bpt>primitive type properties<ept id=\"p1\">](../../../../docs/framework/data/adonet/entity-data-model-primitive-data-types.md)</ept>.","source":"An entity key must consist of a set of non-nullable, immutable, [primitive type properties](../../../../docs/framework/data/adonet/entity-data-model-primitive-data-types.md)."},{"content":"The properties that make up an entity key for a given entity type cannot change.","pos":[1250,1330]},{"content":"You cannot allow more than one possible entity key for a given entity type; surrogate keys are not supported.","pos":[1331,1440]},{"content":"When an entity is involved in an inheritance hierarchy, the root entity must contain all the properties that make up the entity key, and the entity key must be defined on the root entity type.","pos":[1450,1642]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Entity Data Model: Inheritance<ept id=\"p1\">](../../../../docs/framework/data/adonet/entity-data-model-inheritance.md)</ept>.","pos":[1643,1775],"source":" For more information, see [Entity Data Model: Inheritance](../../../../docs/framework/data/adonet/entity-data-model-inheritance.md)."},{"pos":[1784,1791],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The diagram below shows a conceptual model with three entity types: <ph id=\"ph1\">`Book`</ph>, <ph id=\"ph2\">`Publisher`</ph>, and <ph id=\"ph3\">`Author`</ph>.","pos":[1795,1897],"source":"The diagram below shows a conceptual model with three entity types: `Book`, `Publisher`, and `Author`."},{"content":"The properties of each entity type that make up its entity key are denoted with \"(Key)\".","pos":[1898,1986]},{"content":"Note that the <ph id=\"ph1\">`Author`</ph> entity type has an entity key that consists of two properties, <ph id=\"ph2\">`Name`</ph> and <ph id=\"ph3\">`Address`</ph>.","pos":[1987,2094],"source":" Note that the `Author` entity type has an entity key that consists of two properties, `Name` and `Address`."},{"content":"Example model with three entity types","pos":[2103,2140]},{"content":"The <bpt id=\"p1\">[</bpt>ADO.NET Entity Framework<ept id=\"p1\">](../../../../docs/framework/data/adonet/ef/index.md)</ept> uses a domain-specific language (DSL) called conceptual schema definition language (<bpt id=\"p2\">[</bpt>CSDL<ept id=\"p2\">](../../../../docs/framework/data/adonet/ef/language-reference/csdl-specification.md)</ept>) to define conceptual models.","pos":[2205,2492],"source":"The [ADO.NET Entity Framework](../../../../docs/framework/data/adonet/ef/index.md) uses a domain-specific language (DSL) called conceptual schema definition language ([CSDL](../../../../docs/framework/data/adonet/ef/language-reference/csdl-specification.md)) to define conceptual models."},{"content":"The CSDL below defines the <ph id=\"ph1\">`Book`</ph> entity type shown in the diagram above.","pos":[2493,2566],"source":" The CSDL below defines the `Book` entity type shown in the diagram above."},{"content":"Note that the entity key is defined by referencing the <ph id=\"ph1\">`ISBN`</ph> property of the entity type.","pos":[2567,2657],"source":" Note that the entity key is defined by referencing the `ISBN` property of the entity type."},{"pos":[2813,2949],"content":"The <ph id=\"ph1\">`ISBN`</ph> property is a good choice for the entity key because an International Standard Book Number (ISBN) uniquely identifies a book.","source":"The `ISBN` property is a good choice for the entity key because an International Standard Book Number (ISBN) uniquely identifies a book."},{"content":"The CSDL below defines the <ph id=\"ph1\">`Author`</ph> entity type shown in the diagram above.","pos":[2956,3031],"source":"The CSDL below defines the `Author` entity type shown in the diagram above."},{"content":"Note that the entity key consists of two properties, <ph id=\"ph1\">`Name`</ph> and <ph id=\"ph2\">`Address`</ph>.","pos":[3032,3106],"source":" Note that the entity key consists of two properties, `Name` and `Address`."},{"content":"Using <ph id=\"ph1\">`Name`</ph> and <ph id=\"ph2\">`Address`</ph> for the entity key is a reasonable choice, because two authors of the same name are unlikely to live at the same address.","pos":[3274,3422],"source":"Using `Name` and `Address` for the entity key is a reasonable choice, because two authors of the same name are unlikely to live at the same address."},{"content":"However, this choice for an entity key does not absolutely guarantee unique entity keys in an entity set.","pos":[3423,3528]},{"content":"Adding a property, such as <ph id=\"ph1\">`AuthorId`</ph>, that could be used to uniquely identify an author would be recommended in this case.","pos":[3529,3652],"source":" Adding a property, such as `AuthorId`, that could be used to uniquely identify an author would be recommended in this case."},{"pos":[3661,3669],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3673,3779],"content":"<bpt id=\"p1\">[</bpt>Entity Data Model Key Concepts<ept id=\"p1\">](../../../../docs/framework/data/adonet/entity-data-model-key-concepts.md)</ept>","source":"[Entity Data Model Key Concepts](../../../../docs/framework/data/adonet/entity-data-model-key-concepts.md)"},{"pos":[3782,3862],"content":"<bpt id=\"p1\">[</bpt>Entity Data Model<ept id=\"p1\">](../../../../docs/framework/data/adonet/entity-data-model.md)</ept>","source":"[Entity Data Model](../../../../docs/framework/data/adonet/entity-data-model.md)"}]}