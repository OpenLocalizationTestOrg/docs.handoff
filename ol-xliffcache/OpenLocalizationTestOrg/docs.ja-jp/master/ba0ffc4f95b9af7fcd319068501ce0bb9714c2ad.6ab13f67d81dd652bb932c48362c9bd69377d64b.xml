{"content":"---\ntitle: \"<add> Element for <listeners> for <trace>\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.diagnostics/trace/listeners/add\"\nhelpviewer_keywords: \n  - \"initializeData attribute\"\n  - \"<add> element for <listeners>\"\n  - \"add element for <listeners>\"\nms.assetid: 81e804a3-ef11-4d39-bbde-bfa012c179e2\n---\n# \\<add> Element for \\<listeners> for \\<trace>\nAdds a listener to the **Listeners** collection.  \n  \n \\<configuration>  \n\\<system.diagnostics>  \n\\<trace>  \n\\<listeners>  \n\\<add>  \n  \n## Syntax  \n  \n```xml  \n<add name=\"name\"   \n     type=\"trace listener class name, Version, Culture, PublicKeyToken\"  \n     initializeData=\"data\"/>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|**type**|Required attribute.<br /><br /> Specifies the type of the listener. You must use a string that meets the requirements specified in [Specifying Fully Qualified Type Names](../../../../../docs/framework/reflection-and-codedom/specifying-fully-qualified-type-names.md).|  \n|**initializeData**|Optional attribute.<br /><br /> The string passed to the constructor for the specified class.|  \n|**name**|Optional attribute.<br /><br /> Specifies the name of the listener.|  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<filter>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/filter-element-for-add-for-listeners-for-trace.md)|Adds a filter to a listener in the `Listeners` collection for a trace.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`configuration`|The root element in every configuration file used by the common language runtime and .NET Framework applications.|  \n|`listeners`|Specifies a listener that collects, stores, and routes messages. Listeners direct the tracing output to an appropriate target.|  \n|`system.diagnostics`|Specifies the root element for the ASP.NET configuration section.|  \n|`trace`|Contains listeners that collect, store, and route tracing messages.|  \n  \n## Remarks  \n The <xref:System.Diagnostics.Debug> and <xref:System.Diagnostics.Trace> classes share the same **Listeners** collection. If you add a listener object to the collection in one of these classes, the other class uses the same listener. The listener classes derive from the <xref:System.Diagnostics.TraceListener>.  \n  \n If you do not specify the `name` attribute of the trace listener, the <xref:System.Diagnostics.TraceListener.Name%2A> of the trace listener defaults to an empty string (\"\"). If your application has only one listener, you can add it without specifying a name, and remove it by specifying an empty string for the name. However, if your application has more than one listener, you should specify unique names for each trace listener, which allows you to identify and manage individual trace listeners within the <xref:System.Diagnostics.Debug.Listeners%2A> and <xref:System.Diagnostics.Trace.Listeners%2A> collections.  \n  \n> [!NOTE]\n>  Adding more than one trace listener of the same type and with the same name results in only one trace listener of that type and name being added to the `Listeners` collection. However, you can programmatically add multiple identical listeners to the `Listeners` collection.  \n  \n The value for the **initializeData** attribute depends on the type of listener you create. Not all trace listeners require that you specify **initializeData**.  \n  \n> [!NOTE]\n>  When you use the `initializeData` attribute, you may get the compiler warning \"The 'initializeData' attribute is not declared.\" This warning occurs because the configuration settings are validated against the abstract base class <xref:System.Diagnostics.TraceListener>, which does not recognize the `initializeData` attribute. Typically, you can ignore this warning for trace listener implementations that have a constructor that takes a parameter.  \n  \n The following table shows the trace listeners that are included with the .NET Framework and describes the value of their **initializeData** attributes.  \n  \n|Trace listener class|initializeData attribute value|  \n|--------------------------|------------------------------------|  \n|<xref:System.Diagnostics.ConsoleTraceListener?displayProperty=nameWithType>|The `useErrorStream` value for the <xref:System.Diagnostics.ConsoleTraceListener.%23ctor%2A> constructor.  Set the `initializeData` attribute to \"`true`\" to write trace and debug output to <xref:System.Console.Error%2A?displayProperty=nameWithType>; \"`false`\" to write to <xref:System.Console.Out%2A?displayProperty=nameWithType>.|  \n|<xref:System.Diagnostics.DelimitedListTraceListener?displayProperty=nameWithType>|The name of the file the <xref:System.Diagnostics.DelimitedListTraceListener> writes to.|  \n|<xref:System.Diagnostics.EventLogTraceListener?displayProperty=nameWithType>|The name of the name of an existing event log source.|  \n|<xref:System.Diagnostics.EventSchemaTraceListener?displayProperty=nameWithType>|The name of the file that the <xref:System.Diagnostics.EventSchemaTraceListener> writes to.|  \n|<xref:System.Diagnostics.TextWriterTraceListener?displayProperty=nameWithType>|The name of the file that the <xref:System.Diagnostics.TextWriterTraceListener> writes to.|  \n|<xref:System.Diagnostics.XmlWriterTraceListener?displayProperty=nameWithType>|The name of the file that the <xref:System.Diagnostics.XmlWriterTraceListener> writes to.|  \n  \n## Example  \n The following example shows how to use **\\<add>** elements to add the listeners `MyListener` and `MyEventListener` to the **Listeners** collection. `MyListener` creates a file called `MyListener.log` and writes the output to the file. `MyEventListener` creates an entry in the event log.  \n  \n```xml  \n<configuration>  \n   <system.diagnostics>  \n      <trace autoflush=\"true\" indentsize=\"0\">  \n         <listeners>  \n            <add name=\"myListener\" type=\"System.Diagnostics.TextWriterTraceListener, system, version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" initializeData=\"c:\\myListener.log\" />  \n            <add name=\"MyEventListener\"  \n                 type=\"System.Diagnostics.EventLogTraceListener, system, version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\"                 initializeData=\"MyConfigEventLog\"/>  \n            <add name=\"configConsoleListener\"  \n                 type=\"System.Diagnostics.ConsoleTraceListener, system, version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\"/>  \n         </listeners>  \n      </trace>  \n   </system.diagnostics>  \n</configuration>  \n```  \n  \n## See also\n\n- <xref:System.Diagnostics.Trace>\n- <xref:System.Diagnostics.Debug>\n- <xref:System.Diagnostics.EventLogTraceListener>\n- <xref:System.Diagnostics.ConsoleTraceListener>\n- <xref:System.Diagnostics.TextWriterTraceListener>\n- [Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)\n- [Trace Listeners](../../../../../docs/framework/debug-trace-profile/trace-listeners.md)\n","nodes":[{"pos":[4,373],"embed":true,"restype":"x-metadata","content":"title: \"<add> Element for <listeners> for <trace>\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.diagnostics/trace/listeners/add\"\nhelpviewer_keywords: \n  - \"initializeData attribute\"\n  - \"<add> element for <listeners>\"\n  - \"add element for <listeners>\"\nms.assetid: 81e804a3-ef11-4d39-bbde-bfa012c179e2","nodes":[{"content":"<add> Element for <listeners> for <trace>","nodes":[{"pos":[0,41],"content":"<ph id=\"ph1\">&lt;add&gt;</ph> Element for <ph id=\"ph2\">&lt;listeners&gt;</ph> for <ph id=\"ph3\">&lt;trace&gt;</ph>","source":"<add> Element for <listeners> for <trace>"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[380,424],"content":"\\<add> Element for \\<listeners> for \\<trace>","linkify":"\\<add> Element for \\<listeners> for \\<trace>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>add&gt; Element for <ph id=\"ph2\">\\&lt;</ph>listeners&gt; for <ph id=\"ph3\">\\&lt;</ph>trace&gt;","pos":[0,44],"source":"\\<add> Element for \\<listeners> for \\<trace>"}]},{"pos":[425,473],"content":"Adds a listener to the <bpt id=\"p1\">**</bpt>Listeners<ept id=\"p1\">**</ept> collection.","source":"Adds a listener to the **Listeners** collection."},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt;","pos":[480,496],"source":"\\<configuration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.diagnostics&gt;","pos":[499,520],"source":"\\<system.diagnostics>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>trace&gt;","pos":[523,531],"source":"\\<trace>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>listeners&gt;","pos":[534,546],"source":"\\<listeners>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>add&gt;","pos":[549,555],"source":"\\<add>"},{"pos":[564,570],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[722,745],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[749,829]},{"pos":[839,849],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[856,865]},{"content":"Description","pos":[866,877]},{"pos":[920,928],"content":"<bpt id=\"p1\">**</bpt>type<ept id=\"p1\">**</ept>","source":"**type**"},{"content":"Required attribute.","pos":[929,948]},{"content":"Specifies the type of the listener.","pos":[961,996]},{"content":"You must use a string that meets the requirements specified in <bpt id=\"p1\">[</bpt>Specifying Fully Qualified Type Names<ept id=\"p1\">](../../../../../docs/framework/reflection-and-codedom/specifying-fully-qualified-type-names.md)</ept>.","pos":[997,1195],"source":" You must use a string that meets the requirements specified in [Specifying Fully Qualified Type Names](../../../../../docs/framework/reflection-and-codedom/specifying-fully-qualified-type-names.md)."},{"pos":[1200,1218],"content":"<bpt id=\"p1\">**</bpt>initializeData<ept id=\"p1\">**</ept>","source":"**initializeData**"},{"content":"Optional attribute.","pos":[1219,1238]},{"content":"The string passed to the constructor for the specified class.","pos":[1251,1312]},{"pos":[1317,1325],"content":"<bpt id=\"p1\">**</bpt>name<ept id=\"p1\">**</ept>","source":"**name**"},{"content":"Optional attribute.","pos":[1326,1345]},{"content":"Specifies the name of the listener.","pos":[1358,1393]},{"pos":[1404,1418],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[1425,1432]},{"content":"Description","pos":[1433,1444]},{"pos":[1485,1616],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>filter&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/filter-element-for-add-for-listeners-for-trace.md)</ept>","source":"[\\<filter>](../../../../../docs/framework/configure-apps/file-schema/trace-debug/filter-element-for-add-for-listeners-for-trace.md)"},{"pos":[1617,1687],"content":"Adds a filter to a listener in the <ph id=\"ph1\">`Listeners`</ph> collection for a trace.","source":"Adds a filter to a listener in the `Listeners` collection for a trace."},{"pos":[1698,1713],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1720,1727]},{"content":"Description","pos":[1728,1739]},{"content":"The root element in every configuration file used by the common language runtime and .NET Framework applications.","pos":[1796,1909]},{"content":"Specifies a listener that collects, stores, and routes messages.","pos":[1926,1990]},{"content":"Listeners direct the tracing output to an appropriate target.","pos":[1991,2052]},{"content":"Specifies the root element for the ASP.NET configuration section.","pos":[2078,2143]},{"content":"Contains listeners that collect, store, and route tracing messages.","pos":[2156,2223]},{"pos":[2233,2240],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.Debug&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Diagnostics.Trace&gt;</ph> classes share the same <bpt id=\"p1\">**</bpt>Listeners<ept id=\"p1\">**</ept> collection.","pos":[2244,2364],"source":"The <xref:System.Diagnostics.Debug> and <xref:System.Diagnostics.Trace> classes share the same **Listeners** collection."},{"content":"If you add a listener object to the collection in one of these classes, the other class uses the same listener.","pos":[2365,2476]},{"content":"The listener classes derive from the <ph id=\"ph1\">&lt;xref:System.Diagnostics.TraceListener&gt;</ph>.","pos":[2477,2554],"source":" The listener classes derive from the <xref:System.Diagnostics.TraceListener>."},{"content":"If you do not specify the <ph id=\"ph1\">`name`</ph> attribute of the trace listener, the <ph id=\"ph2\">&lt;xref:System.Diagnostics.TraceListener.Name%2A&gt;</ph> of the trace listener defaults to an empty string (\"\").","pos":[2561,2734],"source":"If you do not specify the `name` attribute of the trace listener, the <xref:System.Diagnostics.TraceListener.Name%2A> of the trace listener defaults to an empty string (\"\")."},{"content":"If your application has only one listener, you can add it without specifying a name, and remove it by specifying an empty string for the name.","pos":[2735,2877]},{"content":"However, if your application has more than one listener, you should specify unique names for each trace listener, which allows you to identify and manage individual trace listeners within the <ph id=\"ph1\">&lt;xref:System.Diagnostics.Debug.Listeners%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Diagnostics.Trace.Listeners%2A&gt;</ph> collections.","pos":[2878,3176],"source":" However, if your application has more than one listener, you should specify unique names for each trace listener, which allows you to identify and manage individual trace listeners within the <xref:System.Diagnostics.Debug.Listeners%2A> and <xref:System.Diagnostics.Trace.Listeners%2A> collections."},{"pos":[3184,3468],"content":"[!NOTE]\n Adding more than one trace listener of the same type and with the same name results in only one trace listener of that type and name being added to the `Listeners` collection. However, you can programmatically add multiple identical listeners to the `Listeners` collection.","leadings":["","> "],"nodes":[{"content":"Adding more than one trace listener of the same type and with the same name results in only one trace listener of that type and name being added to the `Listeners` collection. However, you can programmatically add multiple identical listeners to the `Listeners` collection.","pos":[9,282],"nodes":[{"content":"Adding more than one trace listener of the same type and with the same name results in only one trace listener of that type and name being added to the <ph id=\"ph1\">`Listeners`</ph> collection.","pos":[0,175],"source":"Adding more than one trace listener of the same type and with the same name results in only one trace listener of that type and name being added to the `Listeners` collection."},{"content":"However, you can programmatically add multiple identical listeners to the <ph id=\"ph1\">`Listeners`</ph> collection.","pos":[176,273],"source":" However, you can programmatically add multiple identical listeners to the `Listeners` collection."}]}]},{"content":"The value for the <bpt id=\"p1\">**</bpt>initializeData<ept id=\"p1\">**</ept> attribute depends on the type of listener you create.","pos":[3475,3565],"source":"The value for the **initializeData** attribute depends on the type of listener you create."},{"content":"Not all trace listeners require that you specify <bpt id=\"p1\">**</bpt>initializeData<ept id=\"p1\">**</ept>.","pos":[3566,3634],"source":" Not all trace listeners require that you specify **initializeData**."},{"pos":[3642,4101],"content":"[!NOTE]\n When you use the `initializeData` attribute, you may get the compiler warning \"The 'initializeData' attribute is not declared.\" This warning occurs because the configuration settings are validated against the abstract base class <xref:System.Diagnostics.TraceListener>, which does not recognize the `initializeData` attribute. Typically, you can ignore this warning for trace listener implementations that have a constructor that takes a parameter.","leadings":["","> "],"nodes":[{"content":"When you use the `initializeData` attribute, you may get the compiler warning \"The 'initializeData' attribute is not declared.\" This warning occurs because the configuration settings are validated against the abstract base class <xref:System.Diagnostics.TraceListener>, which does not recognize the `initializeData` attribute. Typically, you can ignore this warning for trace listener implementations that have a constructor that takes a parameter.","pos":[9,457],"nodes":[{"content":"When you use the <ph id=\"ph1\">`initializeData`</ph> attribute, you may get the compiler warning \"The 'initializeData' attribute is not declared.\"","pos":[0,127],"source":"When you use the `initializeData` attribute, you may get the compiler warning \"The 'initializeData' attribute is not declared.\""},{"content":"This warning occurs because the configuration settings are validated against the abstract base class <ph id=\"ph1\">&lt;xref:System.Diagnostics.TraceListener&gt;</ph>, which does not recognize the <ph id=\"ph2\">`initializeData`</ph> attribute.","pos":[128,326],"source":" This warning occurs because the configuration settings are validated against the abstract base class <xref:System.Diagnostics.TraceListener>, which does not recognize the `initializeData` attribute."},{"content":"Typically, you can ignore this warning for trace listener implementations that have a constructor that takes a parameter.","pos":[327,448]}]}]},{"pos":[4108,4259],"content":"The following table shows the trace listeners that are included with the .NET Framework and describes the value of their <bpt id=\"p1\">**</bpt>initializeData<ept id=\"p1\">**</ept> attributes.","source":"The following table shows the trace listeners that are included with the .NET Framework and describes the value of their **initializeData** attributes."},{"content":"Trace listener class","pos":[4266,4286]},{"content":"initializeData attribute value","pos":[4287,4317]},{"content":"The <ph id=\"ph1\">`useErrorStream`</ph> value for the <ph id=\"ph2\">&lt;xref:System.Diagnostics.ConsoleTraceListener.%23ctor%2A&gt;</ph> constructor.","pos":[4466,4571],"source":"The `useErrorStream` value for the <xref:System.Diagnostics.ConsoleTraceListener.%23ctor%2A> constructor."},{"content":"Set the <ph id=\"ph1\">`initializeData`</ph> attribute to \"<ph id=\"ph2\">`true`</ph>\" to write trace and debug output to <ph id=\"ph3\">&lt;xref:System.Console.Error%2A?displayProperty=nameWithType&gt;</ph>; \"<ph id=\"ph4\">`false`</ph>\" to write to <ph id=\"ph5\">&lt;xref:System.Console.Out%2A?displayProperty=nameWithType&gt;</ph>.","pos":[4573,4796],"source":"  Set the `initializeData` attribute to \"`true`\" to write trace and debug output to <xref:System.Console.Error%2A?displayProperty=nameWithType>; \"`false`\" to write to <xref:System.Console.Out%2A?displayProperty=nameWithType>."},{"pos":[4883,4971],"content":"The name of the file the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DelimitedListTraceListener&gt;</ph> writes to.","source":"The name of the file the <xref:System.Diagnostics.DelimitedListTraceListener> writes to."},{"content":"The name of the name of an existing event log source.","pos":[5053,5106]},{"pos":[5191,5282],"content":"The name of the file that the <ph id=\"ph1\">&lt;xref:System.Diagnostics.EventSchemaTraceListener&gt;</ph> writes to.","source":"The name of the file that the <xref:System.Diagnostics.EventSchemaTraceListener> writes to."},{"pos":[5366,5456],"content":"The name of the file that the <ph id=\"ph1\">&lt;xref:System.Diagnostics.TextWriterTraceListener&gt;</ph> writes to.","source":"The name of the file that the <xref:System.Diagnostics.TextWriterTraceListener> writes to."},{"pos":[5539,5628],"content":"The name of the file that the <ph id=\"ph1\">&lt;xref:System.Diagnostics.XmlWriterTraceListener&gt;</ph> writes to.","source":"The name of the file that the <xref:System.Diagnostics.XmlWriterTraceListener> writes to."},{"pos":[5638,5645],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows how to use <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">**</ept> elements to add the listeners <ph id=\"ph2\">`MyListener`</ph> and <ph id=\"ph3\">`MyEventListener`</ph> to the <bpt id=\"p2\">**</bpt>Listeners<ept id=\"p2\">**</ept> collection.","pos":[5649,5796],"source":"The following example shows how to use **\\<add>** elements to add the listeners `MyListener` and `MyEventListener` to the **Listeners** collection."},{"content":"<ph id=\"ph1\">`MyListener`</ph> creates a file called <ph id=\"ph2\">`MyListener.log`</ph> and writes the output to the file.","pos":[5797,5883],"source":"`MyListener` creates a file called `MyListener.log` and writes the output to the file."},{"content":"<ph id=\"ph1\">`MyEventListener`</ph> creates an entry in the event log.","pos":[5884,5936],"source":"`MyEventListener` creates an entry in the event log."},{"pos":[6801,6809],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7032,7144],"content":"<bpt id=\"p1\">[</bpt>Trace and Debug Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)</ept>","source":"[Trace and Debug Settings Schema](../../../../../docs/framework/configure-apps/file-schema/trace-debug/index.md)"},{"pos":[7147,7234],"content":"<bpt id=\"p1\">[</bpt>Trace Listeners<ept id=\"p1\">](../../../../../docs/framework/debug-trace-profile/trace-listeners.md)</ept>","source":"[Trace Listeners](../../../../../docs/framework/debug-trace-profile/trace-listeners.md)"}]}