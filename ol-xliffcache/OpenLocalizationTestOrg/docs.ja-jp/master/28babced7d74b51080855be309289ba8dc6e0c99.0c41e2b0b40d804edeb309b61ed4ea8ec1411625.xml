{"content":"---\ntitle: \"Compiler Error CS4009\"\nms.date: 08/25/2018\nf1_keywords: \n  - \"CS4009\"\nhelpviewer_keywords: \n  - \"CS4009\"\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# Compiler Error CS4009\n\n'Type.Method': an entry point cannot be marked with the `async` modifier.\n\nYou cannot use the `async` keyword in the application entry point (typically the `Main` method).  \n\n> [!IMPORTANT]\n> Starting with C# 7.1, the `Main` method can have an `async` modifier. For more information, see the [Async main](../whats-new/csharp-7-1.md#async-main) section of the [What's new in C# 7.1](../whats-new/csharp-7-1.md) article. For information about how to select the C# language version, see the [Select the C# language version](../language-reference/configure-language-version.md) article.\n\nThe following example produces CS4009:\n\n```csharp\nusing System;\nusing System.Threading.Tasks;\n\npublic class Example\n{\n   public static async void Main()\n   {\n       Console.WriteLine(\"About to wait two seconds\");\n       await WaitTwoSeconds();\n       Console.WriteLine(\"About to exit the program\");\n   }\n\n   private static async Task WaitTwoSeconds()\n   {\n      await Task.Delay(2000);\n      Console.WriteLine(\"Returning from an asynchronous method\");\n   } \n}\n```\n\n## To correct this error\n\n[Update the C# language version](../language-reference/configure-language-version.md) used by the project to 7.1 or higher.\n\nIf you use C# 7.0 or lower, remove the `async` keyword from the signature of the application entry point.  Also remove any `await` keywords you've used to await asynchronous methods in your application entry point. \n\nHowever, you still have to wait for the asynchronous method to complete before your entry point resumes execution. Otherwise, compilation generates compiler warning CS4014, and the application will terminate before the asynchronous operation completes. The following example illustrates this problem.\n\n[!code-csharp[CS4009](../../../samples/snippets/csharp/misc/cs4009-1.cs)]\n\nTo await a method that returns a <xref:System.Threading.Tasks.Task>, call its <xref:System.Threading.Tasks.Task.Wait%2A> method, as the following example illustrates.\n\n[!code-csharp[CS4009](../../../samples/snippets/csharp/misc/cs4009-2.cs)]\n\nTo await a method that returns a <xref:System.Threading.Tasks.Task%601>, retrieve the value of its <xref:System.Threading.Tasks.Task%601.Result> property, as the following example does.\n\n[!code-csharp[CS4009](../../../samples/snippets/csharp/misc/cs4009-3.cs)]\n\n## See also\n\n- [`async` keyword](../language-reference/keywords/async.md)\n- [`await` keyword](../language-reference/keywords/await.md)\n","nodes":[{"pos":[4,156],"embed":true,"restype":"x-metadata","content":"title: \"Compiler Error CS4009\"\nms.date: 08/25/2018\nf1_keywords: \n  - \"CS4009\"\nhelpviewer_keywords: \n  - \"CS4009\"\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"Compiler Error CS4009","nodes":[{"pos":[0,21],"content":"Compiler Error CS4009","nodes":[{"content":"Compiler Error CS4009","pos":[0,21]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[163,184],"content":"Compiler Error CS4009","linkify":"Compiler Error CS4009","nodes":[{"content":"Compiler Error CS4009","pos":[0,21]}]},{"pos":[186,259],"content":"'Type.Method': an entry point cannot be marked with the <ph id=\"ph1\">`async`</ph> modifier.","source":"'Type.Method': an entry point cannot be marked with the `async` modifier."},{"pos":[261,357],"content":"You cannot use the <ph id=\"ph1\">`async`</ph> keyword in the application entry point (typically the <ph id=\"ph2\">`Main`</ph> method).","source":"You cannot use the `async` keyword in the application entry point (typically the `Main` method)."},{"pos":[363,768],"content":"[!IMPORTANT]\nStarting with C# 7.1, the `Main` method can have an `async` modifier. For more information, see the [Async main](../whats-new/csharp-7-1.md#async-main) section of the [What's new in C# 7.1](../whats-new/csharp-7-1.md) article. For information about how to select the C# language version, see the [Select the C# language version](../language-reference/configure-language-version.md) article.","leadings":["","> "],"nodes":[{"content":"Starting with C# 7.1, the `Main` method can have an `async` modifier. For more information, see the [Async main](../whats-new/csharp-7-1.md#async-main) section of the [What's new in C# 7.1](../whats-new/csharp-7-1.md) article. For information about how to select the C# language version, see the [Select the C# language version](../language-reference/configure-language-version.md) article.","pos":[13,403],"nodes":[{"content":"Starting with C# 7.1, the <ph id=\"ph1\">`Main`</ph> method can have an <ph id=\"ph2\">`async`</ph> modifier.","pos":[0,69],"source":"Starting with C# 7.1, the `Main` method can have an `async` modifier."},{"content":"For more information, see the <bpt id=\"p1\">[</bpt>Async main<ept id=\"p1\">](../whats-new/csharp-7-1.md#async-main)</ept> section of the <bpt id=\"p2\">[</bpt>What's new in C# 7.1<ept id=\"p2\">](../whats-new/csharp-7-1.md)</ept> article.","pos":[70,226],"source":" For more information, see the [Async main](../whats-new/csharp-7-1.md#async-main) section of the [What's new in C# 7.1](../whats-new/csharp-7-1.md) article."},{"content":"For information about how to select the C# language version, see the <bpt id=\"p1\">[</bpt>Select the C# language version<ept id=\"p1\">](../language-reference/configure-language-version.md)</ept> article.","pos":[227,390],"source":" For information about how to select the C# language version, see the [Select the C# language version](../language-reference/configure-language-version.md) article."}]}]},{"content":"The following example produces CS4009:","pos":[770,808]},{"pos":[1238,1259],"content":"To correct this error","linkify":"To correct this error","nodes":[{"content":"To correct this error","pos":[0,21]}]},{"pos":[1261,1384],"content":"<bpt id=\"p1\">[</bpt>Update the C# language version<ept id=\"p1\">](../language-reference/configure-language-version.md)</ept> used by the project to 7.1 or higher.","source":"[Update the C# language version](../language-reference/configure-language-version.md) used by the project to 7.1 or higher."},{"content":"If you use C# 7.0 or lower, remove the <ph id=\"ph1\">`async`</ph> keyword from the signature of the application entry point.","pos":[1386,1491],"source":"If you use C# 7.0 or lower, remove the `async` keyword from the signature of the application entry point."},{"content":"Also remove any <ph id=\"ph1\">`await`</ph> keywords you've used to await asynchronous methods in your application entry point.","pos":[1493,1600],"source":"  Also remove any `await` keywords you've used to await asynchronous methods in your application entry point."},{"content":"However, you still have to wait for the asynchronous method to complete before your entry point resumes execution.","pos":[1603,1717]},{"content":"Otherwise, compilation generates compiler warning CS4014, and the application will terminate before the asynchronous operation completes.","pos":[1718,1855]},{"content":"The following example illustrates this problem.","pos":[1856,1903]},{"pos":[1980,2146],"content":"To await a method that returns a <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Task&gt;</ph>, call its <ph id=\"ph2\">&lt;xref:System.Threading.Tasks.Task.Wait%2A&gt;</ph> method, as the following example illustrates.","source":"To await a method that returns a <xref:System.Threading.Tasks.Task>, call its <xref:System.Threading.Tasks.Task.Wait%2A> method, as the following example illustrates."},{"pos":[2223,2408],"content":"To await a method that returns a <ph id=\"ph1\">&lt;xref:System.Threading.Tasks.Task%601&gt;</ph>, retrieve the value of its <ph id=\"ph2\">&lt;xref:System.Threading.Tasks.Task%601.Result&gt;</ph> property, as the following example does.","source":"To await a method that returns a <xref:System.Threading.Tasks.Task%601>, retrieve the value of its <xref:System.Threading.Tasks.Task%601.Result> property, as the following example does."},{"pos":[2488,2496],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2500,2558],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">`async`</ph> keyword<ept id=\"p1\">](../language-reference/keywords/async.md)</ept>","source":"[`async` keyword](../language-reference/keywords/async.md)"},{"pos":[2561,2619],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">`await`</ph> keyword<ept id=\"p1\">](../language-reference/keywords/await.md)</ept>","source":"[`await` keyword](../language-reference/keywords/await.md)"}]}