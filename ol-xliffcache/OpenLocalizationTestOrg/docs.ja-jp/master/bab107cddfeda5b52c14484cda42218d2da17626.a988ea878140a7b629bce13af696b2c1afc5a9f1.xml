{"content":"---\ntitle: \"ICLRTask2::BeginPreventAsyncAbort Method | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\napi_name: \n  - \"ICLRTask2.BeginPreventAsyncAbort\"\napi_location: \n  - \"mscoree.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICLRTask2::BeginPreventAsyncAbort\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"ICLRTask2::BeginPreventAsyncAbort method [.NET Framework hosting]\"\n  - \"BeginPreventAsyncAbort method [.NET Framework hosting]\"\nms.assetid: 75754c2f-38c7-4707-85fe-559db4542729\ntopic_type: \n  - \"apiref\"\ncaps.latest.revision: 6\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# ICLRTask2::BeginPreventAsyncAbort Method\nDelays new thread abort requests from resulting in thread aborts on the current thread.  \n  \n## Syntax  \n  \n```  \nHRESULT BeginPreventAsyncAbort();  \n```  \n  \n## Return Value  \n This method returns the following specific HRESULTs as well as HRESULT errors that indicate method failure.  \n  \n|HRESULT|Description|  \n|-------------|-----------------|  \n|S_OK|The method completed successfully.|  \n|HOST_E_INVALIDOPERATION|The method was called on a thread which is not the current thread.|  \n  \n## Remarks  \n Calling this method increments the delay-thread-abort counter for the current thread by one.  \n  \n Calls to `BeginPreventAsyncAbort` and [ICLRTask2::EndPreventAsyncAbort](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-endpreventasyncabort-method.md) can be nested. As long as the counter is greater than zero, thread aborts for the current thread are delayed. If this call is not paired with a call to the `EndPreventAsyncAbort` method, it is possible to reach a state in which thread aborts cannot be delivered to the current thread.  \n  \n The delay is not honored for a thread that aborts itself.  \n  \n The functionality that is exposed by this feature is used internally by the virtual machine (VM). Misuse of these methods may cause unspecified behavior in the VM. For example, calling `EndPreventAsyncAbort` without first calling `BeginPreventAsyncAbort` could set the counter to zero when the VM has previously incremented it. Similarly, the internal counter is not checked for overflow. If it exceeds its integral limit because it is incremented by both the host and the VM, the resulting behavior is unspecified.  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** MSCorEE.h  \n  \n **Library:** Included as a resource in MSCorEE.dll  \n  \n **.NET Framework Versions:** [!INCLUDE[net_current_v40plus](../../../../includes/net-current-v40plus-md.md)]  \n  \n## See Also  \n [EndPreventAsyncAbort Method](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-endpreventasyncabort-method.md)   \n [ICLRTask2 Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-interface.md)   \n [ICLRTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtaskmanager-interface.md)   \n [IHostTask Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttask-interface.md)   \n [IHostTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttaskmanager-interface.md)   \n [Hosting Interfaces](../../../../docs/framework/unmanaged-api/hosting/hosting-interfaces.md)","nodes":[{"pos":[12,69],"content":"ICLRTask2::BeginPreventAsyncAbort Method | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"ICLRTask2::BeginPreventAsyncAbort Method | Microsoft Docs","pos":[0,57]}]},{"pos":[735,775],"content":"ICLRTask2::BeginPreventAsyncAbort Method","linkify":"ICLRTask2::BeginPreventAsyncAbort Method","nodes":[{"content":"ICLRTask2::BeginPreventAsyncAbort Method","pos":[0,40]}]},{"content":"Delays new thread abort requests from resulting in thread aborts on the current thread.","pos":[776,863]},{"pos":[872,878],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[938,950],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"This method returns the following specific HRESULTs as well as HRESULT errors that indicate method failure.","pos":[954,1061]},{"content":"HRESULT","pos":[1068,1075]},{"content":"Description","pos":[1076,1087]},{"content":"S_OK","pos":[1128,1132]},{"content":"The method completed successfully.","pos":[1133,1167]},{"content":"HOST_E_INVALIDOPERATION","pos":[1172,1195]},{"content":"The method was called on a thread which is not the current thread.","pos":[1196,1262]},{"pos":[1272,1279],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Calling this method increments the delay-thread-abort counter for the current thread by one.","pos":[1283,1375]},{"content":"Calls to <ph id=\"ph1\">`BeginPreventAsyncAbort`</ph> and <bpt id=\"p1\">[</bpt>ICLRTask2::EndPreventAsyncAbort<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-endpreventasyncabort-method.md)</ept> can be nested.","pos":[1382,1559],"source":"Calls to `BeginPreventAsyncAbort` and [ICLRTask2::EndPreventAsyncAbort](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-endpreventasyncabort-method.md) can be nested."},{"content":"As long as the counter is greater than zero, thread aborts for the current thread are delayed.","pos":[1560,1654]},{"content":"If this call is not paired with a call to the <ph id=\"ph1\">`EndPreventAsyncAbort`</ph> method, it is possible to reach a state in which thread aborts cannot be delivered to the current thread.","pos":[1655,1829],"source":" If this call is not paired with a call to the `EndPreventAsyncAbort` method, it is possible to reach a state in which thread aborts cannot be delivered to the current thread."},{"content":"The delay is not honored for a thread that aborts itself.","pos":[1836,1893]},{"content":"The functionality that is exposed by this feature is used internally by the virtual machine (VM).","pos":[1900,1997]},{"content":"Misuse of these methods may cause unspecified behavior in the VM.","pos":[1998,2063]},{"content":"For example, calling <ph id=\"ph1\">`EndPreventAsyncAbort`</ph> without first calling <ph id=\"ph2\">`BeginPreventAsyncAbort`</ph> could set the counter to zero when the VM has previously incremented it.","pos":[2064,2227],"source":" For example, calling `EndPreventAsyncAbort` without first calling `BeginPreventAsyncAbort` could set the counter to zero when the VM has previously incremented it."},{"content":"Similarly, the internal counter is not checked for overflow.","pos":[2228,2288]},{"content":"If it exceeds its integral limit because it is incremented by both the host and the VM, the resulting behavior is unspecified.","pos":[2289,2415]},{"pos":[2424,2436],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2440,2544],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[2551,2572],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> MSCorEE.h","source":"**Header:** MSCorEE.h"},{"pos":[2579,2629],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> Included as a resource in MSCorEE.dll","source":"**Library:** Included as a resource in MSCorEE.dll"},{"pos":[2636,2744],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> <ph id=\"ph1\">[!INCLUDE[net_current_v40plus](../../../../includes/net-current-v40plus-md.md)]</ph>","source":"**.NET Framework Versions:** [!INCLUDE[net_current_v40plus](../../../../includes/net-current-v40plus-md.md)]"},{"pos":[2753,2761],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>EndPreventAsyncAbort Method<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-endpreventasyncabort-method.md)</ept><ph id=\"ph1\"> </ph>","pos":[2765,2886],"source":"[EndPreventAsyncAbort Method](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-endpreventasyncabort-method.md) "},{"content":"<bpt id=\"p1\"> [</bpt>ICLRTask2 Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[2889,2985],"source":" [ICLRTask2 Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtask2-interface.md) "},{"content":"<bpt id=\"p1\"> [</bpt>ICLRTaskManager Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/iclrtaskmanager-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[2988,3096],"source":" [ICLRTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/iclrtaskmanager-interface.md) "},{"content":"<bpt id=\"p1\"> [</bpt>IHostTask Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/ihosttask-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[3099,3195],"source":" [IHostTask Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttask-interface.md) "},{"content":"<bpt id=\"p1\"> [</bpt>IHostTaskManager Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/ihosttaskmanager-interface.md)</ept><ph id=\"ph1\"> </ph>","pos":[3198,3308],"source":" [IHostTaskManager Interface](../../../../docs/framework/unmanaged-api/hosting/ihosttaskmanager-interface.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Hosting Interfaces<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/hosting-interfaces.md)</ept>","pos":[3311,3404],"source":" [Hosting Interfaces](../../../../docs/framework/unmanaged-api/hosting/hosting-interfaces.md)"}]}