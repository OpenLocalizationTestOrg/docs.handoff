{"content":"---\ntitle: \"Reflection and .NET Native\"\nms.date: \"03/30/2017\"\nms.assetid: 91c9eae4-c641-476c-a06e-d7ce39709763\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# Reflection and .NET Native\nIn the .NET Framework, managed development supports metaprogramming through the reflection API. Reflection allows you to inspect objects in an app, call methods on objects discovered through inspection, generate new types at run time, and supports many other dynamic code scenarios. It also supports serialization and deserialization, which allows an object's field values to be persisted and later restored. These scenarios all require the .NET Framework just-in-time (JIT) compiler to generate native code based on available metadata.  \n  \n The [!INCLUDE[net_native](../../../includes/net-native-md.md)] runtime doesn't include a JIT compiler. As a result, all necessary native code must be generated in advance. A set of heuristics is used to determine what code should be generated, but these heuristics cannot cover all possible metaprogramming scenarios.  Therefore, you must provide hints for these metaprogramming scenarios by using [runtime directives](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md). If the necessary metadata or implementation code is not available at runtime, your app throws a [MissingMetadataException](../../../docs/framework/net-native/missingmetadataexception-class-net-native.md), [MissingRuntimeArtifactException](../../../docs/framework/net-native/missingruntimeartifactexception-class-net-native.md), or [MissingInteropDataException](../../../docs/framework/net-native/missinginteropdataexception-class-net-native.md) exception. Two troubleshooters are available that will generate the appropriate entry for your runtime directives file that eliminates the exception:  \n  \n-   The [MissingMetadataException troubleshooter](https://dotnet.github.io/native/troubleshooter/type.html) for types.  \n  \n-   The [MissingMetadataException troubleshooter](https://dotnet.github.io/native/troubleshooter/method.html) for methods.  \n  \n> [!NOTE]\n>  For an overview of the .NET Native compilation process that provides background on why a runtime directives file is needed, see [.NET Native and Compilation](../../../docs/framework/net-native/net-native-and-compilation.md).  \n  \n In addition, [!INCLUDE[net_native](../../../includes/net-native-md.md)] doesn't allow you to reflect over private members of the .NET Framework class library. For example, a call to the <xref:System.Reflection.TypeInfo.DeclaredFields%2A?displayProperty=nameWithType> property to retrieve the fields of a .NET Framework class library type returns only public or protected fields.  \n  \n The following topics provide the conceptual and reference documentation that you need to support reflection and serialization in your apps:  \n  \n-   [APIs That Rely on Reflection](../../../docs/framework/net-native/apis-that-rely-on-reflection.md)  \n  \n-   [Reflection API Reference](../../../docs/framework/net-native/net-native-reflection-api-reference.md)  \n  \n-   [Runtime Directives (rd.xml) Configuration File Reference](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md)  \n  \n## See also\n\n- [Compiling Apps with .NET Native](../../../docs/framework/net-native/index.md)\n- [.NET Native and Compilation](../../../docs/framework/net-native/net-native-and-compilation.md)\n","nodes":[{"pos":[4,150],"embed":true,"restype":"x-metadata","content":"title: \"Reflection and .NET Native\"\nms.date: \"03/30/2017\"\nms.assetid: 91c9eae4-c641-476c-a06e-d7ce39709763\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"Reflection and .NET Native","nodes":[{"pos":[0,26],"content":"Reflection and .NET Native","nodes":[{"content":"Reflection and .NET Native","pos":[0,26]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[157,183],"content":"Reflection and .NET Native","linkify":"Reflection and .NET Native","nodes":[{"content":"Reflection and .NET Native","pos":[0,26]}]},{"content":"In the .NET Framework, managed development supports metaprogramming through the reflection API.","pos":[184,279]},{"content":"Reflection allows you to inspect objects in an app, call methods on objects discovered through inspection, generate new types at run time, and supports many other dynamic code scenarios.","pos":[280,466]},{"content":"It also supports serialization and deserialization, which allows an object's field values to be persisted and later restored.","pos":[467,592]},{"content":"These scenarios all require the .NET Framework just-in-time (JIT) compiler to generate native code based on available metadata.","pos":[593,720]},{"content":"The <ph id=\"ph1\">[!INCLUDE[net_native](../../../includes/net-native-md.md)]</ph> runtime doesn't include a JIT compiler.","pos":[727,829],"source":"The [!INCLUDE[net_native](../../../includes/net-native-md.md)] runtime doesn't include a JIT compiler."},{"content":"As a result, all necessary native code must be generated in advance.","pos":[830,898]},{"content":"A set of heuristics is used to determine what code should be generated, but these heuristics cannot cover all possible metaprogramming scenarios.","pos":[899,1044]},{"content":"Therefore, you must provide hints for these metaprogramming scenarios by using <bpt id=\"p1\">[</bpt>runtime directives<ept id=\"p1\">](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md)</ept>.","pos":[1046,1240],"source":"  Therefore, you must provide hints for these metaprogramming scenarios by using [runtime directives](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md)."},{"content":"If the necessary metadata or implementation code is not available at runtime, your app throws a <bpt id=\"p1\">[</bpt>MissingMetadataException<ept id=\"p1\">](../../../docs/framework/net-native/missingmetadataexception-class-net-native.md)</ept>, <bpt id=\"p2\">[</bpt>MissingRuntimeArtifactException<ept id=\"p2\">](../../../docs/framework/net-native/missingruntimeartifactexception-class-net-native.md)</ept>, or <bpt id=\"p3\">[</bpt>MissingInteropDataException<ept id=\"p3\">](../../../docs/framework/net-native/missinginteropdataexception-class-net-native.md)</ept> exception.","pos":[1241,1696],"source":" If the necessary metadata or implementation code is not available at runtime, your app throws a [MissingMetadataException](../../../docs/framework/net-native/missingmetadataexception-class-net-native.md), [MissingRuntimeArtifactException](../../../docs/framework/net-native/missingruntimeartifactexception-class-net-native.md), or [MissingInteropDataException](../../../docs/framework/net-native/missinginteropdataexception-class-net-native.md) exception."},{"content":"Two troubleshooters are available that will generate the appropriate entry for your runtime directives file that eliminates the exception:","pos":[1697,1835]},{"pos":[1845,1959],"content":"The <bpt id=\"p1\">[</bpt>MissingMetadataException troubleshooter<ept id=\"p1\">](https://dotnet.github.io/native/troubleshooter/type.html)</ept> for types.","source":"The [MissingMetadataException troubleshooter](https://dotnet.github.io/native/troubleshooter/type.html) for types."},{"pos":[1969,2087],"content":"The <bpt id=\"p1\">[</bpt>MissingMetadataException troubleshooter<ept id=\"p1\">](https://dotnet.github.io/native/troubleshooter/method.html)</ept> for methods.","source":"The [MissingMetadataException troubleshooter](https://dotnet.github.io/native/troubleshooter/method.html) for methods."},{"pos":[2095,2330],"content":"[!NOTE]\n For an overview of the .NET Native compilation process that provides background on why a runtime directives file is needed, see [.NET Native and Compilation](../../../docs/framework/net-native/net-native-and-compilation.md).","leadings":["","> "],"nodes":[{"content":"For an overview of the .NET Native compilation process that provides background on why a runtime directives file is needed, see <bpt id=\"p1\">[</bpt>.NET Native and Compilation<ept id=\"p1\">](../../../docs/framework/net-native/net-native-and-compilation.md)</ept>.","pos":[9,233],"source":"For an overview of the .NET Native compilation process that provides background on why a runtime directives file is needed, see [.NET Native and Compilation](../../../docs/framework/net-native/net-native-and-compilation.md)."}]},{"content":"In addition, <ph id=\"ph1\">[!INCLUDE[net_native](../../../includes/net-native-md.md)]</ph> doesn't allow you to reflect over private members of the .NET Framework class library.","pos":[2337,2495],"source":"In addition, [!INCLUDE[net_native](../../../includes/net-native-md.md)] doesn't allow you to reflect over private members of the .NET Framework class library."},{"content":"For example, a call to the <ph id=\"ph1\">&lt;xref:System.Reflection.TypeInfo.DeclaredFields%2A?displayProperty=nameWithType&gt;</ph> property to retrieve the fields of a .NET Framework class library type returns only public or protected fields.","pos":[2496,2715],"source":" For example, a call to the <xref:System.Reflection.TypeInfo.DeclaredFields%2A?displayProperty=nameWithType> property to retrieve the fields of a .NET Framework class library type returns only public or protected fields."},{"content":"The following topics provide the conceptual and reference documentation that you need to support reflection and serialization in your apps:","pos":[2722,2861]},{"pos":[2871,2969],"content":"<bpt id=\"p1\">[</bpt>APIs That Rely on Reflection<ept id=\"p1\">](../../../docs/framework/net-native/apis-that-rely-on-reflection.md)</ept>","source":"[APIs That Rely on Reflection](../../../docs/framework/net-native/apis-that-rely-on-reflection.md)"},{"pos":[2979,3080],"content":"<bpt id=\"p1\">[</bpt>Reflection API Reference<ept id=\"p1\">](../../../docs/framework/net-native/net-native-reflection-api-reference.md)</ept>","source":"[Reflection API Reference](../../../docs/framework/net-native/net-native-reflection-api-reference.md)"},{"pos":[3090,3242],"content":"<bpt id=\"p1\">[</bpt>Runtime Directives (rd.xml) Configuration File Reference<ept id=\"p1\">](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md)</ept>","source":"[Runtime Directives (rd.xml) Configuration File Reference](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md)"},{"pos":[3251,3259],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3263,3341],"content":"<bpt id=\"p1\">[</bpt>Compiling Apps with .NET Native<ept id=\"p1\">](../../../docs/framework/net-native/index.md)</ept>","source":"[Compiling Apps with .NET Native](../../../docs/framework/net-native/index.md)"},{"pos":[3344,3439],"content":"<bpt id=\"p1\">[</bpt>.NET Native and Compilation<ept id=\"p1\">](../../../docs/framework/net-native/net-native-and-compilation.md)</ept>","source":"[.NET Native and Compilation](../../../docs/framework/net-native/net-native-and-compilation.md)"}]}