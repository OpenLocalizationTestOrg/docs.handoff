{"content":"---\ntitle: \"How to: Resolve Conflicts by Overwriting Database Values\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: fd6db0b8-c29c-48ff-b768-31d28e7a148c\n---\n# How to: Resolve Conflicts by Overwriting Database Values\nTo reconcile differences between expected and actual database values before you try to resubmit your changes, you can use <xref:System.Data.Linq.RefreshMode.KeepCurrentValues> to overwrite database values. For more information, see [Optimistic Concurrency: Overview](../../../../../../docs/framework/data/adonet/sql/linq/optimistic-concurrency-overview.md).  \n  \n> [!NOTE]\n>  In all cases, the record on the client is first refreshed by retrieving the updated data from the database. This action makes sure that the next update try will not fail on the same concurrency checks.  \n  \n## Example  \n In this scenario, an <xref:System.Data.Linq.ChangeConflictException> exception is thrown when User1 tries to submit changes, because User2 has in the meantime changed the Assistant and Department columns. The following table shows the situation.  \n  \n||Manager|Assistant|Department|  \n|------|-------------|---------------|----------------|  \n|Original database state when queried by User1 and User2.|Alfreds|Maria|Sales|  \n|User1 prepares to submit these changes.|Alfred||Marketing|  \n|User2 has already submitted these changes.||Mary|Service|  \n  \n User1 decides to resolve this conflict by overwriting database values with the current client member values.  \n  \n When User1 resolves the conflict by using <xref:System.Data.Linq.RefreshMode.KeepCurrentValues>, the result in the database is as in following table:  \n  \n||Manager|Assistant|Department|  \n|------|-------------|---------------|----------------|  \n|New state after conflict resolution.|Alfred<br /><br /> (from User1)|Maria<br /><br /> (original)|Marketing<br /><br /> (from User1)|  \n  \n The following example code shows how to overwrite database values with the current client member values. (No inspection or custom handling of individual member conflicts occurs.)  \n  \n [!code-csharp[System.Data.Linq.RefreshMode#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/system.data.linq.refreshmode/cs/program.cs#2)]\n [!code-vb[System.Data.Linq.RefreshMode#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/system.data.linq.refreshmode/vb/module1.vb#2)]  \n  \n## See also\n\n- [How to: Manage Change Conflicts](../../../../../../docs/framework/data/adonet/sql/linq/how-to-manage-change-conflicts.md)\n","nodes":[{"pos":[4,174],"embed":true,"restype":"x-metadata","content":"title: \"How to: Resolve Conflicts by Overwriting Database Values\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: fd6db0b8-c29c-48ff-b768-31d28e7a148c","nodes":[{"content":"How to: Resolve Conflicts by Overwriting Database Values","nodes":[{"pos":[0,56],"content":"How to: Resolve Conflicts by Overwriting Database Values","nodes":[{"content":"How to: Resolve Conflicts by Overwriting Database Values","pos":[0,56]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[181,237],"content":"How to: Resolve Conflicts by Overwriting Database Values","linkify":"How to: Resolve Conflicts by Overwriting Database Values","nodes":[{"content":"How to: Resolve Conflicts by Overwriting Database Values","pos":[0,56]}]},{"content":"To reconcile differences between expected and actual database values before you try to resubmit your changes, you can use <ph id=\"ph1\">&lt;xref:System.Data.Linq.RefreshMode.KeepCurrentValues&gt;</ph> to overwrite database values.","pos":[238,443],"source":"To reconcile differences between expected and actual database values before you try to resubmit your changes, you can use <xref:System.Data.Linq.RefreshMode.KeepCurrentValues> to overwrite database values."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Optimistic Concurrency: Overview<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/optimistic-concurrency-overview.md)</ept>.","pos":[444,595],"source":" For more information, see [Optimistic Concurrency: Overview](../../../../../../docs/framework/data/adonet/sql/linq/optimistic-concurrency-overview.md)."},{"pos":[603,815],"content":"[!NOTE]\n In all cases, the record on the client is first refreshed by retrieving the updated data from the database. This action makes sure that the next update try will not fail on the same concurrency checks.","leadings":["","> "],"nodes":[{"content":"In all cases, the record on the client is first refreshed by retrieving the updated data from the database. This action makes sure that the next update try will not fail on the same concurrency checks.","pos":[9,210],"nodes":[{"content":"In all cases, the record on the client is first refreshed by retrieving the updated data from the database.","pos":[0,107]},{"content":"This action makes sure that the next update try will not fail on the same concurrency checks.","pos":[108,201]}]}]},{"pos":[824,831],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"In this scenario, an <ph id=\"ph1\">&lt;xref:System.Data.Linq.ChangeConflictException&gt;</ph> exception is thrown when User1 tries to submit changes, because User2 has in the meantime changed the Assistant and Department columns.","pos":[835,1039],"source":"In this scenario, an <xref:System.Data.Linq.ChangeConflictException> exception is thrown when User1 tries to submit changes, because User2 has in the meantime changed the Assistant and Department columns."},{"content":"The following table shows the situation.","pos":[1040,1080]},{"content":"Manager","pos":[1088,1095]},{"content":"Assistant","pos":[1096,1105]},{"content":"Department","pos":[1106,1116]},{"content":"Original database state when queried by User1 and User2.","pos":[1179,1235]},{"content":"Alfreds","pos":[1236,1243]},{"content":"Maria","pos":[1244,1249]},{"content":"Sales","pos":[1250,1255]},{"content":"User1 prepares to submit these changes.","pos":[1260,1299]},{"content":"Alfred","pos":[1300,1306]},{"content":"Marketing","pos":[1308,1317]},{"content":"User2 has already submitted these changes.","pos":[1322,1364]},{"content":"Mary","pos":[1366,1370]},{"content":"Service","pos":[1371,1378]},{"content":"User1 decides to resolve this conflict by overwriting database values with the current client member values.","pos":[1386,1494]},{"pos":[1501,1650],"content":"When User1 resolves the conflict by using <ph id=\"ph1\">&lt;xref:System.Data.Linq.RefreshMode.KeepCurrentValues&gt;</ph>, the result in the database is as in following table:","source":"When User1 resolves the conflict by using <xref:System.Data.Linq.RefreshMode.KeepCurrentValues>, the result in the database is as in following table:"},{"content":"Manager","pos":[1658,1665]},{"content":"Assistant","pos":[1666,1675]},{"content":"Department","pos":[1676,1686]},{"content":"New state after conflict resolution.","pos":[1749,1785]},{"content":"Alfred","pos":[1786,1792]},{"content":"(from User1)","pos":[1805,1817]},{"content":"Maria","pos":[1818,1823]},{"content":"(original)","pos":[1836,1846]},{"content":"Marketing","pos":[1847,1856]},{"content":"(from User1)","pos":[1869,1881]},{"content":"The following example code shows how to overwrite database values with the current client member values.","pos":[1889,1993]},{"content":"(No inspection or custom handling of individual member conflicts occurs.)","pos":[1994,2067]},{"pos":[2388,2396],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2400,2522],"content":"<bpt id=\"p1\">[</bpt>How to: Manage Change Conflicts<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/how-to-manage-change-conflicts.md)</ept>","source":"[How to: Manage Change Conflicts](../../../../../../docs/framework/data/adonet/sql/linq/how-to-manage-change-conflicts.md)"}]}