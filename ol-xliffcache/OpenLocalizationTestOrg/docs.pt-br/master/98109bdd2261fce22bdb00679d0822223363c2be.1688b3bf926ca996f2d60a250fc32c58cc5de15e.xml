{"content":"---\ntitle: \"SOS.dll (SOS Debugging Extension) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"debugging extensions\"\n  - \"SOS debugging extensions\"\n  - \"SOS.dll\"\nms.assetid: 9ac1b522-77ab-4cdc-852a-20fcdc9ae498\ncaps.latest.revision: 55\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# SOS.dll (SOS Debugging Extension)\nThe SOS Debugging Extension (SOS.dll) helps you debug managed programs in Visual Studio and in the Windows debugger (WinDbg.exe) by providing information about the internal common language runtime (CLR) environment. This tool requires your project to have unmanaged debugging enabled. SOS.dll is automatically installed with the .NET Framework. To use SOS.dll in Visual Studio, install the [Windows Driver Kit (WDK)](http://msdn.microsoft.com/windows/hardware/hh852362).  \n  \n> [!NOTE]\n>  If you are using [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)], SOS.dll is supported in the Windows Debugger within Visual Studio, but not in the Immediate window of the Visual Studio debugger.  \n  \n## Syntax  \n  \n```  \n![command] [options]   \n```  \n  \n## Commands  \n  \n|Command|Description|  \n|-------------|-----------------|  \n|**AnalyzeOOM** (**ao**)|Displays the information for the last OOM that occurred on an allocation request to the garbage collection heap. (In server garbage collection, it displays OOM, if any, on each garbage collection heap.)|  \n|**BPMD** [**-nofuturemodule**] [\\<*module name*> \\<*method name*>] [**-md** <`MethodDesc`>] **-list** **-clear** \\<*pending breakpoint number*> **-clearall**|Creates a breakpoint at the specified method in the specified module.<br /><br /> If the specified module and method have not been loaded, this command waits for a notification that the module was loaded and just-in-time (JIT) compiled before creating a breakpoint.<br /><br /> You can manage the list of pending breakpoints by using the **-list**, **-clear**, and **-clearall** options:<br /><br /> The **-list** option generates a list of all the pending breakpoints. If a pending breakpoint has a non-zero module ID, that breakpoint is specific to a function in that particular loaded module. If the pending breakpoint has a zero module ID, that breakpoint applies to modules that have not yet been loaded.<br /><br /> Use the **-clear** or **-clearall** option to remove pending breakpoints from the list.|  \n|**CLRStack** [**-a**] [**-l**] [**-p**] [**-n**]|Provides a stack trace of managed code only.<br /><br /> The **-p** option shows arguments to the managed function.<br /><br /> The **-l** option shows information on local variables in a frame. The SOS Debugging Extension cannot retrieve local names, so the output for local names is in the format \\<*local address*> **=** \\<*value*>.<br /><br /> The **-a**(all) option is a shortcut for **-l** and **-p**combined.<br /><br /> The **-n** option disables the display of source file names and line numbers. If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number. The **-n** (No line numbers) parameter can be specified to disable this behavior.<br /><br /> The SOS Debugging Extension does not display transition frames on x64 and IA-64-based platforms.|  \n|**COMState**|Lists the COM apartment model for each thread and a `Context` pointer, if available.|  \n|**DumpArray** [**-start** \\<*startIndex*>] [**-length** \\<*length*>] [**-details**] [**-nofields**] \\<*array object address*><br /><br /> -or-<br /><br /> **DA** [**-start** \\<*startIndex*>] [**-length** \\<*length*>] [**-detail**] [**-nofields**] *array object address*>|Examines elements of an array object.<br /><br /> The **-start** option specifies the starting index at which to display elements.<br /><br /> The **-length** option specifies how many elements to show.<br /><br /> The **-details** option displays details of the element using the **DumpObj** and **DumpVC** formats.<br /><br /> The **-nofields** option prevents arrays from displaying. This option is available only when the **-detail** option is specified.|  \n|**DumpAssembly** \\<*assembly address*>|Displays information about an assembly.<br /><br /> The **DumpAssembly** command lists multiple modules, if they exist.<br /><br /> You can get an assembly address by using the **DumpDomain** command.|  \n|**DumpClass** \\<*EEClass address*>|Displays information about the `EEClass` structure associated with a type.<br /><br /> The **DumpClass** command displays static field values but does not display nonstatic field values.<br /><br /> Use the **DumpMT**, **DumpObj**, **Name2EE**, or **Token2EE** command to get an `EEClass` structure address.|  \n|**DumpDomain** [\\<*domain address*>]|Enumerates each <xref:System.Reflection.Assembly> object that is loaded within the specified <xref:System.AppDomain> object address.  When called with no parameters, the **DumpDomain** command lists all <xref:System.AppDomain> objects in a process.|  \n|**DumpHeap** [**-stat**] [**-strings**] [**-short**] [**-min** \\<*size*>] [**-max** \\<*size*>] [**-thinlock**] [**-startAtLowerBound**] [**-mt** \\<*MethodTable address*>] [**-type** \\<*partial type name*>][*start* [*end*]]|Displays information about the garbage-collected heap and collection statistics about objects.<br /><br /> The **DumpHeap** command displays a warning if it detects excessive fragmentation in the garbage collector heap.<br /><br /> The **-stat** option restricts the output to the statistical type summary.<br /><br /> The **-strings** option restricts the output to a statistical string value summary.<br /><br /> The **-short** option limits output to just the address of each object. This lets you easily pipe output from the command to another debugger command for automation.<br /><br /> The **-min** option ignores objects that are less than the `size` parameter, specified in bytes.<br /><br /> The **-max** option ignores objects that are larger than the `size` parameter, specified in bytes.<br /><br /> The **-thinlock** option reports ThinLocks.  For more information, see the **SyncBlk** command.<br /><br /> The `-startAtLowerBound` option forces the heap walk to begin at the lower bound of a supplied address range. During the planning phase, the heap is often not walkable because objects are being moved. This option forces **DumpHeap** to begin its walk at the specified lower bound. You must supply the address of a valid object as the lower bound for this option to work. You can display memory at the address of a bad object to manually find the next method table. If the garbage collection is currently in a call to `memcopy`, you may also be able to find the address of the next object by adding the size to the start address, which is supplied as a parameter.<br /><br /> The **-mt** option lists only those objects that correspond to the specified `MethodTable` structure.<br /><br /> The **-type** option lists only those objects whose type name is a substring match of the specified string.<br /><br /> The `start` parameter begins listing from the specified address.<br /><br /> The `end` parameter stops listing at the specified address.|  \n|**DumpIL** \\<*Managed DynamicMethod object*> &#124;       \\<*DynamicMethodDesc pointer*> &#124;        \\<*MethodDesc pointer*>|Displays the Microsoft intermediate language (MSIL) that is associated with a managed method.<br /><br /> Note that dynamic MSIL is emitted differently than MSIL that is loaded from an assembly. Dynamic MSIL refers to objects in a managed object array rather than to metadata tokens.|  \n|**DumpLog** [**-addr** \\<*addressOfStressLog*>] [<*Filenam*`e`>]|Writes the contents of an in-memory stress log to the specified file. If you do not specify a name, this command creates a file called StressLog.txt in the current directory.<br /><br /> The in-memory stress log helps you diagnose stress failures without using locks or I/O. To enable the stress log, set the following registry keys under HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\\\.NETFramework:<br /><br /> (DWORD) StressLog = 1<br /><br /> (DWORD) LogFacility = 0xffffffff<br /><br /> (DWORD) StressLogSize = 65536<br /><br /> The optional `-addr` option lets you specify a stress log other than the default log.|  \n|**DumpMD** \\<*MethodDesc address*>|Displays information about a `MethodDesc` structure at the specified address.<br /><br /> You can use the **IP2MD** command to get the `MethodDesc` structure address from a managed function.|  \n|**DumpMT** [**-MD**] \\<*MethodTable address*>|Displays information about a method table at the specified address. Specifying the **-MD** option displays a list of all methods defined with the object.<br /><br /> Each managed object contains a method table pointer.|  \n|**DumpMethodSig** \\<*sigaddr*> <*moduleadd*`r`>|Displays information about a `MethodSig` structure at the specified address.|  \n|**DumpModule** [**-mt**] \\<*Module address*>|Displays information about a module at the specified address. The **-mt** option displays the types defined in a module and the types referenced by the module<br /><br /> You can use the **DumpDomain** or **DumpAssembly** command to retrieve a module's address.|  \n|**DumpObj** [**-nofields**] \\<*object address*><br /><br /> -or-<br /><br /> **DO** \\<*object address*>|Displays information about an object at the specified address. The **DumpObj** command displays the fields, the `EEClass` structure information, the method table, and the size of the object.<br /><br /> You can use the **DumpStackObjects** command to retrieve an object's address.<br /><br /> Note that you can run the **DumpObj** command on fields of type `CLASS` because they are also objects.<br /><br /> The `-`**nofields** option prevents fields of the object being displayed, it is useful for objects like String.|  \n|**DumpRuntimeTypes**|Displays the runtime type objects in the garbage collector heap and lists their associated type names and method tables.|  \n|**DumpStack** [**-EE**] [**-n**] [`top` *stack* [`bottom` *stac*`k`]]|Displays a stack trace.<br /><br /> The **-EE** option causes the **DumpStack** command to display only managed functions. Use the `top` and `bottom` parameters to limit the stack frames displayed on x86 platforms.<br /><br /> The **-n** option disables the display of source file names and line numbers. If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number. The **-n** (No line numbers) parameter can be specified to disable this behavior.<br /><br /> On x86 and x64 platforms, the **DumpStack** command creates a verbose stack trace.<br /><br /> On IA-64-based platforms, the **DumpStack** command mimics the debugger's **K** command. The `top` and `bottom` parameters are ignored on IA-64-based platforms.|  \n|**DumpSig** \\<*sigaddr*> \\<*moduleaddr*>|Displays information about a `Sig` structure at the specified address.|  \n|**DumpSigElem** \\<*sigaddr*> \\<*moduleaddr*>|Displays a single element of a signature object. In most cases, you should use **DumpSig** to look at individual signature objects. However, if a signature has been corrupted in some way, you can use **DumpSigElem** to read the valid portions of it.|  \n|**DumpStackObjects** [**-verify**] [`top` *stack* [`bottom` *stack*]]<br /><br /> -or-<br /><br /> **DSO** [**-verify**] [`top` *stack* [`bottom` *stack*]]|Displays all managed objects found within the bounds of the current stack.<br /><br /> The **-verify** option validates each non-static `CLASS` field of an object field.<br /><br /> Use the **DumpStackObject** command with stack tracing commands such as the **K** command and the **CLRStack** command to determine the values of local variables and parameters.|  \n|**DumpVC** \\<*MethodTable address*> \\<*Address*>|Displays information about the fields of a value class at the specified address.<br /><br /> The **MethodTable** parameter allows the **DumpVC** command to correctly interpret fields. Value classes do not have a method table as their first field.|  \n|**EEHeap** [**-gc**] [**-loader**]|Displays information about process memory consumed by internal common language runtime data structures.<br /><br /> The **-gc** and **-loader** options limit the output of this command to garbage collector or loader data structures.<br /><br /> The information for the garbage collector lists the ranges of each segment in the managed heap.  If the pointer falls within a segment range given by **-gc**, the pointer is an object pointer.|  \n|**EEStack** [**-short**] [**-EE**]|Runs the **DumpStack** command on all threads in the process.<br /><br /> The **-EE** option is passed directly to the **DumpStack** command. The **-short** parameter limits the output to the following kinds of threads:<br /><br /> Threads that have taken a lock.<br /><br /> Threads that have been stalled in order to allow a garbage collection.<br /><br /> Threads that are currently in managed code.|  \n|**EEVersion**|Displays the common language runtime version.|  \n|**EHInfo** [\\<*MethodDesc address*>] [\\<*Code address*>]|Displays the exception handling blocks in a specified method.  This command displays the code addresses and offsets for the clause block (the `try` block) and the handler block (the `catch` block).|  \n|**FAQ**|Displays frequently asked questions.|  \n|**FinalizeQueue** [**-detail**] &#124; [**-allReady**] [**-short**]|Displays all objects registered for finalization.<br /><br /> The **-detail** option displays extra information about any `SyncBlocks` that need to be cleaned up, and any `RuntimeCallableWrappers` (RCWs) that await cleanup. Both of these data structures are cached and cleaned up by the finalizer thread when it runs.<br /><br /> The `-allReady` option displays all objects that are ready for finalization, regardless of whether they are already marked by the garbage collection as such, or will be marked by the next garbage collection. The objects that are in the \"ready for finalization\" list are finalizable objects that are no longer rooted. This option can be very expensive, because it verifies whether all the objects in the finalizable queues are still rooted.<br /><br /> The `-short` option limits the output to the address of each object. If it is used in conjunction with **-allReady**, it enumerates all objects that have a finalizer that are no longer rooted. If it is used independently, it lists all objects in the finalizable and \"ready for finalization\" queues.|  \n|**FindAppDomain** \\<*Object address*>|Determines the application domain of an object at the specified address.|  \n|**FindRoots** **-gen** \\<*N*> &#124; **-gen any** &#124;\\<*object address*>|Causes the debugger to break in the debuggee on the next collection of the specified generation. The effect is reset as soon as the break occurs. To break on the next collection, you have to reissue the command. The *\\<object address>* form of this command is used after the break caused by the **-gen** or **-gen any** has occurred. At that time, the debuggee is in the right state for **FindRoots** to identify roots for objects from the current condemned generations.|  \n|**GCHandles** [**-perdomain**]|Displays statistics about garbage collector handles in the process.<br /><br /> The **-perdomain** option arranges the statistics by application domain.<br /><br /> Use the **GCHandles** command to find memory leaks caused by garbage collector handle leaks. For example, a memory leak occurs when code retains a large array because a strong garbage collector handle still points to it, and the handle is discarded without freeing it.|  \n|**GCHandleLeaks**|Searches memory for any references to strong and pinned garbage collector handles in the process and displays the results. If a handle is found, the **GCHandleLeaks** command displays the address of the reference. If a handle is not found in memory, this command displays a notification.|  \n|**GCInfo** \\<*MethodDesc address*>\\<*Code address*>|Displays data that indicates when registers or stack locations contain managed objects. If a garbage collection occurs, the collector must know the locations of references to objects so it can update them with new object pointer values.|  \n|**GCRoot** [**-nostacks**] \\<*Object address*>|Displays information about references (or roots) to an object at the specified address.<br /><br /> The **GCRoot** command examines the entire managed heap and the handle table for handles within other objects and handles on the stack. Each stack is then searched for pointers to objects, and the finalizer queue is also searched.<br /><br /> This command does not determine whether a stack root is valid or is discarded. Use the **CLRStack** and **U** commands to disassemble the frame that the local or argument value belongs to in order to determine if the stack root is still in use.<br /><br /> The **-nostacks** option restricts the search to garbage collector handles and freachable objects.|  \n|**GCWhere**  *\\<object address>*|Displays the location and size in the garbage collection heap of the argument passed in. When the argument lies in the managed heap but is not a valid object address, the size is displayed as 0 (zero).|  \n|**help** [\\<*command*>] [`faq`]|Displays all available commands when no parameter is specified, or displays detailed help information about the specified command.<br /><br /> The `faq` parameter displays answers to frequently asked questions.|  \n|**HeapStat** [**-inclUnrooted** &#124; **-iu**]|Displays the generation sizes for each heap and the total free space in each generation on each heap. If the -**inclUnrooted** option is specified, the report includes information about the managed objects from the garbage collection heap that is no longer rooted.|  \n|**HistClear**|Releases any resources used by the family of `Hist` commands.<br /><br /> Generally, you do not have to explicitly call `HistClear`, because each `HistInit` cleans up the previous resources.|  \n|**HistInit**|Initializes the SOS structures from the stress log saved in the debuggee.|  \n|**HistObj** *<obj_address>*|Examines all stress log relocation records and displays the chain of garbage collection relocations that may have led to the address passed in as an argument.|  \n|**HistObjFind**  *<obj_address>*|Displays all the log entries that reference an object at the specified address.|  \n|**HistRoot** *\\<root>*|Displays information related to both promotions and relocations of the specified root.<br /><br /> The root value can be used to track the movement of an object through the garbage collections.|  \n|**IP2MD** \\<*Code address*>|Displays the `MethodDesc` structure at the specified address in code that has been JIT-compiled.|  \n|`ListNearObj` (`lno`) *<obj_address>*|Displays the objects preceding and following the specified address. The command looks for the address in the garbage collection heap that looks like a valid beginning of a managed object (based on a valid method table) and the object following the argument address.|  \n|**MinidumpMode** [**0**] [**1**]|Prevents running unsafe commands when using a minidump.<br /><br /> Pass **0** to disable this feature or **1** to enable this feature. By default, the **MinidumpMode** value is set to **0**.<br /><br /> Minidumps created with the **.dump /m** command or **.dump** command have limited CLR-specific data and allow you to run only a subset of SOS commands correctly. Some commands may fail with unexpected errors because required areas of memory are not mapped or are only partially mapped. This option protects you from running unsafe commands against minidumps.|  \n|**Name2EE** \\<*module name*> \\<*type or method name*><br /><br /> -or-<br /><br /> **Name2EE** \\<*module name*>**!**\\<*type or method name*>|Displays the `MethodTable` structure and `EEClass` structure for the specified type or method in the specified module.<br /><br /> The specified module must be loaded in the process.<br /><br /> To get the proper type name, browse the module by using the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md). You can also pass `*` as the module name parameter to search all loaded managed modules. The *module name* parameter can also be the debugger's name for a module, such as `mscorlib` or `image00400000`.<br /><br /> This command supports the Windows debugger syntax of <`module`>`!`<`type`>. The type must be fully qualified.|  \n|**ObjSize** [\\<*Object address*>] &#124; [**-aggregate**] [**-stat**]|Displays the size of the specified object. If you do not specify any parameters, the **ObjSize** command displays the size of all objects found on managed threads, displays all garbage collector handles in the process, and totals the size of any objects pointed to by those handles. The **ObjSize** command includes the size of all child objects in addition to the parent.<br /><br /> The **-aggregate** option can be used in conjunction with the **-stat** argument to get a detailed view of the types that are still rooted. By using **!dumpheap -stat** and **!objsize -aggregate -stat**, you can determine which objects are no longer rooted and diagnose various memory issues.|  \n|**PrintException** [**-nested**] [**-lines**] [\\<*Exception object address*>]<br /><br /> -or-<br /><br /> **PE** [**-nested**] [\\<*Exception object address*>]|Displays and formats fields of any object derived from the <xref:System.Exception> class at the specified address. If you do not specify an address, the **PrintException** command displays the last exception thrown on the current thread.<br /><br /> The **-nested** option displays details about nested exception objects.<br /><br /> The **-lines** option displays source information, if available.<br /><br /> You can use this command to format and view the `_stackTrace` field, which is a binary array.|  \n|**ProcInfo** [**-env**] [**-time**] [**-mem**]|Displays environment variables for the process, kernel CPU time, and memory usage statistics.|  \n|**RCWCleanupList** \\<*RCWCleanupList address*>|Displays the list of runtime callable wrappers at the specified address that are awaiting cleanup.|  \n|**SaveModule** \\<*Base address*> \\<*Filename*>|Writes an image, which is loaded in memory at the specified address, to the specified file.|  \n|**SOSFlush**|Flushes an internal SOS cache.|  \n|**StopOnException** [**-derived**] [**-create** &#124; **-create2**] \\<*Exception*> \\<*Pseudo-register number*>|Causes the debugger to stop when the specified exception is thrown, but to continue running when other exceptions are thrown.<br /><br /> The **-derived** option catches the specified exception and every exception that derives from the specified exception.|  \n|**SyncBlk** [**-all** &#124; \\<*syncblk number*>]|Displays the specified `SyncBlock` structure or all `SyncBlock` structures.  If you do not pass any arguments, the **SyncBlk** command displays the `SyncBlock` structure corresponding to objects that are owned by a thread.<br /><br /> A `SyncBlock` structure is a container for extra information that does not need to be created for every object. It can hold COM interop data, hash codes, and locking information for thread-safe operations.|  \n|**ThreadPool**|Displays information about the managed thread pool, including the number of work requests in the queue, the number of completion port threads, and the number of timers.|  \n|**Token2EE** \\<*module name*> \\<*token*>|Turns the specified metadata token in the specified module into a `MethodTable` structure or `MethodDesc` structure.<br /><br /> You can pass `*` for the module name parameter to find what that token maps to in every loaded managed module. You can also pass the debugger's name for a module, such as `mscorlib` or `image00400000`.|  \n|**Threads** [**-live**] [**-special**]|Displays all managed threads in the process.<br /><br /> The **Threads** command displays the debugger shorthand ID, the common language runtime thread ID, and the operating system thread ID.  Additionally, the **Threads** command displays a Domain column that indicates the application domain in which a thread is executing, an APT column that displays the COM apartment mode, and an Exception column that displays the last exception thrown in the thread.<br /><br /> The **-live** option displays threads associated with a live thread.<br /><br /> The **-special** option displays all special threads created by the CLR. Special threads include garbage collection threads (in concurrent and server garbage collection), debugger helper threads, finalizer threads, <xref:System.AppDomain> unload threads, and thread pool timer threads.|  \n|**ThreadState \\<** *State value field* **>**|Displays the state of the thread. The `value` parameter is the value of the `State` field in the **Threads** report output.<br /><br /> Example:<br /><br /> `0:003> !Threads     ThreadCount:      2     UnstartedThread:  0     BackgroundThread: 1     PendingThread:    0     DeadThread:       0     Hosted Runtime:   no                                           PreEmptive   GC Alloc           Lock            ID OSID ThreadOBJ    State     GC       Context       Domain   Count APT Exception        0    1  250 0019b068      a020 Disabled 02349668:02349fe8 0015def0     0 MTA        2    2  944 001a6020      b220 Enabled  00000000:00000000 0015def0     0 MTA (Finalizer)     0:003> !ThreadState b220         Legal to Join         Background         CLR Owns         CoInitialized         In Multi Threaded Apartment`|  \n|**TraverseHeap** [**-xml**] \\<*filename*>|Writes heap information to the specified file in a format understood by the CLR profiler. The **-xml** option causes the **TraverseHeap** command to format the file as XML.<br /><br /> You can download the CLR Profiler from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkID=67325).|  \n|**U** [**-gcinfo**] [**-ehinfo**] [**-n**] \\<*MethodDesc address*> &#124; \\<*Code address*>|Displays an annotated disassembly of a managed method specified either by a `MethodDesc` structure pointer for the method or by a code address within the method body. The **U** command displays the entire method from start to finish, with annotations that convert metadata tokens to names.<br /><br /> The **-gcinfo** option causes the **U** command to display the `GCInfo` structure for the method.<br /><br /> The **-ehinfo** option displays exception information for the method. You can also obtain this information with the **EHInfo** command.<br /><br /> The **-n** option disables the display of source file names and line numbers. If the debugger has the option SYMOPT_LOAD_LINES specified, SOS looks up the symbols for every managed frame and, if successful, displays the corresponding source file name and line number. You can specify the **-n** option to disable this behavior.|  \n|**VerifyHeap**|Checks the garbage collector heap for signs of corruption and displays any errors found.<br /><br /> Heap corruptions can be caused by platform invoke calls that are constructed incorrectly.|  \n|**VerifyObj** \\<*object address*>|Checks the object that is passed as an argument for signs of corruption.|  \n|**VMMap**|Traverses the virtual address space and displays the type of protection applied to each region.|  \n|**VMStat**|Provides a summary view of the virtual address space, ordered by each type of protection applied to that memory (free, reserved, committed, private, mapped, image). The TOTAL column displays the result of the AVERAGE column multiplied by the BLK COUNT column.|  \n  \n## Remarks  \n The SOS Debugging Extension lets you view information about code that is running inside the common language runtime. For example, you can use the SOS Debugging Extension to display information about the managed heap, look for heap corruptions, display internal data types used by the runtime, and view information about all managed code running inside the runtime.  \n  \n To use the SOS Debugging Extension in Visual Studio, install the [Windows Driver Kit (WDK)](http://msdn.microsoft.com/windows/hardware/hh852362). For information about the integrated debugging environment in Visual Studio, see [Debugging Environments](http://msdn.microsoft.com/library/windows/hardware/hh406268.aspx) in the Windows Dev Center.  \n  \n You can also use the SOS Debugging Extension by loading it into the WinDbg.exe debugger, which is available from the [WDK and Developer Tools Web site](http://go.microsoft.com/fwlink/?LinkId=103787), and executing commands within WinDbg.exe.  \n  \n To load the SOS Debugging Extension into the WinDbg.exe debugger, run the following command in the tool:  \n  \n```  \n.loadby sos clr  \n```  \n  \n WinDbg.exe and Visual Studio use a version of SOS.dll that corresponds to the version of Mscorwks.dll currently in use. In versions 1.1 and 2.0 of the .NET Framework, SOS.dll is installed in the same directory as Mscorwks.dll. By default, you should use the version of SOS.dll that matches the current version of Mscorwks.dll.  \n  \n To use a dump file created on another computer, make sure that the Mscorwks.dll file that came with that installation is in your symbol path, and load the corresponding version of SOS.dll.  \n  \n To load a specific version of SOS.dll, type the following command into the Windows Debugger:  \n  \n```  \n.load <full path to sos.dll>  \n```  \n  \n## Examples  \n The following command displays the contents of an array at the address `00ad28d0`.  The display starts from the second element and continues for five elements.  \n  \n```  \n!dumparray -start 2 -length 5 -detail 00ad28d0   \n```  \n  \n The following command displays the contents of an assembly at the address `1ca248`.  \n  \n```  \n!dumpassembly 1ca248  \n```  \n  \n The following command displays information about the garbage collector heap.  \n  \n```  \n!dumpheap  \n```  \n  \n The following command writes the contents of the in-memory stress log to a (default) file called StressLog.txt in the current directory.  \n  \n```  \n!DumpLog  \n```  \n  \n The following command displays the `MethodDesc` structure at the address `902f40`.  \n  \n```  \n!dumpmd 902f40  \n```  \n  \n The following command displays information about a module at the address `1caa50`.  \n  \n```  \n!dumpmodule 1caa50  \n```  \n  \n The following command displays information about an object at the address `a79d40`.  \n  \n```  \n!DumpObj a79d40  \n```  \n  \n The following command displays the fields of a value class at the address `00a79d9c` using the method table at the address `0090320c`.  \n  \n```  \n!DumpVC 0090320c 00a79d9c  \n```  \n  \n The following command displays the process memory used by the garbage collector.  \n  \n```  \n!eeheap -gc  \n```  \n  \n The following command displays all objects scheduled for finalization.  \n  \n```  \n!finalizequeue  \n```  \n  \n The following command determines the application domain of an object at the address `00a79d98`.  \n  \n```  \n!findappdomain 00a79d98  \n```  \n  \n The following command displays all garbage collector handles in the current process.  \n  \n```  \n!gcinfo 5b68dbb8   \n```  \n  \n The following command displays the `MethodTable` and `EEClass` structures for the `Main` method in the class `MainClass` in the module `unittest.exe`.  \n  \n```  \n!name2ee unittest.exe MainClass.Main  \n```  \n  \n The following command displays information about the metadata token at the address `02000003` in the module `unittest.exe`.  \n  \n```  \n!token2ee unittest.exe 02000003  \n```  \n  \n## See Also  \n [Tools](../../../docs/framework/tools/index.md)   \n [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md)","nodes":[{"pos":[4,507],"nodes":[{"content":"SOS.dll (SOS Debugging Extension) | Microsoft Docs","nodes":[{"pos":[0,50],"content":"SOS.dll (SOS Debugging Extension) | Microsoft Docs","nodes":[{"content":"SOS.dll (SOS Debugging Extension) | Microsoft Docs","pos":[0,50]}]}],"pos":[6,59],"yaml":true}],"content":"title: \"SOS.dll (SOS Debugging Extension) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"debugging extensions\"\n  - \"SOS debugging extensions\"\n  - \"SOS.dll\"\nms.assetid: 9ac1b522-77ab-4cdc-852a-20fcdc9ae498\ncaps.latest.revision: 55\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"","yamlblock":true},{"pos":[514,547],"content":"SOS.dll (SOS Debugging Extension)","linkify":"SOS.dll (SOS Debugging Extension)","nodes":[{"content":"SOS.dll (SOS Debugging Extension)","pos":[0,33]}]},{"content":"The SOS Debugging Extension (SOS.dll) helps you debug managed programs in Visual Studio and in the Windows debugger (WinDbg.exe) by providing information about the internal common language runtime (CLR) environment.","pos":[548,763]},{"content":"This tool requires your project to have unmanaged debugging enabled.","pos":[764,832]},{"content":"SOS.dll is automatically installed with the .NET Framework.","pos":[833,892]},{"content":"To use SOS.dll in Visual Studio, install the <bpt id=\"p1\">[</bpt>Windows Driver Kit (WDK)<ept id=\"p1\">](http://msdn.microsoft.com/windows/hardware/hh852362)</ept>.","pos":[893,1018],"source":" To use SOS.dll in Visual Studio, install the [Windows Driver Kit (WDK)](http://msdn.microsoft.com/windows/hardware/hh852362)."},{"pos":[1026,1239],"content":"[!NOTE]\n If you are using [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)], SOS.dll is supported in the Windows Debugger within Visual Studio, but not in the Immediate window of the Visual Studio debugger.","leadings":["","> "],"nodes":[{"content":"If you are using <ph id=\"ph1\">[!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)]</ph>, SOS.dll is supported in the Windows Debugger within Visual Studio, but not in the Immediate window of the Visual Studio debugger.","pos":[9,211],"source":"If you are using [!INCLUDE[vs_dev12](../../../includes/vs-dev12-md.md)], SOS.dll is supported in the Windows Debugger within Visual Studio, but not in the Immediate window of the Visual Studio debugger."}]},{"pos":[1248,1254],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1302,1310],"content":"Commands","linkify":"Commands","nodes":[{"content":"Commands","pos":[0,8]}]},{"content":"Command","pos":[1317,1324]},{"content":"Description","pos":[1325,1336]},{"pos":[1377,1400],"content":"<bpt id=\"p1\">**</bpt>AnalyzeOOM<ept id=\"p1\">**</ept> (<bpt id=\"p2\">**</bpt>ao<ept id=\"p2\">**</ept>)","source":"**AnalyzeOOM** (**ao**)"},{"content":"Displays the information for the last OOM that occurred on an allocation request to the garbage collection heap.","pos":[1401,1513]},{"content":"(In server garbage collection, it displays OOM, if any, on each garbage collection heap.)","pos":[1514,1603]},{"pos":[1608,1765],"content":"<bpt id=\"p1\">**</bpt>BPMD<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-nofuturemodule<ept id=\"p2\">**</ept>] [<ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>module name<ept id=\"p3\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p4\">*</bpt>method name<ept id=\"p4\">*</ept>&gt;] [<bpt id=\"p5\">**</bpt>-md<ept id=\"p5\">**</ept><ph id=\"ph4\"> &lt;</ph><ph id=\"ph5\">`MethodDesc`</ph>&gt;] <bpt id=\"p6\">**</bpt>-list<ept id=\"p6\">**</ept> <bpt id=\"p7\">**</bpt>-clear<ept id=\"p7\">**</ept> <ph id=\"ph6\">\\&lt;</ph><bpt id=\"p8\">*</bpt>pending breakpoint number<ept id=\"p8\">*</ept><ph id=\"ph7\">&gt; </ph><bpt id=\"p9\">**</bpt>-clearall<ept id=\"p9\">**</ept>","source":"**BPMD** [**-nofuturemodule**] [\\<*module name*> \\<*method name*>] [**-md** <`MethodDesc`>] **-list** **-clear** \\<*pending breakpoint number*> **-clearall**"},{"content":"Creates a breakpoint at the specified method in the specified module.","pos":[1766,1835]},{"content":"If the specified module and method have not been loaded, this command waits for a notification that the module was loaded and just-in-time (JIT) compiled before creating a breakpoint.","pos":[1848,2031]},{"content":"You can manage the list of pending breakpoints by using the <bpt id=\"p1\">**</bpt>-list<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>-clear<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>-clearall<ept id=\"p3\">**</ept> options:","pos":[2044,2153],"source":"You can manage the list of pending breakpoints by using the **-list**, **-clear**, and **-clearall** options:"},{"content":"The <bpt id=\"p1\">**</bpt>-list<ept id=\"p1\">**</ept> option generates a list of all the pending breakpoints.","pos":[2166,2235],"source":"The **-list** option generates a list of all the pending breakpoints."},{"content":"If a pending breakpoint has a non-zero module ID, that breakpoint is specific to a function in that particular loaded module.","pos":[2236,2361]},{"content":"If the pending breakpoint has a zero module ID, that breakpoint applies to modules that have not yet been loaded.","pos":[2362,2475]},{"content":"Use the <bpt id=\"p1\">**</bpt>-clear<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>-clearall<ept id=\"p2\">**</ept> option to remove pending breakpoints from the list.","pos":[2488,2575],"source":"Use the **-clear** or **-clearall** option to remove pending breakpoints from the list."},{"pos":[2580,2628],"content":"<bpt id=\"p1\">**</bpt>CLRStack<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-a<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-l<ept id=\"p3\">**</ept>] [<bpt id=\"p4\">**</bpt>-p<ept id=\"p4\">**</ept>] [<bpt id=\"p5\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p5\">**</ept>]","source":"**CLRStack** [**-a**] [**-l**] [**-p**] [**-n**]"},{"content":"Provides a stack trace of managed code only.","pos":[2629,2673]},{"content":"The <bpt id=\"p1\">**</bpt>-p<ept id=\"p1\">**</ept> option shows arguments to the managed function.","pos":[2686,2744],"source":"The **-p** option shows arguments to the managed function."},{"content":"The <bpt id=\"p1\">**</bpt>-l<ept id=\"p1\">**</ept> option shows information on local variables in a frame.","pos":[2757,2823],"source":"The **-l** option shows information on local variables in a frame."},{"content":"The SOS Debugging Extension cannot retrieve local names, so the output for local names is in the format <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p1\">*</bpt>local address<ept id=\"p1\">*</ept><ph id=\"ph2\">&gt; </ph><bpt id=\"p2\">**</bpt><ph id=\"ph3\">=</ph><ept id=\"p2\">**</ept> <ph id=\"ph4\">\\&lt;</ph><bpt id=\"p3\">*</bpt>value<ept id=\"p3\">*</ept>&gt;.","pos":[2824,2964],"source":" The SOS Debugging Extension cannot retrieve local names, so the output for local names is in the format \\<*local address*> **=** \\<*value*>."},{"content":"The <bpt id=\"p1\">**</bpt>-a<ept id=\"p1\">**</ept>(all) option is a shortcut for <bpt id=\"p2\">**</bpt>-l<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>-p<ept id=\"p3\">**</ept>combined.","pos":[2977,3044],"source":"The **-a**(all) option is a shortcut for **-l** and **-p**combined."},{"content":"The <bpt id=\"p1\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p1\">**</ept> option disables the display of source file names and line numbers.","pos":[3057,3134],"source":"The **-n** option disables the display of source file names and line numbers."},{"content":"If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number.","pos":[3135,3330]},{"content":"The <bpt id=\"p1\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p1\">**</ept> (No line numbers) parameter can be specified to disable this behavior.","pos":[3331,3412],"source":" The **-n** (No line numbers) parameter can be specified to disable this behavior."},{"content":"The SOS Debugging Extension does not display transition frames on x64 and IA-64-based platforms.","pos":[3425,3521]},{"pos":[3526,3538],"content":"<bpt id=\"p1\">**</bpt>COMState<ept id=\"p1\">**</ept>","source":"**COMState**"},{"pos":[3539,3623],"content":"Lists the COM apartment model for each thread and a <ph id=\"ph1\">`Context`</ph> pointer, if available.","source":"Lists the COM apartment model for each thread and a `Context` pointer, if available."},{"content":"<bpt id=\"p1\">**</bpt>DumpArray<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-start<ept id=\"p2\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>startIndex<ept id=\"p3\">*</ept>&gt;] [<bpt id=\"p4\">**</bpt>-length<ept id=\"p4\">**</ept> <ph id=\"ph2\">\\&lt;</ph><bpt id=\"p5\">*</bpt>length<ept id=\"p5\">*</ept>&gt;] [<bpt id=\"p6\">**</bpt>-details<ept id=\"p6\">**</ept>] [<bpt id=\"p7\">**</bpt>-nofields<ept id=\"p7\">**</ept>] <ph id=\"ph3\">\\&lt;</ph><bpt id=\"p8\">*</bpt>array object address<ept id=\"p8\">*</ept><ph id=\"ph4\">&gt;</ph>","pos":[3628,3753],"source":"**DumpArray** [**-start** \\<*startIndex*>] [**-length** \\<*length*>] [**-details**] [**-nofields**] \\<*array object address*>"},{"content":"-or-","pos":[3766,3770]},{"content":"<bpt id=\"p1\">**</bpt>DA<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-start<ept id=\"p2\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>startIndex<ept id=\"p3\">*</ept>&gt;] [<bpt id=\"p4\">**</bpt>-length<ept id=\"p4\">**</ept> <ph id=\"ph2\">\\&lt;</ph><bpt id=\"p5\">*</bpt>length<ept id=\"p5\">*</ept>&gt;] [<bpt id=\"p6\">**</bpt>-detail<ept id=\"p6\">**</ept>] [<bpt id=\"p7\">**</bpt>-nofields<ept id=\"p7\">**</ept>] <bpt id=\"p8\">*</bpt>array object address<ept id=\"p8\">*</ept><ph id=\"ph3\">&gt;</ph>","pos":[3783,3898],"source":"**DA** [**-start** \\<*startIndex*>] [**-length** \\<*length*>] [**-detail**] [**-nofields**] *array object address*>"},{"content":"Examines elements of an array object.","pos":[3899,3936]},{"content":"The <bpt id=\"p1\">**</bpt>-start<ept id=\"p1\">**</ept> option specifies the starting index at which to display elements.","pos":[3949,4029],"source":"The **-start** option specifies the starting index at which to display elements."},{"content":"The <bpt id=\"p1\">**</bpt>-length<ept id=\"p1\">**</ept> option specifies how many elements to show.","pos":[4042,4101],"source":"The **-length** option specifies how many elements to show."},{"content":"The <bpt id=\"p1\">**</bpt>-details<ept id=\"p1\">**</ept> option displays details of the element using the <bpt id=\"p2\">**</bpt>DumpObj<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>DumpVC<ept id=\"p3\">**</ept> formats.","pos":[4114,4215],"source":"The **-details** option displays details of the element using the **DumpObj** and **DumpVC** formats."},{"content":"The <bpt id=\"p1\">**</bpt>-nofields<ept id=\"p1\">**</ept> option prevents arrays from displaying.","pos":[4228,4285],"source":"The **-nofields** option prevents arrays from displaying."},{"content":"This option is available only when the <bpt id=\"p1\">**</bpt>-detail<ept id=\"p1\">**</ept> option is specified.","pos":[4286,4357],"source":" This option is available only when the **-detail** option is specified."},{"pos":[4362,4400],"content":"<bpt id=\"p1\">**</bpt>DumpAssembly<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>assembly address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**DumpAssembly** \\<*assembly address*>"},{"content":"Displays information about an assembly.","pos":[4401,4440]},{"content":"The <bpt id=\"p1\">**</bpt>DumpAssembly<ept id=\"p1\">**</ept> command lists multiple modules, if they exist.","pos":[4453,4520],"source":"The **DumpAssembly** command lists multiple modules, if they exist."},{"content":"You can get an assembly address by using the <bpt id=\"p1\">**</bpt>DumpDomain<ept id=\"p1\">**</ept> command.","pos":[4533,4601],"source":"You can get an assembly address by using the **DumpDomain** command."},{"pos":[4606,4640],"content":"<bpt id=\"p1\">**</bpt>DumpClass<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>EEClass address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**DumpClass** \\<*EEClass address*>"},{"content":"Displays information about the <ph id=\"ph1\">`EEClass`</ph> structure associated with a type.","pos":[4641,4715],"source":"Displays information about the `EEClass` structure associated with a type."},{"content":"The <bpt id=\"p1\">**</bpt>DumpClass<ept id=\"p1\">**</ept> command displays static field values but does not display nonstatic field values.","pos":[4728,4827],"source":"The **DumpClass** command displays static field values but does not display nonstatic field values."},{"content":"Use the <bpt id=\"p1\">**</bpt>DumpMT<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>DumpObj<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Name2EE<ept id=\"p3\">**</ept>, or <bpt id=\"p4\">**</bpt>Token2EE<ept id=\"p4\">**</ept> command to get an <ph id=\"ph1\">`EEClass`</ph> structure address.","pos":[4840,4948],"source":"Use the **DumpMT**, **DumpObj**, **Name2EE**, or **Token2EE** command to get an `EEClass` structure address."},{"pos":[4953,4989],"content":"<bpt id=\"p1\">**</bpt>DumpDomain<ept id=\"p1\">**</ept> [<ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>domain address<ept id=\"p2\">*</ept>&gt;]","source":"**DumpDomain** [\\<*domain address*>]"},{"content":"Enumerates each <ph id=\"ph1\">&lt;xref:System.Reflection.Assembly&gt;</ph> object that is loaded within the specified <ph id=\"ph2\">&lt;xref:System.AppDomain&gt;</ph> object address.","pos":[4990,5122],"source":"Enumerates each <xref:System.Reflection.Assembly> object that is loaded within the specified <xref:System.AppDomain> object address."},{"content":"When called with no parameters, the <bpt id=\"p1\">**</bpt>DumpDomain<ept id=\"p1\">**</ept> command lists all <ph id=\"ph1\">&lt;xref:System.AppDomain&gt;</ph> objects in a process.","pos":[5124,5238],"source":"  When called with no parameters, the **DumpDomain** command lists all <xref:System.AppDomain> objects in a process."},{"pos":[5243,5465],"content":"<bpt id=\"p1\">**</bpt>DumpHeap<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-stat<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-strings<ept id=\"p3\">**</ept>] [<bpt id=\"p4\">**</bpt>-short<ept id=\"p4\">**</ept>] [<bpt id=\"p5\">**</bpt>-min<ept id=\"p5\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p6\">*</bpt>size<ept id=\"p6\">*</ept>&gt;] [<bpt id=\"p7\">**</bpt>-max<ept id=\"p7\">**</ept> <ph id=\"ph2\">\\&lt;</ph><bpt id=\"p8\">*</bpt>size<ept id=\"p8\">*</ept>&gt;] [<bpt id=\"p9\">**</bpt>-thinlock<ept id=\"p9\">**</ept>] [<bpt id=\"p10\">**</bpt>-startAtLowerBound<ept id=\"p10\">**</ept>] [<bpt id=\"p11\">**</bpt>-mt<ept id=\"p11\">**</ept> <ph id=\"ph3\">\\&lt;</ph><bpt id=\"p12\">*</bpt>MethodTable address<ept id=\"p12\">*</ept>&gt;] [<bpt id=\"p13\">**</bpt>-type<ept id=\"p13\">**</ept> <ph id=\"ph4\">\\&lt;</ph><bpt id=\"p14\">*</bpt>partial type name<ept id=\"p14\">*</ept>&gt;][<bpt id=\"p15\">*</bpt>start<ept id=\"p15\">*</ept> [<bpt id=\"p16\">*</bpt>end<ept id=\"p16\">*</ept>]]","source":"**DumpHeap** [**-stat**] [**-strings**] [**-short**] [**-min** \\<*size*>] [**-max** \\<*size*>] [**-thinlock**] [**-startAtLowerBound**] [**-mt** \\<*MethodTable address*>] [**-type** \\<*partial type name*>][*start* [*end*]]"},{"content":"Displays information about the garbage-collected heap and collection statistics about objects.","pos":[5466,5560]},{"content":"The <bpt id=\"p1\">**</bpt>DumpHeap<ept id=\"p1\">**</ept> command displays a warning if it detects excessive fragmentation in the garbage collector heap.","pos":[5573,5685],"source":"The **DumpHeap** command displays a warning if it detects excessive fragmentation in the garbage collector heap."},{"content":"The <bpt id=\"p1\">**</bpt>-stat<ept id=\"p1\">**</ept> option restricts the output to the statistical type summary.","pos":[5698,5772],"source":"The **-stat** option restricts the output to the statistical type summary."},{"content":"The <bpt id=\"p1\">**</bpt>-strings<ept id=\"p1\">**</ept> option restricts the output to a statistical string value summary.","pos":[5785,5868],"source":"The **-strings** option restricts the output to a statistical string value summary."},{"content":"The <bpt id=\"p1\">**</bpt>-short<ept id=\"p1\">**</ept> option limits output to just the address of each object.","pos":[5881,5952],"source":"The **-short** option limits output to just the address of each object."},{"content":"This lets you easily pipe output from the command to another debugger command for automation.","pos":[5953,6046]},{"content":"The <bpt id=\"p1\">**</bpt>-min<ept id=\"p1\">**</ept> option ignores objects that are less than the <ph id=\"ph1\">`size`</ph> parameter, specified in bytes.","pos":[6059,6155],"source":"The **-min** option ignores objects that are less than the `size` parameter, specified in bytes."},{"content":"The <bpt id=\"p1\">**</bpt>-max<ept id=\"p1\">**</ept> option ignores objects that are larger than the <ph id=\"ph1\">`size`</ph> parameter, specified in bytes.","pos":[6168,6266],"source":"The **-max** option ignores objects that are larger than the `size` parameter, specified in bytes."},{"content":"The <bpt id=\"p1\">**</bpt>-thinlock<ept id=\"p1\">**</ept> option reports ThinLocks.","pos":[6279,6322],"source":"The **-thinlock** option reports ThinLocks."},{"content":"For more information, see the <bpt id=\"p1\">**</bpt>SyncBlk<ept id=\"p1\">**</ept> command.","pos":[6324,6374],"source":"  For more information, see the **SyncBlk** command."},{"content":"The <ph id=\"ph1\">`-startAtLowerBound`</ph> option forces the heap walk to begin at the lower bound of a supplied address range.","pos":[6387,6496],"source":"The `-startAtLowerBound` option forces the heap walk to begin at the lower bound of a supplied address range."},{"content":"During the planning phase, the heap is often not walkable because objects are being moved.","pos":[6497,6587]},{"content":"This option forces <bpt id=\"p1\">**</bpt>DumpHeap<ept id=\"p1\">**</ept> to begin its walk at the specified lower bound.","pos":[6588,6667],"source":" This option forces **DumpHeap** to begin its walk at the specified lower bound."},{"content":"You must supply the address of a valid object as the lower bound for this option to work.","pos":[6668,6757]},{"content":"You can display memory at the address of a bad object to manually find the next method table.","pos":[6758,6851]},{"content":"If the garbage collection is currently in a call to <ph id=\"ph1\">`memcopy`</ph>, you may also be able to find the address of the next object by adding the size to the start address, which is supplied as a parameter.","pos":[6852,7049],"source":" If the garbage collection is currently in a call to `memcopy`, you may also be able to find the address of the next object by adding the size to the start address, which is supplied as a parameter."},{"content":"The <bpt id=\"p1\">**</bpt>-mt<ept id=\"p1\">**</ept> option lists only those objects that correspond to the specified <ph id=\"ph1\">`MethodTable`</ph> structure.","pos":[7062,7163],"source":"The **-mt** option lists only those objects that correspond to the specified `MethodTable` structure."},{"content":"The <bpt id=\"p1\">**</bpt>-type<ept id=\"p1\">**</ept> option lists only those objects whose type name is a substring match of the specified string.","pos":[7176,7283],"source":"The **-type** option lists only those objects whose type name is a substring match of the specified string."},{"content":"The <ph id=\"ph1\">`start`</ph> parameter begins listing from the specified address.","pos":[7296,7360],"source":"The `start` parameter begins listing from the specified address."},{"content":"The <ph id=\"ph1\">`end`</ph> parameter stops listing at the specified address.","pos":[7373,7432],"source":"The `end` parameter stops listing at the specified address."},{"pos":[7437,7563],"content":"<bpt id=\"p1\">**</bpt>DumpIL<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>Managed DynamicMethod object<ept id=\"p2\">*</ept>&gt; &amp;#124;       <ph id=\"ph2\">\\&lt;</ph><bpt id=\"p3\">*</bpt>DynamicMethodDesc pointer<ept id=\"p3\">*</ept>&gt; &amp;#124;        <ph id=\"ph3\">\\&lt;</ph><bpt id=\"p4\">*</bpt>MethodDesc pointer<ept id=\"p4\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**DumpIL** \\<*Managed DynamicMethod object*> &#124;       \\<*DynamicMethodDesc pointer*> &#124;        \\<*MethodDesc pointer*>"},{"content":"Displays the Microsoft intermediate language (MSIL) that is associated with a managed method.","pos":[7564,7657]},{"content":"Note that dynamic MSIL is emitted differently than MSIL that is loaded from an assembly.","pos":[7670,7758]},{"content":"Dynamic MSIL refers to objects in a managed object array rather than to metadata tokens.","pos":[7759,7847]},{"pos":[7852,7916],"content":"<bpt id=\"p1\">**</bpt>DumpLog<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-addr<ept id=\"p2\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>addressOfStressLog<ept id=\"p3\">*</ept>&gt;] [&lt;<bpt id=\"p4\">*</bpt>Filenam<ept id=\"p4\">*</ept><ph id=\"ph2\">`e`</ph>&gt;]","source":"**DumpLog** [**-addr** \\<*addressOfStressLog*>] [<*Filenam*`e`>]"},{"content":"Writes the contents of an in-memory stress log to the specified file.","pos":[7917,7986]},{"content":"If you do not specify a name, this command creates a file called StressLog.txt in the current directory.","pos":[7987,8091]},{"content":"The in-memory stress log helps you diagnose stress failures without using locks or I/O.","pos":[8104,8191]},{"content":"To enable the stress log, set the following registry keys under HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft<ph id=\"ph1\">\\\\</ph>.NETFramework:","pos":[8192,8309],"source":" To enable the stress log, set the following registry keys under HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\\\.NETFramework:"},{"content":"(DWORD) StressLog = 1","pos":[8322,8343]},{"content":"(DWORD) LogFacility = 0xffffffff","pos":[8356,8388]},{"content":"(DWORD) StressLogSize = 65536","pos":[8401,8430]},{"content":"The optional <ph id=\"ph1\">`-addr`</ph> option lets you specify a stress log other than the default log.","pos":[8443,8528],"source":"The optional `-addr` option lets you specify a stress log other than the default log."},{"pos":[8533,8567],"content":"<bpt id=\"p1\">**</bpt>DumpMD<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>MethodDesc address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**DumpMD** \\<*MethodDesc address*>"},{"content":"Displays information about a <ph id=\"ph1\">`MethodDesc`</ph> structure at the specified address.","pos":[8568,8645],"source":"Displays information about a `MethodDesc` structure at the specified address."},{"content":"You can use the <bpt id=\"p1\">**</bpt>IP2MD<ept id=\"p1\">**</ept> command to get the <ph id=\"ph1\">`MethodDesc`</ph> structure address from a managed function.","pos":[8658,8758],"source":"You can use the **IP2MD** command to get the `MethodDesc` structure address from a managed function."},{"pos":[8763,8808],"content":"<bpt id=\"p1\">**</bpt>DumpMT<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-MD<ept id=\"p2\">**</ept>] <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>MethodTable address<ept id=\"p3\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**DumpMT** [**-MD**] \\<*MethodTable address*>"},{"content":"Displays information about a method table at the specified address.","pos":[8809,8876]},{"content":"Specifying the <bpt id=\"p1\">**</bpt>-MD<ept id=\"p1\">**</ept> option displays a list of all methods defined with the object.","pos":[8877,8962],"source":" Specifying the **-MD** option displays a list of all methods defined with the object."},{"content":"Each managed object contains a method table pointer.","pos":[8975,9027]},{"pos":[9032,9079],"content":"<bpt id=\"p1\">**</bpt>DumpMethodSig<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>sigaddr<ept id=\"p2\">*</ept>&gt; &lt;<bpt id=\"p3\">*</bpt>moduleadd<ept id=\"p3\">*</ept><ph id=\"ph2\">`r`</ph><ph id=\"ph3\">&gt;</ph>","source":"**DumpMethodSig** \\<*sigaddr*> <*moduleadd*`r`>"},{"pos":[9080,9156],"content":"Displays information about a <ph id=\"ph1\">`MethodSig`</ph> structure at the specified address.","source":"Displays information about a `MethodSig` structure at the specified address."},{"pos":[9161,9205],"content":"<bpt id=\"p1\">**</bpt>DumpModule<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-mt<ept id=\"p2\">**</ept>] <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>Module address<ept id=\"p3\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**DumpModule** [**-mt**] \\<*Module address*>"},{"content":"Displays information about a module at the specified address.","pos":[9206,9267]},{"content":"The <bpt id=\"p1\">**</bpt>-mt<ept id=\"p1\">**</ept> option displays the types defined in a module and the types referenced by the module","pos":[9268,9364],"source":" The **-mt** option displays the types defined in a module and the types referenced by the module"},{"content":"You can use the <bpt id=\"p1\">**</bpt>DumpDomain<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>DumpAssembly<ept id=\"p2\">**</ept> command to retrieve a module's address.","pos":[9377,9467],"source":"You can use the **DumpDomain** or **DumpAssembly** command to retrieve a module's address."},{"content":"<bpt id=\"p1\">**</bpt>DumpObj<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-nofields<ept id=\"p2\">**</ept>] <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>object address<ept id=\"p3\">*</ept><ph id=\"ph2\">&gt;</ph>","pos":[9472,9519],"source":"**DumpObj** [**-nofields**] \\<*object address*>"},{"content":"-or-","pos":[9532,9536]},{"content":"<bpt id=\"p1\">**</bpt>DO<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>object address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","pos":[9549,9575],"source":"**DO** \\<*object address*>"},{"content":"Displays information about an object at the specified address.","pos":[9576,9638]},{"content":"The <bpt id=\"p1\">**</bpt>DumpObj<ept id=\"p1\">**</ept> command displays the fields, the <ph id=\"ph1\">`EEClass`</ph> structure information, the method table, and the size of the object.","pos":[9639,9766],"source":" The **DumpObj** command displays the fields, the `EEClass` structure information, the method table, and the size of the object."},{"content":"You can use the <bpt id=\"p1\">**</bpt>DumpStackObjects<ept id=\"p1\">**</ept> command to retrieve an object's address.","pos":[9779,9856],"source":"You can use the **DumpStackObjects** command to retrieve an object's address."},{"content":"Note that you can run the <bpt id=\"p1\">**</bpt>DumpObj<ept id=\"p1\">**</ept> command on fields of type <ph id=\"ph1\">`CLASS`</ph> because they are also objects.","pos":[9869,9971],"source":"Note that you can run the **DumpObj** command on fields of type `CLASS` because they are also objects."},{"content":"The <ph id=\"ph1\">`-`</ph><bpt id=\"p1\">**</bpt>nofields<ept id=\"p1\">**</ept> option prevents fields of the object being displayed, it is useful for objects like String.","pos":[9984,10095],"source":"The `-`**nofields** option prevents fields of the object being displayed, it is useful for objects like String."},{"pos":[10100,10120],"content":"<bpt id=\"p1\">**</bpt>DumpRuntimeTypes<ept id=\"p1\">**</ept>","source":"**DumpRuntimeTypes**"},{"content":"Displays the runtime type objects in the garbage collector heap and lists their associated type names and method tables.","pos":[10121,10241]},{"pos":[10246,10315],"content":"<bpt id=\"p1\">**</bpt>DumpStack<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-EE<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p3\">**</ept>] [<ph id=\"ph2\">`top`</ph> <bpt id=\"p4\">*</bpt>stack<ept id=\"p4\">*</ept> [<ph id=\"ph3\">`bottom`</ph> <bpt id=\"p5\">*</bpt>stac<ept id=\"p5\">*</ept><ph id=\"ph4\">`k`</ph>]]","source":"**DumpStack** [**-EE**] [**-n**] [`top` *stack* [`bottom` *stac*`k`]]"},{"content":"Displays a stack trace.","pos":[10316,10339]},{"content":"The <bpt id=\"p1\">**</bpt>-EE<ept id=\"p1\">**</ept> option causes the <bpt id=\"p2\">**</bpt>DumpStack<ept id=\"p2\">**</ept> command to display only managed functions.","pos":[10352,10438],"source":"The **-EE** option causes the **DumpStack** command to display only managed functions."},{"content":"Use the <ph id=\"ph1\">`top`</ph> and <ph id=\"ph2\">`bottom`</ph> parameters to limit the stack frames displayed on x86 platforms.","pos":[10439,10530],"source":" Use the `top` and `bottom` parameters to limit the stack frames displayed on x86 platforms."},{"content":"The <bpt id=\"p1\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p1\">**</ept> option disables the display of source file names and line numbers.","pos":[10543,10620],"source":"The **-n** option disables the display of source file names and line numbers."},{"content":"If the debugger has the option SYMOPT_LOAD_LINES specified, SOS will look up the symbols for every managed frame and if successful will display the corresponding source file name and line number.","pos":[10621,10816]},{"content":"The <bpt id=\"p1\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p1\">**</ept> (No line numbers) parameter can be specified to disable this behavior.","pos":[10817,10898],"source":" The **-n** (No line numbers) parameter can be specified to disable this behavior."},{"content":"On x86 and x64 platforms, the <bpt id=\"p1\">**</bpt>DumpStack<ept id=\"p1\">**</ept> command creates a verbose stack trace.","pos":[10911,10993],"source":"On x86 and x64 platforms, the **DumpStack** command creates a verbose stack trace."},{"content":"On IA-64-based platforms, the <bpt id=\"p1\">**</bpt>DumpStack<ept id=\"p1\">**</ept> command mimics the debugger's <bpt id=\"p2\">**</bpt>K<ept id=\"p2\">**</ept> command.","pos":[11006,11094],"source":"On IA-64-based platforms, the **DumpStack** command mimics the debugger's **K** command."},{"content":"The <ph id=\"ph1\">`top`</ph> and <ph id=\"ph2\">`bottom`</ph> parameters are ignored on IA-64-based platforms.","pos":[11095,11166],"source":" The `top` and `bottom` parameters are ignored on IA-64-based platforms."},{"pos":[11171,11211],"content":"<bpt id=\"p1\">**</bpt>DumpSig<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>sigaddr<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p3\">*</bpt>moduleaddr<ept id=\"p3\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**DumpSig** \\<*sigaddr*> \\<*moduleaddr*>"},{"pos":[11212,11282],"content":"Displays information about a <ph id=\"ph1\">`Sig`</ph> structure at the specified address.","source":"Displays information about a `Sig` structure at the specified address."},{"pos":[11287,11331],"content":"<bpt id=\"p1\">**</bpt>DumpSigElem<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>sigaddr<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p3\">*</bpt>moduleaddr<ept id=\"p3\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**DumpSigElem** \\<*sigaddr*> \\<*moduleaddr*>"},{"content":"Displays a single element of a signature object.","pos":[11332,11380]},{"content":"In most cases, you should use <bpt id=\"p1\">**</bpt>DumpSig<ept id=\"p1\">**</ept> to look at individual signature objects.","pos":[11381,11463],"source":" In most cases, you should use **DumpSig** to look at individual signature objects."},{"content":"However, if a signature has been corrupted in some way, you can use <bpt id=\"p1\">**</bpt>DumpSigElem<ept id=\"p1\">**</ept> to read the valid portions of it.","pos":[11464,11581],"source":" However, if a signature has been corrupted in some way, you can use **DumpSigElem** to read the valid portions of it."},{"content":"<bpt id=\"p1\">**</bpt>DumpStackObjects<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-verify<ept id=\"p2\">**</ept>] [<ph id=\"ph1\">`top`</ph> <bpt id=\"p3\">*</bpt>stack<ept id=\"p3\">*</ept> [<ph id=\"ph2\">`bottom`</ph> <bpt id=\"p4\">*</bpt>stack<ept id=\"p4\">*</ept>]]","pos":[11586,11655],"source":"**DumpStackObjects** [**-verify**] [`top` *stack* [`bottom` *stack*]]"},{"content":"-or-","pos":[11668,11672]},{"content":"<bpt id=\"p1\">**</bpt>DSO<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-verify<ept id=\"p2\">**</ept>] [<ph id=\"ph1\">`top`</ph> <bpt id=\"p3\">*</bpt>stack<ept id=\"p3\">*</ept> [<ph id=\"ph2\">`bottom`</ph> <bpt id=\"p4\">*</bpt>stack<ept id=\"p4\">*</ept>]]","pos":[11685,11741],"source":"**DSO** [**-verify**] [`top` *stack* [`bottom` *stack*]]"},{"content":"Displays all managed objects found within the bounds of the current stack.","pos":[11742,11816]},{"content":"The <bpt id=\"p1\">**</bpt>-verify<ept id=\"p1\">**</ept> option validates each non-static <ph id=\"ph1\">`CLASS`</ph> field of an object field.","pos":[11829,11911],"source":"The **-verify** option validates each non-static `CLASS` field of an object field."},{"content":"Use the <bpt id=\"p1\">**</bpt>DumpStackObject<ept id=\"p1\">**</ept> command with stack tracing commands such as the <bpt id=\"p2\">**</bpt>K<ept id=\"p2\">**</ept> command and the <bpt id=\"p3\">**</bpt>CLRStack<ept id=\"p3\">**</ept> command to determine the values of local variables and parameters.","pos":[11924,12101],"source":"Use the **DumpStackObject** command with stack tracing commands such as the **K** command and the **CLRStack** command to determine the values of local variables and parameters."},{"pos":[12106,12154],"content":"<bpt id=\"p1\">**</bpt>DumpVC<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>MethodTable address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p3\">*</bpt>Address<ept id=\"p3\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**DumpVC** \\<*MethodTable address*> \\<*Address*>"},{"content":"Displays information about the fields of a value class at the specified address.","pos":[12155,12235]},{"content":"The <bpt id=\"p1\">**</bpt>MethodTable<ept id=\"p1\">**</ept> parameter allows the <bpt id=\"p2\">**</bpt>DumpVC<ept id=\"p2\">**</ept> command to correctly interpret fields.","pos":[12248,12338],"source":"The **MethodTable** parameter allows the **DumpVC** command to correctly interpret fields."},{"content":"Value classes do not have a method table as their first field.","pos":[12339,12401]},{"pos":[12406,12440],"content":"<bpt id=\"p1\">**</bpt>EEHeap<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-gc<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-loader<ept id=\"p3\">**</ept>]","source":"**EEHeap** [**-gc**] [**-loader**]"},{"content":"Displays information about process memory consumed by internal common language runtime data structures.","pos":[12441,12544]},{"content":"The <bpt id=\"p1\">**</bpt>-gc<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>-loader<ept id=\"p2\">**</ept> options limit the output of this command to garbage collector or loader data structures.","pos":[12557,12673],"source":"The **-gc** and **-loader** options limit the output of this command to garbage collector or loader data structures."},{"content":"The information for the garbage collector lists the ranges of each segment in the managed heap.","pos":[12686,12781]},{"content":"If the pointer falls within a segment range given by <bpt id=\"p1\">**</bpt>-gc<ept id=\"p1\">**</ept>, the pointer is an object pointer.","pos":[12783,12878],"source":"  If the pointer falls within a segment range given by **-gc**, the pointer is an object pointer."},{"pos":[12883,12917],"content":"<bpt id=\"p1\">**</bpt>EEStack<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-short<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-EE<ept id=\"p3\">**</ept>]","source":"**EEStack** [**-short**] [**-EE**]"},{"content":"Runs the <bpt id=\"p1\">**</bpt>DumpStack<ept id=\"p1\">**</ept> command on all threads in the process.","pos":[12918,12979],"source":"Runs the **DumpStack** command on all threads in the process."},{"content":"The <bpt id=\"p1\">**</bpt>-EE<ept id=\"p1\">**</ept> option is passed directly to the <bpt id=\"p2\">**</bpt>DumpStack<ept id=\"p2\">**</ept> command.","pos":[12992,13059],"source":"The **-EE** option is passed directly to the **DumpStack** command."},{"content":"The <bpt id=\"p1\">**</bpt>-short<ept id=\"p1\">**</ept> parameter limits the output to the following kinds of threads:","pos":[13060,13137],"source":" The **-short** parameter limits the output to the following kinds of threads:"},{"content":"Threads that have taken a lock.","pos":[13150,13181]},{"content":"Threads that have been stalled in order to allow a garbage collection.","pos":[13194,13264]},{"content":"Threads that are currently in managed code.","pos":[13277,13320]},{"pos":[13325,13338],"content":"<bpt id=\"p1\">**</bpt>EEVersion<ept id=\"p1\">**</ept>","source":"**EEVersion**"},{"content":"Displays the common language runtime version.","pos":[13339,13384]},{"pos":[13389,13445],"content":"<bpt id=\"p1\">**</bpt>EHInfo<ept id=\"p1\">**</ept> [<ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>MethodDesc address<ept id=\"p2\">*</ept>&gt;] [<ph id=\"ph2\">\\&lt;</ph><bpt id=\"p3\">*</bpt>Code address<ept id=\"p3\">*</ept>&gt;]","source":"**EHInfo** [\\<*MethodDesc address*>] [\\<*Code address*>]"},{"content":"Displays the exception handling blocks in a specified method.","pos":[13446,13507]},{"content":"This command displays the code addresses and offsets for the clause block (the <ph id=\"ph1\">`try`</ph> block) and the handler block (the <ph id=\"ph2\">`catch`</ph> block).","pos":[13509,13643],"source":"  This command displays the code addresses and offsets for the clause block (the `try` block) and the handler block (the `catch` block)."},{"pos":[13648,13655],"content":"<bpt id=\"p1\">**</bpt>FAQ<ept id=\"p1\">**</ept>","source":"**FAQ**"},{"content":"Displays frequently asked questions.","pos":[13656,13692]},{"pos":[13697,13764],"content":"<bpt id=\"p1\">**</bpt>FinalizeQueue<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-detail<ept id=\"p2\">**</ept>] &amp;#124; [<bpt id=\"p3\">**</bpt>-allReady<ept id=\"p3\">**</ept>] [<bpt id=\"p4\">**</bpt>-short<ept id=\"p4\">**</ept>]","source":"**FinalizeQueue** [**-detail**] &#124; [**-allReady**] [**-short**]"},{"content":"Displays all objects registered for finalization.","pos":[13765,13814]},{"content":"The <bpt id=\"p1\">**</bpt>-detail<ept id=\"p1\">**</ept> option displays extra information about any <ph id=\"ph1\">`SyncBlocks`</ph> that need to be cleaned up, and any <ph id=\"ph2\">`RuntimeCallableWrappers`</ph> (RCWs) that await cleanup.","pos":[13827,13988],"source":"The **-detail** option displays extra information about any `SyncBlocks` that need to be cleaned up, and any `RuntimeCallableWrappers` (RCWs) that await cleanup."},{"content":"Both of these data structures are cached and cleaned up by the finalizer thread when it runs.","pos":[13989,14082]},{"content":"The <ph id=\"ph1\">`-allReady`</ph> option displays all objects that are ready for finalization, regardless of whether they are already marked by the garbage collection as such, or will be marked by the next garbage collection.","pos":[14095,14302],"source":"The `-allReady` option displays all objects that are ready for finalization, regardless of whether they are already marked by the garbage collection as such, or will be marked by the next garbage collection."},{"content":"The objects that are in the \"ready for finalization\" list are finalizable objects that are no longer rooted.","pos":[14303,14411]},{"content":"This option can be very expensive, because it verifies whether all the objects in the finalizable queues are still rooted.","pos":[14412,14534]},{"content":"The <ph id=\"ph1\">`-short`</ph> option limits the output to the address of each object.","pos":[14547,14615],"source":"The `-short` option limits the output to the address of each object."},{"content":"If it is used in conjunction with <bpt id=\"p1\">**</bpt>-allReady<ept id=\"p1\">**</ept>, it enumerates all objects that have a finalizer that are no longer rooted.","pos":[14616,14739],"source":" If it is used in conjunction with **-allReady**, it enumerates all objects that have a finalizer that are no longer rooted."},{"content":"If it is used independently, it lists all objects in the finalizable and \"ready for finalization\" queues.","pos":[14740,14845]},{"pos":[14850,14887],"content":"<bpt id=\"p1\">**</bpt>FindAppDomain<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>Object address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**FindAppDomain** \\<*Object address*>"},{"content":"Determines the application domain of an object at the specified address.","pos":[14888,14960]},{"pos":[14965,15040],"content":"<bpt id=\"p1\">**</bpt>FindRoots<ept id=\"p1\">**</ept> <bpt id=\"p2\">**</bpt>-gen<ept id=\"p2\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>N<ept id=\"p3\">*</ept>&gt; &amp;#124; <bpt id=\"p4\">**</bpt>-gen any<ept id=\"p4\">**</ept> &amp;#124;<ph id=\"ph2\">\\&lt;</ph><bpt id=\"p5\">*</bpt>object address<ept id=\"p5\">*</ept><ph id=\"ph3\">&gt;</ph>","source":"**FindRoots** **-gen** \\<*N*> &#124; **-gen any** &#124;\\<*object address*>"},{"content":"Causes the debugger to break in the debuggee on the next collection of the specified generation.","pos":[15041,15137]},{"content":"The effect is reset as soon as the break occurs.","pos":[15138,15186]},{"content":"To break on the next collection, you have to reissue the command.","pos":[15187,15252]},{"content":"The <bpt id=\"p1\">*</bpt><ph id=\"ph1\">\\&lt;</ph>object address&gt;<ept id=\"p1\">*</ept> form of this command is used after the break caused by the <bpt id=\"p2\">**</bpt>-gen<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>-gen any<ept id=\"p3\">**</ept> has occurred.","pos":[15253,15374],"source":" The *\\<object address>* form of this command is used after the break caused by the **-gen** or **-gen any** has occurred."},{"content":"At that time, the debuggee is in the right state for <bpt id=\"p1\">**</bpt>FindRoots<ept id=\"p1\">**</ept> to identify roots for objects from the current condemned generations.","pos":[15375,15511],"source":" At that time, the debuggee is in the right state for **FindRoots** to identify roots for objects from the current condemned generations."},{"pos":[15516,15546],"content":"<bpt id=\"p1\">**</bpt>GCHandles<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-perdomain<ept id=\"p2\">**</ept>]","source":"**GCHandles** [**-perdomain**]"},{"content":"Displays statistics about garbage collector handles in the process.","pos":[15547,15614]},{"content":"The <bpt id=\"p1\">**</bpt>-perdomain<ept id=\"p1\">**</ept> option arranges the statistics by application domain.","pos":[15627,15699],"source":"The **-perdomain** option arranges the statistics by application domain."},{"content":"Use the <bpt id=\"p1\">**</bpt>GCHandles<ept id=\"p1\">**</ept> command to find memory leaks caused by garbage collector handle leaks.","pos":[15712,15804],"source":"Use the **GCHandles** command to find memory leaks caused by garbage collector handle leaks."},{"content":"For example, a memory leak occurs when code retains a large array because a strong garbage collector handle still points to it, and the handle is discarded without freeing it.","pos":[15805,15980]},{"pos":[15985,16002],"content":"<bpt id=\"p1\">**</bpt>GCHandleLeaks<ept id=\"p1\">**</ept>","source":"**GCHandleLeaks**"},{"content":"Searches memory for any references to strong and pinned garbage collector handles in the process and displays the results.","pos":[16003,16125]},{"content":"If a handle is found, the <bpt id=\"p1\">**</bpt>GCHandleLeaks<ept id=\"p1\">**</ept> command displays the address of the reference.","pos":[16126,16216],"source":" If a handle is found, the **GCHandleLeaks** command displays the address of the reference."},{"content":"If a handle is not found in memory, this command displays a notification.","pos":[16217,16290]},{"pos":[16295,16346],"content":"<bpt id=\"p1\">**</bpt>GCInfo<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>MethodDesc address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p3\">*</bpt>Code address<ept id=\"p3\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**GCInfo** \\<*MethodDesc address*>\\<*Code address*>"},{"content":"Displays data that indicates when registers or stack locations contain managed objects.","pos":[16347,16434]},{"content":"If a garbage collection occurs, the collector must know the locations of references to objects so it can update them with new object pointer values.","pos":[16435,16583]},{"pos":[16588,16634],"content":"<bpt id=\"p1\">**</bpt>GCRoot<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-nostacks<ept id=\"p2\">**</ept>] <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>Object address<ept id=\"p3\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**GCRoot** [**-nostacks**] \\<*Object address*>"},{"content":"Displays information about references (or roots) to an object at the specified address.","pos":[16635,16722]},{"content":"The <bpt id=\"p1\">**</bpt>GCRoot<ept id=\"p1\">**</ept> command examines the entire managed heap and the handle table for handles within other objects and handles on the stack.","pos":[16735,16870],"source":"The **GCRoot** command examines the entire managed heap and the handle table for handles within other objects and handles on the stack."},{"content":"Each stack is then searched for pointers to objects, and the finalizer queue is also searched.","pos":[16871,16965]},{"content":"This command does not determine whether a stack root is valid or is discarded.","pos":[16978,17056]},{"content":"Use the <bpt id=\"p1\">**</bpt>CLRStack<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>U<ept id=\"p2\">**</ept> commands to disassemble the frame that the local or argument value belongs to in order to determine if the stack root is still in use.","pos":[17057,17222],"source":" Use the **CLRStack** and **U** commands to disassemble the frame that the local or argument value belongs to in order to determine if the stack root is still in use."},{"content":"The <bpt id=\"p1\">**</bpt>-nostacks<ept id=\"p1\">**</ept> option restricts the search to garbage collector handles and freachable objects.","pos":[17235,17333],"source":"The **-nostacks** option restricts the search to garbage collector handles and freachable objects."},{"pos":[17338,17370],"content":"<bpt id=\"p1\">**</bpt>GCWhere<ept id=\"p1\">**</ept>  <bpt id=\"p2\">*</bpt><ph id=\"ph1\">\\&lt;</ph>object address&gt;<ept id=\"p2\">*</ept>","source":"**GCWhere**  *\\<object address>*"},{"content":"Displays the location and size in the garbage collection heap of the argument passed in.","pos":[17371,17459]},{"content":"When the argument lies in the managed heap but is not a valid object address, the size is displayed as 0 (zero).","pos":[17460,17572]},{"pos":[17577,17608],"content":"<bpt id=\"p1\">**</bpt>help<ept id=\"p1\">**</ept> [<ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>command<ept id=\"p2\">*</ept>&gt;] [<ph id=\"ph2\">`faq`</ph>]","source":"**help** [\\<*command*>] [`faq`]"},{"content":"Displays all available commands when no parameter is specified, or displays detailed help information about the specified command.","pos":[17609,17739]},{"content":"The <ph id=\"ph1\">`faq`</ph> parameter displays answers to frequently asked questions.","pos":[17752,17819],"source":"The `faq` parameter displays answers to frequently asked questions."},{"pos":[17824,17871],"content":"<bpt id=\"p1\">**</bpt>HeapStat<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-inclUnrooted<ept id=\"p2\">**</ept> &amp;#124; <bpt id=\"p3\">**</bpt>-iu<ept id=\"p3\">**</ept>]","source":"**HeapStat** [**-inclUnrooted** &#124; **-iu**]"},{"content":"Displays the generation sizes for each heap and the total free space in each generation on each heap.","pos":[17872,17973]},{"content":"If the -<bpt id=\"p1\">**</bpt>inclUnrooted<ept id=\"p1\">**</ept> option is specified, the report includes information about the managed objects from the garbage collection heap that is no longer rooted.","pos":[17974,18136],"source":" If the -**inclUnrooted** option is specified, the report includes information about the managed objects from the garbage collection heap that is no longer rooted."},{"pos":[18141,18154],"content":"<bpt id=\"p1\">**</bpt>HistClear<ept id=\"p1\">**</ept>","source":"**HistClear**"},{"content":"Releases any resources used by the family of <ph id=\"ph1\">`Hist`</ph> commands.","pos":[18155,18216],"source":"Releases any resources used by the family of `Hist` commands."},{"content":"Generally, you do not have to explicitly call <ph id=\"ph1\">`HistClear`</ph>, because each <ph id=\"ph2\">`HistInit`</ph> cleans up the previous resources.","pos":[18229,18345],"source":"Generally, you do not have to explicitly call `HistClear`, because each `HistInit` cleans up the previous resources."},{"pos":[18350,18362],"content":"<bpt id=\"p1\">**</bpt>HistInit<ept id=\"p1\">**</ept>","source":"**HistInit**"},{"content":"Initializes the SOS structures from the stress log saved in the debuggee.","pos":[18363,18436]},{"pos":[18441,18468],"content":"<bpt id=\"p1\">**</bpt>HistObj<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>&lt;obj_address&gt;<ept id=\"p2\">*</ept>","source":"**HistObj** *<obj_address>*"},{"content":"Examines all stress log relocation records and displays the chain of garbage collection relocations that may have led to the address passed in as an argument.","pos":[18469,18627]},{"pos":[18632,18664],"content":"<bpt id=\"p1\">**</bpt>HistObjFind<ept id=\"p1\">**</ept>  <bpt id=\"p2\">*</bpt>&lt;obj_address&gt;<ept id=\"p2\">*</ept>","source":"**HistObjFind**  *<obj_address>*"},{"content":"Displays all the log entries that reference an object at the specified address.","pos":[18665,18744]},{"pos":[18749,18771],"content":"<bpt id=\"p1\">**</bpt>HistRoot<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt><ph id=\"ph1\">\\&lt;</ph>root&gt;<ept id=\"p2\">*</ept>","source":"**HistRoot** *\\<root>*"},{"content":"Displays information related to both promotions and relocations of the specified root.","pos":[18772,18858]},{"content":"The root value can be used to track the movement of an object through the garbage collections.","pos":[18871,18965]},{"pos":[18970,18997],"content":"<bpt id=\"p1\">**</bpt>IP2MD<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>Code address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**IP2MD** \\<*Code address*>"},{"pos":[18998,19094],"content":"Displays the <ph id=\"ph1\">`MethodDesc`</ph> structure at the specified address in code that has been JIT-compiled.","source":"Displays the `MethodDesc` structure at the specified address in code that has been JIT-compiled."},{"pos":[19099,19136],"content":"<ph id=\"ph1\">`ListNearObj`</ph> (<ph id=\"ph2\">`lno`</ph>) <bpt id=\"p1\">*</bpt>&lt;obj_address&gt;<ept id=\"p1\">*</ept>","source":"`ListNearObj` (`lno`) *<obj_address>*"},{"content":"Displays the objects preceding and following the specified address.","pos":[19137,19204]},{"content":"The command looks for the address in the garbage collection heap that looks like a valid beginning of a managed object (based on a valid method table) and the object following the argument address.","pos":[19205,19402]},{"pos":[19407,19439],"content":"<bpt id=\"p1\">**</bpt>MinidumpMode<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>0<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>1<ept id=\"p3\">**</ept>]","source":"**MinidumpMode** [**0**] [**1**]"},{"content":"Prevents running unsafe commands when using a minidump.","pos":[19440,19495]},{"content":"Pass <bpt id=\"p1\">**</bpt>0<ept id=\"p1\">**</ept> to disable this feature or <bpt id=\"p2\">**</bpt>1<ept id=\"p2\">**</ept> to enable this feature.","pos":[19508,19575],"source":"Pass **0** to disable this feature or **1** to enable this feature."},{"content":"By default, the <bpt id=\"p1\">**</bpt>MinidumpMode<ept id=\"p1\">**</ept> value is set to <bpt id=\"p2\">**</bpt>0<ept id=\"p2\">**</ept>.","pos":[19576,19631],"source":" By default, the **MinidumpMode** value is set to **0**."},{"content":"Minidumps created with the <bpt id=\"p1\">**</bpt>.dump /m<ept id=\"p1\">**</ept> command or <bpt id=\"p2\">**</bpt>.dump<ept id=\"p2\">**</ept> command have limited CLR-specific data and allow you to run only a subset of SOS commands correctly.","pos":[19644,19805],"source":"Minidumps created with the **.dump /m** command or **.dump** command have limited CLR-specific data and allow you to run only a subset of SOS commands correctly."},{"content":"Some commands may fail with unexpected errors because required areas of memory are not mapped or are only partially mapped.","pos":[19806,19929]},{"content":"This option protects you from running unsafe commands against minidumps.","pos":[19930,20002]},{"content":"<bpt id=\"p1\">**</bpt>Name2EE<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>module name<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p3\">*</bpt>type or method name<ept id=\"p3\">*</ept><ph id=\"ph4\">&gt;</ph>","pos":[20007,20060],"source":"**Name2EE** \\<*module name*> \\<*type or method name*>"},{"content":"-or-","pos":[20073,20077]},{"content":"<bpt id=\"p1\">**</bpt>Name2EE<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>module name<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph><bpt id=\"p3\">**</bpt>!<ept id=\"p3\">**</ept><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p4\">*</bpt>type or method name<ept id=\"p4\">*</ept><ph id=\"ph4\">&gt;</ph>","pos":[20090,20147],"source":"**Name2EE** \\<*module name*>**!**\\<*type or method name*>"},{"content":"Displays the <ph id=\"ph1\">`MethodTable`</ph> structure and <ph id=\"ph2\">`EEClass`</ph> structure for the specified type or method in the specified module.","pos":[20148,20266],"source":"Displays the `MethodTable` structure and `EEClass` structure for the specified type or method in the specified module."},{"content":"The specified module must be loaded in the process.","pos":[20279,20330]},{"content":"To get the proper type name, browse the module by using the <bpt id=\"p1\">[</bpt>Ildasm.exe (IL Disassembler)<ept id=\"p1\">](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)</ept>.","pos":[20343,20495],"source":"To get the proper type name, browse the module by using the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)."},{"content":"You can also pass <ph id=\"ph1\">`*`</ph> as the module name parameter to search all loaded managed modules.","pos":[20496,20584],"source":" You can also pass `*` as the module name parameter to search all loaded managed modules."},{"content":"The <bpt id=\"p1\">*</bpt>module name<ept id=\"p1\">*</ept> parameter can also be the debugger's name for a module, such as <ph id=\"ph1\">`mscorlib`</ph> or <ph id=\"ph2\">`image00400000`</ph>.","pos":[20585,20697],"source":" The *module name* parameter can also be the debugger's name for a module, such as `mscorlib` or `image00400000`."},{"content":"This command supports the Windows debugger syntax of &lt;<ph id=\"ph1\">`module`</ph><ph id=\"ph2\">&gt;</ph><ph id=\"ph3\">`!`</ph><ph id=\"ph4\">&lt;</ph><ph id=\"ph5\">`type`</ph>&gt;.","pos":[20710,20785],"source":"This command supports the Windows debugger syntax of <`module`>`!`<`type`>."},{"content":"The type must be fully qualified.","pos":[20786,20819]},{"pos":[20824,20893],"content":"<bpt id=\"p1\">**</bpt>ObjSize<ept id=\"p1\">**</ept> [<ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>Object address<ept id=\"p2\">*</ept>&gt;] &amp;#124; [<bpt id=\"p3\">**</bpt>-aggregate<ept id=\"p3\">**</ept>] [<bpt id=\"p4\">**</bpt>-stat<ept id=\"p4\">**</ept>]","source":"**ObjSize** [\\<*Object address*>] &#124; [**-aggregate**] [**-stat**]"},{"content":"Displays the size of the specified object.","pos":[20894,20936]},{"content":"If you do not specify any parameters, the <bpt id=\"p1\">**</bpt>ObjSize<ept id=\"p1\">**</ept> command displays the size of all objects found on managed threads, displays all garbage collector handles in the process, and totals the size of any objects pointed to by those handles.","pos":[20937,21176],"source":" If you do not specify any parameters, the **ObjSize** command displays the size of all objects found on managed threads, displays all garbage collector handles in the process, and totals the size of any objects pointed to by those handles."},{"content":"The <bpt id=\"p1\">**</bpt>ObjSize<ept id=\"p1\">**</ept> command includes the size of all child objects in addition to the parent.","pos":[21177,21266],"source":" The **ObjSize** command includes the size of all child objects in addition to the parent."},{"content":"The <bpt id=\"p1\">**</bpt>-aggregate<ept id=\"p1\">**</ept> option can be used in conjunction with the <bpt id=\"p2\">**</bpt>-stat<ept id=\"p2\">**</ept> argument to get a detailed view of the types that are still rooted.","pos":[21279,21418],"source":"The **-aggregate** option can be used in conjunction with the **-stat** argument to get a detailed view of the types that are still rooted."},{"content":"By using <bpt id=\"p1\">**</bpt>!dumpheap -stat<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>!objsize -aggregate -stat<ept id=\"p2\">**</ept>, you can determine which objects are no longer rooted and diagnose various memory issues.","pos":[21419,21571],"source":" By using **!dumpheap -stat** and **!objsize -aggregate -stat**, you can determine which objects are no longer rooted and diagnose various memory issues."},{"content":"<bpt id=\"p1\">**</bpt>PrintException<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-nested<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-lines<ept id=\"p3\">**</ept>] [<ph id=\"ph1\">\\&lt;</ph><bpt id=\"p4\">*</bpt>Exception object address<ept id=\"p4\">*</ept>&gt;]","pos":[21576,21653],"source":"**PrintException** [**-nested**] [**-lines**] [\\<*Exception object address*>]"},{"content":"-or-","pos":[21666,21670]},{"content":"<bpt id=\"p1\">**</bpt>PE<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-nested<ept id=\"p2\">**</ept>] [<ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>Exception object address<ept id=\"p3\">*</ept>&gt;]","pos":[21683,21735],"source":"**PE** [**-nested**] [\\<*Exception object address*>]"},{"content":"Displays and formats fields of any object derived from the <ph id=\"ph1\">&lt;xref:System.Exception&gt;</ph> class at the specified address.","pos":[21736,21850],"source":"Displays and formats fields of any object derived from the <xref:System.Exception> class at the specified address."},{"content":"If you do not specify an address, the <bpt id=\"p1\">**</bpt>PrintException<ept id=\"p1\">**</ept> command displays the last exception thrown on the current thread.","pos":[21851,21973],"source":" If you do not specify an address, the **PrintException** command displays the last exception thrown on the current thread."},{"content":"The <bpt id=\"p1\">**</bpt>-nested<ept id=\"p1\">**</ept> option displays details about nested exception objects.","pos":[21986,22057],"source":"The **-nested** option displays details about nested exception objects."},{"content":"The <bpt id=\"p1\">**</bpt>-lines<ept id=\"p1\">**</ept> option displays source information, if available.","pos":[22070,22134],"source":"The **-lines** option displays source information, if available."},{"content":"You can use this command to format and view the <ph id=\"ph1\">`_stackTrace`</ph> field, which is a binary array.","pos":[22147,22240],"source":"You can use this command to format and view the `_stackTrace` field, which is a binary array."},{"pos":[22245,22291],"content":"<bpt id=\"p1\">**</bpt>ProcInfo<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-env<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-time<ept id=\"p3\">**</ept>] [<bpt id=\"p4\">**</bpt>-mem<ept id=\"p4\">**</ept>]","source":"**ProcInfo** [**-env**] [**-time**] [**-mem**]"},{"content":"Displays environment variables for the process, kernel CPU time, and memory usage statistics.","pos":[22292,22385]},{"pos":[22390,22436],"content":"<bpt id=\"p1\">**</bpt>RCWCleanupList<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>RCWCleanupList address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**RCWCleanupList** \\<*RCWCleanupList address*>"},{"content":"Displays the list of runtime callable wrappers at the specified address that are awaiting cleanup.","pos":[22437,22535]},{"pos":[22540,22586],"content":"<bpt id=\"p1\">**</bpt>SaveModule<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>Base address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p3\">*</bpt>Filename<ept id=\"p3\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**SaveModule** \\<*Base address*> \\<*Filename*>"},{"content":"Writes an image, which is loaded in memory at the specified address, to the specified file.","pos":[22587,22678]},{"pos":[22683,22695],"content":"<bpt id=\"p1\">**</bpt>SOSFlush<ept id=\"p1\">**</ept>","source":"**SOSFlush**"},{"content":"Flushes an internal SOS cache.","pos":[22696,22726]},{"pos":[22731,22842],"content":"<bpt id=\"p1\">**</bpt>StopOnException<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-derived<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-create<ept id=\"p3\">**</ept> &amp;#124; <bpt id=\"p4\">**</bpt>-create2<ept id=\"p4\">**</ept>] <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p5\">*</bpt>Exception<ept id=\"p5\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p6\">*</bpt>Pseudo-register number<ept id=\"p6\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**StopOnException** [**-derived**] [**-create** &#124; **-create2**] \\<*Exception*> \\<*Pseudo-register number*>"},{"content":"Causes the debugger to stop when the specified exception is thrown, but to continue running when other exceptions are thrown.","pos":[22843,22968]},{"content":"The <bpt id=\"p1\">**</bpt>-derived<ept id=\"p1\">**</ept> option catches the specified exception and every exception that derives from the specified exception.","pos":[22981,23099],"source":"The **-derived** option catches the specified exception and every exception that derives from the specified exception."},{"pos":[23104,23153],"content":"<bpt id=\"p1\">**</bpt>SyncBlk<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-all<ept id=\"p2\">**</ept> &amp;#124; <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>syncblk number<ept id=\"p3\">*</ept>&gt;]","source":"**SyncBlk** [**-all** &#124; \\<*syncblk number*>]"},{"content":"Displays the specified <ph id=\"ph1\">`SyncBlock`</ph> structure or all <ph id=\"ph2\">`SyncBlock`</ph> structures.","pos":[23154,23229],"source":"Displays the specified `SyncBlock` structure or all `SyncBlock` structures."},{"content":"If you do not pass any arguments, the <bpt id=\"p1\">**</bpt>SyncBlk<ept id=\"p1\">**</ept> command displays the <ph id=\"ph1\">`SyncBlock`</ph> structure corresponding to objects that are owned by a thread.","pos":[23231,23376],"source":"  If you do not pass any arguments, the **SyncBlk** command displays the `SyncBlock` structure corresponding to objects that are owned by a thread."},{"content":"A <ph id=\"ph1\">`SyncBlock`</ph> structure is a container for extra information that does not need to be created for every object.","pos":[23389,23500],"source":"A `SyncBlock` structure is a container for extra information that does not need to be created for every object."},{"content":"It can hold COM interop data, hash codes, and locking information for thread-safe operations.","pos":[23501,23594]},{"pos":[23599,23613],"content":"<bpt id=\"p1\">**</bpt>ThreadPool<ept id=\"p1\">**</ept>","source":"**ThreadPool**"},{"content":"Displays information about the managed thread pool, including the number of work requests in the queue, the number of completion port threads, and the number of timers.","pos":[23614,23782]},{"pos":[23787,23827],"content":"<bpt id=\"p1\">**</bpt>Token2EE<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>module name<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt; </ph><ph id=\"ph3\">\\&lt;</ph><bpt id=\"p3\">*</bpt>token<ept id=\"p3\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**Token2EE** \\<*module name*> \\<*token*>"},{"content":"Turns the specified metadata token in the specified module into a <ph id=\"ph1\">`MethodTable`</ph> structure or <ph id=\"ph2\">`MethodDesc`</ph> structure.","pos":[23828,23944],"source":"Turns the specified metadata token in the specified module into a `MethodTable` structure or `MethodDesc` structure."},{"content":"You can pass <ph id=\"ph1\">`*`</ph> for the module name parameter to find what that token maps to in every loaded managed module.","pos":[23957,24067],"source":"You can pass `*` for the module name parameter to find what that token maps to in every loaded managed module."},{"content":"You can also pass the debugger's name for a module, such as <ph id=\"ph1\">`mscorlib`</ph> or <ph id=\"ph2\">`image00400000`</ph>.","pos":[24068,24158],"source":" You can also pass the debugger's name for a module, such as `mscorlib` or `image00400000`."},{"pos":[24163,24201],"content":"<bpt id=\"p1\">**</bpt>Threads<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-live<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-special<ept id=\"p3\">**</ept>]","source":"**Threads** [**-live**] [**-special**]"},{"content":"Displays all managed threads in the process.","pos":[24202,24246]},{"content":"The <bpt id=\"p1\">**</bpt>Threads<ept id=\"p1\">**</ept> command displays the debugger shorthand ID, the common language runtime thread ID, and the operating system thread ID.","pos":[24259,24393],"source":"The **Threads** command displays the debugger shorthand ID, the common language runtime thread ID, and the operating system thread ID."},{"content":"Additionally, the <bpt id=\"p1\">**</bpt>Threads<ept id=\"p1\">**</ept> command displays a Domain column that indicates the application domain in which a thread is executing, an APT column that displays the COM apartment mode, and an Exception column that displays the last exception thrown in the thread.","pos":[24395,24658],"source":"  Additionally, the **Threads** command displays a Domain column that indicates the application domain in which a thread is executing, an APT column that displays the COM apartment mode, and an Exception column that displays the last exception thrown in the thread."},{"content":"The <bpt id=\"p1\">**</bpt>-live<ept id=\"p1\">**</ept> option displays threads associated with a live thread.","pos":[24671,24739],"source":"The **-live** option displays threads associated with a live thread."},{"content":"The <bpt id=\"p1\">**</bpt>-special<ept id=\"p1\">**</ept> option displays all special threads created by the CLR.","pos":[24752,24824],"source":"The **-special** option displays all special threads created by the CLR."},{"content":"Special threads include garbage collection threads (in concurrent and server garbage collection), debugger helper threads, finalizer threads, <ph id=\"ph1\">&lt;xref:System.AppDomain&gt;</ph> unload threads, and thread pool timer threads.","pos":[24825,25037],"source":" Special threads include garbage collection threads (in concurrent and server garbage collection), debugger helper threads, finalizer threads, <xref:System.AppDomain> unload threads, and thread pool timer threads."},{"pos":[25042,25086],"content":"<bpt id=\"p1\">**</bpt>ThreadState <ph id=\"ph1\">\\&lt;</ph><ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>State value field<ept id=\"p2\">*</ept> <bpt id=\"p3\">**</bpt><ph id=\"ph2\">&gt;</ph><ept id=\"p3\">**</ept>","source":"**ThreadState \\<** *State value field* **>**"},{"content":"Displays the state of the thread.","pos":[25087,25120]},{"content":"The <ph id=\"ph1\">`value`</ph> parameter is the value of the <ph id=\"ph2\">`State`</ph> field in the <bpt id=\"p1\">**</bpt>Threads<ept id=\"p1\">**</ept> report output.","pos":[25121,25210],"source":" The `value` parameter is the value of the `State` field in the **Threads** report output."},{"content":"Example:","pos":[25223,25231]},{"pos":[25909,25950],"content":"<bpt id=\"p1\">**</bpt>TraverseHeap<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-xml<ept id=\"p2\">**</ept>] <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p3\">*</bpt>filename<ept id=\"p3\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**TraverseHeap** [**-xml**] \\<*filename*>"},{"content":"Writes heap information to the specified file in a format understood by the CLR profiler.","pos":[25951,26040]},{"content":"The <bpt id=\"p1\">**</bpt>-xml<ept id=\"p1\">**</ept> option causes the <bpt id=\"p2\">**</bpt>TraverseHeap<ept id=\"p2\">**</ept> command to format the file as XML.","pos":[26041,26123],"source":" The **-xml** option causes the **TraverseHeap** command to format the file as XML."},{"content":"You can download the CLR Profiler from the <bpt id=\"p1\">[</bpt>Microsoft Download Center<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=67325)</ept>.","pos":[26136,26253],"source":"You can download the CLR Profiler from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkID=67325)."},{"pos":[26258,26349],"content":"<bpt id=\"p1\">**</bpt>U<ept id=\"p1\">**</ept> [<bpt id=\"p2\">**</bpt>-gcinfo<ept id=\"p2\">**</ept>] [<bpt id=\"p3\">**</bpt>-ehinfo<ept id=\"p3\">**</ept>] [<bpt id=\"p4\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p4\">**</ept>] <ph id=\"ph2\">\\&lt;</ph><bpt id=\"p5\">*</bpt>MethodDesc address<ept id=\"p5\">*</ept>&gt; &amp;#124; <ph id=\"ph3\">\\&lt;</ph><bpt id=\"p6\">*</bpt>Code address<ept id=\"p6\">*</ept><ph id=\"ph4\">&gt;</ph>","source":"**U** [**-gcinfo**] [**-ehinfo**] [**-n**] \\<*MethodDesc address*> &#124; \\<*Code address*>"},{"content":"Displays an annotated disassembly of a managed method specified either by a <ph id=\"ph1\">`MethodDesc`</ph> structure pointer for the method or by a code address within the method body.","pos":[26350,26516],"source":"Displays an annotated disassembly of a managed method specified either by a `MethodDesc` structure pointer for the method or by a code address within the method body."},{"content":"The <bpt id=\"p1\">**</bpt>U<ept id=\"p1\">**</ept> command displays the entire method from start to finish, with annotations that convert metadata tokens to names.","pos":[26517,26639],"source":" The **U** command displays the entire method from start to finish, with annotations that convert metadata tokens to names."},{"content":"The <bpt id=\"p1\">**</bpt>-gcinfo<ept id=\"p1\">**</ept> option causes the <bpt id=\"p2\">**</bpt>U<ept id=\"p2\">**</ept> command to display the <ph id=\"ph1\">`GCInfo`</ph> structure for the method.","pos":[26652,26749],"source":"The **-gcinfo** option causes the **U** command to display the `GCInfo` structure for the method."},{"content":"The <bpt id=\"p1\">**</bpt>-ehinfo<ept id=\"p1\">**</ept> option displays exception information for the method.","pos":[26762,26831],"source":"The **-ehinfo** option displays exception information for the method."},{"content":"You can also obtain this information with the <bpt id=\"p1\">**</bpt>EHInfo<ept id=\"p1\">**</ept> command.","pos":[26832,26897],"source":" You can also obtain this information with the **EHInfo** command."},{"content":"The <bpt id=\"p1\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p1\">**</ept> option disables the display of source file names and line numbers.","pos":[26910,26987],"source":"The **-n** option disables the display of source file names and line numbers."},{"content":"If the debugger has the option SYMOPT_LOAD_LINES specified, SOS looks up the symbols for every managed frame and, if successful, displays the corresponding source file name and line number.","pos":[26988,27177]},{"content":"You can specify the <bpt id=\"p1\">**</bpt><ph id=\"ph1\">-n</ph><ept id=\"p1\">**</ept> option to disable this behavior.","pos":[27178,27237],"source":" You can specify the **-n** option to disable this behavior."},{"pos":[27242,27256],"content":"<bpt id=\"p1\">**</bpt>VerifyHeap<ept id=\"p1\">**</ept>","source":"**VerifyHeap**"},{"content":"Checks the garbage collector heap for signs of corruption and displays any errors found.","pos":[27257,27345]},{"content":"Heap corruptions can be caused by platform invoke calls that are constructed incorrectly.","pos":[27358,27447]},{"pos":[27452,27485],"content":"<bpt id=\"p1\">**</bpt>VerifyObj<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\&lt;</ph><bpt id=\"p2\">*</bpt>object address<ept id=\"p2\">*</ept><ph id=\"ph2\">&gt;</ph>","source":"**VerifyObj** \\<*object address*>"},{"content":"Checks the object that is passed as an argument for signs of corruption.","pos":[27486,27558]},{"pos":[27563,27572],"content":"<bpt id=\"p1\">**</bpt>VMMap<ept id=\"p1\">**</ept>","source":"**VMMap**"},{"content":"Traverses the virtual address space and displays the type of protection applied to each region.","pos":[27573,27668]},{"pos":[27673,27683],"content":"<bpt id=\"p1\">**</bpt>VMStat<ept id=\"p1\">**</ept>","source":"**VMStat**"},{"content":"Provides a summary view of the virtual address space, ordered by each type of protection applied to that memory (free, reserved, committed, private, mapped, image).","pos":[27684,27848]},{"content":"The TOTAL column displays the result of the AVERAGE column multiplied by the BLK COUNT column.","pos":[27849,27943]},{"pos":[27953,27960],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The SOS Debugging Extension lets you view information about code that is running inside the common language runtime.","pos":[27964,28080]},{"content":"For example, you can use the SOS Debugging Extension to display information about the managed heap, look for heap corruptions, display internal data types used by the runtime, and view information about all managed code running inside the runtime.","pos":[28081,28328]},{"content":"To use the SOS Debugging Extension in Visual Studio, install the <bpt id=\"p1\">[</bpt>Windows Driver Kit (WDK)<ept id=\"p1\">](http://msdn.microsoft.com/windows/hardware/hh852362)</ept>.","pos":[28335,28480],"source":"To use the SOS Debugging Extension in Visual Studio, install the [Windows Driver Kit (WDK)](http://msdn.microsoft.com/windows/hardware/hh852362)."},{"content":"For information about the integrated debugging environment in Visual Studio, see <bpt id=\"p1\">[</bpt>Debugging Environments<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/hardware/hh406268.aspx)</ept> in the Windows Dev Center.","pos":[28481,28679],"source":" For information about the integrated debugging environment in Visual Studio, see [Debugging Environments](http://msdn.microsoft.com/library/windows/hardware/hh406268.aspx) in the Windows Dev Center."},{"pos":[28686,28927],"content":"You can also use the SOS Debugging Extension by loading it into the WinDbg.exe debugger, which is available from the <bpt id=\"p1\">[</bpt>WDK and Developer Tools Web site<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=103787)</ept>, and executing commands within WinDbg.exe.","source":"You can also use the SOS Debugging Extension by loading it into the WinDbg.exe debugger, which is available from the [WDK and Developer Tools Web site](http://go.microsoft.com/fwlink/?LinkId=103787), and executing commands within WinDbg.exe."},{"content":"To load the SOS Debugging Extension into the WinDbg.exe debugger, run the following command in the tool:","pos":[28934,29038]},{"content":"WinDbg.exe and Visual Studio use a version of SOS.dll that corresponds to the version of Mscorwks.dll currently in use.","pos":[29078,29197]},{"content":"In versions 1.1 and 2.0 of the .NET Framework, SOS.dll is installed in the same directory as Mscorwks.dll.","pos":[29198,29304]},{"content":"By default, you should use the version of SOS.dll that matches the current version of Mscorwks.dll.","pos":[29305,29404]},{"content":"To use a dump file created on another computer, make sure that the Mscorwks.dll file that came with that installation is in your symbol path, and load the corresponding version of SOS.dll.","pos":[29411,29599]},{"content":"To load a specific version of SOS.dll, type the following command into the Windows Debugger:","pos":[29606,29698]},{"pos":[29753,29761],"content":"Examples","linkify":"Examples","nodes":[{"content":"Examples","pos":[0,8]}]},{"content":"The following command displays the contents of an array at the address <ph id=\"ph1\">`00ad28d0`</ph>.","pos":[29765,29847],"source":"The following command displays the contents of an array at the address `00ad28d0`."},{"content":"The display starts from the second element and continues for five elements.","pos":[29849,29924]},{"pos":[29996,30079],"content":"The following command displays the contents of an assembly at the address <ph id=\"ph1\">`1ca248`</ph>.","source":"The following command displays the contents of an assembly at the address `1ca248`."},{"content":"The following command displays information about the garbage collector heap.","pos":[30124,30200]},{"content":"The following command writes the contents of the in-memory stress log to a (default) file called StressLog.txt in the current directory.","pos":[30234,30370]},{"pos":[30403,30485],"content":"The following command displays the <ph id=\"ph1\">`MethodDesc`</ph> structure at the address <ph id=\"ph2\">`902f40`</ph>.","source":"The following command displays the `MethodDesc` structure at the address `902f40`."},{"pos":[30524,30606],"content":"The following command displays information about a module at the address <ph id=\"ph1\">`1caa50`</ph>.","source":"The following command displays information about a module at the address `1caa50`."},{"pos":[30649,30732],"content":"The following command displays information about an object at the address <ph id=\"ph1\">`a79d40`</ph>.","source":"The following command displays information about an object at the address `a79d40`."},{"pos":[30772,30906],"content":"The following command displays the fields of a value class at the address <ph id=\"ph1\">`00a79d9c`</ph> using the method table at the address <ph id=\"ph2\">`0090320c`</ph>.","source":"The following command displays the fields of a value class at the address `00a79d9c` using the method table at the address `0090320c`."},{"content":"The following command displays the process memory used by the garbage collector.","pos":[30956,31036]},{"content":"The following command displays all objects scheduled for finalization.","pos":[31072,31142]},{"pos":[31181,31276],"content":"The following command determines the application domain of an object at the address <ph id=\"ph1\">`00a79d98`</ph>.","source":"The following command determines the application domain of an object at the address `00a79d98`."},{"content":"The following command displays all garbage collector handles in the current process.","pos":[31324,31408]},{"pos":[31450,31600],"content":"The following command displays the <ph id=\"ph1\">`MethodTable`</ph> and <ph id=\"ph2\">`EEClass`</ph> structures for the <ph id=\"ph3\">`Main`</ph> method in the class <ph id=\"ph4\">`MainClass`</ph> in the module <ph id=\"ph5\">`unittest.exe`</ph>.","source":"The following command displays the `MethodTable` and `EEClass` structures for the `Main` method in the class `MainClass` in the module `unittest.exe`."},{"pos":[31661,31784],"content":"The following command displays information about the metadata token at the address <ph id=\"ph1\">`02000003`</ph> in the module <ph id=\"ph2\">`unittest.exe`</ph>.","source":"The following command displays information about the metadata token at the address `02000003` in the module `unittest.exe`."},{"pos":[31842,31850],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Tools<ept id=\"p1\">](../../../docs/framework/tools/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[31854,31902],"source":"[Tools](../../../docs/framework/tools/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>Command Prompts<ept id=\"p1\">](../../../docs/framework/tools/developer-command-prompt-for-vs.md)</ept>","pos":[31906,31989],"source":"[Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md)"}]}