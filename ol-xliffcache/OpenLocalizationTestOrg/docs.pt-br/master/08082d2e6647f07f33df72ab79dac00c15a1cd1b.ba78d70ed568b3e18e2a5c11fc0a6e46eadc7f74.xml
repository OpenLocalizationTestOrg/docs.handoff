{"content":"---\ntitle: \"<issuerTokenResolver>\"\nms.date: \"03/30/2017\"\nms.assetid: f74392f6-3f5b-4880-bd8a-3a9130d31e65\nauthor: \"BrucePerlerMS\"\n---\n# \\<issuerTokenResolver>\nRegisters the issuer token resolver that is used by handlers in the token handler collection. The issuer token resolver is used to resolve the signing token on incoming tokens and messages.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<securityTokenHandlers>  \n\\<securityTokenHandlerConfiguration>  \n\\<issuerTokenResolver>  \n  \n## Syntax  \n  \n```xml  \n<system.identityModel>  \n  <identityConfiguration>  \n    <securityTokenHandlers>  \n      <securityTokenHandlerConfiguration>  \n        <issuerTokenResolver type=xs:string>  \n        </issuerTokenResolver>  \n      </securityTokenHandlerConfiguration>  \n    </securityTokenHandlers>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|type|Specifies the type of the issuer token resolver. Must be either the <xref:System.IdentityModel.Tokens.IssuerTokenResolver> class or a type that derives from the <xref:System.IdentityModel.Tokens.IssuerTokenResolver> class. Required.|  \n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)|Provides configuration for a collection of security token handlers.|  \n  \n## Remarks  \n The issuer token resolver is used to resolve the signing token on incoming tokens and messages. It is used to retrieve the cryptographic material that is used for checking the signature. You must specify the `type` attribute. The type specified can be either <xref:System.IdentityModel.Tokens.IssuerTokenResolver> or a custom type that derives from the <xref:System.IdentityModel.Tokens.IssuerTokenResolver> class.  \n  \n Some token handlers allow you to specify issuer token resolver settings in configuration. Settings on individual token handlers override those specified on the security token handler collection.  \n  \n> [!NOTE]\n>  Specifying the `<issuerTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility. Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element.  \n  \n## Example  \n The following XML shows configuration for an issuer token resolver that is based on a custom class that derives from <xref:System.IdentityModel.Tokens.IssuerTokenResolver>. The token resolver maintains a dictionary of audience-key pairs that is initialized from a custom configuration element (`<AddAudienceKeyPair>`) defined for the class. The class overrides the <xref:System.IdentityModel.Selectors.SecurityTokenResolver.LoadCustomConfiguration%2A> method to process this element. The override is shown in the following example; however, the methods it calls are not shown for brevity. For the complete example, see the `CustomToken` sample.  \n  \n```xml  \n<issuerTokenResolver type=\"SimpleWebToken.CustomIssuerTokenResolver, SimpleWebToken\">  \n  <AddAudienceKeyPair  symmetricKey=\"wAVkldQiFypTQ+kdNdGWCYCHRcee8XmXxOvgmak8vSY=\" audience=\"http://localhost:19851/\" />  \n</issuerTokenResolver>  \n```  \n  \n## Example  \n  \n```  \npublic override void LoadCustomConfiguration(System.Xml.XmlNodeList nodelist)  \n{  \n    foreach (XmlNode node in nodelist)  \n    {  \n        XmlDictionaryReader rdr = XmlDictionaryReader.CreateDictionaryReader(new XmlTextReader(new StringReader(node.OuterXml)));  \n        rdr.MoveToContent();  \n  \n        string symmetricKey = rdr.GetAttribute(\"symmetricKey\");  \n        string audience = rdr.GetAttribute(\"audience\");  \n  \n        this.AddAudienceKeyPair(audience, symmetricKey);  \n    }  \n}  \n```  \n  \n## See also\n\n- <xref:System.IdentityModel.Tokens.IssuerTokenResolver>\n","nodes":[{"pos":[4,129],"embed":true,"restype":"x-metadata","content":"title: \"<issuerTokenResolver>\"\nms.date: \"03/30/2017\"\nms.assetid: f74392f6-3f5b-4880-bd8a-3a9130d31e65\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"<issuerTokenResolver>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[136,158],"content":"\\<issuerTokenResolver>","linkify":"\\<issuerTokenResolver>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>issuerTokenResolver&gt;","pos":[0,22],"source":"\\<issuerTokenResolver>"}]},{"content":"Registers the issuer token resolver that is used by handlers in the token handler collection.","pos":[159,252]},{"content":"The issuer token resolver is used to resolve the signing token on incoming tokens and messages.","pos":[253,348]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[355,378],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[381,405],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>securityTokenHandlers&gt;","pos":[408,432],"source":"\\<securityTokenHandlers>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>securityTokenHandlerConfiguration&gt;","pos":[435,471],"source":"\\<securityTokenHandlerConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>issuerTokenResolver&gt;","pos":[474,496],"source":"\\<issuerTokenResolver>"},{"pos":[505,511],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[876,899],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[903,983]},{"pos":[993,1003],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1010,1019]},{"content":"Description","pos":[1020,1031]},{"content":"type","pos":[1074,1078]},{"content":"Specifies the type of the issuer token resolver.","pos":[1079,1127]},{"content":"Must be either the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Tokens.IssuerTokenResolver&gt;</ph> class or a type that derives from the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Tokens.IssuerTokenResolver&gt;</ph> class.","pos":[1128,1301],"source":" Must be either the <xref:System.IdentityModel.Tokens.IssuerTokenResolver> class or a type that derives from the <xref:System.IdentityModel.Tokens.IssuerTokenResolver> class."},{"content":"Required.","pos":[1302,1311]},{"pos":[1322,1336],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[1340,1344]},{"pos":[1354,1369],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1376,1383]},{"content":"Description","pos":[1384,1395]},{"pos":[1436,1597],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>securityTokenHandlerConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)</ept>","source":"[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)"},{"content":"Provides configuration for a collection of security token handlers.","pos":[1598,1665]},{"pos":[1675,1682],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The issuer token resolver is used to resolve the signing token on incoming tokens and messages.","pos":[1686,1781]},{"content":"It is used to retrieve the cryptographic material that is used for checking the signature.","pos":[1782,1872]},{"content":"You must specify the <ph id=\"ph1\">`type`</ph> attribute.","pos":[1873,1911],"source":" You must specify the `type` attribute."},{"content":"The type specified can be either <ph id=\"ph1\">&lt;xref:System.IdentityModel.Tokens.IssuerTokenResolver&gt;</ph> or a custom type that derives from the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Tokens.IssuerTokenResolver&gt;</ph> class.","pos":[1912,2100],"source":" The type specified can be either <xref:System.IdentityModel.Tokens.IssuerTokenResolver> or a custom type that derives from the <xref:System.IdentityModel.Tokens.IssuerTokenResolver> class."},{"content":"Some token handlers allow you to specify issuer token resolver settings in configuration.","pos":[2107,2196]},{"content":"Settings on individual token handlers override those specified on the security token handler collection.","pos":[2197,2301]},{"pos":[2309,2729],"content":"[!NOTE]\n Specifying the `<issuerTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility. Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element.","leadings":["","> "],"nodes":[{"content":"Specifying the `<issuerTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility. Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element.","pos":[9,418],"nodes":[{"content":"Specifying the <ph id=\"ph1\">`&lt;issuerTokenResolver&gt;`</ph> element as a child element of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>identityConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)</ept> element has been deprecated, but is still supported for backward compatibility.","pos":[0,290],"source":"Specifying the `<issuerTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility."},{"content":"Settings on the <ph id=\"ph1\">`&lt;securityTokenHandlerConfiguration&gt;`</ph> element override those on the <ph id=\"ph2\">`&lt;identityConfiguration&gt;`</ph> element.","pos":[291,409],"source":" Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element."}]}]},{"pos":[2738,2745],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XML shows configuration for an issuer token resolver that is based on a custom class that derives from <ph id=\"ph1\">&lt;xref:System.IdentityModel.Tokens.IssuerTokenResolver&gt;</ph>.","pos":[2749,2921],"source":"The following XML shows configuration for an issuer token resolver that is based on a custom class that derives from <xref:System.IdentityModel.Tokens.IssuerTokenResolver>."},{"content":"The token resolver maintains a dictionary of audience-key pairs that is initialized from a custom configuration element (<ph id=\"ph1\">`&lt;AddAudienceKeyPair&gt;`</ph>) defined for the class.","pos":[2922,3089],"source":" The token resolver maintains a dictionary of audience-key pairs that is initialized from a custom configuration element (`<AddAudienceKeyPair>`) defined for the class."},{"content":"The class overrides the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Selectors.SecurityTokenResolver.LoadCustomConfiguration%2A&gt;</ph> method to process this element.","pos":[3090,3232],"source":" The class overrides the <xref:System.IdentityModel.Selectors.SecurityTokenResolver.LoadCustomConfiguration%2A> method to process this element."},{"content":"The override is shown in the following example; however, the methods it calls are not shown for brevity.","pos":[3233,3337]},{"content":"For the complete example, see the <ph id=\"ph1\">`CustomToken`</ph> sample.","pos":[3338,3393],"source":" For the complete example, see the `CustomToken` sample."},{"pos":[3656,3663],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4184,4192],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}