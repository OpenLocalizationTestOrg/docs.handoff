{"content":"---\ntitle: \"Conditioned Activity Group | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f76ef924-34ce-48ae-8c8d-48faf9697754\ncaps.latest.revision: 9\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Conditioned Activity Group\nThe sample demonstrates a travel booking application. The <xref:System.Workflow.Activities.ConditionedActivityGroup> (CAG) has two code activities: a Car activity and an Airline activity. In the `SimpleCAGWorkflow` constructor, a \"travelNeedType\" ArrayList object is populated with the types of travel bookings that are required. By commenting out one or both of the `travelNeeds.Add` statements, you modify the CAG behavior accordingly. Both the Car and Airline activities have their <xref:System.Workflow.Activities.ConditionedActivityGroup.WhenConditionProperty> condition populated with a <xref:System.Workflow.Activities.CodeCondition>. The Car activity executes only if the `travelNeeds` collection has a `TravelNeeds.Car` entry, and the Airline activity executes only if the `travelNeeds` collection has a `TravelNeeds.Airline` entry.  \n  \n The execution of each activity removes the corresponding entry from the collection. The default <xref:System.Workflow.Activities.ConditionedActivityGroup.UntilCondition%2A> condition specifies that the CAG should exit when no children are executing or are ready for execution (based on their <xref:System.Workflow.Activities.ConditionedActivityGroup.WhenConditionProperty> conditions). In this sample, this means that the CAG exits when the `travelNeeds` collection is empty.  \n  \n### To build the sample  \n  \n1.  Open the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].  \n  \n2.  Build the solution by pressing CTRL+SHIFT+B.  \n  \n3.  Run the solution without debugging by pressing CTRL+F5.  \n  \n### To run the sample  \n  \n-   In the SDK Command Prompt window, run the .exe file in the SimpleCAG\\bin\\debug folder (or the SimpleCAG\\bin folder for the Visual Basic version of the sample), which is located below the main folder for the sample.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing:  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory:  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Basic\\Rules\\SimpleCAG`  \n  \n## See Also  \n <xref:System.Workflow.Activities.ConditionedActivityGroup>   \n <xref:System.Workflow.Activities.ConditionedActivityGroup.WhenConditionProperty>   \n <xref:System.Workflow.Activities.CodeCondition>   \n <xref:System.Workflow.Activities.ConditionedActivityGroup.UntilCondition%2A>","nodes":[{"pos":[12,55],"content":"Conditioned Activity Group | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Conditioned Activity Group | Microsoft Docs","pos":[0,43]}]},{"pos":[320,346],"content":"Conditioned Activity Group","linkify":"Conditioned Activity Group","nodes":[{"content":"Conditioned Activity Group","pos":[0,26]}]},{"content":"The sample demonstrates a travel booking application.","pos":[347,400]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Workflow.Activities.ConditionedActivityGroup&gt;</ph> (CAG) has two code activities: a Car activity and an Airline activity.","pos":[401,534],"source":" The <xref:System.Workflow.Activities.ConditionedActivityGroup> (CAG) has two code activities: a Car activity and an Airline activity."},{"content":"In the <ph id=\"ph1\">`SimpleCAGWorkflow`</ph> constructor, a \"travelNeedType\" ArrayList object is populated with the types of travel bookings that are required.","pos":[535,676],"source":" In the `SimpleCAGWorkflow` constructor, a \"travelNeedType\" ArrayList object is populated with the types of travel bookings that are required."},{"content":"By commenting out one or both of the <ph id=\"ph1\">`travelNeeds.Add`</ph> statements, you modify the CAG behavior accordingly.","pos":[677,784],"source":" By commenting out one or both of the `travelNeeds.Add` statements, you modify the CAG behavior accordingly."},{"content":"Both the Car and Airline activities have their <ph id=\"ph1\">&lt;xref:System.Workflow.Activities.ConditionedActivityGroup.WhenConditionProperty&gt;</ph> condition populated with a <ph id=\"ph2\">&lt;xref:System.Workflow.Activities.CodeCondition&gt;</ph>.","pos":[785,988],"source":" Both the Car and Airline activities have their <xref:System.Workflow.Activities.ConditionedActivityGroup.WhenConditionProperty> condition populated with a <xref:System.Workflow.Activities.CodeCondition>."},{"content":"The Car activity executes only if the <ph id=\"ph1\">`travelNeeds`</ph> collection has a <ph id=\"ph2\">`TravelNeeds.Car`</ph> entry, and the Airline activity executes only if the <ph id=\"ph3\">`travelNeeds`</ph> collection has a <ph id=\"ph4\">`TravelNeeds.Airline`</ph> entry.","pos":[989,1188],"source":" The Car activity executes only if the `travelNeeds` collection has a `TravelNeeds.Car` entry, and the Airline activity executes only if the `travelNeeds` collection has a `TravelNeeds.Airline` entry."},{"content":"The execution of each activity removes the corresponding entry from the collection.","pos":[1195,1278]},{"content":"The default <ph id=\"ph1\">&lt;xref:System.Workflow.Activities.ConditionedActivityGroup.UntilCondition%2A&gt;</ph> condition specifies that the CAG should exit when no children are executing or are ready for execution (based on their <ph id=\"ph2\">&lt;xref:System.Workflow.Activities.ConditionedActivityGroup.WhenConditionProperty&gt;</ph> conditions).","pos":[1279,1580],"source":" The default <xref:System.Workflow.Activities.ConditionedActivityGroup.UntilCondition%2A> condition specifies that the CAG should exit when no children are executing or are ready for execution (based on their <xref:System.Workflow.Activities.ConditionedActivityGroup.WhenConditionProperty> conditions)."},{"content":"In this sample, this means that the CAG exits when the <ph id=\"ph1\">`travelNeeds`</ph> collection is empty.","pos":[1581,1670],"source":" In this sample, this means that the CAG exits when the `travelNeeds` collection is empty."},{"pos":[1680,1699],"content":"To build the sample","linkify":"To build the sample","nodes":[{"content":"To build the sample","pos":[0,19]}]},{"pos":[1709,1784],"content":"Open the solution in <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph>.","source":"Open the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]."},{"content":"Build the solution by pressing CTRL+SHIFT+B.","pos":[1794,1838]},{"content":"Run the solution without debugging by pressing CTRL+F5.","pos":[1848,1903]},{"pos":[1913,1930],"content":"To run the sample","linkify":"To run the sample","nodes":[{"content":"To run the sample","pos":[0,17]}]},{"content":"In the SDK Command Prompt window, run the .exe file in the SimpleCAG\\bin\\debug folder (or the SimpleCAG\\bin folder for the Visual Basic version of the sample), which is located below the main folder for the sample.","pos":[1940,2154]},{"pos":[2162,2295],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing:","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your computer. Check for the following (default) directory before continuing:","pos":[13,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[1,55]},{"content":"Check for the following (default) directory before continuing:","pos":[56,118]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2349,2675],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory:","pos":[2676,2726]},{"pos":[2803,2811],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}