{"content":"---\ntitle: \"Floating-Point Numbers\"\nms.date: \"03/30/2017\"\nms.assetid: 73c218c6-1c44-4402-a167-4f6262629a91\n---\n# Floating-Point Numbers\nThis topic describes some of the issues that developers frequently encounter when they work with floating-point numbers in [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)]. These issues are caused by the way that computers store floating-point numbers, and are not specific to a particular provider such as <xref:System.Data.SqlClient> or <xref:System.Data.OracleClient>.  \n  \n Floating-point numbers generally do not have an exact binary representation. Instead, the computer stores an approximation of the number. At different times, different numbers of binary digits may be used to represent the number. When a floating point number is converted from one representation to another representation, the least significant digits of that number may vary slightly. Conversion typically occurs when the number is cast from one type to another type. The variation occurs whether the conversion occurs within a database, between types that represent database values, or between types. Because of these changes, numbers that would logically be equal may have changes in their least-significant digits that cause them to have different values. The number of digits of precision in the number may be larger or smaller than expected. When formatted as a string, the number may not show the expected value.  \n  \n To minimize these effects, you should use the closest match between numeric types that is available to you. For example, if you are working with SQL Server, the exact numeric value may change if you convert a Transact-SQL value of real type to a value of float type. In the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], converting a <xref:System.Single> to a <xref:System.Double> may also produce unexpected results. In both of these cases, a good strategy is to make all the values in the application use the same numeric type. You can also use a fixed-precision decimal type, or cast floating-point numbers to a fixed-precision decimal type before you work with them.  \n  \n To work around problems with equality comparison, consider coding your application so that variations in the least significant digits are ignored. For example, instead of comparing to see whether two numbers are equal, subtract one number from the other number. If the difference is within an acceptable margin of rounding, your application can treat the numbers as if they are the same.  \n  \n## See also\n\n- [Why Floating-Point Numbers May Lose Precision](/cpp/build/reference/why-floating-point-numbers-may-lose-precision)\n- [ADO.NET Overview](ado-net-overview.md)\n","nodes":[{"pos":[4,106],"embed":true,"restype":"x-metadata","content":"title: \"Floating-Point Numbers\"\nms.date: \"03/30/2017\"\nms.assetid: 73c218c6-1c44-4402-a167-4f6262629a91","nodes":[{"content":"Floating-Point Numbers","nodes":[{"pos":[0,22],"content":"Floating-Point Numbers","nodes":[{"content":"Floating-Point Numbers","pos":[0,22]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[113,135],"content":"Floating-Point Numbers","linkify":"Floating-Point Numbers","nodes":[{"content":"Floating-Point Numbers","pos":[0,22]}]},{"content":"This topic describes some of the issues that developers frequently encounter when they work with floating-point numbers in <ph id=\"ph1\">[!INCLUDE[vstecado](../../../../includes/vstecado-md.md)]</ph>.","pos":[136,317],"source":"This topic describes some of the issues that developers frequently encounter when they work with floating-point numbers in [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)]."},{"content":"These issues are caused by the way that computers store floating-point numbers, and are not specific to a particular provider such as <ph id=\"ph1\">&lt;xref:System.Data.SqlClient&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Data.OracleClient&gt;</ph>.","pos":[318,516],"source":" These issues are caused by the way that computers store floating-point numbers, and are not specific to a particular provider such as <xref:System.Data.SqlClient> or <xref:System.Data.OracleClient>."},{"content":"Floating-point numbers generally do not have an exact binary representation.","pos":[523,599]},{"content":"Instead, the computer stores an approximation of the number.","pos":[600,660]},{"content":"At different times, different numbers of binary digits may be used to represent the number.","pos":[661,752]},{"content":"When a floating point number is converted from one representation to another representation, the least significant digits of that number may vary slightly.","pos":[753,908]},{"content":"Conversion typically occurs when the number is cast from one type to another type.","pos":[909,991]},{"content":"The variation occurs whether the conversion occurs within a database, between types that represent database values, or between types.","pos":[992,1125]},{"content":"Because of these changes, numbers that would logically be equal may have changes in their least-significant digits that cause them to have different values.","pos":[1126,1282]},{"content":"The number of digits of precision in the number may be larger or smaller than expected.","pos":[1283,1370]},{"content":"When formatted as a string, the number may not show the expected value.","pos":[1371,1442]},{"content":"To minimize these effects, you should use the closest match between numeric types that is available to you.","pos":[1449,1556]},{"content":"For example, if you are working with SQL Server, the exact numeric value may change if you convert a Transact-SQL value of real type to a value of float type.","pos":[1557,1715]},{"content":"In the <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph>, converting a <ph id=\"ph2\">&lt;xref:System.Single&gt;</ph> to a <ph id=\"ph3\">&lt;xref:System.Double&gt;</ph> may also produce unexpected results.","pos":[1716,1884],"source":" In the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], converting a <xref:System.Single> to a <xref:System.Double> may also produce unexpected results."},{"content":"In both of these cases, a good strategy is to make all the values in the application use the same numeric type.","pos":[1885,1996]},{"content":"You can also use a fixed-precision decimal type, or cast floating-point numbers to a fixed-precision decimal type before you work with them.","pos":[1997,2137]},{"content":"To work around problems with equality comparison, consider coding your application so that variations in the least significant digits are ignored.","pos":[2144,2290]},{"content":"For example, instead of comparing to see whether two numbers are equal, subtract one number from the other number.","pos":[2291,2405]},{"content":"If the difference is within an acceptable margin of rounding, your application can treat the numbers as if they are the same.","pos":[2406,2531]},{"pos":[2540,2548],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2552,2667],"content":"<bpt id=\"p1\">[</bpt>Why Floating-Point Numbers May Lose Precision<ept id=\"p1\">](/cpp/build/reference/why-floating-point-numbers-may-lose-precision)</ept>","source":"[Why Floating-Point Numbers May Lose Precision](/cpp/build/reference/why-floating-point-numbers-may-lose-precision)"},{"pos":[2670,2709],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Overview<ept id=\"p1\">](ado-net-overview.md)</ept>","source":"[ADO.NET Overview](ado-net-overview.md)"}]}