{"content":"---\ntitle: \"<schemeSettings> Element (Uri Settings)\"\nms.date: \"03/30/2017\"\nms.assetid: 0ae45c6e-8c4c-4c0d-8b9f-a93824648890\n---\n# \\<schemeSettings> Element (Uri Settings)\nSpecifies how a <xref:System.Uri> will be parsed for specific schemes.  \n  \n \\<configuration>  \n\\<uri>  \n\\<schemeSettings>  \n  \n## Syntax  \n  \n```xml  \n<schemeSettings>   \n</schemeSettings>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n None  \n  \n### Child Elements  \n  \n|**Element**|**Description**|  \n|-----------------|---------------------|  \n|[add](../../../../../docs/framework/configure-apps/file-schema/network/add-element-for-schemesettings-uri-settings.md)|Adds a scheme setting for a scheme name.|  \n|[clear](../../../../../docs/framework/configure-apps/file-schema/network/clear-element-for-schemesettings-uri-settings.md)|Clears all existing scheme settings.|  \n|[remove](../../../../../docs/framework/configure-apps/file-schema/network/remove-element-for-schemesettings-uri-settings.md)|Removes a scheme setting for a scheme name.|  \n  \n### Parent Elements  \n  \n|**Element**|**Description**|  \n|-----------------|---------------------|  \n|[uri](../../../../../docs/framework/configure-apps/file-schema/network/uri-element-uri-settings.md)|Contains settings that specify how the .NET Framework handles web addresses expressed using uniform resource identifiers (URIs).|  \n  \n## Remarks  \n By default, the <xref:System.Uri?displayProperty=nameWithType> class un-escapes percent encoded path delimiters before executing path compression. This was implemented as a security mechanism against attacks like the following:  \n  \n `http://www.contoso.com/..%2F..%2F/Windows/System32/cmd.exe?/c+dir+c:\\`  \n  \n If this URI gets passed down to modules not handling percent encoded characters correctly, it could result in the following command being executed by the server:  \n  \n `c:\\Windows\\System32\\cmd.exe /c dir c:\\`  \n  \n For this reason, <xref:System.Uri?displayProperty=nameWithType> class first un-escapes path delimiters and then applies path compression. The result of passing the malicious URL above to <xref:System.Uri?displayProperty=nameWithType> class constructor results in the following URI:  \n  \n `http://www.microsoft.com/Windows/System32/cmd.exe?/c+dir+c:\\`  \n  \n This default behavior can be modified to not un-escape percent encoded path delimiters using the schemeSettings configuration option for a specific scheme.  \n  \n## Configuration Files  \n This element can be used in the application configuration file or the machine configuration file (Machine.config).  \n  \n## Example  \n The following example shows a configuration used by the <xref:System.Uri> class to support not escaping percent-encoded path delimiters for the http scheme.  \n  \n```xml  \n<configuration>  \n  <uri>  \n    <schemeSettings>  \n      <add name=\"http\" genericUriParserOptions=\"DontUnescapePathDotsAndSlashes\"/>  \n    </schemeSettings>  \n  </uri>  \n</configuration>  \n```  \n  \n## Element Information  \n  \n|||\n|-|-|  \n|Namespace|System|  \n|Schema Name||  \n|Validation File||  \n|Can be Empty||  \n  \n## See also\n\n- <xref:System.Configuration.SchemeSettingElement?displayProperty=nameWithType>\n- <xref:System.Configuration.SchemeSettingElementCollection?displayProperty=nameWithType>\n- <xref:System.Configuration.UriSection?displayProperty=nameWithType>\n- <xref:System.Configuration.UriSection.SchemeSettings%2A?displayProperty=nameWithType>\n- <xref:System.GenericUriParserOptions?displayProperty=nameWithType>\n- <xref:System.Uri?displayProperty=nameWithType>\n- [Network Settings Schema](../../../../../docs/framework/configure-apps/file-schema/network/index.md)\n","nodes":[{"pos":[4,123],"embed":true,"restype":"x-metadata","content":"title: \"<schemeSettings> Element (Uri Settings)\"\nms.date: \"03/30/2017\"\nms.assetid: 0ae45c6e-8c4c-4c0d-8b9f-a93824648890","nodes":[{"content":"<schemeSettings> Element (Uri Settings)","nodes":[{"pos":[0,39],"content":"<ph id=\"ph1\">&lt;schemeSettings&gt;</ph> Element (Uri Settings)","source":"<schemeSettings> Element (Uri Settings)"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[130,170],"content":"\\<schemeSettings> Element (Uri Settings)","linkify":"\\<schemeSettings> Element (Uri Settings)","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>schemeSettings&gt; Element (Uri Settings)","pos":[0,40],"source":"\\<schemeSettings> Element (Uri Settings)"}]},{"pos":[171,241],"content":"Specifies how a <ph id=\"ph1\">&lt;xref:System.Uri&gt;</ph> will be parsed for specific schemes.","source":"Specifies how a <xref:System.Uri> will be parsed for specific schemes."},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt;","pos":[248,264],"source":"\\<configuration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>uri&gt;","pos":[267,273],"source":"\\<uri>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>schemeSettings&gt;","pos":[276,293],"source":"\\<schemeSettings>"},{"pos":[302,308],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[375,398],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[402,482]},{"pos":[492,502],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"None","pos":[506,510]},{"pos":[520,534],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"pos":[541,552],"content":"<bpt id=\"p1\">**</bpt>Element<ept id=\"p1\">**</ept>","source":"**Element**"},{"pos":[553,568],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"pos":[617,735],"content":"<bpt id=\"p1\">[</bpt>add<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/network/add-element-for-schemesettings-uri-settings.md)</ept>","source":"[add](../../../../../docs/framework/configure-apps/file-schema/network/add-element-for-schemesettings-uri-settings.md)"},{"content":"Adds a scheme setting for a scheme name.","pos":[736,776]},{"pos":[781,903],"content":"<bpt id=\"p1\">[</bpt>clear<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/network/clear-element-for-schemesettings-uri-settings.md)</ept>","source":"[clear](../../../../../docs/framework/configure-apps/file-schema/network/clear-element-for-schemesettings-uri-settings.md)"},{"content":"Clears all existing scheme settings.","pos":[904,940]},{"pos":[945,1069],"content":"<bpt id=\"p1\">[</bpt>remove<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/network/remove-element-for-schemesettings-uri-settings.md)</ept>","source":"[remove](../../../../../docs/framework/configure-apps/file-schema/network/remove-element-for-schemesettings-uri-settings.md)"},{"content":"Removes a scheme setting for a scheme name.","pos":[1070,1113]},{"pos":[1124,1139],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"pos":[1146,1157],"content":"<bpt id=\"p1\">**</bpt>Element<ept id=\"p1\">**</ept>","source":"**Element**"},{"pos":[1158,1173],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"pos":[1222,1321],"content":"<bpt id=\"p1\">[</bpt>uri<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/network/uri-element-uri-settings.md)</ept>","source":"[uri](../../../../../docs/framework/configure-apps/file-schema/network/uri-element-uri-settings.md)"},{"content":"Contains settings that specify how the .NET Framework handles web addresses expressed using uniform resource identifiers (URIs).","pos":[1322,1450]},{"pos":[1460,1467],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"By default, the <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class un-escapes percent encoded path delimiters before executing path compression.","pos":[1471,1617],"source":"By default, the <xref:System.Uri?displayProperty=nameWithType> class un-escapes percent encoded path delimiters before executing path compression."},{"content":"This was implemented as a security mechanism against attacks like the following:","pos":[1618,1698]},{"content":"If this URI gets passed down to modules not handling percent encoded characters correctly, it could result in the following command being executed by the server:","pos":[1783,1944]},{"content":"For this reason, <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class first un-escapes path delimiters and then applies path compression.","pos":[1998,2135],"source":"For this reason, <xref:System.Uri?displayProperty=nameWithType> class first un-escapes path delimiters and then applies path compression."},{"content":"The result of passing the malicious URL above to <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=nameWithType&gt;</ph> class constructor results in the following URI:","pos":[2136,2279],"source":" The result of passing the malicious URL above to <xref:System.Uri?displayProperty=nameWithType> class constructor results in the following URI:"},{"content":"This default behavior can be modified to not un-escape percent encoded path delimiters using the schemeSettings configuration option for a specific scheme.","pos":[2355,2510]},{"pos":[2519,2538],"content":"Configuration Files","linkify":"Configuration Files","nodes":[{"content":"Configuration Files","pos":[0,19]}]},{"content":"This element can be used in the application configuration file or the machine configuration file (Machine.config).","pos":[2542,2656]},{"pos":[2665,2672],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2676,2832],"content":"The following example shows a configuration used by the <ph id=\"ph1\">&lt;xref:System.Uri&gt;</ph> class to support not escaping percent-encoded path delimiters for the http scheme.","source":"The following example shows a configuration used by the <xref:System.Uri> class to support not escaping percent-encoded path delimiters for the http scheme."},{"pos":[3048,3067],"content":"Element Information","linkify":"Element Information","nodes":[{"content":"Element Information","pos":[0,19]}]},{"content":"Namespace","pos":[3086,3095]},{"content":"System","pos":[3096,3102]},{"content":"Schema Name","pos":[3107,3118]},{"content":"Validation File","pos":[3124,3139]},{"content":"Can be Empty","pos":[3145,3157]},{"pos":[3168,3176],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3626,3726],"content":"<bpt id=\"p1\">[</bpt>Network Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/network/index.md)</ept>","source":"[Network Settings Schema](../../../../../docs/framework/configure-apps/file-schema/network/index.md)"}]}