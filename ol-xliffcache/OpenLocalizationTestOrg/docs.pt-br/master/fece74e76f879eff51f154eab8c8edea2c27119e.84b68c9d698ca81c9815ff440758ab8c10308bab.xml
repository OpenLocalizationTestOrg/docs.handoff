{"content":"---\ntitle: \"<msmqTransportSecurity>\"\nms.date: \"03/30/2017\"\nms.assetid: 092e911b-ab1b-4069-a26e-6134c3299e06\n---\n# \\<msmqTransportSecurity>\nSpecifies MSMQ transport security settings for a custom binding.  \n  \n \\<system.serviceModel>  \n\\<bindings>  \n\\<customBinding>  \n\\<binding>  \n\\<msmqIntegration>  \n\\<msmqTransportSecurity>  \n  \n## Syntax  \n  \n```xml  \n<msmqTransportSecurity msmqAuthenticationMode=\"None/Windows/Certificate\"\n                       msmqEncryptionAlgorithm=\"RC4Stream/AES\"\n                       msmqProtectionLevel=\"None/Sign/EncryptAndSign\"\n                       msmqSecureHashAlgorithm=\"MD5/SHA1/SHA256/SHA512\" />\n</msmqTransportSecurity>\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`msmqAuthenticationMode`|Specifies how the message must be authenticated by the MSMQ transport. If this is set to `None`, the value of the `msmqProtectionLevel` attribute must also be set to `None`.<br /><br /> Valid values include the following:<br /><br /> -   None: No authentication.<br />-   Windows: The authentication mechanism uses Active Directory to get the X.509 certificate for the SID associated with the message. This is then used to check the ACL of the queue to ensure the user has permission to write to the queue.<br />-   Certificate: The channel gets the certificate from the certificate store.<br /><br /> The default value is Windows. This attribute is of type <xref:System.ServiceModel.MsmqAuthenticationMode>.|  \n|`msmqEncryptionAlgorithm`|Specifies the algorithm to be used for message encryption on the wire when transferring messages between message queue managers. Valid values include the following:<br /><br /> -   RC4Stream<br />-   AES<br /><br /> The default value is RC4Stream. This attribute is of type <xref:System.ServiceModel.MsmqEncryptionAlgorithm>.|  \n|`msmqProtectionLevel`|Specifies how the message is secured at the level of the MSMQ transport. Encryption ensures message integrity while EncryptAndSign ensures both message integrity and non-repudiation; that is, the message indeed comes from the sender and the sender is who he says he is. Valid values include the following:<br /><br /> -   None: No protection.<br />-   Sign: Messages are signed.<br />-   EncryptAndSign: Messages are encrypted and signed.<br /><br /> The default value is Sign. This attribute is of type <xref:System.Net.Security.ProtectionLevel>.|  \n|`msmqSecureHashAlgorithm`|Specifies the algorithm to be used in computing the digest as part of signatures. Valid values include the following:<br /><br /> -   MD5<br />-   SHA1<br />-   SHA256<br />-   SHA512<br /><br /> The default value is SHA1. This attribute is of type <xref:System.ServiceModel.MsmqSecureHashAlgorithm>.<br>Due to collision problems with MD5 and SHA1, Microsoft recommends SHA256 or better.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<msmqIntegration>](../../../../../docs/framework/configure-apps/file-schema/wcf/msmqintegration.md)|Specifies settings required for interaction with a Message Queuing (MSMQ) sender or receiver.|  \n|[\\<msmqTransport>](../../../../../docs/framework/configure-apps/file-schema/wcf/msmqtransport.md)|Specifies the queuing communication properties for a Windows Communication Foundation (WCF) service that uses the native MSMQ protocol.|  \n  \n## Remarks  \n For more information on transport security, see [Transport Security](../../../../../docs/framework/wcf/feature-details/transport-security.md).  \n  \n## See also\n\n- <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationSecurity>\n- <xref:System.ServiceModel.Configuration.MsmqTransportSecurityElement>\n- <xref:System.ServiceModel.Channels.CustomBinding>\n- [Queues in WCF](../../../../../docs/framework/wcf/feature-details/queues-in-wcf.md)\n- [Transports](../../../../../docs/framework/wcf/feature-details/transports.md)\n- [Choosing a Transport](../../../../../docs/framework/wcf/feature-details/choosing-a-transport.md)\n- [Bindings](../../../../../docs/framework/wcf/bindings.md)\n- [Extending Bindings](../../../../../docs/framework/wcf/extending/extending-bindings.md)\n- [Custom Bindings](../../../../../docs/framework/wcf/extending/custom-bindings.md)\n- [\\<customBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)\n- [Transport Security](../../../../../docs/framework/wcf/feature-details/transport-security.md)\n","nodes":[{"pos":[4,107],"embed":true,"restype":"x-metadata","content":"title: \"<msmqTransportSecurity>\"\nms.date: \"03/30/2017\"\nms.assetid: 092e911b-ab1b-4069-a26e-6134c3299e06","nodes":[{"content":"<msmqTransportSecurity>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[114,138],"content":"\\<msmqTransportSecurity>","linkify":"\\<msmqTransportSecurity>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>msmqTransportSecurity&gt;","pos":[0,24],"source":"\\<msmqTransportSecurity>"}]},{"content":"Specifies MSMQ transport security settings for a custom binding.","pos":[139,203]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.serviceModel&gt;","pos":[210,232],"source":"\\<system.serviceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>bindings&gt;","pos":[235,246],"source":"\\<bindings>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>customBinding&gt;","pos":[249,265],"source":"\\<customBinding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>binding&gt;","pos":[268,278],"source":"\\<binding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>msmqIntegration&gt;","pos":[281,299],"source":"\\<msmqIntegration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>msmqTransportSecurity&gt;","pos":[302,326],"source":"\\<msmqTransportSecurity>"},{"pos":[335,341],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[674,697],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[701,781]},{"pos":[791,801],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[808,817]},{"content":"Description","pos":[818,829]},{"content":"Specifies how the message must be authenticated by the MSMQ transport.","pos":[897,967]},{"content":"If this is set to <ph id=\"ph1\">`None`</ph>, the value of the <ph id=\"ph2\">`msmqProtectionLevel`</ph> attribute must also be set to <ph id=\"ph3\">`None`</ph>.","pos":[968,1070],"source":" If this is set to `None`, the value of the `msmqProtectionLevel` attribute must also be set to `None`."},{"content":"Valid values include the following:","pos":[1083,1118]},{"content":"-   None: No authentication.","pos":[1131,1159]},{"content":"-   Windows: The authentication mechanism uses Active Directory to get the X.509 certificate for the SID associated with the message.","pos":[1165,1298]},{"content":"This is then used to check the ACL of the queue to ensure the user has permission to write to the queue.","pos":[1299,1403]},{"content":"-   Certificate: The channel gets the certificate from the certificate store.","pos":[1409,1486]},{"content":"The default value is Windows.","pos":[1499,1528]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.MsmqAuthenticationMode&gt;</ph>.","pos":[1529,1605],"source":" This attribute is of type <xref:System.ServiceModel.MsmqAuthenticationMode>."},{"content":"Specifies the algorithm to be used for message encryption on the wire when transferring messages between message queue managers.","pos":[1636,1764]},{"content":"Valid values include the following:","pos":[1765,1800]},{"content":"-   RC4Stream","pos":[1813,1826]},{"content":"-   AES","pos":[1832,1839]},{"content":"The default value is RC4Stream.","pos":[1852,1883]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.MsmqEncryptionAlgorithm&gt;</ph>.","pos":[1884,1961],"source":" This attribute is of type <xref:System.ServiceModel.MsmqEncryptionAlgorithm>."},{"content":"Specifies how the message is secured at the level of the MSMQ transport.","pos":[1988,2060]},{"content":"Encryption ensures message integrity while EncryptAndSign ensures both message integrity and non-repudiation; that is, the message indeed comes from the sender and the sender is who he says he is.","pos":[2061,2257]},{"content":"Valid values include the following:","pos":[2258,2293]},{"content":"-   None: No protection.","pos":[2306,2330]},{"content":"-   Sign: Messages are signed.","pos":[2336,2366]},{"content":"-   EncryptAndSign: Messages are encrypted and signed.","pos":[2372,2426]},{"content":"The default value is Sign.","pos":[2439,2465]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.Net.Security.ProtectionLevel&gt;</ph>.","pos":[2466,2535],"source":" This attribute is of type <xref:System.Net.Security.ProtectionLevel>."},{"content":"Specifies the algorithm to be used in computing the digest as part of signatures.","pos":[2566,2647]},{"content":"Valid values include the following:","pos":[2648,2683]},{"content":"-   MD5","pos":[2696,2703]},{"content":"-   SHA1","pos":[2709,2717]},{"content":"-   SHA256","pos":[2723,2733]},{"content":"-   SHA512","pos":[2739,2749]},{"content":"The default value is SHA1.","pos":[2762,2788]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.MsmqSecureHashAlgorithm&gt;</ph>.","pos":[2789,2866],"source":" This attribute is of type <xref:System.ServiceModel.MsmqSecureHashAlgorithm>."},{"content":"Due to collision problems with MD5 and SHA1, Microsoft recommends SHA256 or better.","pos":[2870,2953]},{"pos":[2964,2978],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[2982,2987]},{"pos":[2997,3012],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3019,3026]},{"content":"Description","pos":[3027,3038]},{"pos":[3079,3180],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>msmqIntegration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/msmqintegration.md)</ept>","source":"[\\<msmqIntegration>](../../../../../docs/framework/configure-apps/file-schema/wcf/msmqintegration.md)"},{"content":"Specifies settings required for interaction with a Message Queuing (MSMQ) sender or receiver.","pos":[3181,3274]},{"pos":[3279,3376],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>msmqTransport&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/msmqtransport.md)</ept>","source":"[\\<msmqTransport>](../../../../../docs/framework/configure-apps/file-schema/wcf/msmqtransport.md)"},{"content":"Specifies the queuing communication properties for a Windows Communication Foundation (WCF) service that uses the native MSMQ protocol.","pos":[3377,3512]},{"pos":[3522,3529],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[3533,3675],"content":"For more information on transport security, see <bpt id=\"p1\">[</bpt>Transport Security<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/transport-security.md)</ept>.","source":"For more information on transport security, see [Transport Security](../../../../../docs/framework/wcf/feature-details/transport-security.md)."},{"pos":[3684,3692],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3889,3972],"content":"<bpt id=\"p1\">[</bpt>Queues in WCF<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/queues-in-wcf.md)</ept>","source":"[Queues in WCF](../../../../../docs/framework/wcf/feature-details/queues-in-wcf.md)"},{"pos":[3975,4052],"content":"<bpt id=\"p1\">[</bpt>Transports<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/transports.md)</ept>","source":"[Transports](../../../../../docs/framework/wcf/feature-details/transports.md)"},{"pos":[4055,4152],"content":"<bpt id=\"p1\">[</bpt>Choosing a Transport<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/choosing-a-transport.md)</ept>","source":"[Choosing a Transport](../../../../../docs/framework/wcf/feature-details/choosing-a-transport.md)"},{"pos":[4155,4212],"content":"<bpt id=\"p1\">[</bpt>Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/bindings.md)</ept>","source":"[Bindings](../../../../../docs/framework/wcf/bindings.md)"},{"pos":[4215,4302],"content":"<bpt id=\"p1\">[</bpt>Extending Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/extending-bindings.md)</ept>","source":"[Extending Bindings](../../../../../docs/framework/wcf/extending/extending-bindings.md)"},{"pos":[4305,4386],"content":"<bpt id=\"p1\">[</bpt>Custom Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/custom-bindings.md)</ept>","source":"[Custom Bindings](../../../../../docs/framework/wcf/extending/custom-bindings.md)"},{"pos":[4389,4486],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>customBinding&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)</ept>","source":"[\\<customBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)"},{"pos":[4489,4582],"content":"<bpt id=\"p1\">[</bpt>Transport Security<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/transport-security.md)</ept>","source":"[Transport Security](../../../../../docs/framework/wcf/feature-details/transport-security.md)"}]}