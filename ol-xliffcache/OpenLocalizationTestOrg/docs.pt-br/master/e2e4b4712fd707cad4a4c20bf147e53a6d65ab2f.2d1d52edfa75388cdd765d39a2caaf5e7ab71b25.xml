{"content":"---\ntitle: \"Imaging Overview | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"metadata, images\"\n  - \"displaying images\"\n  - \"Imaging API\"\n  - \"image metadata\"\n  - \"converting images\"\n  - \"encoding image formats\"\n  - \"format decoding for images\"\n  - \"painting with images\"\n  - \"stretching images\"\n  - \"images, about imaging\"\n  - \"format encoding for images\"\n  - \"cropping images\"\n  - \"decoding image formats\"\n  - \"rotating images\"\nms.assetid: 72aad87a-e6f3-4937-94cd-a18b7766e990\ncaps.latest.revision: 32\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Imaging Overview\nThis topic provides an introduction to the [!INCLUDE[TLA#tla_wic](../../../../includes/tlasharptla-wic-md.md)]. [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] enables developers to display, transform, and format images.  \n  \n  \n<a name=\"_wpfImaging\"></a>   \n## WPF Imaging Component  \n [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides significant enhancements in imaging capabilities within [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)]. Imaging capabilities, such as displaying a bitmap or using an image on a common control were previously reliant upon the [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] or [!INCLUDE[TLA#tla_gdiplus](../../../../includes/tlasharptla-gdiplus-md.md)] libraries. These [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] provide baseline imaging functionality, but lack features such as support for codec extensibility and high fidelity image support. [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] is designed to overcome the shortcomings of [!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)] and [!INCLUDE[TLA2#tla_gdiplus](../../../../includes/tla2sharptla-gdiplus-md.md)] and provide a new set of [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] to display and use images within your applications.  \n  \n There are two ways to access the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], a managed component and an unmanaged component. The unmanaged component provides the following features.  \n  \n-   Extensibility model for new or proprietary image formats.  \n  \n-   Improved performance and security on native image formats including [!INCLUDE[TLA#tla_bmp](../../../../includes/tlasharptla-bmp-md.md)], [!INCLUDE[TLA#tla_jpegorg](../../../../includes/tlasharptla-jpegorg-md.md)], [!INCLUDE[TLA#tla_png](../../../../includes/tlasharptla-png-md.md)], [!INCLUDE[TLA#tla_tiff](../../../../includes/tlasharptla-tiff-md.md)], [!INCLUDE[TLA#tla_wdp](../../../../includes/tlasharptla-wdp-md.md)], [!INCLUDE[TLA#tla_gif](../../../../includes/tlasharptla-gif-md.md)], and icon (.ico).  \n  \n-   Preservation of high bit-depth image data up to 8 bits per channel (32 bits per pixel).  \n  \n-   Nondestructive image scaling, cropping, and rotations.  \n  \n-   Simplified color management.  \n  \n-   Support for in-file, proprietary metadata.  \n  \n-   The managed component utilizes the unmanaged infrastructure to provide seamless integration of images with other [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features such as [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], animation, and graphics. The managed component also benefits from the [!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)] imaging codec extensibility model which enables automatic recognition of new image formats in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.  \n  \n The majority of the managed [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] reside in the <xref:System.Windows.Media.Imaging?displayProperty=fullName> namespace, though several important types, such as <xref:System.Windows.Media.ImageBrush> and <xref:System.Windows.Media.ImageDrawing> reside in the <xref:System.Windows.Media?displayProperty=fullName> namespace and <xref:System.Windows.Controls.Image> resides in the <xref:System.Windows.Controls?displayProperty=fullName> namespace.  \n  \n This topic provides additional information about the managed component. For more information on the unmanaged [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] see the [Unmanaged WPF Imaging Component](https://msdn.microsoft.com/library/ee719902.aspx) documentation.  \n  \n<a name=\"_imageformats\"></a>   \n## WPF Image Formats  \n A codec is used to decode or encode a specific media format. [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] includes a codec  for [!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)], [!INCLUDE[TLA2#tla_jpeg](../../../../includes/tla2sharptla-jpeg-md.md)], [!INCLUDE[TLA2#tla_png](../../../../includes/tla2sharptla-png-md.md)], [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)], [!INCLUDE[TLA2#tla_wdp](../../../../includes/tla2sharptla-wdp-md.md)], [!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)], and ICON image formats. Each of these codecs enable applications to decode and, with the exception of ICON, encode their respective image formats.  \n  \n <xref:System.Windows.Media.Imaging.BitmapSource> is an important class used in the decoding and encoding of images. It is the basic building block of the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] pipeline and represents a single, constant set of pixels at a certain size and resolution. A <xref:System.Windows.Media.Imaging.BitmapSource> can be an individual frame of a multiple frame image, or it can be the result of a transform performed on a <xref:System.Windows.Media.Imaging.BitmapSource>. It is the parent of many of the primary classes used in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] imaging such as <xref:System.Windows.Media.Imaging.BitmapFrame>.  \n  \n A <xref:System.Windows.Media.Imaging.BitmapFrame> is used to store the actual bitmap data of an image format. Many image formats only support a single <xref:System.Windows.Media.Imaging.BitmapFrame>, although formats such as [!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)] and [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] support multiple frames per image. Frames are used by decoders as input data and are passed to encoders to create image files.  \n  \n The following example demonstrates how a <xref:System.Windows.Media.Imaging.BitmapFrame> is created from a <xref:System.Windows.Media.Imaging.BitmapSource> and then added to a [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] image.  \n  \n [!code-csharp[BitmapFrameExample#10](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitmapFrameExample/CSharp/BitmapFrame.cs#10)]\n [!code-vb[BitmapFrameExample#10](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitmapFrameExample/VB/BitmapFrame.vb#10)]  \n  \n### Image Format Decoding  \n Image decoding is the translation of an image format to image data that can be used by the system. The image data can then be used to display, process, or encode to a different format. Decoder selection is based on the image format. Codec selection is automatic unless a specific decoder is specified. The examples in the [Displaying Images in WPF](#_displayingimages) section demonstrate automatic decoding. Custom format decoders developed using the unmanaged [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] interfaces and registered with the system automatically participate in decoder selection. This allows custom formats to be displayed automatically in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.  \n  \n The following example demonstrates the use of a bitmap decoder to decode a [!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)] format image.  \n  \n [!code-cpp[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#5)]\n [!code-csharp[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#5)]\n [!code-vb[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#5)]  \n  \n### Image Format Encoding  \n Image encoding is the translation of image data to a specific image format. The encoded image data can then be used to create new image files. [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides encoders for each of the image formats described above.  \n  \n The following example demonstrates the use of an encoder to save a newly created bitmap image.  \n  \n [!code-cpp[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#3)]\n [!code-csharp[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#3)]\n [!code-vb[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#3)]  \n  \n<a name=\"_displayingimages\"></a>   \n## Displaying Images in WPF  \n There are several ways to display an image in a [!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)] application. Images can be displayed using an <xref:System.Windows.Controls.Image> control, painted on a visual using an <xref:System.Windows.Media.ImageBrush>, or drawn using an <xref:System.Windows.Media.ImageDrawing>.  \n  \n### Using the Image Control  \n <xref:System.Windows.Controls.Image> is a framework element and the primary way to display images in applications. In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], <xref:System.Windows.Controls.Image> can be used in two ways; attribute syntax or property syntax. The following example shows how to render an image 200 pixels wide using both attribute syntax and property tag syntax. For more information on attribute syntax and property syntax, see [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).  \n  \n [!code-xml[ImageElementExample_snip#ImageSimpleExampleInlineMarkup](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml#imagesimpleexampleinlinemarkup)]  \n  \n Many of the examples use a <xref:System.Windows.Media.Imaging.BitmapImage> object to reference an image file. <xref:System.Windows.Media.Imaging.BitmapImage> is a specialized <xref:System.Windows.Media.Imaging.BitmapSource> that is optimized for [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] loading and is an easy way to display images as the <xref:System.Windows.Controls.Image.Source%2A> of an <xref:System.Windows.Controls.Image> control.  \n  \n The following example shows how to render an image 200 pixels wide using code.  \n  \n> [!NOTE]\n>  <xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties. Property changes can only occur during object initialization. Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed. Once initialized, property changes are ignored.  \n  \n [!code-csharp[ImageElementExample_snip#ImageSimpleExampleInlineCode1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml.cs#imagesimpleexampleinlinecode1)]\n [!code-vb[ImageElementExample_snip#ImageSimpleExampleInlineCode1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/ImageSimpleExample.xaml.vb#imagesimpleexampleinlinecode1)]  \n  \n#### Rotating, Converting, and Cropping Images  \n [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] enables users to transform images by using properties of <xref:System.Windows.Media.Imaging.BitmapImage> or by using additional <xref:System.Windows.Media.Imaging.BitmapSource> objects such as <xref:System.Windows.Media.Imaging.CroppedBitmap> or <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>. These image transformations can scale or rotate an image, change the pixel format of an image, or crop an image.  \n  \n Image rotations are performed using the <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> property of <xref:System.Windows.Media.Imaging.BitmapImage>. Rotations can only be done in 90 degree increments. In the following example, an image is rotated 90 degrees.  \n  \n [!code-xml[ImageElementExample#TransformedXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml#transformedxaml2)]  \n  \n [!code-csharp[ImageElementExample#TransformedCSharp1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml.cs#transformedcsharp1)]\n [!code-vb[ImageElementExample#TransformedCSharp1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample/VB/TransformedImageExample.xaml.vb#transformedcsharp1)]  \n  \n Converting an image to a different pixel format such as grayscale is done using <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>. In the following examples, an image is converted to <xref:System.Windows.Media.PixelFormats.Gray4%2A>.  \n  \n [!code-xml[ImageElementExample_snip#ConvertedXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml#convertedxaml2)]  \n  \n [!code-csharp[ImageElementExample_snip#ConvertedCSharp1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml.cs#convertedcsharp1)]\n [!code-vb[ImageElementExample_snip#ConvertedCSharp1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/FormatConvertedExample.xaml.vb#convertedcsharp1)]  \n  \n To crop an image, either the <xref:System.Windows.UIElement.Clip%2A> property of <xref:System.Windows.Controls.Image> or <xref:System.Windows.Media.Imaging.CroppedBitmap> can be used. Typically, if you just want to display a portion of an image, <xref:System.Windows.UIElement.Clip%2A> should be used. If you need to encode and save a cropped image, the <xref:System.Windows.Media.Imaging.CroppedBitmap> should be used. In the following example, an image is cropped using the Clip property using an <xref:System.Windows.Media.EllipseGeometry>.  \n  \n [!code-xml[ImageElementExample_snip#CroppedXAMLUsingClip1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml#croppedxamlusingclip1)]  \n  \n [!code-csharp[ImageElementExample_snip#CroppedCSharpUsingClip1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml.cs#croppedcsharpusingclip1)]\n [!code-vb[ImageElementExample_snip#CroppedCSharpUsingClip1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/CroppedImageExample.xaml.vb#croppedcsharpusingclip1)]  \n  \n#### Stretching Images  \n The <xref:System.Windows.Controls.Image.Stretch%2A> property controls how an image is stretched to fill its container. The <xref:System.Windows.Controls.Image.Stretch%2A> property accepts the following values, defined by the <xref:System.Windows.Media.Stretch> enumeration:  \n  \n-   <xref:System.Windows.Media.Stretch>: The image is not stretched to fill the output area. If the image is larger than the output area, the image is drawn to the output area, clipping what does not fit.  \n  \n-   <xref:System.Windows.Media.Stretch>: The image is scaled to fit the output area. Because the image height and width are scaled independently, the original aspect ratio of the image might not be preserved. That is, the image might be warped in order to completely fill the output container.  \n  \n-   <xref:System.Windows.Media.Stretch>: The image is scaled so that it fits completely within the output area. The image's aspect ratio is preserved.  \n  \n-   <xref:System.Windows.Media.Stretch>: The image is scaled so that it completely fills the output area while preserving the image's original aspect ratio.  \n  \n The following example applies each of the available <xref:System.Windows.Media.Stretch> enumerations to an <xref:System.Windows.Controls.Image>.  \n  \n The following image shows the output from the example and demonstrates the affect the different <xref:System.Windows.Controls.Image.Stretch%2A> settings have when applied to an image.  \n  \n ![Different TileBrush Stretch settings](../../../../docs/framework/wpf/graphics-multimedia/media/img-mmgraphics-stretchenum.jpg \"img_mmgraphics_stretchenum\")  \nDifferent stretch settings  \n  \n [!code-xml[ImageElementExample_snip#ImageStretchExampleWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageStretchExample.xaml#imagestretchexamplewholepage)]  \n  \n### Painting with Images  \n Images can also be displayed in an application by painting with a <xref:System.Windows.Media.Brush>. Brushes enable you to paint [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] objects with anything from simple, solid colors to complex sets of patterns and images. To paint with images, use an <xref:System.Windows.Media.ImageBrush>. An <xref:System.Windows.Media.ImageBrush> is a type of <xref:System.Windows.Media.TileBrush> that defines its content as a bitmap image. An <xref:System.Windows.Media.ImageBrush> displays a single image, which is specified by its <xref:System.Windows.Media.ImageBrush.ImageSource%2A> property. You can control how the image is stretched, aligned, and tiled, enabling you to prevent distortion and produce patterns and other effects. The following illustration shows some effects that can be achieved with an <xref:System.Windows.Media.ImageBrush>.  \n  \n ![ImageBrush output examples](../../../../docs/framework/wpf/graphics-multimedia/media/wcpsdk-mmgraphics-imagebrushexamples.gif \"wcpsdk_mmgraphics_imagebrushexamples\")  \nImage brushes can fill shapes, controls, text, and more  \n  \n The following example demonstrates how to paint the background of a button with an image using an <xref:System.Windows.Media.ImageBrush>.  \n  \n [!code-xml[UsingImageBrush#4](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UsingImageBrush/CS/PaintingWithImages.xaml#4)]  \n  \n For additional information about <xref:System.Windows.Media.ImageBrush> and painting images see [Painting with Images, Drawings, and Visuals](../../../../docs/framework/wpf/graphics-multimedia/painting-with-images-drawings-and-visuals.md).  \n  \n<a name=\"_metadata\"></a>   \n## Image Metadata  \n Some image files contain metadata that describes the content or the characteristics of the file. For example, most digital cameras create images that contain metadata about the make and model of the camera used to capture the image. Each image format handles metadata differently but [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides a uniform way of storing and retrieving metadata for each supported image format.  \n  \n Access to metadata is provided through the <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> property of a <xref:System.Windows.Media.Imaging.BitmapSource> object. <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> returns a <xref:System.Windows.Media.Imaging.BitmapMetadata> object that includes all the metadata contained by the image. This data may be in one metadata schema or a combination of different schemes. [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] supports the following image metadata schemas: [!INCLUDE[TLA#tla_exif](../../../../includes/tlasharptla-exif-md.md)], tEXt (PNG Textual Data), [!INCLUDE[TLA#tla_ifd](../../../../includes/tlasharptla-ifd-md.md)], [!INCLUDE[TLA#tla_iptc](../../../../includes/tlasharptla-iptc-md.md)], and [!INCLUDE[TLA#tla_xmp](../../../../includes/tlasharptla-xmp-md.md)].  \n  \n In order to simplify the process of reading metadata, <xref:System.Windows.Media.Imaging.BitmapMetadata> provides several named properties that can be easily accessed such as <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>, <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>, and <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>. Many of these named properties can also be used to write metadata. Additional support for reading metadata is provided by the metadata query reader. The <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> method is used to retrieve a metadata query reader by providing a string query such as *\"/app1/exif/\"*. In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> is used to obtain the text stored in the *\"/Text/Description\"* location.  \n  \n [!code-cpp[BitmapMetadata#GetQuery](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#getquery)]\n [!code-csharp[BitmapMetadata#GetQuery](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#getquery)]\n [!code-vb[BitmapMetadata#GetQuery](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#getquery)]  \n  \n To write metadata, a metadata query writer is used. <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> obtains the query writer and sets the desired value. In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> is used to write the text stored in the *\"/Text/Description\"* location.  \n  \n [!code-cpp[BitmapMetadata#SetQuery](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#setquery)]\n [!code-csharp[BitmapMetadata#SetQuery](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#setquery)]\n [!code-vb[BitmapMetadata#SetQuery](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#setquery)]  \n  \n<a name=\"_extensibility\"></a>   \n## Codec Extensibility  \n A core feature of [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] is the extensibility model for new image codecs. These unmanaged interfaces enable codec developers to integrate codecs with [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] so new image formats can automatically be used by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.  \n  \n For a sample of the extensibility [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], see the [Win32 Sample Codec](http://go.microsoft.com/fwlink/?LinkID=160052). This sample demonstrates how to create a decoder and encoder for a custom image format.  \n  \n> [!NOTE]\n>  The codec must be digitally signed for the system to recognize it.  \n  \n## See Also  \n <xref:System.Windows.Media.Imaging.BitmapSource>   \n <xref:System.Windows.Media.Imaging.BitmapImage>   \n <xref:System.Windows.Controls.Image>   \n <xref:System.Windows.Media.Imaging.BitmapMetadata>   \n [2D Graphics and Imaging](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md)   \n [Win32 Sample Codec](http://go.microsoft.com/fwlink/?LinkID=160052)","nodes":[{"pos":[4,725],"embed":true,"restype":"x-metadata","content":"title: \"Imaging Overview | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"metadata, images\"\n  - \"displaying images\"\n  - \"Imaging API\"\n  - \"image metadata\"\n  - \"converting images\"\n  - \"encoding image formats\"\n  - \"format decoding for images\"\n  - \"painting with images\"\n  - \"stretching images\"\n  - \"images, about imaging\"\n  - \"format encoding for images\"\n  - \"cropping images\"\n  - \"decoding image formats\"\n  - \"rotating images\"\nms.assetid: 72aad87a-e6f3-4937-94cd-a18b7766e990\ncaps.latest.revision: 32\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","nodes":[{"content":"Imaging Overview | Microsoft Docs","nodes":[{"pos":[0,33],"content":"Imaging Overview | Microsoft Docs","nodes":[{"content":"Imaging Overview | Microsoft Docs","pos":[0,33]}]}],"path":["title"]}],"yml":true},{"pos":[732,748],"content":"Imaging Overview","linkify":"Imaging Overview","nodes":[{"content":"Imaging Overview","pos":[0,16]}]},{"content":"This topic provides an introduction to the <ph id=\"ph1\">[!INCLUDE[TLA#tla_wic](../../../../includes/tlasharptla-wic-md.md)]</ph>.","pos":[749,860],"source":"This topic provides an introduction to the [!INCLUDE[TLA#tla_wic](../../../../includes/tlasharptla-wic-md.md)]."},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> enables developers to display, transform, and format images.","pos":[861,991],"source":"[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] enables developers to display, transform, and format images."},{"pos":[1033,1054],"content":"WPF Imaging Component","linkify":"WPF Imaging Component","nodes":[{"content":"WPF Imaging Component","pos":[0,21]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> provides significant enhancements in imaging capabilities within <ph id=\"ph2\">[!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)]</ph>.","pos":[1058,1261],"source":"[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides significant enhancements in imaging capabilities within [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)]."},{"content":"Imaging capabilities, such as displaying a bitmap or using an image on a common control were previously reliant upon the <ph id=\"ph1\">[!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)]</ph> or <ph id=\"ph2\">[!INCLUDE[TLA#tla_gdiplus](../../../../includes/tlasharptla-gdiplus-md.md)]</ph> libraries.","pos":[1262,1540],"source":" Imaging capabilities, such as displaying a bitmap or using an image on a common control were previously reliant upon the [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] or [!INCLUDE[TLA#tla_gdiplus](../../../../includes/tlasharptla-gdiplus-md.md)] libraries."},{"content":"These <ph id=\"ph1\">[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)]</ph> provide baseline imaging functionality, but lack features such as support for codec extensibility and high fidelity image support.","pos":[1541,1747],"source":" These [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] provide baseline imaging functionality, but lack features such as support for codec extensibility and high fidelity image support."},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> is designed to overcome the shortcomings of <ph id=\"ph2\">[!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)]</ph> and <ph id=\"ph3\">[!INCLUDE[TLA2#tla_gdiplus](../../../../includes/tla2sharptla-gdiplus-md.md)]</ph> and provide a new set of <ph id=\"ph4\">[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)]</ph> to display and use images within your applications.","pos":[1748,2160],"source":"[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] is designed to overcome the shortcomings of [!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)] and [!INCLUDE[TLA2#tla_gdiplus](../../../../includes/tla2sharptla-gdiplus-md.md)] and provide a new set of [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] to display and use images within your applications."},{"content":"There are two ways to access the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> <ph id=\"ph2\">[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)]</ph>, a managed component and an unmanaged component.","pos":[2167,2388],"source":"There are two ways to access the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], a managed component and an unmanaged component."},{"content":"The unmanaged component provides the following features.","pos":[2389,2445]},{"content":"Extensibility model for new or proprietary image formats.","pos":[2455,2512]},{"pos":[2522,3030],"content":"Improved performance and security on native image formats including <ph id=\"ph1\">[!INCLUDE[TLA#tla_bmp](../../../../includes/tlasharptla-bmp-md.md)]</ph>, <ph id=\"ph2\">[!INCLUDE[TLA#tla_jpegorg](../../../../includes/tlasharptla-jpegorg-md.md)]</ph>, <ph id=\"ph3\">[!INCLUDE[TLA#tla_png](../../../../includes/tlasharptla-png-md.md)]</ph>, <ph id=\"ph4\">[!INCLUDE[TLA#tla_tiff](../../../../includes/tlasharptla-tiff-md.md)]</ph>, <ph id=\"ph5\">[!INCLUDE[TLA#tla_wdp](../../../../includes/tlasharptla-wdp-md.md)]</ph>, <ph id=\"ph6\">[!INCLUDE[TLA#tla_gif](../../../../includes/tlasharptla-gif-md.md)]</ph>, and icon (.ico).","source":"Improved performance and security on native image formats including [!INCLUDE[TLA#tla_bmp](../../../../includes/tlasharptla-bmp-md.md)], [!INCLUDE[TLA#tla_jpegorg](../../../../includes/tlasharptla-jpegorg-md.md)], [!INCLUDE[TLA#tla_png](../../../../includes/tlasharptla-png-md.md)], [!INCLUDE[TLA#tla_tiff](../../../../includes/tlasharptla-tiff-md.md)], [!INCLUDE[TLA#tla_wdp](../../../../includes/tlasharptla-wdp-md.md)], [!INCLUDE[TLA#tla_gif](../../../../includes/tlasharptla-gif-md.md)], and icon (.ico)."},{"content":"Preservation of high bit-depth image data up to 8 bits per channel (32 bits per pixel).","pos":[3040,3127]},{"content":"Nondestructive image scaling, cropping, and rotations.","pos":[3137,3191]},{"content":"Simplified color management.","pos":[3201,3229]},{"content":"Support for in-file, proprietary metadata.","pos":[3239,3281]},{"content":"The managed component utilizes the unmanaged infrastructure to provide seamless integration of images with other <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> features such as <ph id=\"ph2\">[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]</ph>, animation, and graphics.","pos":[3291,3582],"source":"The managed component utilizes the unmanaged infrastructure to provide seamless integration of images with other [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features such as [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], animation, and graphics."},{"content":"The managed component also benefits from the <ph id=\"ph1\">[!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)]</ph> imaging codec extensibility model which enables automatic recognition of new image formats in <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> applications.","pos":[3583,3873],"source":" The managed component also benefits from the [!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)] imaging codec extensibility model which enables automatic recognition of new image formats in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications."},{"pos":[3880,4457],"content":"The majority of the managed <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> <ph id=\"ph2\">[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)]</ph> reside in the <ph id=\"ph3\">&lt;xref:System.Windows.Media.Imaging?displayProperty=fullName&gt;</ph> namespace, though several important types, such as <ph id=\"ph4\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph> and <ph id=\"ph5\">&lt;xref:System.Windows.Media.ImageDrawing&gt;</ph> reside in the <ph id=\"ph6\">&lt;xref:System.Windows.Media?displayProperty=fullName&gt;</ph> namespace and <ph id=\"ph7\">&lt;xref:System.Windows.Controls.Image&gt;</ph> resides in the <ph id=\"ph8\">&lt;xref:System.Windows.Controls?displayProperty=fullName&gt;</ph> namespace.","source":"The majority of the managed [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] reside in the <xref:System.Windows.Media.Imaging?displayProperty=fullName> namespace, though several important types, such as <xref:System.Windows.Media.ImageBrush> and <xref:System.Windows.Media.ImageDrawing> reside in the <xref:System.Windows.Media?displayProperty=fullName> namespace and <xref:System.Windows.Controls.Image> resides in the <xref:System.Windows.Controls?displayProperty=fullName> namespace."},{"content":"This topic provides additional information about the managed component.","pos":[4464,4535]},{"content":"For more information on the unmanaged <ph id=\"ph1\">[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)]</ph> see the <bpt id=\"p1\">[</bpt>Unmanaged WPF Imaging Component<ept id=\"p1\">](https://msdn.microsoft.com/library/ee719902.aspx)</ept> documentation.","pos":[4536,4750],"source":" For more information on the unmanaged [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] see the [Unmanaged WPF Imaging Component](https://msdn.microsoft.com/library/ee719902.aspx) documentation."},{"pos":[4791,4808],"content":"WPF Image Formats","linkify":"WPF Image Formats","nodes":[{"content":"WPF Image Formats","pos":[0,17]}]},{"content":"A codec is used to decode or encode a specific media format.","pos":[4812,4872]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> includes a codec  for <ph id=\"ph2\">[!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)]</ph>, <ph id=\"ph3\">[!INCLUDE[TLA2#tla_jpeg](../../../../includes/tla2sharptla-jpeg-md.md)]</ph>, <ph id=\"ph4\">[!INCLUDE[TLA2#tla_png](../../../../includes/tla2sharptla-png-md.md)]</ph>, <ph id=\"ph5\">[!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)]</ph>, <ph id=\"ph6\">[!INCLUDE[TLA2#tla_wdp](../../../../includes/tla2sharptla-wdp-md.md)]</ph>, <ph id=\"ph7\">[!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)]</ph>, and ICON image formats.","pos":[4873,5418],"source":"[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] includes a codec  for [!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)], [!INCLUDE[TLA2#tla_jpeg](../../../../includes/tla2sharptla-jpeg-md.md)], [!INCLUDE[TLA2#tla_png](../../../../includes/tla2sharptla-png-md.md)], [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)], [!INCLUDE[TLA2#tla_wdp](../../../../includes/tla2sharptla-wdp-md.md)], [!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)], and ICON image formats."},{"content":"Each of these codecs enable applications to decode and, with the exception of ICON, encode their respective image formats.","pos":[5419,5541]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph> is an important class used in the decoding and encoding of images.","pos":[5548,5663],"source":"<xref:System.Windows.Media.Imaging.BitmapSource> is an important class used in the decoding and encoding of images."},{"content":"It is the basic building block of the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> pipeline and represents a single, constant set of pixels at a certain size and resolution.","pos":[5664,5862],"source":" It is the basic building block of the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] pipeline and represents a single, constant set of pixels at a certain size and resolution."},{"content":"A <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph> can be an individual frame of a multiple frame image, or it can be the result of a transform performed on a <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph>.","pos":[5863,6071],"source":" A <xref:System.Windows.Media.Imaging.BitmapSource> can be an individual frame of a multiple frame image, or it can be the result of a transform performed on a <xref:System.Windows.Media.Imaging.BitmapSource>."},{"content":"It is the parent of many of the primary classes used in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> imaging such as <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapFrame&gt;</ph>.","pos":[6072,6262],"source":" It is the parent of many of the primary classes used in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] imaging such as <xref:System.Windows.Media.Imaging.BitmapFrame>."},{"content":"A <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapFrame&gt;</ph> is used to store the actual bitmap data of an image format.","pos":[6269,6378],"source":"A <xref:System.Windows.Media.Imaging.BitmapFrame> is used to store the actual bitmap data of an image format."},{"content":"Many image formats only support a single <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapFrame&gt;</ph>, although formats such as <ph id=\"ph2\">[!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)]</ph> and <ph id=\"ph3\">[!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)]</ph> support multiple frames per image.","pos":[6379,6674],"source":" Many image formats only support a single <xref:System.Windows.Media.Imaging.BitmapFrame>, although formats such as [!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)] and [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] support multiple frames per image."},{"content":"Frames are used by decoders as input data and are passed to encoders to create image files.","pos":[6675,6766]},{"pos":[6773,7027],"content":"The following example demonstrates how a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapFrame&gt;</ph> is created from a <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph> and then added to a <ph id=\"ph3\">[!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)]</ph> image.","source":"The following example demonstrates how a <xref:System.Windows.Media.Imaging.BitmapFrame> is created from a <xref:System.Windows.Media.Imaging.BitmapSource> and then added to a [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] image."},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>BitmapFrameExample#10<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitmapFrameExample/CSharp/BitmapFrame.cs#10)</ept><ept id=\"p1\">]</ept>","pos":[7034,7168],"source":"[!code-csharp[BitmapFrameExample#10](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitmapFrameExample/CSharp/BitmapFrame.cs#10)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>BitmapFrameExample#10<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitmapFrameExample/VB/BitmapFrame.vb#10)</ept><ept id=\"p1\">]</ept>","pos":[7170,7301],"source":"[!code-vb[BitmapFrameExample#10](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitmapFrameExample/VB/BitmapFrame.vb#10)]"},{"pos":[7311,7332],"content":"Image Format Decoding","linkify":"Image Format Decoding","nodes":[{"content":"Image Format Decoding","pos":[0,21]}]},{"content":"Image decoding is the translation of an image format to image data that can be used by the system.","pos":[7336,7434]},{"content":"The image data can then be used to display, process, or encode to a different format.","pos":[7435,7520]},{"content":"Decoder selection is based on the image format.","pos":[7521,7568]},{"content":"Codec selection is automatic unless a specific decoder is specified.","pos":[7569,7637]},{"content":"The examples in the <bpt id=\"p1\">[</bpt>Displaying Images in WPF<ept id=\"p1\">](#_displayingimages)</ept> section demonstrate automatic decoding.","pos":[7638,7744],"source":" The examples in the [Displaying Images in WPF](#_displayingimages) section demonstrate automatic decoding."},{"content":"Custom format decoders developed using the unmanaged <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> interfaces and registered with the system automatically participate in decoder selection.","pos":[7745,7957],"source":" Custom format decoders developed using the unmanaged [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] interfaces and registered with the system automatically participate in decoder selection."},{"content":"This allows custom formats to be displayed automatically in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> applications.","pos":[7958,8101],"source":" This allows custom formats to be displayed automatically in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications."},{"pos":[8108,8266],"content":"The following example demonstrates the use of a bitmap decoder to decode a <ph id=\"ph1\">[!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)]</ph> format image.","source":"The following example demonstrates the use of a bitmap decoder to decode a [!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)] format image."},{"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>BmpBitmapDecoderEncoder#5<ept id=\"p2\">](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#5)</ept><ept id=\"p1\">]</ept>","pos":[8273,8407],"source":"[!code-cpp[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#5)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>BmpBitmapDecoderEncoder#5<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#5)</ept><ept id=\"p1\">]</ept>","pos":[8409,8551],"source":"[!code-csharp[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#5)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>BmpBitmapDecoderEncoder#5<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#5)</ept><ept id=\"p1\">]</ept>","pos":[8553,8692],"source":"[!code-vb[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#5)]"},{"pos":[8702,8723],"content":"Image Format Encoding","linkify":"Image Format Encoding","nodes":[{"content":"Image Format Encoding","pos":[0,21]}]},{"content":"Image encoding is the translation of image data to a specific image format.","pos":[8727,8802]},{"content":"The encoded image data can then be used to create new image files.","pos":[8803,8869]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> provides encoders for each of the image formats described above.","pos":[8870,9004],"source":"[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides encoders for each of the image formats described above."},{"content":"The following example demonstrates the use of an encoder to save a newly created bitmap image.","pos":[9011,9105]},{"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>BmpBitmapDecoderEncoder#3<ept id=\"p2\">](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#3)</ept><ept id=\"p1\">]</ept>","pos":[9112,9246],"source":"[!code-cpp[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#3)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>BmpBitmapDecoderEncoder#3<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#3)</ept><ept id=\"p1\">]</ept>","pos":[9248,9390],"source":"[!code-csharp[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#3)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>BmpBitmapDecoderEncoder#3<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#3)</ept><ept id=\"p1\">]</ept>","pos":[9392,9531],"source":"[!code-vb[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#3)]"},{"pos":[9576,9600],"content":"Displaying Images in WPF","linkify":"Displaying Images in WPF","nodes":[{"content":"Displaying Images in WPF","pos":[0,24]}]},{"content":"There are several ways to display an image in a <ph id=\"ph1\">[!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)]</ph> application.","pos":[9604,9732],"source":"There are several ways to display an image in a [!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)] application."},{"content":"Images can be displayed using an <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph> control, painted on a visual using an <ph id=\"ph2\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph>, or drawn using an <ph id=\"ph3\">&lt;xref:System.Windows.Media.ImageDrawing&gt;</ph>.","pos":[9733,9940],"source":" Images can be displayed using an <xref:System.Windows.Controls.Image> control, painted on a visual using an <xref:System.Windows.Media.ImageBrush>, or drawn using an <xref:System.Windows.Media.ImageDrawing>."},{"pos":[9950,9973],"content":"Using the Image Control","linkify":"Using the Image Control","nodes":[{"content":"Using the Image Control","pos":[0,23]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph> is a framework element and the primary way to display images in applications.","pos":[9977,10091],"source":"<xref:System.Windows.Controls.Image> is a framework element and the primary way to display images in applications."},{"content":"In <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Image&gt;</ph> can be used in two ways; attribute syntax or property syntax.","pos":[10092,10266],"source":" In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], <xref:System.Windows.Controls.Image> can be used in two ways; attribute syntax or property syntax."},{"content":"The following example shows how to render an image 200 pixels wide using both attribute syntax and property tag syntax.","pos":[10267,10386]},{"content":"For more information on attribute syntax and property syntax, see <bpt id=\"p1\">[</bpt>Dependency Properties Overview<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)</ept>.","pos":[10387,10561],"source":" For more information on attribute syntax and property syntax, see [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)."},{"pos":[10568,10776],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#ImageSimpleExampleInlineMarkup<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml#imagesimpleexampleinlinemarkup)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[ImageElementExample_snip#ImageSimpleExampleInlineMarkup](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml#imagesimpleexampleinlinemarkup)]"},{"content":"Many of the examples use a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapImage&gt;</ph> object to reference an image file.","pos":[10783,10892],"source":"Many of the examples use a <xref:System.Windows.Media.Imaging.BitmapImage> object to reference an image file."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapImage&gt;</ph> is a specialized <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph> that is optimized for <ph id=\"ph3\">[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]</ph> loading and is an easy way to display images as the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Image.Source%2A&gt;</ph> of an <ph id=\"ph5\">&lt;xref:System.Windows.Controls.Image&gt;</ph> control.","pos":[10893,11249],"source":" <xref:System.Windows.Media.Imaging.BitmapImage> is a specialized <xref:System.Windows.Media.Imaging.BitmapSource> that is optimized for [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] loading and is an easy way to display images as the <xref:System.Windows.Controls.Image.Source%2A> of an <xref:System.Windows.Controls.Image> control."},{"content":"The following example shows how to render an image 200 pixels wide using code.","pos":[11256,11334]},{"pos":[11342,11848],"content":"[!NOTE]\n <xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties. Property changes can only occur during object initialization. Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed. Once initialized, property changes are ignored.","leadings":["","> "],"nodes":[{"content":"<xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties. Property changes can only occur during object initialization. Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed. Once initialized, property changes are ignored.","pos":[9,504],"nodes":[{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapImage&gt;</ph> implements the <ph id=\"ph2\">&lt;xref:System.ComponentModel.ISupportInitialize&gt;</ph> interface to optimize initialization on multiple properties.","pos":[0,171],"source":"<xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties."},{"content":"Property changes can only occur during object initialization.","pos":[172,233]},{"content":"Call <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A&gt;</ph> to signal that initialization has begun and <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A&gt;</ph> to signal that initialization has completed.","pos":[234,447],"source":" Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed."},{"content":"Once initialized, property changes are ignored.","pos":[448,495]}]}]},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#ImageSimpleExampleInlineCode1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml.cs#imagesimpleexampleinlinecode1)</ept><ept id=\"p1\">]</ept>","pos":[11855,12067],"source":"[!code-csharp[ImageElementExample_snip#ImageSimpleExampleInlineCode1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml.cs#imagesimpleexampleinlinecode1)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#ImageSimpleExampleInlineCode1<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/ImageSimpleExample.xaml.vb#imagesimpleexampleinlinecode1)</ept><ept id=\"p1\">]</ept>","pos":[12069,12278],"source":"[!code-vb[ImageElementExample_snip#ImageSimpleExampleInlineCode1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/ImageSimpleExample.xaml.vb#imagesimpleexampleinlinecode1)]"},{"pos":[12289,12330],"content":"Rotating, Converting, and Cropping Images","linkify":"Rotating, Converting, and Cropping Images","nodes":[{"content":"Rotating, Converting, and Cropping Images","pos":[0,41]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> enables users to transform images by using properties of <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapImage&gt;</ph> or by using additional <ph id=\"ph3\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph> objects such as <ph id=\"ph4\">&lt;xref:System.Windows.Media.Imaging.CroppedBitmap&gt;</ph> or <ph id=\"ph5\">&lt;xref:System.Windows.Media.Imaging.FormatConvertedBitmap&gt;</ph>.","pos":[12334,12708],"source":"[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] enables users to transform images by using properties of <xref:System.Windows.Media.Imaging.BitmapImage> or by using additional <xref:System.Windows.Media.Imaging.BitmapSource> objects such as <xref:System.Windows.Media.Imaging.CroppedBitmap> or <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>."},{"content":"These image transformations can scale or rotate an image, change the pixel format of an image, or crop an image.","pos":[12709,12821]},{"content":"Image rotations are performed using the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A&gt;</ph> property of <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapImage&gt;</ph>.","pos":[12828,12988],"source":"Image rotations are performed using the <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> property of <xref:System.Windows.Media.Imaging.BitmapImage>."},{"content":"Rotations can only be done in 90 degree increments.","pos":[12989,13040]},{"content":"In the following example, an image is rotated 90 degrees.","pos":[13041,13098]},{"pos":[13105,13280],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>ImageElementExample#TransformedXAML2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml#transformedxaml2)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[ImageElementExample#TransformedXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml#transformedxaml2)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>ImageElementExample#TransformedCSharp1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml.cs#transformedcsharp1)</ept><ept id=\"p1\">]</ept>","pos":[13287,13472],"source":"[!code-csharp[ImageElementExample#TransformedCSharp1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml.cs#transformedcsharp1)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>ImageElementExample#TransformedCSharp1<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample/VB/TransformedImageExample.xaml.vb#transformedcsharp1)</ept><ept id=\"p1\">]</ept>","pos":[13474,13656],"source":"[!code-vb[ImageElementExample#TransformedCSharp1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample/VB/TransformedImageExample.xaml.vb#transformedcsharp1)]"},{"content":"Converting an image to a different pixel format such as grayscale is done using <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.FormatConvertedBitmap&gt;</ph>.","pos":[13663,13801],"source":"Converting an image to a different pixel format such as grayscale is done using <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>."},{"content":"In the following examples, an image is converted to <ph id=\"ph1\">&lt;xref:System.Windows.Media.PixelFormats.Gray4%2A&gt;</ph>.","pos":[13802,13904],"source":" In the following examples, an image is converted to <xref:System.Windows.Media.PixelFormats.Gray4%2A>."},{"pos":[13911,14091],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#ConvertedXAML2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml#convertedxaml2)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[ImageElementExample_snip#ConvertedXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml#convertedxaml2)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#ConvertedCSharp1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml.cs#convertedcsharp1)</ept><ept id=\"p1\">]</ept>","pos":[14098,14288],"source":"[!code-csharp[ImageElementExample_snip#ConvertedCSharp1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml.cs#convertedcsharp1)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#ConvertedCSharp1<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/FormatConvertedExample.xaml.vb#convertedcsharp1)</ept><ept id=\"p1\">]</ept>","pos":[14290,14477],"source":"[!code-vb[ImageElementExample_snip#ConvertedCSharp1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/FormatConvertedExample.xaml.vb#convertedcsharp1)]"},{"content":"To crop an image, either the <ph id=\"ph1\">&lt;xref:System.Windows.UIElement.Clip%2A&gt;</ph> property of <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Image&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Windows.Media.Imaging.CroppedBitmap&gt;</ph> can be used.","pos":[14484,14667],"source":"To crop an image, either the <xref:System.Windows.UIElement.Clip%2A> property of <xref:System.Windows.Controls.Image> or <xref:System.Windows.Media.Imaging.CroppedBitmap> can be used."},{"content":"Typically, if you just want to display a portion of an image, <ph id=\"ph1\">&lt;xref:System.Windows.UIElement.Clip%2A&gt;</ph> should be used.","pos":[14668,14785],"source":" Typically, if you just want to display a portion of an image, <xref:System.Windows.UIElement.Clip%2A> should be used."},{"content":"If you need to encode and save a cropped image, the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.CroppedBitmap&gt;</ph> should be used.","pos":[14786,14903],"source":" If you need to encode and save a cropped image, the <xref:System.Windows.Media.Imaging.CroppedBitmap> should be used."},{"content":"In the following example, an image is cropped using the Clip property using an <ph id=\"ph1\">&lt;xref:System.Windows.Media.EllipseGeometry&gt;</ph>.","pos":[14904,15027],"source":" In the following example, an image is cropped using the Clip property using an <xref:System.Windows.Media.EllipseGeometry>."},{"pos":[15034,15225],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#CroppedXAMLUsingClip1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml#croppedxamlusingclip1)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[ImageElementExample_snip#CroppedXAMLUsingClip1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml#croppedxamlusingclip1)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#CroppedCSharpUsingClip1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml.cs#croppedcsharpusingclip1)</ept><ept id=\"p1\">]</ept>","pos":[15232,15433],"source":"[!code-csharp[ImageElementExample_snip#CroppedCSharpUsingClip1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml.cs#croppedcsharpusingclip1)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#CroppedCSharpUsingClip1<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/CroppedImageExample.xaml.vb#croppedcsharpusingclip1)</ept><ept id=\"p1\">]</ept>","pos":[15435,15633],"source":"[!code-vb[ImageElementExample_snip#CroppedCSharpUsingClip1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/CroppedImageExample.xaml.vb#croppedcsharpusingclip1)]"},{"pos":[15644,15661],"content":"Stretching Images","linkify":"Stretching Images","nodes":[{"content":"Stretching Images","pos":[0,17]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image.Stretch%2A&gt;</ph> property controls how an image is stretched to fill its container.","pos":[15665,15783],"source":"The <xref:System.Windows.Controls.Image.Stretch%2A> property controls how an image is stretched to fill its container."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image.Stretch%2A&gt;</ph> property accepts the following values, defined by the <ph id=\"ph2\">&lt;xref:System.Windows.Media.Stretch&gt;</ph> enumeration:","pos":[15784,15938],"source":" The <xref:System.Windows.Controls.Image.Stretch%2A> property accepts the following values, defined by the <xref:System.Windows.Media.Stretch> enumeration:"},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Stretch&gt;</ph>: The image is not stretched to fill the output area.","pos":[15948,16036],"source":"<xref:System.Windows.Media.Stretch>: The image is not stretched to fill the output area."},{"content":"If the image is larger than the output area, the image is drawn to the output area, clipping what does not fit.","pos":[16037,16148]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Stretch&gt;</ph>: The image is scaled to fit the output area.","pos":[16158,16238],"source":"<xref:System.Windows.Media.Stretch>: The image is scaled to fit the output area."},{"content":"Because the image height and width are scaled independently, the original aspect ratio of the image might not be preserved.","pos":[16239,16362]},{"content":"That is, the image might be warped in order to completely fill the output container.","pos":[16363,16447]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Stretch&gt;</ph>: The image is scaled so that it fits completely within the output area.","pos":[16457,16564],"source":"<xref:System.Windows.Media.Stretch>: The image is scaled so that it fits completely within the output area."},{"content":"The image's aspect ratio is preserved.","pos":[16565,16603]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Stretch&gt;</ph>: The image is scaled so that it completely fills the output area while preserving the image's original aspect ratio.","pos":[16613,16765],"source":"<xref:System.Windows.Media.Stretch>: The image is scaled so that it completely fills the output area while preserving the image's original aspect ratio."},{"content":"The following example applies each of the available <ph id=\"ph1\">&lt;xref:System.Windows.Media.Stretch&gt;</ph> enumerations to an <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Image&gt;</ph>.","pos":[16772,16916],"source":"The following example applies each of the available <xref:System.Windows.Media.Stretch> enumerations to an <xref:System.Windows.Controls.Image>."},{"content":"The following image shows the output from the example and demonstrates the affect the different <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image.Stretch%2A&gt;</ph> settings have when applied to an image.","pos":[16923,17106],"source":"The following image shows the output from the example and demonstrates the affect the different <xref:System.Windows.Controls.Image.Stretch%2A> settings have when applied to an image."},{"content":"<bpt id=\"p1\">![</bpt>Different TileBrush Stretch settings<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/graphics-multimedia/media/img-mmgraphics-stretchenum.jpg \"</bpt>img_mmgraphics_stretchenum<ept id=\"p2\">\")</ept>","pos":[17113,17270],"source":"![Different TileBrush Stretch settings](../../../../docs/framework/wpf/graphics-multimedia/media/img-mmgraphics-stretchenum.jpg \"img_mmgraphics_stretchenum\")"},{"content":"Different stretch settings","pos":[17273,17299]},{"pos":[17306,17511],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>ImageElementExample_snip#ImageStretchExampleWholePage<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageStretchExample.xaml#imagestretchexamplewholepage)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[ImageElementExample_snip#ImageStretchExampleWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageStretchExample.xaml#imagestretchexamplewholepage)]"},{"pos":[17521,17541],"content":"Painting with Images","linkify":"Painting with Images","nodes":[{"content":"Painting with Images","pos":[0,20]}]},{"content":"Images can also be displayed in an application by painting with a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Brush&gt;</ph>.","pos":[17545,17645],"source":"Images can also be displayed in an application by painting with a <xref:System.Windows.Media.Brush>."},{"content":"Brushes enable you to paint <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> objects with anything from simple, solid colors to complex sets of patterns and images.","pos":[17646,17829],"source":" Brushes enable you to paint [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] objects with anything from simple, solid colors to complex sets of patterns and images."},{"content":"To paint with images, use an <ph id=\"ph1\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph>.","pos":[17830,17898],"source":" To paint with images, use an <xref:System.Windows.Media.ImageBrush>."},{"content":"An <ph id=\"ph1\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph> is a type of <ph id=\"ph2\">&lt;xref:System.Windows.Media.TileBrush&gt;</ph> that defines its content as a bitmap image.","pos":[17899,18035],"source":" An <xref:System.Windows.Media.ImageBrush> is a type of <xref:System.Windows.Media.TileBrush> that defines its content as a bitmap image."},{"content":"An <ph id=\"ph1\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph> displays a single image, which is specified by its <ph id=\"ph2\">&lt;xref:System.Windows.Media.ImageBrush.ImageSource%2A&gt;</ph> property.","pos":[18036,18192],"source":" An <xref:System.Windows.Media.ImageBrush> displays a single image, which is specified by its <xref:System.Windows.Media.ImageBrush.ImageSource%2A> property."},{"content":"You can control how the image is stretched, aligned, and tiled, enabling you to prevent distortion and produce patterns and other effects.","pos":[18193,18331]},{"content":"The following illustration shows some effects that can be achieved with an <ph id=\"ph1\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph>.","pos":[18332,18446],"source":" The following illustration shows some effects that can be achieved with an <xref:System.Windows.Media.ImageBrush>."},{"content":"<bpt id=\"p1\">![</bpt>ImageBrush output examples<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wpf/graphics-multimedia/media/wcpsdk-mmgraphics-imagebrushexamples.gif \"</bpt>wcpsdk_mmgraphics_imagebrushexamples<ept id=\"p2\">\")</ept>","pos":[18453,18620],"source":"![ImageBrush output examples](../../../../docs/framework/wpf/graphics-multimedia/media/wcpsdk-mmgraphics-imagebrushexamples.gif \"wcpsdk_mmgraphics_imagebrushexamples\")"},{"content":"Image brushes can fill shapes, controls, text, and more","pos":[18623,18678]},{"content":"The following example demonstrates how to paint the background of a button with an image using an <ph id=\"ph1\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph>.","pos":[18685,18822],"source":"The following example demonstrates how to paint the background of a button with an image using an <xref:System.Windows.Media.ImageBrush>."},{"pos":[18829,18957],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>UsingImageBrush#4<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UsingImageBrush/CS/PaintingWithImages.xaml#4)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[UsingImageBrush#4](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UsingImageBrush/CS/PaintingWithImages.xaml#4)]"},{"pos":[18964,19203],"content":"For additional information about <ph id=\"ph1\">&lt;xref:System.Windows.Media.ImageBrush&gt;</ph> and painting images see <bpt id=\"p1\">[</bpt>Painting with Images, Drawings, and Visuals<ept id=\"p1\">](../../../../docs/framework/wpf/graphics-multimedia/painting-with-images-drawings-and-visuals.md)</ept>.","source":"For additional information about <xref:System.Windows.Media.ImageBrush> and painting images see [Painting with Images, Drawings, and Visuals](../../../../docs/framework/wpf/graphics-multimedia/painting-with-images-drawings-and-visuals.md)."},{"pos":[19240,19254],"content":"Image Metadata","linkify":"Image Metadata","nodes":[{"content":"Image Metadata","pos":[0,14]}]},{"content":"Some image files contain metadata that describes the content or the characteristics of the file.","pos":[19258,19354]},{"content":"For example, most digital cameras create images that contain metadata about the make and model of the camera used to capture the image.","pos":[19355,19490]},{"content":"Each image format handles metadata differently but <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> provides a uniform way of storing and retrieving metadata for each supported image format.","pos":[19491,19702],"source":" Each image format handles metadata differently but [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides a uniform way of storing and retrieving metadata for each supported image format."},{"content":"Access to metadata is provided through the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A&gt;</ph> property of a <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph> object.","pos":[19709,19883],"source":"Access to metadata is provided through the <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> property of a <xref:System.Windows.Media.Imaging.BitmapSource> object."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A&gt;</ph> returns a <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata&gt;</ph> object that includes all the metadata contained by the image.","pos":[19884,20067],"source":" <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> returns a <xref:System.Windows.Media.Imaging.BitmapMetadata> object that includes all the metadata contained by the image."},{"content":"This data may be in one metadata schema or a combination of different schemes.","pos":[20068,20146]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> supports the following image metadata schemas: <ph id=\"ph2\">[!INCLUDE[TLA#tla_exif](../../../../includes/tlasharptla-exif-md.md)]</ph>, tEXt (PNG Textual Data), <ph id=\"ph3\">[!INCLUDE[TLA#tla_ifd](../../../../includes/tlasharptla-ifd-md.md)]</ph>, <ph id=\"ph4\">[!INCLUDE[TLA#tla_iptc](../../../../includes/tlasharptla-iptc-md.md)]</ph>, and <ph id=\"ph5\">[!INCLUDE[TLA#tla_xmp](../../../../includes/tlasharptla-xmp-md.md)]</ph>.","pos":[20147,20572],"source":"[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] supports the following image metadata schemas: [!INCLUDE[TLA#tla_exif](../../../../includes/tlasharptla-exif-md.md)], tEXt (PNG Textual Data), [!INCLUDE[TLA#tla_ifd](../../../../includes/tlasharptla-ifd-md.md)], [!INCLUDE[TLA#tla_iptc](../../../../includes/tlasharptla-iptc-md.md)], and [!INCLUDE[TLA#tla_xmp](../../../../includes/tlasharptla-xmp-md.md)]."},{"content":"In order to simplify the process of reading metadata, <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata&gt;</ph> provides several named properties that can be easily accessed such as <ph id=\"ph2\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A&gt;</ph>, and <ph id=\"ph4\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A&gt;</ph>.","pos":[20579,20947],"source":"In order to simplify the process of reading metadata, <xref:System.Windows.Media.Imaging.BitmapMetadata> provides several named properties that can be easily accessed such as <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>, <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>, and <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>."},{"content":"Many of these named properties can also be used to write metadata.","pos":[20948,21014]},{"content":"Additional support for reading metadata is provided by the metadata query reader.","pos":[21015,21096]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A&gt;</ph> method is used to retrieve a metadata query reader by providing a string query such as <bpt id=\"p1\">*</bpt>\"/app1/exif/\"<ept id=\"p1\">*</ept>.","pos":[21097,21267],"source":" The <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> method is used to retrieve a metadata query reader by providing a string query such as *\"/app1/exif/\"*."},{"content":"In the following example, <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A&gt;</ph> is used to obtain the text stored in the <bpt id=\"p1\">*</bpt>\"/Text/Description\"<ept id=\"p1\">*</ept> location.","pos":[21268,21429],"source":" In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> is used to obtain the text stored in the *\"/Text/Description\"* location."},{"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>BitmapMetadata#GetQuery<ept id=\"p2\">](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#getquery)</ept><ept id=\"p1\">]</ept>","pos":[21436,21569],"source":"[!code-cpp[BitmapMetadata#GetQuery](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#getquery)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>BitmapMetadata#GetQuery<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#getquery)</ept><ept id=\"p1\">]</ept>","pos":[21571,21712],"source":"[!code-csharp[BitmapMetadata#GetQuery](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#getquery)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>BitmapMetadata#GetQuery<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#getquery)</ept><ept id=\"p1\">]</ept>","pos":[21714,21852],"source":"[!code-vb[BitmapMetadata#GetQuery](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#getquery)]"},{"content":"To write metadata, a metadata query writer is used.","pos":[21859,21910]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A&gt;</ph> obtains the query writer and sets the desired value.","pos":[21911,22026],"source":" <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> obtains the query writer and sets the desired value."},{"content":"In the following example, <ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A&gt;</ph> is used to write the text stored in the <bpt id=\"p1\">*</bpt>\"/Text/Description\"<ept id=\"p1\">*</ept> location.","pos":[22027,22187],"source":" In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> is used to write the text stored in the *\"/Text/Description\"* location."},{"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>BitmapMetadata#SetQuery<ept id=\"p2\">](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#setquery)</ept><ept id=\"p1\">]</ept>","pos":[22194,22327],"source":"[!code-cpp[BitmapMetadata#SetQuery](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#setquery)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>BitmapMetadata#SetQuery<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#setquery)</ept><ept id=\"p1\">]</ept>","pos":[22329,22470],"source":"[!code-csharp[BitmapMetadata#SetQuery](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#setquery)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>BitmapMetadata#SetQuery<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#setquery)</ept><ept id=\"p1\">]</ept>","pos":[22472,22610],"source":"[!code-vb[BitmapMetadata#SetQuery](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#setquery)]"},{"pos":[22652,22671],"content":"Codec Extensibility","linkify":"Codec Extensibility","nodes":[{"content":"Codec Extensibility","pos":[0,19]}]},{"content":"A core feature of <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]</ph> is the extensibility model for new image codecs.","pos":[22675,22811],"source":"A core feature of [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] is the extensibility model for new image codecs."},{"content":"These unmanaged interfaces enable codec developers to integrate codecs with <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> so new image formats can automatically be used by <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> applications.","pos":[22812,23091],"source":" These unmanaged interfaces enable codec developers to integrate codecs with [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] so new image formats can automatically be used by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications."},{"content":"For a sample of the extensibility <ph id=\"ph1\">[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)]</ph>, see the <bpt id=\"p1\">[</bpt>Win32 Sample Codec<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=160052)</ept>.","pos":[23098,23279],"source":"For a sample of the extensibility [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], see the [Win32 Sample Codec](http://go.microsoft.com/fwlink/?LinkID=160052)."},{"content":"This sample demonstrates how to create a decoder and encoder for a custom image format.","pos":[23280,23367]},{"pos":[23375,23452],"content":"[!NOTE]\n The codec must be digitally signed for the system to recognize it.","leadings":["","> "],"nodes":[{"content":"The codec must be digitally signed for the system to recognize it.","pos":[9,75]}]},{"pos":[23461,23469],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapSource&gt;</ph>","pos":[23473,23521],"source":"<xref:System.Windows.Media.Imaging.BitmapSource> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapImage&gt;</ph>","pos":[23526,23573],"source":"<xref:System.Windows.Media.Imaging.BitmapImage> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Image&gt;</ph>","pos":[23578,23614],"source":"<xref:System.Windows.Controls.Image> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.Imaging.BitmapMetadata&gt;</ph>","pos":[23619,23669],"source":"<xref:System.Windows.Media.Imaging.BitmapMetadata> "},{"content":"<bpt id=\"p1\">[</bpt>2D Graphics and Imaging<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md)</ept><ph id=\"ph1\"> </ph>","pos":[23674,23791],"source":"[2D Graphics and Imaging](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md) "},{"content":"<bpt id=\"p1\">[</bpt>Win32 Sample Codec<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=160052)</ept>","pos":[23795,23862],"source":"[Win32 Sample Codec](http://go.microsoft.com/fwlink/?LinkID=160052)"}]}