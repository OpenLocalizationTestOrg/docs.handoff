{"content":"---\ntitle: \"Schema Import and Export | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"WCF, schema import and export\"\n  - \"XsdDataContractExporter class\"\n  - \"XsdDataContractImporter class\"\nms.assetid: 0da32b50-ccd9-463a-844c-7fe803d3bf44\ncaps.latest.revision: 14\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Schema Import and Export\n[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>. The `DataContractSerializer` translates between [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] objects and XML (in both directions). In addition to the serializer itself, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] includes associated schema import and schema export mechanisms. *Schema* is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access. [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms.  \n  \n The schema import component, <xref:System.Runtime.Serialization.XsdDataContractImporter>, takes an XSD schema document and generates [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] classes (normally data contract classes) such that the serialized forms correspond to the given schema.  \n  \n For example, the following schema fragment:  \n  \n [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]\n [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  \n  \n generates the following type (simplified slightly for better readability).  \n  \n [!code-csharp[c_SchemaImportExport#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#1)]\n [!code-vb[c_SchemaImportExport#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#1)]  \n  \n Note that the generated type follows several data contract best practices (found in [Best Practices: Data Contract Versioning](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):  \n  \n-   The type implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).  \n  \n-   Data members are implemented as public properties that wrap private fields.  \n  \n-   The class is a partial class, and additions can be made without modifying generated code.  \n  \n The <xref:System.Runtime.Serialization.XsdDataContractExporter> enables you to do the reverse—take types that are serializable with the `DataContractSerializer` and generate an XSD Schema document.  \n  \n## Fidelity Is Not Guaranteed  \n It is not guaranteed that schema or types make a round trip with total fidelity. (A *round trip* means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned. Reversing the process is also not guaranteed to preserve fidelity. (Export a type to generate its schema, and then import the type back. It is unlikely the same type is returned.)  \n  \n## Supported Types  \n The data contract model supports only a limited subset of the WC3 schema. Any schema that does not conform to this subset will cause an exception during the import process. For example, there is no way to specify that a data member of a data contract should be serialized as an XML attribute. Thus, schemas that require the use of XML attributes are not supported and will cause exceptions during import, because it is impossible to generate a data contract with the correct XML projection.  \n  \n For example, the following schema fragment cannot be imported using the default import settings.  \n  \n [!code-xml[c_SchemaImportExport#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#9)]   \n  \n [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md). If a schema does not conform to the data contract rules, use a different serialization engine. For example, the <xref:System.Xml.Serialization.XmlSerializer> uses its own separate schema import mechanism. Also, there is a special import mode in which the range of supported schema is expanded. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] the section about generating <xref:System.Xml.Serialization.IXmlSerializable> types in [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).  \n  \n The `XsdDataContractExporter` supports any [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that can be serialized with the `DataContractSerializer`. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md). Note that schema generated using the `XsdDataContractExporter` is normally valid data that the `XsdDataContractImporter` can use (unless the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> is used to customize the schema).  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] using the <xref:System.Runtime.Serialization.XsdDataContractImporter>, see [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] using the <xref:System.Runtime.Serialization.XsdDataContractExporter>, see [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md).  \n  \n## See Also  \n <xref:System.Runtime.Serialization.DataContractSerializer>   \n <xref:System.Runtime.Serialization.XsdDataContractImporter>   \n <xref:System.Runtime.Serialization.XsdDataContractExporter>   \n [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)   \n [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)","nodes":[{"pos":[4,475],"embed":true,"restype":"x-metadata","content":"title: \"Schema Import and Export | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"WCF, schema import and export\"\n  - \"XsdDataContractExporter class\"\n  - \"XsdDataContractImporter class\"\nms.assetid: 0da32b50-ccd9-463a-844c-7fe803d3bf44\ncaps.latest.revision: 14\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Schema Import and Export | Microsoft Docs","nodes":[{"pos":[0,41],"content":"Schema Import and Export | Microsoft Docs","nodes":[{"content":"Schema Import and Export | Microsoft Docs","pos":[0,41]}]}],"path":["title"]}],"yml":true},{"pos":[482,506],"content":"Schema Import and Export","linkify":"Schema Import and Export","nodes":[{"content":"Schema Import and Export","pos":[0,24]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> includes a new serialization engine, the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph>.","pos":[507,663],"source":"[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>."},{"content":"The <ph id=\"ph1\">`DataContractSerializer`</ph> translates between <ph id=\"ph2\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> objects and XML (in both directions).","pos":[664,813],"source":" The `DataContractSerializer` translates between [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] objects and XML (in both directions)."},{"content":"In addition to the serializer itself, <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> includes associated schema import and schema export mechanisms.","pos":[814,971],"source":" In addition to the serializer itself, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] includes associated schema import and schema export mechanisms."},{"content":"<bpt id=\"p1\">*</bpt>Schema<ept id=\"p1\">*</ept> is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access.","pos":[972,1121],"source":"*Schema* is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access."},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms.","pos":[1122,1352],"source":"[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms."},{"pos":[1359,1659],"content":"The schema import component, <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractImporter&gt;</ph>, takes an XSD schema document and generates <ph id=\"ph2\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> classes (normally data contract classes) such that the serialized forms correspond to the given schema.","source":"The schema import component, <xref:System.Runtime.Serialization.XsdDataContractImporter>, takes an XSD schema document and generates [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] classes (normally data contract classes) such that the serialized forms correspond to the given schema."},{"content":"For example, the following schema fragment:","pos":[1666,1709]},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>c_SchemaImportExport#8<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)</ept><ept id=\"p1\">]</ept>","pos":[1716,1843],"source":"[!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>c_SchemaImportExport#8<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)</ept><ept id=\"p1\">]</ept>","pos":[1845,1973],"source":"[!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]"},{"content":"generates the following type (simplified slightly for better readability).","pos":[1980,2054]},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>c_SchemaImportExport#1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#1)</ept><ept id=\"p1\">]</ept>","pos":[2061,2188],"source":"[!code-csharp[c_SchemaImportExport#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#1)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>c_SchemaImportExport#1<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#1)</ept><ept id=\"p1\">]</ept>","pos":[2190,2318],"source":"[!code-vb[c_SchemaImportExport#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#1)]"},{"pos":[2325,2528],"content":"Note that the generated type follows several data contract best practices (found in <bpt id=\"p1\">[</bpt>Best Practices: Data Contract Versioning<ept id=\"p1\">](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)</ept>):","source":"Note that the generated type follows several data contract best practices (found in [Best Practices: Data Contract Versioning](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):"},{"content":"The type implements the <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.IExtensibleDataObject&gt;</ph> interface.","pos":[2538,2630],"source":"The type implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface."},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>Forward-Compatible Data Contracts<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)</ept>.","pos":[2631,2811],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)."},{"content":"Data members are implemented as public properties that wrap private fields.","pos":[2821,2896]},{"content":"The class is a partial class, and additions can be made without modifying generated code.","pos":[2906,2995]},{"pos":[3002,3199],"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractExporter&gt;</ph> enables you to do the reverse—take types that are serializable with the <ph id=\"ph2\">`DataContractSerializer`</ph> and generate an XSD Schema document.","source":"The <xref:System.Runtime.Serialization.XsdDataContractExporter> enables you to do the reverse—take types that are serializable with the `DataContractSerializer` and generate an XSD Schema document."},{"pos":[3208,3234],"content":"Fidelity Is Not Guaranteed","linkify":"Fidelity Is Not Guaranteed","nodes":[{"content":"Fidelity Is Not Guaranteed","pos":[0,26]}]},{"content":"It is not guaranteed that schema or types make a round trip with total fidelity.","pos":[3238,3318]},{"content":"(A <bpt id=\"p1\">*</bpt>round trip<ept id=\"p1\">*</ept> means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned.","pos":[3319,3473],"source":" (A *round trip* means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned."},{"content":"Reversing the process is also not guaranteed to preserve fidelity.","pos":[3474,3540]},{"content":"(Export a type to generate its schema, and then import the type back.","pos":[3541,3610]},{"content":"It is unlikely the same type is returned.)","pos":[3611,3653]},{"pos":[3662,3677],"content":"Supported Types","linkify":"Supported Types","nodes":[{"content":"Supported Types","pos":[0,15]}]},{"content":"The data contract model supports only a limited subset of the WC3 schema.","pos":[3681,3754]},{"content":"Any schema that does not conform to this subset will cause an exception during the import process.","pos":[3755,3853]},{"content":"For example, there is no way to specify that a data member of a data contract should be serialized as an XML attribute.","pos":[3854,3973]},{"content":"Thus, schemas that require the use of XML attributes are not supported and will cause exceptions during import, because it is impossible to generate a data contract with the correct XML projection.","pos":[3974,4171]},{"content":"For example, the following schema fragment cannot be imported using the default import settings.","pos":[4178,4274]},{"pos":[4281,4413],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>c_SchemaImportExport#9<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#9)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[c_SchemaImportExport#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#9)]"},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph> <bpt id=\"p1\">[</bpt>Data Contract Schema Reference<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)</ept>.","pos":[4421,4596],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)."},{"content":"If a schema does not conform to the data contract rules, use a different serialization engine.","pos":[4597,4691]},{"content":"For example, the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph> uses its own separate schema import mechanism.","pos":[4692,4801],"source":" For example, the <xref:System.Xml.Serialization.XmlSerializer> uses its own separate schema import mechanism."},{"content":"Also, there is a special import mode in which the range of supported schema is expanded.","pos":[4802,4890]},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph> the section about generating <ph id=\"ph2\">&lt;xref:System.Xml.Serialization.IXmlSerializable&gt;</ph> types in <bpt id=\"p1\">[</bpt>Importing Schema to Generate Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)</ept>.","pos":[4891,5165],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] the section about generating <xref:System.Xml.Serialization.IXmlSerializable> types in [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)."},{"content":"The <ph id=\"ph1\">`XsdDataContractExporter`</ph> supports any <ph id=\"ph2\">[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]</ph> types that can be serialized with the <ph id=\"ph3\">`DataContractSerializer`</ph>.","pos":[5172,5342],"source":"The `XsdDataContractExporter` supports any [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that can be serialized with the `DataContractSerializer`."},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>Types Supported by the Data Contract Serializer<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)</ept>.","pos":[5343,5551],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)."},{"content":"Note that schema generated using the <ph id=\"ph1\">`XsdDataContractExporter`</ph> is normally valid data that the <ph id=\"ph2\">`XsdDataContractImporter`</ph> can use (unless the <ph id=\"ph3\">&lt;xref:System.Xml.Serialization.XmlSchemaProviderAttribute&gt;</ph> is used to customize the schema).","pos":[5552,5785],"source":" Note that schema generated using the `XsdDataContractExporter` is normally valid data that the `XsdDataContractImporter` can use (unless the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> is used to customize the schema)."},{"pos":[5792,6050],"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> using the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.XsdDataContractImporter&gt;</ph>, see <bpt id=\"p1\">[</bpt>Importing Schema to Generate Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)</ept>.","source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] using the <xref:System.Runtime.Serialization.XsdDataContractImporter>, see [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)."},{"pos":[6057,6303],"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> using the <ph id=\"ph2\">&lt;xref:System.Runtime.Serialization.XsdDataContractExporter&gt;</ph>, see <bpt id=\"p1\">[</bpt>Exporting Schemas from Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)</ept>.","source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] using the <xref:System.Runtime.Serialization.XsdDataContractExporter>, see [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)."},{"pos":[6312,6320],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph>","pos":[6324,6382],"source":"<xref:System.Runtime.Serialization.DataContractSerializer> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractImporter&gt;</ph>","pos":[6387,6446],"source":"<xref:System.Runtime.Serialization.XsdDataContractImporter> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.XsdDataContractExporter&gt;</ph>","pos":[6451,6510],"source":"<xref:System.Runtime.Serialization.XsdDataContractExporter> "},{"content":"<bpt id=\"p1\">[</bpt>Importing Schema to Generate Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)</ept><ph id=\"ph1\"> </ph>","pos":[6515,6642],"source":"[Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md) "},{"content":"<bpt id=\"p1\">[</bpt>Exporting Schemas from Classes<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)</ept>","pos":[6646,6760],"source":"[Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)"}]}