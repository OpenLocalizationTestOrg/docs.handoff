{"content":"---\ntitle: \"Using Portable Class Library with Model-View-View Model\"\nms.date: \"07/18/2018\"\nms.technology: dotnet-standard\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"Portable Class Library [.NET Framework], and MVVM\"\n  - \"MVVM, and Portable Class Library\"\nms.assetid: 41a0b9f8-15a2-431a-bc35-e310b2953b03\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Using Portable Class Library with Model-View-View Model\nYou can use the .NET Framework [Portable Class Library](../../../docs/standard/cross-platform/cross-platform-development-with-the-portable-class-library.md) to implement the Model-View-View Model (MVVM) pattern and share assemblies across multiple platforms.\n\n[!INCLUDE[standard](../../../includes/pcl-to-standard.md)]\n\n MVVM is an application pattern that isolates the user interface from the underlying business logic. You can implement the model and view model classes in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project in Visual Studio 2012, and then create views that are customized for different platforms. This approach enables you to write the data model and business logic only once, and use that code from .NET Framework, Silverlight, Windows Phone, and [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps, as shown in the following illustration.\n\n ![Portable with MVVM diagram](../../../docs/standard/cross-platform/media/portablemvvmdiagram.png \"PortableMVVMdiagram\")\n\n This topic does not provide general information about the MVVM pattern. It only provides information about how to use [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] to implement MVVM. For more information about MVVM, see the [MVVM Quickstart Using the Prism Library 5.0 for WPF](https://docs.microsoft.com/previous-versions/msp-n-p/gg430857(v=pandp.40)).\n\n## Classes That Support MVVM\n When you target the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], [!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)], Silverlight, or Windows Phone 7.5 for your [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project, the following classes are available for implementing the MVVM pattern:\n\n-   <xref:System.Collections.ObjectModel.ObservableCollection%601?displayProperty=nameWithType> class\n\n-   <xref:System.Collections.ObjectModel.ReadOnlyObservableCollection%601?displayProperty=nameWithType> class\n\n-   <xref:System.Collections.Specialized.INotifyCollectionChanged?displayProperty=nameWithType> class\n\n-   <xref:System.Collections.Specialized.NotifyCollectionChangedAction?displayProperty=nameWithType> class\n\n-   <xref:System.Collections.Specialized.NotifyCollectionChangedEventArgs?displayProperty=nameWithType> class\n\n-   <xref:System.Collections.Specialized.NotifyCollectionChangedEventHandler?displayProperty=nameWithType> class\n\n-   <xref:System.ComponentModel.DataErrorsChangedEventArgs?displayProperty=nameWithType> class\n\n-   <xref:System.ComponentModel.INotifyDataErrorInfo?displayProperty=nameWithType> class\n\n-   <xref:System.ComponentModel.INotifyPropertyChanged?displayProperty=nameWithType> class\n\n-   <xref:System.Windows.Input.ICommand?displayProperty=nameWithType> class\n\n-   All classes in the <xref:System.ComponentModel.DataAnnotations?displayProperty=nameWithType> namespace\n\n## Implementing MVVM\n To implement MVVM, you typically create both the model and the view model in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project, because a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project cannot reference a non-portable project. The model and view model can be in the same project or in separate projects. If you use separate projects, add a reference from the view model project to the model project.\n\n After you compile the model and view model projects, you reference those assemblies in the app that contains the view. If the view interacts only with the view model, you only have to reference the assembly that contains the view model.\n\n### Model\n The following example shows a simplified model class that could reside in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project.\n\n [!code-csharp[PortableClassLibraryMVVM#1](../../../samples/snippets/csharp/VS_Snippets_CLR/portableclasslibrarymvvm/cs/customer.cs#1)]\n [!code-vb[PortableClassLibraryMVVM#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/portableclasslibrarymvvm/vb/customer.vb#1)]\n\n The following example shows a simple way to populate, retrieve, and update the data in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project. In a real app, you would retrieve the data from a source such as a Windows Communication Foundation (WCF) service.\n\n [!code-csharp[PortableClassLibraryMVVM#2](../../../samples/snippets/csharp/VS_Snippets_CLR/portableclasslibrarymvvm/cs/customerrepository.cs#2)]\n [!code-vb[PortableClassLibraryMVVM#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/portableclasslibrarymvvm/vb/customerrepository.vb#2)]\n\n### View Model\n A base class for view models is frequently added when implementing the MVVM pattern. The following example shows a base class.\n\n [!code-csharp[PortableClassLibraryMVVM#3](../../../samples/snippets/csharp/VS_Snippets_CLR/portableclasslibrarymvvm/cs/viewmodelbase.cs#3)]\n [!code-vb[PortableClassLibraryMVVM#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/portableclasslibrarymvvm/vb/viewmodelbase.vb#3)]\n\n An implementation of the <xref:System.Windows.Input.ICommand> interface is frequently used with the MVVM pattern. The following example shows an implementation of the <xref:System.Windows.Input.ICommand> interface.\n\n [!code-csharp[PortableClassLibraryMVVM#4](../../../samples/snippets/csharp/VS_Snippets_CLR/portableclasslibrarymvvm/cs/relaycommand.cs#4)]\n [!code-vb[PortableClassLibraryMVVM#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/portableclasslibrarymvvm/vb/relaycommand.vb#4)]\n\n The following example shows a simplified view model.\n\n [!code-csharp[PortableClassLibraryMVVM#5](../../../samples/snippets/csharp/VS_Snippets_CLR/portableclasslibrarymvvm/cs/mainpageviewmodel.cs#5)]\n [!code-vb[PortableClassLibraryMVVM#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/portableclasslibrarymvvm/vb/customerviewmodel.vb#5)]  \n  \n### View  \n From a [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] app, [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] app, Silverlight-based app, or Windows Phone 7.5 app, you can reference the assembly that contains the model and view model projects.  You then create a view that interacts with the view model. The following example shows a simplified Windows Presentation Foundation (WPF) app that retrieves and updates data from the view model. You could create similar views in Silverlight, Windows Phone, or [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps.  \n  \n [!code-xaml[PortableClassLibraryMVVM#6](../../../samples/snippets/csharp/VS_Snippets_CLR/portableclasslibrarymvvm/cs/mainwindow.xaml#6)]  \n  \n## See also\n\n- [Portable Class Library](../../../docs/standard/cross-platform/cross-platform-development-with-the-portable-class-library.md)\n","nodes":[{"pos":[4,356],"embed":true,"restype":"x-metadata","content":"title: \"Using Portable Class Library with Model-View-View Model\"\nms.date: \"07/18/2018\"\nms.technology: dotnet-standard\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords:\n  - \"Portable Class Library [.NET Framework], and MVVM\"\n  - \"MVVM, and Portable Class Library\"\nms.assetid: 41a0b9f8-15a2-431a-bc35-e310b2953b03\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Using Portable Class Library with Model-View-View Model","nodes":[{"pos":[0,55],"content":"Using Portable Class Library with Model-View-View Model","nodes":[{"content":"Using Portable Class Library with Model-View-View Model","pos":[0,55]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[363,418],"content":"Using Portable Class Library with Model-View-View Model","linkify":"Using Portable Class Library with Model-View-View Model","nodes":[{"content":"Using Portable Class Library with Model-View-View Model","pos":[0,55]}]},{"pos":[419,677],"content":"You can use the .NET Framework <bpt id=\"p1\">[</bpt>Portable Class Library<ept id=\"p1\">](../../../docs/standard/cross-platform/cross-platform-development-with-the-portable-class-library.md)</ept> to implement the Model-View-View Model (MVVM) pattern and share assemblies across multiple platforms.","source":"You can use the .NET Framework [Portable Class Library](../../../docs/standard/cross-platform/cross-platform-development-with-the-portable-class-library.md) to implement the Model-View-View Model (MVVM) pattern and share assemblies across multiple platforms."},{"content":"MVVM is an application pattern that isolates the user interface from the underlying business logic.","pos":[740,839]},{"content":"You can implement the model and view model classes in a <ph id=\"ph1\">[!INCLUDE[net_portable](../../../includes/net-portable-md.md)]</ph> project in Visual Studio 2012, and then create views that are customized for different platforms.","pos":[840,1056],"source":" You can implement the model and view model classes in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project in Visual Studio 2012, and then create views that are customized for different platforms."},{"content":"This approach enables you to write the data model and business logic only once, and use that code from .NET Framework, Silverlight, Windows Phone, and <ph id=\"ph1\">[!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)]</ph> apps, as shown in the following illustration.","pos":[1057,1326],"source":" This approach enables you to write the data model and business logic only once, and use that code from .NET Framework, Silverlight, Windows Phone, and [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps, as shown in the following illustration."},{"pos":[1329,1449],"content":"<bpt id=\"p1\">![</bpt>Portable with MVVM diagram<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/standard/cross-platform/media/portablemvvmdiagram.png \"</bpt>PortableMVVMdiagram<ept id=\"p2\">\")</ept>","source":"![Portable with MVVM diagram](../../../docs/standard/cross-platform/media/portablemvvmdiagram.png \"PortableMVVMdiagram\")"},{"content":"This topic does not provide general information about the MVVM pattern.","pos":[1452,1523]},{"content":"It only provides information about how to use <ph id=\"ph1\">[!INCLUDE[net_portable](../../../includes/net-portable-md.md)]</ph> to implement MVVM.","pos":[1524,1651],"source":" It only provides information about how to use [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] to implement MVVM."},{"content":"For more information about MVVM, see the <bpt id=\"p1\">[</bpt>MVVM Quickstart Using the Prism Library 5.0 for WPF<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/msp-n-p/gg430857(v=pandp.40))</ept>.","pos":[1652,1822],"source":" For more information about MVVM, see the [MVVM Quickstart Using the Prism Library 5.0 for WPF](https://docs.microsoft.com/previous-versions/msp-n-p/gg430857(v=pandp.40))."},{"pos":[1827,1852],"content":"Classes That Support MVVM","linkify":"Classes That Support MVVM","nodes":[{"content":"Classes That Support MVVM","pos":[0,25]}]},{"pos":[1854,2185],"content":"When you target the <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph>, <ph id=\"ph2\">[!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)]</ph>, Silverlight, or Windows Phone 7.5 for your <ph id=\"ph3\">[!INCLUDE[net_portable](../../../includes/net-portable-md.md)]</ph> project, the following classes are available for implementing the MVVM pattern:","source":"When you target the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], [!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)], Silverlight, or Windows Phone 7.5 for your [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project, the following classes are available for implementing the MVVM pattern:"},{"pos":[2191,2288],"content":"<ph id=\"ph1\">&lt;xref:System.Collections.ObjectModel.ObservableCollection%601?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.Collections.ObjectModel.ObservableCollection%601?displayProperty=nameWithType> class"},{"pos":[2294,2399],"content":"<ph id=\"ph1\">&lt;xref:System.Collections.ObjectModel.ReadOnlyObservableCollection%601?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.Collections.ObjectModel.ReadOnlyObservableCollection%601?displayProperty=nameWithType> class"},{"pos":[2405,2502],"content":"<ph id=\"ph1\">&lt;xref:System.Collections.Specialized.INotifyCollectionChanged?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.Collections.Specialized.INotifyCollectionChanged?displayProperty=nameWithType> class"},{"pos":[2508,2610],"content":"<ph id=\"ph1\">&lt;xref:System.Collections.Specialized.NotifyCollectionChangedAction?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.Collections.Specialized.NotifyCollectionChangedAction?displayProperty=nameWithType> class"},{"pos":[2616,2721],"content":"<ph id=\"ph1\">&lt;xref:System.Collections.Specialized.NotifyCollectionChangedEventArgs?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.Collections.Specialized.NotifyCollectionChangedEventArgs?displayProperty=nameWithType> class"},{"pos":[2727,2835],"content":"<ph id=\"ph1\">&lt;xref:System.Collections.Specialized.NotifyCollectionChangedEventHandler?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.Collections.Specialized.NotifyCollectionChangedEventHandler?displayProperty=nameWithType> class"},{"pos":[2841,2931],"content":"<ph id=\"ph1\">&lt;xref:System.ComponentModel.DataErrorsChangedEventArgs?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.ComponentModel.DataErrorsChangedEventArgs?displayProperty=nameWithType> class"},{"pos":[2937,3021],"content":"<ph id=\"ph1\">&lt;xref:System.ComponentModel.INotifyDataErrorInfo?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.ComponentModel.INotifyDataErrorInfo?displayProperty=nameWithType> class"},{"pos":[3027,3113],"content":"<ph id=\"ph1\">&lt;xref:System.ComponentModel.INotifyPropertyChanged?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.ComponentModel.INotifyPropertyChanged?displayProperty=nameWithType> class"},{"pos":[3119,3190],"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Input.ICommand?displayProperty=nameWithType&gt;</ph> class","source":"<xref:System.Windows.Input.ICommand?displayProperty=nameWithType> class"},{"pos":[3196,3298],"content":"All classes in the <ph id=\"ph1\">&lt;xref:System.ComponentModel.DataAnnotations?displayProperty=nameWithType&gt;</ph> namespace","source":"All classes in the <xref:System.ComponentModel.DataAnnotations?displayProperty=nameWithType> namespace"},{"pos":[3303,3320],"content":"Implementing MVVM","linkify":"Implementing MVVM","nodes":[{"content":"Implementing MVVM","pos":[0,17]}]},{"content":"To implement MVVM, you typically create both the model and the view model in a <ph id=\"ph1\">[!INCLUDE[net_portable](../../../includes/net-portable-md.md)]</ph> project, because a <ph id=\"ph2\">[!INCLUDE[net_portable](../../../includes/net-portable-md.md)]</ph> project cannot reference a non-portable project.","pos":[3322,3594],"source":"To implement MVVM, you typically create both the model and the view model in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project, because a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project cannot reference a non-portable project."},{"content":"The model and view model can be in the same project or in separate projects.","pos":[3595,3671]},{"content":"If you use separate projects, add a reference from the view model project to the model project.","pos":[3672,3767]},{"content":"After you compile the model and view model projects, you reference those assemblies in the app that contains the view.","pos":[3770,3888]},{"content":"If the view interacts only with the view model, you only have to reference the assembly that contains the view model.","pos":[3889,4006]},{"pos":[4012,4017],"content":"Model","linkify":"Model","nodes":[{"content":"Model","pos":[0,5]}]},{"pos":[4019,4166],"content":"The following example shows a simplified model class that could reside in a <ph id=\"ph1\">[!INCLUDE[net_portable](../../../includes/net-portable-md.md)]</ph> project.","source":"The following example shows a simplified model class that could reside in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project."},{"content":"The following example shows a simple way to populate, retrieve, and update the data in a <ph id=\"ph1\">[!INCLUDE[net_portable](../../../includes/net-portable-md.md)]</ph> project.","pos":[4443,4603],"source":"The following example shows a simple way to populate, retrieve, and update the data in a [!INCLUDE[net_portable](../../../includes/net-portable-md.md)] project."},{"content":"In a real app, you would retrieve the data from a source such as a Windows Communication Foundation (WCF) service.","pos":[4604,4718]},{"pos":[5018,5028],"content":"View Model","linkify":"View Model","nodes":[{"content":"View Model","pos":[0,10]}]},{"content":"A base class for view models is frequently added when implementing the MVVM pattern.","pos":[5030,5114]},{"content":"The following example shows a base class.","pos":[5115,5156]},{"content":"An implementation of the <ph id=\"ph1\">&lt;xref:System.Windows.Input.ICommand&gt;</ph> interface is frequently used with the MVVM pattern.","pos":[5443,5556],"source":"An implementation of the <xref:System.Windows.Input.ICommand> interface is frequently used with the MVVM pattern."},{"content":"The following example shows an implementation of the <ph id=\"ph1\">&lt;xref:System.Windows.Input.ICommand&gt;</ph> interface.","pos":[5557,5657],"source":" The following example shows an implementation of the <xref:System.Windows.Input.ICommand> interface."},{"content":"The following example shows a simplified view model.","pos":[5942,5994]},{"pos":[6296,6300],"content":"View","linkify":"View","nodes":[{"content":"View","pos":[0,4]}]},{"content":"From a <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph> app, <ph id=\"ph2\">[!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)]</ph> app, Silverlight-based app, or Windows Phone 7.5 app, you can reference the assembly that contains the model and view model projects.","pos":[6304,6575],"source":"From a [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] app, [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] app, Silverlight-based app, or Windows Phone 7.5 app, you can reference the assembly that contains the model and view model projects."},{"content":"You then create a view that interacts with the view model.","pos":[6577,6635]},{"content":"The following example shows a simplified Windows Presentation Foundation (WPF) app that retrieves and updates data from the view model.","pos":[6636,6771]},{"content":"You could create similar views in Silverlight, Windows Phone, or <ph id=\"ph1\">[!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)]</ph> apps.","pos":[6772,6915],"source":" You could create similar views in Silverlight, Windows Phone, or [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps."},{"pos":[7067,7075],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7079,7204],"content":"<bpt id=\"p1\">[</bpt>Portable Class Library<ept id=\"p1\">](../../../docs/standard/cross-platform/cross-platform-development-with-the-portable-class-library.md)</ept>","source":"[Portable Class Library](../../../docs/standard/cross-platform/cross-platform-development-with-the-portable-class-library.md)"}]}