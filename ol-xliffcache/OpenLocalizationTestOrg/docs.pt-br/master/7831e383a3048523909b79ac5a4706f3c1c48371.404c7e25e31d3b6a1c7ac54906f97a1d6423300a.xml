{"content":"---\ntitle: \"Optimization for Shared Web Hosting\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"garbage collection, Web hosting\"\n  - \"garbage collection, optimizing\"\n  - \"garbage collection, shared Web hosting\"\nms.assetid: be98c0ab-7ef8-409f-8a0d-cb6e5b75ff20\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# Optimization for Shared Web Hosting\nIf you are the administrator for a server that is shared by hosting several small Web sites, you can optimize performance and increase site capacity by adding the following `gcTrimCommitOnLowMemory` setting to the `runtime` node in the Aspnet.config file in the .NET directory:  \n  \n `<gcTrimCommitOnLowMemory enabled=\"true|false\"/>`  \n  \n> [!NOTE]\n>  This setting is recommended only for shared Web hosting scenarios.  \n  \n Because the garbage collector retains memory for future allocations, its committed space can be more than what is strictly needed. You can reduce this space to accommodate times when there is a heavy load on system memory. Reducing this committed space improves performance and expands the capacity to host more sites.  \n  \n When the `gcTrimCommitOnLowMemory` setting is enabled, the garbage collector evaluates the system memory load and enters a trimming mode when the load reaches 90%. It maintains the trimming mode until the load drops under 85%.  \n  \n When conditions permit, the garbage collector can decide that the `gcTrimCommitOnLowMemory` setting will not help the current application and ignore it.  \n  \n## Example  \n The following XML fragment shows how to enable the `gcTrimCommitOnLowMemory` setting. Ellipses indicate other settings that would be in the `runtime` node.  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"UTF-8\"?>  \n<configuration>  \n    <runtime>  \n    . . .  \n    <gcTrimCommitOnLowMemory enabled=\"true\"/>  \n    </runtime>  \n    . . .  \n</configuration>  \n```  \n  \n## See also\n\n- [Garbage Collection](../../../docs/standard/garbage-collection/index.md)\n","nodes":[{"pos":[4,332],"embed":true,"restype":"x-metadata","content":"title: \"Optimization for Shared Web Hosting\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"garbage collection, Web hosting\"\n  - \"garbage collection, optimizing\"\n  - \"garbage collection, shared Web hosting\"\nms.assetid: be98c0ab-7ef8-409f-8a0d-cb6e5b75ff20\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"Optimization for Shared Web Hosting","nodes":[{"pos":[0,35],"content":"Optimization for Shared Web Hosting","nodes":[{"content":"Optimization for Shared Web Hosting","pos":[0,35]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[339,374],"content":"Optimization for Shared Web Hosting","linkify":"Optimization for Shared Web Hosting","nodes":[{"content":"Optimization for Shared Web Hosting","pos":[0,35]}]},{"pos":[375,652],"content":"If you are the administrator for a server that is shared by hosting several small Web sites, you can optimize performance and increase site capacity by adding the following <ph id=\"ph1\">`gcTrimCommitOnLowMemory`</ph> setting to the <ph id=\"ph2\">`runtime`</ph> node in the Aspnet.config file in the .NET directory:","source":"If you are the administrator for a server that is shared by hosting several small Web sites, you can optimize performance and increase site capacity by adding the following `gcTrimCommitOnLowMemory` setting to the `runtime` node in the Aspnet.config file in the .NET directory:"},{"pos":[716,793],"content":"[!NOTE]\n This setting is recommended only for shared Web hosting scenarios.","leadings":["","> "],"nodes":[{"content":"This setting is recommended only for shared Web hosting scenarios.","pos":[9,75]}]},{"content":"Because the garbage collector retains memory for future allocations, its committed space can be more than what is strictly needed.","pos":[800,930]},{"content":"You can reduce this space to accommodate times when there is a heavy load on system memory.","pos":[931,1022]},{"content":"Reducing this committed space improves performance and expands the capacity to host more sites.","pos":[1023,1118]},{"content":"When the <ph id=\"ph1\">`gcTrimCommitOnLowMemory`</ph> setting is enabled, the garbage collector evaluates the system memory load and enters a trimming mode when the load reaches 90%.","pos":[1125,1288],"source":"When the `gcTrimCommitOnLowMemory` setting is enabled, the garbage collector evaluates the system memory load and enters a trimming mode when the load reaches 90%."},{"content":"It maintains the trimming mode until the load drops under 85%.","pos":[1289,1351]},{"pos":[1358,1510],"content":"When conditions permit, the garbage collector can decide that the <ph id=\"ph1\">`gcTrimCommitOnLowMemory`</ph> setting will not help the current application and ignore it.","source":"When conditions permit, the garbage collector can decide that the `gcTrimCommitOnLowMemory` setting will not help the current application and ignore it."},{"pos":[1519,1526],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XML fragment shows how to enable the <ph id=\"ph1\">`gcTrimCommitOnLowMemory`</ph> setting.","pos":[1530,1615],"source":"The following XML fragment shows how to enable the `gcTrimCommitOnLowMemory` setting."},{"content":"Ellipses indicate other settings that would be in the <ph id=\"ph1\">`runtime`</ph> node.","pos":[1616,1685],"source":" Ellipses indicate other settings that would be in the `runtime` node."},{"pos":[1895,1903],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1907,1979],"content":"<bpt id=\"p1\">[</bpt>Garbage Collection<ept id=\"p1\">](../../../docs/standard/garbage-collection/index.md)</ept>","source":"[Garbage Collection](../../../docs/standard/garbage-collection/index.md)"}]}