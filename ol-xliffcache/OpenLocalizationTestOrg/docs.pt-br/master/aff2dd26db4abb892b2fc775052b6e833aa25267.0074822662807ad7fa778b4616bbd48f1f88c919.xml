{"content":"---\ntitle: \"Enhancing Debugging with the Debugger Display Attributes\"\nms.date: \"03/30/2017\"\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords:\n  - \"debugger, display attributes\"\n  - \"DebuggerTypeProxyAttribute attribute\"\n  - \"debugging [.NET Framework], debugger display attributes\"\n  - \"DebuggerDisplayAttribute attribute\"\n  - \"display attributes for debugger\"\n  - \"DebuggerBrowsableAttribute attribute\"\nms.assetid: 72bb7aa9-459b-42c4-9163-9312fab4c410\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Enhancing Debugging with the Debugger Display Attributes\n\nDebugger display attributes allow the developer of the type, who specifies and best understands the runtime behavior of that type, to also specify what that type will look like when it is displayed in a debugger. In addition, debugger display attributes that provide a `Target` property can be applied at the assembly level by users without knowledge of the source code. The <xref:System.Diagnostics.DebuggerDisplayAttribute> attribute controls how a type or member is displayed in the debugger variable windows. The <xref:System.Diagnostics.DebuggerBrowsableAttribute> attribute determines if and how a field or property is displayed in the debugger variable windows. The <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attribute specifies a substitute type, or a proxy, for a type and changes the way the type is displayed in debugger windows. When you view a variable that has a proxy, or substitute type, the proxy stands in for the original type in the debugger display window. The debugger variable window displays only the public members of the proxy type. Private members are not displayed.  \n  \n## Using the DebuggerDisplayAttribute  \n\nThe <xref:System.Diagnostics.DebuggerDisplayAttribute.%23ctor%2A> constructor has a single argument: a string to be displayed in the value column for instances of the type. This string can contain braces ({ and }). The text within a pair of braces is evaluated as an expression. For example, the following C# code causes \"Count = 4\" to be displayed when the plus sign (+) is selected to expand the debugger display for an instance of `MyHashtable`.  \n\n```csharp\n[DebuggerDisplay(\"Count = {count}\")]\nclass MyHashtable\n{\n    public int count = 4;\n}\n```\n\nAttributes applied to properties referenced in the expression are not processed. For the C# compiler, a general expression is allowed that has only implicit access to this reference for the current instance of the target type. The expression is limited; there is no access to aliases, locals, or pointers. In C# code, you can use a general expression between the braces that has implicit access to the `this` pointer for the current instance of the target type only.\n\nFor example, if a C# object has an overridden `ToString()`, the debugger will call the override and show its result instead of the standard `{<typeName>}.` Thus, if you have overridden `ToString()`, you do not need to use <xref:System.Diagnostics.DebuggerDisplayAttribute>. If you use both, the <xref:System.Diagnostics.DebuggerDisplayAttribute> attribute takes precedence over the `ToString()` override.\n\n## Using the DebuggerBrowsableAttribute\n Apply the <xref:System.Diagnostics.DebuggerBrowsableAttribute> to a field or property to specify how the field or property is to be displayed in the debugger window. The constructor for this attribute takes one of the <xref:System.Diagnostics.DebuggerBrowsableState> enumeration values, which specifies one of the following states:\n\n-   <xref:System.Diagnostics.DebuggerBrowsableState.Never> indicates that the member is not displayed in the data window.  For example, using this value for the <xref:System.Diagnostics.DebuggerBrowsableAttribute> on a field removes the field from the hierarchy; the field is not displayed when you expand the enclosing type by clicking the plus sign (+) for the type instance.\n\n-   <xref:System.Diagnostics.DebuggerBrowsableState.Collapsed> indicates that the member is displayed but not expanded by default.  This is the default behavior.\n\n-   <xref:System.Diagnostics.DebuggerBrowsableState.RootHidden> indicates that the member itself is not shown, but its constituent objects are displayed if it is an array or collection.\n\n> [!NOTE]\n>  The <xref:System.Diagnostics.DebuggerBrowsableAttribute> is not supported by Visual Basic in the .NET Framework version 2.0.\n\nThe following code example shows the use of the <xref:System.Diagnostics.DebuggerBrowsableAttribute> to prevent the property following it from appearing in the debug window for the class.\n\n```csharp\n[DebuggerBrowsable(DebuggerBrowsableState.Never)]\npublic static string y = \"Test String\";\n```\n\n## Using the DebuggerTypeProxy\n Use the <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attribute when you need to significantly and fundamentally change the debugging view of a type, but not change the type itself. The <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attribute is used to specify a display proxy for a type, allowing a developer to tailor the view for the type.  This attribute, like the <xref:System.Diagnostics.DebuggerDisplayAttribute>, can be used at the assembly level, in which case the <xref:System.Diagnostics.DebuggerTypeProxyAttribute.Target%2A> property specifies the type for which the proxy will be used. The recommended usage is that this attribute specifies a private nested type that occurs within the type to which the attribute is applied.  An expression evaluator that supports type viewers checks for this attribute when a type is displayed. If the attribute is found, the expression evaluator substitutes the display proxy type for the type the attribute is applied to.\n\n When the <xref:System.Diagnostics.DebuggerTypeProxyAttribute> is present, the debugger variable window displays only the public members of the proxy type. Private members are not displayed. The behavior of the data window is not changed by attribute-enhanced views.\n\n To avoid unnecessary performance penalties, attributes of the display proxy are not processed until the object is expanded, either through the user clicking the plus sign (+) next to the type in a data window, or through the application of the <xref:System.Diagnostics.DebuggerBrowsableAttribute> attribute. Therefore, it is recommended that no attributes be applied to the display type. Attributes can and should be applied within the body of the display type.\n\n The following code example shows the use of the <xref:System.Diagnostics.DebuggerTypeProxyAttribute> to specify a type to be used as a debugger display proxy.\n\n```csharp\n[DebuggerTypeProxy(typeof(HashtableDebugView))]\nclass MyHashtable : Hashtable\n{\n    private const string TestString =\n        \"This should not appear in the debug window.\";\n\n    internal class HashtableDebugView\n    {\n        private Hashtable hashtable;\n        public const string TestStringProxy =\n            \"This should appear in the debug window.\";\n\n        // The constructor for the type proxy class must have a\n        // constructor that takes the target type as a parameter.\n        public HashtableDebugView(Hashtable hashtable)\n        {\n            this.hashtable = hashtable;\n        }\n    }\n}\n```\n\n## Example\n\n### Description\n\nThe following code example can be viewed in Visual Studio to see the results of applying the <xref:System.Diagnostics.DebuggerDisplayAttribute>, <xref:System.Diagnostics.DebuggerBrowsableAttribute>, and <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attributes.\n\n### Code\n\n[!code-cpp[System.Diagnostics.DebuggerBrowsableAttribute#1](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.DebuggerBrowsableAttribute/cpp/program.cpp#1)]\n[!code-csharp[System.Diagnostics.DebuggerBrowsableAttribute#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.DebuggerBrowsableAttribute/CS/program.cs#1)]\n[!code-vb[System.Diagnostics.DebuggerBrowsableAttribute#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.DebuggerBrowsableAttribute/VB/module1.vb#1)]\n\n## See also\n\n- <xref:System.Diagnostics.DebuggerDisplayAttribute>\n- <xref:System.Diagnostics.DebuggerBrowsableAttribute>\n- <xref:System.Diagnostics.DebuggerTypeProxyAttribute>","nodes":[{"pos":[4,503],"embed":true,"restype":"x-metadata","content":"title: \"Enhancing Debugging with the Debugger Display Attributes\"\nms.date: \"03/30/2017\"\ndev_langs:\n  - \"csharp\"\n  - \"vb\"\n  - \"cpp\"\nhelpviewer_keywords:\n  - \"debugger, display attributes\"\n  - \"DebuggerTypeProxyAttribute attribute\"\n  - \"debugging [.NET Framework], debugger display attributes\"\n  - \"DebuggerDisplayAttribute attribute\"\n  - \"display attributes for debugger\"\n  - \"DebuggerBrowsableAttribute attribute\"\nms.assetid: 72bb7aa9-459b-42c4-9163-9312fab4c410\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Enhancing Debugging with the Debugger Display Attributes","nodes":[{"pos":[0,56],"content":"Enhancing Debugging with the Debugger Display Attributes","nodes":[{"content":"Enhancing Debugging with the Debugger Display Attributes","pos":[0,56]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[510,566],"content":"Enhancing Debugging with the Debugger Display Attributes","linkify":"Enhancing Debugging with the Debugger Display Attributes","nodes":[{"content":"Enhancing Debugging with the Debugger Display Attributes","pos":[0,56]}]},{"content":"Debugger display attributes allow the developer of the type, who specifies and best understands the runtime behavior of that type, to also specify what that type will look like when it is displayed in a debugger.","pos":[568,780]},{"content":"In addition, debugger display attributes that provide a <ph id=\"ph1\">`Target`</ph> property can be applied at the assembly level by users without knowledge of the source code.","pos":[781,938],"source":" In addition, debugger display attributes that provide a `Target` property can be applied at the assembly level by users without knowledge of the source code."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerDisplayAttribute&gt;</ph> attribute controls how a type or member is displayed in the debugger variable windows.","pos":[939,1080],"source":" The <xref:System.Diagnostics.DebuggerDisplayAttribute> attribute controls how a type or member is displayed in the debugger variable windows."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableAttribute&gt;</ph> attribute determines if and how a field or property is displayed in the debugger variable windows.","pos":[1081,1236],"source":" The <xref:System.Diagnostics.DebuggerBrowsableAttribute> attribute determines if and how a field or property is displayed in the debugger variable windows."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerTypeProxyAttribute&gt;</ph> attribute specifies a substitute type, or a proxy, for a type and changes the way the type is displayed in debugger windows.","pos":[1237,1418],"source":" The <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attribute specifies a substitute type, or a proxy, for a type and changes the way the type is displayed in debugger windows."},{"content":"When you view a variable that has a proxy, or substitute type, the proxy stands in for the original type in the debugger display window.","pos":[1419,1555]},{"content":"The debugger variable window displays only the public members of the proxy type.","pos":[1556,1636]},{"content":"Private members are not displayed.","pos":[1637,1671]},{"pos":[1680,1714],"content":"Using the DebuggerDisplayAttribute","linkify":"Using the DebuggerDisplayAttribute","nodes":[{"content":"Using the DebuggerDisplayAttribute","pos":[0,34]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerDisplayAttribute.%23ctor%2A&gt;</ph> constructor has a single argument: a string to be displayed in the value column for instances of the type.","pos":[1718,1890],"source":"The <xref:System.Diagnostics.DebuggerDisplayAttribute.%23ctor%2A> constructor has a single argument: a string to be displayed in the value column for instances of the type."},{"content":"This string can contain braces ({ and }).","pos":[1891,1932]},{"content":"The text within a pair of braces is evaluated as an expression.","pos":[1933,1996]},{"content":"For example, the following C# code causes \"Count = 4\" to be displayed when the plus sign (+) is selected to expand the debugger display for an instance of <ph id=\"ph1\">`MyHashtable`</ph>.","pos":[1997,2166],"source":" For example, the following C# code causes \"Count = 4\" to be displayed when the plus sign (+) is selected to expand the debugger display for an instance of `MyHashtable`."},{"content":"Attributes applied to properties referenced in the expression are not processed.","pos":[2270,2350]},{"content":"For the C# compiler, a general expression is allowed that has only implicit access to this reference for the current instance of the target type.","pos":[2351,2496]},{"content":"The expression is limited; there is no access to aliases, locals, or pointers.","pos":[2497,2575]},{"content":"In C# code, you can use a general expression between the braces that has implicit access to the <ph id=\"ph1\">`this`</ph> pointer for the current instance of the target type only.","pos":[2576,2736],"source":" In C# code, you can use a general expression between the braces that has implicit access to the `this` pointer for the current instance of the target type only."},{"content":"For example, if a C# object has an overridden <ph id=\"ph1\">`ToString()`</ph>, the debugger will call the override and show its result instead of the standard <ph id=\"ph2\">`{&lt;typeName&gt;}.`</ph> Thus, if you have overridden <ph id=\"ph3\">`ToString()`</ph>, you do not need to use <ph id=\"ph4\">&lt;xref:System.Diagnostics.DebuggerDisplayAttribute&gt;</ph>.","pos":[2738,3011],"source":"For example, if a C# object has an overridden `ToString()`, the debugger will call the override and show its result instead of the standard `{<typeName>}.` Thus, if you have overridden `ToString()`, you do not need to use <xref:System.Diagnostics.DebuggerDisplayAttribute>."},{"content":"If you use both, the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerDisplayAttribute&gt;</ph> attribute takes precedence over the <ph id=\"ph2\">`ToString()`</ph> override.","pos":[3012,3142],"source":" If you use both, the <xref:System.Diagnostics.DebuggerDisplayAttribute> attribute takes precedence over the `ToString()` override."},{"pos":[3147,3183],"content":"Using the DebuggerBrowsableAttribute","linkify":"Using the DebuggerBrowsableAttribute","nodes":[{"content":"Using the DebuggerBrowsableAttribute","pos":[0,36]}]},{"content":"Apply the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableAttribute&gt;</ph> to a field or property to specify how the field or property is to be displayed in the debugger window.","pos":[3185,3350],"source":"Apply the <xref:System.Diagnostics.DebuggerBrowsableAttribute> to a field or property to specify how the field or property is to be displayed in the debugger window."},{"content":"The constructor for this attribute takes one of the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableState&gt;</ph> enumeration values, which specifies one of the following states:","pos":[3351,3516],"source":" The constructor for this attribute takes one of the <xref:System.Diagnostics.DebuggerBrowsableState> enumeration values, which specifies one of the following states:"},{"content":"<ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableState.Never&gt;</ph> indicates that the member is not displayed in the data window.","pos":[3522,3639],"source":"<xref:System.Diagnostics.DebuggerBrowsableState.Never> indicates that the member is not displayed in the data window."},{"content":"For example, using this value for the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableAttribute&gt;</ph> on a field removes the field from the hierarchy; the field is not displayed when you expand the enclosing type by clicking the plus sign (+) for the type instance.","pos":[3641,3895],"source":"  For example, using this value for the <xref:System.Diagnostics.DebuggerBrowsableAttribute> on a field removes the field from the hierarchy; the field is not displayed when you expand the enclosing type by clicking the plus sign (+) for the type instance."},{"content":"<ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableState.Collapsed&gt;</ph> indicates that the member is displayed but not expanded by default.","pos":[3901,4027],"source":"<xref:System.Diagnostics.DebuggerBrowsableState.Collapsed> indicates that the member is displayed but not expanded by default."},{"content":"This is the default behavior.","pos":[4029,4058]},{"pos":[4064,4245],"content":"<ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableState.RootHidden&gt;</ph> indicates that the member itself is not shown, but its constituent objects are displayed if it is an array or collection.","source":"<xref:System.Diagnostics.DebuggerBrowsableState.RootHidden> indicates that the member itself is not shown, but its constituent objects are displayed if it is an array or collection."},{"pos":[4249,4384],"content":"[!NOTE]\n The <xref:System.Diagnostics.DebuggerBrowsableAttribute> is not supported by Visual Basic in the .NET Framework version 2.0.","leadings":["","> "],"nodes":[{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableAttribute&gt;</ph> is not supported by Visual Basic in the .NET Framework version 2.0.","pos":[9,133],"source":"The <xref:System.Diagnostics.DebuggerBrowsableAttribute> is not supported by Visual Basic in the .NET Framework version 2.0."}]},{"pos":[4386,4573],"content":"The following code example shows the use of the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableAttribute&gt;</ph> to prevent the property following it from appearing in the debug window for the class.","source":"The following code example shows the use of the <xref:System.Diagnostics.DebuggerBrowsableAttribute> to prevent the property following it from appearing in the debug window for the class."},{"pos":[4683,4710],"content":"Using the DebuggerTypeProxy","linkify":"Using the DebuggerTypeProxy","nodes":[{"content":"Using the DebuggerTypeProxy","pos":[0,27]}]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerTypeProxyAttribute&gt;</ph> attribute when you need to significantly and fundamentally change the debugging view of a type, but not change the type itself.","pos":[4712,4900],"source":"Use the <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attribute when you need to significantly and fundamentally change the debugging view of a type, but not change the type itself."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerTypeProxyAttribute&gt;</ph> attribute is used to specify a display proxy for a type, allowing a developer to tailor the view for the type.","pos":[4901,5068],"source":" The <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attribute is used to specify a display proxy for a type, allowing a developer to tailor the view for the type."},{"content":"This attribute, like the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerDisplayAttribute&gt;</ph>, can be used at the assembly level, in which case the <ph id=\"ph2\">&lt;xref:System.Diagnostics.DebuggerTypeProxyAttribute.Target%2A&gt;</ph> property specifies the type for which the proxy will be used.","pos":[5070,5324],"source":"  This attribute, like the <xref:System.Diagnostics.DebuggerDisplayAttribute>, can be used at the assembly level, in which case the <xref:System.Diagnostics.DebuggerTypeProxyAttribute.Target%2A> property specifies the type for which the proxy will be used."},{"content":"The recommended usage is that this attribute specifies a private nested type that occurs within the type to which the attribute is applied.","pos":[5325,5464]},{"content":"An expression evaluator that supports type viewers checks for this attribute when a type is displayed.","pos":[5466,5568]},{"content":"If the attribute is found, the expression evaluator substitutes the display proxy type for the type the attribute is applied to.","pos":[5569,5697]},{"content":"When the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerTypeProxyAttribute&gt;</ph> is present, the debugger variable window displays only the public members of the proxy type.","pos":[5700,5854],"source":"When the <xref:System.Diagnostics.DebuggerTypeProxyAttribute> is present, the debugger variable window displays only the public members of the proxy type."},{"content":"Private members are not displayed.","pos":[5855,5889]},{"content":"The behavior of the data window is not changed by attribute-enhanced views.","pos":[5890,5965]},{"content":"To avoid unnecessary performance penalties, attributes of the display proxy are not processed until the object is expanded, either through the user clicking the plus sign (+) next to the type in a data window, or through the application of the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerBrowsableAttribute&gt;</ph> attribute.","pos":[5968,6275],"source":"To avoid unnecessary performance penalties, attributes of the display proxy are not processed until the object is expanded, either through the user clicking the plus sign (+) next to the type in a data window, or through the application of the <xref:System.Diagnostics.DebuggerBrowsableAttribute> attribute."},{"content":"Therefore, it is recommended that no attributes be applied to the display type.","pos":[6276,6355]},{"content":"Attributes can and should be applied within the body of the display type.","pos":[6356,6429]},{"pos":[6432,6590],"content":"The following code example shows the use of the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerTypeProxyAttribute&gt;</ph> to specify a type to be used as a debugger display proxy.","source":"The following code example shows the use of the <xref:System.Diagnostics.DebuggerTypeProxyAttribute> to specify a type to be used as a debugger display proxy."},{"pos":[7220,7227],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[7233,7244],"content":"Description","linkify":"Description","nodes":[{"content":"Description","pos":[0,11]}]},{"pos":[7246,7513],"content":"The following code example can be viewed in Visual Studio to see the results of applying the <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerDisplayAttribute&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Diagnostics.DebuggerBrowsableAttribute&gt;</ph>, and <ph id=\"ph3\">&lt;xref:System.Diagnostics.DebuggerTypeProxyAttribute&gt;</ph> attributes.","source":"The following code example can be viewed in Visual Studio to see the results of applying the <xref:System.Diagnostics.DebuggerDisplayAttribute>, <xref:System.Diagnostics.DebuggerBrowsableAttribute>, and <xref:System.Diagnostics.DebuggerTypeProxyAttribute> attributes."},{"pos":[7519,7523],"content":"Code","linkify":"Code","nodes":[{"content":"Code","pos":[0,4]}]},{"pos":[8075,8083],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}