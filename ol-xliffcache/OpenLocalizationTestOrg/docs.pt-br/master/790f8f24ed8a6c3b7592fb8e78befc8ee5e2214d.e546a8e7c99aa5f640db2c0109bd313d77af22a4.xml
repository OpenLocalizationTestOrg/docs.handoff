{"content":"---\ntitle: \"How To: Access a Service From a Workflow Application\"\nms.date: \"03/30/2017\"\nms.assetid: 925ef8ea-5550-4c9d-bb7b-209e20c280ad\n---\n# How To: Access a Service From a Workflow Application\nThis topic describes how to call a workflow service from a workflow console application. It depends on completion of the [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md) topic. Although this topic describes how to call a workflow service from a workflow application, the same methods can be used to call any Windows Communication Foundation (WCF) service from a workflow application.\n\n### Create a Workflow Console Application Project\n\n1.  Start Visual Studio 2012.\n\n2.  Load the MyWFService project you created in the [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md) topic.\n\n3.  Right click the **MyWFService** solution in the **Solution Explorer** and select **Add**, **New Project**. Select **Workflow** in the **Installed Templates** and **Workflow Console Application** from the list of project types. Name the project MyWFClient and use the default location as shown in the following illustration.\n\n     ![Add New Project Dialog](./media/how-to-access-a-service-from-a-workflow-application/add-new-project-dialog.jpg)\n\n     Click the **OK** button to dismiss the **Add New Project Dialog**.\n\n4.  After the project is created, the Workflow1.xaml file is opened in the designer. Click the **Toolbox** tab to open the toolbox if it is not already open and click the pushpin to keep the toolbox window open.\n\n5.  Press **Ctrl**+**F5** to build and launch the service. As before, the ASP.NET Development Server is launched and Internet Explorer displays the WCF Help Page. Notice the URI for this page as you must use it in the next step.\n\n     ![IE displaying WCF help page and URI](./media/how-to-access-a-service-from-a-workflow-application/ie-wcf-help-page-uri.jpg)\n\n6.  Right click the **MyWFClient** project in the **Solution Explorer** and select **Add** > **Service Reference**. Click the **Discover** button to search the current solution for any services. Click the triangle next to Service1.xamlx in the Services list. Click the triangle next to Service1 to list the contracts implemented by the Service1 service. Expand the **Service1** node in the **Services** list. The Echo operation is displayed in the **Operations** list as shown in the following illustration.\n\n     ![Add Service Reference Dialog](./media/how-to-access-a-service-from-a-workflow-application/add-service-reference.jpg)\n\n     Keep the default namespace and click **OK** to dismiss the **Add Service Reference** dialog. The following dialog is displayed.\n\n     ![Add Service Reference Notification dialog](./media/how-to-access-a-service-from-a-workflow-application/add-service-reference-dialog.jpg)\n\n     Click **OK** to dismiss the dialog. Next, press CTRL+SHIFT+B to build the solution. Notice in the toolbox a new section has been added called **MyWFClient.ServiceReference1.Activities**. Expand this section and notice the Echo activity that has been added as shown in the following illustration.\n\n     ![Echo activity in the toolbox](./media/how-to-access-a-service-from-a-workflow-application/echo-activity-toolbox.jpg)\n\n7.  Drag and drop a <xref:System.Activities.Statements.Sequence> activity onto the designer surface. It is under the **Control Flow** section of the toolbox.\n\n8.  With the <xref:System.Activities.Statements.Sequence> activity in focus, click the **Variables** link and add a string variable named `inString`. Give the variable a default value of `\"Hello, world\"` as well as a string variable named `outString` as shown in the following diagram.\n\n     ![Adding an inString variable](./media/how-to-access-a-service-from-a-workflow-application/add-instring-variable.jpg)\n\n9. Drag and drop an **Echo** activity into the <xref:System.Activities.Statements.Sequence>. In the properties window bind the `inMsg` argument to the `inString` variable and the `outMsg` argument to the `outString` variable as shown in the following illustration. This passes in the value of the `inString` variable to the operation and then takes the return value and places it in the `outString` variable.\n\n     ![Binding the arguments to variables](./media/how-to-access-a-service-from-a-workflow-application/bind-arguments-variables.jpg)\n\n10. Drag and drop a **WriteLine** activity below the **Echo** activity to display the string returned by the service call. The **WriteLine** activity is located in the **Primitives** node in the toolbox. Bind the **Text** argument of the **WriteLine** activity to the `outString` variable by typing `outString` into the text box on the **WriteLine** activity. The workflow should now look like the following illustration.\n\n     ![The complete client workflow](./media/how-to-access-a-service-from-a-workflow-application/complete-client-workflow.jpg)\n\n11. Right-click the MyWFService solution and select **Set Startup Projects ...**. Select the **Multiple startup projects** radio button and select **Start** for each project in the **Action** column as shown in the following illustration.\n\n     ![Startup projects options](./media/how-to-access-a-service-from-a-workflow-application/startup-project-options.jpg)\n\n12. Press Ctrl + F5 to launch both the service and the client. The ASP.NET Development Server hosts the service, Internet Explorer displays the WCF help page, and the client workflow application is launched in a console window and displays the string returned from the service (\"Hello, world\").\n\n## See also\n\n- [Workflow Services](../../../../docs/framework/wcf/feature-details/workflow-services.md)\n- [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md)\n- [Consuming a WCF Service from a Workflow in a Web Project](https://go.microsoft.com/fwlink/?LinkId=207725)\n","nodes":[{"pos":[4,136],"embed":true,"restype":"x-metadata","content":"title: \"How To: Access a Service From a Workflow Application\"\nms.date: \"03/30/2017\"\nms.assetid: 925ef8ea-5550-4c9d-bb7b-209e20c280ad","nodes":[{"content":"How To: Access a Service From a Workflow Application","nodes":[{"pos":[0,52],"content":"How To: Access a Service From a Workflow Application","nodes":[{"content":"How To: Access a Service From a Workflow Application","pos":[0,52]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[143,195],"content":"How To: Access a Service From a Workflow Application","linkify":"How To: Access a Service From a Workflow Application","nodes":[{"content":"How To: Access a Service From a Workflow Application","pos":[0,52]}]},{"content":"This topic describes how to call a workflow service from a workflow console application.","pos":[196,284]},{"content":"It depends on completion of the <bpt id=\"p1\">[</bpt>How to: Create a Workflow Service with Messaging Activities<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md)</ept> topic.","pos":[285,495],"source":" It depends on completion of the [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md) topic."},{"content":"Although this topic describes how to call a workflow service from a workflow application, the same methods can be used to call any Windows Communication Foundation (WCF) service from a workflow application.","pos":[496,702]},{"pos":[708,753],"content":"Create a Workflow Console Application Project","linkify":"Create a Workflow Console Application Project","nodes":[{"content":"Create a Workflow Console Application Project","pos":[0,45]}]},{"content":"Start Visual Studio 2012.","pos":[759,784]},{"pos":[790,1016],"content":"Load the MyWFService project you created in the <bpt id=\"p1\">[</bpt>How to: Create a Workflow Service with Messaging Activities<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md)</ept> topic.","source":"Load the MyWFService project you created in the [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md) topic."},{"content":"Right click the <bpt id=\"p1\">**</bpt>MyWFService<ept id=\"p1\">**</ept> solution in the <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept> and select <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>New Project<ept id=\"p4\">**</ept>.","pos":[1022,1128],"source":"Right click the **MyWFService** solution in the **Solution Explorer** and select **Add**, **New Project**."},{"content":"Select <bpt id=\"p1\">**</bpt>Workflow<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Installed Templates<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Workflow Console Application<ept id=\"p3\">**</ept> from the list of project types.","pos":[1129,1248],"source":" Select **Workflow** in the **Installed Templates** and **Workflow Console Application** from the list of project types."},{"content":"Name the project MyWFClient and use the default location as shown in the following illustration.","pos":[1249,1345]},{"content":"Add New Project Dialog","pos":[1354,1376]},{"pos":[1472,1538],"content":"Click the <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> button to dismiss the <bpt id=\"p2\">**</bpt>Add New Project Dialog<ept id=\"p2\">**</ept>.","source":"Click the **OK** button to dismiss the **Add New Project Dialog**."},{"content":"After the project is created, the Workflow1.xaml file is opened in the designer.","pos":[1544,1624]},{"content":"Click the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> tab to open the toolbox if it is not already open and click the pushpin to keep the toolbox window open.","pos":[1625,1751],"source":" Click the **Toolbox** tab to open the toolbox if it is not already open and click the pushpin to keep the toolbox window open."},{"content":"Press <bpt id=\"p1\">**</bpt>Ctrl<ept id=\"p1\">**</ept><ph id=\"ph1\">+</ph><bpt id=\"p2\">**</bpt>F5<ept id=\"p2\">**</ept> to build and launch the service.","pos":[1757,1811],"source":"Press **Ctrl**+**F5** to build and launch the service."},{"content":"As before, the ASP.NET Development Server is launched and Internet Explorer displays the WCF Help Page.","pos":[1812,1915]},{"content":"Notice the URI for this page as you must use it in the next step.","pos":[1916,1981]},{"content":"IE displaying WCF help page and URI","pos":[1990,2025]},{"content":"Right click the <bpt id=\"p1\">**</bpt>MyWFClient<ept id=\"p1\">**</ept> project in the <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept> and select <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p4\">**</bpt>Service Reference<ept id=\"p4\">**</ept>.","pos":[2118,2229],"source":"Right click the **MyWFClient** project in the **Solution Explorer** and select **Add** > **Service Reference**."},{"content":"Click the <bpt id=\"p1\">**</bpt>Discover<ept id=\"p1\">**</ept> button to search the current solution for any services.","pos":[2230,2308],"source":" Click the **Discover** button to search the current solution for any services."},{"content":"Click the triangle next to Service1.xamlx in the Services list.","pos":[2309,2372]},{"content":"Click the triangle next to Service1 to list the contracts implemented by the Service1 service.","pos":[2373,2467]},{"content":"Expand the <bpt id=\"p1\">**</bpt>Service1<ept id=\"p1\">**</ept> node in the <bpt id=\"p2\">**</bpt>Services<ept id=\"p2\">**</ept> list.","pos":[2468,2522],"source":" Expand the **Service1** node in the **Services** list."},{"content":"The Echo operation is displayed in the <bpt id=\"p1\">**</bpt>Operations<ept id=\"p1\">**</ept> list as shown in the following illustration.","pos":[2523,2621],"source":" The Echo operation is displayed in the **Operations** list as shown in the following illustration."},{"content":"Add Service Reference Dialog","pos":[2630,2658]},{"content":"Keep the default namespace and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to dismiss the <bpt id=\"p2\">**</bpt>Add Service Reference<ept id=\"p2\">**</ept> dialog.","pos":[2753,2845],"source":"Keep the default namespace and click **OK** to dismiss the **Add Service Reference** dialog."},{"content":"The following dialog is displayed.","pos":[2846,2880]},{"content":"Add Service Reference Notification dialog","pos":[2889,2930]},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to dismiss the dialog.","pos":[3032,3067],"source":"Click **OK** to dismiss the dialog."},{"content":"Next, press CTRL+SHIFT+B to build the solution.","pos":[3068,3115]},{"content":"Notice in the toolbox a new section has been added called <bpt id=\"p1\">**</bpt>MyWFClient.ServiceReference1.Activities<ept id=\"p1\">**</ept>.","pos":[3116,3218],"source":" Notice in the toolbox a new section has been added called **MyWFClient.ServiceReference1.Activities**."},{"content":"Expand this section and notice the Echo activity that has been added as shown in the following illustration.","pos":[3219,3327]},{"content":"Echo activity in the toolbox","pos":[3336,3364]},{"content":"Drag and drop a <ph id=\"ph1\">&lt;xref:System.Activities.Statements.Sequence&gt;</ph> activity onto the designer surface.","pos":[3458,3554],"source":"Drag and drop a <xref:System.Activities.Statements.Sequence> activity onto the designer surface."},{"content":"It is under the <bpt id=\"p1\">**</bpt>Control Flow<ept id=\"p1\">**</ept> section of the toolbox.","pos":[3555,3611],"source":" It is under the **Control Flow** section of the toolbox."},{"content":"With the <ph id=\"ph1\">&lt;xref:System.Activities.Statements.Sequence&gt;</ph> activity in focus, click the <bpt id=\"p1\">**</bpt>Variables<ept id=\"p1\">**</ept> link and add a string variable named <ph id=\"ph2\">`inString`</ph>.","pos":[3617,3762],"source":"With the <xref:System.Activities.Statements.Sequence> activity in focus, click the **Variables** link and add a string variable named `inString`."},{"content":"Give the variable a default value of <ph id=\"ph1\">`\"Hello, world\"`</ph> as well as a string variable named <ph id=\"ph2\">`outString`</ph> as shown in the following diagram.","pos":[3763,3898],"source":" Give the variable a default value of `\"Hello, world\"` as well as a string variable named `outString` as shown in the following diagram."},{"content":"Adding an inString variable","pos":[3907,3934]},{"content":"Drag and drop an <bpt id=\"p1\">**</bpt>Echo<ept id=\"p1\">**</ept> activity into the <ph id=\"ph1\">&lt;xref:System.Activities.Statements.Sequence&gt;</ph>.","pos":[4027,4116],"source":"Drag and drop an **Echo** activity into the <xref:System.Activities.Statements.Sequence>."},{"content":"In the properties window bind the <ph id=\"ph1\">`inMsg`</ph> argument to the <ph id=\"ph2\">`inString`</ph> variable and the <ph id=\"ph3\">`outMsg`</ph> argument to the <ph id=\"ph4\">`outString`</ph> variable as shown in the following illustration.","pos":[4117,4288],"source":" In the properties window bind the `inMsg` argument to the `inString` variable and the `outMsg` argument to the `outString` variable as shown in the following illustration."},{"content":"This passes in the value of the <ph id=\"ph1\">`inString`</ph> variable to the operation and then takes the return value and places it in the <ph id=\"ph2\">`outString`</ph> variable.","pos":[4289,4432],"source":" This passes in the value of the `inString` variable to the operation and then takes the return value and places it in the `outString` variable."},{"content":"Binding the arguments to variables","pos":[4441,4475]},{"content":"Drag and drop a <bpt id=\"p1\">**</bpt>WriteLine<ept id=\"p1\">**</ept> activity below the <bpt id=\"p2\">**</bpt>Echo<ept id=\"p2\">**</ept> activity to display the string returned by the service call.","pos":[4572,4690],"source":"Drag and drop a **WriteLine** activity below the **Echo** activity to display the string returned by the service call."},{"content":"The <bpt id=\"p1\">**</bpt>WriteLine<ept id=\"p1\">**</ept> activity is located in the <bpt id=\"p2\">**</bpt>Primitives<ept id=\"p2\">**</ept> node in the toolbox.","pos":[4691,4771],"source":" The **WriteLine** activity is located in the **Primitives** node in the toolbox."},{"content":"Bind the <bpt id=\"p1\">**</bpt>Text<ept id=\"p1\">**</ept> argument of the <bpt id=\"p2\">**</bpt>WriteLine<ept id=\"p2\">**</ept> activity to the <ph id=\"ph1\">`outString`</ph> variable by typing <ph id=\"ph2\">`outString`</ph> into the text box on the <bpt id=\"p3\">**</bpt>WriteLine<ept id=\"p3\">**</ept> activity.","pos":[4772,4927],"source":" Bind the **Text** argument of the **WriteLine** activity to the `outString` variable by typing `outString` into the text box on the **WriteLine** activity."},{"content":"The workflow should now look like the following illustration.","pos":[4928,4989]},{"content":"The complete client workflow","pos":[4998,5026]},{"pos":[5123,5357],"content":"Right-click the MyWFService solution and select <bpt id=\"p1\">**</bpt>Set Startup Projects ...<ept id=\"p1\">**</ept>. Select the <bpt id=\"p2\">**</bpt>Multiple startup projects<ept id=\"p2\">**</ept> radio button and select <bpt id=\"p3\">**</bpt>Start<ept id=\"p3\">**</ept> for each project in the <bpt id=\"p4\">**</bpt>Action<ept id=\"p4\">**</ept> column as shown in the following illustration.","source":"Right-click the MyWFService solution and select **Set Startup Projects ...**. Select the **Multiple startup projects** radio button and select **Start** for each project in the **Action** column as shown in the following illustration."},{"content":"Startup projects options","pos":[5366,5390]},{"content":"Press Ctrl + F5 to launch both the service and the client.","pos":[5486,5544]},{"content":"The ASP.NET Development Server hosts the service, Internet Explorer displays the WCF help page, and the client workflow application is launched in a console window and displays the string returned from the service (\"Hello, world\").","pos":[5545,5776]},{"pos":[5781,5789],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5793,5881],"content":"<bpt id=\"p1\">[</bpt>Workflow Services<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/workflow-services.md)</ept>","source":"[Workflow Services](../../../../docs/framework/wcf/feature-details/workflow-services.md)"},{"pos":[5884,6055],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Workflow Service with Messaging Activities<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md)</ept>","source":"[How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md)"},{"pos":[6058,6164],"content":"<bpt id=\"p1\">[</bpt>Consuming a WCF Service from a Workflow in a Web Project<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=207725)</ept>","source":"[Consuming a WCF Service from a Workflow in a Web Project](https://go.microsoft.com/fwlink/?LinkId=207725)"}]}