{"content":"---\ntitle: \"Removing Elements, Attributes, and Nodes from an XML Tree (C#) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"2015-07-20\"\nms.prod: .net\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nms.assetid: 07dd06d6-1117-4077-bf98-9120cf51176e\ncaps.latest.revision: 4\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\n---\n# Removing Elements, Attributes, and Nodes from an XML Tree (C#)\nYou can modify an XML tree, removing elements, attributes, and other types of nodes.  \n  \n Removing a single element or a single attribute from an XML document is straightforward. However, when removing collections of elements or attributes, you should first materialize a collection into a list, and then delete the elements or attributes from the list. The best approach is to use the <xref:System.Xml.Linq.Extensions.Remove%2A> extension method, which will do this for you.  \n  \n The main reason for doing this is that most of the collections you retrieve from an XML tree are yielded using deferred execution. If you do not first materialize them into a list, or if you do not use the extension methods, it is possible to encounter a certain class of bugs. For more information, see [Mixed Declarative Code/Imperative Code Bugs (LINQ to XML) (C#)](../../../../csharp/programming-guide/concepts/linq/mixed-declarative-code-imperative-code-bugs-linq-to-xml.md).  \n  \n The following methods remove nodes and attributes from an XML tree.  \n  \n|Method|Description|  \n|------------|-----------------|  \n|[XAttribute.Remove](https://msdn.microsoft.com/library/system.xml.linq.xattribute.remove\\(v=vs.110\\).aspx)|Removes an <xref:System.Xml.Linq.XAttribute> from its parent.|  \n|[XContainer.RemoveNodes](https://msdn.microsoft.com/library/system.xml.linq.xcontainer.removenodes\\(v=vs.110\\).aspx)|Removes the child nodes from an <xref:System.Xml.Linq.XContainer>.|  \n|<xref:System.Xml.Linq.XElement.RemoveAll%2A?displayProperty=fullName>|Removes content and attributes from an <xref:System.Xml.Linq.XElement>.|  \n|<xref:System.Xml.Linq.XElement.RemoveAttributes%2A?displayProperty=fullName>|Removes the attributes of an <xref:System.Xml.Linq.XElement>.|  \n|<xref:System.Xml.Linq.XElement.SetAttributeValue%2A?displayProperty=fullName>|If you pass `null` for value, then removes the attribute.|  \n|<xref:System.Xml.Linq.XElement.SetElementValue%2A?displayProperty=fullName>|If you pass `null` for value, then removes the child element.|  \n|<xref:System.Xml.Linq.XNode.Remove%2A?displayProperty=fullName>|Removes an <xref:System.Xml.Linq.XNode> from its parent.|  \n|<xref:System.Xml.Linq.Extensions.Remove%2A?displayProperty=fullName>|Removes every attribute or element in the source collection from its parent element.|  \n  \n## Example  \n  \n### Description  \n This example demonstrates three approaches to removing elements. First, it removes a single element. Second, it retrieves a collection of elements, materializes them using the <xref:System.Linq.Enumerable.ToList%2A?displayProperty=fullName> operator, and removes the collection. Finally, it retrieves a collection of elements and removes them using the <xref:System.Xml.Linq.Extensions.Remove%2A> extension method.  \n  \n For more information on the <xref:System.Linq.Enumerable.ToList%2A> operator, see [Converting Data Types (C#)](../../../../csharp/programming-guide/concepts/linq/converting-data-types.md).  \n  \n### Code  \n  \n```csharp  \nXElement root = XElement.Parse(@\"<Root>  \n    <Child1>  \n        <GrandChild1/>  \n        <GrandChild2/>  \n        <GrandChild3/>  \n    </Child1>  \n    <Child2>  \n        <GrandChild4/>  \n        <GrandChild5/>  \n        <GrandChild6/>  \n    </Child2>  \n    <Child3>  \n        <GrandChild7/>  \n        <GrandChild8/>  \n        <GrandChild9/>  \n    </Child3>  \n</Root>\");  \nroot.Element(\"Child1\").Element(\"GrandChild1\").Remove();  \nroot.Element(\"Child2\").Elements().ToList().Remove();  \nroot.Element(\"Child3\").Elements().Remove();  \nConsole.WriteLine(root);  \n```  \n  \n### Comments  \n This code produces the following output:  \n  \n```xml  \n<Root>  \n  <Child1>  \n    <GrandChild2 />  \n    <GrandChild3 />  \n  </Child1>  \n  <Child2 />  \n  <Child3 />  \n</Root>  \n```  \n  \n Notice that the first grandchild element has been removed from `Child1`. All grandchildren elements have been removed from `Child2` and from `Child3`.  \n  \n## See Also  \n [Modifying XML Trees (LINQ to XML) (C#)](../../../../csharp/programming-guide/concepts/linq/modifying-xml-trees-linq-to-xml.md)","nodes":[{"pos":[12,91],"content":"Removing Elements, Attributes, and Nodes from an XML Tree (C#) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Removing Elements, Attributes, and Nodes from an XML Tree (C#) | Microsoft Docs","pos":[0,79]}]},{"pos":[376,438],"content":"Removing Elements, Attributes, and Nodes from an XML Tree (C#)","linkify":"Removing Elements, Attributes, and Nodes from an XML Tree (C#)","nodes":[{"content":"Removing Elements, Attributes, and Nodes from an XML Tree (C#)","pos":[0,62]}]},{"content":"You can modify an XML tree, removing elements, attributes, and other types of nodes.","pos":[439,523]},{"content":"Removing a single element or a single attribute from an XML document is straightforward.","pos":[530,618]},{"content":"However, when removing collections of elements or attributes, you should first materialize a collection into a list, and then delete the elements or attributes from the list.","pos":[619,793]},{"content":"The best approach is to use the <ph id=\"ph1\">&lt;xref:System.Xml.Linq.Extensions.Remove%2A&gt;</ph> extension method, which will do this for you.","pos":[794,915],"source":" The best approach is to use the <xref:System.Xml.Linq.Extensions.Remove%2A> extension method, which will do this for you."},{"content":"The main reason for doing this is that most of the collections you retrieve from an XML tree are yielded using deferred execution.","pos":[922,1052]},{"content":"If you do not first materialize them into a list, or if you do not use the extension methods, it is possible to encounter a certain class of bugs.","pos":[1053,1199]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Mixed Declarative Code/Imperative Code Bugs (LINQ to XML) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/mixed-declarative-code-imperative-code-bugs-linq-to-xml.md)</ept>.","pos":[1200,1402],"source":" For more information, see [Mixed Declarative Code/Imperative Code Bugs (LINQ to XML) (C#)](../../../../csharp/programming-guide/concepts/linq/mixed-declarative-code-imperative-code-bugs-linq-to-xml.md)."},{"content":"The following methods remove nodes and attributes from an XML tree.","pos":[1409,1476]},{"content":"Method","pos":[1483,1489]},{"content":"Description","pos":[1490,1501]},{"pos":[1541,1647],"content":"<bpt id=\"p1\">[</bpt>XAttribute.Remove<ept id=\"p1\">](https://msdn.microsoft.com/library/system.xml.linq.xattribute.remove\\(v=vs.110\\).aspx)</ept>","source":"[XAttribute.Remove](https://msdn.microsoft.com/library/system.xml.linq.xattribute.remove\\(v=vs.110\\).aspx)"},{"content":"Removes an <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XAttribute&gt;</ph> from its parent.","pos":[1648,1709],"source":"Removes an <xref:System.Xml.Linq.XAttribute> from its parent."},{"pos":[1714,1830],"content":"<bpt id=\"p1\">[</bpt>XContainer.RemoveNodes<ept id=\"p1\">](https://msdn.microsoft.com/library/system.xml.linq.xcontainer.removenodes\\(v=vs.110\\).aspx)</ept>","source":"[XContainer.RemoveNodes](https://msdn.microsoft.com/library/system.xml.linq.xcontainer.removenodes\\(v=vs.110\\).aspx)"},{"content":"Removes the child nodes from an <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XContainer&gt;</ph>.","pos":[1831,1897],"source":"Removes the child nodes from an <xref:System.Xml.Linq.XContainer>."},{"content":"Removes content and attributes from an <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XElement&gt;</ph>.","pos":[1972,2043],"source":"Removes content and attributes from an <xref:System.Xml.Linq.XElement>."},{"content":"Removes the attributes of an <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XElement&gt;</ph>.","pos":[2125,2186],"source":"Removes the attributes of an <xref:System.Xml.Linq.XElement>."},{"pos":[2269,2326],"content":"If you pass <ph id=\"ph1\">`null`</ph> for value, then removes the attribute.","source":"If you pass `null` for value, then removes the attribute."},{"pos":[2407,2468],"content":"If you pass <ph id=\"ph1\">`null`</ph> for value, then removes the child element.","source":"If you pass `null` for value, then removes the child element."},{"content":"Removes an <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XNode&gt;</ph> from its parent.","pos":[2537,2593],"source":"Removes an <xref:System.Xml.Linq.XNode> from its parent."},{"content":"Removes every attribute or element in the source collection from its parent element.","pos":[2667,2751]},{"pos":[2761,2768],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2778,2789],"content":"Description","linkify":"Description","nodes":[{"content":"Description","pos":[0,11]}]},{"content":"This example demonstrates three approaches to removing elements.","pos":[2793,2857]},{"content":"First, it removes a single element.","pos":[2858,2893]},{"content":"Second, it retrieves a collection of elements, materializes them using the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.ToList%2A?displayProperty=fullName&gt;</ph> operator, and removes the collection.","pos":[2894,3071],"source":" Second, it retrieves a collection of elements, materializes them using the <xref:System.Linq.Enumerable.ToList%2A?displayProperty=fullName> operator, and removes the collection."},{"content":"Finally, it retrieves a collection of elements and removes them using the <ph id=\"ph1\">&lt;xref:System.Xml.Linq.Extensions.Remove%2A&gt;</ph> extension method.","pos":[3072,3207],"source":" Finally, it retrieves a collection of elements and removes them using the <xref:System.Xml.Linq.Extensions.Remove%2A> extension method."},{"pos":[3214,3402],"content":"For more information on the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.ToList%2A&gt;</ph> operator, see <bpt id=\"p1\">[</bpt>Converting Data Types (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/converting-data-types.md)</ept>.","source":"For more information on the <xref:System.Linq.Enumerable.ToList%2A> operator, see [Converting Data Types (C#)](../../../../csharp/programming-guide/concepts/linq/converting-data-types.md)."},{"pos":[3412,3416],"content":"Code","linkify":"Code","nodes":[{"content":"Code","pos":[0,4]}]},{"pos":[4006,4014],"content":"Comments","linkify":"Comments","nodes":[{"content":"Comments","pos":[0,8]}]},{"content":"This code produces the following output:","pos":[4018,4058]},{"content":"Notice that the first grandchild element has been removed from <ph id=\"ph1\">`Child1`</ph>.","pos":[4203,4275],"source":"Notice that the first grandchild element has been removed from `Child1`."},{"content":"All grandchildren elements have been removed from <ph id=\"ph1\">`Child2`</ph> and from <ph id=\"ph2\">`Child3`</ph>.","pos":[4276,4353],"source":" All grandchildren elements have been removed from `Child2` and from `Child3`."},{"pos":[4362,4370],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[4374,4501],"content":"<bpt id=\"p1\">[</bpt>Modifying XML Trees (LINQ to XML) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/modifying-xml-trees-linq-to-xml.md)</ept>","source":"[Modifying XML Trees (LINQ to XML) (C#)](../../../../csharp/programming-guide/concepts/linq/modifying-xml-trees-linq-to-xml.md)"}]}