{"content":"---\ntitle: \"Map unique XML Schema (XSD) Constraints to DataSet Constraints\"\nms.date: \"03/30/2017\"\nms.assetid: 56da90bf-21d3-4d1a-8bb8-de908866b78d\n---\n# Map unique XML Schema (XSD) Constraints to DataSet Constraints\nIn an XML Schema definition language (XSD) schema, the **unique** element specifies the uniqueness constraint on an element or attribute. In the process of translating an XML Schema into a relational schema, the unique constraint specified on an element or attribute in the XML Schema is mapped to a unique constraint in the <xref:System.Data.DataTable> in the corresponding <xref:System.Data.DataSet> that is generated.  \n  \n The following table outlines the **msdata** attributes that you can specify in the **unique** element.  \n  \n|Attribute name|Description|  \n|--------------------|-----------------|  \n|**msdata:ConstraintName**|If this attribute is specified, its value is used as the constraint name. Otherwise, the **name** attribute provides the value of the constraint name.|  \n|**msdata:PrimaryKey**|If `PrimaryKey=\"true\"` is present in the **unique** element, a unique constraint is created with the **IsPrimaryKey** property set to **true**.|  \n  \n The following example shows an XML Schema that uses the **unique** element to specify a uniqueness constraint.  \n  \n```xml  \n<xs:schema id=\"SampleDataSet\"   \n            xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"   \n            xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">  \n  <xs:element name=\"Customers\">  \n    <xs:complexType>  \n      <xs:sequence>  \n        <xs:element name=\"CustomerID\" type=\"xs:integer\"   \n           minOccurs=\"0\"/>  \n        <xs:element name=\"CompanyName\" type=\"xs:string\"   \n           minOccurs=\"0\"/>  \n       <xs:element name=\"Phone\" type=\"xs:string\" />  \n     </xs:sequence>  \n   </xs:complexType>  \n </xs:element>  \n  \n <xs:element name=\"SampleDataSet\" msdata:IsDataSet=\"true\">  \n  <xs:complexType>  \n    <xs:choice maxOccurs=\"unbounded\">  \n      <xs:element ref=\"Customers\" />  \n    </xs:choice>  \n  </xs:complexType>  \n   <xs:unique     msdata:ConstraintName=\"UCustID\"     name=\"UniqueCustIDConstr\" >       <xs:selector xpath=\".//Customers\" />       <xs:field xpath=\"CustomerID\" />     </xs:unique>  \n</xs:element>  \n</xs:schema>  \n```  \n  \n The **unique** element in the schema specifies that for all **Customers** elements in a document instance, the value of the **CustomerID** child element must be unique. In building the **DataSet**, the mapping process reads this schema and generates the following table:  \n  \n```  \nCustomers (CustomerID, CompanyName, Phone)  \n```  \n  \n The mapping process also creates a unique constraint on the **CustomerID** column, as shown in the following **DataSet**. (For simplicity, only relevant properties are shown.)  \n  \n```  \n      DataSetName: MyDataSet  \nTableName: Customers  \n  ColumnName: CustomerID  \n      AllowDBNull: True  \n      Unique: True  \n  ConstraintName: UcustID       Type: UniqueConstraint  \n      Table: Customers  \n      Columns: CustomerID   \n      IsPrimaryKey: False  \n```  \n  \n In the **DataSet** that is generated, the **IsPrimaryKey** property is set to **False** for the unique constraint. The **unique** property on the column indicates that the **CustomerID** column values must be unique (but they can be a null reference, as specified by the **AllowDBNull** property of the column).  \n  \n If you modify the schema and set the optional **msdata:PrimaryKey** attribute value to **True**, the unique constraint is created on the table. The **AllowDBNull** column property is set to **False**, and the **IsPrimaryKey** property of the constraint set to **True**, thus making the **CustomerID** column a primary key column.  \n  \n You can specify a unique constraint on a combination of elements or attributes in the XML Schema. The following example demonstrates how to specify that a combination of **CustomerID** and **CompanyName** values must be unique for all **Customers** in any instance, by adding another **xs:field** element in the schema.  \n  \n```xml  \n      <xs:unique     \n         msdata:ConstraintName=\"SomeName\"    \n         name=\"UniqueCustIDConstr\" >   \n  <xs:selector xpath=\".//Customers\" />   \n  <xs:field xpath=\"CustomerID\" />   \n  <xs:field xpath=\"CompanyName\" />   \n</xs:unique>  \n```  \n  \n This is the constraint that is created in the resulting **DataSet**.  \n  \n```  \nConstraintName: SomeName  \n  Table: Customers  \n  Columns: CustomerID CompanyName   \n  IsPrimaryKey: False  \n```  \n  \n## See also\n\n- [Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)\n- [Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,146],"embed":true,"restype":"x-metadata","content":"title: \"Map unique XML Schema (XSD) Constraints to DataSet Constraints\"\nms.date: \"03/30/2017\"\nms.assetid: 56da90bf-21d3-4d1a-8bb8-de908866b78d","nodes":[{"content":"Map unique XML Schema (XSD) Constraints to DataSet Constraints","nodes":[{"pos":[0,62],"content":"Map unique XML Schema (XSD) Constraints to DataSet Constraints","nodes":[{"content":"Map unique XML Schema (XSD) Constraints to DataSet Constraints","pos":[0,62]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[153,215],"content":"Map unique XML Schema (XSD) Constraints to DataSet Constraints","linkify":"Map unique XML Schema (XSD) Constraints to DataSet Constraints","nodes":[{"content":"Map unique XML Schema (XSD) Constraints to DataSet Constraints","pos":[0,62]}]},{"content":"In an XML Schema definition language (XSD) schema, the <bpt id=\"p1\">**</bpt>unique<ept id=\"p1\">**</ept> element specifies the uniqueness constraint on an element or attribute.","pos":[216,353],"source":"In an XML Schema definition language (XSD) schema, the **unique** element specifies the uniqueness constraint on an element or attribute."},{"content":"In the process of translating an XML Schema into a relational schema, the unique constraint specified on an element or attribute in the XML Schema is mapped to a unique constraint in the <ph id=\"ph1\">&lt;xref:System.Data.DataTable&gt;</ph> in the corresponding <ph id=\"ph2\">&lt;xref:System.Data.DataSet&gt;</ph> that is generated.","pos":[354,636],"source":" In the process of translating an XML Schema into a relational schema, the unique constraint specified on an element or attribute in the XML Schema is mapped to a unique constraint in the <xref:System.Data.DataTable> in the corresponding <xref:System.Data.DataSet> that is generated."},{"pos":[643,745],"content":"The following table outlines the <bpt id=\"p1\">**</bpt>msdata<ept id=\"p1\">**</ept> attributes that you can specify in the <bpt id=\"p2\">**</bpt>unique<ept id=\"p2\">**</ept> element.","source":"The following table outlines the **msdata** attributes that you can specify in the **unique** element."},{"content":"Attribute name","pos":[752,766]},{"content":"Description","pos":[767,778]},{"pos":[826,851],"content":"<bpt id=\"p1\">**</bpt>msdata:ConstraintName<ept id=\"p1\">**</ept>","source":"**msdata:ConstraintName**"},{"content":"If this attribute is specified, its value is used as the constraint name.","pos":[852,925]},{"content":"Otherwise, the <bpt id=\"p1\">**</bpt>name<ept id=\"p1\">**</ept> attribute provides the value of the constraint name.","pos":[926,1002],"source":" Otherwise, the **name** attribute provides the value of the constraint name."},{"pos":[1007,1028],"content":"<bpt id=\"p1\">**</bpt>msdata:PrimaryKey<ept id=\"p1\">**</ept>","source":"**msdata:PrimaryKey**"},{"pos":[1029,1172],"content":"If <ph id=\"ph1\">`PrimaryKey=\"true\"`</ph> is present in the <bpt id=\"p1\">**</bpt>unique<ept id=\"p1\">**</ept> element, a unique constraint is created with the <bpt id=\"p2\">**</bpt>IsPrimaryKey<ept id=\"p2\">**</ept> property set to <bpt id=\"p3\">**</bpt>true<ept id=\"p3\">**</ept>.","source":"If `PrimaryKey=\"true\"` is present in the **unique** element, a unique constraint is created with the **IsPrimaryKey** property set to **true**."},{"pos":[1180,1290],"content":"The following example shows an XML Schema that uses the <bpt id=\"p1\">**</bpt>unique<ept id=\"p1\">**</ept> element to specify a uniqueness constraint.","source":"The following example shows an XML Schema that uses the **unique** element to specify a uniqueness constraint."},{"content":"The <bpt id=\"p1\">**</bpt>unique<ept id=\"p1\">**</ept> element in the schema specifies that for all <bpt id=\"p2\">**</bpt>Customers<ept id=\"p2\">**</ept> elements in a document instance, the value of the <bpt id=\"p3\">**</bpt>CustomerID<ept id=\"p3\">**</ept> child element must be unique.","pos":[2263,2431],"source":"The **unique** element in the schema specifies that for all **Customers** elements in a document instance, the value of the **CustomerID** child element must be unique."},{"content":"In building the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept>, the mapping process reads this schema and generates the following table:","pos":[2432,2533],"source":" In building the **DataSet**, the mapping process reads this schema and generates the following table:"},{"content":"The mapping process also creates a unique constraint on the <bpt id=\"p1\">**</bpt>CustomerID<ept id=\"p1\">**</ept> column, as shown in the following <bpt id=\"p2\">**</bpt>DataSet<ept id=\"p2\">**</ept>.","pos":[2600,2721],"source":"The mapping process also creates a unique constraint on the **CustomerID** column, as shown in the following **DataSet**."},{"content":"(For simplicity, only relevant properties are shown.)","pos":[2722,2775]},{"content":"In the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> that is generated, the <bpt id=\"p2\">**</bpt>IsPrimaryKey<ept id=\"p2\">**</ept> property is set to <bpt id=\"p3\">**</bpt>False<ept id=\"p3\">**</ept> for the unique constraint.","pos":[3064,3178],"source":"In the **DataSet** that is generated, the **IsPrimaryKey** property is set to **False** for the unique constraint."},{"content":"The <bpt id=\"p1\">**</bpt>unique<ept id=\"p1\">**</ept> property on the column indicates that the <bpt id=\"p2\">**</bpt>CustomerID<ept id=\"p2\">**</ept> column values must be unique (but they can be a null reference, as specified by the <bpt id=\"p3\">**</bpt>AllowDBNull<ept id=\"p3\">**</ept> property of the column).","pos":[3179,3375],"source":" The **unique** property on the column indicates that the **CustomerID** column values must be unique (but they can be a null reference, as specified by the **AllowDBNull** property of the column)."},{"content":"If you modify the schema and set the optional <bpt id=\"p1\">**</bpt>msdata:PrimaryKey<ept id=\"p1\">**</ept> attribute value to <bpt id=\"p2\">**</bpt>True<ept id=\"p2\">**</ept>, the unique constraint is created on the table.","pos":[3382,3525],"source":"If you modify the schema and set the optional **msdata:PrimaryKey** attribute value to **True**, the unique constraint is created on the table."},{"content":"The <bpt id=\"p1\">**</bpt>AllowDBNull<ept id=\"p1\">**</ept> column property is set to <bpt id=\"p2\">**</bpt>False<ept id=\"p2\">**</ept>, and the <bpt id=\"p3\">**</bpt>IsPrimaryKey<ept id=\"p3\">**</ept> property of the constraint set to <bpt id=\"p4\">**</bpt>True<ept id=\"p4\">**</ept>, thus making the <bpt id=\"p5\">**</bpt>CustomerID<ept id=\"p5\">**</ept> column a primary key column.","pos":[3526,3711],"source":" The **AllowDBNull** column property is set to **False**, and the **IsPrimaryKey** property of the constraint set to **True**, thus making the **CustomerID** column a primary key column."},{"content":"You can specify a unique constraint on a combination of elements or attributes in the XML Schema.","pos":[3718,3815]},{"content":"The following example demonstrates how to specify that a combination of <bpt id=\"p1\">**</bpt>CustomerID<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>CompanyName<ept id=\"p2\">**</ept> values must be unique for all <bpt id=\"p3\">**</bpt>Customers<ept id=\"p3\">**</ept> in any instance, by adding another <bpt id=\"p4\">**</bpt>xs:field<ept id=\"p4\">**</ept> element in the schema.","pos":[3816,4037],"source":" The following example demonstrates how to specify that a combination of **CustomerID** and **CompanyName** values must be unique for all **Customers** in any instance, by adding another **xs:field** element in the schema."},{"pos":[4302,4370],"content":"This is the constraint that is created in the resulting <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept>.","source":"This is the constraint that is created in the resulting **DataSet**."},{"pos":[4503,4511],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4515,4707],"content":"<bpt id=\"p1\">[</bpt>Mapping XML Schema (XSD) Constraints to DataSet Constraints<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)</ept>","source":"[Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)"},{"pos":[4710,4884],"content":"<bpt id=\"p1\">[</bpt>Generating DataSet Relations from XML Schema (XSD)<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)</ept>","source":"[Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)"},{"pos":[4887,4991],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}