{"content":"---\ntitle: \"referential integrity constraint | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 3d3ba44b-4302-40d8-a7a9-62932e0395e5\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# referential integrity constraint\nA *referential integrity constraint* in the Entity Data Model (EDM) is similar to a referential integrity constraint in a relational database. In the same way that a column (or columns) from a database table can reference the primary key of another table, a [property](../../../../docs/framework/data/adonet/property.md) (or properties) of an [entity type](../../../../docs/framework/data/adonet/entity-type.md) can reference the [entity key](../../../../docs/framework/data/adonet/entity-key.md) of another entity type. The entity type that is referenced is called the *principal end* of the constraint. The entity type that references the principal end is called the *dependent end* of the constraint.  \n  \n A referential integrity constraint is defined as part of an [association](../../../../docs/framework/data/adonet/association-type.md) between two entity types. The definition for a referential integrity constraint specifies the following information:  \n  \n-   The principal end of the constraint. (An entity type whose entity key is referenced by the dependent end.)  \n  \n-   The entity key of the principal end.  \n  \n-   The dependent end of the constraint. (An entity type that has a property or properties that reference the entity key of the principal end.)  \n  \n-   The referencing property or properties of the dependent end.  \n  \n The purpose of referential integrity constraints in the EDM is to ensure that valid associations always exist. For more information, see [foreign key property](../../../../docs/framework/data/adonet/foreign-key-property.md).  \n  \n## Example  \n The diagram below shows a conceptual model with two associations: `WrittenBy` and `PublishedBy`. The `Book` entity type has a property, `PublisherId`, that references the entity key of the `Publisher` entity type when you define a referential integrity constraint on the `PublishedBy` association.  \n  \n ![RefConstraintModel](../../../../docs/framework/data/adonet/media/refconstraintmodel.gif \"RefConstraintModel\")  \n  \n The [ADO.NET Entity Framework](../../../../docs/framework/data/adonet/ef/index.md) uses a domain-specific language (DSL) called conceptual schema definition language ([CSDL](../../../../docs/framework/data/adonet/ef/language-reference/csdl-specification.md)) to define conceptual models. The following CSDL defines a referential integrity constraint on the `PublishedBy` association shown in the conceptual model above.  \n  \n [!code-xml[EDM_Example_Model#RefConstraint](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books4.edmx#refconstraint)]  \n  \n## See Also  \n [Entity Data Model Key Concepts](../../../../docs/framework/data/adonet/entity-data-model-key-concepts.md)   \n [Entity Data Model](../../../../docs/framework/data/adonet/entity-data-model.md)","nodes":[{"pos":[4,363],"nodes":[{"content":"referential integrity constraint | Microsoft Docs","nodes":[{"pos":[0,49],"content":"referential integrity constraint | Microsoft Docs","nodes":[{"content":"referential integrity constraint | Microsoft Docs","pos":[0,49]}]}],"pos":[6,58],"yaml":true}],"content":"title: \"referential integrity constraint | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 3d3ba44b-4302-40d8-a7a9-62932e0395e5\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[370,402],"content":"referential integrity constraint","linkify":"referential integrity constraint","nodes":[{"content":"referential integrity constraint","pos":[0,32]}]},{"content":"A <bpt id=\"p1\">*</bpt>referential integrity constraint<ept id=\"p1\">*</ept> in the Entity Data Model (EDM) is similar to a referential integrity constraint in a relational database.","pos":[403,545],"source":"A *referential integrity constraint* in the Entity Data Model (EDM) is similar to a referential integrity constraint in a relational database."},{"content":"In the same way that a column (or columns) from a database table can reference the primary key of another table, a <bpt id=\"p1\">[</bpt>property<ept id=\"p1\">](../../../../docs/framework/data/adonet/property.md)</ept> (or properties) of an <bpt id=\"p2\">[</bpt>entity type<ept id=\"p2\">](../../../../docs/framework/data/adonet/entity-type.md)</ept> can reference the <bpt id=\"p3\">[</bpt>entity key<ept id=\"p3\">](../../../../docs/framework/data/adonet/entity-key.md)</ept> of another entity type.","pos":[546,923],"source":" In the same way that a column (or columns) from a database table can reference the primary key of another table, a [property](../../../../docs/framework/data/adonet/property.md) (or properties) of an [entity type](../../../../docs/framework/data/adonet/entity-type.md) can reference the [entity key](../../../../docs/framework/data/adonet/entity-key.md) of another entity type."},{"content":"The entity type that is referenced is called the <bpt id=\"p1\">*</bpt>principal end<ept id=\"p1\">*</ept> of the constraint.","pos":[924,1007],"source":" The entity type that is referenced is called the *principal end* of the constraint."},{"content":"The entity type that references the principal end is called the <bpt id=\"p1\">*</bpt>dependent end<ept id=\"p1\">*</ept> of the constraint.","pos":[1008,1106],"source":" The entity type that references the principal end is called the *dependent end* of the constraint."},{"content":"A referential integrity constraint is defined as part of an <bpt id=\"p1\">[</bpt>association<ept id=\"p1\">](../../../../docs/framework/data/adonet/association-type.md)</ept> between two entity types.","pos":[1113,1272],"source":"A referential integrity constraint is defined as part of an [association](../../../../docs/framework/data/adonet/association-type.md) between two entity types."},{"content":"The definition for a referential integrity constraint specifies the following information:","pos":[1273,1363]},{"content":"The principal end of the constraint.","pos":[1373,1409]},{"content":"(An entity type whose entity key is referenced by the dependent end.)","pos":[1410,1479]},{"content":"The entity key of the principal end.","pos":[1489,1525]},{"content":"The dependent end of the constraint.","pos":[1535,1571]},{"content":"(An entity type that has a property or properties that reference the entity key of the principal end.)","pos":[1572,1674]},{"content":"The referencing property or properties of the dependent end.","pos":[1684,1744]},{"content":"The purpose of referential integrity constraints in the EDM is to ensure that valid associations always exist.","pos":[1751,1861]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>foreign key property<ept id=\"p1\">](../../../../docs/framework/data/adonet/foreign-key-property.md)</ept>.","pos":[1862,1975],"source":" For more information, see [foreign key property](../../../../docs/framework/data/adonet/foreign-key-property.md)."},{"pos":[1984,1991],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The diagram below shows a conceptual model with two associations: <ph id=\"ph1\">`WrittenBy`</ph> and <ph id=\"ph2\">`PublishedBy`</ph>.","pos":[1995,2091],"source":"The diagram below shows a conceptual model with two associations: `WrittenBy` and `PublishedBy`."},{"content":"The <ph id=\"ph1\">`Book`</ph> entity type has a property, <ph id=\"ph2\">`PublisherId`</ph>, that references the entity key of the <ph id=\"ph3\">`Publisher`</ph> entity type when you define a referential integrity constraint on the <ph id=\"ph4\">`PublishedBy`</ph> association.","pos":[2092,2292],"source":" The `Book` entity type has a property, `PublisherId`, that references the entity key of the `Publisher` entity type when you define a referential integrity constraint on the `PublishedBy` association."},{"pos":[2299,2410],"content":"<bpt id=\"p1\">![</bpt>RefConstraintModel<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/data/adonet/media/refconstraintmodel.gif \"</bpt>RefConstraintModel<ept id=\"p2\">\")</ept>","source":"![RefConstraintModel](../../../../docs/framework/data/adonet/media/refconstraintmodel.gif \"RefConstraintModel\")"},{"content":"The <bpt id=\"p1\">[</bpt>ADO.NET Entity Framework<ept id=\"p1\">](../../../../docs/framework/data/adonet/ef/index.md)</ept> uses a domain-specific language (DSL) called conceptual schema definition language (<bpt id=\"p2\">[</bpt>CSDL<ept id=\"p2\">](../../../../docs/framework/data/adonet/ef/language-reference/csdl-specification.md)</ept>) to define conceptual models.","pos":[2417,2704],"source":"The [ADO.NET Entity Framework](../../../../docs/framework/data/adonet/ef/index.md) uses a domain-specific language (DSL) called conceptual schema definition language ([CSDL](../../../../docs/framework/data/adonet/ef/language-reference/csdl-specification.md)) to define conceptual models."},{"content":"The following CSDL defines a referential integrity constraint on the <ph id=\"ph1\">`PublishedBy`</ph> association shown in the conceptual model above.","pos":[2705,2836],"source":" The following CSDL defines a referential integrity constraint on the `PublishedBy` association shown in the conceptual model above."},{"pos":[2843,2986],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>EDM_Example_Model#RefConstraint<ept id=\"p2\">](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books4.edmx#refconstraint)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[EDM_Example_Model#RefConstraint](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books4.edmx#refconstraint)]"},{"pos":[2995,3003],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Entity Data Model Key Concepts<ept id=\"p1\">](../../../../docs/framework/data/adonet/entity-data-model-key-concepts.md)</ept><ph id=\"ph1\"> </ph>","pos":[3007,3114],"source":"[Entity Data Model Key Concepts](../../../../docs/framework/data/adonet/entity-data-model-key-concepts.md) "},{"content":"<bpt id=\"p1\">[</bpt>Entity Data Model<ept id=\"p1\">](../../../../docs/framework/data/adonet/entity-data-model.md)</ept>","pos":[3118,3198],"source":"[Entity Data Model](../../../../docs/framework/data/adonet/entity-data-model.md)"}]}