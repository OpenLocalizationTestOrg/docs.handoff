{"content":"---\ntitle: \"<authentication> of <serviceCertificate> Element\"\nms.date: \"03/30/2017\"\nms.assetid: 733b67b4-08a1-4d25-9741-10046f9357ef\n---\n# \\<authentication> of \\<serviceCertificate> Element\nSpecifies the settings used by the client proxy to authenticate service certificates that are obtained using SSL/TLS negotiation.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \nendpointBehaviors section  \n\\<behavior>  \n\\<clientCredentials>  \n\\<serviceCertificate>  \n\\<authentication>  \n  \n## Syntax  \n  \n```xml  \n<authentication customCertificateValidatorType=\"String\"\n                certificateValidationMode=\"None/PeerTrust/ChainTrust/PeerOrChainTrust/Custom\"\n                revocationMode=\"NoCheck/Online/Offline\"\n                trustedStoreLocation=\"LocalMachine/CurrentUser\" />\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|customCertificateValidatorType|String. A type and assembly used to validate a custom type.|  \n|certificateValidationMode|Specifies one of three modes used to validate credentials. If set to `Custom`, then a customCertificateValidator must also be supplied. The default is `ChainTrust`.|  \n|revocationMode|One of the modes used to check for a revoked certificate lists (CRL). The default is `Online`.|  \n|trustedStoreLocation|One of the two system store locations: `LocalMachine` or `CurrentUser`. This value is used when a service certificate is negotiated to the client. Validation is performed against the **Trusted People** store in the specified store location. The default is `CurrentUser`.|  \n  \n## customCertificateValidator Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|String|Specifies the type name and assembly and other data used to find the type.|  \n  \n## certificateValidationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: None, PeerTrust, ChainTrust, PeerOrChainTrust, Custom.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## revocationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: NoCheck, Online, Offline.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## trustedStoreLocation Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: LocalMachine or CurrentUser. The default is CurrentUser. If the client application is running under a system account, then the certificate is typically under LocalMachine. If the client application is running under a user account, then the certificate is typically in CurrentUser.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<serviceCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md)|Specifies a certificate to use when authenticating a service to the client.|  \n  \n## Remarks  \n The `certificateValidationMode` attribute of this configuration element specifies the level of trust used to authenticate certificates. By default, the level is set to `ChainTrust`, which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain. This is the most secure mode. You can also set the value to `PeerOrChainTrust`, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain. This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority. When deploying a client, use the `ChainTrust` value instead. You can also set the value to `Custom` or `None`. To use the `Custom` value, you must also set the `customCertificateValidator` attribute to an assembly and type used to validate the certificate. To create your own custom validator, you must inherit from the abstract X509CertificateValidator class. For more information, see [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).  \n  \n The `revocationMode` attribute specifies how certificates are checked for revocation. The default is `online` which indicates that certificates will be checked automatically for revocation. For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).  \n  \n## Example  \n The following example does two tasks. It first specifies a service certificate for the client to use when communicating with endpoints whose domain name is `www.contoso.com` over the HTTP protocol. Second, it specifies the revocation mode and store location used during authentication.  \n  \n```xml  \n<serviceCertificate>\n  <defaultCertificate findValue=\"www.contoso.com\"\n                      storeLocation=\"LocalMachine\"\n                      storeName=\"TrustedPeople\"\n                      x509FindType=\"FindByIssuerDistinguishedName\" />\n  <scopedCertificates>\n     <add targetUri=\"http://www.contoso.com\"\n          findValue=\"www.contoso.com\"\n          storeLocation=\"LocalMachine\"\n          storeName=\"Root\"\n          x509FindType=\"FindByIssuerName\" />\n  </scopedCertificates>\n  <authentication revocationMode=\"Online\"\n                  trustedStoreLocation=\"LocalMachine\" />\n</serviceCertificate>\n```  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.X509RecipientCertificateClientElement>\n- <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>\n- <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.Authentication%2A>\n- <xref:System.ServiceModel.Security.X509ServiceCertificateAuthentication>\n- [Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)\n- [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)\n- [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)\n- [\\<authentication>](../../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md)\n- [Securing Clients](../../../../../docs/framework/wcf/securing-clients.md)\n- [Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)\n","nodes":[{"pos":[4,132],"embed":true,"restype":"x-metadata","content":"title: \"<authentication> of <serviceCertificate> Element\"\nms.date: \"03/30/2017\"\nms.assetid: 733b67b4-08a1-4d25-9741-10046f9357ef","nodes":[{"content":"<authentication> of <serviceCertificate> Element","nodes":[{"pos":[0,48],"content":"<ph id=\"ph1\">&lt;authentication&gt;</ph> of <ph id=\"ph2\">&lt;serviceCertificate&gt;</ph> Element","source":"<authentication> of <serviceCertificate> Element"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[139,189],"content":"\\<authentication> of \\<serviceCertificate> Element","linkify":"\\<authentication> of \\<serviceCertificate> Element","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>authentication&gt; of <ph id=\"ph2\">\\&lt;</ph>serviceCertificate&gt; Element","pos":[0,50],"source":"\\<authentication> of \\<serviceCertificate> Element"}]},{"content":"Specifies the settings used by the client proxy to authenticate service certificates that are obtained using SSL/TLS negotiation.","pos":[190,319]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[326,348],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[351,363],"source":"\\<behaviors>"},{"content":"endpointBehaviors section","pos":[366,391]},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[394,405],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;","pos":[408,428],"source":"\\<clientCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceCertificate&gt;","pos":[431,452],"source":"\\<serviceCertificate>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>authentication&gt;","pos":[455,472],"source":"\\<authentication>"},{"pos":[481,487],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[787,810],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[814,893]},{"pos":[903,913],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[920,929]},{"content":"Description","pos":[930,941]},{"content":"customCertificateValidatorType","pos":[984,1014]},{"content":"String.","pos":[1015,1022]},{"content":"A type and assembly used to validate a custom type.","pos":[1023,1074]},{"content":"certificateValidationMode","pos":[1079,1104]},{"content":"Specifies one of three modes used to validate credentials.","pos":[1105,1163]},{"content":"If set to <ph id=\"ph1\">`Custom`</ph>, then a customCertificateValidator must also be supplied.","pos":[1164,1240],"source":" If set to `Custom`, then a customCertificateValidator must also be supplied."},{"content":"The default is <ph id=\"ph1\">`ChainTrust`</ph>.","pos":[1241,1269],"source":" The default is `ChainTrust`."},{"content":"revocationMode","pos":[1274,1288]},{"content":"One of the modes used to check for a revoked certificate lists (CRL).","pos":[1289,1358]},{"content":"The default is <ph id=\"ph1\">`Online`</ph>.","pos":[1359,1383],"source":" The default is `Online`."},{"content":"trustedStoreLocation","pos":[1388,1408]},{"content":"One of the two system store locations: <ph id=\"ph1\">`LocalMachine`</ph> or <ph id=\"ph2\">`CurrentUser`</ph>.","pos":[1409,1480],"source":"One of the two system store locations: `LocalMachine` or `CurrentUser`."},{"content":"This value is used when a service certificate is negotiated to the client.","pos":[1481,1555]},{"content":"Validation is performed against the <bpt id=\"p1\">**</bpt>Trusted People<ept id=\"p1\">**</ept> store in the specified store location.","pos":[1556,1649],"source":" Validation is performed against the **Trusted People** store in the specified store location."},{"content":"The default is <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[1650,1679],"source":" The default is `CurrentUser`."},{"pos":[1689,1725],"content":"customCertificateValidator Attribute","linkify":"customCertificateValidator Attribute","nodes":[{"content":"customCertificateValidator Attribute","pos":[0,36]}]},{"content":"Value","pos":[1732,1737]},{"content":"Description","pos":[1738,1749]},{"content":"String","pos":[1788,1794]},{"content":"Specifies the type name and assembly and other data used to find the type.","pos":[1795,1869]},{"pos":[1879,1914],"content":"certificateValidationMode Attribute","linkify":"certificateValidationMode Attribute","nodes":[{"content":"certificateValidationMode Attribute","pos":[0,35]}]},{"content":"Value","pos":[1921,1926]},{"content":"Description","pos":[1927,1938]},{"content":"Enumeration","pos":[1977,1988]},{"content":"One of the following values: None, PeerTrust, ChainTrust, PeerOrChainTrust, Custom.","pos":[1989,2072]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[2085,2219],"source":"For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[2229,2253],"content":"revocationMode Attribute","linkify":"revocationMode Attribute","nodes":[{"content":"revocationMode Attribute","pos":[0,24]}]},{"content":"Value","pos":[2260,2265]},{"content":"Description","pos":[2266,2277]},{"content":"Enumeration","pos":[2316,2327]},{"content":"One of the following values: NoCheck, Online, Offline.","pos":[2328,2382]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[2395,2529],"source":"For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[2539,2569],"content":"trustedStoreLocation Attribute","linkify":"trustedStoreLocation Attribute","nodes":[{"content":"trustedStoreLocation Attribute","pos":[0,30]}]},{"content":"Value","pos":[2576,2581]},{"content":"Description","pos":[2582,2593]},{"content":"Enumeration","pos":[2632,2643]},{"content":"One of the following values: LocalMachine or CurrentUser.","pos":[2644,2701]},{"content":"The default is CurrentUser.","pos":[2702,2729]},{"content":"If the client application is running under a system account, then the certificate is typically under LocalMachine.","pos":[2730,2844]},{"content":"If the client application is running under a user account, then the certificate is typically in CurrentUser.","pos":[2845,2953]},{"pos":[2964,2978],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[2982,2987]},{"pos":[2997,3012],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3019,3026]},{"content":"Description","pos":[3027,3038]},{"pos":[3079,3215],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>serviceCertificate&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md)</ept>","source":"[\\<serviceCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md)"},{"content":"Specifies a certificate to use when authenticating a service to the client.","pos":[3216,3291]},{"pos":[3301,3308],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`certificateValidationMode`</ph> attribute of this configuration element specifies the level of trust used to authenticate certificates.","pos":[3312,3447],"source":"The `certificateValidationMode` attribute of this configuration element specifies the level of trust used to authenticate certificates."},{"content":"By default, the level is set to <ph id=\"ph1\">`ChainTrust`</ph>, which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain.","pos":[3448,3645],"source":" By default, the level is set to `ChainTrust`, which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain."},{"content":"This is the most secure mode.","pos":[3646,3675]},{"content":"You can also set the value to <ph id=\"ph1\">`PeerOrChainTrust`</ph>, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain.","pos":[3676,3850],"source":" You can also set the value to `PeerOrChainTrust`, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain."},{"content":"This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.","pos":[3851,4001]},{"content":"When deploying a client, use the <ph id=\"ph1\">`ChainTrust`</ph> value instead.","pos":[4002,4062],"source":" When deploying a client, use the `ChainTrust` value instead."},{"content":"You can also set the value to <ph id=\"ph1\">`Custom`</ph> or <ph id=\"ph2\">`None`</ph>.","pos":[4063,4112],"source":" You can also set the value to `Custom` or `None`."},{"content":"To use the <ph id=\"ph1\">`Custom`</ph> value, you must also set the <ph id=\"ph2\">`customCertificateValidator`</ph> attribute to an assembly and type used to validate the certificate.","pos":[4113,4258],"source":" To use the `Custom` value, you must also set the `customCertificateValidator` attribute to an assembly and type used to validate the certificate."},{"content":"To create your own custom validator, you must inherit from the abstract X509CertificateValidator class.","pos":[4259,4362]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Create a Service that Employs a Custom Certificate Validator<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)</ept>.","pos":[4363,4576],"source":" For more information, see [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)."},{"content":"The <ph id=\"ph1\">`revocationMode`</ph> attribute specifies how certificates are checked for revocation.","pos":[4583,4668],"source":"The `revocationMode` attribute specifies how certificates are checked for revocation."},{"content":"The default is <ph id=\"ph1\">`online`</ph> which indicates that certificates will be checked automatically for revocation.","pos":[4669,4772],"source":" The default is `online` which indicates that certificates will be checked automatically for revocation."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[4773,4907],"source":" For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[4916,4923],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example does two tasks.","pos":[4927,4964]},{"content":"It first specifies a service certificate for the client to use when communicating with endpoints whose domain name is <ph id=\"ph1\">`www.contoso.com`</ph> over the HTTP protocol.","pos":[4965,5124],"source":" It first specifies a service certificate for the client to use when communicating with endpoints whose domain name is `www.contoso.com` over the HTTP protocol."},{"content":"Second, it specifies the revocation mode and store location used during authentication.","pos":[5125,5212]},{"pos":[5841,5849],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6185,6285],"content":"<bpt id=\"p1\">[</bpt>Security Behaviors<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)</ept>","source":"[Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)"},{"pos":[6288,6395],"content":"<bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>","source":"[Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)"},{"pos":[6398,6584],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Service that Employs a Custom Certificate Validator<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)</ept>","source":"[How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)"},{"pos":[6587,6715],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>authentication&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md)</ept>","source":"[\\<authentication>](../../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md)"},{"pos":[6718,6791],"content":"<bpt id=\"p1\">[</bpt>Securing Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/securing-clients.md)</ept>","source":"[Securing Clients](../../../../../docs/framework/wcf/securing-clients.md)"},{"pos":[6794,6909],"content":"<bpt id=\"p1\">[</bpt>Securing Services and Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)</ept>","source":"[Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)"}]}