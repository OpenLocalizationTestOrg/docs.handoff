{"content":"---\ntitle: \"Equality Comparisons (C# Programming Guide) | Microsoft Docs\"\n\nms.date: \"2015-07-20\"\nms.prod: .net\n\n\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"object equality [C#]\"\nms.assetid: 10b865ea-4e7b-4127-9242-c9b8f57d9f04\ncaps.latest.revision: 14\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# Equality Comparisons (C# Programming Guide)\nIt is sometimes necessary to compare two values for equality. In some cases, you are testing for *value equality*, also known as *equivalence*, which means that the values that are contained by the two variables are equal. In other cases, you have to determine whether two variables refer to the same underlying object in memory. This type of equality is called *reference equality*, or *identity*. This topic describes these two kinds of equality and provides links to other topics for more information.  \n  \n## Reference Equality  \n Reference equality means that two object references refer to the same underlying object. This can occur through simple assignment, as shown in the following example.  \n  \n [!code-cs[csProgGuideStatements#18](../../../csharp/programming-guide/classes-and-structs/codesnippet/CSharp/equality-comparisons_1.cs)]  \n  \n In this code, two objects are created, but after the assignment statement, both references refer to the same object. Therefore they have reference equality. Use the <xref:System.Object.ReferenceEquals%2A> method to determine whether two references refer to the same object.  \n  \n The concept of reference equality applies only to reference types. Value type objects cannot have reference equality because when an instance of a value type is assigned to a variable, a copy of the value is made. Therefore you can never have two unboxed structs that refer to the same location in memory. Furthermore, if you use <xref:System.Object.ReferenceEquals%2A> to compare two value types, the result will always be `false`, even if the values that are contained in the objects are all identical. This is because each variable is boxed into a separate object instance. For more information, see [How to: Test for Reference Equality (Identity)](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md).  \n  \n## Value Equality  \n Value equality means that two objects contain the same value or values. For primitive value types such as [int](../../../csharp/language-reference/keywords/int.md) or [bool](../../../csharp/language-reference/keywords/bool.md), tests for value equality are straightforward. You can use the [==](../../../csharp/language-reference/operators/equality-comparison-operator.md) operator, as shown in the following example.  \n  \n```csharp  \nint a = GetOriginalValue();  \nint b = GetCurrentValue();  \n  \n// Test for value equality.   \nif( b == a)   \n{  \n    // The two integers are equal.  \n}  \n```  \n  \n For most other types, testing for value equality is more complex because it requires that you understand how the type defines it. For classes and structs that have multiple fields or properties, value equality is often defined to mean that all fields or properties have the same value. For example, two `Point` objects might be defined to be equivalent if pointA.X is equal to pointB.X and pointA.Y is equal to pointB.Y.  \n  \n However, there is no requirement that equivalence be based on all the fields in a type. It can be based on a subset. When you compare types that you do not own, you should make sure to understand specifically how equivalence is defined for that type. For more information about how to define value equality in your own classes and structs, see [How to: Define Value Equality for a Type](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md).  \n  \n### Value Equality for Floating Point Values  \n Equality comparisons of floating point values ([double](../../../csharp/language-reference/keywords/double.md) and [float](../../../csharp/language-reference/keywords/float.md)) are problematic because of the imprecision of floating point arithmetic on binary computers. For more information, see the remarks in the topic <xref:System.Double?displayProperty=fullName>.  \n  \n## Related Topics  \n  \n|Title|Description|  \n|-----------|-----------------|  \n|[How to: Test for Reference Equality (Identity)](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md)|Describes how to determine whether two variables have reference equality.|  \n|[How to: Define Value Equality for a Type](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md)|Describes how to provide a custom definition of value equality for a type.|  \n|[C# Programming Guide](../../../csharp/programming-guide/index.md)|Provides links to detailed information about important C# language features and features that are available to C# through the .NET Framework.|  \n|[Types](../../../csharp/programming-guide/types/index.md)|Provides information about the C# type system and links to additional information.|  \n  \n## See Also  \n [C# Programming Guide](../../../csharp/programming-guide/index.md)","nodes":[{"pos":[12,72],"content":"Equality Comparisons (C# Programming Guide) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Equality Comparisons (C# Programming Guide) | Microsoft Docs","pos":[0,60]}]},{"pos":[575,618],"content":"Equality Comparisons (C# Programming Guide)","linkify":"Equality Comparisons (C# Programming Guide)","nodes":[{"content":"Equality Comparisons (C# Programming Guide)","pos":[0,43]}]},{"content":"It is sometimes necessary to compare two values for equality.","pos":[619,680]},{"content":"In some cases, you are testing for <bpt id=\"p1\">*</bpt>value equality<ept id=\"p1\">*</ept>, also known as <bpt id=\"p2\">*</bpt>equivalence<ept id=\"p2\">*</ept>, which means that the values that are contained by the two variables are equal.","pos":[681,841],"source":" In some cases, you are testing for *value equality*, also known as *equivalence*, which means that the values that are contained by the two variables are equal."},{"content":"In other cases, you have to determine whether two variables refer to the same underlying object in memory.","pos":[842,948]},{"content":"This type of equality is called <bpt id=\"p1\">*</bpt>reference equality<ept id=\"p1\">*</ept>, or <bpt id=\"p2\">*</bpt>identity<ept id=\"p2\">*</ept>.","pos":[949,1017],"source":" This type of equality is called *reference equality*, or *identity*."},{"content":"This topic describes these two kinds of equality and provides links to other topics for more information.","pos":[1018,1123]},{"pos":[1132,1150],"content":"Reference Equality","linkify":"Reference Equality","nodes":[{"content":"Reference Equality","pos":[0,18]}]},{"content":"Reference equality means that two object references refer to the same underlying object.","pos":[1154,1242]},{"content":"This can occur through simple assignment, as shown in the following example.","pos":[1243,1319]},{"pos":[1326,1462],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csProgGuideStatements#18<ept id=\"p2\">](../../../csharp/programming-guide/classes-and-structs/codesnippet/CSharp/equality-comparisons_1.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csProgGuideStatements#18](../../../csharp/programming-guide/classes-and-structs/codesnippet/CSharp/equality-comparisons_1.cs)]"},{"content":"In this code, two objects are created, but after the assignment statement, both references refer to the same object.","pos":[1469,1585]},{"content":"Therefore they have reference equality.","pos":[1586,1625]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Object.ReferenceEquals%2A&gt;</ph> method to determine whether two references refer to the same object.","pos":[1626,1742],"source":" Use the <xref:System.Object.ReferenceEquals%2A> method to determine whether two references refer to the same object."},{"content":"The concept of reference equality applies only to reference types.","pos":[1749,1815]},{"content":"Value type objects cannot have reference equality because when an instance of a value type is assigned to a variable, a copy of the value is made.","pos":[1816,1962]},{"content":"Therefore you can never have two unboxed structs that refer to the same location in memory.","pos":[1963,2054]},{"content":"Furthermore, if you use <ph id=\"ph1\">&lt;xref:System.Object.ReferenceEquals%2A&gt;</ph> to compare two value types, the result will always be <ph id=\"ph2\">`false`</ph>, even if the values that are contained in the objects are all identical.","pos":[2055,2253],"source":" Furthermore, if you use <xref:System.Object.ReferenceEquals%2A> to compare two value types, the result will always be `false`, even if the values that are contained in the objects are all identical."},{"content":"This is because each variable is boxed into a separate object instance.","pos":[2254,2325]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Test for Reference Equality (Identity)<ept id=\"p1\">](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md)</ept>.","pos":[2326,2516],"source":" For more information, see [How to: Test for Reference Equality (Identity)](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md)."},{"pos":[2525,2539],"content":"Value Equality","linkify":"Value Equality","nodes":[{"content":"Value Equality","pos":[0,14]}]},{"content":"Value equality means that two objects contain the same value or values.","pos":[2543,2614]},{"content":"For primitive value types such as <bpt id=\"p1\">[</bpt>int<ept id=\"p1\">](../../../csharp/language-reference/keywords/int.md)</ept> or <bpt id=\"p2\">[</bpt>bool<ept id=\"p2\">](../../../csharp/language-reference/keywords/bool.md)</ept>, tests for value equality are straightforward.","pos":[2615,2816],"source":" For primitive value types such as [int](../../../csharp/language-reference/keywords/int.md) or [bool](../../../csharp/language-reference/keywords/bool.md), tests for value equality are straightforward."},{"content":"You can use the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">==</ph><ept id=\"p1\">](../../../csharp/language-reference/operators/equality-comparison-operator.md)</ept> operator, as shown in the following example.","pos":[2817,2960],"source":" You can use the [==](../../../csharp/language-reference/operators/equality-comparison-operator.md) operator, as shown in the following example."},{"content":"For most other types, testing for value equality is more complex because it requires that you understand how the type defines it.","pos":[3141,3270]},{"content":"For classes and structs that have multiple fields or properties, value equality is often defined to mean that all fields or properties have the same value.","pos":[3271,3426]},{"content":"For example, two <ph id=\"ph1\">`Point`</ph> objects might be defined to be equivalent if pointA.X is equal to pointB.X and pointA.Y is equal to pointB.Y.","pos":[3427,3561],"source":" For example, two `Point` objects might be defined to be equivalent if pointA.X is equal to pointB.X and pointA.Y is equal to pointB.Y."},{"content":"However, there is no requirement that equivalence be based on all the fields in a type.","pos":[3568,3655]},{"content":"It can be based on a subset.","pos":[3656,3684]},{"content":"When you compare types that you do not own, you should make sure to understand specifically how equivalence is defined for that type.","pos":[3685,3818]},{"content":"For more information about how to define value equality in your own classes and structs, see <bpt id=\"p1\">[</bpt>How to: Define Value Equality for a Type<ept id=\"p1\">](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md)</ept>.","pos":[3819,4066],"source":" For more information about how to define value equality in your own classes and structs, see [How to: Define Value Equality for a Type](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md)."},{"pos":[4076,4116],"content":"Value Equality for Floating Point Values","linkify":"Value Equality for Floating Point Values","nodes":[{"content":"Value Equality for Floating Point Values","pos":[0,40]}]},{"content":"Equality comparisons of floating point values (<bpt id=\"p1\">[</bpt>double<ept id=\"p1\">](../../../csharp/language-reference/keywords/double.md)</ept> and <bpt id=\"p2\">[</bpt>float<ept id=\"p2\">](../../../csharp/language-reference/keywords/float.md)</ept>) are problematic because of the imprecision of floating point arithmetic on binary computers.","pos":[4120,4390],"source":"Equality comparisons of floating point values ([double](../../../csharp/language-reference/keywords/double.md) and [float](../../../csharp/language-reference/keywords/float.md)) are problematic because of the imprecision of floating point arithmetic on binary computers."},{"content":"For more information, see the remarks in the topic <ph id=\"ph1\">&lt;xref:System.Double?displayProperty=fullName&gt;</ph>.","pos":[4391,4488],"source":" For more information, see the remarks in the topic <xref:System.Double?displayProperty=fullName>."},{"pos":[4497,4511],"content":"Related Topics","linkify":"Related Topics","nodes":[{"content":"Related Topics","pos":[0,14]}]},{"content":"Title","pos":[4518,4523]},{"content":"Description","pos":[4524,4535]},{"pos":[4574,4737],"content":"<bpt id=\"p1\">[</bpt>How to: Test for Reference Equality (Identity)<ept id=\"p1\">](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md)</ept>","source":"[How to: Test for Reference Equality (Identity)](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md)"},{"content":"Describes how to determine whether two variables have reference equality.","pos":[4738,4811]},{"pos":[4816,4969],"content":"<bpt id=\"p1\">[</bpt>How to: Define Value Equality for a Type<ept id=\"p1\">](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md)</ept>","source":"[How to: Define Value Equality for a Type](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md)"},{"content":"Describes how to provide a custom definition of value equality for a type.","pos":[4970,5044]},{"pos":[5049,5115],"content":"<bpt id=\"p1\">[</bpt>C# Programming Guide<ept id=\"p1\">](../../../csharp/programming-guide/index.md)</ept>","source":"[C# Programming Guide](../../../csharp/programming-guide/index.md)"},{"content":"Provides links to detailed information about important C# language features and features that are available to C# through the .NET Framework.","pos":[5116,5257]},{"pos":[5262,5319],"content":"<bpt id=\"p1\">[</bpt>Types<ept id=\"p1\">](../../../csharp/programming-guide/types/index.md)</ept>","source":"[Types](../../../csharp/programming-guide/types/index.md)"},{"content":"Provides information about the C# type system and links to additional information.","pos":[5320,5402]},{"pos":[5412,5420],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[5424,5490],"content":"<bpt id=\"p1\">[</bpt>C# Programming Guide<ept id=\"p1\">](../../../csharp/programming-guide/index.md)</ept>","source":"[C# Programming Guide](../../../csharp/programming-guide/index.md)"}]}