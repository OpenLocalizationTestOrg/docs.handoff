{"content":"---\ntitle: \"Transport Security with Windows Authentication\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 96dd26e2-46e7-4de0-9a29-4fcb05bf187b\n---\n# Transport Security with Windows Authentication\nThe following scenario shows a Windows Communication Foundation (WCF) client and service secured by Windows security. For more information about programming, see [How to: Secure a Service with Windows Credentials](../../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).  \n  \n An intranet Web service displays human resources information. The client is a Windows Form application. The application is deployed in a domain with a Kerberos controller securing the domain.  \n  \n ![Transport security with Windows authentication](./media/transport-security-with-windows-authentication/secured-windows-authentication.gif)  \n  \n|Characteristic|Description|  \n|--------------------|-----------------|  \n|Security Mode|Transport|  \n|Interoperability|WCF only|  \n|Authentication (Server)<br /><br /> Authentication (Client)|Yes (using Windows integrated authentication)<br /><br /> Yes (using Windows integrated authentication)|  \n|Integrity|Yes|  \n|Confidentiality|Yes|  \n|Transport|NET.TCP|  \n|Binding|<xref:System.ServiceModel.NetTcpBinding>|  \n  \n## Service  \n The following code and configuration are meant to run independently. Do one of the following:  \n  \n-   Create a stand-alone service using the code with no configuration.  \n  \n-   Create a service using the supplied configuration, but do not define any endpoints.  \n  \n### Code  \n The following code shows how to create a service endpoint that uses a Windows security.  \n  \n [!code-csharp[C_SecurityScenarios#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_securityscenarios/cs/source.cs#3)]\n [!code-vb[C_SecurityScenarios#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_securityscenarios/vb/source.vb#3)]  \n  \n### Configuration  \n The following configuration can be used instead of the code to set up the service endpoint:  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"utf-8\"?>  \n<configuration>  \n  <system.serviceModel>  \n    <behaviors />  \n    <services>  \n      <service behaviorConfiguration=\"\" name=\"ServiceModel.Calculator\">  \n        <endpoint address=\"net.tcp://localhost:8008/Calculator\"   \n                  binding=\"netTcpBinding\"  \n          bindingConfiguration=\"WindowsClientOverTcp\"   \n                  name=\"WindowsClientOverTcp\"  \n                  contract=\"ServiceModel.ICalculator\" />  \n      </service>  \n    </services>  \n    <bindings>  \n      <netTcpBinding>  \n        <binding name=\"WindowsClientOverTcp\">  \n          <security mode=\"Transport\">  \n            <transport clientCredentialType=\"Windows\" />  \n          </security>  \n        </binding>  \n      </netTcpBinding>  \n    </bindings>  \n    <client />  \n  </system.serviceModel>  \n</configuration>  \n```  \n  \n## Client  \n The following code and configuration are meant to run independently. Do one of the following:  \n  \n-   Create a stand-alone client using the code (and client code).  \n  \n-   Create a client that does not define any endpoint addresses. Instead, use the client constructor that takes the configuration name as an argument. For example:  \n  \n     [!code-csharp[C_SecurityScenarios#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_securityscenarios/cs/source.cs#0)]\n     [!code-vb[C_SecurityScenarios#0](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_securityscenarios/vb/source.vb#0)]  \n  \n### Code  \n The following code creates the client. The binding is configured to use the Transport mode security, with the TCP transport, with the client credential type set to Windows.  \n  \n [!code-csharp[C_SecurityScenarios#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_securityscenarios/cs/source.cs#4)]\n [!code-vb[C_SecurityScenarios#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_securityscenarios/vb/source.vb#4)]  \n  \n### Configuration  \n The following configuration can be used instead of the code to create the client.  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"utf-8\"?>  \n<configuration>  \n  <system.serviceModel>  \n    <bindings>  \n      <netTcpBinding>  \n        <binding name=\"NetTcpBinding_ICalculator\" >  \n          <security mode=\"Transport\">  \n            <transport clientCredentialType=\"Windows\" />  \n          </security>  \n        </binding>  \n      </netTcpBinding>  \n    </bindings>  \n    <client>  \n      <endpoint address=\"net.tcp://localhost:8008/Calculator\"   \n                binding=\"netTcpBinding\"            \n                bindingConfiguration=\"NetTcpBinding_ICalculator\"   \n                contract=\"ICalculator\"  \n                name=\"NetTcpBinding_ICalculator\">  \n      </endpoint>  \n    </client>  \n  </system.serviceModel>  \n</configuration>  \n```  \n  \n## See also\n\n- [Security Overview](../../../../docs/framework/wcf/feature-details/security-overview.md)\n- [How to: Secure a Service with Windows Credentials](../../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)\n- [Security Model for Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)\n","nodes":[{"pos":[4,164],"embed":true,"restype":"x-metadata","content":"title: \"Transport Security with Windows Authentication\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 96dd26e2-46e7-4de0-9a29-4fcb05bf187b","nodes":[{"content":"Transport Security with Windows Authentication","nodes":[{"pos":[0,46],"content":"Transport Security with Windows Authentication","nodes":[{"content":"Transport Security with Windows Authentication","pos":[0,46]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[171,217],"content":"Transport Security with Windows Authentication","linkify":"Transport Security with Windows Authentication","nodes":[{"content":"Transport Security with Windows Authentication","pos":[0,46]}]},{"content":"The following scenario shows a Windows Communication Foundation (WCF) client and service secured by Windows security.","pos":[218,335]},{"content":"For more information about programming, see <bpt id=\"p1\">[</bpt>How to: Secure a Service with Windows Credentials<ept id=\"p1\">](../../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)</ept>.","pos":[336,516],"source":" For more information about programming, see [How to: Secure a Service with Windows Credentials](../../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)."},{"content":"An intranet Web service displays human resources information.","pos":[523,584]},{"content":"The client is a Windows Form application.","pos":[585,626]},{"content":"The application is deployed in a domain with a Kerberos controller securing the domain.","pos":[627,714]},{"content":"Transport security with Windows authentication","pos":[723,769]},{"content":"Characteristic","pos":[868,882]},{"content":"Description","pos":[883,894]},{"content":"Security Mode","pos":[942,955]},{"content":"Transport","pos":[956,965]},{"content":"Interoperability","pos":[970,986]},{"content":"WCF only","pos":[987,995]},{"content":"Authentication (Server)","pos":[1000,1023]},{"content":"Authentication (Client)","pos":[1036,1059]},{"content":"Yes (using Windows integrated authentication)","pos":[1060,1105]},{"content":"Yes (using Windows integrated authentication)","pos":[1118,1163]},{"content":"Integrity","pos":[1168,1177]},{"content":"Yes","pos":[1178,1181]},{"content":"Confidentiality","pos":[1186,1201]},{"content":"Yes","pos":[1202,1205]},{"content":"Transport","pos":[1210,1219]},{"content":"NET.TCP","pos":[1220,1227]},{"content":"Binding","pos":[1232,1239]},{"pos":[1290,1297],"content":"Service","linkify":"Service","nodes":[{"content":"Service","pos":[0,7]}]},{"content":"The following code and configuration are meant to run independently.","pos":[1301,1369]},{"content":"Do one of the following:","pos":[1370,1394]},{"content":"Create a stand-alone service using the code with no configuration.","pos":[1404,1470]},{"content":"Create a service using the supplied configuration, but do not define any endpoints.","pos":[1480,1563]},{"pos":[1573,1577],"content":"Code","linkify":"Code","nodes":[{"content":"Code","pos":[0,4]}]},{"content":"The following code shows how to create a service endpoint that uses a Windows security.","pos":[1581,1668]},{"pos":[1938,1951],"content":"Configuration","linkify":"Configuration","nodes":[{"content":"Configuration","pos":[0,13]}]},{"content":"The following configuration can be used instead of the code to set up the service endpoint:","pos":[1955,2046]},{"pos":[2920,2926],"content":"Client","linkify":"Client","nodes":[{"content":"Client","pos":[0,6]}]},{"content":"The following code and configuration are meant to run independently.","pos":[2930,2998]},{"content":"Do one of the following:","pos":[2999,3023]},{"content":"Create a stand-alone client using the code (and client code).","pos":[3033,3094]},{"content":"Create a client that does not define any endpoint addresses.","pos":[3104,3164]},{"content":"Instead, use the client constructor that takes the configuration name as an argument.","pos":[3165,3250]},{"content":"For example:","pos":[3251,3263]},{"pos":[3274,3531],"content":"[!code-csharp[C_SecurityScenarios#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_securityscenarios/cs/source.cs#0)]\n [!code-vb[C_SecurityScenarios#0](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_securityscenarios/vb/source.vb#0)]","leadings":["","    "],"nodes":[]},{"pos":[3541,3545],"content":"Code","linkify":"Code","nodes":[{"content":"Code","pos":[0,4]}]},{"content":"The following code creates the client.","pos":[3549,3587]},{"content":"The binding is configured to use the Transport mode security, with the TCP transport, with the client credential type set to Windows.","pos":[3588,3721]},{"pos":[3991,4004],"content":"Configuration","linkify":"Configuration","nodes":[{"content":"Configuration","pos":[0,13]}]},{"content":"The following configuration can be used instead of the code to create the client.","pos":[4008,4089]},{"pos":[4858,4866],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4870,4958],"content":"<bpt id=\"p1\">[</bpt>Security Overview<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/security-overview.md)</ept>","source":"[Security Overview](../../../../docs/framework/wcf/feature-details/security-overview.md)"},{"pos":[4961,5096],"content":"<bpt id=\"p1\">[</bpt>How to: Secure a Service with Windows Credentials<ept id=\"p1\">](../../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)</ept>","source":"[How to: Secure a Service with Windows Credentials](../../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)"},{"pos":[5099,5205],"content":"<bpt id=\"p1\">[</bpt>Security Model for Windows Server App Fabric<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkID=201279&amp;clcid=0x409)</ept>","source":"[Security Model for Windows Server App Fabric](https://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)"}]}