{"content":"---\ntitle: \"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method - C# Programming Guide\"\nms.custom: seodec18\nms.date: 07/20/2015\nhelpviewer_keywords: \n  - \"structs [C#], passing as method parameter\"\n  - \"passing parameters [C#], structs vs. classes\"\n  - \"methods [C#], passing classes vs. structs\"\nms.assetid: 9c1313a6-32a8-4ea7-a59f-450f66af628b\n---\n# How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method (C# Programming Guide)\nThe following example demonstrates how passing a [struct](../../../csharp/language-reference/keywords/struct.md) to a method differs from passing a [class](../../../csharp/language-reference/keywords/class.md) instance to a method. In the example, both of the arguments (struct and class instance) are passed by value, and both methods change the value of one field of the argument. However, the results of the two methods are not the same because what is passed when you pass a struct differs from what is passed when you pass an instance of a class.  \n  \n Because a struct is a [value type](../../../csharp/language-reference/keywords/value-types.md), when you [pass a struct by value](../../../csharp/programming-guide/classes-and-structs/passing-value-type-parameters.md) to a method, the method receives and operates on a copy of the struct argument. The method has no access to the original struct in the calling method and therefore can't change it in any way. The method can change only the copy.  \n  \n A class instance is a [reference type](../../../csharp/language-reference/keywords/reference-types.md), not a value type. When [a reference type is passed by value](../../../csharp/programming-guide/classes-and-structs/passing-reference-type-parameters.md) to a method, the method receives a copy of the reference to the class instance. That is, the method receives a copy of the address of the instance, not a copy of the instance itself. The class instance in the calling method has an address, the parameter in the called method has a copy of the address, and both addresses refer to the same object. Because the parameter contains only a copy of the address, the called method cannot change the address of the class instance in the calling method. However, the called method can use the address to access the class members that both the original address and the copy reference. If the called method changes a class member, the original class instance in the calling method also changes.  \n  \n The output of the following example illustrates the difference. The value of the `willIChange` field of the class instance is changed by the call to method `ClassTaker` because the method uses the address in the parameter to find the specified field of the class instance. The `willIChange` field of the struct in the calling method is not changed by the call to method `StructTaker` because the value of the argument is a copy of the struct itself, not a copy of its address. `StructTaker` changes the copy, and the copy is lost when the call to `StructTaker` is completed.  \n  \n## Example  \n [!code-csharp[csProgGuideObjects#32](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#32)]  \n  \n## See also\n\n- [C# Programming Guide](../../../csharp/programming-guide/index.md)\n- [Classes](../../../csharp/programming-guide/classes-and-structs/classes.md)\n- [Structs](../../../csharp/programming-guide/classes-and-structs/structs.md)\n- [Passing Parameters](../../../csharp/programming-guide/classes-and-structs/passing-parameters.md)\n","nodes":[{"pos":[4,388],"embed":true,"restype":"x-metadata","content":"title: \"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method - C# Programming Guide\"\nms.custom: seodec18\nms.date: 07/20/2015\nhelpviewer_keywords: \n  - \"structs [C#], passing as method parameter\"\n  - \"passing parameters [C#], structs vs. classes\"\n  - \"methods [C#], passing classes vs. structs\"\nms.assetid: 9c1313a6-32a8-4ea7-a59f-450f66af628b","nodes":[{"content":"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method - C# Programming Guide","nodes":[{"pos":[0,117],"content":"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method - C# Programming Guide","nodes":[{"content":"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method - C# Programming Guide","pos":[0,117]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[395,512],"content":"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method (C# Programming Guide)","linkify":"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method (C# Programming Guide)","nodes":[{"content":"How to: Know the Difference Between Passing a Struct and Passing a Class Reference to a Method (C# Programming Guide)","pos":[0,117]}]},{"content":"The following example demonstrates how passing a <bpt id=\"p1\">[</bpt>struct<ept id=\"p1\">](../../../csharp/language-reference/keywords/struct.md)</ept> to a method differs from passing a <bpt id=\"p2\">[</bpt>class<ept id=\"p2\">](../../../csharp/language-reference/keywords/class.md)</ept> instance to a method.","pos":[513,744],"source":"The following example demonstrates how passing a [struct](../../../csharp/language-reference/keywords/struct.md) to a method differs from passing a [class](../../../csharp/language-reference/keywords/class.md) instance to a method."},{"content":"In the example, both of the arguments (struct and class instance) are passed by value, and both methods change the value of one field of the argument.","pos":[745,895]},{"content":"However, the results of the two methods are not the same because what is passed when you pass a struct differs from what is passed when you pass an instance of a class.","pos":[896,1064]},{"content":"Because a struct is a <bpt id=\"p1\">[</bpt>value type<ept id=\"p1\">](../../../csharp/language-reference/keywords/value-types.md)</ept>, when you <bpt id=\"p2\">[</bpt>pass a struct by value<ept id=\"p2\">](../../../csharp/programming-guide/classes-and-structs/passing-value-type-parameters.md)</ept> to a method, the method receives and operates on a copy of the struct argument.","pos":[1071,1368],"source":"Because a struct is a [value type](../../../csharp/language-reference/keywords/value-types.md), when you [pass a struct by value](../../../csharp/programming-guide/classes-and-structs/passing-value-type-parameters.md) to a method, the method receives and operates on a copy of the struct argument."},{"content":"The method has no access to the original struct in the calling method and therefore can't change it in any way.","pos":[1369,1480]},{"content":"The method can change only the copy.","pos":[1481,1517]},{"content":"A class instance is a <bpt id=\"p1\">[</bpt>reference type<ept id=\"p1\">](../../../csharp/language-reference/keywords/reference-types.md)</ept>, not a value type.","pos":[1524,1645],"source":"A class instance is a [reference type](../../../csharp/language-reference/keywords/reference-types.md), not a value type."},{"content":"When <bpt id=\"p1\">[</bpt>a reference type is passed by value<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/passing-reference-type-parameters.md)</ept> to a method, the method receives a copy of the reference to the class instance.","pos":[1646,1860],"source":" When [a reference type is passed by value](../../../csharp/programming-guide/classes-and-structs/passing-reference-type-parameters.md) to a method, the method receives a copy of the reference to the class instance."},{"content":"That is, the method receives a copy of the address of the instance, not a copy of the instance itself.","pos":[1861,1963]},{"content":"The class instance in the calling method has an address, the parameter in the called method has a copy of the address, and both addresses refer to the same object.","pos":[1964,2127]},{"content":"Because the parameter contains only a copy of the address, the called method cannot change the address of the class instance in the calling method.","pos":[2128,2275]},{"content":"However, the called method can use the address to access the class members that both the original address and the copy reference.","pos":[2276,2405]},{"content":"If the called method changes a class member, the original class instance in the calling method also changes.","pos":[2406,2514]},{"content":"The output of the following example illustrates the difference.","pos":[2521,2584]},{"content":"The value of the <ph id=\"ph1\">`willIChange`</ph> field of the class instance is changed by the call to method <ph id=\"ph2\">`ClassTaker`</ph> because the method uses the address in the parameter to find the specified field of the class instance.","pos":[2585,2793],"source":" The value of the `willIChange` field of the class instance is changed by the call to method `ClassTaker` because the method uses the address in the parameter to find the specified field of the class instance."},{"content":"The <ph id=\"ph1\">`willIChange`</ph> field of the struct in the calling method is not changed by the call to method <ph id=\"ph2\">`StructTaker`</ph> because the value of the argument is a copy of the struct itself, not a copy of its address.","pos":[2794,2997],"source":" The `willIChange` field of the struct in the calling method is not changed by the call to method `StructTaker` because the value of the argument is a copy of the struct itself, not a copy of its address."},{"content":"<ph id=\"ph1\">`StructTaker`</ph> changes the copy, and the copy is lost when the call to <ph id=\"ph2\">`StructTaker`</ph> is completed.","pos":[2998,3095],"source":"`StructTaker` changes the copy, and the copy is lost when the call to `StructTaker` is completed."},{"pos":[3104,3111],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3245,3253],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3257,3323],"content":"<bpt id=\"p1\">[</bpt>C# Programming Guide<ept id=\"p1\">](../../../csharp/programming-guide/index.md)</ept>","source":"[C# Programming Guide](../../../csharp/programming-guide/index.md)"},{"pos":[3326,3401],"content":"<bpt id=\"p1\">[</bpt>Classes<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/classes.md)</ept>","source":"[Classes](../../../csharp/programming-guide/classes-and-structs/classes.md)"},{"pos":[3404,3479],"content":"<bpt id=\"p1\">[</bpt>Structs<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/structs.md)</ept>","source":"[Structs](../../../csharp/programming-guide/classes-and-structs/structs.md)"},{"pos":[3482,3579],"content":"<bpt id=\"p1\">[</bpt>Passing Parameters<ept id=\"p1\">](../../../csharp/programming-guide/classes-and-structs/passing-parameters.md)</ept>","source":"[Passing Parameters](../../../csharp/programming-guide/classes-and-structs/passing-parameters.md)"}]}