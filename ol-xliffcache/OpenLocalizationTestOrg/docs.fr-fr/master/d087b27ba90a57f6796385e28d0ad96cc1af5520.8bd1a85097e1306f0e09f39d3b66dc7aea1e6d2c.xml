{"content":"---\ntitle: \"Map Implicit Relations Between Nested Schema Elements | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6b25002a-352e-4d9b-bae3-15129458a355\ncaps.latest.revision: 4\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# Map Implicit Relations Between Nested Schema Elements\nAn XML Schema definition language (XSD) schema can have complex types nested inside one another. In this case, the mapping process applies default mapping and creates the following in the <xref:System.Data.DataSet>:  \n  \n-   One table for each of the complex types (parent and child).  \n  \n-   If no unique constraint exists on the parent, one additional primary key column per table definition named *TableName*_Id where *TableName* is the name of the parent table.  \n  \n-   A primary key constraint on the parent table identifying the additional column as the primary key (by setting the **IsPrimaryKey** property to **True**). The constraint is named Constraint*#* where *#* is 1, 2, 3, and so on. For example, the default name for the first constraint is Constraint1.  \n  \n-   A foreign key constraint on the child table identifying the additional column as the foreign key referring to the primary key of the parent table. The constraint is named *ParentTable_ChildTable* where *ParentTable* is the name of the parent table and *ChildTable* is the name of the child table.  \n  \n-   A data relation between the parent and child tables.  \n  \n The following example shows a schema where **OrderDetail** is a child element of **Order**.  \n  \n```  \n<xs:schema id=\"MyDataSet\" xmlns=\"\"   \n            xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"   \n            xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">  \n  \n <xs:element name=\"MyDataSet\" msdata:IsDataSet=\"true\">  \n   <xs:complexType>  \n     <xs:choice maxOccurs=\"unbounded\">  \n       <xs:element name=\"Order\">  \n         <xs:complexType>  \n          <xs:sequence>  \n            <xs:element name=\"OrderNumber\" type=\"xs:string\" />  \n            <xs:element name=\"EmpNumber\" type=\"xs:string\" />  \n            <xs:element name=\"OrderDetail\">  \n              <xs:complexType>  \n                <xs:sequence>  \n                  <xs:element name=\"OrderNo\" type=\"xs:string\" />  \n                  <xs:element name=\"ItemNo\" type=\"xs:string\" />  \n                </xs:sequence>  \n              </xs:complexType>  \n            </xs:element>  \n          </xs:sequence>  \n         </xs:complexType>  \n       </xs:element>  \n     </xs:choice>  \n   </xs:complexType>  \n  </xs:element>  \n</xs:schema>  \n```  \n  \n The XML Schema mapping process creates the following in the **DataSet**:  \n  \n-   An **Order** and an **OrderDetail** table.  \n  \n    ```  \n    Order(OrderNumber, EmpNumber, Order_Id)  \n    OrderDetail(OrderNo, ItemNo, Order_Id)  \n    ```  \n  \n-   A unique constraint on the **Order** table. Note that the **IsPrimaryKey** property is set to **True**.  \n  \n    ```  \n    ConstraintName: Constraint1  \n    Type: UniqueConstraint  \n    Table: Order  \n    Columns: Order_Id   \n    IsPrimaryKey: True  \n    ```  \n  \n-   A foreign key constraint on the **OrderDetail** table.  \n  \n    ```  \n    ConstraintName: Order_OrderDetail  \n    Type: ForeignKeyConstraint  \n    Table: OrderDetail  \n    Columns: Order_Id   \n    RelatedTable: Order  \n    RelatedColumns: Order_Id   \n    ```  \n  \n-   A relationship between the **Order** and **OrderDetail** tables. The **Nested** property for this relationship is set to **True** because the **Order** and **OrderDetail** elements are nested in the schema.  \n  \n    ```  \n    ParentTable: Order  \n    ParentColumns: Order_Id   \n    ChildTable: OrderDetail  \n    ChildColumns: Order_Id   \n    ParentKeyConstraint: Constraint1  \n    ChildKeyConstraint: Order_OrderDetail  \n    RelationName: Order_OrderDetail  \n    Nested: True  \n    ```  \n  \n## See Also  \n [Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)   \n [Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)   \n [ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)","nodes":[{"pos":[4,384],"nodes":[{"content":"Map Implicit Relations Between Nested Schema Elements | Microsoft Docs","nodes":[{"pos":[0,70],"content":"Map Implicit Relations Between Nested Schema Elements | Microsoft Docs","nodes":[{"content":"Map Implicit Relations Between Nested Schema Elements | Microsoft Docs","pos":[0,70]}]}],"pos":[6,79],"yaml":true}],"content":"title: \"Map Implicit Relations Between Nested Schema Elements | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 6b25002a-352e-4d9b-bae3-15129458a355\ncaps.latest.revision: 4\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[391,444],"content":"Map Implicit Relations Between Nested Schema Elements","linkify":"Map Implicit Relations Between Nested Schema Elements","nodes":[{"content":"Map Implicit Relations Between Nested Schema Elements","pos":[0,53]}]},{"content":"An XML Schema definition language (XSD) schema can have complex types nested inside one another.","pos":[445,541]},{"content":"In this case, the mapping process applies default mapping and creates the following in the <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph>:","pos":[542,660],"source":" In this case, the mapping process applies default mapping and creates the following in the <xref:System.Data.DataSet>:"},{"content":"One table for each of the complex types (parent and child).","pos":[670,729]},{"pos":[739,911],"content":"If no unique constraint exists on the parent, one additional primary key column per table definition named <bpt id=\"p1\">*</bpt>TableName<ept id=\"p1\">*</ept>_Id where <bpt id=\"p2\">*</bpt>TableName<ept id=\"p2\">*</ept> is the name of the parent table.","source":"If no unique constraint exists on the parent, one additional primary key column per table definition named *TableName*_Id where *TableName* is the name of the parent table."},{"content":"A primary key constraint on the parent table identifying the additional column as the primary key (by setting the <bpt id=\"p1\">**</bpt>IsPrimaryKey<ept id=\"p1\">**</ept> property to <bpt id=\"p2\">**</bpt>True<ept id=\"p2\">**</ept>).","pos":[921,1074],"source":"A primary key constraint on the parent table identifying the additional column as the primary key (by setting the **IsPrimaryKey** property to **True**)."},{"content":"The constraint is named Constraint<bpt id=\"p1\">*</bpt><ph id=\"ph1\">#</ph><ept id=\"p1\">*</ept> where <bpt id=\"p2\">*</bpt><ph id=\"ph2\">#</ph><ept id=\"p2\">*</ept> is 1, 2, 3, and so on.","pos":[1075,1145],"source":" The constraint is named Constraint*#* where *#* is 1, 2, 3, and so on."},{"content":"For example, the default name for the first constraint is Constraint1.","pos":[1146,1216]},{"content":"A foreign key constraint on the child table identifying the additional column as the foreign key referring to the primary key of the parent table.","pos":[1226,1372]},{"content":"The constraint is named <bpt id=\"p1\">*</bpt>ParentTable_ChildTable<ept id=\"p1\">*</ept> where <bpt id=\"p2\">*</bpt>ParentTable<ept id=\"p2\">*</ept> is the name of the parent table and <bpt id=\"p3\">*</bpt>ChildTable<ept id=\"p3\">*</ept> is the name of the child table.","pos":[1373,1522],"source":" The constraint is named *ParentTable_ChildTable* where *ParentTable* is the name of the parent table and *ChildTable* is the name of the child table."},{"content":"A data relation between the parent and child tables.","pos":[1532,1584]},{"pos":[1591,1682],"content":"The following example shows a schema where <bpt id=\"p1\">**</bpt>OrderDetail<ept id=\"p1\">**</ept> is a child element of <bpt id=\"p2\">**</bpt>Order<ept id=\"p2\">**</ept>.","source":"The following example shows a schema where **OrderDetail** is a child element of **Order**."},{"pos":[2702,2774],"content":"The XML Schema mapping process creates the following in the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept>:","source":"The XML Schema mapping process creates the following in the **DataSet**:"},{"pos":[2784,2826],"content":"An <bpt id=\"p1\">**</bpt>Order<ept id=\"p1\">**</ept> and an <bpt id=\"p2\">**</bpt>OrderDetail<ept id=\"p2\">**</ept> table.","source":"An **Order** and an **OrderDetail** table."},{"content":"A unique constraint on the <bpt id=\"p1\">**</bpt>Order<ept id=\"p1\">**</ept> table.","pos":[2950,2993],"source":"A unique constraint on the **Order** table."},{"content":"Note that the <bpt id=\"p1\">**</bpt>IsPrimaryKey<ept id=\"p1\">**</ept> property is set to <bpt id=\"p2\">**</bpt>True<ept id=\"p2\">**</ept>.","pos":[2994,3053],"source":" Note that the **IsPrimaryKey** property is set to **True**."},{"pos":[3218,3272],"content":"A foreign key constraint on the <bpt id=\"p1\">**</bpt>OrderDetail<ept id=\"p1\">**</ept> table.","source":"A foreign key constraint on the **OrderDetail** table."},{"content":"A relationship between the <bpt id=\"p1\">**</bpt>Order<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>OrderDetail<ept id=\"p2\">**</ept> tables.","pos":[3486,3550],"source":"A relationship between the **Order** and **OrderDetail** tables."},{"content":"The <bpt id=\"p1\">**</bpt>Nested<ept id=\"p1\">**</ept> property for this relationship is set to <bpt id=\"p2\">**</bpt>True<ept id=\"p2\">**</ept> because the <bpt id=\"p3\">**</bpt>Order<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>OrderDetail<ept id=\"p4\">**</ept> elements are nested in the schema.","pos":[3551,3692],"source":" The **Nested** property for this relationship is set to **True** because the **Order** and **OrderDetail** elements are nested in the schema."},{"pos":[3980,3988],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Generating DataSet Relations from XML Schema (XSD)<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)</ept><ph id=\"ph1\"> </ph>","pos":[3992,4167],"source":"[Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md) "},{"content":"<bpt id=\"p1\">[</bpt>Mapping XML Schema (XSD) Constraints to DataSet Constraints<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)</ept><ph id=\"ph1\"> </ph>","pos":[4171,4364],"source":"[Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md) "},{"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=217917)</ept>","pos":[4368,4471],"source":"[ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)"}]}