{"content":"---\ntitle: \"How to: Specify Client Credentials for a Data Service Request (WCF Data Services) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework-oob\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"WCF Data Services, customizing requests\"\nms.assetid: 1632f9af-e45f-4363-9222-03823daa8e28\ncaps.latest.revision: 2\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Specify Client Credentials for a Data Service Request (WCF Data Services)\nBy default, the client library does not supply credentials when sending a request to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service. However, you can specify that credentials be sent to authenticate requests to the data service by supplying a <xref:System.Net.NetworkCredential> for the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>. For more information, see [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md). The example in this topic shows how to explicitly provide credentials that are used by the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client when requesting data from the data service.  \n  \n The example in this topic uses the Northwind sample data service and autogenerated client data service classes. This service and the client data classes are created when you complete the [WCF Data Services quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md). You can also use the [Northwind sample data service](http://go.microsoft.com/fwlink/?LinkId=187426) that is published on the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Web site; this sample data service is read-only and attempting to save changes returns an error. The sample data services on the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Web site allow anonymous authentication.  \n  \n## Example  \n The following example is from the code-behind page for an Extensible Application Markup Language (XAML) file that is the main page of the Windows Presentation Framework application. This example displays a `LoginWindow` instance to collect authentication credentials from the user, and then uses these credentials when making a request to the data service.  \n  \n [!code-csharp[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml.cs#clientcredentials)]   \n [!code-vb[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentials.xaml.vb#clientcredentials)]\n  \n## Example  \n The following XAML defines the main page of the WPF application.  \n  \n [!code-xml[Astoria Northwind Client#ClientCredentialsXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml#clientcredentialsxaml)]   \n  \n## Example  \n The following example is from the code-behind page for the window that is used to collect the authentication credentials from the user before making a request to the data service.  \n  \n [!code-csharp[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml.cs#clientcredentialslogin)]   \n [!code-vb[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentialslogin.xaml.vb#clientcredentialslogin)]\n  \n## Example  \n The following XAML defines the login of the WPF application.  \n  \n [!code-xml[Astoria Northwind Client#ClientCredentialsLoginXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml#clientcredentialsloginxaml)]   \n  \n## .NET Framework Security  \n The following security considerations apply to the example in this topic:  \n  \n-   To verify that the credentials supplied in this sample work, the Northwind data service must use an authentication scheme other than anonymous access. Otherwise, the Web site hosting the data service will not request credentials.  \n  \n-   User credentials should only be requested during execution and should not be cached. Credentials must always be stored securely.  \n  \n-   Data sent with Basic and Digest Authentication is not encrypted, so the data can be seen by an adversary. Additionally, basic authentication credentials (user name and password) are sent in cleartext and can be intercepted.  \n  \n For more information, see [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).  \n  \n## See Also  \n [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)   \n [WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)","nodes":[{"pos":[12,110],"content":"How to: Specify Client Credentials for a Data Service Request (WCF Data Services) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Specify Client Credentials for a Data Service Request (WCF Data Services) | Microsoft Docs","pos":[0,98]}]},{"pos":[480,561],"content":"How to: Specify Client Credentials for a Data Service Request (WCF Data Services)","linkify":"How to: Specify Client Credentials for a Data Service Request (WCF Data Services)","nodes":[{"content":"How to: Specify Client Credentials for a Data Service Request (WCF Data Services)","pos":[0,81]}]},{"content":"By default, the client library does not supply credentials when sending a request to an <ph id=\"ph1\">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]</ph> service.","pos":[562,724],"source":"By default, the client library does not supply credentials when sending a request to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service."},{"content":"However, you can specify that credentials be sent to authenticate requests to the data service by supplying a <ph id=\"ph1\">&lt;xref:System.Net.NetworkCredential&gt;</ph> for the <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceContext.Credentials%2A&gt;</ph> property of the <ph id=\"ph3\">&lt;xref:System.Data.Services.Client.DataServiceContext&gt;</ph>.","pos":[725,1018],"source":" However, you can specify that credentials be sent to authenticate requests to the data service by supplying a <xref:System.Net.NetworkCredential> for the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Securing WCF Data Services<ept id=\"p1\">](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)</ept>.","pos":[1019,1141],"source":" For more information, see [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)."},{"content":"The example in this topic shows how to explicitly provide credentials that are used by the <ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> client when requesting data from the data service.","pos":[1142,1343],"source":" The example in this topic shows how to explicitly provide credentials that are used by the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client when requesting data from the data service."},{"content":"The example in this topic uses the Northwind sample data service and autogenerated client data service classes.","pos":[1350,1461]},{"content":"This service and the client data classes are created when you complete the <bpt id=\"p1\">[</bpt>WCF Data Services quickstart<ept id=\"p1\">](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md)</ept>.","pos":[1462,1637],"source":" This service and the client data classes are created when you complete the [WCF Data Services quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md)."},{"content":"You can also use the <bpt id=\"p1\">[</bpt>Northwind sample data service<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=187426)</ept> that is published on the <ph id=\"ph1\">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]</ph> Web site; this sample data service is read-only and attempting to save changes returns an error.","pos":[1638,1925],"source":" You can also use the [Northwind sample data service](http://go.microsoft.com/fwlink/?LinkId=187426) that is published on the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Web site; this sample data service is read-only and attempting to save changes returns an error."},{"content":"The sample data services on the <ph id=\"ph1\">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]</ph> Web site allow anonymous authentication.","pos":[1926,2064],"source":" The sample data services on the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Web site allow anonymous authentication."},{"pos":[2073,2080],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example is from the code-behind page for an Extensible Application Markup Language (XAML) file that is the main page of the Windows Presentation Framework application.","pos":[2084,2265]},{"content":"This example displays a <ph id=\"ph1\">`LoginWindow`</ph> instance to collect authentication credentials from the user, and then uses these credentials when making a request to the data service.","pos":[2266,2440],"source":" This example displays a `LoginWindow` instance to collect authentication credentials from the user, and then uses these credentials when making a request to the data service."},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>Astoria Northwind Client#ClientCredentials<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml.cs#clientcredentials)</ept><ept id=\"p1\">]</ept>","pos":[2447,2631],"source":"[!code-csharp[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml.cs#clientcredentials)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>Astoria Northwind Client#ClientCredentials<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentials.xaml.vb#clientcredentials)</ept><ept id=\"p1\">]</ept>","pos":[2636,2821],"source":"[!code-vb[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentials.xaml.vb#clientcredentials)]"},{"pos":[2828,2835],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XAML defines the main page of the WPF application.","pos":[2839,2903]},{"pos":[2910,3096],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Astoria Northwind Client#ClientCredentialsXaml<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml#clientcredentialsxaml)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Astoria Northwind Client#ClientCredentialsXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml#clientcredentialsxaml)]"},{"pos":[3106,3113],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example is from the code-behind page for the window that is used to collect the authentication credentials from the user before making a request to the data service.","pos":[3117,3296]},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>Astoria Northwind Client#ClientCredentialsLogin<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml.cs#clientcredentialslogin)</ept><ept id=\"p1\">]</ept>","pos":[3303,3502],"source":"[!code-csharp[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml.cs#clientcredentialslogin)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>Astoria Northwind Client#ClientCredentialsLogin<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentialslogin.xaml.vb#clientcredentialslogin)</ept><ept id=\"p1\">]</ept>","pos":[3507,3707],"source":"[!code-vb[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentialslogin.xaml.vb#clientcredentialslogin)]"},{"pos":[3714,3721],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following XAML defines the login of the WPF application.","pos":[3725,3785]},{"pos":[3792,3993],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>Astoria Northwind Client#ClientCredentialsLoginXaml<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml#clientcredentialsloginxaml)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[Astoria Northwind Client#ClientCredentialsLoginXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml#clientcredentialsloginxaml)]"},{"pos":[4003,4026],"content":".NET Framework Security","linkify":".NET Framework Security","nodes":[{"content":".NET Framework Security","pos":[0,23]}]},{"content":"The following security considerations apply to the example in this topic:","pos":[4030,4103]},{"content":"To verify that the credentials supplied in this sample work, the Northwind data service must use an authentication scheme other than anonymous access.","pos":[4113,4263]},{"content":"Otherwise, the Web site hosting the data service will not request credentials.","pos":[4264,4342]},{"content":"User credentials should only be requested during execution and should not be cached.","pos":[4352,4436]},{"content":"Credentials must always be stored securely.","pos":[4437,4480]},{"content":"Data sent with Basic and Digest Authentication is not encrypted, so the data can be seen by an adversary.","pos":[4490,4595]},{"content":"Additionally, basic authentication credentials (user name and password) are sent in cleartext and can be intercepted.","pos":[4596,4713]},{"pos":[4720,4842],"content":"For more information, see <bpt id=\"p1\">[</bpt>Securing WCF Data Services<ept id=\"p1\">](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)</ept>.","source":"For more information, see [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)."},{"pos":[4851,4859],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Securing WCF Data Services<ept id=\"p1\">](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)</ept><ph id=\"ph1\"> </ph>","pos":[4863,4959],"source":"[Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md) "},{"content":"<bpt id=\"p1\"> [</bpt>WCF Data Services Client Library<ept id=\"p1\">](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)</ept>","pos":[4962,5070],"source":" [WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)"}]}