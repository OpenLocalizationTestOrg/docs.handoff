{"content":"---\ntitle: \"&lt;authentication&gt; of &lt;serviceCertificate&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 733b67b4-08a1-4d25-9741-10046f9357ef\ncaps.latest.revision: 13\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# &lt;authentication&gt; of &lt;serviceCertificate&gt; Element\nSpecifies the settings used by the client proxy to authenticate service certificates that are obtained using SSL/TLS negotiation.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \nendpointBehaviors section  \n\\<behavior>  \n\\<clientCredentials>  \n\\<serviceCertificate>  \n\\<authentication>  \n  \n## Syntax  \n  \n```  \n  \n<authentication customCertificateValidatorType=\"String\" certificateValidationMode=\"None/PeerTrust/ChainTrust/PeerOrChainTrust/Custom\"  \nrevocationMode=\"NoCheck/Online/Offline\"   \ntrustedStoreLocation=\"LocalMachine/CurrentUser\" />  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|customCertificateValidatorType|String. A type and assembly used to validate a custom type.|  \n|certificateValidationMode|Specifies one of three modes used to validate credentials. If set to `Custom`, then a customCertificateValidator must also be supplied. The default is `ChainTrust`.|  \n|revocationMode|One of the modes used to check for a revoked certificate lists (CRL). The default is `Online`.|  \n|trustedStoreLocation|One of the two system store locations: `LocalMachine` or `CurrentUser`. This value is used when a service certificate is negotiated to the client. Validation is performed against the **Trusted People** store in the specified store location. The default is `CurrentUser`.|  \n  \n## customCertificateValidator Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|String|Specifies the type name and assembly and other data used to find the type.|  \n  \n## certificateValidationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: None, PeerTrust, ChainTrust, PeerOrChainTrust, Custom.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## revocationMode Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: NoCheck, Online, Offline.<br /><br /> For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).|  \n  \n## trustedStoreLocation Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|Enumeration|One of the following values: LocalMachine or CurrentUser. The default is CurrentUser. If the client application is running under a system account, then the certificate is typically under LocalMachine. If the client application is running under a user account, then the certificate is typically in CurrentUser.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<serviceCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md)|Specifies a certificate to use when authenticating a service to the client.|  \n  \n## Remarks  \n The `certificateValidationMode` attribute of this configuration element specifies the level of trust used to authenticate certificates. By default, the level is set to `ChainTrust`, which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain. This is the most secure mode. You can also set the value to `PeerOrChainTrust`, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain. This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority. When deploying a client, use the `ChainTrust` value instead. You can also set the value to `Custom` or `None`. To use the `Custom` value, you must also set the `customCertificateValidator` attribute to an assembly and type used to validate the certificate. To create your own custom validator, you must inherit from the abstract X509CertificateValidator class. For more information, see [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).  \n  \n The `revocationMode` attribute specifies how certificates are checked for revocation. The default is `online` which indicates that certificates will be checked automatically for revocation. For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md).  \n  \n## Example  \n The following example does two tasks. It first specifies a service certificate for the client to use when communicating with endpoints whose domain name is www.contoso.com over the HTTP protocol. Second, it specifies the revocation mode and store location used during authentication.  \n  \n```  \n<serviceCertificate>  \n  <defaultCertificate findValue=\"www.contoso.com\"   \n                      storeLocation=\"LocalMachine\"  \n                      storeName=\"TrustedPeople\"   \n                      x509FindType=\"FindByIssuerDistinguishedName\" />  \n  <scopedCertificates>  \n     <add targetUri=\"http://www.contoso.com\"   \n          findValue=\"www.contoso.com\" storeLocation=\"LocalMachine\"  \n                  storeName=\"Root\" x509FindType=\"FindByIssuerName\" />  \n  </scopedCertificates>  \n  <authentication revocationMode=\"Online\"   \n   trustedStoreLocation=\"LocalMachine\" />  \n</serviceCertificate>  \n```  \n  \n## See Also  \n <xref:System.ServiceModel.Configuration.X509RecipientCertificateClientElement>   \n <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>   \n <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.Authentication%2A>   \n <xref:System.ServiceModel.Security.X509ServiceCertificateAuthentication>   \n [Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)   \n [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)   \n [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)   \n [\\<authentication>](../../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md)   \n [Securing Clients](../../../../../docs/framework/wcf/securing-clients.md)   \n [Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)","nodes":[{"pos":[12,89],"content":"&lt;authentication&gt; of &lt;serviceCertificate&gt; Element | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>authentication<ph id=\"ph2\">&amp;gt;</ph> of <ph id=\"ph3\">&amp;lt;</ph>serviceCertificate<ph id=\"ph4\">&amp;gt;</ph> Element | Microsoft Docs","pos":[0,77],"source":"&lt;authentication&gt; of &lt;serviceCertificate&gt; Element | Microsoft Docs"}]},{"pos":[388,448],"content":"&lt;authentication&gt; of &lt;serviceCertificate&gt; Element","linkify":"&lt;authentication&gt; of &lt;serviceCertificate&gt; Element","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>authentication<ph id=\"ph2\">&amp;gt;</ph> of <ph id=\"ph3\">&amp;lt;</ph>serviceCertificate<ph id=\"ph4\">&amp;gt;</ph> Element","pos":[0,60],"source":"&lt;authentication&gt; of &lt;serviceCertificate&gt; Element"}]},{"content":"Specifies the settings used by the client proxy to authenticate service certificates that are obtained using SSL/TLS negotiation.","pos":[449,578]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[585,607],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[610,622],"source":"\\<behaviors>"},{"content":"endpointBehaviors section","pos":[625,650]},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[653,664],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;","pos":[667,687],"source":"\\<clientCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceCertificate&gt;","pos":[690,711],"source":"\\<serviceCertificate>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>authentication&gt;","pos":[714,731],"source":"\\<authentication>"},{"pos":[740,746],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1005,1028],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[1032,1111]},{"pos":[1121,1131],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1138,1147]},{"content":"Description","pos":[1148,1159]},{"content":"customCertificateValidatorType","pos":[1202,1232]},{"content":"String.","pos":[1233,1240]},{"content":"A type and assembly used to validate a custom type.","pos":[1241,1292]},{"content":"certificateValidationMode","pos":[1297,1322]},{"content":"Specifies one of three modes used to validate credentials.","pos":[1323,1381]},{"content":"If set to <ph id=\"ph1\">`Custom`</ph>, then a customCertificateValidator must also be supplied.","pos":[1382,1458],"source":" If set to `Custom`, then a customCertificateValidator must also be supplied."},{"content":"The default is <ph id=\"ph1\">`ChainTrust`</ph>.","pos":[1459,1487],"source":" The default is `ChainTrust`."},{"content":"revocationMode","pos":[1492,1506]},{"content":"One of the modes used to check for a revoked certificate lists (CRL).","pos":[1507,1576]},{"content":"The default is <ph id=\"ph1\">`Online`</ph>.","pos":[1577,1601],"source":" The default is `Online`."},{"content":"trustedStoreLocation","pos":[1606,1626]},{"content":"One of the two system store locations: <ph id=\"ph1\">`LocalMachine`</ph> or <ph id=\"ph2\">`CurrentUser`</ph>.","pos":[1627,1698],"source":"One of the two system store locations: `LocalMachine` or `CurrentUser`."},{"content":"This value is used when a service certificate is negotiated to the client.","pos":[1699,1773]},{"content":"Validation is performed against the <bpt id=\"p1\">**</bpt>Trusted People<ept id=\"p1\">**</ept> store in the specified store location.","pos":[1774,1867],"source":" Validation is performed against the **Trusted People** store in the specified store location."},{"content":"The default is <ph id=\"ph1\">`CurrentUser`</ph>.","pos":[1868,1897],"source":" The default is `CurrentUser`."},{"pos":[1907,1943],"content":"customCertificateValidator Attribute","linkify":"customCertificateValidator Attribute","nodes":[{"content":"customCertificateValidator Attribute","pos":[0,36]}]},{"content":"Value","pos":[1950,1955]},{"content":"Description","pos":[1956,1967]},{"content":"String","pos":[2006,2012]},{"content":"Specifies the type name and assembly and other data used to find the type.","pos":[2013,2087]},{"pos":[2097,2132],"content":"certificateValidationMode Attribute","linkify":"certificateValidationMode Attribute","nodes":[{"content":"certificateValidationMode Attribute","pos":[0,35]}]},{"content":"Value","pos":[2139,2144]},{"content":"Description","pos":[2145,2156]},{"content":"Enumeration","pos":[2195,2206]},{"content":"One of the following values: None, PeerTrust, ChainTrust, PeerOrChainTrust, Custom.","pos":[2207,2290]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[2303,2437],"source":" For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[2447,2471],"content":"revocationMode Attribute","linkify":"revocationMode Attribute","nodes":[{"content":"revocationMode Attribute","pos":[0,24]}]},{"content":"Value","pos":[2478,2483]},{"content":"Description","pos":[2484,2495]},{"content":"Enumeration","pos":[2534,2545]},{"content":"One of the following values: NoCheck, Online, Offline.","pos":[2546,2600]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[2613,2747],"source":" For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[2757,2787],"content":"trustedStoreLocation Attribute","linkify":"trustedStoreLocation Attribute","nodes":[{"content":"trustedStoreLocation Attribute","pos":[0,30]}]},{"content":"Value","pos":[2794,2799]},{"content":"Description","pos":[2800,2811]},{"content":"Enumeration","pos":[2850,2861]},{"content":"One of the following values: LocalMachine or CurrentUser.","pos":[2862,2919]},{"content":"The default is CurrentUser.","pos":[2920,2947]},{"content":"If the client application is running under a system account, then the certificate is typically under LocalMachine.","pos":[2948,3062]},{"content":"If the client application is running under a user account, then the certificate is typically in CurrentUser.","pos":[3063,3171]},{"pos":[3182,3196],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[3200,3205]},{"pos":[3215,3230],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3237,3244]},{"content":"Description","pos":[3245,3256]},{"pos":[3297,3433],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>serviceCertificate&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md)</ept>","source":"[\\<serviceCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md)"},{"content":"Specifies a certificate to use when authenticating a service to the client.","pos":[3434,3509]},{"pos":[3519,3526],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`certificateValidationMode`</ph> attribute of this configuration element specifies the level of trust used to authenticate certificates.","pos":[3530,3665],"source":"The `certificateValidationMode` attribute of this configuration element specifies the level of trust used to authenticate certificates."},{"content":"By default, the level is set to <ph id=\"ph1\">`ChainTrust`</ph>, which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain.","pos":[3666,3863],"source":" By default, the level is set to `ChainTrust`, which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain."},{"content":"This is the most secure mode.","pos":[3864,3893]},{"content":"You can also set the value to <ph id=\"ph1\">`PeerOrChainTrust`</ph>, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain.","pos":[3894,4068],"source":" You can also set the value to `PeerOrChainTrust`, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain."},{"content":"This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.","pos":[4069,4219]},{"content":"When deploying a client, use the <ph id=\"ph1\">`ChainTrust`</ph> value instead.","pos":[4220,4280],"source":" When deploying a client, use the `ChainTrust` value instead."},{"content":"You can also set the value to <ph id=\"ph1\">`Custom`</ph> or <ph id=\"ph2\">`None`</ph>.","pos":[4281,4330],"source":" You can also set the value to `Custom` or `None`."},{"content":"To use the <ph id=\"ph1\">`Custom`</ph> value, you must also set the <ph id=\"ph2\">`customCertificateValidator`</ph> attribute to an assembly and type used to validate the certificate.","pos":[4331,4476],"source":" To use the `Custom` value, you must also set the `customCertificateValidator` attribute to an assembly and type used to validate the certificate."},{"content":"To create your own custom validator, you must inherit from the abstract X509CertificateValidator class.","pos":[4477,4580]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Create a Service that Employs a Custom Certificate Validator<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)</ept>.","pos":[4581,4794],"source":" For more information, see [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)."},{"content":"The <ph id=\"ph1\">`revocationMode`</ph> attribute specifies how certificates are checked for revocation.","pos":[4801,4886],"source":"The `revocationMode` attribute specifies how certificates are checked for revocation."},{"content":"The default is <ph id=\"ph1\">`online`</ph> which indicates that certificates will be checked automatically for revocation.","pos":[4887,4990],"source":" The default is `online` which indicates that certificates will be checked automatically for revocation."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>.","pos":[4991,5125],"source":" For more information, see [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)."},{"pos":[5134,5141],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example does two tasks.","pos":[5145,5182]},{"content":"It first specifies a service certificate for the client to use when communicating with endpoints whose domain name is www.contoso.com over the HTTP protocol.","pos":[5183,5340]},{"content":"Second, it specifies the revocation mode and store location used during authentication.","pos":[5341,5428]},{"pos":[6057,6065],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.X509RecipientCertificateClientElement&gt;</ph>","pos":[6069,6147],"source":"<xref:System.ServiceModel.Configuration.X509RecipientCertificateClientElement> "},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential&gt;</ph>","pos":[6152,6228],"source":" <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential> "},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.Authentication%2A&gt;</ph>","pos":[6233,6327],"source":" <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.Authentication%2A> "},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.X509ServiceCertificateAuthentication&gt;</ph>","pos":[6332,6404],"source":" <xref:System.ServiceModel.Security.X509ServiceCertificateAuthentication> "},{"content":"<bpt id=\"p1\"> [</bpt>Security Behaviors<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)</ept><ph id=\"ph1\"> </ph>","pos":[6408,6510],"source":" [Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept><ph id=\"ph1\"> </ph>","pos":[6513,6622],"source":" [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md) "},{"content":"<bpt id=\"p1\"> [</bpt>How to: Create a Service that Employs a Custom Certificate Validator<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md)</ept><ph id=\"ph1\"> </ph>","pos":[6625,6813],"source":" [How to: Create a Service that Employs a Custom Certificate Validator](../../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md) "},{"content":"<bpt id=\"p1\"> [</bpt><ph id=\"ph1\">\\&lt;</ph>authentication&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md)</ept><ph id=\"ph2\"> </ph>","pos":[6816,6946],"source":" [\\<authentication>](../../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Securing Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/securing-clients.md)</ept><ph id=\"ph1\"> </ph>","pos":[6949,7024],"source":" [Securing Clients](../../../../../docs/framework/wcf/securing-clients.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Securing Services and Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)</ept>","pos":[7027,7143],"source":" [Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)"}]}