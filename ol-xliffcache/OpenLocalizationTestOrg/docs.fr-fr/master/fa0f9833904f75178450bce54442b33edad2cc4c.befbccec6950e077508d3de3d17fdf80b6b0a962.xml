{"content":"---\ntitle: \"Throttled Parallel ForEach | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f2855b5f-e9a7-433d-96a4-40fc31025215\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Throttled Parallel ForEach\nThe `ThrottleParallelForEach` activity is similar to the <!--zz <xref:System.Activities.Statements.ParallelForEach>--> `System.Activities.Statements.ParallelForEach` activity with the one exception that it allows setting a concurrency factor to restrict the number of simultaneous branches to execute. The `ThrottleParallelForEach` activity derives from <xref:System.Activities.NativeActivity>, because it needs to schedule other activities (the child activities) and this is only accessible through the <xref:System.Activities.NativeActivityContext> class.  \n  \n## Projects  \n  \n|**ProjectName**|**Description**|**Main Files**|  \n|-|-|-|  \n|ThrottledParallelForEach|Contains `ThrottledParallelForEach` activity and its designer.|ThrottledParallelForEach.cs<br /><br /> The `ThrottledParallelForEach` activity definition.|  \n|CodeTestClient|Sample client application that configures and runs a workflow with a `ThrottledParallelForEach` using imperative code.|Program.cs<br /><br /> Defines and runs an instance of the sample workflow.|  \n  \n#### To use this sample  \n  \n1.  Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the ThrottledParallelForEach.sln file.  \n  \n2.  To build the solution, press CTRL+SHIFT+B.  \n  \n3.  To run the solution, press F5.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Scenario\\ActivityLibrary\\ThrottledParallelForEach`  \n  \n## See Also","nodes":[{"pos":[4,313],"embed":true,"restype":"x-metadata","content":"title: \"Throttled Parallel ForEach | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f2855b5f-e9a7-433d-96a4-40fc31025215\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Throttled Parallel ForEach | Microsoft Docs","nodes":[{"pos":[0,43],"content":"Throttled Parallel ForEach | Microsoft Docs","nodes":[{"content":"Throttled Parallel ForEach | Microsoft Docs","pos":[0,43]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[320,346],"content":"Throttled Parallel ForEach","linkify":"Throttled Parallel ForEach","nodes":[{"content":"Throttled Parallel ForEach","pos":[0,26]}]},{"content":"The <ph id=\"ph1\">`ThrottleParallelForEach`</ph> activity is similar to the","pos":[347,403],"source":"The `ThrottleParallelForEach` activity is similar to the "},{"content":"<ph id=\"ph1\">`System.Activities.Statements.ParallelForEach`</ph> activity with the one exception that it allows setting a concurrency factor to restrict the number of simultaneous branches to execute.","pos":[466,648],"source":"`System.Activities.Statements.ParallelForEach` activity with the one exception that it allows setting a concurrency factor to restrict the number of simultaneous branches to execute."},{"content":"The <ph id=\"ph1\">`ThrottleParallelForEach`</ph> activity derives from <ph id=\"ph2\">&lt;xref:System.Activities.NativeActivity&gt;</ph>, because it needs to schedule other activities (the child activities) and this is only accessible through the <ph id=\"ph3\">&lt;xref:System.Activities.NativeActivityContext&gt;</ph> class.","pos":[649,904],"source":" The `ThrottleParallelForEach` activity derives from <xref:System.Activities.NativeActivity>, because it needs to schedule other activities (the child activities) and this is only accessible through the <xref:System.Activities.NativeActivityContext> class."},{"pos":[913,921],"content":"Projects","linkify":"Projects","nodes":[{"content":"Projects","pos":[0,8]}]},{"pos":[928,943],"content":"<bpt id=\"p1\">**</bpt>ProjectName<ept id=\"p1\">**</ept>","source":"**ProjectName**"},{"pos":[944,959],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"pos":[960,974],"content":"<bpt id=\"p1\">**</bpt>Main Files<ept id=\"p1\">**</ept>","source":"**Main Files**"},{"content":"ThrottledParallelForEach","pos":[989,1013]},{"pos":[1014,1076],"content":"Contains <ph id=\"ph1\">`ThrottledParallelForEach`</ph> activity and its designer.","source":"Contains `ThrottledParallelForEach` activity and its designer."},{"content":"ThrottledParallelForEach.cs","pos":[1077,1104]},{"content":"The <ph id=\"ph1\">`ThrottledParallelForEach`</ph> activity definition.","pos":[1117,1168],"source":"The `ThrottledParallelForEach` activity definition."},{"content":"CodeTestClient","pos":[1173,1187]},{"pos":[1188,1306],"content":"Sample client application that configures and runs a workflow with a <ph id=\"ph1\">`ThrottledParallelForEach`</ph> using imperative code.","source":"Sample client application that configures and runs a workflow with a `ThrottledParallelForEach` using imperative code."},{"content":"Program.cs","pos":[1307,1317]},{"content":"Defines and runs an instance of the sample workflow.","pos":[1330,1382]},{"pos":[1394,1412],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[1422,1526],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph>, open the ThrottledParallelForEach.sln file.","source":"Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the ThrottledParallelForEach.sln file."},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[1536,1578]},{"content":"To run the solution, press F5.","pos":[1588,1618]},{"pos":[1626,1758],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1812,2138],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2139,2189]},{"pos":[2294,2302],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}