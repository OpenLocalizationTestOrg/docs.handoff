{"content":"---\ntitle: \"Generating DataSet Relations from XML Schema (XSD) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 1c9a1413-c0d2-4447-88ba-9a2b0cbc0aa8\ncaps.latest.revision: 4\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# Generating DataSet Relations from XML Schema (XSD)\nIn a <xref:System.Data.DataSet>, you form an association between two or more columns by creating a parent-child relation. There are three ways to represent a **DataSet** relation within an XML Schema definition language (XSD) schema:  \n  \n-   Specify nested complex types.  \n  \n-   Use the **msdata:Relationship** annotation.  \n  \n-   Specify an **xs:keyref** without the **msdata:ConstraintOnly** annotation.  \n  \n## Nested Complex Types  \n Nested complex type definitions in a schema indicate the parent-child relationships of the elements. The following XML Schema fragment shows that **OrderDetail** is a child element of the **Order** element.  \n  \n```  \n<xs:element name=\"Order\">  \n  <xs:complexType>  \n     <xs:sequence>          \n       <xs:element name=\"OrderDetail\" />  \n           <xs:complexType>               \n           </xs:complexType>  \n     </xs:sequence>  \n  </xs:complexType>  \n</xs:element>  \n```  \n  \n The XML Schema mapping process creates tables in the **DataSet** that correspond to the nested complex types in the schema. It also creates additional columns that are used as parent**-**child columns for the generated tables. Note that these parent**-**child columns specify relationships, which is not the same as specifying primary key/foreign key constraints.  \n  \n## msdata:Relationship Annotation  \n The **msdata:Relationship** annotation allows you to explicitly specify parent-child relationships between elements in the schema that are not nested. The following example shows the structure of the **Relationship** element.  \n  \n```  \n  \n<msdata:Relationship name=\"CustOrderRelationship\"    \nmsdata:parent=\"\"    \nmsdata:child=\"\"    \nmsdata:parentkey=\"\"    \nmsdata:childkey=\"\" />  \n```  \n  \n The attributes of the **msdata:Relationship** annotation identify the elements involved in the parent-child relationship, as well as the **parentkey** and **childkey** elements and attributes involved in the relationship. The mapping process uses this information to generate tables in the **DataSet** and to create the primary key/foreign key relationship between these tables.  \n  \n For example, the following schema fragment specifies **Order** and **OrderDetail** elements at the same level (not nested). The schema specifies an **msdata:Relationship** annotation, which specifies the parent-child relationship between these two elements. In this case, an explicit relationship must be specified using the **msdata:Relationship** annotation.  \n  \n```  \n <xs:element name=\"MyDataSet\" msdata:IsDataSet=\"true\">  \n  <xs:complexType>  \n    <xs:choice maxOccurs=\"unbounded\">  \n        <xs:element name=\"OrderDetail\">  \n          <xs:complexType>  \n  \n          </xs:complexType>  \n       </xs:element>  \n       <xs:element name=\"Order\">  \n          <xs:complexType>  \n  \n          </xs:complexType>  \n       </xs:element>  \n    </xs:choice>  \n  </xs:complexType>  \n</xs:element>  \n   <xs:annotation>  \n     <xs:appinfo>  \n       <msdata:Relationship name=\"OrdOrdDetailRelation\"  \n          msdata:parent=\"Order\"  \n          msdata:child=\"OrderDetail\"   \n          msdata:parentkey=\"OrderNumber\"  \n          msdata:childkey=\"OrderNo\"/>  \n     </xs:appinfo>  \n  </xs:annotation>  \n  \n```  \n  \n The mapping process uses the **Relationship** element to create a parent-child relationship between the **OrderNumber** column in the **Order** table and the **OrderNo** column in the **OrderDetail** table in the **DataSet**. The mapping process only specifies the relationship; it does not automatically specify any constraints on the values in these columns, as do the primary key/foreign key constraints in relational databases.  \n  \n### In This Section  \n [Map Implicit Relations Between Nested Schema Elements](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/map-implicit-relations-between-nested-schema-elements.md)  \n Describes the constraints and relations that are implicitly created in a **DataSet** when nested elements are encountered in XML Schema.  \n  \n [Map Relations Specified for Nested Elements](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/map-relations-specified-for-nested-elements.md)  \n Describes how to explicitly set relations in a **DataSet** for nested elements in XML Schema.  \n  \n [Specify Relations Between Elements with No Nesting](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/specify-relations-between-elements-with-no-nesting.md)  \n Describes how to create relations in a **DataSet** between XML Schema elements that are not nested.  \n  \n### Related Sections  \n [Deriving DataSet Relational Structure from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/deriving-dataset-relational-structure-from-xml-schema-xsd.md)  \n Describes the relational structure, or schema, of a **DataSet** that is created from XML Schema definition language (XSD) schema.  \n  \n [Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)  \n Describes the XML Schema elements used to create unique and foreign key constraints in a **DataSet**.  \n  \n## See Also  \n [ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[12,79],"content":"Generating DataSet Relations from XML Schema (XSD) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Generating DataSet Relations from XML Schema (XSD) | Microsoft Docs","pos":[0,67]}]},{"pos":[388,438],"content":"Generating DataSet Relations from XML Schema (XSD)","linkify":"Generating DataSet Relations from XML Schema (XSD)","nodes":[{"content":"Generating DataSet Relations from XML Schema (XSD)","pos":[0,50]}]},{"content":"In a <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph>, you form an association between two or more columns by creating a parent-child relation.","pos":[439,560],"source":"In a <xref:System.Data.DataSet>, you form an association between two or more columns by creating a parent-child relation."},{"content":"There are three ways to represent a <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> relation within an XML Schema definition language (XSD) schema:","pos":[561,672],"source":" There are three ways to represent a **DataSet** relation within an XML Schema definition language (XSD) schema:"},{"content":"Specify nested complex types.","pos":[682,711]},{"pos":[721,764],"content":"Use the <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> annotation.","source":"Use the **msdata:Relationship** annotation."},{"pos":[774,848],"content":"Specify an <bpt id=\"p1\">**</bpt>xs:keyref<ept id=\"p1\">**</ept> without the <bpt id=\"p2\">**</bpt>msdata:ConstraintOnly<ept id=\"p2\">**</ept> annotation.","source":"Specify an **xs:keyref** without the **msdata:ConstraintOnly** annotation."},{"pos":[857,877],"content":"Nested Complex Types","linkify":"Nested Complex Types","nodes":[{"content":"Nested Complex Types","pos":[0,20]}]},{"content":"Nested complex type definitions in a schema indicate the parent-child relationships of the elements.","pos":[881,981]},{"content":"The following XML Schema fragment shows that <bpt id=\"p1\">**</bpt>OrderDetail<ept id=\"p1\">**</ept> is a child element of the <bpt id=\"p2\">**</bpt>Order<ept id=\"p2\">**</ept> element.","pos":[982,1087],"source":" The following XML Schema fragment shows that **OrderDetail** is a child element of the **Order** element."},{"content":"The XML Schema mapping process creates tables in the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> that correspond to the nested complex types in the schema.","pos":[1364,1487],"source":"The XML Schema mapping process creates tables in the **DataSet** that correspond to the nested complex types in the schema."},{"content":"It also creates additional columns that are used as parent<bpt id=\"p1\">**</bpt><ph id=\"ph1\">-</ph><ept id=\"p1\">**</ept>child columns for the generated tables.","pos":[1488,1590],"source":" It also creates additional columns that are used as parent**-**child columns for the generated tables."},{"content":"Note that these parent<bpt id=\"p1\">**</bpt><ph id=\"ph1\">-</ph><ept id=\"p1\">**</ept>child columns specify relationships, which is not the same as specifying primary key/foreign key constraints.","pos":[1591,1727],"source":" Note that these parent**-**child columns specify relationships, which is not the same as specifying primary key/foreign key constraints."},{"pos":[1736,1766],"content":"msdata:Relationship Annotation","linkify":"msdata:Relationship Annotation","nodes":[{"content":"msdata:Relationship Annotation","pos":[0,30]}]},{"content":"The <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> annotation allows you to explicitly specify parent-child relationships between elements in the schema that are not nested.","pos":[1770,1920],"source":"The **msdata:Relationship** annotation allows you to explicitly specify parent-child relationships between elements in the schema that are not nested."},{"content":"The following example shows the structure of the <bpt id=\"p1\">**</bpt>Relationship<ept id=\"p1\">**</ept> element.","pos":[1921,1995],"source":" The following example shows the structure of the **Relationship** element."},{"content":"The attributes of the <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> annotation identify the elements involved in the parent-child relationship, as well as the <bpt id=\"p2\">**</bpt>parentkey<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>childkey<ept id=\"p3\">**</ept> elements and attributes involved in the relationship.","pos":[2163,2384],"source":"The attributes of the **msdata:Relationship** annotation identify the elements involved in the parent-child relationship, as well as the **parentkey** and **childkey** elements and attributes involved in the relationship."},{"content":"The mapping process uses this information to generate tables in the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> and to create the primary key/foreign key relationship between these tables.","pos":[2385,2541],"source":" The mapping process uses this information to generate tables in the **DataSet** and to create the primary key/foreign key relationship between these tables."},{"content":"For example, the following schema fragment specifies <bpt id=\"p1\">**</bpt>Order<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>OrderDetail<ept id=\"p2\">**</ept> elements at the same level (not nested).","pos":[2548,2671],"source":"For example, the following schema fragment specifies **Order** and **OrderDetail** elements at the same level (not nested)."},{"content":"The schema specifies an <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> annotation, which specifies the parent-child relationship between these two elements.","pos":[2672,2805],"source":" The schema specifies an **msdata:Relationship** annotation, which specifies the parent-child relationship between these two elements."},{"content":"In this case, an explicit relationship must be specified using the <bpt id=\"p1\">**</bpt>msdata:Relationship<ept id=\"p1\">**</ept> annotation.","pos":[2806,2908],"source":" In this case, an explicit relationship must be specified using the **msdata:Relationship** annotation."},{"content":"The mapping process uses the <bpt id=\"p1\">**</bpt>Relationship<ept id=\"p1\">**</ept> element to create a parent-child relationship between the <bpt id=\"p2\">**</bpt>OrderNumber<ept id=\"p2\">**</ept> column in the <bpt id=\"p3\">**</bpt>Order<ept id=\"p3\">**</ept> table and the <bpt id=\"p4\">**</bpt>OrderNo<ept id=\"p4\">**</ept> column in the <bpt id=\"p5\">**</bpt>OrderDetail<ept id=\"p5\">**</ept> table in the <bpt id=\"p6\">**</bpt>DataSet<ept id=\"p6\">**</ept>.","pos":[3653,3878],"source":"The mapping process uses the **Relationship** element to create a parent-child relationship between the **OrderNumber** column in the **Order** table and the **OrderNo** column in the **OrderDetail** table in the **DataSet**."},{"content":"The mapping process only specifies the relationship; it does not automatically specify any constraints on the values in these columns, as do the primary key/foreign key constraints in relational databases.","pos":[3879,4084]},{"pos":[4094,4109],"content":"In This Section","linkify":"In This Section","nodes":[{"content":"In This Section","pos":[0,15]}]},{"content":"<bpt id=\"p1\">[</bpt>Map Implicit Relations Between Nested Schema Elements<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/map-implicit-relations-between-nested-schema-elements.md)</ept>","pos":[4113,4295],"source":"[Map Implicit Relations Between Nested Schema Elements](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/map-implicit-relations-between-nested-schema-elements.md)"},{"content":"Describes the constraints and relations that are implicitly created in a <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> when nested elements are encountered in XML Schema.","pos":[4299,4435],"source":" Describes the constraints and relations that are implicitly created in a **DataSet** when nested elements are encountered in XML Schema."},{"content":"<bpt id=\"p1\">[</bpt>Map Relations Specified for Nested Elements<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/map-relations-specified-for-nested-elements.md)</ept>","pos":[4442,4604],"source":"[Map Relations Specified for Nested Elements](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/map-relations-specified-for-nested-elements.md)"},{"content":"Describes how to explicitly set relations in a <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> for nested elements in XML Schema.","pos":[4608,4701],"source":" Describes how to explicitly set relations in a **DataSet** for nested elements in XML Schema."},{"content":"<bpt id=\"p1\">[</bpt>Specify Relations Between Elements with No Nesting<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/specify-relations-between-elements-with-no-nesting.md)</ept>","pos":[4708,4884],"source":"[Specify Relations Between Elements with No Nesting](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/specify-relations-between-elements-with-no-nesting.md)"},{"content":"Describes how to create relations in a <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> between XML Schema elements that are not nested.","pos":[4888,4987],"source":" Describes how to create relations in a **DataSet** between XML Schema elements that are not nested."},{"pos":[4997,5013],"content":"Related Sections","linkify":"Related Sections","nodes":[{"content":"Related Sections","pos":[0,16]}]},{"content":"<bpt id=\"p1\">[</bpt>Deriving DataSet Relational Structure from XML Schema (XSD)<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/deriving-dataset-relational-structure-from-xml-schema-xsd.md)</ept>","pos":[5017,5209],"source":"[Deriving DataSet Relational Structure from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/deriving-dataset-relational-structure-from-xml-schema-xsd.md)"},{"content":"Describes the relational structure, or schema, of a <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> that is created from XML Schema definition language (XSD) schema.","pos":[5213,5342],"source":" Describes the relational structure, or schema, of a **DataSet** that is created from XML Schema definition language (XSD) schema."},{"content":"<bpt id=\"p1\">[</bpt>Mapping XML Schema (XSD) Constraints to DataSet Constraints<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)</ept>","pos":[5349,5541],"source":"[Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)"},{"content":"Describes the XML Schema elements used to create unique and foreign key constraints in a <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept>.","pos":[5545,5646],"source":" Describes the XML Schema elements used to create unique and foreign key constraints in a **DataSet**."},{"pos":[5655,5663],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[5667,5770],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](http://go.microsoft.com/fwlink/?LinkId=217917)"}]}