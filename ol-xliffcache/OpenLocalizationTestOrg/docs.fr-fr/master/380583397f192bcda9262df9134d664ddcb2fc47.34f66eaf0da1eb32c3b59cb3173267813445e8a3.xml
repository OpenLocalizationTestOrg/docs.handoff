{"content":"---\ntitle: \"LINQ to SQL Sample | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 5f39db9e-0e62-42c9-8c98-bb8b54cec98c\ncaps.latest.revision: 9\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# LINQ to SQL Sample\nThis sample demonstrates how to create an activity to use LINQ to SQL query entities from tables in SQL Server databases.  \n  \n> [!IMPORTANT]\n>  The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\Samples\\WCFWFCardspace`  \n>   \n>  If this directory does not exist, click the download sample link at the top of this page. Note that this link downloads and installs all of the [!INCLUDE[wf1](../../../../includes/wf1-md.md)], [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], and [!INCLUDE[infocard](../../../../includes/infocard-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\Samples\\WCFWFCardSpace\\WF\\Scenario\\ActivityLibrary\\Linq\\LinqToSql`  \n  \n## Activity details for FindInSqlTable  \n This activity allows users to query entities from tables in a database using LINQ to SQL. Users of the activity can also provide a LINQ predicate in the form of a lambda expression to filter the results. If no predicate is provided, the entire table is returned. The following table details the property and return values for the activity.  \n  \n|Property or Return Value|Description|  \n|------------------------------|-----------------|  \n|`Collection` property|A required property that specifies the source collection.|  \n|`Predicate` property|A required property that specifies the filter for the collection in the form of a lambda expression.|  \n|Return Value|The filtered collection.|  \n  \n## Code Sample that uses the Custom Activity  \n The following code example uses the `FindInSqlTable` custom activity to find all rows in a SQL Server table named `Employee` where the `Role` column is equal to `SDE`.  \n  \n```csharp  \n  \nnew FindInSqlTable<Employee>   \n{  \n    ConnectionString = @\"Data Source=.\\SQLExpress;Initial Catalog=LinqToSqlSample;Integrated Security=True\",                          \n    Predicate = new LambdaValue<Func<Employee, bool>>(c => new Func<Employee, bool>(emp => emp.Role.Equals(\"SDE\"))),  \n    Result = new OutArgument<IList<Employee>>(employees)  \n},  \n  \n```  \n  \n#### To use this sample  \n  \n1.  Open a command prompt.  \n  \n2.  Navigate to the folder that contains this sample.  \n  \n3.  Run the Setup.cmd command file.  \n  \n    > [!NOTE]\n    >  The Setup.cmd script attempts to install the sample database in your local machine SQL Server Express. If you want to install it in other SQL server instance, edit Setup.cmd.  \n  \n     The Setup.cmd script does the following actions.:  \n  \n    -   Creates a database called LinqToSqlSample.  \n  \n    -   Creates a Roles table.  \n  \n    -   Creates an Employees table.  \n  \n    -   Inserts 3 records into the Roles table.  \n  \n    -   Inserts 12 records into the Employees table.  \n  \n4.  Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the LinqToSQL.sln solution file.  \n  \n5.  To build the solution, press CTRL+SHIFT+B.  \n  \n6.  To run the solution, press F5.  \n  \n#### To uninstall the LinqToSql sample database  \n  \n1.  Open a command prompt.  \n  \n2.  Navigate to the folder that contains this sample.  \n  \n3.  Run the Cleanup.cmd command file.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Scenario\\ActivityLibrary\\Liiinq\\LinqToSql`  \n  \n## See Also  \n [LINQ to SQL](http://go.microsoft.com/fwlink/?LinkId=150376)   \n [Getting Started (LINQ to SQL)](http://go.microsoft.com/fwlink/?LinkId=150377)","nodes":[{"pos":[12,47],"content":"LINQ to SQL Sample | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"LINQ to SQL Sample | Microsoft Docs","pos":[0,35]}]},{"pos":[312,330],"content":"LINQ to SQL Sample","linkify":"LINQ to SQL Sample","nodes":[{"content":"LINQ to SQL Sample","pos":[0,18]}]},{"content":"This sample demonstrates how to create an activity to use LINQ to SQL query entities from tables in SQL Server databases.","pos":[331,452]},{"pos":[460,648],"content":"[!IMPORTANT]\n The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,186],"nodes":[{"content":"The <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> samples may already be installed on your machine.","pos":[1,110],"source":" The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples may already be installed on your machine."},{"content":"Check for the following (default) directory before continuing.","pos":[111,173]}]}]},{"content":"If this directory does not exist, click the download sample link at the top of this page.","pos":[710,799]},{"content":"Note that this link downloads and installs all of the <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph>, <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph>, and <ph id=\"ph3\">[!INCLUDE[infocard](../../../../includes/infocard-md.md)]</ph> samples.","pos":[800,1030],"source":" Note that this link downloads and installs all of the [!INCLUDE[wf1](../../../../includes/wf1-md.md)], [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], and [!INCLUDE[infocard](../../../../includes/infocard-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[1031,1081]},{"pos":[1184,1219],"content":"Activity details for FindInSqlTable","linkify":"Activity details for FindInSqlTable","nodes":[{"content":"Activity details for FindInSqlTable","pos":[0,35]}]},{"content":"This activity allows users to query entities from tables in a database using LINQ to SQL.","pos":[1223,1312]},{"content":"Users of the activity can also provide a LINQ predicate in the form of a lambda expression to filter the results.","pos":[1313,1426]},{"content":"If no predicate is provided, the entire table is returned.","pos":[1427,1485]},{"content":"The following table details the property and return values for the activity.","pos":[1486,1562]},{"content":"Property or Return Value","pos":[1569,1593]},{"content":"Description","pos":[1594,1605]},{"pos":[1663,1684],"content":"<ph id=\"ph1\">`Collection`</ph> property","source":"`Collection` property"},{"content":"A required property that specifies the source collection.","pos":[1685,1742]},{"pos":[1747,1767],"content":"<ph id=\"ph1\">`Predicate`</ph> property","source":"`Predicate` property"},{"content":"A required property that specifies the filter for the collection in the form of a lambda expression.","pos":[1768,1868]},{"content":"Return Value","pos":[1873,1885]},{"content":"The filtered collection.","pos":[1886,1910]},{"pos":[1920,1961],"content":"Code Sample that uses the Custom Activity","linkify":"Code Sample that uses the Custom Activity","nodes":[{"content":"Code Sample that uses the Custom Activity","pos":[0,41]}]},{"pos":[1965,2132],"content":"The following code example uses the <ph id=\"ph1\">`FindInSqlTable`</ph> custom activity to find all rows in a SQL Server table named <ph id=\"ph2\">`Employee`</ph> where the <ph id=\"ph3\">`Role`</ph> column is equal to <ph id=\"ph4\">`SDE`</ph>.","source":"The following code example uses the `FindInSqlTable` custom activity to find all rows in a SQL Server table named `Employee` where the `Role` column is equal to `SDE`."},{"pos":[2524,2542],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"content":"Open a command prompt.","pos":[2552,2574]},{"content":"Navigate to the folder that contains this sample.","pos":[2584,2633]},{"content":"Run the Setup.cmd command file.","pos":[2643,2674]},{"pos":[2686,2875],"content":"[!NOTE]\nThe Setup.cmd script attempts to install the sample database in your local machine SQL Server Express. If you want to install it in other SQL server instance, edit Setup.cmd.","leadings":["","    >  "],"nodes":[{"content":"The Setup.cmd script attempts to install the sample database in your local machine SQL Server Express. If you want to install it in other SQL server instance, edit Setup.cmd.","pos":[8,182],"nodes":[{"content":"The Setup.cmd script attempts to install the sample database in your local machine SQL Server Express.","pos":[0,102]},{"content":"If you want to install it in other SQL server instance, edit Setup.cmd.","pos":[103,174]}]}]},{"content":"The Setup.cmd script does the following actions.:","pos":[2886,2935]},{"content":"Creates a database called LinqToSqlSample.","pos":[2949,2991]},{"content":"Creates a Roles table.","pos":[3005,3027]},{"content":"Creates an Employees table.","pos":[3041,3068]},{"content":"Inserts 3 records into the Roles table.","pos":[3082,3121]},{"content":"Inserts 12 records into the Employees table.","pos":[3135,3179]},{"pos":[3189,3287],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph>, open the LinqToSQL.sln solution file.","source":"Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the LinqToSQL.sln solution file."},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[3297,3339]},{"content":"To run the solution, press F5.","pos":[3349,3379]},{"pos":[3390,3432],"content":"To uninstall the LinqToSql sample database","linkify":"To uninstall the LinqToSql sample database","nodes":[{"content":"To uninstall the LinqToSql sample database","pos":[0,42]}]},{"content":"Open a command prompt.","pos":[3442,3464]},{"content":"Navigate to the folder that contains this sample.","pos":[3474,3523]},{"content":"Run the Cleanup.cmd command file.","pos":[3533,3566]},{"pos":[3574,3706],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[1,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[3760,4086],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[4087,4137]},{"pos":[4234,4242],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>LINQ to SQL<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150376)</ept><ph id=\"ph1\"> </ph>","pos":[4246,4307],"source":"[LINQ to SQL](http://go.microsoft.com/fwlink/?LinkId=150376) "},{"content":"<bpt id=\"p1\"> [</bpt>Getting Started (LINQ to SQL)<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150377)</ept>","pos":[4310,4389],"source":" [Getting Started (LINQ to SQL)](http://go.microsoft.com/fwlink/?LinkId=150377)"}]}