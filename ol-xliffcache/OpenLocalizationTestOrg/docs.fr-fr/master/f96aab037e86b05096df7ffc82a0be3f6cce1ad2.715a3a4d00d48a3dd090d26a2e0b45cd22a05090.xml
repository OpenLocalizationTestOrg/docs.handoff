{"content":"---\ntitle: \"Activity List\"\nms.date: \"03/30/2017\"\nms.assetid: 5540e185-ce8e-4db3-83b0-2b9f5bf71829\n---\n# Activity List\nThis topic lists all the activities defined by Windows Communication Foundation (WCF).  \n  \n> [!NOTE]\n>  You can also define activities programmatically to group user traces. For more information, see [Emitting User-Code Traces](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md).  \n  \n## ServiceModel Activities  \n The following table lists all activities for major usage scenarios.  \n  \n|Label|Activity Name|Activity Type|Description|  \n|-----------|-------------------|-------------------|-----------------|  \n|A, M|Ambient activity|N/A (this is not controlled by ServiceModel)|The activity whose ID is set in TLS before any calls to ServiceModel code (client side or server side).<br /><br /> Example: An activity where  open is called on the WCF client or serviceHost.open is called.|  \n|B|Construct<br /><br /> ChannelFactory. ContractType : ‘[Type]’.|Construct||  \n|C|Open<br /><br /> [ClientBase&#124;ChannelFactory]. ContractType : ‘[Type]’.|Open||  \n|I|Close [ClientBase&#124;ChannelFactory]. ContractType : ‘[Type]’.|Close||  \n|M|Construct ServiceHost. ServiceType: ‘[Type]’.|Construct||  \n|N|Open ServiceHost. ServiceType: ‘[Type]’.|Open||  \n|Z|Close ServiceHost. ServiceType: ‘[Type]’.|Close||  \n|O|Listen at ‘[address]’.|ListenAt|This and the next activity are transport-specific. The ListenAt activity represents the content that maps to the address where the channel listener listens at. In the case of MSMQ, it is the queue itself since the queue maps to one address. This activity listens for incoming connections in the case of connection-oriented transports, for MSMQ messages in the case of MSMQ. This activity is created during ServiceHost.Open(), and contains the traces related to creating and disposing the listener, as well as transferring out to all ReceiveBytes activities.|  \n|P|Receive bytes on connection ‘[address]’. Receive MSMQ message.|ReceiveBytes|In this activity, data that will eventually get a WCF message is processed. Incoming bytes are waited in the case of connection-oriented transport or http. For TCP/named-pipe, the lifetime of this activity is the lifetime of the connection, as it is created when the connection is created. For http, it is of the lifetime of a message request and is created when the message is sent. This activity contains the traces related to creating and disposing the connection if applicable, as well as transfers out to all message (object) processing activities.<br /><br /> In the case of MSMQ, it is the activity where the MSMQ message is retrieved.|  \n|Q|Process message [number]. (Note, [number] is a monotonically increasing value which starts at 1.)|ProcessMessage|Process an incoming message. This activity starts when all the data (bytes, MSMQ message) are received to form a WCF message object. Traces within this activity deal with header processing.<br /><br /> Once a message that can be dispatched is formed, the ServiceHost ProcessAction activity is switched to after looking up the corresponding Activity ID.|  \n|D, S|Process action ‘[action]’.|ProcessAction|Process the message through the Transport/Security/RM stack for dispatching the message to user code on receive, and in the reverse order on send.<br /><br /> On the server, this activity uses the propagated Activity ID if it is sent in the message header via \"Activity Propagation\"; otherwise, a new GUID is created.<br /><br /> The response message for request/reply contracts is also processed in that activity.|  \n|T|Execute ‘[IContract.Operation]’.|ExecuteUserCode|Execute user code after dispatch on the service side. This activity provides a boundary to delineate ServiceHost code from user-provided code.|  \n  \n## Security Activities  \n The following table lists all activities related to Security.  \n  \n|Activity Name|Activity Type|Description|  \n|-------------------|-------------------|-----------------|  \n|Setup secure session|SetupSecurity|Exists on the client side only. Contains all RST*/SCT exchanges for authentication and setting the security context. If `propagateActivity`=`true`, this activity is merged with the service’s corresponding Process Action RST\\*/SCT activities.|  \n|Close secure session|SetupSecurity|Exists on the client side. Contains the Cancel message exchange for closing the secure session. If `propagateActivity`=`true`, this activity is merged with the Process Action \"Cancel\" from the service.|  \n  \n The following table lists all activities related to COM+.  \n  \n|Activity Name|Activity Type|Description|  \n|-------------------|-------------------|-----------------|  \n|Create COM+ instance|TransferToCOMPlus|1 activity instance for each COM+ call from WCF code|  \n|Execute COM+ \\<operation>|TransferToCOMPlus|1 activity instance for each COM+ call from WCF code|  \n  \n## WMI Activities  \n The following table lists all activities related to WMI.  \n  \n|Activity Name|Activity Type|Description|  \n|-------------------|-------------------|-----------------|  \n|WMI get|WMIGetObject|User is retrieving data from WMI.|  \n|WMI put|WmiPutInstance|User is updating data with WMI.|\n","nodes":[{"pos":[4,97],"embed":true,"restype":"x-metadata","content":"title: \"Activity List\"\nms.date: \"03/30/2017\"\nms.assetid: 5540e185-ce8e-4db3-83b0-2b9f5bf71829","nodes":[{"content":"Activity List","nodes":[{"pos":[0,13],"content":"Activity List","nodes":[{"content":"Activity List","pos":[0,13]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[104,117],"content":"Activity List","linkify":"Activity List","nodes":[{"content":"Activity List","pos":[0,13]}]},{"content":"This topic lists all the activities defined by Windows Communication Foundation (WCF).","pos":[118,204]},{"pos":[212,431],"content":"[!NOTE]\n You can also define activities programmatically to group user traces. For more information, see [Emitting User-Code Traces](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md).","leadings":["","> "],"nodes":[{"content":"You can also define activities programmatically to group user traces. For more information, see [Emitting User-Code Traces](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md).","pos":[9,217],"nodes":[{"content":"You can also define activities programmatically to group user traces.","pos":[0,69]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Emitting User-Code Traces<ept id=\"p1\">](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md)</ept>.","pos":[70,208],"source":" For more information, see [Emitting User-Code Traces](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md)."}]}]},{"pos":[440,463],"content":"ServiceModel Activities","linkify":"ServiceModel Activities","nodes":[{"content":"ServiceModel Activities","pos":[0,23]}]},{"content":"The following table lists all activities for major usage scenarios.","pos":[467,534]},{"content":"Label","pos":[541,546]},{"content":"Activity Name","pos":[547,560]},{"content":"Activity Type","pos":[561,574]},{"content":"Description","pos":[575,586]},{"content":"A, M","pos":[665,669]},{"content":"Ambient activity","pos":[670,686]},{"content":"N/A (this is not controlled by ServiceModel)","pos":[687,731]},{"content":"The activity whose ID is set in TLS before any calls to ServiceModel code (client side or server side).","pos":[732,835]},{"content":"Example: An activity where  open is called on the WCF client or serviceHost.open is called.","pos":[848,939]},{"content":"B","pos":[944,945]},{"content":"Construct","pos":[946,955]},{"content":"ChannelFactory.","pos":[968,983]},{"content":"ContractType : ‘[Type]’.","pos":[984,1008]},{"content":"Construct","pos":[1009,1018]},{"content":"C","pos":[1024,1025]},{"content":"Open","pos":[1026,1030]},{"content":"[ClientBase&amp;#124;ChannelFactory].","pos":[1043,1076],"source":"[ClientBase&#124;ChannelFactory]."},{"content":"ContractType : ‘[Type]’.","pos":[1077,1101]},{"content":"Open","pos":[1102,1106]},{"content":"I","pos":[1112,1113]},{"content":"Close [ClientBase&amp;#124;ChannelFactory].","pos":[1114,1153],"source":"Close [ClientBase&#124;ChannelFactory]."},{"content":"ContractType : ‘[Type]’.","pos":[1154,1178]},{"content":"Close","pos":[1179,1184]},{"content":"M","pos":[1190,1191]},{"content":"Construct ServiceHost.","pos":[1192,1214]},{"content":"ServiceType: ‘[Type]’.","pos":[1215,1237]},{"content":"Construct","pos":[1238,1247]},{"content":"N","pos":[1253,1254]},{"content":"Open ServiceHost.","pos":[1255,1272]},{"content":"ServiceType: ‘[Type]’.","pos":[1273,1295]},{"content":"Open","pos":[1296,1300]},{"content":"Z","pos":[1306,1307]},{"content":"Close ServiceHost.","pos":[1308,1326]},{"content":"ServiceType: ‘[Type]’.","pos":[1327,1349]},{"content":"Close","pos":[1350,1355]},{"content":"O","pos":[1361,1362]},{"content":"Listen at ‘[address]’.","pos":[1363,1385]},{"content":"ListenAt","pos":[1386,1394]},{"content":"This and the next activity are transport-specific.","pos":[1395,1445]},{"content":"The ListenAt activity represents the content that maps to the address where the channel listener listens at.","pos":[1446,1554]},{"content":"In the case of MSMQ, it is the queue itself since the queue maps to one address.","pos":[1555,1635]},{"content":"This activity listens for incoming connections in the case of connection-oriented transports, for MSMQ messages in the case of MSMQ.","pos":[1636,1768]},{"content":"This activity is created during ServiceHost.Open(), and contains the traces related to creating and disposing the listener, as well as transferring out to all ReceiveBytes activities.","pos":[1769,1952]},{"content":"P","pos":[1957,1958]},{"content":"Receive bytes on connection ‘[address]’.","pos":[1959,1999]},{"content":"Receive MSMQ message.","pos":[2000,2021]},{"content":"ReceiveBytes","pos":[2022,2034]},{"content":"In this activity, data that will eventually get a WCF message is processed.","pos":[2035,2110]},{"content":"Incoming bytes are waited in the case of connection-oriented transport or http.","pos":[2111,2190]},{"content":"For TCP/named-pipe, the lifetime of this activity is the lifetime of the connection, as it is created when the connection is created.","pos":[2191,2324]},{"content":"For http, it is of the lifetime of a message request and is created when the message is sent.","pos":[2325,2418]},{"content":"This activity contains the traces related to creating and disposing the connection if applicable, as well as transfers out to all message (object) processing activities.","pos":[2419,2588]},{"content":"In the case of MSMQ, it is the activity where the MSMQ message is retrieved.","pos":[2601,2677]},{"content":"Q","pos":[2682,2683]},{"content":"Process message [number].","pos":[2684,2709]},{"content":"(Note, [number] is a monotonically increasing value which starts at 1.)","pos":[2710,2781]},{"content":"ProcessMessage","pos":[2782,2796]},{"content":"Process an incoming message.","pos":[2797,2825]},{"content":"This activity starts when all the data (bytes, MSMQ message) are received to form a WCF message object.","pos":[2826,2929]},{"content":"Traces within this activity deal with header processing.","pos":[2930,2986]},{"content":"Once a message that can be dispatched is formed, the ServiceHost ProcessAction activity is switched to after looking up the corresponding Activity ID.","pos":[2999,3149]},{"content":"D, S","pos":[3154,3158]},{"content":"Process action ‘[action]’.","pos":[3159,3185]},{"content":"ProcessAction","pos":[3186,3199]},{"content":"Process the message through the Transport/Security/RM stack for dispatching the message to user code on receive, and in the reverse order on send.","pos":[3200,3346]},{"content":"On the server, this activity uses the propagated Activity ID if it is sent in the message header via \"Activity Propagation\"; otherwise, a new GUID is created.","pos":[3359,3517]},{"content":"The response message for request/reply contracts is also processed in that activity.","pos":[3530,3614]},{"content":"T","pos":[3619,3620]},{"content":"Execute ‘[IContract.Operation]’.","pos":[3621,3653]},{"content":"ExecuteUserCode","pos":[3654,3669]},{"content":"Execute user code after dispatch on the service side.","pos":[3670,3723]},{"content":"This activity provides a boundary to delineate ServiceHost code from user-provided code.","pos":[3724,3812]},{"pos":[3822,3841],"content":"Security Activities","linkify":"Security Activities","nodes":[{"content":"Security Activities","pos":[0,19]}]},{"content":"The following table lists all activities related to Security.","pos":[3845,3906]},{"content":"Activity Name","pos":[3913,3926]},{"content":"Activity Type","pos":[3927,3940]},{"content":"Description","pos":[3941,3952]},{"content":"Setup secure session","pos":[4019,4039]},{"content":"SetupSecurity","pos":[4040,4053]},{"content":"Exists on the client side only.","pos":[4054,4085]},{"content":"Contains all RST*/SCT exchanges for authentication and setting the security context.","pos":[4086,4170]},{"content":"If <ph id=\"ph1\">`propagateActivity`</ph><ph id=\"ph2\">=</ph><ph id=\"ph3\">`true`</ph>, this activity is merged with the service’s corresponding Process Action RST<ph id=\"ph4\">\\*</ph>/SCT activities.","pos":[4171,4295],"source":" If `propagateActivity`=`true`, this activity is merged with the service’s corresponding Process Action RST\\*/SCT activities."},{"content":"Close secure session","pos":[4300,4320]},{"content":"SetupSecurity","pos":[4321,4334]},{"content":"Exists on the client side.","pos":[4335,4361]},{"content":"Contains the Cancel message exchange for closing the secure session.","pos":[4362,4430]},{"content":"If <ph id=\"ph1\">`propagateActivity`</ph><ph id=\"ph2\">=</ph><ph id=\"ph3\">`true`</ph>, this activity is merged with the Process Action \"Cancel\" from the service.","pos":[4431,4536],"source":" If `propagateActivity`=`true`, this activity is merged with the Process Action \"Cancel\" from the service."},{"content":"The following table lists all activities related to COM+.","pos":[4544,4601]},{"content":"Activity Name","pos":[4608,4621]},{"content":"Activity Type","pos":[4622,4635]},{"content":"Description","pos":[4636,4647]},{"content":"Create COM+ instance","pos":[4714,4734]},{"content":"TransferToCOMPlus","pos":[4735,4752]},{"content":"1 activity instance for each COM+ call from WCF code","pos":[4753,4805]},{"content":"Execute COM+ <ph id=\"ph1\">\\&lt;</ph>operation&gt;","pos":[4810,4835],"source":"Execute COM+ \\<operation>"},{"content":"TransferToCOMPlus","pos":[4836,4853]},{"content":"1 activity instance for each COM+ call from WCF code","pos":[4854,4906]},{"pos":[4916,4930],"content":"WMI Activities","linkify":"WMI Activities","nodes":[{"content":"WMI Activities","pos":[0,14]}]},{"content":"The following table lists all activities related to WMI.","pos":[4934,4990]},{"content":"Activity Name","pos":[4997,5010]},{"content":"Activity Type","pos":[5011,5024]},{"content":"Description","pos":[5025,5036]},{"content":"WMI get","pos":[5103,5110]},{"content":"WMIGetObject","pos":[5111,5123]},{"content":"User is retrieving data from WMI.","pos":[5124,5157]},{"content":"WMI put","pos":[5162,5169]},{"content":"WmiPutInstance","pos":[5170,5184]},{"content":"User is updating data with WMI.","pos":[5185,5216]}]}