{"content":"---\ntitle: \"How to: Declare Faults in Service Contracts\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: e8da98e7-d22f-4f60-ac82-3fb0928a353f\n---\n# How to: Declare Faults in Service Contracts\nIn managed code, exceptions are thrown when error conditions occur. In Windows Communication Foundation (WCF) applications, however, service contracts specify what error information is returned to clients by declaring SOAP faults in the service contract. For an overview of the relationship between exceptions and faults, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).  \n  \n### Create a service contract that specifies a SOAP fault  \n  \n1.  Create a service contract that contains at least one operation. For an example, see [How to: Define a Service Contract](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md).  \n  \n2.  Select an operation that can specify an error condition about which clients can expect to be notified. To decide which error conditions justify returning SOAP faults to clients, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).  \n  \n3.  Apply a <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> to the selected operation and pass a serializable fault type to the constructor. For details about creating and using serializable types, see [Specifying Data Transfer in Service Contracts](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md). The following example shows how to specify that the `SampleMethod` operation can result in a `GreetingFault`.  \n  \n     [!code-csharp[FaultContractAttribute#4](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#4)]\n     [!code-vb[FaultContractAttribute#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#4)]  \n  \n4.  Repeat steps 2 and 3 for all operations in the contract that communicate error conditions to clients.  \n  \n## Implementing an Operation to Return a Specified SOAP Fault  \n Once an operation has specified that a specific SOAP fault can be returned (such as in the preceding procedure) to communicate an error condition to a calling application, the next step is to implement that specification.  \n  \n#### Throw the specified SOAP fault in the operation  \n  \n1.  When a <xref:System.ServiceModel.FaultContractAttribute>-specified error condition occurs in an operation, throw a new <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> where the specified SOAP fault is the type parameter. The following example shows how to throw the `GreetingFault` in the `SampleMethod` shown in the preceding procedure and in the following Code section.  \n  \n     [!code-csharp[FaultContractAttribute#5](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#5)]\n     [!code-vb[FaultContractAttribute#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#5)]  \n  \n## Example  \n The following code example shows an implementation of a single operation that specifies a `GreetingFault` for the `SampleMethod` operation.  \n  \n [!code-csharp[FaultContractAttribute#1](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#1)]\n [!code-vb[FaultContractAttribute#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#1)]  \n  \n## See also\n\n- <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType>\n- <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType>\n","nodes":[{"pos":[4,161],"embed":true,"restype":"x-metadata","content":"title: \"How to: Declare Faults in Service Contracts\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: e8da98e7-d22f-4f60-ac82-3fb0928a353f","nodes":[{"content":"How to: Declare Faults in Service Contracts","nodes":[{"pos":[0,43],"content":"How to: Declare Faults in Service Contracts","nodes":[{"content":"How to: Declare Faults in Service Contracts","pos":[0,43]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[168,211],"content":"How to: Declare Faults in Service Contracts","linkify":"How to: Declare Faults in Service Contracts","nodes":[{"content":"How to: Declare Faults in Service Contracts","pos":[0,43]}]},{"content":"In managed code, exceptions are thrown when error conditions occur.","pos":[212,279]},{"content":"In Windows Communication Foundation (WCF) applications, however, service contracts specify what error information is returned to clients by declaring SOAP faults in the service contract.","pos":[280,466]},{"content":"For an overview of the relationship between exceptions and faults, see <bpt id=\"p1\">[</bpt>Specifying and Handling Faults in Contracts and Services<ept id=\"p1\">](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)</ept>.","pos":[467,686],"source":" For an overview of the relationship between exceptions and faults, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)."},{"pos":[696,749],"content":"Create a service contract that specifies a SOAP fault","linkify":"Create a service contract that specifies a SOAP fault","nodes":[{"content":"Create a service contract that specifies a SOAP fault","pos":[0,53]}]},{"content":"Create a service contract that contains at least one operation.","pos":[759,822]},{"content":"For an example, see <bpt id=\"p1\">[</bpt>How to: Define a Service Contract<ept id=\"p1\">](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md)</ept>.","pos":[823,948],"source":" For an example, see [How to: Define a Service Contract](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md)."},{"content":"Select an operation that can specify an error condition about which clients can expect to be notified.","pos":[958,1060]},{"content":"To decide which error conditions justify returning SOAP faults to clients, see <bpt id=\"p1\">[</bpt>Specifying and Handling Faults in Contracts and Services<ept id=\"p1\">](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)</ept>.","pos":[1061,1288],"source":" To decide which error conditions justify returning SOAP faults to clients, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)."},{"content":"Apply a <ph id=\"ph1\">&lt;xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType&gt;</ph> to the selected operation and pass a serializable fault type to the constructor.","pos":[1298,1465],"source":"Apply a <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> to the selected operation and pass a serializable fault type to the constructor."},{"content":"For details about creating and using serializable types, see <bpt id=\"p1\">[</bpt>Specifying Data Transfer in Service Contracts<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)</ept>.","pos":[1466,1669],"source":" For details about creating and using serializable types, see [Specifying Data Transfer in Service Contracts](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)."},{"content":"The following example shows how to specify that the <ph id=\"ph1\">`SampleMethod`</ph> operation can result in a <ph id=\"ph2\">`GreetingFault`</ph>.","pos":[1670,1779],"source":" The following example shows how to specify that the `SampleMethod` operation can result in a `GreetingFault`."},{"pos":[1790,2057],"content":"[!code-csharp[FaultContractAttribute#4](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#4)]\n [!code-vb[FaultContractAttribute#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#4)]","leadings":["","    "],"nodes":[]},{"content":"Repeat steps 2 and 3 for all operations in the contract that communicate error conditions to clients.","pos":[2067,2168]},{"pos":[2177,2235],"content":"Implementing an Operation to Return a Specified SOAP Fault","linkify":"Implementing an Operation to Return a Specified SOAP Fault","nodes":[{"content":"Implementing an Operation to Return a Specified SOAP Fault","pos":[0,58]}]},{"content":"Once an operation has specified that a specific SOAP fault can be returned (such as in the preceding procedure) to communicate an error condition to a calling application, the next step is to implement that specification.","pos":[2239,2460]},{"pos":[2471,2518],"content":"Throw the specified SOAP fault in the operation","linkify":"Throw the specified SOAP fault in the operation","nodes":[{"content":"Throw the specified SOAP fault in the operation","pos":[0,47]}]},{"content":"When a <ph id=\"ph1\">&lt;xref:System.ServiceModel.FaultContractAttribute&gt;</ph>-specified error condition occurs in an operation, throw a new <ph id=\"ph2\">&lt;xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType&gt;</ph> where the specified SOAP fault is the type parameter.","pos":[2528,2775],"source":"When a <xref:System.ServiceModel.FaultContractAttribute>-specified error condition occurs in an operation, throw a new <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> where the specified SOAP fault is the type parameter."},{"content":"The following example shows how to throw the <ph id=\"ph1\">`GreetingFault`</ph> in the <ph id=\"ph2\">`SampleMethod`</ph> shown in the preceding procedure and in the following Code section.","pos":[2776,2926],"source":" The following example shows how to throw the `GreetingFault` in the `SampleMethod` shown in the preceding procedure and in the following Code section."},{"pos":[2937,3204],"content":"[!code-csharp[FaultContractAttribute#5](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#5)]\n [!code-vb[FaultContractAttribute#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#5)]","leadings":["","    "],"nodes":[]},{"pos":[3213,3220],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3224,3363],"content":"The following code example shows an implementation of a single operation that specifies a <ph id=\"ph1\">`GreetingFault`</ph> for the <ph id=\"ph2\">`SampleMethod`</ph> operation.","source":"The following code example shows an implementation of a single operation that specifies a `GreetingFault` for the `SampleMethod` operation."},{"pos":[3642,3650],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}