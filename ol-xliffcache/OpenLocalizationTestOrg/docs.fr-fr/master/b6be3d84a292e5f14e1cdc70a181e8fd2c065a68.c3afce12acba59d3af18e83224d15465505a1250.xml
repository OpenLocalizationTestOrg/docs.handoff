{"content":"---\ntitle: \"Building My First Claims-Aware ASP.NET Web Application\"\nms.date: \"03/30/2017\"\nms.assetid: 3ee8ee7f-caba-4267-9343-e313fae2876d\nauthor: \"BrucePerlerMS\"\n---\n# Building My First Claims-Aware ASP.NET Web Application\n## Applies To  \n  \n-   Windows Identity Foundation (WIF)  \n  \n-   ASP.NET  \n  \n This topic outlines the scenario of building claims-aware ASP.NET web applications using WIF. There are usually three participants in a claims-aware application scenario: the application itself, the end user, and the Security Token Service (STS). The following figure describes this scenario:  \n  \n ![Diagram showing a WIF Basic Web App components.](./media/building-my-first-claims-aware-aspnet-web-app/windows-identity-foundation-basic-web-application.gif)  \n  \n1.  The claims-aware application uses WIF to identify unauthenticated requests and to redirect them to the STS.  \n  \n2.  The end user provides credentials to the STS and upon successful authentication the user is issued a token by the STS.  \n  \n3.  The user is redirected from the STS to the claims-aware application with the STS-issued token in the request.  \n  \n4.  The claims-aware application is configured to trust the STS and the tokens it issues. The claims-aware application uses WIF to validate the token and to parse it. Developers use the appropriate WIF API and types, for example, **ClaimsPrincpal** for the application’s needs, such as implementing authorization for it.  \n  \n Starting from .NET 4.5, WIF is part of the .NET Framework package. Having the WIF classes directly available in the framework allows a much deeper integration of claims-based identity in .NET, making it easier to use claims. With WIF 4.5, you do not need to install any out-of-band components in order to start developing claims-aware web applications. WIF classes are now spread across various assemblies, the main ones being System.Security.Claims, System.IdentityModel and System.IdentityModel.Services.  \n  \n STS is a service that issues tokens upon successful authentication. Microsoft offers two industry standard STS’s:  \n  \n-   [Active Directory Federation Services (AD FS) 2.0](https://go.microsoft.com/fwlink/?LinkID=247516)\n  \n-   [Windows Azure Access Control Service (ACS)](https://go.microsoft.com/fwlink/?LinkID=247517)\n  \n AD FS 2.0 is part of the Windows Server R2 and can be used as an STS for on-premise scenarios. ACS is a cloud service, offered as part of the Windows Azure Platform. For testing or educational purposes, you can also use other STS’s in order to build your claims-aware applications. For example, you can use the Local Development STS that is part of the [Identity and Access Tool for Visual Studio](https://go.microsoft.com/fwlink/?LinkID=245849) which is freely available online.  \n  \n To build your first claims-aware ASP.NET application using WIF, follow the instructions in one of the following:  \n  \n-   [How To: Build Claims-Aware ASP.NET MVC Web Application Using WIF](../../../docs/framework/security/how-to-build-claims-aware-aspnet-mvc-web-app-using-wif.md)  \n  \n-   [How To: Build Claims-Aware ASP.NET Web Forms Application Using WIF](../../../docs/framework/security/how-to-build-claims-aware-aspnet-web-forms-app-using-wif.md)  \n  \n-   [How To: Build Claims-Aware ASP.NET Application Using Forms-Based Authentication](../../../docs/framework/security/claims-aware-aspnet-app-forms-authentication.md)  \n  \n## See also\n\n- [Getting Started With WIF](../../../docs/framework/security/getting-started-with-wif.md)\n","nodes":[{"pos":[4,162],"embed":true,"restype":"x-metadata","content":"title: \"Building My First Claims-Aware ASP.NET Web Application\"\nms.date: \"03/30/2017\"\nms.assetid: 3ee8ee7f-caba-4267-9343-e313fae2876d\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"Building My First Claims-Aware ASP.NET Web Application","nodes":[{"pos":[0,54],"content":"Building My First Claims-Aware ASP.NET Web Application","nodes":[{"content":"Building My First Claims-Aware ASP.NET Web Application","pos":[0,54]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[169,223],"content":"Building My First Claims-Aware ASP.NET Web Application","linkify":"Building My First Claims-Aware ASP.NET Web Application","nodes":[{"content":"Building My First Claims-Aware ASP.NET Web Application","pos":[0,54]}]},{"pos":[227,237],"content":"Applies To","linkify":"Applies To","nodes":[{"content":"Applies To","pos":[0,10]}]},{"content":"Windows Identity Foundation (WIF)","pos":[247,280]},{"content":"ASP.NET","pos":[290,297]},{"content":"This topic outlines the scenario of building claims-aware ASP.NET web applications using WIF.","pos":[304,397]},{"content":"There are usually three participants in a claims-aware application scenario: the application itself, the end user, and the Security Token Service (STS).","pos":[398,550]},{"content":"The following figure describes this scenario:","pos":[551,596]},{"content":"Diagram showing a WIF Basic Web App components.","pos":[605,652]},{"content":"The claims-aware application uses WIF to identify unauthenticated requests and to redirect them to the STS.","pos":[772,879]},{"content":"The end user provides credentials to the STS and upon successful authentication the user is issued a token by the STS.","pos":[889,1007]},{"content":"The user is redirected from the STS to the claims-aware application with the STS-issued token in the request.","pos":[1017,1126]},{"content":"The claims-aware application is configured to trust the STS and the tokens it issues.","pos":[1136,1221]},{"content":"The claims-aware application uses WIF to validate the token and to parse it.","pos":[1222,1298]},{"content":"Developers use the appropriate WIF API and types, for example, <bpt id=\"p1\">**</bpt>ClaimsPrincpal<ept id=\"p1\">**</ept> for the application’s needs, such as implementing authorization for it.","pos":[1299,1452],"source":" Developers use the appropriate WIF API and types, for example, **ClaimsPrincpal** for the application’s needs, such as implementing authorization for it."},{"content":"Starting from .NET 4.5, WIF is part of the .NET Framework package.","pos":[1459,1525]},{"content":"Having the WIF classes directly available in the framework allows a much deeper integration of claims-based identity in .NET, making it easier to use claims.","pos":[1526,1683]},{"content":"With WIF 4.5, you do not need to install any out-of-band components in order to start developing claims-aware web applications.","pos":[1684,1811]},{"content":"WIF classes are now spread across various assemblies, the main ones being System.Security.Claims, System.IdentityModel and System.IdentityModel.Services.","pos":[1812,1965]},{"content":"STS is a service that issues tokens upon successful authentication.","pos":[1972,2039]},{"content":"Microsoft offers two industry standard STS’s:","pos":[2040,2085]},{"pos":[2095,2193],"content":"<bpt id=\"p1\">[</bpt>Active Directory Federation Services (AD FS) 2.0<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkID=247516)</ept>","source":"[Active Directory Federation Services (AD FS) 2.0](https://go.microsoft.com/fwlink/?LinkID=247516)"},{"pos":[2201,2293],"content":"<bpt id=\"p1\">[</bpt>Windows Azure Access Control Service (ACS)<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkID=247517)</ept>","source":"[Windows Azure Access Control Service (ACS)](https://go.microsoft.com/fwlink/?LinkID=247517)"},{"content":"AD FS 2.0 is part of the Windows Server R2 and can be used as an STS for on-premise scenarios.","pos":[2298,2392]},{"content":"ACS is a cloud service, offered as part of the Windows Azure Platform.","pos":[2393,2463]},{"content":"For testing or educational purposes, you can also use other STS’s in order to build your claims-aware applications.","pos":[2464,2579]},{"content":"For example, you can use the Local Development STS that is part of the <bpt id=\"p1\">[</bpt>Identity and Access Tool for Visual Studio<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkID=245849)</ept> which is freely available online.","pos":[2580,2777],"source":" For example, you can use the Local Development STS that is part of the [Identity and Access Tool for Visual Studio](https://go.microsoft.com/fwlink/?LinkID=245849) which is freely available online."},{"content":"To build your first claims-aware ASP.NET application using WIF, follow the instructions in one of the following:","pos":[2784,2896]},{"pos":[2906,3064],"content":"<bpt id=\"p1\">[</bpt>How To: Build Claims-Aware ASP.NET MVC Web Application Using WIF<ept id=\"p1\">](../../../docs/framework/security/how-to-build-claims-aware-aspnet-mvc-web-app-using-wif.md)</ept>","source":"[How To: Build Claims-Aware ASP.NET MVC Web Application Using WIF](../../../docs/framework/security/how-to-build-claims-aware-aspnet-mvc-web-app-using-wif.md)"},{"pos":[3074,3236],"content":"<bpt id=\"p1\">[</bpt>How To: Build Claims-Aware ASP.NET Web Forms Application Using WIF<ept id=\"p1\">](../../../docs/framework/security/how-to-build-claims-aware-aspnet-web-forms-app-using-wif.md)</ept>","source":"[How To: Build Claims-Aware ASP.NET Web Forms Application Using WIF](../../../docs/framework/security/how-to-build-claims-aware-aspnet-web-forms-app-using-wif.md)"},{"pos":[3246,3409],"content":"<bpt id=\"p1\">[</bpt>How To: Build Claims-Aware ASP.NET Application Using Forms-Based Authentication<ept id=\"p1\">](../../../docs/framework/security/claims-aware-aspnet-app-forms-authentication.md)</ept>","source":"[How To: Build Claims-Aware ASP.NET Application Using Forms-Based Authentication](../../../docs/framework/security/claims-aware-aspnet-app-forms-authentication.md)"},{"pos":[3418,3426],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3430,3518],"content":"<bpt id=\"p1\">[</bpt>Getting Started With WIF<ept id=\"p1\">](../../../docs/framework/security/getting-started-with-wif.md)</ept>","source":"[Getting Started With WIF](../../../docs/framework/security/getting-started-with-wif.md)"}]}