{"content":"---\ntitle: \"Defining a Property in Windows Forms Controls\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"properties [Windows Forms], defining in code\"\n  - \"custom controls [Windows Forms], defining properties in code\"\nms.assetid: c2eb8277-a842-4d99-89a9-647b901a0434\n---\n# Defining a Property in Windows Forms Controls\nFor an overview of properties, see [Properties Overview](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/65zdfbdt(v=vs.120)). There are a few important considerations when defining a property:  \n  \n-   You must apply attributes to the properties you define. Attributes specify how the designer should display a property. For details, see [Design-Time Attributes for Components](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/tk67c2t8(v=vs.120)).  \n  \n-   If changing the property affects the visual display of the control, call the <xref:System.Windows.Forms.Control.Invalidate%2A> method (that your control inherits from <xref:System.Windows.Forms.Control>) from the `set` accessor. <xref:System.Windows.Forms.Control.Invalidate%2A> in turn calls the <xref:System.Windows.Forms.Control.OnPaint%2A> method, which redraws the control. Multiple calls to <xref:System.Windows.Forms.Control.Invalidate%2A> result in a single call to <xref:System.Windows.Forms.Control.OnPaint%2A> for efficiency.  \n  \n-   The .NET Framework class library provides type converters for common data types such as integers, decimal numbers, Boolean values, and others. The purpose of a type converter is generally to provide string-to-value conversion (from string data to other data types). Common data types are associated with default type converters that convert values into strings and strings into the appropriate data types. If you define a property that is a custom (that is, nonstandard) data type, you will have to apply an attribute that specifies the type converter to associate with that property. You can also use an attribute to associate a custom UI type editor with a property. A UI type editor provides a user interface for editing a property or data type. A color picker is an example of a UI type editor. Examples of attributes are given at the end of this topic.  \n  \n    > [!NOTE]\n    >  If a type converter or a UI type editor is not available for your custom property, you can implement one as described in [Extending Design-Time Support](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/37899azc(v=vs.120)).  \n  \n The following code fragment defines a custom property named `EndColor` for the custom control `FlashTrackBar`.  \n  \n```vb  \nPublic Class FlashTrackBar  \n   Inherits Control  \n   ...  \n   ' Private data member that backs the EndColor property.  \n   Private _endColor As Color = Color.LimeGreen  \n  \n   ' The Category attribute tells the designer to display  \n   ' it in the Flash grouping.   \n   ' The Description attribute provides a description of  \n   ' the property.   \n   <Category(\"Flash\"), _  \n   Description(\"The ending color of the bar.\")>  _  \n   Public Property EndColor() As Color  \n      ' The public property EndColor accesses _endColor.  \n      Get  \n         Return _endColor  \n      End Get  \n      Set  \n         _endColor = value  \n         If Not (baseBackground Is Nothing) And showGradient Then  \n            baseBackground.Dispose()  \n            baseBackground = Nothing  \n         End If  \n         ' The Invalidate method calls the OnPaint method, which redraws    \n         ' the control.  \n         Invalidate()  \n      End Set  \n   End Property  \n   ...  \nEnd Class  \n```  \n  \n```csharp  \npublic class FlashTrackBar : Control {  \n   ...  \n   // Private data member that backs the EndColor property.  \n   private Color endColor = Color.LimeGreen;  \n   // The Category attribute tells the designer to display  \n   // it in the Flash grouping.   \n   // The Description attribute provides a description of  \n   // the property.   \n   [  \n   Category(\"Flash\"),  \n   Description(\"The ending color of the bar.\")  \n   ]  \n   // The public property EndColor accesses endColor.  \n   public Color EndColor {  \n      get {  \n         return endColor;  \n      }  \n      set {  \n         endColor = value;  \n         if (baseBackground != null && showGradient) {  \n            baseBackground.Dispose();  \n            baseBackground = null;  \n         }  \n         // The Invalidate method calls the OnPaint method, which redraws   \n         // the control.  \n         Invalidate();  \n      }  \n   }  \n   ...  \n}  \n```  \n  \n The following code fragment associates a type converter and a UI type editor with the property `Value`. In this case `Value` is an integer and has a default type converter, but the <xref:System.ComponentModel.TypeConverterAttribute> attribute applies a custom type converter (`FlashTrackBarValueConverter`) that enables the designer to display it as a percentage. The UI type editor, `FlashTrackBarValueEditor`, allows the percentage to be displayed visually. This example also shows that the type converter or editor specified by the <xref:System.ComponentModel.TypeConverterAttribute> or <xref:System.ComponentModel.EditorAttribute> attribute overrides the default converter.  \n  \n```vb  \n<Category(\"Flash\"), _  \nTypeConverter(GetType(FlashTrackBarValueConverter)), _  \nEditor(GetType(FlashTrackBarValueEditor), _  \nGetType(UITypeEditor)), _  \nDescription(\"The current value of the track bar.  You can enter an actual value or a percentage.\")>  _  \nPublic ReadOnly Property Value() As Integer  \n...  \nEnd Property  \n```  \n  \n```csharp  \n[  \nCategory(\"Flash\"),   \nTypeConverter(typeof(FlashTrackBarValueConverter)),  \nEditor(typeof(FlashTrackBarValueEditor), typeof(UITypeEditor)),  \nDescription(\"The current value of the track bar.  You can enter an actual value or a percentage.\")  \n]  \npublic int Value {  \n...  \n}  \n```  \n  \n## See also\n\n- [Properties in Windows Forms Controls](properties-in-windows-forms-controls.md)\n- [Defining Default Values with the ShouldSerialize and Reset Methods](defining-default-values-with-the-shouldserialize-and-reset-methods.md)\n- [Property-Changed Events](property-changed-events.md)\n- [Attributes in Windows Forms Controls](attributes-in-windows-forms-controls.md)\n","nodes":[{"pos":[4,303],"embed":true,"restype":"x-metadata","content":"title: \"Defining a Property in Windows Forms Controls\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"properties [Windows Forms], defining in code\"\n  - \"custom controls [Windows Forms], defining properties in code\"\nms.assetid: c2eb8277-a842-4d99-89a9-647b901a0434","nodes":[{"content":"Defining a Property in Windows Forms Controls","nodes":[{"pos":[0,45],"content":"Defining a Property in Windows Forms Controls","nodes":[{"content":"Defining a Property in Windows Forms Controls","pos":[0,45]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[310,355],"content":"Defining a Property in Windows Forms Controls","linkify":"Defining a Property in Windows Forms Controls","nodes":[{"content":"Defining a Property in Windows Forms Controls","pos":[0,45]}]},{"content":"For an overview of properties, see <bpt id=\"p1\">[</bpt>Properties Overview<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/65zdfbdt(v=vs.120))</ept>.","pos":[356,510],"source":"For an overview of properties, see [Properties Overview](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/65zdfbdt(v=vs.120))."},{"content":"There are a few important considerations when defining a property:","pos":[511,577]},{"content":"You must apply attributes to the properties you define.","pos":[587,642]},{"content":"Attributes specify how the designer should display a property.","pos":[643,705]},{"content":"For details, see <bpt id=\"p1\">[</bpt>Design-Time Attributes for Components<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/tk67c2t8(v=vs.120))</ept>.","pos":[706,860],"source":" For details, see [Design-Time Attributes for Components](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/tk67c2t8(v=vs.120))."},{"content":"If changing the property affects the visual display of the control, call the <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.Invalidate%2A&gt;</ph> method (that your control inherits from <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control&gt;</ph>) from the <ph id=\"ph3\">`set`</ph> accessor.","pos":[870,1098],"source":"If changing the property affects the visual display of the control, call the <xref:System.Windows.Forms.Control.Invalidate%2A> method (that your control inherits from <xref:System.Windows.Forms.Control>) from the `set` accessor."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.Invalidate%2A&gt;</ph> in turn calls the <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> method, which redraws the control.","pos":[1099,1248],"source":"<xref:System.Windows.Forms.Control.Invalidate%2A> in turn calls the <xref:System.Windows.Forms.Control.OnPaint%2A> method, which redraws the control."},{"content":"Multiple calls to <ph id=\"ph1\">&lt;xref:System.Windows.Forms.Control.Invalidate%2A&gt;</ph> result in a single call to <ph id=\"ph2\">&lt;xref:System.Windows.Forms.Control.OnPaint%2A&gt;</ph> for efficiency.","pos":[1249,1406],"source":" Multiple calls to <xref:System.Windows.Forms.Control.Invalidate%2A> result in a single call to <xref:System.Windows.Forms.Control.OnPaint%2A> for efficiency."},{"content":"The .NET Framework class library provides type converters for common data types such as integers, decimal numbers, Boolean values, and others.","pos":[1416,1558]},{"content":"The purpose of a type converter is generally to provide string-to-value conversion (from string data to other data types).","pos":[1559,1681]},{"content":"Common data types are associated with default type converters that convert values into strings and strings into the appropriate data types.","pos":[1682,1821]},{"content":"If you define a property that is a custom (that is, nonstandard) data type, you will have to apply an attribute that specifies the type converter to associate with that property.","pos":[1822,2000]},{"content":"You can also use an attribute to associate a custom UI type editor with a property.","pos":[2001,2084]},{"content":"A UI type editor provides a user interface for editing a property or data type.","pos":[2085,2164]},{"content":"A color picker is an example of a UI type editor.","pos":[2165,2214]},{"content":"Examples of attributes are given at the end of this topic.","pos":[2215,2273]},{"pos":[2285,2550],"content":"[!NOTE]\nIf a type converter or a UI type editor is not available for your custom property, you can implement one as described in [Extending Design-Time Support](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/37899azc(v=vs.120)).","leadings":["","    >  "],"nodes":[{"content":"If a type converter or a UI type editor is not available for your custom property, you can implement one as described in <bpt id=\"p1\">[</bpt>Extending Design-Time Support<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/37899azc(v=vs.120))</ept>.","pos":[8,258],"source":"If a type converter or a UI type editor is not available for your custom property, you can implement one as described in [Extending Design-Time Support](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/37899azc(v=vs.120))."}]},{"pos":[2557,2667],"content":"The following code fragment defines a custom property named <ph id=\"ph1\">`EndColor`</ph> for the custom control <ph id=\"ph2\">`FlashTrackBar`</ph>.","source":"The following code fragment defines a custom property named `EndColor` for the custom control `FlashTrackBar`."},{"content":"The following code fragment associates a type converter and a UI type editor with the property <ph id=\"ph1\">`Value`</ph>.","pos":[4595,4698],"source":"The following code fragment associates a type converter and a UI type editor with the property `Value`."},{"content":"In this case <ph id=\"ph1\">`Value`</ph> is an integer and has a default type converter, but the <ph id=\"ph2\">&lt;xref:System.ComponentModel.TypeConverterAttribute&gt;</ph> attribute applies a custom type converter (<ph id=\"ph3\">`FlashTrackBarValueConverter`</ph>) that enables the designer to display it as a percentage.","pos":[4699,4958],"source":" In this case `Value` is an integer and has a default type converter, but the <xref:System.ComponentModel.TypeConverterAttribute> attribute applies a custom type converter (`FlashTrackBarValueConverter`) that enables the designer to display it as a percentage."},{"content":"The UI type editor, <ph id=\"ph1\">`FlashTrackBarValueEditor`</ph>, allows the percentage to be displayed visually.","pos":[4959,5054],"source":" The UI type editor, `FlashTrackBarValueEditor`, allows the percentage to be displayed visually."},{"content":"This example also shows that the type converter or editor specified by the <ph id=\"ph1\">&lt;xref:System.ComponentModel.TypeConverterAttribute&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.ComponentModel.EditorAttribute&gt;</ph> attribute overrides the default converter.","pos":[5055,5272],"source":" This example also shows that the type converter or editor specified by the <xref:System.ComponentModel.TypeConverterAttribute> or <xref:System.ComponentModel.EditorAttribute> attribute overrides the default converter."},{"pos":[5928,5936],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5940,6019],"content":"<bpt id=\"p1\">[</bpt>Properties in Windows Forms Controls<ept id=\"p1\">](properties-in-windows-forms-controls.md)</ept>","source":"[Properties in Windows Forms Controls](properties-in-windows-forms-controls.md)"},{"pos":[6022,6161],"content":"<bpt id=\"p1\">[</bpt>Defining Default Values with the ShouldSerialize and Reset Methods<ept id=\"p1\">](defining-default-values-with-the-shouldserialize-and-reset-methods.md)</ept>","source":"[Defining Default Values with the ShouldSerialize and Reset Methods](defining-default-values-with-the-shouldserialize-and-reset-methods.md)"},{"pos":[6164,6217],"content":"<bpt id=\"p1\">[</bpt>Property-Changed Events<ept id=\"p1\">](property-changed-events.md)</ept>","source":"[Property-Changed Events](property-changed-events.md)"},{"pos":[6220,6299],"content":"<bpt id=\"p1\">[</bpt>Attributes in Windows Forms Controls<ept id=\"p1\">](attributes-in-windows-forms-controls.md)</ept>","source":"[Attributes in Windows Forms Controls](attributes-in-windows-forms-controls.md)"}]}