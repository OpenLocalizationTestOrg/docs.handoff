{"content":"---\ntitle: \"Corporate Purchase Process | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: a5e57336-4290-41ea-936d-435593d97055\ncaps.latest.revision: 12\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Corporate Purchase Process\nThis sample shows how to create a very basic Request for Proposals (RFP) based purchase process with automatic best proposal selection. It combines <xref:System.Activities.Statements.Parallel>, <xref:System.Activities.Statements.ParallelForEach%601>, and <xref:System.Activities.Statements.ForEach%601> and a custom activity to create a workflow that represents the process.  \n  \n This sample contains an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] client application that allows interacting with the process as different participants (as the original requester or a particular vendor).  \n  \n## Requirements  \n  \n-   [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)].  \n  \n-   [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)].  \n  \n## Demonstrates  \n  \n-   Custom activities.  \n  \n-   Composition of activities.  \n  \n-   Bookmarks.  \n  \n-   Persistence.  \n  \n-   Schematized persistence.  \n  \n-   Tracing.  \n  \n-   Tracking.  \n  \n-   Hosting [!INCLUDE[wf1](../../../../includes/wf1-md.md)] in different clients ([!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web applications and WinForms applications).  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Application\\PurchaseProcess`  \n  \n## Description of the Process  \n This sample shows an implementation of a [!INCLUDE[wf](../../../../includes/wf-md.md)] program to gather proposals from vendors for a generic company.  \n  \n1.  An employee of Company X creates a Request for Proposal (RFP).  \n  \n    1.  The employee types in the RFP title and description.  \n  \n    2.  The employee selects the vendors that he wants to invite to submit proposals.  \n  \n2.  The employee submits the proposal.  \n  \n    1.  An instance of the workflow is created.  \n  \n    2.  The workflow is waiting for all vendors to submit their proposals.  \n  \n3.  After all proposals are received, the workflow iterates through all the received proposals and selects the best one.  \n  \n    1.  Each vendor has a reputation (this sample stores the reputation list in VendorRepository.cs).  \n  \n    2.  The total value of the proposal is determined by (The value typed in by the vendor) * (The vendor's recorded reputation) / 100.  \n  \n4.  The original requester can see all the submitted proposals. The best proposal is presented in a special section in the report.  \n  \n## Process Definition  \n The core logic of the sample uses a <xref:System.Activities.Statements.ParallelForEach%601> activity that waits for the offers from each vendor (using a custom activity that creates a bookmark), and registers the vendor proposal as an RFP (using an <xref:System.Activities.Statements.InvokeMethod> activity).  \n  \n The sample then iterates through all of the received proposals stored in the `RfpRepository`, calculating the adjusted value (using an <xref:System.Activities.Statements.Assign> activity and <xref:System.Activities.Expressions> activities), and if the adjusted value is better than the previous best offer, assigns the new value as the best offer (using <xref:System.Activities.Statements.If> and <xref:System.Activities.Statements.Assign> activities).  \n  \n## Projects in this Sample  \n This sample contains the following projects.  \n  \n|Project|Description|  \n|-------------|-----------------|  \n|Common|The entity objects used within the process (Request for Proposal, Vendor, and Vendor Proposal).|  \n|WfDefinition|The definition of the process (as a [!INCLUDE[wf1](../../../../includes/wf1-md.md)] program) and host (`PurchaseProcessHost`) used by client applications for creating and using instances of the purchase process workflow.|  \n|WebClient|An [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] client application that allows the users to create and participate in instances of the purchase process. It uses a custom-created host to interact with the workflow engine.|  \n|WinFormsClient|A Windows Forms client application that allows the users to create and participate in instances of the purchase process. It uses a custom-created host to interact with the workflow engine.|  \n  \n### WfDefinition  \n The following table contains a description of the most important files in the WfDefinition project.  \n  \n|File|Description|  \n|----------|-----------------|  \n|IPurchaseProcessHost.cs|Interface for the host of the workflow.|  \n|PurchaseProcessHost.cs|Implementation of a host for the workflow. The host abstracts the details of the workflow runtime and is used in all the client applications to load, run, and interact with `PurchaseProcess` workflow instances.|  \n|PurchaseProcessWorkflow.cs|An activity that contains the definition of the Purchase Process workflow (derives from <xref:System.Activities.Activity>).<br /><br /> Activities that derive from <xref:System.Activities.Activity> compose functionality by assembling existing custom activities and activities from the [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] activity library. Assembling these activities is the most basic way to create custom functionality.|  \n|WaitForVendorProposal.cs|This custom activity derives from <xref:System.Activities.NativeActivity> and creates a named bookmark that must be resumed later by a vendor when submitting the proposal.<br /><br /> Activities that derive from <xref:System.Activities.NativeActivity>, like those that derive from <xref:System.Activities.CodeActivity>, create imperative functionality by overriding <xref:System.Activities.NativeActivity.Execute%2A>, but also have access to all of the functionality of the workflow runtime through the <xref:System.Activities.ActivityContext> that gets passed into the `Execute` method. This context has support for scheduling and canceling child activities, setting up no-persist zones (execution blocks during which the runtime does not persist the workflow’s data, such as within atomic transactions), and <xref:System.Activities.Bookmark> objects (handles for resuming paused workflows).|  \n|TrackingParticipant.cs|A <xref:System.Activities.Tracking.TrackingParticipant> that receives all tracking events and saves them to a text file.<br /><br /> Tracking participants are added to workflow instance as Extensions.|  \n|XmlWorkflowInstanceStore.cs|A custom <xref:System.Runtime.DurableInstancing.InstanceStore> that saves workflow applications to XML files.|  \n|XmlPersistenceParticipant.cs|A custom <xref:System.Activities.Persistence.PersistenceParticipant> that saves an instance of request for proposal to an XML file.|  \n|AsyncResult.cs / CompletedAsyncResult.cs|Helper classes for implementing the asynchronous pattern in the persistence components.|  \n  \n### Common  \n The following table contains a description of the most important classes in the Common project.  \n  \n|Class|Description|  \n|-----------|-----------------|  \n|Vendor|A vendor that submits proposals in a Request for Proposals.|  \n|RequestForProposal|A request for proposals (RFP) is an invitation for vendors to submit proposals on a specific commodity or service.|  \n|VendorProposal|A proposal submitted by a vendor to a concrete RFP.|  \n|VendorRepository|The repository of Vendors. This implementation contains an in-memory collection of instances of Vendor and methods for exposing those instances.|  \n|RfpRepository|The repository of Requests for Proposals. This implementation contains uses Linq to XML to query the XML file of Requests for Proposal generated by the schematized persistence. This class implements [System.Runtime.Persistence.IDataViewMapper](https://msdn.microsoft.com/library/system.runtime.persistence.idataviewmapper(v=vs.110).aspx).|  \n|IOHelper|This class handles all I/O-related issues (folders, paths, and so on.)|  \n  \n### Web Client  \n The following table contains a description of the most important Web pages in the Web Client project.  \n  \n|File|Description|  \n|-|-|  \n|CreateRfp.aspx|Creates and submits a new Request for Proposals.|  \n|Default.aspx|Shows all active and completed Requests for Proposals.|  \n|GetVendorProposal.aspx|Gets a proposal from a vendor in a concrete Request for Proposals. This page is used only by vendors.|  \n|ShowRfp.aspx|Show all the information about a Request for Proposals (received proposals, dates, values, and other information). This page is only used by the creator of the Request for Proposal.|  \n  \n### WinForms Client  \n The following table contains a description of the most important forms in the Win Forms project.  \n  \n|Form|Description|  \n|-|-|  \n|NewRfp|Creates and submits a new Request for Proposals.|  \n|ShowProposals|Show all active and finished Requests for Proposals. **Note:**  You may need to click the **Refresh** button in the UI to see changes in that screen after you create or modify a Request for Proposal.|  \n|SubmitProposal|Get a proposal from a vendor in a concrete Request for Proposals. This window is used only by vendors.|  \n|ViewRfp|Show all the information about a Request for Proposals (received proposals, dates, values, and other information). This window  is only used by the creator of the Request for Proposals.|  \n  \n### Persistence Files  \n The following table shows the files generated by the persistence provider (`XmlPersistenceProvider`) are located in the path of the current system's temporary folder (using <xref:System.IO.Path.GetTempPath%2A>). The tracing file is created in the current execution path.  \n  \n|File Name|Description|Path|  \n|-|-|-|  \n|rfps.xml|The XML file with all the active and finished Requests for Proposals.|<xref:System.IO.Path.GetTempPath%2A>|  \n|[instanceid]|This file contains all the information about a workflow instance.<br /><br /> This file is generated by the schematized persistence implementation (PersistenceParticipant in XmlPersistenceProvider).|<xref:System.IO.Path.GetTempPath%2A>|  \n|[instanceId].tracking|A text file with all the events that occurred within a concrete instance.<br /><br /> This file is generated by TrackingParticipant.|<xref:System.IO.Path.GetTempPath%2A>|  \n|PurchaseProcess.Tracing.TraceLog.txt|The tracing file generated by the workflow based on the configuration parameters in the App.config or Web.config files.|Current execution path|  \n  \n#### To use this sample  \n  \n1.  Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the PurchaseProcess.sln solution file.  \n  \n2.  To execute the Web Client project, open **Solution Explorer** and right-click the **Web Client** project. Select **Set as Startup Project**.  \n  \n3.  To execute the WinForms Client project, open **Solution Explorer** and right-click the **WinForms Client** project. Select **Set as Startup Project**.  \n  \n4.  To build the solution, press CTRL+SHIFT+B.  \n  \n5.  To run the solution, press CTRL+F5.  \n  \n### Web Client Options  \n  \n-   **Create a new RFP**: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow.  \n  \n-   **Refresh**: Refreshes the list of Active and Finished RFPs in the main window.  \n  \n-   **View**: Shows the content of an existing RFP. Vendors can submit their proposals (if invited or the RFP is not finished).  \n  \n-   View As: The user can access the RFP using different identities by selecting the desired participant in the **View as** combo box in the active RFPs grid.  \n  \n### WinForms Client Options  \n  \n-   **Create RFP**: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow.  \n  \n-   **Refresh**: Refreshes the list of Active and Finished RFPs in the main window.  \n  \n-   **View RFP**: Shows the content of an existing RFP. Vendors can submit their proposals (if invited or the RFP is not finished)  \n  \n-   **Connect As**: The user can access the RFP using different identities by selecting the desired participant in the **View as** combo box in the active RFPs grid.  \n  \n## See Also","nodes":[{"pos":[4,314],"embed":true,"restype":"x-metadata","content":"title: \"Corporate Purchase Process | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: a5e57336-4290-41ea-936d-435593d97055\ncaps.latest.revision: 12\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"Corporate Purchase Process | Microsoft Docs","nodes":[{"pos":[0,43],"content":"Corporate Purchase Process | Microsoft Docs","nodes":[{"content":"Corporate Purchase Process | Microsoft Docs","pos":[0,43]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[321,347],"content":"Corporate Purchase Process","linkify":"Corporate Purchase Process","nodes":[{"content":"Corporate Purchase Process","pos":[0,26]}]},{"content":"This sample shows how to create a very basic Request for Proposals (RFP) based purchase process with automatic best proposal selection.","pos":[348,483]},{"content":"It combines <ph id=\"ph1\">&lt;xref:System.Activities.Statements.Parallel&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Activities.Statements.ParallelForEach%601&gt;</ph>, and <ph id=\"ph3\">&lt;xref:System.Activities.Statements.ForEach%601&gt;</ph> and a custom activity to create a workflow that represents the process.","pos":[484,722],"source":" It combines <xref:System.Activities.Statements.Parallel>, <xref:System.Activities.Statements.ParallelForEach%601>, and <xref:System.Activities.Statements.ForEach%601> and a custom activity to create a workflow that represents the process."},{"pos":[729,948],"content":"This sample contains an <ph id=\"ph1\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> client application that allows interacting with the process as different participants (as the original requester or a particular vendor).","source":"This sample contains an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] client application that allows interacting with the process as different participants (as the original requester or a particular vendor)."},{"pos":[957,969],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[979,1051],"content":"<ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph>.","source":"[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]."},{"pos":[1061,1139],"content":"<ph id=\"ph1\">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]</ph>.","source":"[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]."},{"pos":[1148,1160],"content":"Demonstrates","linkify":"Demonstrates","nodes":[{"content":"Demonstrates","pos":[0,12]}]},{"content":"Custom activities.","pos":[1170,1188]},{"content":"Composition of activities.","pos":[1198,1224]},{"content":"Bookmarks.","pos":[1234,1244]},{"content":"Persistence.","pos":[1254,1266]},{"content":"Schematized persistence.","pos":[1276,1300]},{"content":"Tracing.","pos":[1310,1318]},{"content":"Tracking.","pos":[1328,1337]},{"pos":[1347,1527],"content":"Hosting <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> in different clients (<ph id=\"ph2\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> Web applications and WinForms applications).","source":"Hosting [!INCLUDE[wf1](../../../../includes/wf1-md.md)] in different clients ([!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web applications and WinForms applications)."},{"pos":[1535,1667],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[1721,2047],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2048,2098]},{"pos":[2181,2207],"content":"Description of the Process","linkify":"Description of the Process","nodes":[{"content":"Description of the Process","pos":[0,26]}]},{"pos":[2211,2361],"content":"This sample shows an implementation of a <ph id=\"ph1\">[!INCLUDE[wf](../../../../includes/wf-md.md)]</ph> program to gather proposals from vendors for a generic company.","source":"This sample shows an implementation of a [!INCLUDE[wf](../../../../includes/wf-md.md)] program to gather proposals from vendors for a generic company."},{"content":"An employee of Company X creates a Request for Proposal (RFP).","pos":[2371,2433]},{"content":"The employee types in the RFP title and description.","pos":[2447,2499]},{"content":"The employee selects the vendors that he wants to invite to submit proposals.","pos":[2513,2590]},{"content":"The employee submits the proposal.","pos":[2600,2634]},{"content":"An instance of the workflow is created.","pos":[2648,2687]},{"content":"The workflow is waiting for all vendors to submit their proposals.","pos":[2701,2767]},{"content":"After all proposals are received, the workflow iterates through all the received proposals and selects the best one.","pos":[2777,2893]},{"content":"Each vendor has a reputation (this sample stores the reputation list in VendorRepository.cs).","pos":[2907,3000]},{"content":"The total value of the proposal is determined by (The value typed in by the vendor) * (The vendor's recorded reputation) / 100.","pos":[3014,3141]},{"content":"The original requester can see all the submitted proposals.","pos":[3151,3210]},{"content":"The best proposal is presented in a special section in the report.","pos":[3211,3277]},{"pos":[3286,3304],"content":"Process Definition","linkify":"Process Definition","nodes":[{"content":"Process Definition","pos":[0,18]}]},{"content":"The core logic of the sample uses a <ph id=\"ph1\">&lt;xref:System.Activities.Statements.ParallelForEach%601&gt;</ph> activity that waits for the offers from each vendor (using a custom activity that creates a bookmark), and registers the vendor proposal as an RFP (using an <ph id=\"ph2\">&lt;xref:System.Activities.Statements.InvokeMethod&gt;</ph> activity).","pos":[3308,3616],"source":"The core logic of the sample uses a <xref:System.Activities.Statements.ParallelForEach%601> activity that waits for the offers from each vendor (using a custom activity that creates a bookmark), and registers the vendor proposal as an RFP (using an <xref:System.Activities.Statements.InvokeMethod> activity)."},{"pos":[3623,4075],"content":"The sample then iterates through all of the received proposals stored in the <ph id=\"ph1\">`RfpRepository`</ph>, calculating the adjusted value (using an <ph id=\"ph2\">&lt;xref:System.Activities.Statements.Assign&gt;</ph> activity and <ph id=\"ph3\">&lt;xref:System.Activities.Expressions&gt;</ph> activities), and if the adjusted value is better than the previous best offer, assigns the new value as the best offer (using <ph id=\"ph4\">&lt;xref:System.Activities.Statements.If&gt;</ph> and <ph id=\"ph5\">&lt;xref:System.Activities.Statements.Assign&gt;</ph> activities).","source":"The sample then iterates through all of the received proposals stored in the `RfpRepository`, calculating the adjusted value (using an <xref:System.Activities.Statements.Assign> activity and <xref:System.Activities.Expressions> activities), and if the adjusted value is better than the previous best offer, assigns the new value as the best offer (using <xref:System.Activities.Statements.If> and <xref:System.Activities.Statements.Assign> activities)."},{"pos":[4084,4107],"content":"Projects in this Sample","linkify":"Projects in this Sample","nodes":[{"content":"Projects in this Sample","pos":[0,23]}]},{"content":"This sample contains the following projects.","pos":[4111,4155]},{"content":"Project","pos":[4162,4169]},{"content":"Description","pos":[4170,4181]},{"content":"Common","pos":[4222,4228]},{"content":"The entity objects used within the process (Request for Proposal, Vendor, and Vendor Proposal).","pos":[4229,4324]},{"content":"WfDefinition","pos":[4329,4341]},{"pos":[4342,4562],"content":"The definition of the process (as a <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> program) and host (<ph id=\"ph2\">`PurchaseProcessHost`</ph>) used by client applications for creating and using instances of the purchase process workflow.","source":"The definition of the process (as a [!INCLUDE[wf1](../../../../includes/wf1-md.md)] program) and host (`PurchaseProcessHost`) used by client applications for creating and using instances of the purchase process workflow."},{"content":"WebClient","pos":[4567,4576]},{"content":"An <ph id=\"ph1\">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</ph> client application that allows the users to create and participate in instances of the purchase process.","pos":[4577,4742],"source":"An [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] client application that allows the users to create and participate in instances of the purchase process."},{"content":"It uses a custom-created host to interact with the workflow engine.","pos":[4743,4810]},{"content":"WinFormsClient","pos":[4815,4829]},{"content":"A Windows Forms client application that allows the users to create and participate in instances of the purchase process.","pos":[4830,4950]},{"content":"It uses a custom-created host to interact with the workflow engine.","pos":[4951,5018]},{"pos":[5029,5041],"content":"WfDefinition","linkify":"WfDefinition","nodes":[{"content":"WfDefinition","pos":[0,12]}]},{"content":"The following table contains a description of the most important files in the WfDefinition project.","pos":[5045,5144]},{"content":"File","pos":[5151,5155]},{"content":"Description","pos":[5156,5167]},{"content":"IPurchaseProcessHost.cs","pos":[5205,5228]},{"content":"Interface for the host of the workflow.","pos":[5229,5268]},{"content":"PurchaseProcessHost.cs","pos":[5273,5295]},{"content":"Implementation of a host for the workflow.","pos":[5296,5338]},{"content":"The host abstracts the details of the workflow runtime and is used in all the client applications to load, run, and interact with <ph id=\"ph1\">`PurchaseProcess`</ph> workflow instances.","pos":[5339,5506],"source":" The host abstracts the details of the workflow runtime and is used in all the client applications to load, run, and interact with `PurchaseProcess` workflow instances."},{"content":"PurchaseProcessWorkflow.cs","pos":[5511,5537]},{"content":"An activity that contains the definition of the Purchase Process workflow (derives from <ph id=\"ph1\">&lt;xref:System.Activities.Activity&gt;</ph>).","pos":[5538,5661],"source":"An activity that contains the definition of the Purchase Process workflow (derives from <xref:System.Activities.Activity>)."},{"content":"Activities that derive from <ph id=\"ph1\">&lt;xref:System.Activities.Activity&gt;</ph> compose functionality by assembling existing custom activities and activities from the <ph id=\"ph2\">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]</ph> activity library.","pos":[5674,5918],"source":"Activities that derive from <xref:System.Activities.Activity> compose functionality by assembling existing custom activities and activities from the [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] activity library."},{"content":"Assembling these activities is the most basic way to create custom functionality.","pos":[5919,6000]},{"content":"WaitForVendorProposal.cs","pos":[6005,6029]},{"content":"This custom activity derives from <ph id=\"ph1\">&lt;xref:System.Activities.NativeActivity&gt;</ph> and creates a named bookmark that must be resumed later by a vendor when submitting the proposal.","pos":[6030,6201],"source":"This custom activity derives from <xref:System.Activities.NativeActivity> and creates a named bookmark that must be resumed later by a vendor when submitting the proposal."},{"content":"Activities that derive from <ph id=\"ph1\">&lt;xref:System.Activities.NativeActivity&gt;</ph>, like those that derive from <ph id=\"ph2\">&lt;xref:System.Activities.CodeActivity&gt;</ph>, create imperative functionality by overriding <ph id=\"ph3\">&lt;xref:System.Activities.NativeActivity.Execute%2A&gt;</ph>, but also have access to all of the functionality of the workflow runtime through the <ph id=\"ph4\">&lt;xref:System.Activities.ActivityContext&gt;</ph> that gets passed into the <ph id=\"ph5\">`Execute`</ph> method.","pos":[6214,6617],"source":"Activities that derive from <xref:System.Activities.NativeActivity>, like those that derive from <xref:System.Activities.CodeActivity>, create imperative functionality by overriding <xref:System.Activities.NativeActivity.Execute%2A>, but also have access to all of the functionality of the workflow runtime through the <xref:System.Activities.ActivityContext> that gets passed into the `Execute` method."},{"content":"This context has support for scheduling and canceling child activities, setting up no-persist zones (execution blocks during which the runtime does not persist the workflow’s data, such as within atomic transactions), and <ph id=\"ph1\">&lt;xref:System.Activities.Bookmark&gt;</ph> objects (handles for resuming paused workflows).","pos":[6618,6922],"source":" This context has support for scheduling and canceling child activities, setting up no-persist zones (execution blocks during which the runtime does not persist the workflow’s data, such as within atomic transactions), and <xref:System.Activities.Bookmark> objects (handles for resuming paused workflows)."},{"content":"TrackingParticipant.cs","pos":[6927,6949]},{"content":"A <ph id=\"ph1\">&lt;xref:System.Activities.Tracking.TrackingParticipant&gt;</ph> that receives all tracking events and saves them to a text file.","pos":[6950,7070],"source":"A <xref:System.Activities.Tracking.TrackingParticipant> that receives all tracking events and saves them to a text file."},{"content":"Tracking participants are added to workflow instance as Extensions.","pos":[7083,7150]},{"content":"XmlWorkflowInstanceStore.cs","pos":[7155,7182]},{"content":"A custom <ph id=\"ph1\">&lt;xref:System.Runtime.DurableInstancing.InstanceStore&gt;</ph> that saves workflow applications to XML files.","pos":[7183,7292],"source":"A custom <xref:System.Runtime.DurableInstancing.InstanceStore> that saves workflow applications to XML files."},{"content":"XmlPersistenceParticipant.cs","pos":[7297,7325]},{"content":"A custom <ph id=\"ph1\">&lt;xref:System.Activities.Persistence.PersistenceParticipant&gt;</ph> that saves an instance of request for proposal to an XML file.","pos":[7326,7457],"source":"A custom <xref:System.Activities.Persistence.PersistenceParticipant> that saves an instance of request for proposal to an XML file."},{"content":"AsyncResult.cs / CompletedAsyncResult.cs","pos":[7462,7502]},{"content":"Helper classes for implementing the asynchronous pattern in the persistence components.","pos":[7503,7590]},{"pos":[7601,7607],"content":"Common","linkify":"Common","nodes":[{"content":"Common","pos":[0,6]}]},{"content":"The following table contains a description of the most important classes in the Common project.","pos":[7611,7706]},{"content":"Class","pos":[7713,7718]},{"content":"Description","pos":[7719,7730]},{"content":"Vendor","pos":[7769,7775]},{"content":"A vendor that submits proposals in a Request for Proposals.","pos":[7776,7835]},{"content":"RequestForProposal","pos":[7840,7858]},{"content":"A request for proposals (RFP) is an invitation for vendors to submit proposals on a specific commodity or service.","pos":[7859,7973]},{"content":"VendorProposal","pos":[7978,7992]},{"content":"A proposal submitted by a vendor to a concrete RFP.","pos":[7993,8044]},{"content":"VendorRepository","pos":[8049,8065]},{"content":"The repository of Vendors.","pos":[8066,8092]},{"content":"This implementation contains an in-memory collection of instances of Vendor and methods for exposing those instances.","pos":[8093,8210]},{"content":"RfpRepository","pos":[8215,8228]},{"content":"The repository of Requests for Proposals.","pos":[8229,8270]},{"content":"This implementation contains uses Linq to XML to query the XML file of Requests for Proposal generated by the schematized persistence.","pos":[8271,8405]},{"content":"This class implements <bpt id=\"p1\">[</bpt>System.Runtime.Persistence.IDataViewMapper<ept id=\"p1\">](https://msdn.microsoft.com/library/system.runtime.persistence.idataviewmapper(v=vs.110).aspx)</ept>.","pos":[8406,8567],"source":" This class implements [System.Runtime.Persistence.IDataViewMapper](https://msdn.microsoft.com/library/system.runtime.persistence.idataviewmapper(v=vs.110).aspx)."},{"content":"IOHelper","pos":[8572,8580]},{"content":"This class handles all I/O-related issues (folders, paths, and so on.)","pos":[8581,8651]},{"pos":[8662,8672],"content":"Web Client","linkify":"Web Client","nodes":[{"content":"Web Client","pos":[0,10]}]},{"content":"The following table contains a description of the most important Web pages in the Web Client project.","pos":[8676,8777]},{"content":"File","pos":[8784,8788]},{"content":"Description","pos":[8789,8800]},{"content":"CreateRfp.aspx","pos":[8813,8827]},{"content":"Creates and submits a new Request for Proposals.","pos":[8828,8876]},{"content":"Default.aspx","pos":[8881,8893]},{"content":"Shows all active and completed Requests for Proposals.","pos":[8894,8948]},{"content":"GetVendorProposal.aspx","pos":[8953,8975]},{"content":"Gets a proposal from a vendor in a concrete Request for Proposals.","pos":[8976,9042]},{"content":"This page is used only by vendors.","pos":[9043,9077]},{"content":"ShowRfp.aspx","pos":[9082,9094]},{"content":"Show all the information about a Request for Proposals (received proposals, dates, values, and other information).","pos":[9095,9209]},{"content":"This page is only used by the creator of the Request for Proposal.","pos":[9210,9276]},{"pos":[9287,9302],"content":"WinForms Client","linkify":"WinForms Client","nodes":[{"content":"WinForms Client","pos":[0,15]}]},{"content":"The following table contains a description of the most important forms in the Win Forms project.","pos":[9306,9402]},{"content":"Form","pos":[9409,9413]},{"content":"Description","pos":[9414,9425]},{"content":"NewRfp","pos":[9438,9444]},{"content":"Creates and submits a new Request for Proposals.","pos":[9445,9493]},{"content":"ShowProposals","pos":[9498,9511]},{"content":"Show all active and finished Requests for Proposals.","pos":[9512,9564]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  You may need to click the <bpt id=\"p2\">**</bpt>Refresh<ept id=\"p2\">**</ept> button in the UI to see changes in that screen after you create or modify a Request for Proposal.","pos":[9565,9711],"source":"**Note:**  You may need to click the **Refresh** button in the UI to see changes in that screen after you create or modify a Request for Proposal."},{"content":"SubmitProposal","pos":[9716,9730]},{"content":"Get a proposal from a vendor in a concrete Request for Proposals.","pos":[9731,9796]},{"content":"This window is used only by vendors.","pos":[9797,9833]},{"content":"ViewRfp","pos":[9838,9845]},{"content":"Show all the information about a Request for Proposals (received proposals, dates, values, and other information).","pos":[9846,9960]},{"content":"This window  is only used by the creator of the Request for Proposals.","pos":[9961,10031]},{"pos":[10042,10059],"content":"Persistence Files","linkify":"Persistence Files","nodes":[{"content":"Persistence Files","pos":[0,17]}]},{"content":"The following table shows the files generated by the persistence provider (<ph id=\"ph1\">`XmlPersistenceProvider`</ph>) are located in the path of the current system's temporary folder (using <ph id=\"ph2\">&lt;xref:System.IO.Path.GetTempPath%2A&gt;</ph>).","pos":[10063,10274],"source":"The following table shows the files generated by the persistence provider (`XmlPersistenceProvider`) are located in the path of the current system's temporary folder (using <xref:System.IO.Path.GetTempPath%2A>)."},{"content":"The tracing file is created in the current execution path.","pos":[10275,10333]},{"content":"File Name","pos":[10340,10349]},{"content":"Description","pos":[10350,10361]},{"content":"Path","pos":[10362,10366]},{"content":"rfps.xml","pos":[10381,10389]},{"content":"The XML file with all the active and finished Requests for Proposals.","pos":[10390,10459]},{"content":"[instanceid]","pos":[10501,10513]},{"content":"This file contains all the information about a workflow instance.","pos":[10514,10579]},{"content":"This file is generated by the schematized persistence implementation (PersistenceParticipant in XmlPersistenceProvider).","pos":[10592,10712]},{"content":"[instanceId].tracking","pos":[10754,10775]},{"content":"A text file with all the events that occurred within a concrete instance.","pos":[10776,10849]},{"content":"This file is generated by TrackingParticipant.","pos":[10862,10908]},{"content":"PurchaseProcess.Tracing.TraceLog.txt","pos":[10950,10986]},{"content":"The tracing file generated by the workflow based on the configuration parameters in the App.config or Web.config files.","pos":[10987,11106]},{"content":"Current execution path","pos":[11107,11129]},{"pos":[11141,11159],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[11169,11273],"content":"Using <ph id=\"ph1\">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]</ph>, open the PurchaseProcess.sln solution file.","source":"Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the PurchaseProcess.sln solution file."},{"content":"To execute the Web Client project, open <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> and right-click the <bpt id=\"p2\">**</bpt>Web Client<ept id=\"p2\">**</ept> project.","pos":[11283,11388],"source":"To execute the Web Client project, open **Solution Explorer** and right-click the **Web Client** project."},{"content":"Select <bpt id=\"p1\">**</bpt>Set as Startup Project<ept id=\"p1\">**</ept>.","pos":[11389,11423],"source":" Select **Set as Startup Project**."},{"content":"To execute the WinForms Client project, open <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> and right-click the <bpt id=\"p2\">**</bpt>WinForms Client<ept id=\"p2\">**</ept> project.","pos":[11433,11548],"source":"To execute the WinForms Client project, open **Solution Explorer** and right-click the **WinForms Client** project."},{"content":"Select <bpt id=\"p1\">**</bpt>Set as Startup Project<ept id=\"p1\">**</ept>.","pos":[11549,11583],"source":" Select **Set as Startup Project**."},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[11593,11635]},{"content":"To run the solution, press CTRL+F5.","pos":[11645,11680]},{"pos":[11690,11708],"content":"Web Client Options","linkify":"Web Client Options","nodes":[{"content":"Web Client Options","pos":[0,18]}]},{"pos":[11718,11821],"content":"<bpt id=\"p1\">**</bpt>Create a new RFP<ept id=\"p1\">**</ept>: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow.","source":"**Create a new RFP**: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow."},{"pos":[11831,11910],"content":"<bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept>: Refreshes the list of Active and Finished RFPs in the main window.","source":"**Refresh**: Refreshes the list of Active and Finished RFPs in the main window."},{"content":"<bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept>: Shows the content of an existing RFP.","pos":[11920,11967],"source":"**View**: Shows the content of an existing RFP."},{"content":"Vendors can submit their proposals (if invited or the RFP is not finished).","pos":[11968,12043]},{"pos":[12053,12207],"content":"View As: The user can access the RFP using different identities by selecting the desired participant in the <bpt id=\"p1\">**</bpt>View as<ept id=\"p1\">**</ept> combo box in the active RFPs grid.","source":"View As: The user can access the RFP using different identities by selecting the desired participant in the **View as** combo box in the active RFPs grid."},{"pos":[12217,12240],"content":"WinForms Client Options","linkify":"WinForms Client Options","nodes":[{"content":"WinForms Client Options","pos":[0,23]}]},{"pos":[12250,12347],"content":"<bpt id=\"p1\">**</bpt>Create RFP<ept id=\"p1\">**</ept>: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow.","source":"**Create RFP**: Creates a new Request for Proposals (RFP) and starts a Purchase Process workflow."},{"pos":[12357,12436],"content":"<bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept>: Refreshes the list of Active and Finished RFPs in the main window.","source":"**Refresh**: Refreshes the list of Active and Finished RFPs in the main window."},{"content":"<bpt id=\"p1\">**</bpt>View RFP<ept id=\"p1\">**</ept>: Shows the content of an existing RFP.","pos":[12446,12497],"source":"**View RFP**: Shows the content of an existing RFP."},{"content":"Vendors can submit their proposals (if invited or the RFP is not finished)","pos":[12498,12572]},{"pos":[12582,12743],"content":"<bpt id=\"p1\">**</bpt>Connect As<ept id=\"p1\">**</ept>: The user can access the RFP using different identities by selecting the desired participant in the <bpt id=\"p2\">**</bpt>View as<ept id=\"p2\">**</ept> combo box in the active RFPs grid.","source":"**Connect As**: The user can access the RFP using different identities by selecting the desired participant in the **View as** combo box in the active RFPs grid."},{"pos":[12752,12760],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}