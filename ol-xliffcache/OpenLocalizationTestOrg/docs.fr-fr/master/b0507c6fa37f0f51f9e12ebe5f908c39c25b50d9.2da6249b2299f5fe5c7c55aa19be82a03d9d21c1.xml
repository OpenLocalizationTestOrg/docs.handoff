{"content":"---\ntitle: \"How to: Use a Custom Context Menu with a TextBox\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"context menus [WPF], custom\"\n  - \"menus [WPF], custom\"\n  - \"custom context menus [WPF]\"\n  - \"TextBox control [WPF], custom content menus\"\nms.assetid: 842d3cd5-6fa0-4be4-8d90-6c7466213b1c\n---\n# How to: Use a Custom Context Menu with a TextBox\nThis example shows how to define and implement a simple custom context menu for a <xref:System.Windows.Controls.TextBox>.  \n  \n## Example  \n The following [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] example defines a <xref:System.Windows.Controls.TextBox> control that includes a custom context menu.  \n  \n The context menu is defined using a <xref:System.Windows.Controls.ContextMenu> element.  The context menu itself consists of a series of <xref:System.Windows.Controls.MenuItem> elements and <xref:System.Windows.Controls.Separator> elements.  Each <xref:System.Windows.Controls.MenuItem> element defines a command in the context menu; the <xref:System.Windows.Controls.HeaderedItemsControl.Header%2A> attribute defines the display text for the menu command, and the <xref:System.Windows.Controls.MenuItem.Click> attribute specifies a handler method for each menu item.  The <xref:System.Windows.Controls.Separator> element simply causes a separating line to be rendered between the previous and subsequent menu items.  \n  \n [!code-xaml[TextBox_ContextMenu#_TextBox_ContextMenuXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/TextBox_ContextMenu/CSharp/Window1.xaml#_textbox_contextmenuxaml)]  \n  \n## Example  \n The following example shows the implementation code for the preceding context menu definition, as well as the code that enables and disables the context menu.  The <xref:System.Windows.Controls.ContextMenu.Opened> event is used to dynamically enable or disable certain commands depending on the current state of the <xref:System.Windows.Controls.TextBox>.  \n  \n To restore the default context menu, use the <xref:System.Windows.DependencyObject.ClearValue%2A> method to clear the value of the <xref:System.Windows.FrameworkElement.ContextMenu%2A> property.  To disable the context menu altogether, set the <xref:System.Windows.FrameworkElement.ContextMenu%2A> property to a null reference (`Nothing` in Visual Basic).  \n  \n [!code-csharp[TextBox_ContextMenu#_TextBox_ContextMenu](~/samples/snippets/csharp/VS_Snippets_Wpf/TextBox_ContextMenu/CSharp/Window1.xaml.cs#_textbox_contextmenu)]\n [!code-vb[TextBox_ContextMenu#_TextBox_ContextMenu](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextBox_ContextMenu/VisualBasic/Window1.xaml.vb#_textbox_contextmenu)]  \n  \n## See also\n\n- [Use Spell Checking with a Context Menu](how-to-use-spell-checking-with-a-context-menu.md)\n- [TextBox Overview](textbox-overview.md)\n- [RichTextBox Overview](richtextbox-overview.md)\n","nodes":[{"pos":[4,331],"embed":true,"restype":"x-metadata","content":"title: \"How to: Use a Custom Context Menu with a TextBox\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"context menus [WPF], custom\"\n  - \"menus [WPF], custom\"\n  - \"custom context menus [WPF]\"\n  - \"TextBox control [WPF], custom content menus\"\nms.assetid: 842d3cd5-6fa0-4be4-8d90-6c7466213b1c","nodes":[{"content":"How to: Use a Custom Context Menu with a TextBox","nodes":[{"pos":[0,48],"content":"How to: Use a Custom Context Menu with a TextBox","nodes":[{"content":"How to: Use a Custom Context Menu with a TextBox","pos":[0,48]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[338,386],"content":"How to: Use a Custom Context Menu with a TextBox","linkify":"How to: Use a Custom Context Menu with a TextBox","nodes":[{"content":"How to: Use a Custom Context Menu with a TextBox","pos":[0,48]}]},{"pos":[387,508],"content":"This example shows how to define and implement a simple custom context menu for a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBox&gt;</ph>.","source":"This example shows how to define and implement a simple custom context menu for a <xref:System.Windows.Controls.TextBox>."},{"pos":[517,524],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[528,713],"content":"The following <ph id=\"ph1\">[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]</ph> example defines a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.TextBox&gt;</ph> control that includes a custom context menu.","source":"The following [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] example defines a <xref:System.Windows.Controls.TextBox> control that includes a custom context menu."},{"content":"The context menu is defined using a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ContextMenu&gt;</ph> element.","pos":[720,807],"source":"The context menu is defined using a <xref:System.Windows.Controls.ContextMenu> element."},{"content":"The context menu itself consists of a series of <ph id=\"ph1\">&lt;xref:System.Windows.Controls.MenuItem&gt;</ph> elements and <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Separator&gt;</ph> elements.","pos":[809,960],"source":"  The context menu itself consists of a series of <xref:System.Windows.Controls.MenuItem> elements and <xref:System.Windows.Controls.Separator> elements."},{"content":"Each <ph id=\"ph1\">&lt;xref:System.Windows.Controls.MenuItem&gt;</ph> element defines a command in the context menu; the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.HeaderedItemsControl.Header%2A&gt;</ph> attribute defines the display text for the menu command, and the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.MenuItem.Click&gt;</ph> attribute specifies a handler method for each menu item.","pos":[962,1287],"source":"  Each <xref:System.Windows.Controls.MenuItem> element defines a command in the context menu; the <xref:System.Windows.Controls.HeaderedItemsControl.Header%2A> attribute defines the display text for the menu command, and the <xref:System.Windows.Controls.MenuItem.Click> attribute specifies a handler method for each menu item."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Separator&gt;</ph> element simply causes a separating line to be rendered between the previous and subsequent menu items.","pos":[1289,1436],"source":"  The <xref:System.Windows.Controls.Separator> element simply causes a separating line to be rendered between the previous and subsequent menu items."},{"pos":[1618,1625],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows the implementation code for the preceding context menu definition, as well as the code that enables and disables the context menu.","pos":[1629,1787]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ContextMenu.Opened&gt;</ph> event is used to dynamically enable or disable certain commands depending on the current state of the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.TextBox&gt;</ph>.","pos":[1789,1984],"source":"  The <xref:System.Windows.Controls.ContextMenu.Opened> event is used to dynamically enable or disable certain commands depending on the current state of the <xref:System.Windows.Controls.TextBox>."},{"content":"To restore the default context menu, use the <ph id=\"ph1\">&lt;xref:System.Windows.DependencyObject.ClearValue%2A&gt;</ph> method to clear the value of the <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement.ContextMenu%2A&gt;</ph> property.","pos":[1991,2185],"source":"To restore the default context menu, use the <xref:System.Windows.DependencyObject.ClearValue%2A> method to clear the value of the <xref:System.Windows.FrameworkElement.ContextMenu%2A> property."},{"content":"To disable the context menu altogether, set the <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.ContextMenu%2A&gt;</ph> property to a null reference (<ph id=\"ph2\">`Nothing`</ph> in Visual Basic).","pos":[2187,2346],"source":"  To disable the context menu altogether, set the <xref:System.Windows.FrameworkElement.ContextMenu%2A> property to a null reference (`Nothing` in Visual Basic)."},{"pos":[2696,2704],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2708,2798],"content":"<bpt id=\"p1\">[</bpt>Use Spell Checking with a Context Menu<ept id=\"p1\">](how-to-use-spell-checking-with-a-context-menu.md)</ept>","source":"[Use Spell Checking with a Context Menu](how-to-use-spell-checking-with-a-context-menu.md)"},{"pos":[2801,2840],"content":"<bpt id=\"p1\">[</bpt>TextBox Overview<ept id=\"p1\">](textbox-overview.md)</ept>","source":"[TextBox Overview](textbox-overview.md)"},{"pos":[2843,2890],"content":"<bpt id=\"p1\">[</bpt>RichTextBox Overview<ept id=\"p1\">](richtextbox-overview.md)</ept>","source":"[RichTextBox Overview](richtextbox-overview.md)"}]}