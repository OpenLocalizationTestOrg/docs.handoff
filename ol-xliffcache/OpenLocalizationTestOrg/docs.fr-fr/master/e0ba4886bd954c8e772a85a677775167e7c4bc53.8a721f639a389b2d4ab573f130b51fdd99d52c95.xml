{"content":"---\ntitle: Packages, Metapackages and Frameworks\ndescription: Packages, Metapackages and Frameworks\nkeywords: .NET, .NET Core\nauthor: richlander\nms.author: mairaw\nms.date: 06/20/2016\nms.topic: article\nms.prod: .net-core\nms.devlang: dotnet\nms.assetid: 609b0845-49e7-4864-957b-21ffe1b93bf2\n---\n\n# Packages, Metapackages and Frameworks\n\n.NET Core is a platform made of NuGet packages. Some product experiences benefit from fine-grained definition of packages while others from coarse-grained. To accommodate this duality, the product is distributed as a fine-grained set of packages and then described in coarser chunks with a package type informally called a \"metapackage\".\n\nEach of the .NET Core packages support being run on multiple .NET runtimes, represented as\nframeworks. Some of those frameworks are traditional frameworks, like `net46`, representing the .NET Framework. Another set is new frameworks that can be thought of as \"package-based frameworks\", which establish a new model for defining frameworks. These package-based frameworks are entirely formed and defined as packages, forming a strong relationship between packages and frameworks.\n\n## Packages\n\n.NET Core is split into a set of packages, which provide primitives, higher-level data types, app composition types and common utilities. Each of these packages represent a single assembly of the same name. For example, [System.Runtime](https://www.nuget.org/packages/System.Runtime) contains System.Runtime.dll. \n\nThere are advantages to defining packages in a fine-grained manner:\n\n- Fine-grained packages can ship on their own schedule with relatively limited testing of other packages.\n- Fine-grained packages can provide differing OS and CPU support.\n- Fine-grained packages can have dependencies specific to only one library.\n- Apps are smaller because unreferenced packages don't become part of the app distribution.\n\nSome of these benefits are only used in certain circumstances. For example, NET Core packages will typically ship on the same schedule with the same platform support. In the case of servicing, fixes can be distributed and installed as small single package updates. Due to the narrow scope of change, the validation and time to make a fix available is limited to what is needed for a single library.\n\nThe following is a list of the key NuGet packages for .NET Core:\n\n- [System.Runtime](https://www.nuget.org/packages/System.Runtime) - The most fundamental .NET Core package, including <xref:System.Object>, <xref:System.String>, <xref:System.Array>, <xref:System.Action>, and <xref:System.Collections.Generic.IList%601>.\n- [System.Collections](https://www.nuget.org/packages/System.Collections) - A set of (primarily) generic collections, including <xref:System.Collections.Generic.List%601> and <xref:System.Collections.Generic.Dictionary%602>.\n- [System.Net.Http](https://www.nuget.org/packages/System.Net.Http) - A set of types for HTTP network communication, including <xref:System.Net.Http.HttpClient> and <xref:System.Net.Http.HttpResponseMessage>.\n- [System.IO.FileSystem](https://www.nuget.org/packages/System.IO.FileSystem) - A set of types for reading and writing to local or networked disk-based storage, including <xref:System.IO.File> and <xref:System.IO.Directory>.\n- [System.Linq](https://www.nuget.org/packages/System.Linq) - A set of types for querying objects, including `Enumerable` and <xref:System.Linq.ILookup%602>.\n- [System.Reflection](https://www.nuget.org/packages/System.Reflection) - A set of types for loading, inspecting, and activating types, including <xref:System.Reflection.Assembly>, <xref:System.Reflection.TypeInfo> and <xref:System.Reflection.MethodInfo>.\n\nTypically, rather than including packages in your projects on a package-by-package basis, it is far easier to include a *metapackage*, which is a set of packages that are often used together. (For more information on metapackages, see the following section.) However, when you need a single package, you can include it as in the example below, which references the [System.Runtime](https://www.nuget.org/packages/System.Runtime/) package. \n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n  <PropertyGroup>\n    <TargetFramework>netstandard1.6</TargetFramework>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageReference Include=\"System.Runtime\" Version=\"4.3.0\" />\n  </ItemGroup>\n</Project>\n```\n\n## Metapackages\n\nMetapackages are a NuGet package convention for describing a set of packages that are meaningful together. They represent this set of packages by making them dependencies. They can optionally establish a framework for this set of packages by specifying a framework. \n\nPrevious versions of the .NET Core tools (both project.json and csproj-based tools) by default specified both a framework and a metapackage. Currently, however, the metapackage is implicitly referenced by the target framework, so that each metapackage is tied to a target framework. For example, the `netstandard1.6` framework references the NetStandard.Library version 1.6.0 metapackage. Similarly, the `netcoreapp1.1` framework references the Microsoft.NETCore.App Version 1.1.0 metapackage. For more information, see [Implicit metapackage package reference in the .NET Core SDK](https://github.com/dotnet/core/blob/master/release-notes/1.0/sdk/1.0-rc3-implicit-package-refs.md).\n\nTargeting a framework and implicitly referencing a metapackage means that you in effect are adding a reference to each of its dependent packages as a single gesture. That makes all of the libraries in those packages available for IntelliSense (or similar experience) and for publishing your app.  \n\nThere are advantages to using metapackages:\n\n- Provides a convenient user experience to reference a large set of fine-grained packages. \n- Defines a set of packages (including specific versions) that are tested and work well together.\n\nThe .NET Standard Library metapackage is:\n\n- [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) - Describes the libraries that are part of the \".NET Standard Library\". Applies to all .NET implementations (for example, .NET Framework, .NET Core and Mono) that support the .NET Standard Library. Establishes the 'netstandard' framework.\n\nThe key .NET Core metapackages are:\n\n- [Microsoft.NETCore.App](https://www.nuget.org/packages/Microsoft.NETCore.App) - Describes the libraries that are part of the .NET Core distribution. Establishes the [`.NETCoreApp` framework](https://github.com/dotnet/core-setup/blob/master/pkg/projects/Microsoft.NETCore.App/Microsoft.NETCore.App.pkgproj). Depends on the smaller `NETStandard.Library`.\n- [Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility) - A set of compatibility facades that enable mscorlib-based Portable Class Libraries (PCLs) to run on .NET Core.\n\n## Frameworks\n\n.NET Core packages each support a set of runtime frameworks. Frameworks describe an available API set (and potentially other characteristics) that you can rely on when you target a given framework. They are versioned as new APIs are added.\n\nFor example, [System.IO.FileSystem](https://www.nuget.org/packages/System.IO.FileSystem) supports the following frameworks:\n\n- .NETFramework,Version=4.6\n- .NETStandard,Version=1.3\n- 6 Xamarin platforms (for example, xamarinios10)\n\nIt is useful to contrast the first two of these frameworks, since they are examples of the two different ways that frameworks are defined.\n\nThe `.NETFramework,Version=4.6` framework represents the available APIs in the .NET Framework 4.6. You can produce libraries  compiled with the .NET Framework 4.6 reference assemblies and then distribute those libraries in NuGet packages in a net46 lib folder. It will be used for apps that target the .NET Framework 4.6 or that are compatible with it. This is how all frameworks have traditionally worked.\n\nThe `.NETStandard,Version=1.3` framework is a package-based framework. It relies on packages that target the framework to define and expose APIs in terms of the framework.\n\n## Package-based Frameworks\n\nThere is a two-way relationship between frameworks and packages. The first part is defining the APIs available for a given framework, for example `netstandard1.3`. Packages that target `netstandard1.3` (or compatible frameworks, like `netstandard1.0`) define the APIs available for `netstandard1.3`. That may sound like a circular definition, but it isn't. By virtue of being \"package-based\", the API definition for the framework comes from packages. The framework itself doesn't define any APIs.\n\nThe second part of the relationship is asset selection. Packages can contain assets for multiple frameworks. Given a reference to a set of packages and/or metapackages, the framework is needed to determine which asset should be selected, for example `net46` or `netstandard1.3`. It is important to select the correct asset. For example, a `net46` asset is not likely to be compatible with .NET Framework 4.0 or .NET Core 1.0.\n\n![Package-based Framework Composition](./media/packages/package-framework.png)\n\nYou can see this relationship in the image above. The *API* targets and defines the *framework*. The *framework* is used for *asset selection*. The *asset* gives you the API.\n\nThe two primary package-based frameworks used with .NET Core are:\n\n- `netstandard`\n- `netcoreapp`\n\n### .NET Standard\n\nThe .NET Standard (target framework moniker: `netstandard`) framework represents the APIs defined by and built on top of the [.NET Standard Library](../standard/library.md). Libraries that are intended to run on multiple runtimes should target this framework. They will be supported on any .NET Standard compliant runtime, such as .NET Core, .NET Framework and Mono/Xamarin. Each of these runtimes supports a set of .NET Standard versions, depending on which APIs they implement. \n\nThe `netstandard` framework implicitly references the `NETStandard.Library` metapackage. For example, the following MSBuild project file indicates that the project targets `netstandard1.6`, which references the .NET Standard Library version 1.6 metapackage. \n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n  <PropertyGroup>\n    <TargetFramework>netstandard1.6</TargetFramework>\n  </PropertyGroup>\n</Project>\n```\n\nHowever, the framework and metapackage references in the project file do not need to match, and you can use the `<NetStandardImplicitPackageVersion>` element in your project file to specify a framework version that is lower than the metapackage version. For example, the following project file is valid.\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n  <PropertyGroup>\n    <TargetFramework>netstandard1.3</TargetFramework>\n  </PropertyGroup>\n  <ItemGroup>\n    <NetStandardImplicitPackageVersion Include=\"NetStandardLibrary\" Version=\"1.6.0\" />\n  </ItemGroup>\n</Project>\n```\n\nIt may seem strange to target `netstandard1.3` but use the 1.6.0 version of `NETStandard.Library`. It is a valid use-case, since the metapackage maintains support for older `netstandard` versions. It could be the case you've standardized on the 1.6.0 version of the metapackage and use it for all your libraries, which target a variety of `netstandard` versions. With this approach, you only need to restore `NETStandard.Library` 1.6.0 and not earlier versions. \n\nThe reverse would not be valid: targeting `netstandard1.6` with the 1.3.0 version of `NETStandard.Library`. You cannot target a higher framework with a lower metapackage, since the lower version metapackage will not expose any assets for that higher framework. The versioning scheme for metapackages asserts that metapackages match the highest version of the framework they describe. By virtue of the versioning scheme, the first version of `NETStandard.Library` is v1.6.0 given that it contains `netstandard1.6` assets. v1.3.0 is used in the example above, for symmetry with the example above, but does not actually exist.\n\n### .NET Core Application\n\nThe .NET Core Application (TFM: `netcoreapp`) framework represents the packages and associated APIs that come with the .NET Core distribution and the console application model that it provides. .NET Core apps must use this framework, due to targeting the console application model, as should libraries that intended to run only on .NET Core. Using this framework restricts apps and libraries to running only on .NET Core. \n\nThe `Microsoft.NETCore.App` metapackage targets the `netcoreapp` framework. It provides access to ~60 libraries, ~40 provided by the `NETStandard.Library` package and ~20 more in addition. You can reference additional libraries that target `netcoreapp` or compatible frameworks, such as `netstandard`, to get access to additional APIs. \n\nMost of the additional libraries provided by `Microsoft.NETCore.App` also target `netstandard` given that their dependencies are satisfied by other `netstandard` libraries. That means that `netstandard` libraries can also reference those packages as dependencies. \n","nodes":[{"pos":[11,48],"content":"Packages, Metapackages and Frameworks","needQuote":true,"needEscape":true,"nodes":[{"content":"Packages, Metapackages and Frameworks","pos":[0,37]}]},{"pos":[62,99],"content":"Packages, Metapackages and Frameworks","needQuote":true,"needEscape":true,"nodes":[{"content":"Packages, Metapackages and Frameworks","pos":[0,37]}]},{"pos":[110,125],"content":".NET, .NET Core","needQuote":true,"needEscape":true,"nodes":[{"content":".NET, .NET Core","pos":[0,15]}]},{"pos":[295,332],"content":"Packages, Metapackages and Frameworks","linkify":"Packages, Metapackages and Frameworks","nodes":[{"content":"Packages, Metapackages and Frameworks","pos":[0,37]}]},{"content":".NET Core is a platform made of NuGet packages.","pos":[334,381]},{"content":"Some product experiences benefit from fine-grained definition of packages while others from coarse-grained.","pos":[382,489]},{"content":"To accommodate this duality, the product is distributed as a fine-grained set of packages and then described in coarser chunks with a package type informally called a \"metapackage\".","pos":[490,671]},{"content":"Each of the .NET Core packages support being run on multiple .NET runtimes, represented as frameworks.","pos":[673,775],"source":"Each of the .NET Core packages support being run on multiple .NET runtimes, represented as\nframeworks."},{"content":"Some of those frameworks are traditional frameworks, like <ph id=\"ph1\">`net46`</ph>, representing the .NET Framework.","pos":[776,875],"source":" Some of those frameworks are traditional frameworks, like `net46`, representing the .NET Framework."},{"content":"Another set is new frameworks that can be thought of as \"package-based frameworks\", which establish a new model for defining frameworks.","pos":[876,1012]},{"content":"These package-based frameworks are entirely formed and defined as packages, forming a strong relationship between packages and frameworks.","pos":[1013,1151]},{"pos":[1156,1164],"content":"Packages","linkify":"Packages","nodes":[{"content":"Packages","pos":[0,8]}]},{"content":".NET Core is split into a set of packages, which provide primitives, higher-level data types, app composition types and common utilities.","pos":[1166,1303]},{"content":"Each of these packages represent a single assembly of the same name.","pos":[1304,1372]},{"content":"For example, <bpt id=\"p1\">[</bpt>System.Runtime<ept id=\"p1\">](https://www.nuget.org/packages/System.Runtime)</ept> contains System.Runtime.dll.","pos":[1373,1478],"source":" For example, [System.Runtime](https://www.nuget.org/packages/System.Runtime) contains System.Runtime.dll."},{"content":"There are advantages to defining packages in a fine-grained manner:","pos":[1481,1548]},{"content":"Fine-grained packages can ship on their own schedule with relatively limited testing of other packages.","pos":[1552,1655]},{"content":"Fine-grained packages can provide differing OS and CPU support.","pos":[1658,1721]},{"content":"Fine-grained packages can have dependencies specific to only one library.","pos":[1724,1797]},{"content":"Apps are smaller because unreferenced packages don't become part of the app distribution.","pos":[1800,1889]},{"content":"Some of these benefits are only used in certain circumstances.","pos":[1891,1953]},{"content":"For example, NET Core packages will typically ship on the same schedule with the same platform support.","pos":[1954,2057]},{"content":"In the case of servicing, fixes can be distributed and installed as small single package updates.","pos":[2058,2155]},{"content":"Due to the narrow scope of change, the validation and time to make a fix available is limited to what is needed for a single library.","pos":[2156,2289]},{"content":"The following is a list of the key NuGet packages for .NET Core:","pos":[2291,2355]},{"pos":[2359,2610],"content":"<bpt id=\"p1\">[</bpt>System.Runtime<ept id=\"p1\">](https://www.nuget.org/packages/System.Runtime)</ept> - The most fundamental .NET Core package, including <ph id=\"ph1\">&lt;xref:System.Object&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.String&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Array&gt;</ph>, <ph id=\"ph4\">&lt;xref:System.Action&gt;</ph>, and <ph id=\"ph5\">&lt;xref:System.Collections.Generic.IList%601&gt;</ph>.","source":"[System.Runtime](https://www.nuget.org/packages/System.Runtime) - The most fundamental .NET Core package, including <xref:System.Object>, <xref:System.String>, <xref:System.Array>, <xref:System.Action>, and <xref:System.Collections.Generic.IList%601>."},{"pos":[2613,2835],"content":"<bpt id=\"p1\">[</bpt>System.Collections<ept id=\"p1\">](https://www.nuget.org/packages/System.Collections)</ept> - A set of (primarily) generic collections, including <ph id=\"ph1\">&lt;xref:System.Collections.Generic.List%601&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Collections.Generic.Dictionary%602&gt;</ph>.","source":"[System.Collections](https://www.nuget.org/packages/System.Collections) - A set of (primarily) generic collections, including <xref:System.Collections.Generic.List%601> and <xref:System.Collections.Generic.Dictionary%602>."},{"pos":[2838,3044],"content":"<bpt id=\"p1\">[</bpt>System.Net.Http<ept id=\"p1\">](https://www.nuget.org/packages/System.Net.Http)</ept> - A set of types for HTTP network communication, including <ph id=\"ph1\">&lt;xref:System.Net.Http.HttpClient&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Net.Http.HttpResponseMessage&gt;</ph>.","source":"[System.Net.Http](https://www.nuget.org/packages/System.Net.Http) - A set of types for HTTP network communication, including <xref:System.Net.Http.HttpClient> and <xref:System.Net.Http.HttpResponseMessage>."},{"pos":[3047,3269],"content":"<bpt id=\"p1\">[</bpt>System.IO.FileSystem<ept id=\"p1\">](https://www.nuget.org/packages/System.IO.FileSystem)</ept> - A set of types for reading and writing to local or networked disk-based storage, including <ph id=\"ph1\">&lt;xref:System.IO.File&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.IO.Directory&gt;</ph>.","source":"[System.IO.FileSystem](https://www.nuget.org/packages/System.IO.FileSystem) - A set of types for reading and writing to local or networked disk-based storage, including <xref:System.IO.File> and <xref:System.IO.Directory>."},{"pos":[3272,3427],"content":"<bpt id=\"p1\">[</bpt>System.Linq<ept id=\"p1\">](https://www.nuget.org/packages/System.Linq)</ept> - A set of types for querying objects, including <ph id=\"ph1\">`Enumerable`</ph> and <ph id=\"ph2\">&lt;xref:System.Linq.ILookup%602&gt;</ph>.","source":"[System.Linq](https://www.nuget.org/packages/System.Linq) - A set of types for querying objects, including `Enumerable` and <xref:System.Linq.ILookup%602>."},{"pos":[3430,3683],"content":"<bpt id=\"p1\">[</bpt>System.Reflection<ept id=\"p1\">](https://www.nuget.org/packages/System.Reflection)</ept> - A set of types for loading, inspecting, and activating types, including <ph id=\"ph1\">&lt;xref:System.Reflection.Assembly&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Reflection.TypeInfo&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Reflection.MethodInfo&gt;</ph>.","source":"[System.Reflection](https://www.nuget.org/packages/System.Reflection) - A set of types for loading, inspecting, and activating types, including <xref:System.Reflection.Assembly>, <xref:System.Reflection.TypeInfo> and <xref:System.Reflection.MethodInfo>."},{"content":"Typically, rather than including packages in your projects on a package-by-package basis, it is far easier to include a <bpt id=\"p1\">*</bpt>metapackage<ept id=\"p1\">*</ept>, which is a set of packages that are often used together.","pos":[3685,3876],"source":"Typically, rather than including packages in your projects on a package-by-package basis, it is far easier to include a *metapackage*, which is a set of packages that are often used together."},{"content":"(For more information on metapackages, see the following section.) However, when you need a single package, you can include it as in the example below, which references the <bpt id=\"p1\">[</bpt>System.Runtime<ept id=\"p1\">](https://www.nuget.org/packages/System.Runtime/)</ept> package.","pos":[3877,4123],"source":" (For more information on metapackages, see the following section.) However, when you need a single package, you can include it as in the example below, which references the [System.Runtime](https://www.nuget.org/packages/System.Runtime/) package."},{"pos":[4372,4384],"content":"Metapackages","linkify":"Metapackages","nodes":[{"content":"Metapackages","pos":[0,12]}]},{"content":"Metapackages are a NuGet package convention for describing a set of packages that are meaningful together.","pos":[4386,4492]},{"content":"They represent this set of packages by making them dependencies.","pos":[4493,4557]},{"content":"They can optionally establish a framework for this set of packages by specifying a framework.","pos":[4558,4651]},{"content":"Previous versions of the .NET Core tools (both project.json and csproj-based tools) by default specified both a framework and a metapackage.","pos":[4654,4794]},{"content":"Currently, however, the metapackage is implicitly referenced by the target framework, so that each metapackage is tied to a target framework.","pos":[4795,4936]},{"content":"For example, the <ph id=\"ph1\">`netstandard1.6`</ph> framework references the NetStandard.Library version 1.6.0 metapackage.","pos":[4937,5042],"source":" For example, the `netstandard1.6` framework references the NetStandard.Library version 1.6.0 metapackage."},{"content":"Similarly, the <ph id=\"ph1\">`netcoreapp1.1`</ph> framework references the Microsoft.NETCore.App Version 1.1.0 metapackage.","pos":[5043,5147],"source":" Similarly, the `netcoreapp1.1` framework references the Microsoft.NETCore.App Version 1.1.0 metapackage."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Implicit metapackage package reference in the .NET Core SDK<ept id=\"p1\">](https://github.com/dotnet/core/blob/master/release-notes/1.0/sdk/1.0-rc3-implicit-package-refs.md)</ept>.","pos":[5148,5335],"source":" For more information, see [Implicit metapackage package reference in the .NET Core SDK](https://github.com/dotnet/core/blob/master/release-notes/1.0/sdk/1.0-rc3-implicit-package-refs.md)."},{"content":"Targeting a framework and implicitly referencing a metapackage means that you in effect are adding a reference to each of its dependent packages as a single gesture.","pos":[5337,5502]},{"content":"That makes all of the libraries in those packages available for IntelliSense (or similar experience) and for publishing your app.","pos":[5503,5632]},{"content":"There are advantages to using metapackages:","pos":[5636,5679]},{"content":"Provides a convenient user experience to reference a large set of fine-grained packages.","pos":[5683,5771]},{"content":"Defines a set of packages (including specific versions) that are tested and work well together.","pos":[5775,5870]},{"content":"The .NET Standard Library metapackage is:","pos":[5872,5913]},{"content":"<bpt id=\"p1\">[</bpt>NETStandard.Library<ept id=\"p1\">](https://www.nuget.org/packages/NETStandard.Library)</ept> - Describes the libraries that are part of the \".NET Standard Library\".","pos":[5917,6062],"source":"[NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) - Describes the libraries that are part of the \".NET Standard Library\"."},{"content":"Applies to all .NET implementations (for example, .NET Framework, .NET Core and Mono) that support the .NET Standard Library.","pos":[6063,6188]},{"content":"Establishes the 'netstandard' framework.","pos":[6189,6229]},{"content":"The key .NET Core metapackages are:","pos":[6231,6266]},{"content":"<bpt id=\"p1\">[</bpt>Microsoft.NETCore.App<ept id=\"p1\">](https://www.nuget.org/packages/Microsoft.NETCore.App)</ept> - Describes the libraries that are part of the .NET Core distribution.","pos":[6270,6418],"source":"[Microsoft.NETCore.App](https://www.nuget.org/packages/Microsoft.NETCore.App) - Describes the libraries that are part of the .NET Core distribution."},{"content":"Establishes the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">`.NETCoreApp`</ph> framework<ept id=\"p1\">](https://github.com/dotnet/core-setup/blob/master/pkg/projects/Microsoft.NETCore.App/Microsoft.NETCore.App.pkgproj)</ept>.","pos":[6419,6576],"source":" Establishes the [`.NETCoreApp` framework](https://github.com/dotnet/core-setup/blob/master/pkg/projects/Microsoft.NETCore.App/Microsoft.NETCore.App.pkgproj)."},{"content":"Depends on the smaller <ph id=\"ph1\">`NETStandard.Library`</ph>.","pos":[6577,6622],"source":" Depends on the smaller `NETStandard.Library`."},{"pos":[6625,6853],"content":"<bpt id=\"p1\">[</bpt>Microsoft.NETCore.Portable.Compatibility<ept id=\"p1\">](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility)</ept> - A set of compatibility facades that enable mscorlib-based Portable Class Libraries (PCLs) to run on .NET Core.","source":"[Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility) - A set of compatibility facades that enable mscorlib-based Portable Class Libraries (PCLs) to run on .NET Core."},{"pos":[6858,6868],"content":"Frameworks","linkify":"Frameworks","nodes":[{"content":"Frameworks","pos":[0,10]}]},{"content":".NET Core packages each support a set of runtime frameworks.","pos":[6870,6930]},{"content":"Frameworks describe an available API set (and potentially other characteristics) that you can rely on when you target a given framework.","pos":[6931,7067]},{"content":"They are versioned as new APIs are added.","pos":[7068,7109]},{"pos":[7111,7234],"content":"For example, <bpt id=\"p1\">[</bpt>System.IO.FileSystem<ept id=\"p1\">](https://www.nuget.org/packages/System.IO.FileSystem)</ept> supports the following frameworks:","source":"For example, [System.IO.FileSystem](https://www.nuget.org/packages/System.IO.FileSystem) supports the following frameworks:"},{"content":".NETFramework,Version=4.6","pos":[7238,7263]},{"content":".NETStandard,Version=1.3","pos":[7266,7290]},{"content":"6 Xamarin platforms (for example, xamarinios10)","pos":[7293,7340]},{"content":"It is useful to contrast the first two of these frameworks, since they are examples of the two different ways that frameworks are defined.","pos":[7342,7480]},{"content":"The <ph id=\"ph1\">`.NETFramework,Version=4.6`</ph> framework represents the available APIs in the .NET Framework 4.6.","pos":[7482,7580],"source":"The `.NETFramework,Version=4.6` framework represents the available APIs in the .NET Framework 4.6."},{"content":"You can produce libraries  compiled with the .NET Framework 4.6 reference assemblies and then distribute those libraries in NuGet packages in a net46 lib folder.","pos":[7581,7742]},{"content":"It will be used for apps that target the .NET Framework 4.6 or that are compatible with it.","pos":[7743,7834]},{"content":"This is how all frameworks have traditionally worked.","pos":[7835,7888]},{"content":"The <ph id=\"ph1\">`.NETStandard,Version=1.3`</ph> framework is a package-based framework.","pos":[7890,7960],"source":"The `.NETStandard,Version=1.3` framework is a package-based framework."},{"content":"It relies on packages that target the framework to define and expose APIs in terms of the framework.","pos":[7961,8061]},{"pos":[8066,8090],"content":"Package-based Frameworks","linkify":"Package-based Frameworks","nodes":[{"content":"Package-based Frameworks","pos":[0,24]}]},{"content":"There is a two-way relationship between frameworks and packages.","pos":[8092,8156]},{"content":"The first part is defining the APIs available for a given framework, for example <ph id=\"ph1\">`netstandard1.3`</ph>.","pos":[8157,8255],"source":" The first part is defining the APIs available for a given framework, for example `netstandard1.3`."},{"content":"Packages that target <ph id=\"ph1\">`netstandard1.3`</ph> (or compatible frameworks, like <ph id=\"ph2\">`netstandard1.0`</ph>) define the APIs available for <ph id=\"ph3\">`netstandard1.3`</ph>.","pos":[8256,8391],"source":" Packages that target `netstandard1.3` (or compatible frameworks, like `netstandard1.0`) define the APIs available for `netstandard1.3`."},{"content":"That may sound like a circular definition, but it isn't.","pos":[8392,8448]},{"content":"By virtue of being \"package-based\", the API definition for the framework comes from packages.","pos":[8449,8542]},{"content":"The framework itself doesn't define any APIs.","pos":[8543,8588]},{"content":"The second part of the relationship is asset selection.","pos":[8590,8645]},{"content":"Packages can contain assets for multiple frameworks.","pos":[8646,8698]},{"content":"Given a reference to a set of packages and/or metapackages, the framework is needed to determine which asset should be selected, for example <ph id=\"ph1\">`net46`</ph> or <ph id=\"ph2\">`netstandard1.3`</ph>.","pos":[8699,8868],"source":" Given a reference to a set of packages and/or metapackages, the framework is needed to determine which asset should be selected, for example `net46` or `netstandard1.3`."},{"content":"It is important to select the correct asset.","pos":[8869,8913]},{"content":"For example, a <ph id=\"ph1\">`net46`</ph> asset is not likely to be compatible with .NET Framework 4.0 or .NET Core 1.0.","pos":[8914,9015],"source":" For example, a `net46` asset is not likely to be compatible with .NET Framework 4.0 or .NET Core 1.0."},{"content":"Package-based Framework Composition","pos":[9019,9054]},{"content":"You can see this relationship in the image above.","pos":[9097,9146]},{"content":"The <bpt id=\"p1\">*</bpt>API<ept id=\"p1\">*</ept> targets and defines the <bpt id=\"p2\">*</bpt>framework<ept id=\"p2\">*</ept>.","pos":[9147,9193],"source":" The *API* targets and defines the *framework*."},{"content":"The <bpt id=\"p1\">*</bpt>framework<ept id=\"p1\">*</ept> is used for <bpt id=\"p2\">*</bpt>asset selection<ept id=\"p2\">*</ept>.","pos":[9194,9240],"source":" The *framework* is used for *asset selection*."},{"content":"The <bpt id=\"p1\">*</bpt>asset<ept id=\"p1\">*</ept> gives you the API.","pos":[9241,9271],"source":" The *asset* gives you the API."},{"content":"The two primary package-based frameworks used with .NET Core are:","pos":[9273,9338]},{"pos":[9376,9389],"content":".NET Standard","linkify":".NET Standard","nodes":[{"content":".NET Standard","pos":[0,13]}]},{"content":"The .NET Standard (target framework moniker: <ph id=\"ph1\">`netstandard`</ph>) framework represents the APIs defined by and built on top of the <bpt id=\"p1\">[</bpt>.NET Standard Library<ept id=\"p1\">](../standard/library.md)</ept>.","pos":[9391,9564],"source":"The .NET Standard (target framework moniker: `netstandard`) framework represents the APIs defined by and built on top of the [.NET Standard Library](../standard/library.md)."},{"content":"Libraries that are intended to run on multiple runtimes should target this framework.","pos":[9565,9650]},{"content":"They will be supported on any .NET Standard compliant runtime, such as .NET Core, .NET Framework and Mono/Xamarin.","pos":[9651,9765]},{"content":"Each of these runtimes supports a set of .NET Standard versions, depending on which APIs they implement.","pos":[9766,9870]},{"content":"The <ph id=\"ph1\">`netstandard`</ph> framework implicitly references the <ph id=\"ph2\">`NETStandard.Library`</ph> metapackage.","pos":[9873,9961],"source":"The `netstandard` framework implicitly references the `NETStandard.Library` metapackage."},{"content":"For example, the following MSBuild project file indicates that the project targets <ph id=\"ph1\">`netstandard1.6`</ph>, which references the .NET Standard Library version 1.6 metapackage.","pos":[9962,10130],"source":" For example, the following MSBuild project file indicates that the project targets `netstandard1.6`, which references the .NET Standard Library version 1.6 metapackage."},{"content":"However, the framework and metapackage references in the project file do not need to match, and you can use the <ph id=\"ph1\">`&lt;NetStandardImplicitPackageVersion&gt;`</ph> element in your project file to specify a framework version that is lower than the metapackage version.","pos":[10281,10534],"source":"However, the framework and metapackage references in the project file do not need to match, and you can use the `<NetStandardImplicitPackageVersion>` element in your project file to specify a framework version that is lower than the metapackage version."},{"content":"For example, the following project file is valid.","pos":[10535,10584]},{"content":"It may seem strange to target <ph id=\"ph1\">`netstandard1.3`</ph> but use the 1.6.0 version of <ph id=\"ph2\">`NETStandard.Library`</ph>.","pos":[10850,10948],"source":"It may seem strange to target `netstandard1.3` but use the 1.6.0 version of `NETStandard.Library`."},{"content":"It is a valid use-case, since the metapackage maintains support for older <ph id=\"ph1\">`netstandard`</ph> versions.","pos":[10949,11046],"source":" It is a valid use-case, since the metapackage maintains support for older `netstandard` versions."},{"content":"It could be the case you've standardized on the 1.6.0 version of the metapackage and use it for all your libraries, which target a variety of <ph id=\"ph1\">`netstandard`</ph> versions.","pos":[11047,11212],"source":" It could be the case you've standardized on the 1.6.0 version of the metapackage and use it for all your libraries, which target a variety of `netstandard` versions."},{"content":"With this approach, you only need to restore <ph id=\"ph1\">`NETStandard.Library`</ph> 1.6.0 and not earlier versions.","pos":[11213,11311],"source":" With this approach, you only need to restore `NETStandard.Library` 1.6.0 and not earlier versions."},{"content":"The reverse would not be valid: targeting <ph id=\"ph1\">`netstandard1.6`</ph> with the 1.3.0 version of <ph id=\"ph2\">`NETStandard.Library`</ph>.","pos":[11314,11421],"source":"The reverse would not be valid: targeting `netstandard1.6` with the 1.3.0 version of `NETStandard.Library`."},{"content":"You cannot target a higher framework with a lower metapackage, since the lower version metapackage will not expose any assets for that higher framework.","pos":[11422,11574]},{"content":"The versioning scheme for metapackages asserts that metapackages match the highest version of the framework they describe.","pos":[11575,11697]},{"content":"By virtue of the versioning scheme, the first version of <ph id=\"ph1\">`NETStandard.Library`</ph> is v1.6.0 given that it contains <ph id=\"ph2\">`netstandard1.6`</ph> assets.","pos":[11698,11834],"source":" By virtue of the versioning scheme, the first version of `NETStandard.Library` is v1.6.0 given that it contains `netstandard1.6` assets."},{"content":"v1.3.0 is used in the example above, for symmetry with the example above, but does not actually exist.","pos":[11835,11937]},{"pos":[11943,11964],"content":".NET Core Application","linkify":".NET Core Application","nodes":[{"content":".NET Core Application","pos":[0,21]}]},{"content":"The .NET Core Application (TFM: <ph id=\"ph1\">`netcoreapp`</ph>) framework represents the packages and associated APIs that come with the .NET Core distribution and the console application model that it provides.","pos":[11966,12159],"source":"The .NET Core Application (TFM: `netcoreapp`) framework represents the packages and associated APIs that come with the .NET Core distribution and the console application model that it provides."},{"content":".NET Core apps must use this framework, due to targeting the console application model, as should libraries that intended to run only on .NET Core.","pos":[12160,12307]},{"content":"Using this framework restricts apps and libraries to running only on .NET Core.","pos":[12308,12387]},{"content":"The <ph id=\"ph1\">`Microsoft.NETCore.App`</ph> metapackage targets the <ph id=\"ph2\">`netcoreapp`</ph> framework.","pos":[12390,12465],"source":"The `Microsoft.NETCore.App` metapackage targets the `netcoreapp` framework."},{"content":"It provides access to ~60 libraries, ~40 provided by the <ph id=\"ph1\">`NETStandard.Library`</ph> package and ~20 more in addition.","pos":[12466,12578],"source":" It provides access to ~60 libraries, ~40 provided by the `NETStandard.Library` package and ~20 more in addition."},{"content":"You can reference additional libraries that target <ph id=\"ph1\">`netcoreapp`</ph> or compatible frameworks, such as <ph id=\"ph2\">`netstandard`</ph>, to get access to additional APIs.","pos":[12579,12725],"source":" You can reference additional libraries that target `netcoreapp` or compatible frameworks, such as `netstandard`, to get access to additional APIs."},{"content":"Most of the additional libraries provided by <ph id=\"ph1\">`Microsoft.NETCore.App`</ph> also target <ph id=\"ph2\">`netstandard`</ph> given that their dependencies are satisfied by other <ph id=\"ph3\">`netstandard`</ph> libraries.","pos":[12728,12900],"source":"Most of the additional libraries provided by `Microsoft.NETCore.App` also target `netstandard` given that their dependencies are satisfied by other `netstandard` libraries."},{"content":"That means that <ph id=\"ph1\">`netstandard`</ph> libraries can also reference those packages as dependencies.","pos":[12901,12991],"source":" That means that `netstandard` libraries can also reference those packages as dependencies."}]}