{"content":"---\ntitle: \"How to: Change the Namespace for an Entire XML Tree (C#) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"2015-07-20\"\nms.prod: .net\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nms.assetid: 1584ff3b-c77d-4241-ab62-80adfb7bfc1b\ncaps.latest.revision: 3\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\n---\n# How to: Change the Namespace for an Entire XML Tree (C#)\nYou sometimes have to programmatically change the namespace for an element or an attribute. LINQ to XML makes this easy. The <xref:System.Xml.Linq.XElement.Name%2A?displayProperty=fullName> property can be set. The <xref:System.Xml.Linq.XAttribute.Name%2A?displayProperty=fullName> property cannot be set, but you can easily copy the attributes into a <xref:System.Collections.Generic.List%601?displayProperty=fullName>, remove the existing attributes, and then add new attributes that are in the new desired namespace.  \n  \n For more information, see [Working with XML Namespaces (C#)](../../../../csharp/programming-guide/concepts/linq/working-with-xml-namespaces.md).  \n  \n## Example  \n The following code creates two XML trees in no namespace. It then changes the namespace of each of the trees, and combines them into a single tree.  \n  \n```csharp  \nXElement tree1 = new XElement(\"Data\",  \n    new XElement(\"Child\", \"content\",  \n        new XAttribute(\"MyAttr\", \"content\")  \n    )  \n);  \nXElement tree2 = new XElement(\"Data\",  \n    new XElement(\"Child\", \"content\",  \n        new XAttribute(\"MyAttr\", \"content\")  \n    )  \n);  \nXNamespace aw = \"http://www.adventure-works.com\";  \nXNamespace ad = \"http://www.adatum.com\";  \n// change the namespace of every element and attribute in the first tree  \nforeach (XElement el in tree1.DescendantsAndSelf())  \n{  \n    el.Name = aw.GetName(el.Name.LocalName);  \n    List<XAttribute> atList = el.Attributes().ToList();  \n    el.Attributes().Remove();  \n    foreach (XAttribute at in atList)  \n        el.Add(new XAttribute(aw.GetName(at.Name.LocalName), at.Value));  \n}  \n// change the namespace of every element and attribute in the second tree  \nforeach (XElement el in tree2.DescendantsAndSelf())  \n{  \n    el.Name = ad.GetName(el.Name.LocalName);  \n    List<XAttribute> atList = el.Attributes().ToList();  \n    el.Attributes().Remove();  \n    foreach (XAttribute at in atList)  \n        el.Add(new XAttribute(ad.GetName(at.Name.LocalName), at.Value));  \n}  \n// add attribute namespaces so that the tree will be serialized with  \n// the aw and ad namespace prefixes  \ntree1.Add(  \n    new XAttribute(XNamespace.Xmlns + \"aw\", \"http://www.adventure-works.com\")  \n);  \ntree2.Add(  \n    new XAttribute(XNamespace.Xmlns + \"ad\", \"http://www.adatum.com\")  \n);  \n// create a new composite tree  \nXElement root = new XElement(\"Root\",  \n    tree1,  \n    tree2  \n);  \nConsole.WriteLine(root);  \n```  \n  \n This example produces the following output:  \n  \n```xml  \n<Root>  \n  <aw:Data xmlns:aw=\"http://www.adventure-works.com\">  \n    <aw:Child aw:MyAttr=\"content\">content</aw:Child>  \n  </aw:Data>  \n  <ad:Data xmlns:ad=\"http://www.adatum.com\">  \n    <ad:Child ad:MyAttr=\"content\">content</ad:Child>  \n  </ad:Data>  \n</Root>  \n```  \n  \n## See Also  \n [Modifying XML Trees (LINQ to XML) (C#)](../../../../csharp/programming-guide/concepts/linq/modifying-xml-trees-linq-to-xml.md)","nodes":[{"pos":[12,85],"content":"How to: Change the Namespace for an Entire XML Tree (C#) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Change the Namespace for an Entire XML Tree (C#) | Microsoft Docs","pos":[0,73]}]},{"pos":[370,426],"content":"How to: Change the Namespace for an Entire XML Tree (C#)","linkify":"How to: Change the Namespace for an Entire XML Tree (C#)","nodes":[{"content":"How to: Change the Namespace for an Entire XML Tree (C#)","pos":[0,56]}]},{"content":"You sometimes have to programmatically change the namespace for an element or an attribute.","pos":[427,518]},{"content":"LINQ to XML makes this easy.","pos":[519,547]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XElement.Name%2A?displayProperty=fullName&gt;</ph> property can be set.","pos":[548,637],"source":" The <xref:System.Xml.Linq.XElement.Name%2A?displayProperty=fullName> property can be set."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Linq.XAttribute.Name%2A?displayProperty=fullName&gt;</ph> property cannot be set, but you can easily copy the attributes into a <ph id=\"ph2\">&lt;xref:System.Collections.Generic.List%601?displayProperty=fullName&gt;</ph>, remove the existing attributes, and then add new attributes that are in the new desired namespace.","pos":[638,946],"source":" The <xref:System.Xml.Linq.XAttribute.Name%2A?displayProperty=fullName> property cannot be set, but you can easily copy the attributes into a <xref:System.Collections.Generic.List%601?displayProperty=fullName>, remove the existing attributes, and then add new attributes that are in the new desired namespace."},{"pos":[953,1097],"content":"For more information, see <bpt id=\"p1\">[</bpt>Working with XML Namespaces (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/working-with-xml-namespaces.md)</ept>.","source":"For more information, see [Working with XML Namespaces (C#)](../../../../csharp/programming-guide/concepts/linq/working-with-xml-namespaces.md)."},{"pos":[1106,1113],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code creates two XML trees in no namespace.","pos":[1117,1174]},{"content":"It then changes the namespace of each of the trees, and combines them into a single tree.","pos":[1175,1264]},{"content":"This example produces the following output:","pos":[2867,2910]},{"pos":[3199,3207],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3211,3338],"content":"<bpt id=\"p1\">[</bpt>Modifying XML Trees (LINQ to XML) (C#)<ept id=\"p1\">](../../../../csharp/programming-guide/concepts/linq/modifying-xml-trees-linq-to-xml.md)</ept>","source":"[Modifying XML Trees (LINQ to XML) (C#)](../../../../csharp/programming-guide/concepts/linq/modifying-xml-trees-linq-to-xml.md)"}]}