{"content":"---\ntitle: \"Rules for Inferring Simple Types\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 394624d6-4da0-430a-8a88-46efe40f14de\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Rules for Inferring Simple Types\nDescribes how the <xref:System.Xml.Schema.XmlSchemaInference> class infers the data type for attributes and elements.  \n  \n The <xref:System.Xml.Schema.XmlSchemaInference> class infers the data type for attributes and elements as simple types. This section describes the potential inferred types, how multiple differing values are reconciled to a single type, and how schema-defining `xsi` attributes are handled.  \n  \n## Inferred Types  \n The <xref:System.Xml.Schema.XmlSchemaInference> class infers element and attribute values as simple types and includes a type attribute in the resulting schema. All inferred types are simple types. No base types or facets are included as part of the resulting schema.  \n  \n Values are examined individually as they are encountered in the XML document. The type is inferred for a value at the time it is examined. If a type has been inferred for an attribute or element, and a value for the attribute or element is encountered that does not match the currently inferred type, the <xref:System.Xml.Schema.XmlSchemaInference> class promotes the type for each of a set of rules. These rules are discussed in the Type Promotion section, later in this topic.  \n  \n The following table lists the possible inferred types for the resulting schema.  \n  \n|Simple Type|Description|  \n|-----------------|-----------------|  \n|boolean|True, false, 0, 1.|  \n|byte|Integers in the range of –128 to 127.|  \n|unsignedByte|Integers in the range of 0 to 255.|  \n|short|Integers in the range of –32768 to 32767.|  \n|unsignedShort|Integers in the range of 0 to 65535.|  \n|int|Integers in the range of –2147483648 to 2147483647.|  \n|unsignedInt|Integers in the range of 0 to 4294967295.|  \n|long|Integers in the range of –9223372036854775808 to 9223372036854775807.|  \n|unsignedLong|Integers in the range of 0 to 18446744073709551615.|  \n|integer|A finite number of digits possibly prefixed with \"-\".|  \n|decimal|Numerical values that contain from 0 to 28 digits of precision.|  \n|float|Decimals optionally followed by \"E\" or \"e\" followed by an integer value representing the exponent. Decimal values can be in the range of -16777216 to 16777216. Exponent values can be in the range of –149 to 104.<br /><br /> Float allows for special values to represent infinity and non-numeric values. Special values for float are: 0, -0, INF, -INF, NaN.|  \n|double|The same as float except decimal values can be in the range of -9007199254740992 to 9007199254740992, and exponent values can be in the range of –1075 to 970.<br /><br /> Double allows for special values to represent infinity and non-numeric values. Special values for float are: 0, -0, INF, -INF, NaN.|  \n|duration|The W3C duration format.|  \n|dateTime|The W3C dateTime format.|  \n|time|The W3C time format.|  \n|date|Year values are restricted from 0001 to 9999.|  \n|gYearMonth|The W3C Gregorian month and year format.|  \n|string|One or more Unicode characters.|  \n  \n## Type Promotion  \n The <xref:System.Xml.Schema.XmlSchemaInference> class examines attribute and element values one at a time. As values are encountered, the most restrictive, unsigned type is inferred. If a type has been inferred for an attribute or element, and a new value is encountered that does not match the currently inferred type, the inferred type is promoted to a new type that applies to both the currently inferred type and the new value. The <xref:System.Xml.Schema.XmlSchemaInference> class does consider previous values when promoting the inferred type.  \n  \n For example, consider the following XML fragments from two XML documents:  \n  \n `<MyElement1 attr1=\"12\" />`  \n  \n `<MyElement1 attr1=\"52344\" />`  \n  \n When the first `attr1` value is encountered, the type of `attr1` is inferred as `unsignedByte` based on the value `12`. When the second `attr1` is encountered, the type is promoted to `unsignedShort` based on the currently inferred type of `unsignedByte` and the current value `52344`.  \n  \n Now, consider the following XML from two XML documents:  \n  \n `<MyElement2 attr2=\"0\" />`  \n  \n `<MyElement2 attr2=\"true\" />`  \n  \n When the first `attr2` value is encountered, the type of `attr2` is inferred as `unsignedByte` based on the value `0`. When the second `attr2` is encountered, the type is promoted to `string` based on the currently inferred type of `unsignedByte` and the current value `true` because the <xref:System.Xml.Schema.XmlSchemaInference> class does consider previous values when promoting the inferred type. However, if both instances of `attr2` were encountered in the same XML document and not in two different XML documents as illustrated above, `attr2` would have been inferred as `boolean`.  \n  \n### Ignored attributes from the <https://www.w3.org/2001/XMLSchema-instance> namespace\n\nThe following are schema-defining attributes that are ignored during schema inference.  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`xsi:type`|If an element is encountered with `xsi:type` specified, the `xsi:type` is ignored.|  \n|`xsi:nil`|If an element with an `xsi:nil` attribute is encountered, its element declaration in the inferred schema has the value of `nillable=\"true\"`. An element with an `xsi:nil` attribute set to `true` cannot have child elements.|  \n|`xsi:schemaLocation`|If `xsi:schemaLocation` is encountered, it is ignored.|  \n|`xsi:noNamespaceSchemaLocation`|If `xsi:noNamespaceSchemaLocation` is encountered, it is ignored.|  \n  \n## See also\n\n- [XML Schema Object Model (SOM)](../../../../docs/standard/data/xml/xml-schema-object-model-som.md)\n- [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)\n- [Rules for Inferring Schema Node Types and Structure](../../../../docs/standard/data/xml/rules-for-inferring-schema-node-types-and-structure.md)\n","nodes":[{"pos":[4,184],"embed":true,"restype":"x-metadata","content":"title: \"Rules for Inferring Simple Types\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 394624d6-4da0-430a-8a88-46efe40f14de\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Rules for Inferring Simple Types","nodes":[{"pos":[0,32],"content":"Rules for Inferring Simple Types","nodes":[{"content":"Rules for Inferring Simple Types","pos":[0,32]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[191,223],"content":"Rules for Inferring Simple Types","linkify":"Rules for Inferring Simple Types","nodes":[{"content":"Rules for Inferring Simple Types","pos":[0,32]}]},{"pos":[224,341],"content":"Describes how the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class infers the data type for attributes and elements.","source":"Describes how the <xref:System.Xml.Schema.XmlSchemaInference> class infers the data type for attributes and elements."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class infers the data type for attributes and elements as simple types.","pos":[348,467],"source":"The <xref:System.Xml.Schema.XmlSchemaInference> class infers the data type for attributes and elements as simple types."},{"content":"This section describes the potential inferred types, how multiple differing values are reconciled to a single type, and how schema-defining <ph id=\"ph1\">`xsi`</ph> attributes are handled.","pos":[468,637],"source":" This section describes the potential inferred types, how multiple differing values are reconciled to a single type, and how schema-defining `xsi` attributes are handled."},{"pos":[646,660],"content":"Inferred Types","linkify":"Inferred Types","nodes":[{"content":"Inferred Types","pos":[0,14]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class infers element and attribute values as simple types and includes a type attribute in the resulting schema.","pos":[664,824],"source":"The <xref:System.Xml.Schema.XmlSchemaInference> class infers element and attribute values as simple types and includes a type attribute in the resulting schema."},{"content":"All inferred types are simple types.","pos":[825,861]},{"content":"No base types or facets are included as part of the resulting schema.","pos":[862,931]},{"content":"Values are examined individually as they are encountered in the XML document.","pos":[938,1015]},{"content":"The type is inferred for a value at the time it is examined.","pos":[1016,1076]},{"content":"If a type has been inferred for an attribute or element, and a value for the attribute or element is encountered that does not match the currently inferred type, the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class promotes the type for each of a set of rules.","pos":[1077,1338],"source":" If a type has been inferred for an attribute or element, and a value for the attribute or element is encountered that does not match the currently inferred type, the <xref:System.Xml.Schema.XmlSchemaInference> class promotes the type for each of a set of rules."},{"content":"These rules are discussed in the Type Promotion section, later in this topic.","pos":[1339,1416]},{"content":"The following table lists the possible inferred types for the resulting schema.","pos":[1423,1502]},{"content":"Simple Type","pos":[1509,1520]},{"content":"Description","pos":[1521,1532]},{"content":"boolean","pos":[1577,1584]},{"content":"True, false, 0, 1.","pos":[1585,1603]},{"content":"byte","pos":[1608,1612]},{"content":"Integers in the range of –128 to 127.","pos":[1613,1650]},{"content":"unsignedByte","pos":[1655,1667]},{"content":"Integers in the range of 0 to 255.","pos":[1668,1702]},{"content":"short","pos":[1707,1712]},{"content":"Integers in the range of –32768 to 32767.","pos":[1713,1754]},{"content":"unsignedShort","pos":[1759,1772]},{"content":"Integers in the range of 0 to 65535.","pos":[1773,1809]},{"content":"int","pos":[1814,1817]},{"content":"Integers in the range of –2147483648 to 2147483647.","pos":[1818,1869]},{"content":"unsignedInt","pos":[1874,1885]},{"content":"Integers in the range of 0 to 4294967295.","pos":[1886,1927]},{"content":"long","pos":[1932,1936]},{"content":"Integers in the range of –9223372036854775808 to 9223372036854775807.","pos":[1937,2006]},{"content":"unsignedLong","pos":[2011,2023]},{"content":"Integers in the range of 0 to 18446744073709551615.","pos":[2024,2075]},{"content":"integer","pos":[2080,2087]},{"content":"A finite number of digits possibly prefixed with \"-\".","pos":[2088,2141]},{"content":"decimal","pos":[2146,2153]},{"content":"Numerical values that contain from 0 to 28 digits of precision.","pos":[2154,2217]},{"content":"float","pos":[2222,2227]},{"content":"Decimals optionally followed by \"E\" or \"e\" followed by an integer value representing the exponent.","pos":[2228,2326]},{"content":"Decimal values can be in the range of -16777216 to 16777216.","pos":[2327,2387]},{"content":"Exponent values can be in the range of –149 to 104.","pos":[2388,2439]},{"content":"Float allows for special values to represent infinity and non-numeric values.","pos":[2452,2529]},{"content":"Special values for float are: 0, -0, INF, -INF, NaN.","pos":[2530,2582]},{"content":"double","pos":[2587,2593]},{"content":"The same as float except decimal values can be in the range of -9007199254740992 to 9007199254740992, and exponent values can be in the range of –1075 to 970.","pos":[2594,2752]},{"content":"Double allows for special values to represent infinity and non-numeric values.","pos":[2765,2843]},{"content":"Special values for float are: 0, -0, INF, -INF, NaN.","pos":[2844,2896]},{"content":"duration","pos":[2901,2909]},{"content":"The W3C duration format.","pos":[2910,2934]},{"content":"dateTime","pos":[2939,2947]},{"content":"The W3C dateTime format.","pos":[2948,2972]},{"content":"time","pos":[2977,2981]},{"content":"The W3C time format.","pos":[2982,3002]},{"content":"date","pos":[3007,3011]},{"content":"Year values are restricted from 0001 to 9999.","pos":[3012,3057]},{"content":"gYearMonth","pos":[3062,3072]},{"content":"The W3C Gregorian month and year format.","pos":[3073,3113]},{"content":"string","pos":[3118,3124]},{"content":"One or more Unicode characters.","pos":[3125,3156]},{"pos":[3166,3180],"content":"Type Promotion","linkify":"Type Promotion","nodes":[{"content":"Type Promotion","pos":[0,14]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class examines attribute and element values one at a time.","pos":[3184,3290],"source":"The <xref:System.Xml.Schema.XmlSchemaInference> class examines attribute and element values one at a time."},{"content":"As values are encountered, the most restrictive, unsigned type is inferred.","pos":[3291,3366]},{"content":"If a type has been inferred for an attribute or element, and a new value is encountered that does not match the currently inferred type, the inferred type is promoted to a new type that applies to both the currently inferred type and the new value.","pos":[3367,3615]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class does consider previous values when promoting the inferred type.","pos":[3616,3733],"source":" The <xref:System.Xml.Schema.XmlSchemaInference> class does consider previous values when promoting the inferred type."},{"content":"For example, consider the following XML fragments from two XML documents:","pos":[3740,3813]},{"content":"When the first <ph id=\"ph1\">`attr1`</ph> value is encountered, the type of <ph id=\"ph2\">`attr1`</ph> is inferred as <ph id=\"ph3\">`unsignedByte`</ph> based on the value <ph id=\"ph4\">`12`</ph>.","pos":[3891,4010],"source":"When the first `attr1` value is encountered, the type of `attr1` is inferred as `unsignedByte` based on the value `12`."},{"content":"When the second <ph id=\"ph1\">`attr1`</ph> is encountered, the type is promoted to <ph id=\"ph2\">`unsignedShort`</ph> based on the currently inferred type of <ph id=\"ph3\">`unsignedByte`</ph> and the current value <ph id=\"ph4\">`52344`</ph>.","pos":[4011,4176],"source":" When the second `attr1` is encountered, the type is promoted to `unsignedShort` based on the currently inferred type of `unsignedByte` and the current value `52344`."},{"content":"Now, consider the following XML from two XML documents:","pos":[4183,4238]},{"content":"When the first <ph id=\"ph1\">`attr2`</ph> value is encountered, the type of <ph id=\"ph2\">`attr2`</ph> is inferred as <ph id=\"ph3\">`unsignedByte`</ph> based on the value <ph id=\"ph4\">`0`</ph>.","pos":[4314,4432],"source":"When the first `attr2` value is encountered, the type of `attr2` is inferred as `unsignedByte` based on the value `0`."},{"content":"When the second <ph id=\"ph1\">`attr2`</ph> is encountered, the type is promoted to <ph id=\"ph2\">`string`</ph> based on the currently inferred type of <ph id=\"ph3\">`unsignedByte`</ph> and the current value <ph id=\"ph4\">`true`</ph> because the <ph id=\"ph5\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class does consider previous values when promoting the inferred type.","pos":[4433,4715],"source":" When the second `attr2` is encountered, the type is promoted to `string` based on the currently inferred type of `unsignedByte` and the current value `true` because the <xref:System.Xml.Schema.XmlSchemaInference> class does consider previous values when promoting the inferred type."},{"content":"However, if both instances of <ph id=\"ph1\">`attr2`</ph> were encountered in the same XML document and not in two different XML documents as illustrated above, <ph id=\"ph2\">`attr2`</ph> would have been inferred as <ph id=\"ph3\">`boolean`</ph>.","pos":[4716,4903],"source":" However, if both instances of `attr2` were encountered in the same XML document and not in two different XML documents as illustrated above, `attr2` would have been inferred as `boolean`."},{"pos":[4913,4995],"content":"Ignored attributes from the <ph id=\"ph1\">&lt;https://www.w3.org/2001/XMLSchema-instance&gt;</ph> namespace","linkify":"Ignored attributes from the <https://www.w3.org/2001/XMLSchema-instance> namespace","source":"Ignored attributes from the <https://www.w3.org/2001/XMLSchema-instance> namespace"},{"content":"The following are schema-defining attributes that are ignored during schema inference.","pos":[4997,5083]},{"content":"Attribute","pos":[5090,5099]},{"content":"Description","pos":[5100,5111]},{"pos":[5165,5247],"content":"If an element is encountered with <ph id=\"ph1\">`xsi:type`</ph> specified, the <ph id=\"ph2\">`xsi:type`</ph> is ignored.","source":"If an element is encountered with `xsi:type` specified, the `xsi:type` is ignored."},{"content":"If an element with an <ph id=\"ph1\">`xsi:nil`</ph> attribute is encountered, its element declaration in the inferred schema has the value of <ph id=\"ph2\">`nillable=\"true\"`</ph>.","pos":[5262,5402],"source":"If an element with an `xsi:nil` attribute is encountered, its element declaration in the inferred schema has the value of `nillable=\"true\"`."},{"content":"An element with an <ph id=\"ph1\">`xsi:nil`</ph> attribute set to <ph id=\"ph2\">`true`</ph> cannot have child elements.","pos":[5403,5483],"source":" An element with an `xsi:nil` attribute set to `true` cannot have child elements."},{"pos":[5509,5563],"content":"If <ph id=\"ph1\">`xsi:schemaLocation`</ph> is encountered, it is ignored.","source":"If `xsi:schemaLocation` is encountered, it is ignored."},{"pos":[5600,5665],"content":"If <ph id=\"ph1\">`xsi:noNamespaceSchemaLocation`</ph> is encountered, it is ignored.","source":"If `xsi:noNamespaceSchemaLocation` is encountered, it is ignored."},{"pos":[5675,5683],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5687,5785],"content":"<bpt id=\"p1\">[</bpt>XML Schema Object Model (SOM)<ept id=\"p1\">](../../../../docs/standard/data/xml/xml-schema-object-model-som.md)</ept>","source":"[XML Schema Object Model (SOM)](../../../../docs/standard/data/xml/xml-schema-object-model-som.md)"},{"pos":[5788,5902],"content":"<bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>","source":"[Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)"},{"pos":[5905,6049],"content":"<bpt id=\"p1\">[</bpt>Rules for Inferring Schema Node Types and Structure<ept id=\"p1\">](../../../../docs/standard/data/xml/rules-for-inferring-schema-node-types-and-structure.md)</ept>","source":"[Rules for Inferring Schema Node Types and Structure](../../../../docs/standard/data/xml/rules-for-inferring-schema-node-types-and-structure.md)"}]}