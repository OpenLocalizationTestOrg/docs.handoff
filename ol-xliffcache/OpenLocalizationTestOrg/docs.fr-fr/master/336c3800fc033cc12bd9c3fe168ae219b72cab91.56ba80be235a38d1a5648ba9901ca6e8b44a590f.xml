{"content":"---\ntitle: \"How to: Configure an IIS-hosted WCF service with SSL\"\nms.date: \"03/30/2017\"\nms.assetid: df2fe31f-a4bb-4024-92ca-b74ba055e038\n---\n# How to: Configure an IIS-hosted WCF service with SSL\nThis topic describes how to set up an IIS-hosted WCF service to use HTTP transport security. HTTP transport security requires an SSL certificate to be registered with IIS. If you do not have an SSL certificate you can use IIS to generate a test certificate. Next you must add an SSL binding to the web site and configure the web site’s authentication properties. Finally you need to configure the WCF service to use HTTPS.  \n  \n### Creating a Self-Signed Certificate  \n  \n1.  Open Internet Information Services Manager (inetmgr.exe), and select your computer name in the left-hand tree view. On the right-hand side of the screen select Server Certificates  \n  \n     ![IIS Manager Home Screen](../../../../docs/framework/wcf/feature-details/media/mg-inetmgrhome.jpg \"mg_INetMgrHome\")  \n  \n2.  In the Server Certificates window click the **Create Self-Signed Certificate….** Link.  \n  \n     ![Creating a self&#45;signed certificate with IIS](../../../../docs/framework/wcf/feature-details/media/mg-createselfsignedcert.jpg \"mg_CreateSelfSignedCert\")  \n  \n3.  Enter a friendly name for the self-signed certificate and click **OK**.  \n  \n     ![Create Self&#45;Signed Certificate Dialog](../../../../docs/framework/wcf/feature-details/media/mg-mycert.jpg \"mg_MyCert\")  \n  \n     The newly created self-signed certificate details are now shown in the **Server Certificates** window.  \n  \n     ![Server Certificate Window](../../../../docs/framework/wcf/feature-details/media/mg-servercertificatewindow.jpg \"mg_ServerCertificateWindow\")  \n  \n     The generated certificate is installed in the Trusted Root Certification Authorities store.  \n  \n### Add SSL Binding  \n  \n1.  Still in Internet Information Services Manager, expand the **Sites** folder and then the **Default Web Site** folder in the tree view on the left-hand side of the screen.  \n  \n2.  Click the **Bindings….** Link in the **Actions** section in the upper right hand portion of the window.  \n  \n     ![Adding an SSL binding](../../../../docs/framework/wcf/feature-details/media/mg-addsslbinding.jpg \"mg_AddSSLBinding\")  \n  \n3.  In the Site Bindings window click the **Add** button.  \n  \n     ![Site Bindings Dialog](../../../../docs/framework/wcf/feature-details/media/mg-sitebindingsdialog.jpg \"mg_SiteBindingsDialog\")  \n  \n4.  In the **Add Site Binding** dialog, select https for the type and the friendly name of the self-signed certificate you just created.  \n  \n     ![Site binding example](../../../../docs/framework/wcf/feature-details/media/mg-mycertbinding.jpg \"mg_MyCertBinding\")  \n  \n### Configure Virtual Directory for SSL  \n  \n1.  Still in Internet Information Services Manager, select the virtual directory that contains your WCF secure service.  \n  \n2.  In the center pane of the window, select **SSL Settings** in the IIS section.  \n  \n     ![SSL Settings for virtual directory](../../../../docs/framework/wcf/feature-details/media/mg-sslsettingsforvdir.jpg \"mg_SSLSettingsForVDir\")  \n  \n3.  In the SSL Settings pane, select the **Require SSL** checkbox and click the **Apply** link in the **Actions** section on the right hand side of the screen.  \n  \n     ![Virtual directory SSL settings](../../../../docs/framework/wcf/feature-details/media/mg-vdirsslsettings.JPG \"mg_VDirSSLSettings\")  \n  \n### Configure WCF Service for HTTP Transport Security  \n  \n1.  In the WCF service’s web.config configure the HTTP binding to use transport security as shown in the following XML.  \n  \n    ```xml  \n    <bindings>  \n          <basicHttpBinding>  \n            <binding name=\"secureHttpBinding\">  \n              <security mode=\"Transport\">  \n                <transport clientCredentialType=\"None\"/>  \n              </security>  \n            </binding>  \n          </basicHttpBinding>  \n    </bindings>  \n    ```  \n  \n2.  Specify your service and service endpoint as shown in the following XML.  \n  \n    ```xml  \n    <services>  \n          <service name=\"MySecureWCFService.Service1\">  \n            <endpoint address=\"\"  \n                      binding=\"basicHttpBinding\"  \n                      bindingConfiguration=\"secureHttpBinding\"  \n                      contract=\"MySecureWCFService.IService1\"/>  \n  \n            <endpoint address=\"mex\"  \n                      binding=\"mexHttpsBinding\"  \n                      contract=\"IMetadataExchange\" />  \n          </service>  \n    </services>  \n    ```  \n  \n## Example  \n The following is a complete example of a web.config file for a WCF service using HTTP transport security  \n  \n```xml  \n<?xml version=\"1.0\"?>  \n<configuration>  \n  \n  <system.web>  \n    <compilation debug=\"true\" targetFramework=\"4.0\" />  \n  </system.web>  \n  <system.serviceModel>  \n    <services>  \n      <service name=\"MySecureWCFService.Service1\">  \n        <endpoint address=\"\"  \n                  binding=\"basicHttpBinding\"  \n                  bindingConfiguration=\"secureHttpBinding\"  \n                  contract=\"MySecureWCFService.IService1\"/>  \n  \n        <endpoint address=\"mex\"  \n                  binding=\"mexHttpsBinding\"  \n                  contract=\"IMetadataExchange\" />  \n      </service>  \n    </services>  \n    <bindings>  \n      <basicHttpBinding>  \n        <binding name=\"secureHttpBinding\">  \n          <security mode=\"Transport\">  \n            <transport clientCredentialType=\"None\"/>  \n          </security>  \n        </binding>  \n      </basicHttpBinding>  \n    </bindings>  \n    <behaviors>  \n      <serviceBehaviors>  \n        <behavior>  \n          <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->  \n          <serviceMetadata httpsGetEnabled=\"true\"/>  \n          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->  \n          <serviceDebug includeExceptionDetailInFaults=\"false\"/>  \n        </behavior>  \n      </serviceBehaviors>  \n    </behaviors>  \n    <serviceHostingEnvironment multipleSiteBindingsEnabled=\"true\" />  \n  </system.serviceModel>  \n  <system.webServer>  \n    <modules runAllManagedModulesForAllRequests=\"true\"/>  \n  </system.webServer>  \n  \n</configuration>  \n```  \n  \n## See also\n\n- [Hosting in Internet Information Services](../../../../docs/framework/wcf/feature-details/hosting-in-internet-information-services.md)\n- [Internet Information Service Hosting Instructions](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md)\n- [Internet Information Services Hosting Best Practices](../../../../docs/framework/wcf/feature-details/internet-information-services-hosting-best-practices.md)\n- [IIS Hosting Using Inline Code](../../../../docs/framework/wcf/samples/iis-hosting-using-inline-code.md)\n","nodes":[{"pos":[4,136],"embed":true,"restype":"x-metadata","content":"title: \"How to: Configure an IIS-hosted WCF service with SSL\"\nms.date: \"03/30/2017\"\nms.assetid: df2fe31f-a4bb-4024-92ca-b74ba055e038","nodes":[{"content":"How to: Configure an IIS-hosted WCF service with SSL","nodes":[{"pos":[0,52],"content":"How to: Configure an IIS-hosted WCF service with SSL","nodes":[{"content":"How to: Configure an IIS-hosted WCF service with SSL","pos":[0,52]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[143,195],"content":"How to: Configure an IIS-hosted WCF service with SSL","linkify":"How to: Configure an IIS-hosted WCF service with SSL","nodes":[{"content":"How to: Configure an IIS-hosted WCF service with SSL","pos":[0,52]}]},{"content":"This topic describes how to set up an IIS-hosted WCF service to use HTTP transport security.","pos":[196,288]},{"content":"HTTP transport security requires an SSL certificate to be registered with IIS.","pos":[289,367]},{"content":"If you do not have an SSL certificate you can use IIS to generate a test certificate.","pos":[368,453]},{"content":"Next you must add an SSL binding to the web site and configure the web site’s authentication properties.","pos":[454,558]},{"content":"Finally you need to configure the WCF service to use HTTPS.","pos":[559,618]},{"pos":[628,662],"content":"Creating a Self-Signed Certificate","linkify":"Creating a Self-Signed Certificate","nodes":[{"content":"Creating a Self-Signed Certificate","pos":[0,34]}]},{"content":"Open Internet Information Services Manager (inetmgr.exe), and select your computer name in the left-hand tree view.","pos":[672,787]},{"content":"On the right-hand side of the screen select Server Certificates","pos":[788,851]},{"pos":[862,978],"content":"<bpt id=\"p1\">![</bpt>IIS Manager Home Screen<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-inetmgrhome.jpg \"</bpt>mg_INetMgrHome<ept id=\"p2\">\")</ept>","source":"![IIS Manager Home Screen](../../../../docs/framework/wcf/feature-details/media/mg-inetmgrhome.jpg \"mg_INetMgrHome\")"},{"content":"In the Server Certificates window click the <bpt id=\"p1\">**</bpt>Create Self-Signed Certificate….<ept id=\"p1\">**</ept>","pos":[988,1068],"source":"In the Server Certificates window click the **Create Self-Signed Certificate….**"},{"content":"Link.","pos":[1069,1074]},{"pos":[1085,1243],"content":"<bpt id=\"p1\">![</bpt>Creating a self&amp;#45;signed certificate with IIS<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-createselfsignedcert.jpg \"</bpt>mg_CreateSelfSignedCert<ept id=\"p2\">\")</ept>","source":"![Creating a self&#45;signed certificate with IIS](../../../../docs/framework/wcf/feature-details/media/mg-createselfsignedcert.jpg \"mg_CreateSelfSignedCert\")"},{"pos":[1253,1324],"content":"Enter a friendly name for the self-signed certificate and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Enter a friendly name for the self-signed certificate and click **OK**."},{"pos":[1335,1459],"content":"<bpt id=\"p1\">![</bpt>Create Self&amp;#45;Signed Certificate Dialog<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-mycert.jpg \"</bpt>mg_MyCert<ept id=\"p2\">\")</ept>","source":"![Create Self&#45;Signed Certificate Dialog](../../../../docs/framework/wcf/feature-details/media/mg-mycert.jpg \"mg_MyCert\")"},{"pos":[1470,1572],"content":"The newly created self-signed certificate details are now shown in the <bpt id=\"p1\">**</bpt>Server Certificates<ept id=\"p1\">**</ept> window.","source":"The newly created self-signed certificate details are now shown in the **Server Certificates** window."},{"pos":[1583,1725],"content":"<bpt id=\"p1\">![</bpt>Server Certificate Window<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-servercertificatewindow.jpg \"</bpt>mg_ServerCertificateWindow<ept id=\"p2\">\")</ept>","source":"![Server Certificate Window](../../../../docs/framework/wcf/feature-details/media/mg-servercertificatewindow.jpg \"mg_ServerCertificateWindow\")"},{"content":"The generated certificate is installed in the Trusted Root Certification Authorities store.","pos":[1736,1827]},{"pos":[1837,1852],"content":"Add SSL Binding","linkify":"Add SSL Binding","nodes":[{"content":"Add SSL Binding","pos":[0,15]}]},{"pos":[1862,2032],"content":"Still in Internet Information Services Manager, expand the <bpt id=\"p1\">**</bpt>Sites<ept id=\"p1\">**</ept> folder and then the <bpt id=\"p2\">**</bpt>Default Web Site<ept id=\"p2\">**</ept> folder in the tree view on the left-hand side of the screen.","source":"Still in Internet Information Services Manager, expand the **Sites** folder and then the **Default Web Site** folder in the tree view on the left-hand side of the screen."},{"content":"Click the <bpt id=\"p1\">**</bpt>Bindings….<ept id=\"p1\">**</ept>","pos":[2042,2066],"source":"Click the **Bindings….**"},{"content":"Link in the <bpt id=\"p1\">**</bpt>Actions<ept id=\"p1\">**</ept> section in the upper right hand portion of the window.","pos":[2067,2145],"source":" Link in the **Actions** section in the upper right hand portion of the window."},{"pos":[2156,2274],"content":"<bpt id=\"p1\">![</bpt>Adding an SSL binding<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-addsslbinding.jpg \"</bpt>mg_AddSSLBinding<ept id=\"p2\">\")</ept>","source":"![Adding an SSL binding](../../../../docs/framework/wcf/feature-details/media/mg-addsslbinding.jpg \"mg_AddSSLBinding\")"},{"pos":[2284,2337],"content":"In the Site Bindings window click the <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> button.","source":"In the Site Bindings window click the **Add** button."},{"pos":[2348,2475],"content":"<bpt id=\"p1\">![</bpt>Site Bindings Dialog<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-sitebindingsdialog.jpg \"</bpt>mg_SiteBindingsDialog<ept id=\"p2\">\")</ept>","source":"![Site Bindings Dialog](../../../../docs/framework/wcf/feature-details/media/mg-sitebindingsdialog.jpg \"mg_SiteBindingsDialog\")"},{"pos":[2485,2617],"content":"In the <bpt id=\"p1\">**</bpt>Add Site Binding<ept id=\"p1\">**</ept> dialog, select https for the type and the friendly name of the self-signed certificate you just created.","source":"In the **Add Site Binding** dialog, select https for the type and the friendly name of the self-signed certificate you just created."},{"pos":[2628,2745],"content":"<bpt id=\"p1\">![</bpt>Site binding example<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-mycertbinding.jpg \"</bpt>mg_MyCertBinding<ept id=\"p2\">\")</ept>","source":"![Site binding example](../../../../docs/framework/wcf/feature-details/media/mg-mycertbinding.jpg \"mg_MyCertBinding\")"},{"pos":[2755,2790],"content":"Configure Virtual Directory for SSL","linkify":"Configure Virtual Directory for SSL","nodes":[{"content":"Configure Virtual Directory for SSL","pos":[0,35]}]},{"content":"Still in Internet Information Services Manager, select the virtual directory that contains your WCF secure service.","pos":[2800,2915]},{"pos":[2925,3002],"content":"In the center pane of the window, select <bpt id=\"p1\">**</bpt>SSL Settings<ept id=\"p1\">**</ept> in the IIS section.","source":"In the center pane of the window, select **SSL Settings** in the IIS section."},{"pos":[3013,3154],"content":"<bpt id=\"p1\">![</bpt>SSL Settings for virtual directory<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-sslsettingsforvdir.jpg \"</bpt>mg_SSLSettingsForVDir<ept id=\"p2\">\")</ept>","source":"![SSL Settings for virtual directory](../../../../docs/framework/wcf/feature-details/media/mg-sslsettingsforvdir.jpg \"mg_SSLSettingsForVDir\")"},{"pos":[3164,3319],"content":"In the SSL Settings pane, select the <bpt id=\"p1\">**</bpt>Require SSL<ept id=\"p1\">**</ept> checkbox and click the <bpt id=\"p2\">**</bpt>Apply<ept id=\"p2\">**</ept> link in the <bpt id=\"p3\">**</bpt>Actions<ept id=\"p3\">**</ept> section on the right hand side of the screen.","source":"In the SSL Settings pane, select the **Require SSL** checkbox and click the **Apply** link in the **Actions** section on the right hand side of the screen."},{"pos":[3330,3461],"content":"<bpt id=\"p1\">![</bpt>Virtual directory SSL settings<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/wcf/feature-details/media/mg-vdirsslsettings.JPG \"</bpt>mg_VDirSSLSettings<ept id=\"p2\">\")</ept>","source":"![Virtual directory SSL settings](../../../../docs/framework/wcf/feature-details/media/mg-vdirsslsettings.JPG \"mg_VDirSSLSettings\")"},{"pos":[3471,3520],"content":"Configure WCF Service for HTTP Transport Security","linkify":"Configure WCF Service for HTTP Transport Security","nodes":[{"content":"Configure WCF Service for HTTP Transport Security","pos":[0,49]}]},{"content":"In the WCF service’s web.config configure the HTTP binding to use transport security as shown in the following XML.","pos":[3530,3645]},{"content":"Specify your service and service endpoint as shown in the following XML.","pos":[3984,4056]},{"pos":[4570,4577],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following is a complete example of a web.config file for a WCF service using HTTP transport security","pos":[4581,4685]},{"pos":[6411,6419],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6423,6557],"content":"<bpt id=\"p1\">[</bpt>Hosting in Internet Information Services<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/hosting-in-internet-information-services.md)</ept>","source":"[Hosting in Internet Information Services](../../../../docs/framework/wcf/feature-details/hosting-in-internet-information-services.md)"},{"pos":[6560,6704],"content":"<bpt id=\"p1\">[</bpt>Internet Information Service Hosting Instructions<ept id=\"p1\">](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md)</ept>","source":"[Internet Information Service Hosting Instructions](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md)"},{"pos":[6707,6865],"content":"<bpt id=\"p1\">[</bpt>Internet Information Services Hosting Best Practices<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/internet-information-services-hosting-best-practices.md)</ept>","source":"[Internet Information Services Hosting Best Practices](../../../../docs/framework/wcf/feature-details/internet-information-services-hosting-best-practices.md)"},{"pos":[6868,6972],"content":"<bpt id=\"p1\">[</bpt>IIS Hosting Using Inline Code<ept id=\"p1\">](../../../../docs/framework/wcf/samples/iis-hosting-using-inline-code.md)</ept>","source":"[IIS Hosting Using Inline Code](../../../../docs/framework/wcf/samples/iis-hosting-using-inline-code.md)"}]}