{"content":"---\ntitle: \"How to: Use a Color Matrix to Set Alpha Values in Images | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"images [Windows Forms], using color matrices for semi-transparent\"\n  - \"transparency, color matrices\"\n  - \"matrices, alpha values\"\n  - \"bitmaps [Windows Forms], using color matrices for semi-transparent\"\nms.assetid: a27121e6-f7e9-4c09-84e2-f05aa9d2a1bb\ncaps.latest.revision: 13\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# How to: Use a Color Matrix to Set Alpha Values in Images\nThe <xref:System.Drawing.Bitmap> class (which inherits from the <xref:System.Drawing.Image> class) and the <xref:System.Drawing.Imaging.ImageAttributes> class provide functionality for getting and setting pixel values. You can use the <xref:System.Drawing.Imaging.ImageAttributes> class to modify the alpha values for an entire image, or you can call the <xref:System.Drawing.Bitmap.SetPixel%2A> method of the <xref:System.Drawing.Bitmap> class to modify individual pixel values.  \n  \n## Example  \n The <xref:System.Drawing.Imaging.ImageAttributes> class has many properties that you can use to modify images during rendering. In the following example, an <xref:System.Drawing.Imaging.ImageAttributes> object is used to set all the alpha values to 80 percent of what they were. This is done by initializing a color matrix and setting the alpha scaling value in the matrix to 0.8. The address of the color matrix is passed to the <xref:System.Drawing.Imaging.ImageAttributes.SetColorMatrix%2A> method of the <xref:System.Drawing.Imaging.ImageAttributes> object, and the <xref:System.Drawing.Imaging.ImageAttributes> object is passed to the <xref:System.Drawing.Graphics.DrawString%2A> method of the <xref:System.Drawing.Graphics> object.  \n  \n During rendering, the alpha values in the bitmap are converted to 80 percent of what they were. This results in an image that is blended with the background. As the following illustration shows, the bitmap image looks transparent; you can see the solid black line through it.  \n  \n ![Alpha Blending Using a Matrix](../../../../docs/framework/winforms/advanced/media/image2.png \"image2\")  \n  \n Where the image is over the white portion of the background, the image has been blended with the color white. Where the image crosses the black line, the image is blended with the color black.  \n  \n [!code-csharp[System.Drawing.AlphaBlending#21](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#21)]\n [!code-vb[System.Drawing.AlphaBlending#21](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#21)]  \n  \n## Compiling the Code  \n The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs>`e`, which is a parameter of <xref:System.Windows.Forms.PaintEventHandler>.  \n  \n## See Also  \n [Graphics and Drawing in Windows Forms](../../../../docs/framework/winforms/advanced/graphics-and-drawing-in-windows-forms.md)   \n [Alpha Blending Lines and Fills](../../../../docs/framework/winforms/advanced/alpha-blending-lines-and-fills.md)","nodes":[{"pos":[12,85],"content":"How to: Use a Color Matrix to Set Alpha Values in Images | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Use a Color Matrix to Set Alpha Values in Images | Microsoft Docs","pos":[0,73]}]},{"pos":[654,710],"content":"How to: Use a Color Matrix to Set Alpha Values in Images","linkify":"How to: Use a Color Matrix to Set Alpha Values in Images","nodes":[{"content":"How to: Use a Color Matrix to Set Alpha Values in Images","pos":[0,56]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Drawing.Bitmap&gt;</ph> class (which inherits from the <ph id=\"ph2\">&lt;xref:System.Drawing.Image&gt;</ph> class) and the <ph id=\"ph3\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> class provide functionality for getting and setting pixel values.","pos":[711,929],"source":"The <xref:System.Drawing.Bitmap> class (which inherits from the <xref:System.Drawing.Image> class) and the <xref:System.Drawing.Imaging.ImageAttributes> class provide functionality for getting and setting pixel values."},{"content":"You can use the <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> class to modify the alpha values for an entire image, or you can call the <ph id=\"ph2\">&lt;xref:System.Drawing.Bitmap.SetPixel%2A&gt;</ph> method of the <ph id=\"ph3\">&lt;xref:System.Drawing.Bitmap&gt;</ph> class to modify individual pixel values.","pos":[930,1190],"source":" You can use the <xref:System.Drawing.Imaging.ImageAttributes> class to modify the alpha values for an entire image, or you can call the <xref:System.Drawing.Bitmap.SetPixel%2A> method of the <xref:System.Drawing.Bitmap> class to modify individual pixel values."},{"pos":[1199,1206],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> class has many properties that you can use to modify images during rendering.","pos":[1210,1337],"source":"The <xref:System.Drawing.Imaging.ImageAttributes> class has many properties that you can use to modify images during rendering."},{"content":"In the following example, an <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> object is used to set all the alpha values to 80 percent of what they were.","pos":[1338,1488],"source":" In the following example, an <xref:System.Drawing.Imaging.ImageAttributes> object is used to set all the alpha values to 80 percent of what they were."},{"content":"This is done by initializing a color matrix and setting the alpha scaling value in the matrix to 0.8.","pos":[1489,1590]},{"content":"The address of the color matrix is passed to the <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ImageAttributes.SetColorMatrix%2A&gt;</ph> method of the <ph id=\"ph2\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> object, and the <ph id=\"ph3\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> object is passed to the <ph id=\"ph4\">&lt;xref:System.Drawing.Graphics.DrawString%2A&gt;</ph> method of the <ph id=\"ph5\">&lt;xref:System.Drawing.Graphics&gt;</ph> object.","pos":[1591,1947],"source":" The address of the color matrix is passed to the <xref:System.Drawing.Imaging.ImageAttributes.SetColorMatrix%2A> method of the <xref:System.Drawing.Imaging.ImageAttributes> object, and the <xref:System.Drawing.Imaging.ImageAttributes> object is passed to the <xref:System.Drawing.Graphics.DrawString%2A> method of the <xref:System.Drawing.Graphics> object."},{"content":"During rendering, the alpha values in the bitmap are converted to 80 percent of what they were.","pos":[1954,2049]},{"content":"This results in an image that is blended with the background.","pos":[2050,2111]},{"content":"As the following illustration shows, the bitmap image looks transparent; you can see the solid black line through it.","pos":[2112,2229]},{"pos":[2236,2340],"content":"<bpt id=\"p1\">![</bpt>Alpha Blending Using a Matrix<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/winforms/advanced/media/image2.png \"</bpt>image2<ept id=\"p2\">\")</ept>","source":"![Alpha Blending Using a Matrix](../../../../docs/framework/winforms/advanced/media/image2.png \"image2\")"},{"content":"Where the image is over the white portion of the background, the image has been blended with the color white.","pos":[2347,2456]},{"content":"Where the image crosses the black line, the image is blended with the color black.","pos":[2457,2539]},{"pos":[2546,2849],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.AlphaBlending#21<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#21)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.Drawing.AlphaBlending#21<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#21)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.Drawing.AlphaBlending#21](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.AlphaBlending/CS/Class1.cs#21)]\n [!code-vb[System.Drawing.AlphaBlending#21](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.AlphaBlending/VB/Class1.vb#21)]"},{"pos":[2858,2876],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"pos":[2880,3075],"content":"The preceding example is designed for use with Windows Forms, and it requires <ph id=\"ph1\">&lt;xref:System.Windows.Forms.PaintEventArgs&gt;</ph><ph id=\"ph2\">`e`</ph>, which is a parameter of <ph id=\"ph3\">&lt;xref:System.Windows.Forms.PaintEventHandler&gt;</ph>.","source":"The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs>`e`, which is a parameter of <xref:System.Windows.Forms.PaintEventHandler>."},{"pos":[3084,3092],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Graphics and Drawing in Windows Forms<ept id=\"p1\">](../../../../docs/framework/winforms/advanced/graphics-and-drawing-in-windows-forms.md)</ept><ph id=\"ph1\"> </ph>","pos":[3096,3223],"source":"[Graphics and Drawing in Windows Forms](../../../../docs/framework/winforms/advanced/graphics-and-drawing-in-windows-forms.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Alpha Blending Lines and Fills<ept id=\"p1\">](../../../../docs/framework/winforms/advanced/alpha-blending-lines-and-fills.md)</ept>","pos":[3226,3339],"source":" [Alpha Blending Lines and Fills](../../../../docs/framework/winforms/advanced/alpha-blending-lines-and-fills.md)"}]}