{"content":"---\ntitle: \"Security (LINQ to DataSet)\"\nms.date: \"03/30/2017\"\nms.assetid: 6116b2b8-75f4-4d8b-aea6-c13e55cda50b\n---\n# Security (LINQ to DataSet)\nThis topic discusses security issues in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].  \n  \n## Passing a Query to an Untrusted Component  \n A [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query can be formulated in one point of a program and executed in a different one. At the point where the query is formulated, the query can reference any element that is visible at that point, such as private members of the class that the calling method belongs to, or symbols representing local variables/arguments. At execution time, the query will effectively be able to access those members that were referenced by the query at formulation, even if the calling code does not have visibility into them. The code that executes the query does not have arbitrary added visibility, in that it cannot choose what to access. It will be able to access strictly what the query accesses, and only through the query itself.  \n  \n This implies that by passing a reference to a query to another piece of code the component receiving the query is being trusted with access to all public and private members that the query refers to. In general, [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries should not be passed to untrusted components, unless the query has been carefully constructed so that it does not expose information that should be kept private.  \n  \n## External Input  \n Applications often take external input (from a user or another external agent) and perform actions based on that input.  In the case of [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], the application might construct a query in a certain way, based on external input or use external input in the query. [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries accept parameters everywhere that literals are accepted. Application developers should use parameterized queries, rather than injecting literals from an external agent directly into the query.  \n  \n Any input directly or indirectly derived from the user or an external agent might have content that leverages the syntax of the target language in order to perform unauthorized actions. This is known as a SQL injection attack, named after an attack pattern where the target language is Transact-SQL. User input injected directly into the query is used to drop a database table, cause a denial of service, or otherwise change the nature of the operation being performed. Although query composition is possible in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], it is performed through the object model API. [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries are not composed by using string manipulation or concatenation, as they are in Transact-SQL, and are not susceptible to SQL injection attacks in the traditional sense.  \n  \n## See also\n\n- [Programming Guide](../../../../docs/framework/data/adonet/programming-guide-linq-to-dataset.md)\n","nodes":[{"pos":[4,110],"embed":true,"restype":"x-metadata","content":"title: \"Security (LINQ to DataSet)\"\nms.date: \"03/30/2017\"\nms.assetid: 6116b2b8-75f4-4d8b-aea6-c13e55cda50b","nodes":[{"content":"Security (LINQ to DataSet)","nodes":[{"pos":[0,26],"content":"Security (LINQ to DataSet)","nodes":[{"content":"Security (LINQ to DataSet)","pos":[0,26]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[117,143],"content":"Security (LINQ to DataSet)","linkify":"Security (LINQ to DataSet)","nodes":[{"content":"Security (LINQ to DataSet)","pos":[0,26]}]},{"pos":[144,250],"content":"This topic discusses security issues in <ph id=\"ph1\">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]</ph>.","source":"This topic discusses security issues in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]."},{"pos":[259,300],"content":"Passing a Query to an Untrusted Component","linkify":"Passing a Query to an Untrusted Component","nodes":[{"content":"Passing a Query to an Untrusted Component","pos":[0,41]}]},{"content":"A <ph id=\"ph1\">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]</ph> query can be formulated in one point of a program and executed in a different one.","pos":[304,454],"source":"A [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query can be formulated in one point of a program and executed in a different one."},{"content":"At the point where the query is formulated, the query can reference any element that is visible at that point, such as private members of the class that the calling method belongs to, or symbols representing local variables/arguments.","pos":[455,689]},{"content":"At execution time, the query will effectively be able to access those members that were referenced by the query at formulation, even if the calling code does not have visibility into them.","pos":[690,878]},{"content":"The code that executes the query does not have arbitrary added visibility, in that it cannot choose what to access.","pos":[879,994]},{"content":"It will be able to access strictly what the query accesses, and only through the query itself.","pos":[995,1089]},{"content":"This implies that by passing a reference to a query to another piece of code the component receiving the query is being trusted with access to all public and private members that the query refers to.","pos":[1096,1295]},{"content":"In general, <ph id=\"ph1\">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]</ph> queries should not be passed to untrusted components, unless the query has been carefully constructed so that it does not expose information that should be kept private.","pos":[1296,1543],"source":" In general, [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries should not be passed to untrusted components, unless the query has been carefully constructed so that it does not expose information that should be kept private."},{"pos":[1552,1566],"content":"External Input","linkify":"External Input","nodes":[{"content":"External Input","pos":[0,14]}]},{"content":"Applications often take external input (from a user or another external agent) and perform actions based on that input.","pos":[1570,1689]},{"content":"In the case of <ph id=\"ph1\">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]</ph>, the application might construct a query in a certain way, based on external input or use external input in the query.","pos":[1691,1890],"source":"  In the case of [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], the application might construct a query in a certain way, based on external input or use external input in the query."},{"content":"<ph id=\"ph1\">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]</ph> queries accept parameters everywhere that literals are accepted.","pos":[1891,2021],"source":"[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries accept parameters everywhere that literals are accepted."},{"content":"Application developers should use parameterized queries, rather than injecting literals from an external agent directly into the query.","pos":[2022,2157]},{"content":"Any input directly or indirectly derived from the user or an external agent might have content that leverages the syntax of the target language in order to perform unauthorized actions.","pos":[2164,2349]},{"content":"This is known as a SQL injection attack, named after an attack pattern where the target language is Transact-SQL.","pos":[2350,2463]},{"content":"User input injected directly into the query is used to drop a database table, cause a denial of service, or otherwise change the nature of the operation being performed.","pos":[2464,2633]},{"content":"Although query composition is possible in <ph id=\"ph1\">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]</ph>, it is performed through the object model API.","pos":[2634,2788],"source":" Although query composition is possible in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], it is performed through the object model API."},{"content":"<ph id=\"ph1\">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]</ph> queries are not composed by using string manipulation or concatenation, as they are in Transact-SQL, and are not susceptible to SQL injection attacks in the traditional sense.","pos":[2789,3030],"source":"[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries are not composed by using string manipulation or concatenation, as they are in Transact-SQL, and are not susceptible to SQL injection attacks in the traditional sense."},{"pos":[3039,3047],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3051,3147],"content":"<bpt id=\"p1\">[</bpt>Programming Guide<ept id=\"p1\">](../../../../docs/framework/data/adonet/programming-guide-linq-to-dataset.md)</ept>","source":"[Programming Guide](../../../../docs/framework/data/adonet/programming-guide-linq-to-dataset.md)"}]}