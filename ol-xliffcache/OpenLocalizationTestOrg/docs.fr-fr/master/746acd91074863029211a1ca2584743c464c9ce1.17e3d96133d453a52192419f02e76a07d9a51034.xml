{"content":"---\ntitle: \"<message> of <basicHttpBinding>\"\nms.date: \"03/30/2017\"\nms.assetid: 51cdd329-6461-471a-8747-56c2299b61e5\n---\n# \\<message> of \\<basicHttpBinding>\nDefines the settings for message-level security of the [\\<basicHttpBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md).  \n  \n \\<system.ServiceModel>  \n\\<bindings>  \n\\<basicHttpBinding>  \n\\<binding>  \n\\<security>  \n\\<message>  \n  \n## Syntax  \n  \n```xml  \n<message algorithmSuite=\"Basic128/Basic192/Basic256/Basic128Rsa15/Basic256Rsa15/TripleDes/TripleDesRsa15/Basic128Sha256/Basic192Sha256/TripleDesSha256/Basic128Sha256Rsa15/Basic192Sha256Rsa15/Basic256Sha256Rsa15/TripleDesSha256Rsa15\"\n         clientCredentialType=\"UserName/Certificate\" />\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|algorithmSuite|Sets the message encryption and key-wrap algorithms. This attribute is of type <xref:System.ServiceModel.Security.SecurityAlgorithmSuite>, which specifies the algorithms and the key sizes. These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.<br /><br /> The default value is `Basic256`.|  \n|clientCredentialType|Specifies the type of credential to be used when performing client authentication using message-based security. The default is `UserName`.|  \n  \n## clientCredentialType Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|UserName|-   Requires the client be authenticated to the server with a UserName credential. This credential needs to be specified using the [\\<clientCredentials>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md).<br />-   WCF does not support sending a password digest or deriving keys using passwords and using such keys for message security. Therefore, WCF enforces that the transport be secured when using UserName credentials. For the `basicHttpBinding`, this requires setting up an SSL channel.|  \n|Certificate|Requires that the client be authenticated to the server using a certificate. The client credential in this case needs to be specified using [\\<clientCredentials>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) and the [\\<clientCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-servicecredentials.md). In addition, when using message security mode, the client needs to be provisioned with the service certificate. The service credential in this case needs to be specified using <xref:System.ServiceModel.Description.ClientCredentials> class or `ClientCredentials` behavior element and specifying the service certificate using the [\\<serviceCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-servicecredentials.md).|  \n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<security>](../../../../../docs/framework/configure-apps/file-schema/wcf/security-of-basichttpbinding.md)|Defines the security capabilities for the [\\<basicHttpBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md).|  \n  \n## Example  \n This sample demonstrates how to implement an application that uses the basicHttpBinding and message security. In the following configuration example for a service, the endpoint definition specifies the basicHttpBinding and references a binding configuration named `Binding1`. The certificate that the service uses to authenticate itself to the client is set in the `behaviors` section of the configuration file under the `serviceCredentials` element. The validation mode that applies to the certificate that the client uses to authenticate itself to the service is also set in the `behaviors` section under the `clientCertificate` element.  \n  \n The same binding and security details are specified in the client configuration file.  \n  \n```xml  \n<system.serviceModel>\n  <services>\n    <service name=\"Microsoft.ServiceModel.Samples.CalculatorService\"\n             behaviorConfiguration=\"CalculatorServiceBehavior\">\n      <host>\n        <baseAddresses>\n          <add baseAddress=\"http://localhost:8000/ServiceModelSamples/service\" />\n        </baseAddresses>\n      </host>\n      <!-- this endpoint is exposed at the base address provided by host: http://localhost:8000/ServiceModelSamples/service -->\n      <endpoint address=\"\"\n                binding=\"basicHttpBinding\"\n                bindingConfiguration=\"Binding1\"\n                contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />\n      <!-- the mex endpoint is exposed at http://localhost:8000/ServiceModelSamples/service/mex -->\n      <endpoint address=\"mex\"\n                binding=\"mexHttpBinding\"\n                contract=\"IMetadataExchange\" />\n    </service>\n  </services>\n  <bindings>\n    <basicHttpBinding>\n    <!-- This configuration defines the SecurityMode as Message and\n         the clientCredentialType as Certificate. -->\n      <binding name=\"Binding1\">\n        <security mode = \"Message\">\n          <message clientCredentialType=\"Certificate\" />\n        </security>\n      </binding>\n    </basicHttpBinding>\n  </bindings>\n  <!--For debugging purposes set the includeExceptionDetailInFaults attribute to true-->\n  <behaviors>\n    <serviceBehaviors>\n      <behavior name=\"CalculatorServiceBehavior\">\n        <serviceMetadata httpGetEnabled=\"True\" />\n        <serviceDebug includeExceptionDetailInFaults=\"False\" />\n        <!-- The serviceCredentials behavior allows one to define a service certificate.\n             A service certificate is used by a client to authenticate the service and provide message protection.\n             This configuration references the \"localhost\" certificate installed during the setup instructions. -->\n        <serviceCredentials>\n          <serviceCertificate findValue=\"localhost\"\n                              storeLocation=\"LocalMachine\"\n                              storeName=\"My\"\n                              x509FindType=\"FindBySubjectName\" />\n          <clientCertificate>\n            <!-- Setting the certificateValidationMode to PeerOrChainTrust means that if the certificate\n               is in the user's Trusted People store, then it will be trusted without performing a\n               validation of the certificate's issuer chain. This setting is used here for convenience so that the\n               sample can be run without having to have certificates issued by a certification authority (CA).\n               This setting is less secure than the default, ChainTrust. The security implications of this\n               setting should be carefully considered before using PeerOrChainTrust in production code. -->\n            <authentication certificateValidationMode=\"PeerOrChainTrust\" />\n          </clientCertificate>\n        </serviceCredentials>\n      </behavior>\n    </serviceBehaviors>\n  </behaviors>\n</system.serviceModel>\n```  \n  \n## See also\n\n- <xref:System.ServiceModel.BasicHttpMessageSecurity>\n- <xref:System.ServiceModel.Configuration.BasicHttpSecurityElement.Message%2A>\n- <xref:System.ServiceModel.BasicHttpSecurity.Message%2A>\n- <xref:System.ServiceModel.Configuration.BasicHttpMessageSecurityElement>\n- [Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)\n- [Bindings](../../../../../docs/framework/wcf/bindings.md)\n- [Configuring System-Provided Bindings](../../../../../docs/framework/wcf/feature-details/configuring-system-provided-bindings.md)\n- [Using Bindings to Configure Services and Clients](../../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)\n- [\\<binding>](../../../../../docs/framework/misc/binding.md)\n","nodes":[{"pos":[4,115],"embed":true,"restype":"x-metadata","content":"title: \"<message> of <basicHttpBinding>\"\nms.date: \"03/30/2017\"\nms.assetid: 51cdd329-6461-471a-8747-56c2299b61e5","nodes":[{"content":"<message> of <basicHttpBinding>","nodes":[{"pos":[0,31],"content":"<ph id=\"ph1\">&lt;message&gt;</ph> of <ph id=\"ph2\">&lt;basicHttpBinding&gt;</ph>","source":"<message> of <basicHttpBinding>"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[122,155],"content":"\\<message> of \\<basicHttpBinding>","linkify":"\\<message> of \\<basicHttpBinding>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>message&gt; of <ph id=\"ph2\">\\&lt;</ph>basicHttpBinding&gt;","pos":[0,33],"source":"\\<message> of \\<basicHttpBinding>"}]},{"pos":[156,315],"content":"Defines the settings for message-level security of the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>basicHttpBinding&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md)</ept>.","source":"Defines the settings for message-level security of the [\\<basicHttpBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md)."},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[322,344],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>bindings&gt;","pos":[347,358],"source":"\\<bindings>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>basicHttpBinding&gt;","pos":[361,380],"source":"\\<basicHttpBinding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>binding&gt;","pos":[383,393],"source":"\\<binding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>security&gt;","pos":[396,407],"source":"\\<security>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>message&gt;","pos":[410,420],"source":"\\<message>"},{"pos":[429,435],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[751,774],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[778,857]},{"pos":[867,877],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[884,893]},{"content":"Description","pos":[894,905]},{"content":"algorithmSuite","pos":[948,962]},{"content":"Sets the message encryption and key-wrap algorithms.","pos":[963,1015]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.SecurityAlgorithmSuite&gt;</ph>, which specifies the algorithms and the key sizes.","pos":[1016,1151],"source":" This attribute is of type <xref:System.ServiceModel.Security.SecurityAlgorithmSuite>, which specifies the algorithms and the key sizes."},{"content":"These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.","pos":[1152,1258]},{"content":"The default value is <ph id=\"ph1\">`Basic256`</ph>.","pos":[1271,1303],"source":"The default value is `Basic256`."},{"content":"clientCredentialType","pos":[1308,1328]},{"content":"Specifies the type of credential to be used when performing client authentication using message-based security.","pos":[1329,1440]},{"content":"The default is <ph id=\"ph1\">`UserName`</ph>.","pos":[1441,1467],"source":" The default is `UserName`."},{"pos":[1477,1507],"content":"clientCredentialType Attribute","linkify":"clientCredentialType Attribute","nodes":[{"content":"clientCredentialType Attribute","pos":[0,30]}]},{"content":"Value","pos":[1514,1519]},{"content":"Description","pos":[1520,1531]},{"content":"UserName","pos":[1570,1578]},{"content":"-   Requires the client be authenticated to the server with a UserName credential.","pos":[1579,1661]},{"content":"This credential needs to be specified using the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)</ept>.","pos":[1662,1816],"source":" This credential needs to be specified using the [\\<clientCredentials>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)."},{"content":"-   WCF does not support sending a password digest or deriving keys using passwords and using such keys for message security.","pos":[1822,1947]},{"content":"Therefore, WCF enforces that the transport be secured when using UserName credentials.","pos":[1948,2034]},{"content":"For the <ph id=\"ph1\">`basicHttpBinding`</ph>, this requires setting up an SSL channel.","pos":[2035,2103],"source":" For the `basicHttpBinding`, this requires setting up an SSL channel."},{"content":"Certificate","pos":[2108,2119]},{"content":"Requires that the client be authenticated to the server using a certificate.","pos":[2120,2196]},{"content":"The client credential in this case needs to be specified using <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>clientCredentials&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)</ept> and the <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>clientCertificate&gt;<ept id=\"p2\">](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-servicecredentials.md)</ept>.","pos":[2197,2502],"source":" The client credential in this case needs to be specified using [\\<clientCredentials>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) and the [\\<clientCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/clientcertificate-of-servicecredentials.md)."},{"content":"In addition, when using message security mode, the client needs to be provisioned with the service certificate.","pos":[2503,2614]},{"content":"The service credential in this case needs to be specified using <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ClientCredentials&gt;</ph> class or <ph id=\"ph2\">`ClientCredentials`</ph> behavior element and specifying the service certificate using the <bpt id=\"p1\">[</bpt><ph id=\"ph3\">\\&lt;</ph>serviceCertificate&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-servicecredentials.md)</ept>.","pos":[2615,2961],"source":" The service credential in this case needs to be specified using <xref:System.ServiceModel.Description.ClientCredentials> class or `ClientCredentials` behavior element and specifying the service certificate using the [\\<serviceCertificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-servicecredentials.md)."},{"pos":[2972,2986],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[2990,2994]},{"pos":[3004,3019],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[3026,3033]},{"content":"Description","pos":[3034,3045]},{"pos":[3086,3193],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/security-of-basichttpbinding.md)</ept>","source":"[\\<security>](../../../../../docs/framework/configure-apps/file-schema/wcf/security-of-basichttpbinding.md)"},{"pos":[3194,3340],"content":"Defines the security capabilities for the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>basicHttpBinding&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md)</ept>.","source":"Defines the security capabilities for the [\\<basicHttpBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md)."},{"pos":[3350,3357],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"This sample demonstrates how to implement an application that uses the basicHttpBinding and message security.","pos":[3361,3470]},{"content":"In the following configuration example for a service, the endpoint definition specifies the basicHttpBinding and references a binding configuration named <ph id=\"ph1\">`Binding1`</ph>.","pos":[3471,3636],"source":" In the following configuration example for a service, the endpoint definition specifies the basicHttpBinding and references a binding configuration named `Binding1`."},{"content":"The certificate that the service uses to authenticate itself to the client is set in the <ph id=\"ph1\">`behaviors`</ph> section of the configuration file under the <ph id=\"ph2\">`serviceCredentials`</ph> element.","pos":[3637,3811],"source":" The certificate that the service uses to authenticate itself to the client is set in the `behaviors` section of the configuration file under the `serviceCredentials` element."},{"content":"The validation mode that applies to the certificate that the client uses to authenticate itself to the service is also set in the <ph id=\"ph1\">`behaviors`</ph> section under the <ph id=\"ph2\">`clientCertificate`</ph> element.","pos":[3812,4000],"source":" The validation mode that applies to the certificate that the client uses to authenticate itself to the service is also set in the `behaviors` section under the `clientCertificate` element."},{"content":"The same binding and security details are specified in the client configuration file.","pos":[4007,4092]},{"pos":[7123,7131],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7401,7516],"content":"<bpt id=\"p1\">[</bpt>Securing Services and Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)</ept>","source":"[Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)"},{"pos":[7519,7576],"content":"<bpt id=\"p1\">[</bpt>Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/bindings.md)</ept>","source":"[Bindings](../../../../../docs/framework/wcf/bindings.md)"},{"pos":[7579,7708],"content":"<bpt id=\"p1\">[</bpt>Configuring System-Provided Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/configuring-system-provided-bindings.md)</ept>","source":"[Configuring System-Provided Bindings](../../../../../docs/framework/wcf/feature-details/configuring-system-provided-bindings.md)"},{"pos":[7711,7848],"content":"<bpt id=\"p1\">[</bpt>Using Bindings to Configure Services and Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)</ept>","source":"[Using Bindings to Configure Services and Clients](../../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)"},{"pos":[7851,7910],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>binding&gt;<ept id=\"p1\">](../../../../../docs/framework/misc/binding.md)</ept>","source":"[\\<binding>](../../../../../docs/framework/misc/binding.md)"}]}