{"content":"---\ntitle: \"<messageSenderAuthentication>\"\nms.date: \"03/30/2017\"\nms.assetid: ea62fc06-55fb-42e0-aa2b-8867bdf4b415\n---\n# \\<messageSenderAuthentication>\nSpecifies authentication settings for peer certificate used by a message sender.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<serviceBehaviors>  \n\\<behavior>  \n\\<serviceCredentials>  \n\\<peer>  \n\\<messageSenderAuthentication>  \n  \n## Syntax  \n  \n```xml  \n<messageSenderAuthentication customCertificateValidatorType=\"namespace.typeName, [,AssemblyName] [,Version=version number] [,Culture=culture] [,PublicKeyToken=token]\"\n                             certificateValidationMode=\"ChainTrust/None/PeerTrust/PeerOrChainTrust/Custom\"\n                             revocationMode=\"NoCheck/Online/Offline\"\n                             trustedStoreLocation=\"CurrentUser/LocalMachine\" />\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`certificateValidationMode`|Optional enumeration. Specifies one of five modes used to validate credentials. This attribute is of type <xref:System.ServiceModel.Security.X509CertificateValidationMode>. If set to `Custom`, then a `customCertificateValidator` must also be supplied.|  \n|`customCertificateValidatorType`|Optional string. Specifies a type and assembly used to validate a custom type. This attribute must be set when `certificateValidationMode` is set to `Custom`. This attribute is of type <xref:System.IdentityModel.Selectors.X509CertificateValidator>. Windows Communication Foundation (WCF) provides a default peer certificate validator that verifies the peer certificate against the trusted people store. It also verifies that the certificate chains up to a valid root. You can implement a custom validator to specify a different behavior and use this attribute to point to the custom validator.|  \n|`revocationMode`|Optional enumeration. Specifies the certificate revocation mode. This attribute is of type <xref:System.Security.Cryptography.X509Certificates.X509RevocationMode>. The system verifies that the peer certificate has not been revoked by looking it up in the revoked certificate list. This check can be performed either by checking online or against a cached revocation list. Revocation checking can be turned off by setting this attribute to NoCheck.|  \n|`trustedStoreLocation`|Optional enumeration. Specifies the trusted store location where the peer certificate is validated by the WCF security system. This attribute is of type <xref:System.Security.Cryptography.X509Certificates.StoreLocation>.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<peer>](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-servicecredentials.md)|Specifies the current credentials for a peer node.|  \n  \n## Remarks  \n This element must be configured if message authentication is chosen. For output channels, each message is signed using the certificate provided by [\\<certificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/certificate-element.md). All messages, before delivered to the application, are checked against the message credential using the validator specified by the `customCertificateValidatorType` attribute of this element. The validator can either accept or reject the credential.  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.X509PeerCertificateAuthenticationElement>\n- <xref:System.ServiceModel.Security.X509PeerCertificateAuthentication>\n- <xref:System.ServiceModel.Security.PeerCredential.MessageSenderAuthentication%2A>\n- <xref:System.ServiceModel.Configuration.PeerCredentialElement.MessageSenderAuthentication%2A>\n- [Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)\n- [Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)\n- [Peer Channel Message Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa967730(v=vs.90))\n- [Peer Channel Custom Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751447(v=vs.90))\n- [Securing Peer Channel Applications](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)\n","nodes":[{"pos":[4,113],"embed":true,"restype":"x-metadata","content":"title: \"<messageSenderAuthentication>\"\nms.date: \"03/30/2017\"\nms.assetid: ea62fc06-55fb-42e0-aa2b-8867bdf4b415","nodes":[{"content":"<messageSenderAuthentication>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[120,150],"content":"\\<messageSenderAuthentication>","linkify":"\\<messageSenderAuthentication>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>messageSenderAuthentication&gt;","pos":[0,30],"source":"\\<messageSenderAuthentication>"}]},{"content":"Specifies authentication settings for peer certificate used by a message sender.","pos":[151,231]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[238,260],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[263,275],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceBehaviors&gt;","pos":[278,297],"source":"\\<serviceBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[300,311],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceCredentials&gt;","pos":[314,335],"source":"\\<serviceCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>peer&gt;","pos":[338,345],"source":"\\<peer>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>messageSenderAuthentication&gt;","pos":[348,378],"source":"\\<messageSenderAuthentication>"},{"pos":[387,393],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[843,866],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[870,950]},{"pos":[960,970],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[977,986]},{"content":"Description","pos":[987,998]},{"content":"Optional enumeration.","pos":[1069,1090]},{"content":"Specifies one of five modes used to validate credentials.","pos":[1091,1148]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.X509CertificateValidationMode&gt;</ph>.","pos":[1149,1241],"source":" This attribute is of type <xref:System.ServiceModel.Security.X509CertificateValidationMode>."},{"content":"If set to <ph id=\"ph1\">`Custom`</ph>, then a <ph id=\"ph2\">`customCertificateValidator`</ph> must also be supplied.","pos":[1242,1320],"source":" If set to `Custom`, then a `customCertificateValidator` must also be supplied."},{"content":"Optional string.","pos":[1358,1374]},{"content":"Specifies a type and assembly used to validate a custom type.","pos":[1375,1436]},{"content":"This attribute must be set when <ph id=\"ph1\">`certificateValidationMode`</ph> is set to <ph id=\"ph2\">`Custom`</ph>.","pos":[1437,1516],"source":" This attribute must be set when `certificateValidationMode` is set to `Custom`."},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.IdentityModel.Selectors.X509CertificateValidator&gt;</ph>.","pos":[1517,1606],"source":" This attribute is of type <xref:System.IdentityModel.Selectors.X509CertificateValidator>."},{"content":"Windows Communication Foundation (WCF) provides a default peer certificate validator that verifies the peer certificate against the trusted people store.","pos":[1607,1760]},{"content":"It also verifies that the certificate chains up to a valid root.","pos":[1761,1825]},{"content":"You can implement a custom validator to specify a different behavior and use this attribute to point to the custom validator.","pos":[1826,1951]},{"content":"Optional enumeration.","pos":[1973,1994]},{"content":"Specifies the certificate revocation mode.","pos":[1995,2037]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.X509Certificates.X509RevocationMode&gt;</ph>.","pos":[2038,2136],"source":" This attribute is of type <xref:System.Security.Cryptography.X509Certificates.X509RevocationMode>."},{"content":"The system verifies that the peer certificate has not been revoked by looking it up in the revoked certificate list.","pos":[2137,2253]},{"content":"This check can be performed either by checking online or against a cached revocation list.","pos":[2254,2344]},{"content":"Revocation checking can be turned off by setting this attribute to NoCheck.","pos":[2345,2420]},{"content":"Optional enumeration.","pos":[2448,2469]},{"content":"Specifies the trusted store location where the peer certificate is validated by the WCF security system.","pos":[2470,2574]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.X509Certificates.StoreLocation&gt;</ph>.","pos":[2575,2668],"source":" This attribute is of type <xref:System.Security.Cryptography.X509Certificates.StoreLocation>."},{"pos":[2679,2693],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[2697,2702]},{"pos":[2712,2727],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[2734,2741]},{"content":"Description","pos":[2742,2753]},{"pos":[2794,2895],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>peer&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-servicecredentials.md)</ept>","source":"[\\<peer>](../../../../../docs/framework/configure-apps/file-schema/wcf/peer-of-servicecredentials.md)"},{"content":"Specifies the current credentials for a peer node.","pos":[2896,2946]},{"pos":[2956,2963],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This element must be configured if message authentication is chosen.","pos":[2967,3035]},{"content":"For output channels, each message is signed using the certificate provided by <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>certificate&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/certificate-element.md)</ept>.","pos":[3036,3216],"source":" For output channels, each message is signed using the certificate provided by [\\<certificate>](../../../../../docs/framework/configure-apps/file-schema/wcf/certificate-element.md)."},{"content":"All messages, before delivered to the application, are checked against the message credential using the validator specified by the <ph id=\"ph1\">`customCertificateValidatorType`</ph> attribute of this element.","pos":[3217,3407],"source":" All messages, before delivered to the application, are checked against the message credential using the validator specified by the `customCertificateValidatorType` attribute of this element."},{"content":"The validator can either accept or reject the credential.","pos":[3408,3465]},{"pos":[3474,3482],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3822,3929],"content":"<bpt id=\"p1\">[</bpt>Working with Certificates<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)</ept>","source":"[Working with Certificates](../../../../../docs/framework/wcf/feature-details/working-with-certificates.md)"},{"pos":[3932,4035],"content":"<bpt id=\"p1\">[</bpt>Peer-to-Peer Networking<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)</ept>","source":"[Peer-to-Peer Networking](../../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)"},{"pos":[4038,4163],"content":"<bpt id=\"p1\">[</bpt>Peer Channel Message Authentication<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa967730(v=vs.90))</ept>","source":"[Peer Channel Message Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/aa967730(v=vs.90))"},{"pos":[4166,4290],"content":"<bpt id=\"p1\">[</bpt>Peer Channel Custom Authentication<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751447(v=vs.90))</ept>","source":"[Peer Channel Custom Authentication](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751447(v=vs.90))"},{"pos":[4293,4418],"content":"<bpt id=\"p1\">[</bpt>Securing Peer Channel Applications<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)</ept>","source":"[Securing Peer Channel Applications](../../../../../docs/framework/wcf/feature-details/securing-peer-channel-applications.md)"}]}