{"content":"---\ntitle: \"&lt;issuedTokenAuthentication&gt; of &lt;serviceCredentials&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 5c2e288f-f603-4d13-839a-0fd6d1981bec\ncaps.latest.revision: 14\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# &lt;issuedTokenAuthentication&gt; of &lt;serviceCredentials&gt;\nSpecifies a custom token issued as a service credential.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<serviceBehaviors>  \n\\<behavior>  \n\\<serviceCredentials>  \n\\<issuedTokenAuthentication>  \n  \n## Syntax  \n  \n```  \n  \n<issuedTokenAuthentication   \n   allowUntrustedRsaIssuers=\"Boolean\"  \n   audienceUriMode=\"Always/BearerKeyOnly/Never\"  \n      customCertificateValidatorType=\"namespace.typeName, [,AssemblyName] [,Version=version number] [,Culture=culture] [,PublicKeyToken=token]\"  \ncertificateValidationMode=\"ChainTrust/None/PeerTrust/PeerOrChainTrust/Custom\"  \n   revocationMode=\"NoCheck/Online/Offline\"  \n   samlSerializer=\"String\"  \n    trustedStoreLocation=\"CurrentUser/LocalMachine\">  \n      <allowedAudienceUris>  \n      <add allowedAudienceUri=\"String\"/>  \n      </allowedAudienceUris>  \n      <knownCertificates>   \n         <add findValue=\"String\"  \n                 storeLocation=\"CurrentUser/LocalMachine\"  \n                storeName=\" CurrentUser/LocalMachine\"  \n                x509FindType=\"FindByThumbprint/FindBySubjectName/FindBySubjectDistinguishedName/FindByIssuerName/FindByIssuerDistinguishedName/FindBySerialNumber/FindByTimeValid/FindByTimeNotYetValid/FindBySerialNumber/FindByTimeExpired/FindByTemplateName/FindByApplicationPolicy/FindByCertificatePolicy/FindByExtension/FindByKeyUsage/FindBySubjectKeyIdentifier\"/>  \n      </knownCertificates>  \n</issuedTokenAuthentication>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`allowedAudienceUris`|Gets the set of target URIs for which the <xref:System.IdentityModel.Tokens.SamlSecurityToken> security token can be targeted for in order to be considered valid by a <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator> instance. For more information on using this attribute, see <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AllowedAudienceUris%2A>.|  \n|`allowUntrustedRsaIssuers`|A Boolean value that specifies if untrusted RSA certificate issuers are allowed.<br /><br /> Certificates are signed by certification authorities (CAs) to verify authenticity. An untrusted issuer is a CA that is not specified to be trusted to sign certificates.|  \n|`audienceUriMode`|Gets a value that specifies whether the <xref:System.IdentityModel.Tokens.SamlSecurityToken> security token's <xref:System.IdentityModel.Tokens.SamlAudienceRestrictionCondition> should be validated. This value is of type <xref:System.IdentityModel.Selectors.AudienceUriMode>. For more information on using this attribute, see <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AudienceUriMode%2A>.|  \n|`certificateValidationMode`|Sets the certificate validation mode. One of the valid values of <xref:System.ServiceModel.Security.X509CertificateValidationMode>. If set to `Custom`, then a `customCertificateValidator` must also be supplied. The default is `ChainTrust`.|  \n|`customCertificateValidatorType`|Optional string. A type and assembly used to validate a custom type. This attribute must be set when `certificateValidationMode` is set to `Custom`.|  \n|`revocationMode`|Sets the revocation mode that specifies whether a revocation check occurs, and if it is performed online or offline. This attribute is of type <xref:System.Security.Cryptography.X509Certificates.X509RevocationMode>.|  \n|`samlSerializer`|An optional string attribute that specifies the type of SamlSerializer that is used for the service credential. The default is an empty string.|  \n|`trustedStoreLocation`|Optional enumeration. One of the two system store locations: `LocalMachine` or `CurrentUser`.|  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`knownCertificates`|Specifies a collection of <xref:System.ServiceModel.Configuration.X509CertificateTrustedIssuerElement> elements that specifies trusted issuers for the service credential.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<serviceCredentials>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md)|Specifies the credential to be used in authenticating the service, and the client credential validation-related settings.|  \n  \n## Remarks  \n The issued token scenario has three stages. In the first stage, a client trying to access a service is referred to a *secure token service*. The secure token service then authenticates the client and subsequently issues the client a token, typically a Security Assertions Markup Language (SAML) token. The client then returns to the service with the token. The service examines the token for data that allows the service to authenticate the token and therefore the client. To authenticate the token, the certificate the secure token service uses must be known to the service.  \n  \n This element is the repository for any such secure token service certificates. To add certificates, use the [\\<knownCertificates>](../../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md). Insert an [\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) for each certificate, as shown in the following example.  \n  \n```  \n<issuedTokenAuthorization>  \n   <knownCertificates>  \n      <add findValue=\"www.contoso.com\"   \n           storeLocation=\"LocalMachine\" storeName=\"My\"   \n           X509FindType=\"FindBySubjectName\" />  \n    </knownCertificates>  \n</issuedTokenAuthentication>  \n```  \n  \n By default, the certificates must be obtained from a secure token service. These \"known\" certificates ensure that only legitimate clients can access a service.  \n  \n For more information on using this configuration element, see [How to: Configure Credentials on a Federation Service](../../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).  \n  \n## See Also  \n <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator>   \n <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AllowedAudienceUris%2A>   \n <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AudienceUriMode%2A>   \n <xref:System.ServiceModel.Configuration.ServiceCredentialsElement.IssuedTokenAuthentication%2A>   \n <xref:System.ServiceModel.Configuration.IssuedTokenServiceElement>   \n <xref:System.ServiceModel.Description.ServiceCredentials.IssuedTokenAuthentication%2A>   \n <xref:System.ServiceModel.Security.IssuedTokenServiceCredential>   \n [Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)   \n [How to: Configure Credentials on a Federation Service](../../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md)","nodes":[{"pos":[12,92],"content":"&lt;issuedTokenAuthentication&gt; of &lt;serviceCredentials&gt; | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>issuedTokenAuthentication<ph id=\"ph2\">&amp;gt;</ph> of <ph id=\"ph3\">&amp;lt;</ph>serviceCredentials<ph id=\"ph4\">&amp;gt;</ph> | Microsoft Docs","pos":[0,80],"source":"&lt;issuedTokenAuthentication&gt; of &lt;serviceCredentials&gt; | Microsoft Docs"}]},{"pos":[391,454],"content":"&lt;issuedTokenAuthentication&gt; of &lt;serviceCredentials&gt;","linkify":"&lt;issuedTokenAuthentication&gt; of &lt;serviceCredentials&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>issuedTokenAuthentication<ph id=\"ph2\">&amp;gt;</ph> of <ph id=\"ph3\">&amp;lt;</ph>serviceCredentials<ph id=\"ph4\">&amp;gt;</ph>","pos":[0,63],"source":"&lt;issuedTokenAuthentication&gt; of &lt;serviceCredentials&gt;"}]},{"content":"Specifies a custom token issued as a service credential.","pos":[455,511]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[518,540],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[543,555],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceBehaviors&gt;","pos":[558,577],"source":"\\<serviceBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[580,591],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceCredentials&gt;","pos":[594,615],"source":"\\<serviceCredentials>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>issuedTokenAuthentication&gt;","pos":[618,646],"source":"\\<issuedTokenAuthentication>"},{"pos":[655,661],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1874,1897],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements","pos":[1901,1980]},{"pos":[1990,2000],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[2007,2016]},{"content":"Description","pos":[2017,2028]},{"content":"Gets the set of target URIs for which the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Tokens.SamlSecurityToken&gt;</ph> security token can be targeted for in order to be considered valid by a <ph id=\"ph2\">&lt;xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator&gt;</ph> instance.","pos":[2093,2338],"source":"Gets the set of target URIs for which the <xref:System.IdentityModel.Tokens.SamlSecurityToken> security token can be targeted for in order to be considered valid by a <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator> instance."},{"content":"For more information on using this attribute, see <ph id=\"ph1\">&lt;xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AllowedAudienceUris%2A&gt;</ph>.","pos":[2339,2481],"source":" For more information on using this attribute, see <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AllowedAudienceUris%2A>."},{"content":"A Boolean value that specifies if untrusted RSA certificate issuers are allowed.","pos":[2513,2593]},{"content":"Certificates are signed by certification authorities (CAs) to verify authenticity.","pos":[2606,2688]},{"content":"An untrusted issuer is a CA that is not specified to be trusted to sign certificates.","pos":[2689,2774]},{"content":"Gets a value that specifies whether the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Tokens.SamlSecurityToken&gt;</ph> security token's <ph id=\"ph2\">&lt;xref:System.IdentityModel.Tokens.SamlAudienceRestrictionCondition&gt;</ph> should be validated.","pos":[2797,2995],"source":"Gets a value that specifies whether the <xref:System.IdentityModel.Tokens.SamlSecurityToken> security token's <xref:System.IdentityModel.Tokens.SamlAudienceRestrictionCondition> should be validated."},{"content":"This value is of type <ph id=\"ph1\">&lt;xref:System.IdentityModel.Selectors.AudienceUriMode&gt;</ph>.","pos":[2996,3072],"source":" This value is of type <xref:System.IdentityModel.Selectors.AudienceUriMode>."},{"content":"For more information on using this attribute, see <ph id=\"ph1\">&lt;xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AudienceUriMode%2A&gt;</ph>.","pos":[3073,3211],"source":" For more information on using this attribute, see <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator.AudienceUriMode%2A>."},{"content":"Sets the certificate validation mode.","pos":[3244,3281]},{"content":"One of the valid values of <ph id=\"ph1\">&lt;xref:System.ServiceModel.Security.X509CertificateValidationMode&gt;</ph>.","pos":[3282,3375],"source":" One of the valid values of <xref:System.ServiceModel.Security.X509CertificateValidationMode>."},{"content":"If set to <ph id=\"ph1\">`Custom`</ph>, then a <ph id=\"ph2\">`customCertificateValidator`</ph> must also be supplied.","pos":[3376,3454],"source":" If set to `Custom`, then a `customCertificateValidator` must also be supplied."},{"content":"The default is <ph id=\"ph1\">`ChainTrust`</ph>.","pos":[3455,3483],"source":" The default is `ChainTrust`."},{"content":"Optional string.","pos":[3521,3537]},{"content":"A type and assembly used to validate a custom type.","pos":[3538,3589]},{"content":"This attribute must be set when <ph id=\"ph1\">`certificateValidationMode`</ph> is set to <ph id=\"ph2\">`Custom`</ph>.","pos":[3590,3669],"source":" This attribute must be set when `certificateValidationMode` is set to `Custom`."},{"content":"Sets the revocation mode that specifies whether a revocation check occurs, and if it is performed online or offline.","pos":[3691,3807]},{"content":"This attribute is of type <ph id=\"ph1\">&lt;xref:System.Security.Cryptography.X509Certificates.X509RevocationMode&gt;</ph>.","pos":[3808,3906],"source":" This attribute is of type <xref:System.Security.Cryptography.X509Certificates.X509RevocationMode>."},{"content":"An optional string attribute that specifies the type of SamlSerializer that is used for the service credential.","pos":[3928,4039]},{"content":"The default is an empty string.","pos":[4040,4071]},{"content":"Optional enumeration.","pos":[4099,4120]},{"content":"One of the two system store locations: <ph id=\"ph1\">`LocalMachine`</ph> or <ph id=\"ph2\">`CurrentUser`</ph>.","pos":[4121,4192],"source":" One of the two system store locations: `LocalMachine` or `CurrentUser`."},{"pos":[4203,4217],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[4224,4231]},{"content":"Description","pos":[4232,4243]},{"content":"Specifies a collection of <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.X509CertificateTrustedIssuerElement&gt;</ph> elements that specifies trusted issuers for the service credential.","pos":[4304,4474],"source":"Specifies a collection of <xref:System.ServiceModel.Configuration.X509CertificateTrustedIssuerElement> elements that specifies trusted issuers for the service credential."},{"pos":[4485,4500],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[4507,4514]},{"content":"Description","pos":[4515,4526]},{"pos":[4567,4674],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>serviceCredentials&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md)</ept>","source":"[\\<serviceCredentials>](../../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md)"},{"content":"Specifies the credential to be used in authenticating the service, and the client credential validation-related settings.","pos":[4675,4796]},{"pos":[4806,4813],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The issued token scenario has three stages.","pos":[4817,4860]},{"content":"In the first stage, a client trying to access a service is referred to a <bpt id=\"p1\">*</bpt>secure token service<ept id=\"p1\">*</ept>.","pos":[4861,4957],"source":" In the first stage, a client trying to access a service is referred to a *secure token service*."},{"content":"The secure token service then authenticates the client and subsequently issues the client a token, typically a Security Assertions Markup Language (SAML) token.","pos":[4958,5118]},{"content":"The client then returns to the service with the token.","pos":[5119,5173]},{"content":"The service examines the token for data that allows the service to authenticate the token and therefore the client.","pos":[5174,5289]},{"content":"To authenticate the token, the certificate the secure token service uses must be known to the service.","pos":[5290,5392]},{"content":"This element is the repository for any such secure token service certificates.","pos":[5399,5477]},{"content":"To add certificates, use the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>knownCertificates&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md)</ept>.","pos":[5478,5613],"source":" To add certificates, use the [\\<knownCertificates>](../../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md)."},{"content":"Insert an <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md)</ept> for each certificate, as shown in the following example.","pos":[5614,5779],"source":" Insert an [\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) for each certificate, as shown in the following example."},{"content":"By default, the certificates must be obtained from a secure token service.","pos":[6062,6136]},{"content":"These \"known\" certificates ensure that only legitimate clients can access a service.","pos":[6137,6221]},{"pos":[6228,6453],"content":"For more information on using this configuration element, see <bpt id=\"p1\">[</bpt>How to: Configure Credentials on a Federation Service<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md)</ept>.","source":"For more information on using this configuration element, see [How to: Configure Credentials on a Federation Service](../../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md)."},{"pos":[6462,6470],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\"> [</bpt>Securing Services and Clients<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)</ept><ph id=\"ph1\"> </ph>","pos":[7065,7182],"source":" [Securing Services and Clients](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md) "},{"content":"<bpt id=\"p1\"> [</bpt>How to: Configure Credentials on a Federation Service<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md)</ept>","pos":[7185,7348],"source":" [How to: Configure Credentials on a Federation Service](../../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md)"}]}