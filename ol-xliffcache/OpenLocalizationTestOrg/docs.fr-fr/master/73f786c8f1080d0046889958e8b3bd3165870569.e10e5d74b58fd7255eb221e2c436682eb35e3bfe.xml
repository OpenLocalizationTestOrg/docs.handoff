{"content":"---\ntitle: \"XML Type Support Implementation Notes\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 26b071f3-1261-47ef-8690-0717f5cd93c1\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# XML Type Support Implementation Notes\nThis topic describes some implementation details that you want to be aware of.  \n  \n## List Mappings  \n The <xref:System.Collections.IList>, <xref:System.Collections.ICollection>, <xref:System.Collections.IEnumerable>, **Type[]**, and <xref:System.String> types are used to represent XML Schema definition language (XSD) list types.  \n  \n## Union Mappings  \n Union types are represented using the <xref:System.Xml.Schema.XmlAtomicValue> or <xref:System.String> type. The source type or the destination type must therefore always be either <xref:System.String> or <xref:System.Xml.Schema.XmlAtomicValue>.  \n  \n If the <xref:System.Xml.Schema.XmlSchemaDatatype> object represents a list type the object converts the input string value to a list of one or more objects. If the <xref:System.Xml.Schema.XmlSchemaDatatype> represents a union type then an attempt is made to parse the input value as a member type of the union. If the parse attempt fails then the conversion is attempted with the next member of the union and so on until the conversion is successful, or there are no other member types to try, in which case an exception is thrown.  \n  \n## Differences Between CLR and XML Data Types  \n The following describes certain mismatches that can occur between CLR types and XML data types and how they are handled.  \n  \n> [!NOTE]\n> The `xs` prefix is mapped to the <https://www.w3.org/2001/XMLSchema> and namespace URI.\n  \n### System.TimeSpan and xs:duration  \n The `xs:duration` type is partially ordered in that there are certain duration values that are different but equivalent. This means that for the `xs:duration` type value such as 1 month (P1M) is less than 32 days (P32D), larger than 27 days (P27D) and equivalent to 28, 29 or 30 days.  \n  \n The <xref:System.TimeSpan> class does not support this partial ordering. Instead, it picks a specific number of days for 1 year and 1 month; 365 days and 30 days respectively.  \n  \n For more information on the `xs:duration` type, see the W3C [XML Schema Part 2: Datatypes Recommendation](https://www.w3.org/TR/xmlschema-2/).\n  \n### xs:time, Gregorian Date Types, and System.DateTime  \n When an `xs:time` value is mapped to a <xref:System.DateTime> object, the <xref:System.DateTime.MinValue> field is used to initialize the date properties of the <xref:System.DateTime> object (such as <xref:System.DateTime.Year%2A>, <xref:System.DateTime.Month%2A>, and <xref:System.DateTime.Day%2A>) to the smallest possible <xref:System.DateTime> value.  \n  \n Similarly, instances of `xs:gMonth`, `xs:gDay`, `xs:gYear`, `xs:gYearMonth` and `xs:gMonthDay` are also mapped to a <xref:System.DateTime> object. Unused properties on the <xref:System.DateTime> object are initialized to those from <xref:System.DateTime.MinValue>.  \n  \n> [!NOTE]\n>  You cannot rely on the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value when the content is typed as `xs:gMonthDay`. The <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value is always set to 1904 in this case.  \n  \n### xs:anyURI and System.Uri  \n When an instance of `xs:anyURI` that represents a relative URI is mapped to a <xref:System.Uri>, the <xref:System.Uri> object does not have a base URI.  \n  \n## See also\n\n- [Type Support in the System.Xml Classes](../../../../docs/standard/data/xml/type-support-in-the-system-xml-classes.md)\n","nodes":[{"pos":[4,189],"embed":true,"restype":"x-metadata","content":"title: \"XML Type Support Implementation Notes\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 26b071f3-1261-47ef-8690-0717f5cd93c1\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"XML Type Support Implementation Notes","nodes":[{"pos":[0,37],"content":"XML Type Support Implementation Notes","nodes":[{"content":"XML Type Support Implementation Notes","pos":[0,37]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[196,233],"content":"XML Type Support Implementation Notes","linkify":"XML Type Support Implementation Notes","nodes":[{"content":"XML Type Support Implementation Notes","pos":[0,37]}]},{"content":"This topic describes some implementation details that you want to be aware of.","pos":[234,312]},{"pos":[321,334],"content":"List Mappings","linkify":"List Mappings","nodes":[{"content":"List Mappings","pos":[0,13]}]},{"pos":[338,566],"content":"The <ph id=\"ph1\">&lt;xref:System.Collections.IList&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Collections.ICollection&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Collections.IEnumerable&gt;</ph>, <bpt id=\"p1\">**</bpt>Type[]<ept id=\"p1\">**</ept>, and <ph id=\"ph4\">&lt;xref:System.String&gt;</ph> types are used to represent XML Schema definition language (XSD) list types.","source":"The <xref:System.Collections.IList>, <xref:System.Collections.ICollection>, <xref:System.Collections.IEnumerable>, **Type[]**, and <xref:System.String> types are used to represent XML Schema definition language (XSD) list types."},{"pos":[575,589],"content":"Union Mappings","linkify":"Union Mappings","nodes":[{"content":"Union Mappings","pos":[0,14]}]},{"content":"Union types are represented using the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlAtomicValue&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.String&gt;</ph> type.","pos":[593,700],"source":"Union types are represented using the <xref:System.Xml.Schema.XmlAtomicValue> or <xref:System.String> type."},{"content":"The source type or the destination type must therefore always be either <ph id=\"ph1\">&lt;xref:System.String&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Xml.Schema.XmlAtomicValue&gt;</ph>.","pos":[701,837],"source":" The source type or the destination type must therefore always be either <xref:System.String> or <xref:System.Xml.Schema.XmlAtomicValue>."},{"content":"If the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaDatatype&gt;</ph> object represents a list type the object converts the input string value to a list of one or more objects.","pos":[844,1000],"source":"If the <xref:System.Xml.Schema.XmlSchemaDatatype> object represents a list type the object converts the input string value to a list of one or more objects."},{"content":"If the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaDatatype&gt;</ph> represents a union type then an attempt is made to parse the input value as a member type of the union.","pos":[1001,1154],"source":" If the <xref:System.Xml.Schema.XmlSchemaDatatype> represents a union type then an attempt is made to parse the input value as a member type of the union."},{"content":"If the parse attempt fails then the conversion is attempted with the next member of the union and so on until the conversion is successful, or there are no other member types to try, in which case an exception is thrown.","pos":[1155,1375]},{"pos":[1384,1426],"content":"Differences Between CLR and XML Data Types","linkify":"Differences Between CLR and XML Data Types","nodes":[{"content":"Differences Between CLR and XML Data Types","pos":[0,42]}]},{"content":"The following describes certain mismatches that can occur between CLR types and XML data types and how they are handled.","pos":[1430,1550]},{"pos":[1558,1655],"content":"[!NOTE]\nThe `xs` prefix is mapped to the <https://www.w3.org/2001/XMLSchema> and namespace URI.","leadings":["","> "],"nodes":[{"content":"The <ph id=\"ph1\">`xs`</ph> prefix is mapped to the <ph id=\"ph2\">&lt;https://www.w3.org/2001/XMLSchema&gt;</ph> and namespace URI.","pos":[8,95],"source":"The `xs` prefix is mapped to the <https://www.w3.org/2001/XMLSchema> and namespace URI."}]},{"pos":[1663,1694],"content":"System.TimeSpan and xs:duration","linkify":"System.TimeSpan and xs:duration","nodes":[{"content":"System.TimeSpan and xs:duration","pos":[0,31]}]},{"content":"The <ph id=\"ph1\">`xs:duration`</ph> type is partially ordered in that there are certain duration values that are different but equivalent.","pos":[1698,1818],"source":"The `xs:duration` type is partially ordered in that there are certain duration values that are different but equivalent."},{"content":"This means that for the <ph id=\"ph1\">`xs:duration`</ph> type value such as 1 month (P1M) is less than 32 days (P32D), larger than 27 days (P27D) and equivalent to 28, 29 or 30 days.","pos":[1819,1982],"source":" This means that for the `xs:duration` type value such as 1 month (P1M) is less than 32 days (P32D), larger than 27 days (P27D) and equivalent to 28, 29 or 30 days."},{"content":"The <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> class does not support this partial ordering.","pos":[1989,2061],"source":"The <xref:System.TimeSpan> class does not support this partial ordering."},{"content":"Instead, it picks a specific number of days for 1 year and 1 month; 365 days and 30 days respectively.","pos":[2062,2164]},{"pos":[2171,2313],"content":"For more information on the <ph id=\"ph1\">`xs:duration`</ph> type, see the W3C <bpt id=\"p1\">[</bpt>XML Schema Part 2: Datatypes Recommendation<ept id=\"p1\">](https://www.w3.org/TR/xmlschema-2/)</ept>.","source":"For more information on the `xs:duration` type, see the W3C [XML Schema Part 2: Datatypes Recommendation](https://www.w3.org/TR/xmlschema-2/)."},{"pos":[2321,2371],"content":"xs:time, Gregorian Date Types, and System.DateTime","linkify":"xs:time, Gregorian Date Types, and System.DateTime","nodes":[{"content":"xs:time, Gregorian Date Types, and System.DateTime","pos":[0,50]}]},{"pos":[2375,2729],"content":"When an <ph id=\"ph1\">`xs:time`</ph> value is mapped to a <ph id=\"ph2\">&lt;xref:System.DateTime&gt;</ph> object, the <ph id=\"ph3\">&lt;xref:System.DateTime.MinValue&gt;</ph> field is used to initialize the date properties of the <ph id=\"ph4\">&lt;xref:System.DateTime&gt;</ph> object (such as <ph id=\"ph5\">&lt;xref:System.DateTime.Year%2A&gt;</ph>, <ph id=\"ph6\">&lt;xref:System.DateTime.Month%2A&gt;</ph>, and <ph id=\"ph7\">&lt;xref:System.DateTime.Day%2A&gt;</ph>) to the smallest possible <ph id=\"ph8\">&lt;xref:System.DateTime&gt;</ph> value.","source":"When an `xs:time` value is mapped to a <xref:System.DateTime> object, the <xref:System.DateTime.MinValue> field is used to initialize the date properties of the <xref:System.DateTime> object (such as <xref:System.DateTime.Year%2A>, <xref:System.DateTime.Month%2A>, and <xref:System.DateTime.Day%2A>) to the smallest possible <xref:System.DateTime> value."},{"content":"Similarly, instances of <ph id=\"ph1\">`xs:gMonth`</ph>, <ph id=\"ph2\">`xs:gDay`</ph>, <ph id=\"ph3\">`xs:gYear`</ph>, <ph id=\"ph4\">`xs:gYearMonth`</ph> and <ph id=\"ph5\">`xs:gMonthDay`</ph> are also mapped to a <ph id=\"ph6\">&lt;xref:System.DateTime&gt;</ph> object.","pos":[2736,2882],"source":"Similarly, instances of `xs:gMonth`, `xs:gDay`, `xs:gYear`, `xs:gYearMonth` and `xs:gMonthDay` are also mapped to a <xref:System.DateTime> object."},{"content":"Unused properties on the <ph id=\"ph1\">&lt;xref:System.DateTime&gt;</ph> object are initialized to those from <ph id=\"ph2\">&lt;xref:System.DateTime.MinValue&gt;</ph>.","pos":[2883,3000],"source":" Unused properties on the <xref:System.DateTime> object are initialized to those from <xref:System.DateTime.MinValue>."},{"pos":[3008,3258],"content":"[!NOTE]\n You cannot rely on the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value when the content is typed as `xs:gMonthDay`. The <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value is always set to 1904 in this case.","leadings":["","> "],"nodes":[{"content":"You cannot rely on the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value when the content is typed as `xs:gMonthDay`. The <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value is always set to 1904 in this case.","pos":[9,248],"nodes":[{"content":"You cannot rely on the <ph id=\"ph1\">&lt;xref:System.DateTime.Year%2A?displayProperty=nameWithType&gt;</ph> value when the content is typed as <ph id=\"ph2\">`xs:gMonthDay`</ph>.","pos":[0,133],"source":"You cannot rely on the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value when the content is typed as `xs:gMonthDay`."},{"content":"The <ph id=\"ph1\">&lt;xref:System.DateTime.Year%2A?displayProperty=nameWithType&gt;</ph> value is always set to 1904 in this case.","pos":[134,239],"source":" The <xref:System.DateTime.Year%2A?displayProperty=nameWithType> value is always set to 1904 in this case."}]}]},{"pos":[3268,3292],"content":"xs:anyURI and System.Uri","linkify":"xs:anyURI and System.Uri","nodes":[{"content":"xs:anyURI and System.Uri","pos":[0,24]}]},{"pos":[3296,3447],"content":"When an instance of <ph id=\"ph1\">`xs:anyURI`</ph> that represents a relative URI is mapped to a <ph id=\"ph2\">&lt;xref:System.Uri&gt;</ph>, the <ph id=\"ph3\">&lt;xref:System.Uri&gt;</ph> object does not have a base URI.","source":"When an instance of `xs:anyURI` that represents a relative URI is mapped to a <xref:System.Uri>, the <xref:System.Uri> object does not have a base URI."},{"pos":[3456,3464],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3468,3586],"content":"<bpt id=\"p1\">[</bpt>Type Support in the System.Xml Classes<ept id=\"p1\">](../../../../docs/standard/data/xml/type-support-in-the-system-xml-classes.md)</ept>","source":"[Type Support in the System.Xml Classes](../../../../docs/standard/data/xml/type-support-in-the-system-xml-classes.md)"}]}