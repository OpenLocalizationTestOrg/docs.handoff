{"content":"---\ntitle: \"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 0f38c4a0-49a6-437c-bdde-ad1d138d3c4a\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Configure WCF Services to Interoperate with WSE 3.0 Clients\n[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services are wire-level compatible with Web Services Enhancements 3.0 for Microsoft .NET (WSE) clients when [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services are configured to use the August 2004 version of the WS-Addressing specification.  \n  \n### To enable a WCF service to interoperate with WSE 3.0 clients  \n  \n1.  Define a custom binding for the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service.  \n  \n     To specify that the August 2004 version of the WS-Addressing specification is used for message encoding, a custom binding must be created.  \n  \n    1.  Add a child [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) to the [\\<bindings>](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) of the service's configuration file.  \n  \n    2.  Specify a name for the binding, by adding a [\\<binding>](../../../../docs/framework/misc/binding.md) to the [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) and setting the `name` attribute.  \n  \n    3.  Specify an authentication mode and the version of the WS-Security specifications that are used to secure messages that are compatible with WSE 3.0, by adding a child [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) to the [\\<binding>](../../../../docs/framework/misc/binding.md).  \n  \n         To set the authentication mode, set the `authenicationMode` attribute of the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md). An authentication mode is roughly equivalent to a turnkey security assertion in WSE 3.0. The following table maps authentication modes in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] to turnkey security assertions in WSE 3.0.  \n  \n        |WCF Authentication Mode|WSE 3.0 turnkey security assertion|  \n        |-----------------------------|----------------------------------------|  \n        |<xref:System.ServiceModel.Configuration.AuthenticationMode>|`anonymousForCertificateSecurity`|  \n        |<xref:System.ServiceModel.Configuration.AuthenticationMode>|`kerberosSecurity`|  \n        |<xref:System.ServiceModel.Configuration.AuthenticationMode>|`mutualCertificate10Security`*|  \n        |<xref:System.ServiceModel.Configuration.AuthenticationMode>|`mutualCertificate11Security`*|  \n        |<xref:System.ServiceModel.Configuration.AuthenticationMode>|`usernameOverTransportSecurity`|  \n        |<xref:System.ServiceModel.Configuration.AuthenticationMode>|`usernameForCertificateSecurity`|  \n  \n         \\* One of the primary differences between the `mutualCertificate10Security` and `mutualCertificate11Security` turnkey security assertions is the version of the WS-Security specification that WSE uses to secure the SOAP messages. For `mutualCertificate10Security`, WS-Security 1.0 is used, whereas WS-Security 1.1 is used for `mutualCertificate11Security`. For [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], the version of the WS-Security specification is specified in the `messageSecurityVersion` attribute of the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md).  \n  \n         To set the version of the WS-Security specification that is used to secure SOAP messages, set the `messageSecurityVersion` attribute of the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md). To interoperate with WSE 3.0, set the value of the `messageSecurityVersion` attribute to <xref:System.ServiceModel.MessageSecurityVersion.WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10%2A>.  \n  \n    4.  Specify that the August 2004 version of the WS-Addressing specification is used by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] by adding a [\\<textMessageEncoding>](../../../../docs/framework/configure-apps/file-schema/wcf/textmessageencoding.md) and set the `messageVersion` to its value to <xref:System.ServiceModel.Channels.MessageVersion.Soap11WSAddressingAugust2004%2A>.  \n  \n        > [!NOTE]\n        >  When you are using SOAP 1.2, set the `messageVersion` attribute to <xref:System.ServiceModel.Channels.MessageVersion.Soap12WSAddressingAugust2004%2A>.  \n  \n2.  Specify that the service uses the custom binding.  \n  \n    1.  Set the `binding` attribute of the [\\<endpoint>](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md) element to `customBinding`.  \n  \n    2.  Set the `bindingConfiguration` attribute of the [\\<endpoint>](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md) element to the value specified in the `name` attribute of the [\\<binding>](../../../../docs/framework/misc/binding.md) for the custom binding.  \n  \n## Example  \n The following code example specifies that the `Service.HelloWorldService` uses a custom binding to interoperate with WSE 3.0 clients. The custom binding specifies that the August 2004 version of the WS-Addressing and the WS-Security 1.1 set of specifications are used to encode the exchanged messages. The messages are secured using the <xref:System.ServiceModel.Configuration.AuthenticationMode> authentication mode.  \n  \n```  \n<configuration>  \n  <system.serviceModel>  \n    <services>  \n      <service   \n        behaviorConfiguration=\"ServiceBehavior\"   \n        name=\"Service.HelloWorldService\">  \n        <endpoint binding=\"customBinding\" address=\"\"  \n          bindingConfiguration=\"ServiceBinding\"  \n          contract=\"Service.IHelloWorld\"></endpoint>  \n      </service>  \n    </services>  \n  \n    <bindings>  \n      <customBinding>  \n        <binding name=\"ServiceBinding\">  \n          <security authenticationMode=\"AnonymousForCertificate\"  \n                  messageProtectionOrder=\"SignBeforeEncrypt\"  \n                  messageSecurityVersion=\"WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10\"  \n                  requireDerivedKeys=\"false\">  \n          </security>  \n          <textMessageEncoding messageVersion =\"Soap11WSAddressingAugust2004\"></textMessageEncoding>  \n          <httpTransport/>  \n        </binding>  \n      </customBinding>  \n    </bindings>  \n    <behaviors>  \n      <behavior name=\"ServiceBehavior\" returnUnknownExceptionsAsFaults=\"true\">  \n        <serviceCredentials>  \n          <serviceCertificate findValue=\"CN=WCFQuickstartServer\" storeLocation=\"LocalMachine\" storeName=\"My\" x509FindType=\"FindBySubjectDistinguishedName\"/>  \n        </serviceCredentials>  \n      </behavior>  \n    </behaviors>  \n  </system.serviceModel>  \n</configuration>  \n```  \n  \n## See Also  \n [How to: Customize a System-Provided Binding](../../../../docs/framework/wcf/extending/how-to-customize-a-system-provided-binding.md)","nodes":[{"pos":[4,387],"embed":true,"restype":"x-metadata","content":"title: \"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 0f38c4a0-49a6-437c-bdde-ad1d138d3c4a\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients | Microsoft Docs","nodes":[{"pos":[0,84],"content":"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients | Microsoft Docs","nodes":[{"content":"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients | Microsoft Docs","pos":[0,84]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[394,461],"content":"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients","linkify":"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients","nodes":[{"content":"How to: Configure WCF Services to Interoperate with WSE 3.0 Clients","pos":[0,67]}]},{"pos":[462,772],"content":"<ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> services are wire-level compatible with Web Services Enhancements 3.0 for Microsoft .NET (WSE) clients when <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> services are configured to use the August 2004 version of the WS-Addressing specification.","source":"[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services are wire-level compatible with Web Services Enhancements 3.0 for Microsoft .NET (WSE) clients when [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services are configured to use the August 2004 version of the WS-Addressing specification."},{"pos":[782,842],"content":"To enable a WCF service to interoperate with WSE 3.0 clients","linkify":"To enable a WCF service to interoperate with WSE 3.0 clients","nodes":[{"content":"To enable a WCF service to interoperate with WSE 3.0 clients","pos":[0,60]}]},{"pos":[852,948],"content":"Define a custom binding for the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service.","source":"Define a custom binding for the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service."},{"content":"To specify that the August 2004 version of the WS-Addressing specification is used for message encoding, a custom binding must be created.","pos":[959,1097]},{"pos":[1111,1346],"content":"Add a child <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>customBinding&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)</ept> to the <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>bindings&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md)</ept> of the service's configuration file.","source":"Add a child [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) to the [\\<bindings>](../../../../docs/framework/configure-apps/file-schema/wcf/bindings.md) of the service's configuration file."},{"pos":[1360,1596],"content":"Specify a name for the binding, by adding a <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>binding&gt;<ept id=\"p1\">](../../../../docs/framework/misc/binding.md)</ept> to the <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>customBinding&gt;<ept id=\"p2\">](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)</ept> and setting the <ph id=\"ph3\">`name`</ph> attribute.","source":"Specify a name for the binding, by adding a [\\<binding>](../../../../docs/framework/misc/binding.md) to the [\\<customBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) and setting the `name` attribute."},{"pos":[1610,1942],"content":"Specify an authentication mode and the version of the WS-Security specifications that are used to secure messages that are compatible with WSE 3.0, by adding a child <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept> to the <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>binding&gt;<ept id=\"p2\">](../../../../docs/framework/misc/binding.md)</ept>.","source":"Specify an authentication mode and the version of the WS-Security specifications that are used to secure messages that are compatible with WSE 3.0, by adding a child [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md) to the [\\<binding>](../../../../docs/framework/misc/binding.md)."},{"content":"To set the authentication mode, set the <ph id=\"ph1\">`authenicationMode`</ph> attribute of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept>.","pos":[1957,2136],"source":"To set the authentication mode, set the `authenicationMode` attribute of the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)."},{"content":"An authentication mode is roughly equivalent to a turnkey security assertion in WSE 3.0.","pos":[2137,2225]},{"content":"The following table maps authentication modes in <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> to turnkey security assertions in WSE 3.0.","pos":[2226,2373],"source":" The following table maps authentication modes in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] to turnkey security assertions in WSE 3.0."},{"content":"WCF Authentication Mode","pos":[2388,2411]},{"content":"WSE 3.0 turnkey security assertion","pos":[2412,2446]},{"content":"<ph id=\"ph1\">\\*</ph> One of the primary differences between the <ph id=\"ph2\">`mutualCertificate10Security`</ph> and <ph id=\"ph3\">`mutualCertificate11Security`</ph> turnkey security assertions is the version of the WS-Security specification that WSE uses to secure the SOAP messages.","pos":[3157,3385],"source":"\\* One of the primary differences between the `mutualCertificate10Security` and `mutualCertificate11Security` turnkey security assertions is the version of the WS-Security specification that WSE uses to secure the SOAP messages."},{"content":"For <ph id=\"ph1\">`mutualCertificate10Security`</ph>, WS-Security 1.0 is used, whereas WS-Security 1.1 is used for <ph id=\"ph2\">`mutualCertificate11Security`</ph>.","pos":[3386,3512],"source":" For `mutualCertificate10Security`, WS-Security 1.0 is used, whereas WS-Security 1.1 is used for `mutualCertificate11Security`."},{"content":"For <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph>, the version of the WS-Security specification is specified in the <ph id=\"ph2\">`messageSecurityVersion`</ph> attribute of the <bpt id=\"p1\">[</bpt><ph id=\"ph3\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept>.","pos":[3513,3783],"source":" For [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], the version of the WS-Security specification is specified in the `messageSecurityVersion` attribute of the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)."},{"content":"To set the version of the WS-Security specification that is used to secure SOAP messages, set the <ph id=\"ph1\">`messageSecurityVersion`</ph> attribute of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>security&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)</ept>.","pos":[3798,4040],"source":"To set the version of the WS-Security specification that is used to secure SOAP messages, set the `messageSecurityVersion` attribute of the [\\<security>](../../../../docs/framework/configure-apps/file-schema/wcf/security-of-custombinding.md)."},{"content":"To interoperate with WSE 3.0, set the value of the <ph id=\"ph1\">`messageSecurityVersion`</ph> attribute to <ph id=\"ph2\">&lt;xref:System.ServiceModel.MessageSecurityVersion.WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10%2A&gt;</ph>.","pos":[4041,4287],"source":" To interoperate with WSE 3.0, set the value of the `messageSecurityVersion` attribute to <xref:System.ServiceModel.MessageSecurityVersion.WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10%2A>."},{"pos":[4301,4687],"content":"Specify that the August 2004 version of the WS-Addressing specification is used by <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> by adding a <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>textMessageEncoding&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/textmessageencoding.md)</ept> and set the <ph id=\"ph3\">`messageVersion`</ph> to its value to <ph id=\"ph4\">&lt;xref:System.ServiceModel.Channels.MessageVersion.Soap11WSAddressingAugust2004%2A&gt;</ph>.","source":"Specify that the August 2004 version of the WS-Addressing specification is used by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] by adding a [\\<textMessageEncoding>](../../../../docs/framework/configure-apps/file-schema/wcf/textmessageencoding.md) and set the `messageVersion` to its value to <xref:System.ServiceModel.Channels.MessageVersion.Soap11WSAddressingAugust2004%2A>."},{"pos":[4703,4872],"content":"[!NOTE]\nWhen you are using SOAP 1.2, set the `messageVersion` attribute to <xref:System.ServiceModel.Channels.MessageVersion.Soap12WSAddressingAugust2004%2A>.","leadings":["","        >  "],"nodes":[{"content":"When you are using SOAP 1.2, set the <ph id=\"ph1\">`messageVersion`</ph> attribute to <ph id=\"ph2\">&lt;xref:System.ServiceModel.Channels.MessageVersion.Soap12WSAddressingAugust2004%2A&gt;</ph>.","pos":[8,158],"source":"When you are using SOAP 1.2, set the `messageVersion` attribute to <xref:System.ServiceModel.Channels.MessageVersion.Soap12WSAddressingAugust2004%2A>."}]},{"content":"Specify that the service uses the custom binding.","pos":[4882,4931]},{"pos":[4945,5100],"content":"Set the <ph id=\"ph1\">`binding`</ph> attribute of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>endpoint&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md)</ept> element to <ph id=\"ph3\">`customBinding`</ph>.","source":"Set the `binding` attribute of the [\\<endpoint>](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md) element to `customBinding`."},{"pos":[5114,5397],"content":"Set the <ph id=\"ph1\">`bindingConfiguration`</ph> attribute of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>endpoint&gt;<ept id=\"p1\">](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md)</ept> element to the value specified in the <ph id=\"ph3\">`name`</ph> attribute of the <bpt id=\"p2\">[</bpt><ph id=\"ph4\">\\&lt;</ph>binding&gt;<ept id=\"p2\">](../../../../docs/framework/misc/binding.md)</ept> for the custom binding.","source":"Set the `bindingConfiguration` attribute of the [\\<endpoint>](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md) element to the value specified in the `name` attribute of the [\\<binding>](../../../../docs/framework/misc/binding.md) for the custom binding."},{"pos":[5406,5413],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code example specifies that the <ph id=\"ph1\">`Service.HelloWorldService`</ph> uses a custom binding to interoperate with WSE 3.0 clients.","pos":[5417,5550],"source":"The following code example specifies that the `Service.HelloWorldService` uses a custom binding to interoperate with WSE 3.0 clients."},{"content":"The custom binding specifies that the August 2004 version of the WS-Addressing and the WS-Security 1.1 set of specifications are used to encode the exchanged messages.","pos":[5551,5718]},{"content":"The messages are secured using the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.AuthenticationMode&gt;</ph> authentication mode.","pos":[5719,5834],"source":" The messages are secured using the <xref:System.ServiceModel.Configuration.AuthenticationMode> authentication mode."},{"pos":[7268,7276],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[7280,7413],"content":"<bpt id=\"p1\">[</bpt>How to: Customize a System-Provided Binding<ept id=\"p1\">](../../../../docs/framework/wcf/extending/how-to-customize-a-system-provided-binding.md)</ept>","source":"[How to: Customize a System-Provided Binding](../../../../docs/framework/wcf/extending/how-to-customize-a-system-provided-binding.md)"}]}