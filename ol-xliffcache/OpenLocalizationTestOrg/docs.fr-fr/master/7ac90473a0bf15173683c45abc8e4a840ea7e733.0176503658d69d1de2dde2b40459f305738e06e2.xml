{"content":"---\ntitle: \"ICorDebugILFrame3::GetReturnValueForILOffset Method\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\napi_name: \n  - \"ICorDebugILFrame3.GetReturnValueForILOffset\"\napi_location: \n  - \"mscordbi.dll\"\napi_type: \n  - \"COM\"\nms.assetid: 06522727-5f64-4391-9331-11386883c352\ntopic_type: \n  - \"apiref\"\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# ICorDebugILFrame3::GetReturnValueForILOffset Method\nGets an \"ICorDebugValue\" object that encapsulates the return value of a function.  \n  \n## Syntax  \n  \n```cpp\nHRESULT GetReturnValueForILOffset(  \n    ULONG32 ILoffset,   \n    [out] ICorDebugValue **ppReturnValue  \n);  \n```  \n  \n## Parameters  \n `ILOffset`  \n The IL offset. See the Remarks section.  \n  \n `ppReturnValue`  \n A pointer to the address of an \"ICorDebugValue\" interface object that provides information about the return value of a function call.  \n  \n## Remarks  \n This method is used along with the [ICorDebugCode3::GetReturnValueLiveOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) method to get the return value of a method. It is particularly useful in the case of methods whose return values are ignored, as in the following two code examples. The first example calls the <xref:System.Int32.TryParse%2A?displayProperty=nameWithType> method, but ignores the method's return value.  \n  \n [!code-csharp[Unmanaged.Debugging.MRV#1](../../../../samples/snippets/csharp/VS_Snippets_CLR/unmanaged.debugging.mrv/cs/mrv1.cs#1)]\n [!code-vb[Unmanaged.Debugging.MRV#1](../../../../samples/snippets/visualbasic/VS_Snippets_CLR/unmanaged.debugging.mrv/vb/mrv1.vb#1)]  \n  \n The second example illustrates a much more common problem in debugging. Because a method is used as an argument in a method call, its return value is accessible only when the debugger steps through the called method. In many cases, particularly when the called method is defined in an external library, that is not possible.  \n  \n [!code-csharp[Unmanaged.Debugging.MRV#2](../../../../samples/snippets/csharp/VS_Snippets_CLR/unmanaged.debugging.mrv/cs/mrv2.cs#2)]\n [!code-vb[Unmanaged.Debugging.MRV#2](../../../../samples/snippets/visualbasic/VS_Snippets_CLR/unmanaged.debugging.mrv/vb/mrv2.vb#2)]  \n  \n If you pass the [ICorDebugCode3::GetReturnValueLiveOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) method an IL offset to a function call site, it returns one or more native offsets. The debugger can then set breakpoints on these native offsets in the function. When the debugger hits one of the breakpoints, you can then pass the same IL offset that you passed to this method to get the return value. The debugger should then clear all the breakpoints that it set.  \n  \n> [!WARNING]\n>  The [ICorDebugCode3::GetReturnValueLiveOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) and `ICorDebugILFrame3::GetReturnValueForILOffset` methods allow you to get return value information for reference types only. Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported.  \n  \n The IL offset specified by the `ILOffset` parameter should be at a function call site, and the debuggee should be stopped at a breakpoint set at the native offset returned by the [ICorDebugCode3::GetReturnValueLiveOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) method for the same IL offset. If the debuggee is not stopped at the correct location for the specified IL offset, the API will fail.  \n  \n If the function call doesn't return a value, the API will fail.  \n  \n The `ICorDebugILFrame3::GetReturnValueForILOffset` method is available only on x86-based and AMD64 systems.  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** CorDebug.idl, CorDebug.h  \n  \n **Library:** CorGuids.lib  \n  \n **.NET Framework Versions:** [!INCLUDE[net_current_v451plus](../../../../includes/net-current-v451plus-md.md)]  \n  \n## See also\n\n- [GetReturnValueLiveOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md)\n- [ICorDebugILFrame3 Interface](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-interface.md)\n","nodes":[{"pos":[4,351],"embed":true,"restype":"x-metadata","content":"title: \"ICorDebugILFrame3::GetReturnValueForILOffset Method\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\napi_name: \n  - \"ICorDebugILFrame3.GetReturnValueForILOffset\"\napi_location: \n  - \"mscordbi.dll\"\napi_type: \n  - \"COM\"\nms.assetid: 06522727-5f64-4391-9331-11386883c352\ntopic_type: \n  - \"apiref\"\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"ICorDebugILFrame3::GetReturnValueForILOffset Method","nodes":[{"pos":[0,51],"content":"ICorDebugILFrame3::GetReturnValueForILOffset Method","nodes":[{"content":"ICorDebugILFrame3::GetReturnValueForILOffset Method","pos":[0,51]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[358,409],"content":"ICorDebugILFrame3::GetReturnValueForILOffset Method","linkify":"ICorDebugILFrame3::GetReturnValueForILOffset Method","nodes":[{"content":"ICorDebugILFrame3::GetReturnValueForILOffset Method","pos":[0,51]}]},{"content":"Gets an \"ICorDebugValue\" object that encapsulates the return value of a function.","pos":[410,491]},{"pos":[500,506],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[641,651],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The IL offset.","pos":[669,683]},{"content":"See the Remarks section.","pos":[684,708]},{"content":"A pointer to the address of an \"ICorDebugValue\" interface object that provides information about the return value of a function call.","pos":[734,867]},{"pos":[876,883],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This method is used along with the <bpt id=\"p1\">[</bpt>ICorDebugCode3::GetReturnValueLiveOffset<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md)</ept> method to get the return value of a method.","pos":[887,1110],"source":"This method is used along with the [ICorDebugCode3::GetReturnValueLiveOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) method to get the return value of a method."},{"content":"It is particularly useful in the case of methods whose return values are ignored, as in the following two code examples.","pos":[1111,1231]},{"content":"The first example calls the <ph id=\"ph1\">&lt;xref:System.Int32.TryParse%2A?displayProperty=nameWithType&gt;</ph> method, but ignores the method's return value.","pos":[1232,1367],"source":" The first example calls the <xref:System.Int32.TryParse%2A?displayProperty=nameWithType> method, but ignores the method's return value."},{"content":"The second example illustrates a much more common problem in debugging.","pos":[1646,1717]},{"content":"Because a method is used as an argument in a method call, its return value is accessible only when the debugger steps through the called method.","pos":[1718,1862]},{"content":"In many cases, particularly when the called method is defined in an external library, that is not possible.","pos":[1863,1970]},{"content":"If you pass the <bpt id=\"p1\">[</bpt>ICorDebugCode3::GetReturnValueLiveOffset<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md)</ept> method an IL offset to a function call site, it returns one or more native offsets.","pos":[2249,2493],"source":"If you pass the [ICorDebugCode3::GetReturnValueLiveOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) method an IL offset to a function call site, it returns one or more native offsets."},{"content":"The debugger can then set breakpoints on these native offsets in the function.","pos":[2494,2572]},{"content":"When the debugger hits one of the breakpoints, you can then pass the same IL offset that you passed to this method to get the return value.","pos":[2573,2712]},{"content":"The debugger should then clear all the breakpoints that it set.","pos":[2713,2776]},{"pos":[2784,3213],"content":"[!WARNING]\n The [ICorDebugCode3::GetReturnValueLiveOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) and `ICorDebugILFrame3::GetReturnValueForILOffset` methods allow you to get return value information for reference types only. Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported.","leadings":["","> "],"nodes":[{"content":"The [ICorDebugCode3::GetReturnValueLiveOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) and `ICorDebugILFrame3::GetReturnValueForILOffset` methods allow you to get return value information for reference types only. Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported.","pos":[12,427],"nodes":[{"content":"The <bpt id=\"p1\">[</bpt>ICorDebugCode3::GetReturnValueLiveOffset Method<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md)</ept> and <ph id=\"ph1\">`ICorDebugILFrame3::GetReturnValueForILOffset`</ph> methods allow you to get return value information for reference types only.","pos":[0,282],"source":"The [ICorDebugCode3::GetReturnValueLiveOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) and `ICorDebugILFrame3::GetReturnValueForILOffset` methods allow you to get return value information for reference types only."},{"content":"Retrieving return value information from value types (that is, all types that derive from <ph id=\"ph1\">&lt;xref:System.ValueType&gt;</ph>) is not supported.","pos":[283,415],"source":" Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported."}]}]},{"content":"The IL offset specified by the <ph id=\"ph1\">`ILOffset`</ph> parameter should be at a function call site, and the debuggee should be stopped at a breakpoint set at the native offset returned by the <bpt id=\"p1\">[</bpt>ICorDebugCode3::GetReturnValueLiveOffset<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md)</ept> method for the same IL offset.","pos":[3220,3574],"source":"The IL offset specified by the `ILOffset` parameter should be at a function call site, and the debuggee should be stopped at a breakpoint set at the native offset returned by the [ICorDebugCode3::GetReturnValueLiveOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md) method for the same IL offset."},{"content":"If the debuggee is not stopped at the correct location for the specified IL offset, the API will fail.","pos":[3575,3677]},{"content":"If the function call doesn't return a value, the API will fail.","pos":[3684,3747]},{"pos":[3754,3861],"content":"The <ph id=\"ph1\">`ICorDebugILFrame3::GetReturnValueForILOffset`</ph> method is available only on x86-based and AMD64 systems.","source":"The `ICorDebugILFrame3::GetReturnValueForILOffset` method is available only on x86-based and AMD64 systems."},{"pos":[3870,3882],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3886,3990],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[3997,4033],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> CorDebug.idl, CorDebug.h","source":"**Header:** CorDebug.idl, CorDebug.h"},{"pos":[4040,4065],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> CorGuids.lib","source":"**Library:** CorGuids.lib"},{"pos":[4072,4182],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> <ph id=\"ph1\">[!INCLUDE[net_current_v451plus](../../../../includes/net-current-v451plus-md.md)]</ph>","source":"**.NET Framework Versions:** [!INCLUDE[net_current_v451plus](../../../../includes/net-current-v451plus-md.md)]"},{"pos":[4191,4199],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4203,4338],"content":"<bpt id=\"p1\">[</bpt>GetReturnValueLiveOffset Method<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md)</ept>","source":"[GetReturnValueLiveOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-getreturnvalueliveoffset-method.md)"},{"pos":[4341,4453],"content":"<bpt id=\"p1\">[</bpt>ICorDebugILFrame3 Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-interface.md)</ept>","source":"[ICorDebugILFrame3 Interface](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-interface.md)"}]}