{"content":"---\ntitle: \"Ordered Processing of Messages in Single Concurrency Mode\"\nms.date: \"03/30/2017\"\nms.assetid: a90f5662-a796-46cd-ae33-30a4072838af\n---\n# Ordered Processing of Messages in Single Concurrency Mode\nWCF makes no guarantees about the order in which messages are processed, unless the underlying channel is sessionful.  For instance, a WCF service that uses MsmqInputChannel, which is not a sessionful channel, will fail to process messages in order. There are some circumstances where a developer may want the in order processing behavior but not want to use sessions. This topic describes how to configure this behavior when a service is running in Single Concurrency Mode.  \n  \n## In-order Message Processing  \n A new attribute called <xref:System.ServiceModel.ServiceBehaviorAttribute.EnsureOrderedDispatch%2A> has been added to the <xref:System.ServiceModel.ServiceBehaviorAttribute>. When <xref:System.ServiceModel.ServiceBehaviorAttribute.EnsureOrderedDispatch%2A> is set to true and <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> is set to <xref:System.ServiceModel.ConcurrencyMode.Single> messages sent to the service will be processed in order. The following code snippet illustrates how to set these attributes.  \n  \n```  \n[ServiceBehavior(ConcurrencyMode = ConcurrencyMode.Single, EnsureOrderedDispatch = true )]  \n    class Service : IService  \n    {  \n         // ...  \n    }  \n```  \n  \n If <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> is set to any other value, an <xref:System.InvalidOperationException> is thrown.  \n  \n## See also\n\n- [Sessions, Instancing, and Concurrency](../../../../docs/framework/wcf/feature-details/sessions-instancing-and-concurrency.md)\n- [Concurrency](../../../../docs/framework/wcf/samples/concurrency.md)\n","nodes":[{"pos":[4,141],"embed":true,"restype":"x-metadata","content":"title: \"Ordered Processing of Messages in Single Concurrency Mode\"\nms.date: \"03/30/2017\"\nms.assetid: a90f5662-a796-46cd-ae33-30a4072838af","nodes":[{"content":"Ordered Processing of Messages in Single Concurrency Mode","nodes":[{"pos":[0,57],"content":"Ordered Processing of Messages in Single Concurrency Mode","nodes":[{"content":"Ordered Processing of Messages in Single Concurrency Mode","pos":[0,57]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[148,205],"content":"Ordered Processing of Messages in Single Concurrency Mode","linkify":"Ordered Processing of Messages in Single Concurrency Mode","nodes":[{"content":"Ordered Processing of Messages in Single Concurrency Mode","pos":[0,57]}]},{"content":"WCF makes no guarantees about the order in which messages are processed, unless the underlying channel is sessionful.","pos":[206,323]},{"content":"For instance, a WCF service that uses MsmqInputChannel, which is not a sessionful channel, will fail to process messages in order.","pos":[325,455]},{"content":"There are some circumstances where a developer may want the in order processing behavior but not want to use sessions.","pos":[456,574]},{"content":"This topic describes how to configure this behavior when a service is running in Single Concurrency Mode.","pos":[575,680]},{"pos":[689,716],"content":"In-order Message Processing","linkify":"In-order Message Processing","nodes":[{"content":"In-order Message Processing","pos":[0,27]}]},{"content":"A new attribute called <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceBehaviorAttribute.EnsureOrderedDispatch%2A&gt;</ph> has been added to the <ph id=\"ph2\">&lt;xref:System.ServiceModel.ServiceBehaviorAttribute&gt;</ph>.","pos":[720,894],"source":"A new attribute called <xref:System.ServiceModel.ServiceBehaviorAttribute.EnsureOrderedDispatch%2A> has been added to the <xref:System.ServiceModel.ServiceBehaviorAttribute>."},{"content":"When <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceBehaviorAttribute.EnsureOrderedDispatch%2A&gt;</ph> is set to true and <ph id=\"ph2\">&lt;xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A&gt;</ph> is set to <ph id=\"ph3\">&lt;xref:System.ServiceModel.ConcurrencyMode.Single&gt;</ph> messages sent to the service will be processed in order.","pos":[895,1183],"source":" When <xref:System.ServiceModel.ServiceBehaviorAttribute.EnsureOrderedDispatch%2A> is set to true and <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> is set to <xref:System.ServiceModel.ConcurrencyMode.Single> messages sent to the service will be processed in order."},{"content":"The following code snippet illustrates how to set these attributes.","pos":[1184,1251]},{"pos":[1431,1585],"content":"If <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A&gt;</ph> is set to any other value, an <ph id=\"ph2\">&lt;xref:System.InvalidOperationException&gt;</ph> is thrown.","source":"If <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> is set to any other value, an <xref:System.InvalidOperationException> is thrown."},{"pos":[1594,1602],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1606,1732],"content":"<bpt id=\"p1\">[</bpt>Sessions, Instancing, and Concurrency<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/sessions-instancing-and-concurrency.md)</ept>","source":"[Sessions, Instancing, and Concurrency](../../../../docs/framework/wcf/feature-details/sessions-instancing-and-concurrency.md)"},{"pos":[1735,1803],"content":"<bpt id=\"p1\">[</bpt>Concurrency<ept id=\"p1\">](../../../../docs/framework/wcf/samples/concurrency.md)</ept>","source":"[Concurrency](../../../../docs/framework/wcf/samples/concurrency.md)"}]}