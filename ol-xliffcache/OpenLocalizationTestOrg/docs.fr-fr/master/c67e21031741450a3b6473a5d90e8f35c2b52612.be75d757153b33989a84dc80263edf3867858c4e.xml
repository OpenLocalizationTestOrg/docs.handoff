{"content":"---\ntitle: \"Monitoring Service Operation Failures | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 59472ba3-8ebf-4479-bd7b-f440d5e636cb\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Monitoring Service Operation Failures\nIf analytic tracing is enabled for an application, service failures can easily be monitored in the event viewer.  This topic demonstrates how to determine when a service operation fails, and how to determine what caused the failure.  \n  \n### Determining service operation failure information  \n  \n1.  Open Event Viewer by clicking **Start**, **Run**, and entering `eventvwr.exe`.  \n  \n2.  If you haven’t enabled analytic tracing, expand **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**. Select **View**, **Show Analytic and Debug Logs**. Right-click **Analytic** and select **Enable Log**. Leave Event Viewer open so that traces can be viewed after the service operation fails.  \n  \n3.  Next, open the sample created in the [Getting Started Tutorial](../../../../../docs/framework/wcf/getting-started-tutorial.md) in [!INCLUDE[vs_current_long](../../../../../includes/vs-current-long-md.md)] Note that you must run [!INCLUDE[vs_current_long](../../../../../includes/vs-current-long-md.md)] as an administrator so that the service can be created. If you have the [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] samples installed, you can open the [Getting Started](../../../../../docs/framework/wcf/samples/getting-started-sample.md), which contains the completed project created in the tutorial.  \n  \n4.  In the Program.cs file in the Server project, add the following line of code to the start of the `Divide` method in the `CalculatorService` class:  \n  \n    ```  \n    if (n2 == 0) throw new DivideByZeroException();  \n  \n    ```  \n  \n5.  In the Program.cs file in the Client project, change the value assigned to value2 to zero:  \n  \n    ```  \n    //Call the Divide service operation  \n    value1 = 22.00D;  \n    value2 = 0.00D;  \n    result = client.Divide(value1, value2);  \n    Console.WriteLine(\"Divide({0}, {1}) = {2}\", value1, value2, result);  \n  \n    ```  \n  \n6.  Execute the server application without debugging by pressing **Ctrl+F5**.  \n  \n7.  Open a Visual Studio command prompt.  Navigate to the client directory and execute the client from the command line.  \n  \n8.  In Event Viewer, disable and refresh the Analytic log and sort the events by Event ID.  Look for an event with Event ID [219 - ServiceException](../../../../../docs/framework/wcf/diagnostics/etw/219-serviceexception.md), which describes the service failure.  \n  \n    ```Output  \n    There was an unhandled exception of type 'System.DivideByZeroException' during message processing.  Full Exception ToString: System.DivideByZeroException: Attempted to divide by zero.  \n    ```  \n  \n    > [!NOTE]\n    >  Events are buffered when being sent to the event viewer; the failure event may not appear right away.","nodes":[{"pos":[12,66],"content":"Monitoring Service Operation Failures | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Monitoring Service Operation Failures | Microsoft Docs","pos":[0,54]}]},{"pos":[364,401],"content":"Monitoring Service Operation Failures","linkify":"Monitoring Service Operation Failures","nodes":[{"content":"Monitoring Service Operation Failures","pos":[0,37]}]},{"content":"If analytic tracing is enabled for an application, service failures can easily be monitored in the event viewer.","pos":[402,514]},{"content":"This topic demonstrates how to determine when a service operation fails, and how to determine what caused the failure.","pos":[516,634]},{"pos":[644,693],"content":"Determining service operation failure information","linkify":"Determining service operation failure information","nodes":[{"content":"Determining service operation failure information","pos":[0,49]}]},{"pos":[703,781],"content":"Open Event Viewer by clicking <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Run<ept id=\"p2\">**</ept>, and entering <ph id=\"ph1\">`eventvwr.exe`</ph>.","source":"Open Event Viewer by clicking **Start**, **Run**, and entering `eventvwr.exe`."},{"content":"If you haven’t enabled analytic tracing, expand <bpt id=\"p1\">**</bpt>Applications and Services Logs<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Microsoft<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Windows<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Application Server-Applications<ept id=\"p4\">**</ept>.","pos":[791,939],"source":"If you haven’t enabled analytic tracing, expand **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**."},{"content":"Select <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Show Analytic and Debug Logs<ept id=\"p2\">**</ept>.","pos":[940,990],"source":" Select **View**, **Show Analytic and Debug Logs**."},{"content":"Right-click <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Enable Log<ept id=\"p2\">**</ept>.","pos":[991,1042],"source":" Right-click **Analytic** and select **Enable Log**."},{"content":"Leave Event Viewer open so that traces can be viewed after the service operation fails.","pos":[1043,1130]},{"content":"Next, open the sample created in the <bpt id=\"p1\">[</bpt>Getting Started Tutorial<ept id=\"p1\">](../../../../../docs/framework/wcf/getting-started-tutorial.md)</ept> in <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../../includes/vs-current-long-md.md)]</ph> Note that you must run <ph id=\"ph2\">[!INCLUDE[vs_current_long](../../../../../includes/vs-current-long-md.md)]</ph> as an administrator so that the service can be created.","pos":[1140,1498],"source":"Next, open the sample created in the [Getting Started Tutorial](../../../../../docs/framework/wcf/getting-started-tutorial.md) in [!INCLUDE[vs_current_long](../../../../../includes/vs-current-long-md.md)] Note that you must run [!INCLUDE[vs_current_long](../../../../../includes/vs-current-long-md.md)] as an administrator so that the service can be created."},{"content":"If you have the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]</ph> samples installed, you can open the <bpt id=\"p1\">[</bpt>Getting Started<ept id=\"p1\">](../../../../../docs/framework/wcf/samples/getting-started-sample.md)</ept>, which contains the completed project created in the tutorial.","pos":[1499,1759],"source":" If you have the [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] samples installed, you can open the [Getting Started](../../../../../docs/framework/wcf/samples/getting-started-sample.md), which contains the completed project created in the tutorial."},{"pos":[1769,1915],"content":"In the Program.cs file in the Server project, add the following line of code to the start of the <ph id=\"ph1\">`Divide`</ph> method in the <ph id=\"ph2\">`CalculatorService`</ph> class:","source":"In the Program.cs file in the Server project, add the following line of code to the start of the `Divide` method in the `CalculatorService` class:"},{"content":"In the Program.cs file in the Client project, change the value assigned to value2 to zero:","pos":[2005,2095]},{"pos":[2339,2412],"content":"Execute the server application without debugging by pressing <bpt id=\"p1\">**</bpt>Ctrl+F5<ept id=\"p1\">**</ept>.","source":"Execute the server application without debugging by pressing **Ctrl+F5**."},{"content":"Open a Visual Studio command prompt.","pos":[2422,2458]},{"content":"Navigate to the client directory and execute the client from the command line.","pos":[2460,2538]},{"content":"In Event Viewer, disable and refresh the Analytic log and sort the events by Event ID.","pos":[2548,2634]},{"content":"Look for an event with Event ID <bpt id=\"p1\">[</bpt>219 - ServiceException<ept id=\"p1\">](../../../../../docs/framework/wcf/diagnostics/etw/219-serviceexception.md)</ept>, which describes the service failure.","pos":[2636,2805],"source":"  Look for an event with Event ID [219 - ServiceException](../../../../../docs/framework/wcf/diagnostics/etw/219-serviceexception.md), which describes the service failure."},{"pos":[3036,3152],"content":"[!NOTE]\nEvents are buffered when being sent to the event viewer; the failure event may not appear right away.","leadings":["","    >  "],"nodes":[{"content":"Events are buffered when being sent to the event viewer; the failure event may not appear right away.","pos":[8,109]}]}]}