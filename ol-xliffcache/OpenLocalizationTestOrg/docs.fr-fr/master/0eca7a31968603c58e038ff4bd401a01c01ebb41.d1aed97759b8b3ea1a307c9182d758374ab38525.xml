{"content":"---\ntitle: \"How to: Improve Performance by Avoiding Automatic Scaling | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"automatic scaling\"\n  - \"images [Windows Forms], improving performance\"\n  - \"images [Windows Forms], using without automatic scaling\"\n  - \"performance, improving image\"\nms.assetid: 5fe2c95d-8653-4d55-bf0d-e5afa28f223b\ncaps.latest.revision: 14\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# How to: Improve Performance by Avoiding Automatic Scaling\n[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] may automatically scale an image as you draw it, which would decrease performance. Alternatively, you can control the scaling of the image by passing the dimensions of the destination rectangle to the <xref:System.Drawing.Graphics.DrawImage%2A> method.  \n  \n For example, the following call to the <xref:System.Drawing.Graphics.DrawImage%2A> method specifies an upper-left corner of (50, 30) but does not specify a destination rectangle.  \n  \n [!code-csharp[System.Drawing.WorkingWithImages#31](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/CS/Class1.cs#31)]\n [!code-vb[System.Drawing.WorkingWithImages#31](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/VB/Class1.vb#31)]  \n  \n Although this is the easiest version of the <xref:System.Drawing.Graphics.DrawImage%2A> method in terms of the number of required arguments, it is not necessarily the most efficient. If the resolution used by [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] (usually 96 dots per inch) is different from the resolution stored in the <xref:System.Drawing.Image> object, then the <xref:System.Drawing.Graphics.DrawImage%2A> method will scale the image. For example, suppose an <xref:System.Drawing.Image> object has a width of 216 pixels and a stored horizontal resolution value of 72 dots per inch. Because 216/72 is 3, <xref:System.Drawing.Graphics.DrawImage%2A> will scale the image so that it has a width of 3 inches at a resolution of 96 dots per inch. That is, <xref:System.Drawing.Graphics.DrawImage%2A> will display an image that has a width of 96x3 = 288 pixels.  \n  \n Even if your screen resolution is different from 96 dots per inch, [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] will probably scale the image as if the screen resolution were 96 dots per inch. That is because a [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] <xref:System.Drawing.Graphics> object is associated with a device context, and when [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] queries the device context for the screen resolution, the result is usually 96, regardless of the actual screen resolution. You can avoid automatic scaling by specifying the destination rectangle in the <xref:System.Drawing.Graphics.DrawImage%2A> method.  \n  \n## Example  \n The following example draws the same image twice. In the first case, the width and height of the destination rectangle are not specified, and the image is automatically scaled. In the second case, the width and height (measured in pixels) of the destination rectangle are specified to be the same as the width and height of the original image. The following illustration shows the image rendered twice.  \n  \n ![Scaled Texture](../../../../docs/framework/winforms/advanced/media/csscaledtexture1.png \"csscaledtexture1\")  \n  \n [!code-csharp[System.Drawing.WorkingWithImages#32](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/CS/Class1.cs#32)]\n [!code-vb[System.Drawing.WorkingWithImages#32](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/VB/Class1.vb#32)]  \n  \n## Compiling the Code  \n The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs> `e`, which is a parameter of the <xref:System.Windows.Forms.Control.Paint> event handler. Replace Texture.jpg with an image name and path that are valid on your system.  \n  \n## See Also  \n [Images, Bitmaps, and Metafiles](../../../../docs/framework/winforms/advanced/images-bitmaps-and-metafiles.md)   \n [Working with Images, Bitmaps, Icons, and Metafiles](../../../../docs/framework/winforms/advanced/working-with-images-bitmaps-icons-and-metafiles.md)","nodes":[{"pos":[4,612],"embed":true,"restype":"x-metadata","content":"title: \"How to: Improve Performance by Avoiding Automatic Scaling | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"automatic scaling\"\n  - \"images [Windows Forms], improving performance\"\n  - \"images [Windows Forms], using without automatic scaling\"\n  - \"performance, improving image\"\nms.assetid: 5fe2c95d-8653-4d55-bf0d-e5afa28f223b\ncaps.latest.revision: 14\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","nodes":[{"content":"How to: Improve Performance by Avoiding Automatic Scaling | Microsoft Docs","nodes":[{"pos":[0,74],"content":"How to: Improve Performance by Avoiding Automatic Scaling | Microsoft Docs","nodes":[{"content":"How to: Improve Performance by Avoiding Automatic Scaling | Microsoft Docs","pos":[0,74]}]}],"path":["title"]}],"yml":true},{"pos":[619,676],"content":"How to: Improve Performance by Avoiding Automatic Scaling","linkify":"How to: Improve Performance by Avoiding Automatic Scaling","nodes":[{"content":"How to: Improve Performance by Avoiding Automatic Scaling","pos":[0,57]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph> may automatically scale an image as you draw it, which would decrease performance.","pos":[677,827],"source":"[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] may automatically scale an image as you draw it, which would decrease performance."},{"content":"Alternatively, you can control the scaling of the image by passing the dimensions of the destination rectangle to the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> method.","pos":[828,997],"source":" Alternatively, you can control the scaling of the image by passing the dimensions of the destination rectangle to the <xref:System.Drawing.Graphics.DrawImage%2A> method."},{"content":"For example, the following call to the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> method specifies an upper-left corner of (50, 30) but does not specify a destination rectangle.","pos":[1004,1182],"source":"For example, the following call to the <xref:System.Drawing.Graphics.DrawImage%2A> method specifies an upper-left corner of (50, 30) but does not specify a destination rectangle."},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.WorkingWithImages#31<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/CS/Class1.cs#31)</ept><ept id=\"p1\">]</ept>","pos":[1189,1347],"source":"[!code-csharp[System.Drawing.WorkingWithImages#31](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/CS/Class1.cs#31)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>System.Drawing.WorkingWithImages#31<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/VB/Class1.vb#31)</ept><ept id=\"p1\">]</ept>","pos":[1349,1508],"source":"[!code-vb[System.Drawing.WorkingWithImages#31](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/VB/Class1.vb#31)]"},{"content":"Although this is the easiest version of the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> method in terms of the number of required arguments, it is not necessarily the most efficient.","pos":[1515,1697],"source":"Although this is the easiest version of the <xref:System.Drawing.Graphics.DrawImage%2A> method in terms of the number of required arguments, it is not necessarily the most efficient."},{"content":"If the resolution used by <ph id=\"ph1\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph> (usually 96 dots per inch) is different from the resolution stored in the <ph id=\"ph2\">&lt;xref:System.Drawing.Image&gt;</ph> object, then the <ph id=\"ph3\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> method will scale the image.","pos":[1698,1983],"source":" If the resolution used by [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] (usually 96 dots per inch) is different from the resolution stored in the <xref:System.Drawing.Image> object, then the <xref:System.Drawing.Graphics.DrawImage%2A> method will scale the image."},{"content":"For example, suppose an <ph id=\"ph1\">&lt;xref:System.Drawing.Image&gt;</ph> object has a width of 216 pixels and a stored horizontal resolution value of 72 dots per inch.","pos":[1984,2130],"source":" For example, suppose an <xref:System.Drawing.Image> object has a width of 216 pixels and a stored horizontal resolution value of 72 dots per inch."},{"content":"Because 216/72 is 3, <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> will scale the image so that it has a width of 3 inches at a resolution of 96 dots per inch.","pos":[2131,2288],"source":" Because 216/72 is 3, <xref:System.Drawing.Graphics.DrawImage%2A> will scale the image so that it has a width of 3 inches at a resolution of 96 dots per inch."},{"content":"That is, <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> will display an image that has a width of 96x3 = 288 pixels.","pos":[2289,2402],"source":" That is, <xref:System.Drawing.Graphics.DrawImage%2A> will display an image that has a width of 96x3 = 288 pixels."},{"content":"Even if your screen resolution is different from 96 dots per inch, <ph id=\"ph1\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph> will probably scale the image as if the screen resolution were 96 dots per inch.","pos":[2409,2624],"source":"Even if your screen resolution is different from 96 dots per inch, [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] will probably scale the image as if the screen resolution were 96 dots per inch."},{"content":"That is because a <ph id=\"ph1\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph> <ph id=\"ph2\">&lt;xref:System.Drawing.Graphics&gt;</ph> object is associated with a device context, and when <ph id=\"ph3\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph> queries the device context for the screen resolution, the result is usually 96, regardless of the actual screen resolution.","pos":[2625,2986],"source":" That is because a [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] <xref:System.Drawing.Graphics> object is associated with a device context, and when [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] queries the device context for the screen resolution, the result is usually 96, regardless of the actual screen resolution."},{"content":"You can avoid automatic scaling by specifying the destination rectangle in the <ph id=\"ph1\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> method.","pos":[2987,3117],"source":" You can avoid automatic scaling by specifying the destination rectangle in the <xref:System.Drawing.Graphics.DrawImage%2A> method."},{"pos":[3126,3133],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example draws the same image twice.","pos":[3137,3186]},{"content":"In the first case, the width and height of the destination rectangle are not specified, and the image is automatically scaled.","pos":[3187,3313]},{"content":"In the second case, the width and height (measured in pixels) of the destination rectangle are specified to be the same as the width and height of the original image.","pos":[3314,3480]},{"content":"The following illustration shows the image rendered twice.","pos":[3481,3539]},{"pos":[3546,3655],"content":"<bpt id=\"p1\">![</bpt>Scaled Texture<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/framework/winforms/advanced/media/csscaledtexture1.png \"</bpt>csscaledtexture1<ept id=\"p2\">\")</ept>","source":"![Scaled Texture](../../../../docs/framework/winforms/advanced/media/csscaledtexture1.png \"csscaledtexture1\")"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.Drawing.WorkingWithImages#32<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/CS/Class1.cs#32)</ept><ept id=\"p1\">]</ept>","pos":[3662,3820],"source":"[!code-csharp[System.Drawing.WorkingWithImages#32](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/CS/Class1.cs#32)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>System.Drawing.WorkingWithImages#32<ept id=\"p2\">](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/VB/Class1.vb#32)</ept><ept id=\"p1\">]</ept>","pos":[3822,3981],"source":"[!code-vb[System.Drawing.WorkingWithImages#32](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.WorkingWithImages/VB/Class1.vb#32)]"},{"pos":[3990,4008],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"content":"The preceding example is designed for use with Windows Forms, and it requires <ph id=\"ph1\">&lt;xref:System.Windows.Forms.PaintEventArgs&gt;</ph> <ph id=\"ph2\">`e`</ph>, which is a parameter of the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Control.Paint&gt;</ph> event handler.","pos":[4012,4222],"source":"The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs> `e`, which is a parameter of the <xref:System.Windows.Forms.Control.Paint> event handler."},{"content":"Replace Texture.jpg with an image name and path that are valid on your system.","pos":[4223,4301]},{"pos":[4310,4318],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Images, Bitmaps, and Metafiles<ept id=\"p1\">](../../../../docs/framework/winforms/advanced/images-bitmaps-and-metafiles.md)</ept><ph id=\"ph1\"> </ph>","pos":[4322,4433],"source":"[Images, Bitmaps, and Metafiles](../../../../docs/framework/winforms/advanced/images-bitmaps-and-metafiles.md) "},{"content":"<bpt id=\"p1\">[</bpt>Working with Images, Bitmaps, Icons, and Metafiles<ept id=\"p1\">](../../../../docs/framework/winforms/advanced/working-with-images-bitmaps-icons-and-metafiles.md)</ept>","pos":[4437,4586],"source":"[Working with Images, Bitmaps, Icons, and Metafiles](../../../../docs/framework/winforms/advanced/working-with-images-bitmaps-icons-and-metafiles.md)"}]}