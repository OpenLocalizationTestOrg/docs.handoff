{"content":"---\ntitle: \"Reducing System Restarts During .NET Framework 4.5 Installations\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \".NET Framework, reducing system restarts\"\n  - \"installing .NET Framework\"\n  - \"installation [.NET Framework]\"\nms.assetid: 7aa8cb72-dee9-4716-ac54-b17b9ae8218f\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Reducing System Restarts During .NET Framework 4.5 Installations\nThe [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] installer uses the [Restart Manager](https://go.microsoft.com/fwlink/?LinkId=231425) to prevent system restarts whenever possible during installation. If your app setup program installs the .NET Framework, it can interface with the Restart Manager to take advantage of this feature. For more information, see [How to: Get Progress from the .NET Framework 4.5 Installer](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md).  \n  \n## Reasons for a Restart  \n The [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] installation requires a system restart if a .NET Framework 4 app is in use during the installation. This is because the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] replaces .NET Framework 4 files and requires those files to be available during installation. In many cases, the restart can be prevented by preemptively detecting and closing.NET Framework 4 apps that are in use. However, some system apps should not be closed. In these cases, a restart cannot be avoided.  \n  \n## End-User Experience  \n An end-user who is doing a full installation of the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] is given the opportunity to avoid a system restart if the installer detects .NET Framework 4 apps in use. A message lists all running .NET Framework 4 apps and provides the option to close these apps before the installation. If the user confirms, these apps are shut down by the installer, and a system restart is avoided. If the user does not respond to the message within a certain amount of time, the installation continues without closing any apps.  \n  \n If the Restart Manager detects a situation that will require a system restart even if running apps are closed, the message is not displayed.  \n  \n ![Close Application Dialog](../../../docs/framework/deployment/media/closeapplicationdialog.png \"CloseApplicationDialog\")  \nPrompt for closing .NET Framework apps that are in use  \n  \n## Using a Chained Installer  \n If you want to redistribute the .NET Framework with your app, but you want to use your own setup program and UI, you can include (chain) the .NET Framework setup process to your setup process. For more information about chained installations, see [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md). To reduce system restarts in chained installations, the .NET Framework installer supplies your setup program with the list of apps to close. Your setup program must provide this information to the user through a user interface such as a message box, get the userâ€™s response, and then pass the response back to the .NET Framework installer. For an example of a chained installer, see the article [How to: Get Progress from the .NET Framework 4.5 Installer](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md).  \n  \n If you're using a chained installer, but you do not want to provide your own message box for closing apps, you can use the `/showrmui` and `/passive` options on the command line when you chain the .NET Framework setup process. When you use these options together, the installer shows the message box for closing apps if they can be closed to avoid a system restart. This message box behaves the same in passive mode as it does under the full user interface. See [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md) for the complete set of command-line options for the .NET Framework redistributable.  \n  \n## See also\n\n- [Deployment](../../../docs/framework/deployment/index.md)\n- [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md)\n- [How to: Get Progress from the .NET Framework 4.5 Installer](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md)\n","nodes":[{"pos":[4,322],"embed":true,"restype":"x-metadata","content":"title: \"Reducing System Restarts During .NET Framework 4.5 Installations\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \".NET Framework, reducing system restarts\"\n  - \"installing .NET Framework\"\n  - \"installation [.NET Framework]\"\nms.assetid: 7aa8cb72-dee9-4716-ac54-b17b9ae8218f\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Reducing System Restarts During .NET Framework 4.5 Installations","nodes":[{"pos":[0,64],"content":"Reducing System Restarts During .NET Framework 4.5 Installations","nodes":[{"content":"Reducing System Restarts During .NET Framework 4.5 Installations","pos":[0,64]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[329,393],"content":"Reducing System Restarts During .NET Framework 4.5 Installations","linkify":"Reducing System Restarts During .NET Framework 4.5 Installations","nodes":[{"content":"Reducing System Restarts During .NET Framework 4.5 Installations","pos":[0,64]}]},{"content":"The <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph> installer uses the <bpt id=\"p1\">[</bpt>Restart Manager<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=231425)</ept> to prevent system restarts whenever possible during installation.","pos":[394,601],"source":"The [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] installer uses the [Restart Manager](https://go.microsoft.com/fwlink/?LinkId=231425) to prevent system restarts whenever possible during installation."},{"content":"If your app setup program installs the .NET Framework, it can interface with the Restart Manager to take advantage of this feature.","pos":[602,733]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Get Progress from the .NET Framework 4.5 Installer<ept id=\"p1\">](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md)</ept>.","pos":[734,906],"source":" For more information, see [How to: Get Progress from the .NET Framework 4.5 Installer](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md)."},{"pos":[915,936],"content":"Reasons for a Restart","linkify":"Reasons for a Restart","nodes":[{"content":"Reasons for a Restart","pos":[0,21]}]},{"content":"The <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph> installation requires a system restart if a .NET Framework 4 app is in use during the installation.","pos":[940,1096],"source":"The [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] installation requires a system restart if a .NET Framework 4 app is in use during the installation."},{"content":"This is because the <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph> replaces .NET Framework 4 files and requires those files to be available during installation.","pos":[1097,1263],"source":" This is because the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] replaces .NET Framework 4 files and requires those files to be available during installation."},{"content":"In many cases, the restart can be prevented by preemptively detecting and closing.NET Framework 4 apps that are in use.","pos":[1264,1383]},{"content":"However, some system apps should not be closed.","pos":[1384,1431]},{"content":"In these cases, a restart cannot be avoided.","pos":[1432,1476]},{"pos":[1485,1504],"content":"End-User Experience","linkify":"End-User Experience","nodes":[{"content":"End-User Experience","pos":[0,19]}]},{"content":"An end-user who is doing a full installation of the <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph> is given the opportunity to avoid a system restart if the installer detects .NET Framework 4 apps in use.","pos":[1508,1718],"source":"An end-user who is doing a full installation of the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] is given the opportunity to avoid a system restart if the installer detects .NET Framework 4 apps in use."},{"content":"A message lists all running .NET Framework 4 apps and provides the option to close these apps before the installation.","pos":[1719,1837]},{"content":"If the user confirms, these apps are shut down by the installer, and a system restart is avoided.","pos":[1838,1935]},{"content":"If the user does not respond to the message within a certain amount of time, the installation continues without closing any apps.","pos":[1936,2065]},{"content":"If the Restart Manager detects a situation that will require a system restart even if running apps are closed, the message is not displayed.","pos":[2072,2212]},{"content":"<bpt id=\"p1\">![</bpt>Close Application Dialog<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../docs/framework/deployment/media/closeapplicationdialog.png \"</bpt>CloseApplicationDialog<ept id=\"p2\">\")</ept>","pos":[2219,2340],"source":"![Close Application Dialog](../../../docs/framework/deployment/media/closeapplicationdialog.png \"CloseApplicationDialog\")"},{"content":"Prompt for closing .NET Framework apps that are in use","pos":[2343,2397]},{"pos":[2406,2431],"content":"Using a Chained Installer","linkify":"Using a Chained Installer","nodes":[{"content":"Using a Chained Installer","pos":[0,25]}]},{"content":"If you want to redistribute the .NET Framework with your app, but you want to use your own setup program and UI, you can include (chain) the .NET Framework setup process to your setup process.","pos":[2435,2627]},{"content":"For more information about chained installations, see <bpt id=\"p1\">[</bpt>Deployment Guide for Developers<ept id=\"p1\">](../../../docs/framework/deployment/deployment-guide-for-developers.md)</ept>.","pos":[2628,2787],"source":" For more information about chained installations, see [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md)."},{"content":"To reduce system restarts in chained installations, the .NET Framework installer supplies your setup program with the list of apps to close.","pos":[2788,2928]},{"content":"Your setup program must provide this information to the user through a user interface such as a message box, get the userâ€™s response, and then pass the response back to the .NET Framework installer.","pos":[2929,3127]},{"content":"For an example of a chained installer, see the article <bpt id=\"p1\">[</bpt>How to: Get Progress from the .NET Framework 4.5 Installer<ept id=\"p1\">](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md)</ept>.","pos":[3128,3329],"source":" For an example of a chained installer, see the article [How to: Get Progress from the .NET Framework 4.5 Installer](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md)."},{"content":"If you're using a chained installer, but you do not want to provide your own message box for closing apps, you can use the <ph id=\"ph1\">`/showrmui`</ph> and <ph id=\"ph2\">`/passive`</ph> options on the command line when you chain the .NET Framework setup process.","pos":[3336,3562],"source":"If you're using a chained installer, but you do not want to provide your own message box for closing apps, you can use the `/showrmui` and `/passive` options on the command line when you chain the .NET Framework setup process."},{"content":"When you use these options together, the installer shows the message box for closing apps if they can be closed to avoid a system restart.","pos":[3563,3701]},{"content":"This message box behaves the same in passive mode as it does under the full user interface.","pos":[3702,3793]},{"content":"See <bpt id=\"p1\">[</bpt>Deployment Guide for Developers<ept id=\"p1\">](../../../docs/framework/deployment/deployment-guide-for-developers.md)</ept> for the complete set of command-line options for the .NET Framework redistributable.","pos":[3794,3987],"source":" See [Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md) for the complete set of command-line options for the .NET Framework redistributable."},{"pos":[3996,4004],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4008,4065],"content":"<bpt id=\"p1\">[</bpt>Deployment<ept id=\"p1\">](../../../docs/framework/deployment/index.md)</ept>","source":"[Deployment](../../../docs/framework/deployment/index.md)"},{"pos":[4068,4172],"content":"<bpt id=\"p1\">[</bpt>Deployment Guide for Developers<ept id=\"p1\">](../../../docs/framework/deployment/deployment-guide-for-developers.md)</ept>","source":"[Deployment Guide for Developers](../../../docs/framework/deployment/deployment-guide-for-developers.md)"},{"pos":[4175,4320],"content":"<bpt id=\"p1\">[</bpt>How to: Get Progress from the .NET Framework 4.5 Installer<ept id=\"p1\">](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md)</ept>","source":"[How to: Get Progress from the .NET Framework 4.5 Installer](../../../docs/framework/deployment/how-to-get-progress-from-the-dotnet-installer.md)"}]}