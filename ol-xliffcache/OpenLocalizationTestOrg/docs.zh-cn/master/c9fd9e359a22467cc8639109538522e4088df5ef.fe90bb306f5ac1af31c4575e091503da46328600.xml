{"content":"---\ntitle: Using .NET Core SDK and tools in Continuous Integration (CI)\ndescription: Information on the usage of the .NET Core SDK and its tools on the build server.\nauthor: guardrex\nms.date: 05/18/2017\nms.custom: seodec18\n---\n# Using .NET Core SDK and tools in Continuous Integration (CI)\n\nThis document outlines using the .NET Core SDK and its tools on a build server. The .NET Core toolset works both interactively, where a developer types commands at a command prompt, and automatically, where a Continuous Integration (CI) server runs a build script. The commands, options, inputs, and outputs are the same, and the only things you supply are a way to acquire the tooling and a system to build your app. This document focuses on scenarios of tool acquisition for CI with recommendations on how to design and structure your build scripts.\n\n## Installation options for CI build servers\n\n### Using the native installers\n\nNative installers are available for macOS, Linux, and Windows. The installers require admin (sudo) access to the build server. The advantage of using a native installer is that it installs all of the native dependencies required for the tooling to run. Native installers also provide a system-wide installation of the SDK.\n\nmacOS users should use the PKG installers. On Linux, there's a choice of using a feed-based package manager, such as apt-get for Ubuntu or yum for CentOS, or using the packages themselves, DEB or RPM. On Windows, use the MSI installer.\n\nThe latest stable binaries are found at [.NET downloads](https://dotnet.microsoft.com/download). If you wish to use the latest (and potentially unstable) pre-release tooling, use the links provided at the [dotnet/core-sdk GitHub repository](https://github.com/dotnet/core-sdk#installers-and-binaries). For Linux distributions, `tar.gz` archives (also known as `tarballs`) are available; use the installation scripts within the archives to install .NET Core.\n\n### Using the installer script\n\nUsing the installer script allows for non-administrative installation on your build server and easy automation for obtaining the tooling. The script takes care of downloading the tooling and extracting it into a default or specified location for use. You can also specify a version of the tooling that you wish to install and whether you want to install the entire SDK or only the shared runtime.\n\nThe installer script is automated to run at the start of the build to fetch and install the desired version of the SDK. The *desired version* is whatever version of the SDK your projects require to build. The script allows you to install the SDK in a local directory on the server, run the tools from the installed location, and then clean up (or let the CI service clean up) after the build. This provides encapsulation and isolation to your entire build process. The installation script reference is found in the [dotnet-install](dotnet-install-script.md) article.\n\n> [!NOTE]\n> **Azure DevOps Services**\n>\n> When using the installer script, native dependencies aren't installed automatically. You must install the native dependencies if the operating system doesn't have them. For more information, see [Prerequisites for .NET Core on Linux](../linux-prerequisites.md).\n\n## CI setup examples\n\nThis section describes a manual setup using a PowerShell or bash script, along with a description of several software as a service (SaaS) CI solutions. The SaaS CI solutions covered are [Travis CI](https://travis-ci.org/), [AppVeyor](https://www.appveyor.com/), and [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/index).\n\n### Manual setup\n\nEach SaaS service has its own methods for creating and configuring a build process. If you use different SaaS solution than those listed or require customization beyond the pre-packaged support, you must perform at least some manual configuration.\n\nIn general, a manual setup requires you to acquire a version of the tools (or the latest nightly builds of the tools) and run your build script. You can use a PowerShell or bash script to orchestrate the .NET Core commands or use a project file that outlines the build process. The [orchestration section](#orchestrating-the-build) provides more detail on these options.\n\nAfter you create a script that performs a manual CI build server setup, use it on your dev machine to build your code locally for testing purposes. Once you confirm that the script is running well locally, deploy it to your CI build server. A relatively simple PowerShell script demonstrates how to obtain the .NET Core SDK and install it on a Windows build server:\n\n```powershell\n$ErrorActionPreference=\"Stop\"\n$ProgressPreference=\"SilentlyContinue\"\n\n# $LocalDotnet is the path to the locally-installed SDK to ensure the\n#   correct version of the tools are executed.\n$LocalDotnet=\"\"\n# $InstallDir and $CliVersion variables can come from options to the\n#   script.\n$InstallDir = \"./cli-tools\"\n$CliVersion = \"1.0.1\"\n\n# Test the path provided by $InstallDir to confirm it exists. If it\n#   does, it's removed. This is not strictly required, but it's a\n#   good way to reset the environment.\nif (Test-Path $InstallDir)\n{\n    rm -Recurse $InstallDir\n}\nNew-Item -Type \"directory\" -Path $InstallDir\n\nWrite-Host \"Downloading the CLI installer...\"\n\n# Use the Invoke-WebRequest PowerShell cmdlet to obtain the\n#   installation script and save it into the installation directory.\nInvoke-WebRequest `\n    -Uri \"https://dot.net/v1/dotnet-install.ps1\" `\n    -OutFile \"$InstallDir/dotnet-install.ps1\"\n\nWrite-Host \"Installing the CLI requested version ($CliVersion) ...\"\n\n# Install the SDK of the version specified in $CliVersion into the\n#   specified location ($InstallDir).\n& $InstallDir/dotnet-install.ps1 -Version $CliVersion `\n    -InstallDir $InstallDir\n\nWrite-Host \"Downloading and installation of the SDK is complete.\"\n\n# $LocalDotnet holds the path to dotnet.exe for future use by the\n#   script.\n$LocalDotnet = \"$InstallDir/dotnet\"\n\n# Run the build process now. Implement your build script here.\n```\n\nYou provide the implementation for your build process at the end of the script. The script acquires the tools and then executes your build process. For UNIX machines, the following bash script performs the actions described in the PowerShell script in a similar manner:\n\n```bash\n#!/bin/bash\nINSTALLDIR=\"cli-tools\"\nCLI_VERSION=1.0.1\nDOWNLOADER=$(which curl)\nif [ -d \"$INSTALLDIR\" ]\nthen\n    rm -rf \"$INSTALLDIR\"\nfi\nmkdir -p \"$INSTALLDIR\"\necho Downloading the CLI installer.\n$DOWNLOADER https://dot.net/v1/dotnet-install.sh > \"$INSTALLDIR/dotnet-install.sh\"\nchmod +x \"$INSTALLDIR/dotnet-install.sh\"\necho Installing the CLI requested version $CLI_VERSION. Please wait, installation may take a few minutes.\n\"$INSTALLDIR/dotnet-install.sh\" --install-dir \"$INSTALLDIR\" --version $CLI_VERSION\nif [ $? -ne 0 ]\nthen\n    echo Download of $CLI_VERSION version of the CLI failed. Exiting now.\n    exit 0\nfi\necho The CLI has been installed.\nLOCALDOTNET=\"$INSTALLDIR/dotnet\"\n# Run the build process now. Implement your build script here.\n```\n\n### Travis CI\n\nYou can configure [Travis CI](https://travis-ci.org/) to install the .NET Core SDK using the `csharp` language and the `dotnet` key. For more information, see the official Travis CI docs on [Building a C#, F#, or Visual Basic Project](https://docs.travis-ci.com/user/languages/csharp/). Note as you access the Travis CI information that the community-maintained `language: csharp` language identifier works for all .NET languages, including F#, and Mono.\n\nTravis CI runs both macOS and Linux jobs in a *build matrix*, where you specify a combination of runtime, environment, and exclusions/inclusions to cover your build combinations for your app. For more information, see the [Customizing the Build](https://docs.travis-ci.com/user/customizing-the-build) article in the Travis CI documentation. The MSBuild-based tools include the LTS (1.0.x) and Current (1.1.x) runtimes in the package; so by installing the SDK, you receive everything you need to build.\n\n### AppVeyor\n\n[AppVeyor](https://www.appveyor.com/) installs the .NET Core 1.0.1 SDK with the `Visual Studio 2017` build worker image. Other build images with different versions of the .NET Core SDK are available. For more information, see the [appveyor.yml example](https://github.com/dotnet/docs/blob/master/appveyor.yml) and the [Build worker images](https://www.appveyor.com/docs/build-environment/#build-worker-images) article in the AppVeyor docs.\n\nThe .NET Core SDK binaries are downloaded and unzipped in a subdirectory using the install script, and then they're added to the `PATH` environment variable. Add a build matrix to run integration tests with multiple versions of the .NET Core SDK:\n\n```yaml\nenvironment:\n  matrix:\n    - CLI_VERSION: 1.0.1\n    - CLI_VERSION: Latest\n\ninstall:\n  # See appveyor.yml example for install script\n```\n\n### Azure DevOps Services\n\nConfigure Azure DevOps Services to build .NET Core projects using one of these approaches:\n\n1. Run the script from the [manual setup step](#manual-setup) using your commands.\n1. Create a build composed of several Azure DevOps Services built-in build tasks that are configured to use .NET Core tools.\n\nBoth solutions are valid. Using a manual setup script, you control the version of the tools that you receive, since you download them as part of the build. The build is run from a script that you must create. This article only covers the manual option. For more information on composing a build with Azure DevOps Services build tasks, see the [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/index) documentation.\n\nTo use a manual setup script in Azure DevOps Services, create a new build definition and specify the script to run for the build step. This is accomplished using the Azure DevOps Services user interface:\n\n1. Start by creating a new build definition. Once you reach the screen that provides you an option to define what kind of a build you wish to create, select the **Empty** option.\n\n   ![Selecting an empty build definition](./media/using-ci-with-cli/select-empty-build-definition.png)\n\n1. After configuring the repository to build, you're directed to the build definitions. Select **Add build step**:\n\n   ![Adding a build step](./media/using-ci-with-cli/add-build-step.png)\n\n1. You're presented with the **Task catalog**. The catalog contains tasks that you use in the build. Since you have a script, select the **Add** button for **PowerShell: Run a PowerShell script**.\n\n   ![Adding a PowerShell script step](./media/using-ci-with-cli/add-powershell-script.png)\n\n1. Configure the build step. Add the script from the repository that you're building:\n\n   ![Specifying the PowerShell script to run](./media/using-ci-with-cli/powershell-script-path.png)\n\n## Orchestrating the build\n\nMost of this document describes how to acquire the .NET Core tools and configure various CI services without providing information on how to orchestrate, or *actually build*, your code with .NET Core. The choices on how to structure the build process depend on many factors that can't be covered in a general way here. For more information on orchestrating your builds with each technology, explore the resources and samples provided in the documentation sets of [Travis CI](https://travis-ci.org/), [AppVeyor](https://www.appveyor.com/), and [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/index).\n\nTwo general approaches that you take in structuring the build process for .NET Core code using the .NET Core tools are using MSBuild directly or using the .NET Core command-line commands. Which approach you should take is determined by your comfort level with the approaches and trade-offs in complexity. MSBuild provides you the ability to express your build process as tasks and targets, but it comes with the added complexity of learning MSBuild project file syntax. Using the .NET Core command-line tools is perhaps simpler, but it requires you to write orchestration logic in a scripting language like `bash` or PowerShell.\n\n## See also\n\n- [.NET downloads - Linux](https://dotnet.microsoft.com/download?initial-os=linux)\n","nodes":[{"pos":[4,222],"embed":true,"restype":"x-metadata","content":"title: Using .NET Core SDK and tools in Continuous Integration (CI)\ndescription: Information on the usage of the .NET Core SDK and its tools on the build server.\nauthor: guardrex\nms.date: 05/18/2017\nms.custom: seodec18","nodes":[{"content":"Using .NET Core SDK and tools in Continuous Integration (CI)","nodes":[{"pos":[0,60],"content":"Using .NET Core SDK and tools in Continuous Integration (CI)","nodes":[{"content":"Using .NET Core SDK and tools in Continuous Integration (CI)","pos":[0,60]}]}],"path":["title"],"nosxs":false},{"content":"Information on the usage of the .NET Core SDK and its tools on the build server.","nodes":[{"pos":[0,80],"content":"Information on the usage of the .NET Core SDK and its tools on the build server.","nodes":[{"content":"Information on the usage of the .NET Core SDK and its tools on the build server.","pos":[0,80]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[229,289],"content":"Using .NET Core SDK and tools in Continuous Integration (CI)","linkify":"Using .NET Core SDK and tools in Continuous Integration (CI)","nodes":[{"content":"Using .NET Core SDK and tools in Continuous Integration (CI)","pos":[0,60]}]},{"content":"This document outlines using the .NET Core SDK and its tools on a build server.","pos":[291,370]},{"content":"The .NET Core toolset works both interactively, where a developer types commands at a command prompt, and automatically, where a Continuous Integration (CI) server runs a build script.","pos":[371,555]},{"content":"The commands, options, inputs, and outputs are the same, and the only things you supply are a way to acquire the tooling and a system to build your app.","pos":[556,708]},{"content":"This document focuses on scenarios of tool acquisition for CI with recommendations on how to design and structure your build scripts.","pos":[709,842]},{"pos":[847,888],"content":"Installation options for CI build servers","linkify":"Installation options for CI build servers","nodes":[{"content":"Installation options for CI build servers","pos":[0,41]}]},{"pos":[894,921],"content":"Using the native installers","linkify":"Using the native installers","nodes":[{"content":"Using the native installers","pos":[0,27]}]},{"content":"Native installers are available for macOS, Linux, and Windows.","pos":[923,985]},{"content":"The installers require admin (sudo) access to the build server.","pos":[986,1049]},{"content":"The advantage of using a native installer is that it installs all of the native dependencies required for the tooling to run.","pos":[1050,1175]},{"content":"Native installers also provide a system-wide installation of the SDK.","pos":[1176,1245]},{"content":"macOS users should use the PKG installers.","pos":[1247,1289]},{"content":"On Linux, there's a choice of using a feed-based package manager, such as apt-get for Ubuntu or yum for CentOS, or using the packages themselves, DEB or RPM.","pos":[1290,1447]},{"content":"On Windows, use the MSI installer.","pos":[1448,1482]},{"content":"The latest stable binaries are found at <bpt id=\"p1\">[</bpt>.NET downloads<ept id=\"p1\">](https://dotnet.microsoft.com/download)</ept>.","pos":[1484,1580],"source":"The latest stable binaries are found at [.NET downloads](https://dotnet.microsoft.com/download)."},{"content":"If you wish to use the latest (and potentially unstable) pre-release tooling, use the links provided at the <bpt id=\"p1\">[</bpt>dotnet/core-sdk GitHub repository<ept id=\"p1\">](https://github.com/dotnet/core-sdk#installers-and-binaries)</ept>.","pos":[1581,1785],"source":" If you wish to use the latest (and potentially unstable) pre-release tooling, use the links provided at the [dotnet/core-sdk GitHub repository](https://github.com/dotnet/core-sdk#installers-and-binaries)."},{"content":"For Linux distributions, <ph id=\"ph1\">`tar.gz`</ph> archives (also known as <ph id=\"ph2\">`tarballs`</ph>) are available; use the installation scripts within the archives to install .NET Core.","pos":[1786,1941],"source":" For Linux distributions, `tar.gz` archives (also known as `tarballs`) are available; use the installation scripts within the archives to install .NET Core."},{"pos":[1947,1973],"content":"Using the installer script","linkify":"Using the installer script","nodes":[{"content":"Using the installer script","pos":[0,26]}]},{"content":"Using the installer script allows for non-administrative installation on your build server and easy automation for obtaining the tooling.","pos":[1975,2112]},{"content":"The script takes care of downloading the tooling and extracting it into a default or specified location for use.","pos":[2113,2225]},{"content":"You can also specify a version of the tooling that you wish to install and whether you want to install the entire SDK or only the shared runtime.","pos":[2226,2371]},{"content":"The installer script is automated to run at the start of the build to fetch and install the desired version of the SDK.","pos":[2373,2492]},{"content":"The <bpt id=\"p1\">*</bpt>desired version<ept id=\"p1\">*</ept> is whatever version of the SDK your projects require to build.","pos":[2493,2577],"source":" The *desired version* is whatever version of the SDK your projects require to build."},{"content":"The script allows you to install the SDK in a local directory on the server, run the tools from the installed location, and then clean up (or let the CI service clean up) after the build.","pos":[2578,2765]},{"content":"This provides encapsulation and isolation to your entire build process.","pos":[2766,2837]},{"content":"The installation script reference is found in the <bpt id=\"p1\">[</bpt>dotnet-install<ept id=\"p1\">](dotnet-install-script.md)</ept> article.","pos":[2838,2939],"source":" The installation script reference is found in the [dotnet-install](dotnet-install-script.md) article."},{"pos":[2943,2978],"content":"[!NOTE]\n**Azure DevOps Services**","leadings":["","> "],"nodes":[{"content":"<bpt id=\"p1\">**</bpt>Azure DevOps Services<ept id=\"p1\">**</ept>","pos":[8,33],"source":"**Azure DevOps Services**"}]},{"content":"When using the installer script, native dependencies aren't installed automatically.","pos":[2983,3067]},{"content":"You must install the native dependencies if the operating system doesn't have them.","pos":[3068,3151]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Prerequisites for .NET Core on Linux<ept id=\"p1\">](../linux-prerequisites.md)</ept>.","pos":[3152,3244],"source":" For more information, see [Prerequisites for .NET Core on Linux](../linux-prerequisites.md)."},{"pos":[3249,3266],"content":"CI setup examples","linkify":"CI setup examples","nodes":[{"content":"CI setup examples","pos":[0,17]}]},{"content":"This section describes a manual setup using a PowerShell or bash script, along with a description of several software as a service (SaaS) CI solutions.","pos":[3268,3419]},{"content":"The SaaS CI solutions covered are <bpt id=\"p1\">[</bpt>Travis CI<ept id=\"p1\">](https://travis-ci.org/)</ept>, <bpt id=\"p2\">[</bpt>AppVeyor<ept id=\"p2\">](https://www.appveyor.com/)</ept>, and <bpt id=\"p3\">[</bpt>Azure Pipelines<ept id=\"p3\">](https://docs.microsoft.com/azure/devops/pipelines/index)</ept>.","pos":[3420,3609],"source":" The SaaS CI solutions covered are [Travis CI](https://travis-ci.org/), [AppVeyor](https://www.appveyor.com/), and [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/index)."},{"pos":[3615,3627],"content":"Manual setup","linkify":"Manual setup","nodes":[{"content":"Manual setup","pos":[0,12]}]},{"content":"Each SaaS service has its own methods for creating and configuring a build process.","pos":[3629,3712]},{"content":"If you use different SaaS solution than those listed or require customization beyond the pre-packaged support, you must perform at least some manual configuration.","pos":[3713,3876]},{"content":"In general, a manual setup requires you to acquire a version of the tools (or the latest nightly builds of the tools) and run your build script.","pos":[3878,4022]},{"content":"You can use a PowerShell or bash script to orchestrate the .NET Core commands or use a project file that outlines the build process.","pos":[4023,4155]},{"content":"The <bpt id=\"p1\">[</bpt>orchestration section<ept id=\"p1\">](#orchestrating-the-build)</ept> provides more detail on these options.","pos":[4156,4248],"source":" The [orchestration section](#orchestrating-the-build) provides more detail on these options."},{"content":"After you create a script that performs a manual CI build server setup, use it on your dev machine to build your code locally for testing purposes.","pos":[4250,4397]},{"content":"Once you confirm that the script is running well locally, deploy it to your CI build server.","pos":[4398,4490]},{"content":"A relatively simple PowerShell script demonstrates how to obtain the .NET Core SDK and install it on a Windows build server:","pos":[4491,4615]},{"content":"You provide the implementation for your build process at the end of the script.","pos":[6047,6126]},{"content":"The script acquires the tools and then executes your build process.","pos":[6127,6194]},{"content":"For UNIX machines, the following bash script performs the actions described in the PowerShell script in a similar manner:","pos":[6195,6316]},{"pos":[7080,7089],"content":"Travis CI","linkify":"Travis CI","nodes":[{"content":"Travis CI","pos":[0,9]}]},{"content":"You can configure <bpt id=\"p1\">[</bpt>Travis CI<ept id=\"p1\">](https://travis-ci.org/)</ept> to install the .NET Core SDK using the <ph id=\"ph1\">`csharp`</ph> language and the <ph id=\"ph2\">`dotnet`</ph> key.","pos":[7091,7223],"source":"You can configure [Travis CI](https://travis-ci.org/) to install the .NET Core SDK using the `csharp` language and the `dotnet` key."},{"content":"For more information, see the official Travis CI docs on <bpt id=\"p1\">[</bpt>Building a C#, F#, or Visual Basic Project<ept id=\"p1\">](https://docs.travis-ci.com/user/languages/csharp/)</ept>.","pos":[7224,7377],"source":" For more information, see the official Travis CI docs on [Building a C#, F#, or Visual Basic Project](https://docs.travis-ci.com/user/languages/csharp/)."},{"content":"Note as you access the Travis CI information that the community-maintained <ph id=\"ph1\">`language: csharp`</ph> language identifier works for all .NET languages, including F#, and Mono.","pos":[7378,7545],"source":" Note as you access the Travis CI information that the community-maintained `language: csharp` language identifier works for all .NET languages, including F#, and Mono."},{"content":"Travis CI runs both macOS and Linux jobs in a <bpt id=\"p1\">*</bpt>build matrix<ept id=\"p1\">*</ept>, where you specify a combination of runtime, environment, and exclusions/inclusions to cover your build combinations for your app.","pos":[7547,7738],"source":"Travis CI runs both macOS and Linux jobs in a *build matrix*, where you specify a combination of runtime, environment, and exclusions/inclusions to cover your build combinations for your app."},{"content":"For more information, see the <bpt id=\"p1\">[</bpt>Customizing the Build<ept id=\"p1\">](https://docs.travis-ci.com/user/customizing-the-build)</ept> article in the Travis CI documentation.","pos":[7739,7887],"source":" For more information, see the [Customizing the Build](https://docs.travis-ci.com/user/customizing-the-build) article in the Travis CI documentation."},{"content":"The MSBuild-based tools include the LTS (1.0.x) and Current (1.1.x) runtimes in the package; so by installing the SDK, you receive everything you need to build.","pos":[7888,8048]},{"pos":[8054,8062],"content":"AppVeyor","linkify":"AppVeyor","nodes":[{"content":"AppVeyor","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>AppVeyor<ept id=\"p1\">](https://www.appveyor.com/)</ept> installs the .NET Core 1.0.1 SDK with the <ph id=\"ph1\">`Visual Studio 2017`</ph> build worker image.","pos":[8064,8184],"source":"[AppVeyor](https://www.appveyor.com/) installs the .NET Core 1.0.1 SDK with the `Visual Studio 2017` build worker image."},{"content":"Other build images with different versions of the .NET Core SDK are available.","pos":[8185,8263]},{"content":"For more information, see the <bpt id=\"p1\">[</bpt>appveyor.yml example<ept id=\"p1\">](https://github.com/dotnet/docs/blob/master/appveyor.yml)</ept> and the <bpt id=\"p2\">[</bpt>Build worker images<ept id=\"p2\">](https://www.appveyor.com/docs/build-environment/#build-worker-images)</ept> article in the AppVeyor docs.","pos":[8264,8503],"source":" For more information, see the [appveyor.yml example](https://github.com/dotnet/docs/blob/master/appveyor.yml) and the [Build worker images](https://www.appveyor.com/docs/build-environment/#build-worker-images) article in the AppVeyor docs."},{"content":"The .NET Core SDK binaries are downloaded and unzipped in a subdirectory using the install script, and then they're added to the <ph id=\"ph1\">`PATH`</ph> environment variable.","pos":[8505,8662],"source":"The .NET Core SDK binaries are downloaded and unzipped in a subdirectory using the install script, and then they're added to the `PATH` environment variable."},{"content":"Add a build matrix to run integration tests with multiple versions of the .NET Core SDK:","pos":[8663,8751]},{"pos":[8902,8923],"content":"Azure DevOps Services","linkify":"Azure DevOps Services","nodes":[{"content":"Azure DevOps Services","pos":[0,21]}]},{"content":"Configure Azure DevOps Services to build .NET Core projects using one of these approaches:","pos":[8925,9015]},{"pos":[9020,9099],"content":"Run the script from the <bpt id=\"p1\">[</bpt>manual setup step<ept id=\"p1\">](#manual-setup)</ept> using your commands.","source":"Run the script from the [manual setup step](#manual-setup) using your commands."},{"content":"Create a build composed of several Azure DevOps Services built-in build tasks that are configured to use .NET Core tools.","pos":[9103,9224]},{"content":"Both solutions are valid.","pos":[9226,9251]},{"content":"Using a manual setup script, you control the version of the tools that you receive, since you download them as part of the build.","pos":[9252,9381]},{"content":"The build is run from a script that you must create.","pos":[9382,9434]},{"content":"This article only covers the manual option.","pos":[9435,9478]},{"content":"For more information on composing a build with Azure DevOps Services build tasks, see the <bpt id=\"p1\">[</bpt>Azure Pipelines<ept id=\"p1\">](https://docs.microsoft.com/azure/devops/pipelines/index)</ept> documentation.","pos":[9479,9658],"source":" For more information on composing a build with Azure DevOps Services build tasks, see the [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/index) documentation."},{"content":"To use a manual setup script in Azure DevOps Services, create a new build definition and specify the script to run for the build step.","pos":[9660,9794]},{"content":"This is accomplished using the Azure DevOps Services user interface:","pos":[9795,9863]},{"content":"Start by creating a new build definition.","pos":[9868,9909]},{"content":"Once you reach the screen that provides you an option to define what kind of a build you wish to create, select the <bpt id=\"p1\">**</bpt>Empty<ept id=\"p1\">**</ept> option.","pos":[9910,10043],"source":" Once you reach the screen that provides you an option to define what kind of a build you wish to create, select the **Empty** option."},{"content":"Selecting an empty build definition","pos":[10050,10085]},{"content":"After configuring the repository to build, you're directed to the build definitions.","pos":[10152,10236]},{"content":"Select <bpt id=\"p1\">**</bpt>Add build step<ept id=\"p1\">**</ept>:","pos":[10237,10263],"source":" Select **Add build step**:"},{"content":"Adding a build step","pos":[10270,10289]},{"content":"You're presented with the <bpt id=\"p1\">**</bpt>Task catalog<ept id=\"p1\">**</ept>.","pos":[10341,10384],"source":"You're presented with the **Task catalog**."},{"content":"The catalog contains tasks that you use in the build.","pos":[10385,10438]},{"content":"Since you have a script, select the <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> button for <bpt id=\"p2\">**</bpt>PowerShell: Run a PowerShell script<ept id=\"p2\">**</ept>.","pos":[10439,10534],"source":" Since you have a script, select the **Add** button for **PowerShell: Run a PowerShell script**."},{"content":"Adding a PowerShell script step","pos":[10541,10572]},{"content":"Configure the build step.","pos":[10631,10656]},{"content":"Add the script from the repository that you're building:","pos":[10657,10713]},{"content":"Specifying the PowerShell script to run","pos":[10720,10759]},{"pos":[10819,10842],"content":"Orchestrating the build","linkify":"Orchestrating the build","nodes":[{"content":"Orchestrating the build","pos":[0,23]}]},{"content":"Most of this document describes how to acquire the .NET Core tools and configure various CI services without providing information on how to orchestrate, or <bpt id=\"p1\">*</bpt>actually build<ept id=\"p1\">*</ept>, your code with .NET Core.","pos":[10844,11044],"source":"Most of this document describes how to acquire the .NET Core tools and configure various CI services without providing information on how to orchestrate, or *actually build*, your code with .NET Core."},{"content":"The choices on how to structure the build process depend on many factors that can't be covered in a general way here.","pos":[11045,11162]},{"content":"For more information on orchestrating your builds with each technology, explore the resources and samples provided in the documentation sets of <bpt id=\"p1\">[</bpt>Travis CI<ept id=\"p1\">](https://travis-ci.org/)</ept>, <bpt id=\"p2\">[</bpt>AppVeyor<ept id=\"p2\">](https://www.appveyor.com/)</ept>, and <bpt id=\"p3\">[</bpt>Azure Pipelines<ept id=\"p3\">](https://docs.microsoft.com/azure/devops/pipelines/index)</ept>.","pos":[11163,11462],"source":" For more information on orchestrating your builds with each technology, explore the resources and samples provided in the documentation sets of [Travis CI](https://travis-ci.org/), [AppVeyor](https://www.appveyor.com/), and [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/index)."},{"content":"Two general approaches that you take in structuring the build process for .NET Core code using the .NET Core tools are using MSBuild directly or using the .NET Core command-line commands.","pos":[11464,11651]},{"content":"Which approach you should take is determined by your comfort level with the approaches and trade-offs in complexity.","pos":[11652,11768]},{"content":"MSBuild provides you the ability to express your build process as tasks and targets, but it comes with the added complexity of learning MSBuild project file syntax.","pos":[11769,11933]},{"content":"Using the .NET Core command-line tools is perhaps simpler, but it requires you to write orchestration logic in a scripting language like <ph id=\"ph1\">`bash`</ph> or PowerShell.","pos":[11934,12092],"source":" Using the .NET Core command-line tools is perhaps simpler, but it requires you to write orchestration logic in a scripting language like `bash` or PowerShell."},{"pos":[12097,12105],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[12109,12189],"content":"<bpt id=\"p1\">[</bpt>.NET downloads - Linux<ept id=\"p1\">](https://dotnet.microsoft.com/download?initial-os=linux)</ept>","source":"[.NET downloads - Linux](https://dotnet.microsoft.com/download?initial-os=linux)"}]}