{"content":"---\ntitle: \"Example: Handling Exceptions When Binding Data | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: bd63ed96-9853-46dc-ade5-7bd1b0f39110\ncaps.latest.revision: 7\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Example: Handling Exceptions When Binding Data\n> [!NOTE]\n>  This topic refers to the .NET Native Developer Preview, which is pre-release software. You can download the preview from the [Microsoft Connect website](http://go.microsoft.com/fwlink/?LinkId=394611) (requires registration).  \n  \n The following example shows how to resolve a [MissingMetadataException](../../../docs/framework/net-native/missingmetadataexception-class-net-native.md) exception that is thrown when an app compiled with the [!INCLUDE[net_native](../../../includes/net-native-md.md)] tool chain tries to bind data. Here’s the exception information:  \n  \n```  \n  \nThis operation cannot be carried out as metadata for the following type was removed for performance reasons:   \nApp.ViewModels.MainPageVM  \n  \n```  \n  \n Here's the associated call stack:  \n  \n```  \n  \nReflection::Execution::ReflectionDomainSetupImplementation.CreateNonInvokabilityException+0x238  \nReflection::Core::ReflectionDomain.CreateNonInvokabilityException+0x2e  \nReflection::Core::Execution::ExecutionEnvironment.+0x316  \nSystem::Reflection::Runtime::PropertyInfos::RuntimePropertyInfo.GetValue+0x1cb  \nSystem::Reflection::PropertyInfo.GetValue+0x22  \nSystem::Runtime::InteropServices::WindowsRuntime::CustomPropertyImpl.GetValue+0x42  \nApp!$66_Interop::McgNative.Func_IInspectable_IInspectable+0x158  \nApp!$66_Interop::McgNative::__vtable_Windows_UI_Xaml_Data__ICustomProperty.GetValue__STUB+0x46  \nWindows_UI_Xaml!DirectUI::PropertyProviderPropertyAccess::GetValue+0x3f   \nWindows_UI_Xaml!DirectUI::PropertyAccessPathStep::GetValue+0x31   \nWindows_UI_Xaml!DirectUI::PropertyPathListener::ConnectPathStep+0x113  \n  \n```  \n  \n## What was the app doing?  \n At the base of the stack, frames from the [Windows.UI.Xaml](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.aspx) namespace indicate that the XAML rendering engine was running.   The use of the <xref:System.Reflection.PropertyInfo.GetValue%2A?displayProperty=fullName> method indicates a reflection-based lookup of a property’s value on the type whose metadata was removed.  \n  \n The first step in providing a metadata directive would be to add `serialize` metadata for the type so that its properties are all accessible:  \n  \n```  \n<Type Name=\"App.ViewModels.MainPageVM\" Serialize=\"Required Public\" />  \n```  \n  \n## Is this an isolated case?  \n In this scenario, if data binding has incomplete metadata for one `ViewModel`, it may for others, too.  If the code is structured in a way that the app’s view models are all in the `App.ViewModels` namespace, you could use a more general runtime directive:  \n  \n```  \n<Namespace Name=\"App.ViewModels \" Serialize=\"Required Public\" />  \n```  \n  \n## Could the code be rewritten to not use reflection?  \n Because data binding is reflection-intensive, changing the code to avoid reflection isn’t feasible.  \n  \n However, there are ways to specify the `ViewModel` to the XAML page so that the tool chain can associate property bindings with the correct type at compile time and keep the metadata without using a runtime directive.  For example, you could apply the [Windows.UI.Xaml.Data.BindableAttribute](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.data.bindableattribute.aspx) attribute on properties. This causes the XAML compiler to generate the required lookup information and avoids requiring a runtime directive in the Default.rd.xml file.  \n  \n## See Also  \n [Getting Started](../../../docs/framework/net-native/getting-started-with-net-native.md)   \n [Example: Troubleshooting Dynamic Programming](../../../docs/framework/net-native/example-troubleshooting-dynamic-programming.md)","nodes":[{"pos":[12,75],"content":"Example: Handling Exceptions When Binding Data | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Example: Handling Exceptions When Binding Data | Microsoft Docs","pos":[0,63]}]},{"pos":[378,424],"content":"Example: Handling Exceptions When Binding Data","linkify":"Example: Handling Exceptions When Binding Data","nodes":[{"content":"Example: Handling Exceptions When Binding Data","pos":[0,46]}]},{"pos":[427,662],"content":"[!NOTE]\n This topic refers to the .NET Native Developer Preview, which is pre-release software. You can download the preview from the [Microsoft Connect website](http://go.microsoft.com/fwlink/?LinkId=394611) (requires registration).","leadings":["","> "],"nodes":[{"content":" This topic refers to the .NET Native Developer Preview, which is pre-release software. You can download the preview from the [Microsoft Connect website](http://go.microsoft.com/fwlink/?LinkId=394611) (requires registration).","pos":[8,233],"nodes":[{"content":"This topic refers to the .NET Native Developer Preview, which is pre-release software.","pos":[1,87]},{"content":"You can download the preview from the <bpt id=\"p1\">[</bpt>Microsoft Connect website<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=394611)</ept> (requires registration).","pos":[88,225],"source":" You can download the preview from the [Microsoft Connect website](http://go.microsoft.com/fwlink/?LinkId=394611) (requires registration)."}]}]},{"content":"The following example shows how to resolve a <bpt id=\"p1\">[</bpt>MissingMetadataException<ept id=\"p1\">](../../../docs/framework/net-native/missingmetadataexception-class-net-native.md)</ept> exception that is thrown when an app compiled with the <ph id=\"ph1\">[!INCLUDE[net_native](../../../includes/net-native-md.md)]</ph> tool chain tries to bind data.","pos":[669,966],"source":"The following example shows how to resolve a [MissingMetadataException](../../../docs/framework/net-native/missingmetadataexception-class-net-native.md) exception that is thrown when an app compiled with the [!INCLUDE[net_native](../../../includes/net-native-md.md)] tool chain tries to bind data."},{"content":"Here’s the exception information:","pos":[967,1000]},{"content":"Here's the associated call stack:","pos":[1168,1201]},{"pos":[2053,2076],"content":"What was the app doing?","linkify":"What was the app doing?","nodes":[{"content":"What was the app doing?","pos":[0,23]}]},{"content":"At the base of the stack, frames from the <bpt id=\"p1\">[</bpt>Windows.UI.Xaml<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.aspx)</ept> namespace indicate that the XAML rendering engine was running.","pos":[2080,2271],"source":"At the base of the stack, frames from the [Windows.UI.Xaml](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.aspx) namespace indicate that the XAML rendering engine was running."},{"content":"The use of the <ph id=\"ph1\">&lt;xref:System.Reflection.PropertyInfo.GetValue%2A?displayProperty=fullName&gt;</ph> method indicates a reflection-based lookup of a property’s value on the type whose metadata was removed.","pos":[2274,2468],"source":"   The use of the <xref:System.Reflection.PropertyInfo.GetValue%2A?displayProperty=fullName> method indicates a reflection-based lookup of a property’s value on the type whose metadata was removed."},{"pos":[2475,2616],"content":"The first step in providing a metadata directive would be to add <ph id=\"ph1\">`serialize`</ph> metadata for the type so that its properties are all accessible:","source":"The first step in providing a metadata directive would be to add `serialize` metadata for the type so that its properties are all accessible:"},{"pos":[2712,2737],"content":"Is this an isolated case?","linkify":"Is this an isolated case?","nodes":[{"content":"Is this an isolated case?","pos":[0,25]}]},{"content":"In this scenario, if data binding has incomplete metadata for one <ph id=\"ph1\">`ViewModel`</ph>, it may for others, too.","pos":[2741,2843],"source":"In this scenario, if data binding has incomplete metadata for one `ViewModel`, it may for others, too."},{"content":"If the code is structured in a way that the app’s view models are all in the <ph id=\"ph1\">`App.ViewModels`</ph> namespace, you could use a more general runtime directive:","pos":[2845,2997],"source":"  If the code is structured in a way that the app’s view models are all in the `App.ViewModels` namespace, you could use a more general runtime directive:"},{"pos":[3088,3138],"content":"Could the code be rewritten to not use reflection?","linkify":"Could the code be rewritten to not use reflection?","nodes":[{"content":"Could the code be rewritten to not use reflection?","pos":[0,50]}]},{"content":"Because data binding is reflection-intensive, changing the code to avoid reflection isn’t feasible.","pos":[3142,3241]},{"content":"However, there are ways to specify the <ph id=\"ph1\">`ViewModel`</ph> to the XAML page so that the tool chain can associate property bindings with the correct type at compile time and keep the metadata without using a runtime directive.","pos":[3248,3465],"source":"However, there are ways to specify the `ViewModel` to the XAML page so that the tool chain can associate property bindings with the correct type at compile time and keep the metadata without using a runtime directive."},{"content":"For example, you could apply the <bpt id=\"p1\">[</bpt>Windows.UI.Xaml.Data.BindableAttribute<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.data.bindableattribute.aspx)</ept> attribute on properties.","pos":[3467,3657],"source":"  For example, you could apply the [Windows.UI.Xaml.Data.BindableAttribute](http://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.data.bindableattribute.aspx) attribute on properties."},{"content":"This causes the XAML compiler to generate the required lookup information and avoids requiring a runtime directive in the Default.rd.xml file.","pos":[3658,3800]},{"pos":[3809,3817],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Getting Started<ept id=\"p1\">](../../../docs/framework/net-native/getting-started-with-net-native.md)</ept><ph id=\"ph1\"> </ph>","pos":[3821,3910],"source":"[Getting Started](../../../docs/framework/net-native/getting-started-with-net-native.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Example: Troubleshooting Dynamic Programming<ept id=\"p1\">](../../../docs/framework/net-native/example-troubleshooting-dynamic-programming.md)</ept>","pos":[3913,4043],"source":" [Example: Troubleshooting Dynamic Programming](../../../docs/framework/net-native/example-troubleshooting-dynamic-programming.md)"}]}