{"content":"---\ntitle: \"Understanding HTTP Authentication\"\nms.date: \"03/30/2017\"\nms.assetid: 9376309a-39e3-4819-b47b-a73982b57620\n---\n# Understanding HTTP Authentication\nAuthentication is the process of identifying whether a client is eligible to access a resource. The HTTP protocol supports authentication as a means of negotiating access to a secure resource.  \n  \n The initial request from a client is typically an anonymous request, not containing any authentication information. HTTP server applications can deny the anonymous request while indicating that authentication is required. The server application sends WWW-Authentication headers to indicate the supported authentication schemes. This document describes several authentication schemes for HTTP and discusses their support in Windows Communication Foundation (WCF).  \n  \n## HTTP Authentication Schemes  \n The server can specify multiple authentication schemes for the client to choose from. The following table describes some of the authentication schemes commonly found in Windows applications.  \n  \n|Authentication Scheme|Description|  \n|---------------------------|-----------------|  \n|Anonymous|An anonymous request does not contain any authentication information. This is equivalent to granting everyone access to the resource.|  \n|Basic|Basic authentication sends a Base64-encoded string that contains a user name and password for the client. Base64 is not a form of encryption and should be considered the same as sending the user name and password in clear text. If a resource needs to be protected, strongly consider using an authentication scheme other than basic authentication.|  \n|Digest|Digest authentication is a challenge-response scheme that is intended to replace Basic authentication. The server sends a string of random data called a *nonce* to the client as a challenge. The client responds with a hash that includes the user name, password, and nonce, among additional information. The complexity this exchange introduces and the data hashing make it more difficult to steal and reuse the user's credentials with this authentication scheme.<br /><br /> Digest authentication requires the use of Windows domain accounts. The digest *realm* is the Windows domain name. Therefore, you cannot use a server running on an operating system that does not support Windows domains, such as Windows XP Home Edition, with Digest authentication. Conversely, when the client runs on an operating system that does not support Windows domains, a domain account must be explicitly specified during the authentication.|  \n|NTLM|NT LAN Manager (NTLM) authentication is a challenge-response scheme that is a securer variation of Digest authentication. NTLM uses Windows credentials to transform the challenge data instead of the unencoded user name and password. NTLM authentication requires multiple exchanges between the client and server. The server and any intervening proxies must support persistent connections to successfully complete the authentication.|  \n|Negotiate|Negotiate authentication automatically selects between the Kerberos protocol and NTLM authentication, depending on availability. The Kerberos protocol is used if it is available; otherwise, NTLM is tried. Kerberos authentication significantly improves upon NTLM. Kerberos authentication is both faster than NTLM and allows the use of mutual authentication and delegation of credentials to remote machines.|  \n|Windows Live ID|The underlying Windows HTTP service includes authentication using federated protocols. However, the standard HTTP transports in WCF do not support the use of federated authentication schemes, such as Microsoft Windows Live ID. Support for this feature is currently available through the use of message security. For more information, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).|  \n  \n## Choosing an Authentication Scheme  \n When selecting the potential authentication schemes for an HTTP server, a few items to consider include the following:  \n  \n-   Consider whether the resource needs to be protected. Using HTTP authentication requires transmitting more data and can limit interoperability with clients. Allow anonymous access to resources that do not need to be protected.  \n  \n-   If the resource needs to be protected, consider which authentication schemes provide the required level of security. The weakest standard authentication scheme discussed here is Basic authentication. Basic authentication does not protect the user's credentials. The strongest standard authentication scheme is Negotiate authentication, resulting in the Kerberos protocol.  \n  \n-   A server should not present (in the WWW-Authentication headers) any scheme that it is not prepared to accept or that does not adequately secure the protected resource. Clients are free to choose between any of the authentication schemes the server presents. Some clients default to a weak authentication scheme or the first authentication scheme in the server's list.  \n  \n## See also\n\n- [Transport Security Overview](../../../../docs/framework/wcf/feature-details/transport-security-overview.md)\n- [Using Impersonation with Transport Security](../../../../docs/framework/wcf/feature-details/using-impersonation-with-transport-security.md)\n- [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)\n","nodes":[{"pos":[4,117],"embed":true,"restype":"x-metadata","content":"title: \"Understanding HTTP Authentication\"\nms.date: \"03/30/2017\"\nms.assetid: 9376309a-39e3-4819-b47b-a73982b57620","nodes":[{"content":"Understanding HTTP Authentication","nodes":[{"pos":[0,33],"content":"Understanding HTTP Authentication","nodes":[{"content":"Understanding HTTP Authentication","pos":[0,33]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[124,157],"content":"Understanding HTTP Authentication","linkify":"Understanding HTTP Authentication","nodes":[{"content":"Understanding HTTP Authentication","pos":[0,33]}]},{"content":"Authentication is the process of identifying whether a client is eligible to access a resource.","pos":[158,253]},{"content":"The HTTP protocol supports authentication as a means of negotiating access to a secure resource.","pos":[254,350]},{"content":"The initial request from a client is typically an anonymous request, not containing any authentication information.","pos":[357,472]},{"content":"HTTP server applications can deny the anonymous request while indicating that authentication is required.","pos":[473,578]},{"content":"The server application sends WWW-Authentication headers to indicate the supported authentication schemes.","pos":[579,684]},{"content":"This document describes several authentication schemes for HTTP and discusses their support in Windows Communication Foundation (WCF).","pos":[685,819]},{"pos":[828,855],"content":"HTTP Authentication Schemes","linkify":"HTTP Authentication Schemes","nodes":[{"content":"HTTP Authentication Schemes","pos":[0,27]}]},{"content":"The server can specify multiple authentication schemes for the client to choose from.","pos":[859,944]},{"content":"The following table describes some of the authentication schemes commonly found in Windows applications.","pos":[945,1049]},{"content":"Authentication Scheme","pos":[1056,1077]},{"content":"Description","pos":[1078,1089]},{"content":"Anonymous","pos":[1144,1153]},{"content":"An anonymous request does not contain any authentication information.","pos":[1154,1223]},{"content":"This is equivalent to granting everyone access to the resource.","pos":[1224,1287]},{"content":"Basic","pos":[1292,1297]},{"content":"Basic authentication sends a Base64-encoded string that contains a user name and password for the client.","pos":[1298,1403]},{"content":"Base64 is not a form of encryption and should be considered the same as sending the user name and password in clear text.","pos":[1404,1525]},{"content":"If a resource needs to be protected, strongly consider using an authentication scheme other than basic authentication.","pos":[1526,1644]},{"content":"Digest","pos":[1649,1655]},{"content":"Digest authentication is a challenge-response scheme that is intended to replace Basic authentication.","pos":[1656,1758]},{"content":"The server sends a string of random data called a <bpt id=\"p1\">*</bpt>nonce<ept id=\"p1\">*</ept> to the client as a challenge.","pos":[1759,1846],"source":" The server sends a string of random data called a *nonce* to the client as a challenge."},{"content":"The client responds with a hash that includes the user name, password, and nonce, among additional information.","pos":[1847,1958]},{"content":"The complexity this exchange introduces and the data hashing make it more difficult to steal and reuse the user's credentials with this authentication scheme.","pos":[1959,2117]},{"content":"Digest authentication requires the use of Windows domain accounts.","pos":[2130,2196]},{"content":"The digest <bpt id=\"p1\">*</bpt>realm<ept id=\"p1\">*</ept> is the Windows domain name.","pos":[2197,2243],"source":" The digest *realm* is the Windows domain name."},{"content":"Therefore, you cannot use a server running on an operating system that does not support Windows domains, such as Windows XP Home Edition, with Digest authentication.","pos":[2244,2409]},{"content":"Conversely, when the client runs on an operating system that does not support Windows domains, a domain account must be explicitly specified during the authentication.","pos":[2410,2577]},{"content":"NTLM","pos":[2582,2586]},{"content":"NT LAN Manager (NTLM) authentication is a challenge-response scheme that is a securer variation of Digest authentication.","pos":[2587,2708]},{"content":"NTLM uses Windows credentials to transform the challenge data instead of the unencoded user name and password.","pos":[2709,2819]},{"content":"NTLM authentication requires multiple exchanges between the client and server.","pos":[2820,2898]},{"content":"The server and any intervening proxies must support persistent connections to successfully complete the authentication.","pos":[2899,3018]},{"content":"Negotiate","pos":[3023,3032]},{"content":"Negotiate authentication automatically selects between the Kerberos protocol and NTLM authentication, depending on availability.","pos":[3033,3161]},{"content":"The Kerberos protocol is used if it is available; otherwise, NTLM is tried.","pos":[3162,3237]},{"content":"Kerberos authentication significantly improves upon NTLM.","pos":[3238,3295]},{"content":"Kerberos authentication is both faster than NTLM and allows the use of mutual authentication and delegation of credentials to remote machines.","pos":[3296,3438]},{"content":"Windows Live ID","pos":[3443,3458]},{"content":"The underlying Windows HTTP service includes authentication using federated protocols.","pos":[3459,3545]},{"content":"However, the standard HTTP transports in WCF do not support the use of federated authentication schemes, such as Microsoft Windows Live ID.","pos":[3546,3685]},{"content":"Support for this feature is currently available through the use of message security.","pos":[3686,3770]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Federation and Issued Tokens<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md)</ept>.","pos":[3771,3908],"source":" For more information, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md)."},{"pos":[3918,3951],"content":"Choosing an Authentication Scheme","linkify":"Choosing an Authentication Scheme","nodes":[{"content":"Choosing an Authentication Scheme","pos":[0,33]}]},{"content":"When selecting the potential authentication schemes for an HTTP server, a few items to consider include the following:","pos":[3955,4073]},{"content":"Consider whether the resource needs to be protected.","pos":[4083,4135]},{"content":"Using HTTP authentication requires transmitting more data and can limit interoperability with clients.","pos":[4136,4238]},{"content":"Allow anonymous access to resources that do not need to be protected.","pos":[4239,4308]},{"content":"If the resource needs to be protected, consider which authentication schemes provide the required level of security.","pos":[4318,4434]},{"content":"The weakest standard authentication scheme discussed here is Basic authentication.","pos":[4435,4517]},{"content":"Basic authentication does not protect the user's credentials.","pos":[4518,4579]},{"content":"The strongest standard authentication scheme is Negotiate authentication, resulting in the Kerberos protocol.","pos":[4580,4689]},{"content":"A server should not present (in the WWW-Authentication headers) any scheme that it is not prepared to accept or that does not adequately secure the protected resource.","pos":[4699,4866]},{"content":"Clients are free to choose between any of the authentication schemes the server presents.","pos":[4867,4956]},{"content":"Some clients default to a weak authentication scheme or the first authentication scheme in the server's list.","pos":[4957,5066]},{"pos":[5075,5083],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5087,5195],"content":"<bpt id=\"p1\">[</bpt>Transport Security Overview<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/transport-security-overview.md)</ept>","source":"[Transport Security Overview](../../../../docs/framework/wcf/feature-details/transport-security-overview.md)"},{"pos":[5198,5338],"content":"<bpt id=\"p1\">[</bpt>Using Impersonation with Transport Security<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/using-impersonation-with-transport-security.md)</ept>","source":"[Using Impersonation with Transport Security](../../../../docs/framework/wcf/feature-details/using-impersonation-with-transport-security.md)"},{"pos":[5341,5460],"content":"<bpt id=\"p1\">[</bpt>Delegation and Impersonation<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)</ept>","source":"[Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)"}]}