{"content":"---\ntitle: \"Bindings and Binding Elements\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"binding elements [WCF]\"\nms.assetid: 765ff77b-7682-4ea3-90eb-e4d751e37379\n---\n# Bindings and Binding Elements\nBindings are collections of special configuration elements, called *binding elements*, which are evaluated by the service runtime whenever a client or service endpoint is being constructed. The type and order of the binding elements within a binding determines the selection and stacking order of the protocol and transport channels in an endpoint's channel stack.  \n  \n Bindings, especially the system-provided bindings, usually also have a number of configuration properties that reflect the most commonly modified properties of the encapsulated binding elements.  \n  \n A binding must contain exactly one transport binding element. Each transport binding element implies a default message encoding binding element, which can be overridden by adding at most one message encoding binding element to the binding. In addition to the transport and encoder binding elements, the binding may contain any number of protocol binding elements that together implement the functionality needed to service and send a SOAP message from one endpoint to another. For details, see [Using Bindings to Configure Services and Clients](../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md).  \n  \n## Extending Bindings and Binding Elements  \n Windows Communication Foundation (WCF) includes system-provided bindings that cover a wide range of scenarios. (For more, see [System-Provided Bindings](../../../../docs/framework/wcf/system-provided-bindings.md).) There may be times, however, when you need to create and use a binding that is not included in WCF. The following scenarios require the creation of a new binding.  \n  \n-   To use a new binding element (such as a new transport, encoding, or protocol binding element), you must create a new binding that includes that binding element. For example, if you added a custom `UdpTransportBindingElement` for UDP transport, you would need to create a new binding to make use of it. For information about performing this behavior using the <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType> type, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md).  \n  \n-   To configure existing binding elements in a way that the system-provided bindings to not expose on public properties. For example, you must create a new binding to change the order in which signing and encryption operations are performed. For information about performing this behavior, see [How to: Customize a System-Provided Binding](../../../../docs/framework/wcf/extending/how-to-customize-a-system-provided-binding.md).  \n  \n-   To establish corporate standard bindings that expose only specific configuration options. For example, to create for your company a variant of the <xref:System.ServiceModel.WSHttpBinding> for your company in which security cannot be disabled, create a new binding that behaves like the <xref:System.ServiceModel.WSHttpBinding>, but with security always on. For details, see [Creating User-Defined Bindings](../../../../docs/framework/wcf/extending/creating-user-defined-bindings.md).  \n  \n-   To perform some customization of metadata, typically but not necessarily to configure or use some custom binding element. For more information about providing metadata support to bindings and binding elements, see [Configuration and Metadata Support](../../../../docs/framework/wcf/extending/configuration-and-metadata-support.md).  \n\n## Channels, Bindings, and Binding Elements  \n Bindings and binding elements are the connection between the application programming model, which includes the attributes and behaviors, and the channel model, which includes the factories and listeners, message encoders, and transport and protocol implementations. Typically, binding elements and bindings are implemented to enable channels to be used by the application layer.  \n  \n The channel layer hands off or receives messages to and from the service layer and transports those messages between endpoints. On a client, the channel layer is a stack of channel factories that create channels to a network endpoint. On a service, the channel layer is a stack of channel listeners that accept channels received at a network endpoint.  \n  \n There are two general types of channels: protocol channels and transport channels. Transport channels are responsible for the actual transmission of a message from one network endpoint to another. Transport channels must have a default message encoder and should be able to use an alternate message encoder supplied through a message encoder binding element. A message encoder is responsible for turning a <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> into a wire representation and vice-versa. Protocol channels are responsible for implementing SOAP-level protocols (for example, WS-Security or WS-ReliableMessaging).  \n  \n The primary requirement for transport and protocol channels is that they implement the required channel interfaces. To create a working channel layer they must have associated factories and listeners, and so on. To use the channel implementations from WCF there needs to be an associated binding elements derived from <xref:System.ServiceModel.Channels.BindingElement> for each channel and there should be a related binding extension element for inclusion into configuration files that derives from <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.  \n  \n As mentioned earlier, binding elements for message encoders, protocol, and transport channel implementations can be stacked to form a channel stack and the mechanism to line them up into an ordered set is the binding. Bindings and binding elements connect the application programming model to the channel model. You can use your channel implementations from code directly, but unless encoders, transports, and protocols are implemented as binding elements they cannot be used from the service layer programming model.  \n  \n For details about developing channels and their binding elements, see [Extending the Channel Layer](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md).\n","nodes":[{"pos":[4,164],"embed":true,"restype":"x-metadata","content":"title: \"Bindings and Binding Elements\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"binding elements [WCF]\"\nms.assetid: 765ff77b-7682-4ea3-90eb-e4d751e37379","nodes":[{"content":"Bindings and Binding Elements","nodes":[{"pos":[0,29],"content":"Bindings and Binding Elements","nodes":[{"content":"Bindings and Binding Elements","pos":[0,29]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[171,200],"content":"Bindings and Binding Elements","linkify":"Bindings and Binding Elements","nodes":[{"content":"Bindings and Binding Elements","pos":[0,29]}]},{"content":"Bindings are collections of special configuration elements, called <bpt id=\"p1\">*</bpt>binding elements<ept id=\"p1\">*</ept>, which are evaluated by the service runtime whenever a client or service endpoint is being constructed.","pos":[201,390],"source":"Bindings are collections of special configuration elements, called *binding elements*, which are evaluated by the service runtime whenever a client or service endpoint is being constructed."},{"content":"The type and order of the binding elements within a binding determines the selection and stacking order of the protocol and transport channels in an endpoint's channel stack.","pos":[391,565]},{"content":"Bindings, especially the system-provided bindings, usually also have a number of configuration properties that reflect the most commonly modified properties of the encapsulated binding elements.","pos":[572,766]},{"content":"A binding must contain exactly one transport binding element.","pos":[773,834]},{"content":"Each transport binding element implies a default message encoding binding element, which can be overridden by adding at most one message encoding binding element to the binding.","pos":[835,1012]},{"content":"In addition to the transport and encoder binding elements, the binding may contain any number of protocol binding elements that together implement the functionality needed to service and send a SOAP message from one endpoint to another.","pos":[1013,1249]},{"content":"For details, see <bpt id=\"p1\">[</bpt>Using Bindings to Configure Services and Clients<ept id=\"p1\">](../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)</ept>.","pos":[1250,1402],"source":" For details, see [Using Bindings to Configure Services and Clients](../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)."},{"pos":[1411,1450],"content":"Extending Bindings and Binding Elements","linkify":"Extending Bindings and Binding Elements","nodes":[{"content":"Extending Bindings and Binding Elements","pos":[0,39]}]},{"content":"Windows Communication Foundation (WCF) includes system-provided bindings that cover a wide range of scenarios.","pos":[1454,1564]},{"content":"(For more, see <bpt id=\"p1\">[</bpt>System-Provided Bindings<ept id=\"p1\">](../../../../docs/framework/wcf/system-provided-bindings.md)</ept>.) There may be times, however, when you need to create and use a binding that is not included in WCF.","pos":[1565,1768],"source":" (For more, see [System-Provided Bindings](../../../../docs/framework/wcf/system-provided-bindings.md).) There may be times, however, when you need to create and use a binding that is not included in WCF."},{"content":"The following scenarios require the creation of a new binding.","pos":[1769,1831]},{"content":"To use a new binding element (such as a new transport, encoding, or protocol binding element), you must create a new binding that includes that binding element.","pos":[1841,2001]},{"content":"For example, if you added a custom <ph id=\"ph1\">`UdpTransportBindingElement`</ph> for UDP transport, you would need to create a new binding to make use of it.","pos":[2002,2142],"source":" For example, if you added a custom `UdpTransportBindingElement` for UDP transport, you would need to create a new binding to make use of it."},{"content":"For information about performing this behavior using the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType&gt;</ph> type, see <bpt id=\"p1\">[</bpt>Custom Bindings<ept id=\"p1\">](../../../../docs/framework/wcf/extending/custom-bindings.md)</ept>.","pos":[2143,2368],"source":" For information about performing this behavior using the <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType> type, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md)."},{"content":"To configure existing binding elements in a way that the system-provided bindings to not expose on public properties.","pos":[2378,2495]},{"content":"For example, you must create a new binding to change the order in which signing and encryption operations are performed.","pos":[2496,2616]},{"content":"For information about performing this behavior, see <bpt id=\"p1\">[</bpt>How to: Customize a System-Provided Binding<ept id=\"p1\">](../../../../docs/framework/wcf/extending/how-to-customize-a-system-provided-binding.md)</ept>.","pos":[2617,2803],"source":" For information about performing this behavior, see [How to: Customize a System-Provided Binding](../../../../docs/framework/wcf/extending/how-to-customize-a-system-provided-binding.md)."},{"content":"To establish corporate standard bindings that expose only specific configuration options.","pos":[2813,2902]},{"content":"For example, to create for your company a variant of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WSHttpBinding&gt;</ph> for your company in which security cannot be disabled, create a new binding that behaves like the <ph id=\"ph2\">&lt;xref:System.ServiceModel.WSHttpBinding&gt;</ph>, but with security always on.","pos":[2903,3169],"source":" For example, to create for your company a variant of the <xref:System.ServiceModel.WSHttpBinding> for your company in which security cannot be disabled, create a new binding that behaves like the <xref:System.ServiceModel.WSHttpBinding>, but with security always on."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Creating User-Defined Bindings<ept id=\"p1\">](../../../../docs/framework/wcf/extending/creating-user-defined-bindings.md)</ept>.","pos":[3170,3296],"source":" For details, see [Creating User-Defined Bindings](../../../../docs/framework/wcf/extending/creating-user-defined-bindings.md)."},{"content":"To perform some customization of metadata, typically but not necessarily to configure or use some custom binding element.","pos":[3306,3427]},{"content":"For more information about providing metadata support to bindings and binding elements, see <bpt id=\"p1\">[</bpt>Configuration and Metadata Support<ept id=\"p1\">](../../../../docs/framework/wcf/extending/configuration-and-metadata-support.md)</ept>.","pos":[3428,3637],"source":" For more information about providing metadata support to bindings and binding elements, see [Configuration and Metadata Support](../../../../docs/framework/wcf/extending/configuration-and-metadata-support.md)."},{"pos":[3644,3684],"content":"Channels, Bindings, and Binding Elements","linkify":"Channels, Bindings, and Binding Elements","nodes":[{"content":"Channels, Bindings, and Binding Elements","pos":[0,40]}]},{"content":"Bindings and binding elements are the connection between the application programming model, which includes the attributes and behaviors, and the channel model, which includes the factories and listeners, message encoders, and transport and protocol implementations.","pos":[3688,3953]},{"content":"Typically, binding elements and bindings are implemented to enable channels to be used by the application layer.","pos":[3954,4066]},{"content":"The channel layer hands off or receives messages to and from the service layer and transports those messages between endpoints.","pos":[4073,4200]},{"content":"On a client, the channel layer is a stack of channel factories that create channels to a network endpoint.","pos":[4201,4307]},{"content":"On a service, the channel layer is a stack of channel listeners that accept channels received at a network endpoint.","pos":[4308,4424]},{"content":"There are two general types of channels: protocol channels and transport channels.","pos":[4431,4513]},{"content":"Transport channels are responsible for the actual transmission of a message from one network endpoint to another.","pos":[4514,4627]},{"content":"Transport channels must have a default message encoder and should be able to use an alternate message encoder supplied through a message encoder binding element.","pos":[4628,4789]},{"content":"A message encoder is responsible for turning a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType&gt;</ph> into a wire representation and vice-versa.","pos":[4790,4952],"source":" A message encoder is responsible for turning a <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> into a wire representation and vice-versa."},{"content":"Protocol channels are responsible for implementing SOAP-level protocols (for example, WS-Security or WS-ReliableMessaging).","pos":[4953,5076]},{"content":"The primary requirement for transport and protocol channels is that they implement the required channel interfaces.","pos":[5083,5198]},{"content":"To create a working channel layer they must have associated factories and listeners, and so on.","pos":[5199,5294]},{"content":"To use the channel implementations from WCF there needs to be an associated binding elements derived from <ph id=\"ph1\">&lt;xref:System.ServiceModel.Channels.BindingElement&gt;</ph> for each channel and there should be a related binding extension element for inclusion into configuration files that derives from <ph id=\"ph2\">&lt;xref:System.ServiceModel.Configuration.BindingElementExtensionElement&gt;</ph>.","pos":[5295,5654],"source":" To use the channel implementations from WCF there needs to be an associated binding elements derived from <xref:System.ServiceModel.Channels.BindingElement> for each channel and there should be a related binding extension element for inclusion into configuration files that derives from <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>."},{"content":"As mentioned earlier, binding elements for message encoders, protocol, and transport channel implementations can be stacked to form a channel stack and the mechanism to line them up into an ordered set is the binding.","pos":[5661,5878]},{"content":"Bindings and binding elements connect the application programming model to the channel model.","pos":[5879,5972]},{"content":"You can use your channel implementations from code directly, but unless encoders, transports, and protocols are implemented as binding elements they cannot be used from the service layer programming model.","pos":[5973,6178]},{"pos":[6185,6358],"content":"For details about developing channels and their binding elements, see <bpt id=\"p1\">[</bpt>Extending the Channel Layer<ept id=\"p1\">](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md)</ept>.","source":"For details about developing channels and their binding elements, see [Extending the Channel Layer](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md)."}]}