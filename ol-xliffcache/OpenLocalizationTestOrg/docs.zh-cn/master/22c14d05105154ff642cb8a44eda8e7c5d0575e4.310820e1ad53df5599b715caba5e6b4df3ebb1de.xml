{"content":"---\ntitle: \"Nested Types\"\nms.date: \"10/22/2008\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"types, nested\"\n  - \"public nested types\"\n  - \"type design guidelines, nested types\"\n  - \"nested types\"\n  - \"members [.NET Framework], type\"\n  - \"class library design guidelines [.NET Framework], nested types\"\nms.assetid: 12feb7f0-b793-4d96-b090-42d6473bab8c\nauthor: \"KrzysztofCwalina\"\n---\n# Nested Types\nA nested type is a type defined within the scope of another type, which is called the enclosing type. A nested type has access to all members of its enclosing type. For example, it has access to private fields defined in the enclosing type and to protected fields defined in all ascendants of the enclosing type.  \n  \n In general, nested types should be used sparingly. There are several reasons for this. Some developers are not fully familiar with the concept. These developers might, for example, have problems with the syntax of declaring variables of nested types. Nested types are also very tightly coupled with their enclosing types, and as such are not suited to be general-purpose types.  \n  \n Nested types are best suited for modeling implementation details of their enclosing types. The end user should rarely have to declare variables of a nested type and almost never should have to explicitly instantiate nested types. For example, the enumerator of a collection can be a nested type of that collection. Enumerators are usually instantiated by their enclosing type, and because many languages support the foreach statement, enumerator variables rarely have to be declared by the end user.  \n  \n **✓ DO** use nested types when the relationship between the nested type and its outer type is such that member-accessibility semantics are desirable.  \n  \n **X DO NOT** use public nested types as a logical grouping construct; use namespaces for this.  \n  \n **X AVOID** publicly exposed nested types. The only exception to this is if variables of the nested type need to be declared only in rare scenarios such as subclassing or other advanced customization scenarios.  \n  \n **X DO NOT** use nested types if the type is likely to be referenced outside of the containing type.  \n  \n For example, an enum passed to a method defined on a class should not be defined as a nested type in the class.  \n  \n **X DO NOT** use nested types if they need to be instantiated by client code.  If a type has a public constructor, it should probably not be nested.  \n  \n If a type can be instantiated, that seems to indicate the type has a place in the framework on its own (you can create it, work with it, and destroy it without ever using the outer type), and thus should not be nested. Inner types should not be widely reused outside of the outer type without any relationship whatsoever to the outer type.  \n  \n **X DO NOT** define a nested type as a member of an interface. Many languages do not support such a construct.  \n  \n *Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*  \n  \n *Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*  \n  \n## See also\n\n- [Type Design Guidelines](../../../docs/standard/design-guidelines/type.md)\n- [Framework Design Guidelines](../../../docs/standard/design-guidelines/index.md)\n","nodes":[{"pos":[4,390],"embed":true,"restype":"x-metadata","content":"title: \"Nested Types\"\nms.date: \"10/22/2008\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"types, nested\"\n  - \"public nested types\"\n  - \"type design guidelines, nested types\"\n  - \"nested types\"\n  - \"members [.NET Framework], type\"\n  - \"class library design guidelines [.NET Framework], nested types\"\nms.assetid: 12feb7f0-b793-4d96-b090-42d6473bab8c\nauthor: \"KrzysztofCwalina\"","nodes":[{"content":"Nested Types","nodes":[{"pos":[0,12],"content":"Nested Types","nodes":[{"content":"Nested Types","pos":[0,12]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[397,409],"content":"Nested Types","linkify":"Nested Types","nodes":[{"content":"Nested Types","pos":[0,12]}]},{"content":"A nested type is a type defined within the scope of another type, which is called the enclosing type.","pos":[410,511]},{"content":"A nested type has access to all members of its enclosing type.","pos":[512,574]},{"content":"For example, it has access to private fields defined in the enclosing type and to protected fields defined in all ascendants of the enclosing type.","pos":[575,722]},{"content":"In general, nested types should be used sparingly.","pos":[729,779]},{"content":"There are several reasons for this.","pos":[780,815]},{"content":"Some developers are not fully familiar with the concept.","pos":[816,872]},{"content":"These developers might, for example, have problems with the syntax of declaring variables of nested types.","pos":[873,979]},{"content":"Nested types are also very tightly coupled with their enclosing types, and as such are not suited to be general-purpose types.","pos":[980,1106]},{"content":"Nested types are best suited for modeling implementation details of their enclosing types.","pos":[1113,1203]},{"content":"The end user should rarely have to declare variables of a nested type and almost never should have to explicitly instantiate nested types.","pos":[1204,1342]},{"content":"For example, the enumerator of a collection can be a nested type of that collection.","pos":[1343,1427]},{"content":"Enumerators are usually instantiated by their enclosing type, and because many languages support the foreach statement, enumerator variables rarely have to be declared by the end user.","pos":[1428,1612]},{"pos":[1619,1768],"content":"<bpt id=\"p1\">**</bpt>✓ DO<ept id=\"p1\">**</ept> use nested types when the relationship between the nested type and its outer type is such that member-accessibility semantics are desirable.","source":"**✓ DO** use nested types when the relationship between the nested type and its outer type is such that member-accessibility semantics are desirable."},{"pos":[1775,1869],"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> use public nested types as a logical grouping construct; use namespaces for this.","source":"**X DO NOT** use public nested types as a logical grouping construct; use namespaces for this."},{"content":"<bpt id=\"p1\">**</bpt>X AVOID<ept id=\"p1\">**</ept> publicly exposed nested types.","pos":[1876,1918],"source":"**X AVOID** publicly exposed nested types."},{"content":"The only exception to this is if variables of the nested type need to be declared only in rare scenarios such as subclassing or other advanced customization scenarios.","pos":[1919,2086]},{"pos":[2093,2193],"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> use nested types if the type is likely to be referenced outside of the containing type.","source":"**X DO NOT** use nested types if the type is likely to be referenced outside of the containing type."},{"content":"For example, an enum passed to a method defined on a class should not be defined as a nested type in the class.","pos":[2200,2311]},{"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> use nested types if they need to be instantiated by client code.","pos":[2318,2395],"source":"**X DO NOT** use nested types if they need to be instantiated by client code."},{"content":"If a type has a public constructor, it should probably not be nested.","pos":[2397,2466]},{"content":"If a type can be instantiated, that seems to indicate the type has a place in the framework on its own (you can create it, work with it, and destroy it without ever using the outer type), and thus should not be nested.","pos":[2473,2691]},{"content":"Inner types should not be widely reused outside of the outer type without any relationship whatsoever to the outer type.","pos":[2692,2812]},{"content":"<bpt id=\"p1\">**</bpt>X DO NOT<ept id=\"p1\">**</ept> define a nested type as a member of an interface.","pos":[2819,2881],"source":"**X DO NOT** define a nested type as a member of an interface."},{"content":"Many languages do not support such a construct.","pos":[2882,2929]},{"pos":[2936,3003],"content":"<bpt id=\"p1\">*</bpt>Portions © 2005, 2009 Microsoft Corporation. All rights reserved.<ept id=\"p1\">*</ept>","source":"*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*"},{"pos":[3010,3415],"content":"<bpt id=\"p1\">*</bpt>Reprinted by permission of Pearson Education, Inc. from <bpt id=\"p2\">[</bpt>Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition<ept id=\"p2\">](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619)</ept> by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.<ept id=\"p1\">*</ept>","source":"*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*"},{"pos":[3424,3432],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3436,3510],"content":"<bpt id=\"p1\">[</bpt>Type Design Guidelines<ept id=\"p1\">](../../../docs/standard/design-guidelines/type.md)</ept>","source":"[Type Design Guidelines](../../../docs/standard/design-guidelines/type.md)"},{"pos":[3513,3593],"content":"<bpt id=\"p1\">[</bpt>Framework Design Guidelines<ept id=\"p1\">](../../../docs/standard/design-guidelines/index.md)</ept>","source":"[Framework Design Guidelines](../../../docs/standard/design-guidelines/index.md)"}]}