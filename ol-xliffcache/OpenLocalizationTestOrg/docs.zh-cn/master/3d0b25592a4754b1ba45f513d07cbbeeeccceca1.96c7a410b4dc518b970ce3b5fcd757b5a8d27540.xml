{"content":"---\ntitle: \"Using an AsyncCallback Delegate to End an Asynchronous Operation | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"ending asynchronous operations\"\n  - \"asynchronous programming, ending operations\"\n  - \"AsyncCallback delegate\"\n  - \"stopping asynchronous operations\"\nms.assetid: 9d97206c-8917-406c-8961-7d0909d84eeb\ncaps.latest.revision: 7\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Using an AsyncCallback Delegate to End an Asynchronous Operation\nApplications that can do other work while waiting for the results of an asynchronous operation should not block waiting until the operation completes. Use one of the following options to continue executing instructions while waiting for an asynchronous operation to complete:  \n  \n-   Use an <xref:System.AsyncCallback> delegate to process the results of the asynchronous operation in a separate thread. This approach is demonstrated in this topic.  \n  \n-   Use the <xref:System.IAsyncResult.IsCompleted%2A> property of the <xref:System.IAsyncResult> returned by the asynchronous operation's **Begin** *OperationName* method to determine whether the operation has completed. For an example that demonstrates this approach, see [Polling for the Status of an Asynchronous Operation](../../../docs/standard/asynchronous-programming-patterns/polling-for-the-status-of-an-asynchronous-operation.md).  \n  \n## Example  \n The following code example demonstrates using asynchronous methods in the <xref:System.Net.Dns> class to retrieve Domain Name System (DNS) information for user-specified computers. This example creates an <xref:System.AsyncCallback> delegate that references the `ProcessDnsInformation` method. This method is called once for each asynchronous request for DNS information.  \n  \n Note that the user-specified host is passed to the <xref:System.Net.Dns.BeginGetHostByName%2A><xref:System.Object> parameter. For an example that demonstrates defining and using a more complex state object, see [Using an AsyncCallback Delegate and State Object](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-and-state-object.md).  \n  \n [!code-csharp[AsyncDesignPattern#4](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDesignPattern/CS/AsyncDelegateNoStateObject.cs#4)]\n [!code-vb[AsyncDesignPattern#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDesignPattern/VB/AsyncDelegateNoState.vb#4)]  \n  \n## See Also  \n [Event-based Asynchronous Pattern (EAP)](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md)   \n [Event-based Asynchronous Pattern Overview](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md)   \n [Calling Asynchronous Methods Using IAsyncResult](../../../docs/standard/asynchronous-programming-patterns/calling-asynchronous-methods-using-iasyncresult.md)   \n [Using an AsyncCallback Delegate and State Object](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-and-state-object.md)","nodes":[{"pos":[4,554],"nodes":[{"content":"Using an AsyncCallback Delegate to End an Asynchronous Operation | Microsoft Docs","nodes":[{"pos":[0,81],"content":"Using an AsyncCallback Delegate to End an Asynchronous Operation | Microsoft Docs","nodes":[{"content":"Using an AsyncCallback Delegate to End an Asynchronous Operation | Microsoft Docs","pos":[0,81]}]}],"pos":[6,90],"yaml":true}],"content":"title: \"Using an AsyncCallback Delegate to End an Asynchronous Operation | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"ending asynchronous operations\"\n  - \"asynchronous programming, ending operations\"\n  - \"AsyncCallback delegate\"\n  - \"stopping asynchronous operations\"\nms.assetid: 9d97206c-8917-406c-8961-7d0909d84eeb\ncaps.latest.revision: 7\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"","yamlblock":true},{"pos":[561,625],"content":"Using an AsyncCallback Delegate to End an Asynchronous Operation","linkify":"Using an AsyncCallback Delegate to End an Asynchronous Operation","nodes":[{"content":"Using an AsyncCallback Delegate to End an Asynchronous Operation","pos":[0,64]}]},{"content":"Applications that can do other work while waiting for the results of an asynchronous operation should not block waiting until the operation completes.","pos":[626,776]},{"content":"Use one of the following options to continue executing instructions while waiting for an asynchronous operation to complete:","pos":[777,901]},{"content":"Use an <ph id=\"ph1\">&lt;xref:System.AsyncCallback&gt;</ph> delegate to process the results of the asynchronous operation in a separate thread.","pos":[911,1029],"source":"Use an <xref:System.AsyncCallback> delegate to process the results of the asynchronous operation in a separate thread."},{"content":"This approach is demonstrated in this topic.","pos":[1030,1074]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.IAsyncResult.IsCompleted%2A&gt;</ph> property of the <ph id=\"ph2\">&lt;xref:System.IAsyncResult&gt;</ph> returned by the asynchronous operation's <bpt id=\"p1\">**</bpt>Begin<ept id=\"p1\">**</ept> <bpt id=\"p2\">*</bpt>OperationName<ept id=\"p2\">*</ept> method to determine whether the operation has completed.","pos":[1084,1300],"source":"Use the <xref:System.IAsyncResult.IsCompleted%2A> property of the <xref:System.IAsyncResult> returned by the asynchronous operation's **Begin** *OperationName* method to determine whether the operation has completed."},{"content":"For an example that demonstrates this approach, see <bpt id=\"p1\">[</bpt>Polling for the Status of an Asynchronous Operation<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/polling-for-the-status-of-an-asynchronous-operation.md)</ept>.","pos":[1301,1520],"source":" For an example that demonstrates this approach, see [Polling for the Status of an Asynchronous Operation](../../../docs/standard/asynchronous-programming-patterns/polling-for-the-status-of-an-asynchronous-operation.md)."},{"pos":[1529,1536],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code example demonstrates using asynchronous methods in the <ph id=\"ph1\">&lt;xref:System.Net.Dns&gt;</ph> class to retrieve Domain Name System (DNS) information for user-specified computers.","pos":[1540,1720],"source":"The following code example demonstrates using asynchronous methods in the <xref:System.Net.Dns> class to retrieve Domain Name System (DNS) information for user-specified computers."},{"content":"This example creates an <ph id=\"ph1\">&lt;xref:System.AsyncCallback&gt;</ph> delegate that references the <ph id=\"ph2\">`ProcessDnsInformation`</ph> method.","pos":[1721,1833],"source":" This example creates an <xref:System.AsyncCallback> delegate that references the `ProcessDnsInformation` method."},{"content":"This method is called once for each asynchronous request for DNS information.","pos":[1834,1911]},{"content":"Note that the user-specified host is passed to the <ph id=\"ph1\">&lt;xref:System.Net.Dns.BeginGetHostByName%2A&gt;</ph><ph id=\"ph2\">&lt;xref:System.Object&gt;</ph> parameter.","pos":[1918,2043],"source":"Note that the user-specified host is passed to the <xref:System.Net.Dns.BeginGetHostByName%2A><xref:System.Object> parameter."},{"content":"For an example that demonstrates defining and using a more complex state object, see <bpt id=\"p1\">[</bpt>Using an AsyncCallback Delegate and State Object<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-and-state-object.md)</ept>.","pos":[2044,2290],"source":" For an example that demonstrates defining and using a more complex state object, see [Using an AsyncCallback Delegate and State Object](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-and-state-object.md)."},{"pos":[2297,2574],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>AsyncDesignPattern#4<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDesignPattern/CS/AsyncDelegateNoStateObject.cs#4)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>AsyncDesignPattern#4<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDesignPattern/VB/AsyncDelegateNoState.vb#4)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[AsyncDesignPattern#4](../../../samples/snippets/csharp/VS_Snippets_CLR/AsyncDesignPattern/CS/AsyncDelegateNoStateObject.cs#4)]\n [!code-vb[AsyncDesignPattern#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/AsyncDesignPattern/VB/AsyncDelegateNoState.vb#4)]"},{"pos":[2583,2591],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Event-based Asynchronous Pattern (EAP)<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md)</ept><ph id=\"ph1\"> </ph>","pos":[2595,2734],"source":"[Event-based Asynchronous Pattern (EAP)](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md) "},{"content":"<bpt id=\"p1\">[</bpt>Event-based Asynchronous Pattern Overview<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md)</ept><ph id=\"ph1\"> </ph>","pos":[2738,2885],"source":"[Event-based Asynchronous Pattern Overview](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md) "},{"content":"<bpt id=\"p1\">[</bpt>Calling Asynchronous Methods Using IAsyncResult<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/calling-asynchronous-methods-using-iasyncresult.md)</ept><ph id=\"ph1\"> </ph>","pos":[2889,3048],"source":"[Calling Asynchronous Methods Using IAsyncResult](../../../docs/standard/asynchronous-programming-patterns/calling-asynchronous-methods-using-iasyncresult.md) "},{"content":"<bpt id=\"p1\">[</bpt>Using an AsyncCallback Delegate and State Object<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-and-state-object.md)</ept>","pos":[3052,3212],"source":"[Using an AsyncCallback Delegate and State Object](../../../docs/standard/asynchronous-programming-patterns/using-an-asynccallback-delegate-and-state-object.md)"}]}