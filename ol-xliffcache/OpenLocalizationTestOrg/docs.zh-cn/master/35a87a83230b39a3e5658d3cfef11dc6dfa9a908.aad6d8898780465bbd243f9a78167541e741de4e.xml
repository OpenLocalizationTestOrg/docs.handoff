{"content":"---\ntitle: \"WCF Web HTTP Error Handling | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 02891563-0fce-4c32-84dc-d794b1a5c040\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# WCF Web HTTP Error Handling\n[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] Web HTTP error handling enables you to return errors from [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Web HTTP services that specify an HTTP status code and return error details using the same format as the operation (for example, XML or JSON).  \n  \n## WCF Web HTTP Error Handling  \n The <xref:System.ServiceModel.Web.WebFaultException> class defines a constructor that allows you to specify an HTTP status code. This status code is then returned to the client. A generic version of the <xref:System.ServiceModel.Web.WebFaultException> class, <xref:System.ServiceModel.Web.WebFaultException%601> enables you to return a user-defined type that contains information about the error that occurred. This custom object is serialized using the format specified by the operation and returned to the client. The following example shows how to return an HTTP status code.  \n  \n```  \nPublic string Operation1()  \n{   // Operation logic  \n   // ...  \n   Throw new WebFaultException(HttpStatusCode.Forbidden);  \n}  \n```  \n  \n The following example shows how to return an HTTP status code and extra information in a user-defined type. `MyErrorDetail` is a user-defined type that contains extra information about the error that occurred.  \n  \n```  \nPublic string Operation2()  \n   // Operation logic  \n   // ...   MyErrorDetail detail = new MyErrorDetail  \n   {  \n      Message = \"Error Message\",  \n      ErrorCode = 123,  \n   }  \n   throw new WebFaultException<MyErrorDetail>(detail, HttpStatusCode.Forbidden);  \n}  \n```  \n  \n The preceding code returns an HTTP response with the forbidden status code and a body that contains an instance of the `MyErrorDetails` object. The format of the `MyErrorDetails` object is determined by:  \n  \n-   The value of the `ResponseFormat` parameter of the <xref:System.ServiceModel.Web.WebGetAttribute> or <xref:System.ServiceModel.Web.WebInvokeAttribute> attribute specified on the service operation.  \n  \n-   The value of <xref:System.ServiceModel.Description.WebHttpBehavior.AutomaticFormatSelectionEnabled%2A>.  \n  \n-   The value of the <xref:System.ServiceModel.Web.OutgoingWebResponseContext.Format%2A> property by accessing the <xref:System.ServiceModel.Web.OutgoingWebResponseContext>.  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] how these values affect the formatting of the operation, see [WCF Web HTTP Formatting](../../../../docs/framework/wcf/feature-details/wcf-web-http-formatting.md).  \n  \n <xref:System.ServiceModel.Web.WebFaultException> is a <xref:System.ServiceModel.FaultException> and therefore can be used as the fault exception programming model for services that expose SOAP endpoints as well as web HTTP endpoints.  \n  \n## See Also  \n [WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)   \n [WCF Web HTTP Formatting](../../../../docs/framework/wcf/feature-details/wcf-web-http-formatting.md)   \n [Defining and Specifying Faults](../../../../docs/framework/wcf/defining-and-specifying-faults.md)   \n [Handling Exceptions and Faults](../../../../docs/framework/wcf/extending/handling-exceptions-and-faults.md)   \n [Sending and Receiving Faults](../../../../docs/framework/wcf/sending-and-receiving-faults.md)","nodes":[{"pos":[4,347],"embed":true,"restype":"x-metadata","content":"title: \"WCF Web HTTP Error Handling | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 02891563-0fce-4c32-84dc-d794b1a5c040\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","nodes":[{"content":"WCF Web HTTP Error Handling | Microsoft Docs","nodes":[{"pos":[0,44],"content":"WCF Web HTTP Error Handling | Microsoft Docs","nodes":[{"content":"WCF Web HTTP Error Handling | Microsoft Docs","pos":[0,44]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[354,381],"content":"WCF Web HTTP Error Handling","linkify":"WCF Web HTTP Error Handling","nodes":[{"content":"WCF Web HTTP Error Handling","pos":[0,27]}]},{"pos":[438,694],"content":"Web HTTP error handling enables you to return errors from <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> Web HTTP services that specify an HTTP status code and return error details using the same format as the operation (for example, XML or JSON).","source":" Web HTTP error handling enables you to return errors from [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Web HTTP services that specify an HTTP status code and return error details using the same format as the operation (for example, XML or JSON)."},{"pos":[703,730],"content":"WCF Web HTTP Error Handling","linkify":"WCF Web HTTP Error Handling","nodes":[{"content":"WCF Web HTTP Error Handling","pos":[0,27]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebFaultException&gt;</ph> class defines a constructor that allows you to specify an HTTP status code.","pos":[734,862],"source":"The <xref:System.ServiceModel.Web.WebFaultException> class defines a constructor that allows you to specify an HTTP status code."},{"content":"This status code is then returned to the client.","pos":[863,911]},{"content":"A generic version of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebFaultException&gt;</ph> class, <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebFaultException%601&gt;</ph> enables you to return a user-defined type that contains information about the error that occurred.","pos":[912,1144],"source":" A generic version of the <xref:System.ServiceModel.Web.WebFaultException> class, <xref:System.ServiceModel.Web.WebFaultException%601> enables you to return a user-defined type that contains information about the error that occurred."},{"content":"This custom object is serialized using the format specified by the operation and returned to the client.","pos":[1145,1249]},{"content":"The following example shows how to return an HTTP status code.","pos":[1250,1312]},{"content":"The following example shows how to return an HTTP status code and extra information in a user-defined type.","pos":[1464,1571]},{"content":"<ph id=\"ph1\">`MyErrorDetail`</ph> is a user-defined type that contains extra information about the error that occurred.","pos":[1572,1673],"source":"`MyErrorDetail` is a user-defined type that contains extra information about the error that occurred."},{"content":"The preceding code returns an HTTP response with the forbidden status code and a body that contains an instance of the <ph id=\"ph1\">`MyErrorDetails`</ph> object.","pos":[1964,2107],"source":"The preceding code returns an HTTP response with the forbidden status code and a body that contains an instance of the `MyErrorDetails` object."},{"content":"The format of the <ph id=\"ph1\">`MyErrorDetails`</ph> object is determined by:","pos":[2108,2167],"source":" The format of the `MyErrorDetails` object is determined by:"},{"pos":[2177,2373],"content":"The value of the <ph id=\"ph1\">`ResponseFormat`</ph> parameter of the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph> attribute specified on the service operation.","source":"The value of the `ResponseFormat` parameter of the <xref:System.ServiceModel.Web.WebGetAttribute> or <xref:System.ServiceModel.Web.WebInvokeAttribute> attribute specified on the service operation."},{"content":"The value of <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior.AutomaticFormatSelectionEnabled%2A&gt;</ph>.","pos":[2383,2486],"source":"The value of <xref:System.ServiceModel.Description.WebHttpBehavior.AutomaticFormatSelectionEnabled%2A>."},{"content":"The value of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.OutgoingWebResponseContext.Format%2A&gt;</ph> property by accessing the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.OutgoingWebResponseContext&gt;</ph>.","pos":[2496,2665],"source":"The value of the <xref:System.ServiceModel.Web.OutgoingWebResponseContext.Format%2A> property by accessing the <xref:System.ServiceModel.Web.OutgoingWebResponseContext>."},{"pos":[2728,2890],"content":"how these values affect the formatting of the operation, see <bpt id=\"p1\">[</bpt>WCF Web HTTP Formatting<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-formatting.md)</ept>.","source":" how these values affect the formatting of the operation, see [WCF Web HTTP Formatting](../../../../docs/framework/wcf/feature-details/wcf-web-http-formatting.md)."},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebFaultException&gt;</ph> is a <ph id=\"ph2\">&lt;xref:System.ServiceModel.FaultException&gt;</ph> and therefore can be used as the fault exception programming model for services that expose SOAP endpoints as well as web HTTP endpoints.","pos":[2897,3130],"source":"<xref:System.ServiceModel.Web.WebFaultException> is a <xref:System.ServiceModel.FaultException> and therefore can be used as the fault exception programming model for services that expose SOAP endpoints as well as web HTTP endpoints."},{"pos":[3139,3147],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)</ept><ph id=\"ph1\"> </ph>","pos":[3151,3266],"source":"[WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md) "},{"content":"<bpt id=\"p1\">[</bpt>WCF Web HTTP Formatting<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-formatting.md)</ept><ph id=\"ph1\"> </ph>","pos":[3270,3371],"source":"[WCF Web HTTP Formatting](../../../../docs/framework/wcf/feature-details/wcf-web-http-formatting.md) "},{"content":"<bpt id=\"p1\">[</bpt>Defining and Specifying Faults<ept id=\"p1\">](../../../../docs/framework/wcf/defining-and-specifying-faults.md)</ept><ph id=\"ph1\"> </ph>","pos":[3375,3474],"source":"[Defining and Specifying Faults](../../../../docs/framework/wcf/defining-and-specifying-faults.md) "},{"content":"<bpt id=\"p1\">[</bpt>Handling Exceptions and Faults<ept id=\"p1\">](../../../../docs/framework/wcf/extending/handling-exceptions-and-faults.md)</ept><ph id=\"ph1\"> </ph>","pos":[3478,3587],"source":"[Handling Exceptions and Faults](../../../../docs/framework/wcf/extending/handling-exceptions-and-faults.md) "},{"content":"<bpt id=\"p1\">[</bpt>Sending and Receiving Faults<ept id=\"p1\">](../../../../docs/framework/wcf/sending-and-receiving-faults.md)</ept>","pos":[3591,3685],"source":"[Sending and Receiving Faults](../../../../docs/framework/wcf/sending-and-receiving-faults.md)"}]}