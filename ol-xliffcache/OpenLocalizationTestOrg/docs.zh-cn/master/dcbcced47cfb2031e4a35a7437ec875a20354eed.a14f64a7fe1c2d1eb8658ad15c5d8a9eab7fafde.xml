{"content":"---\ntitle: Application Compatibility in the .NET Framework\nms.date: \"05/19/2017\"\nhelpviewer_keywords: \n  - \"application compatibility\"\n  - \".NET Framework application compatibility\"\n  - \".NET Framework changes\"\nms.assetid: c4ba3ff2-fe59-4c5d-9e0b-86bba3cd865c\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n\n# Application Compatibility in the .NET Framework\n\n## Introduction\nCompatibility is a very important goal of each .NET release. Compatibility\nensures that each version is additive, so previous versions will still work. On\nthe other hand, changes to previous functionality (to improve performance,\naddress security issues, or fix bugs) can cause compatibility problems in\nexisting code or existing applications that run under a later version. The .NET\nFramework recognizes retargeting changes and runtime changes. Retargeting\nchanges affect applications that target a specific version of the .NET Framework\nbut are running on a later version. Runtime changes affect all applications\nrunning on a particular version.\n\nEach app targets a specific version of the .NET Framework, which can be specified by:\n\n* Defining a target framework in Visual Studio.\n* Specifying the target framework in a project file.\n* Applying a <xref:System.Runtime.Versioning.TargetFrameworkAttribute> to the source code.\n\nWhen running on a newer version than what was targeted, the .NET Framework will\nuse quirked behavior to mimic the older targeted version. In other words, the\napp will run on the newer version of the Framework, but act as if it's running\non the older version. Many of the compatibility issues between versions of the .NET\nFramework are mitigated through this quirking model. The version of the .NET Framework \nthat an application targets is determined by the target version of the entry assembly \nfor the application domain that the code is running in. All additional assemblies \nloaded in that application domain target that .NET Framework version. For example, \nin the case of an executable, the framework the executable targets is the compatibility\nmode all assemblies in that AppDomain will run under.\n\n## Runtime changes\n\nRuntime issues are those that arise when a new runtime is placed on a machine\nand the same binaries are run, but different behavior is seen. If a binary was\ncompiled for .NET Framework 4.0 it will run in .NET Framework 4.0 compatibility\nmode on 4.5 or later versions. Many of the changes that affect 4.5 will not\naffect a binary compiled for 4.0. This is specific to the AppDomain and depends\non the settings of the entry assembly.\n\n## Retargeting changes\n\nRetargeting issues are those that arise when an assembly that was targeting 4.0\nis now set to target 4.5. Now the assembly opts into the new features as well as\npotential compatibility issues to old features. Again, this is dictated by the entry\nassembly, so the console app that uses the assembly, or the website that\nreferences the assembly.\n\n## .NET Compatibility Diagnostics\n\nThe .NET Compatibility Diagnostics are Roslyn-powered analyzers that help\nidentify application compatibility issues between versions of the .NET\nFramework. This list contains all of the analyzers available, although only a\nsubset will apply to any specific migration. The analyzers will determine which\nissues are applicable for the planned migration and will only surface those.\n\nEach issue includes the following information:\n\n-   The description of what has changed from a previous version.\n\n-   How the change affects customers and whether any workarounds are available to preserve compatibility across versions.\n\n-   An assessment of how important the change is. Application compatibility issue are categorized as follows:\n\n    |   |   |\n    |---|---|\n    |Major|A significant change that affects a large number of apps or requires substantial modification of code.|\n    |Minor|A change that affects a small number of apps or that requires minor modification of code.|\n    |Edge case|A change that affects apps under very specific, uncommon scenarios.|\n    |Transparent|A change with no noticeable effect on the application's developer or user.|\n\n-   Version indicates when the change first appears in the framework. Some of the changes are introduced in a particular version and reverted in a later version; that is indicated as well.\n\n-   The type of change:\n\n    |   |   |\n    |---|---|\n    |Retargeting|The change affects apps that are recompiled to target a new version of the .NET Framework.|\n    |Runtime|The change affects an existing app that targets a previous version of the .NET Framework but runs on a later version.|\n\n-   The affected APIS, if any.\n\n-   The IDs of the available diagnostics\n\n## Usage\nTo begin, select the type of compatibility change below:\n\n* [Retargeting Changes](./retargeting/index.md)\n* [Runtime Changes](./runtime/index.md)\n\n## See also\n\n- [Versions and Dependencies](../../../docs/framework/migration-guide/versions-and-dependencies.md)\n- [What's New](../../../docs/framework/whats-new/index.md)\n- [What's Obsolete in the Class Library](../../../docs/framework/whats-new/whats-obsolete.md)\n","nodes":[{"pos":[4,299],"embed":true,"restype":"x-metadata","content":"title: Application Compatibility in the .NET Framework\nms.date: \"05/19/2017\"\nhelpviewer_keywords: \n  - \"application compatibility\"\n  - \".NET Framework application compatibility\"\n  - \".NET Framework changes\"\nms.assetid: c4ba3ff2-fe59-4c5d-9e0b-86bba3cd865c\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"Application Compatibility in the .NET Framework","nodes":[{"pos":[0,47],"content":"Application Compatibility in the .NET Framework","nodes":[{"content":"Application Compatibility in the .NET Framework","pos":[0,47]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[307,354],"content":"Application Compatibility in the .NET Framework","linkify":"Application Compatibility in the .NET Framework","nodes":[{"content":"Application Compatibility in the .NET Framework","pos":[0,47]}]},{"pos":[359,371],"content":"Introduction","linkify":"Introduction","nodes":[{"content":"Introduction","pos":[0,12]}]},{"content":"Compatibility is a very important goal of each .NET release.","pos":[372,432]},{"content":"Compatibility ensures that each version is additive, so previous versions will still work.","pos":[433,523],"source":" Compatibility\nensures that each version is additive, so previous versions will still work."},{"content":"On the other hand, changes to previous functionality (to improve performance, address security issues, or fix bugs) can cause compatibility problems in existing code or existing applications that run under a later version.","pos":[524,746],"source":" On\nthe other hand, changes to previous functionality (to improve performance,\naddress security issues, or fix bugs) can cause compatibility problems in\nexisting code or existing applications that run under a later version."},{"content":"The .NET Framework recognizes retargeting changes and runtime changes.","pos":[747,817],"source":" The .NET\nFramework recognizes retargeting changes and runtime changes."},{"content":"Retargeting changes affect applications that target a specific version of the .NET Framework but are running on a later version.","pos":[818,946],"source":" Retargeting\nchanges affect applications that target a specific version of the .NET Framework\nbut are running on a later version."},{"content":"Runtime changes affect all applications running on a particular version.","pos":[947,1019],"source":" Runtime changes affect all applications\nrunning on a particular version."},{"content":"Each app targets a specific version of the .NET Framework, which can be specified by:","pos":[1021,1106]},{"content":"Defining a target framework in Visual Studio.","pos":[1110,1155]},{"content":"Specifying the target framework in a project file.","pos":[1158,1208]},{"pos":[1211,1299],"content":"Applying a <ph id=\"ph1\">&lt;xref:System.Runtime.Versioning.TargetFrameworkAttribute&gt;</ph> to the source code.","source":"Applying a <xref:System.Runtime.Versioning.TargetFrameworkAttribute> to the source code."},{"content":"When running on a newer version than what was targeted, the .NET Framework will use quirked behavior to mimic the older targeted version.","pos":[1301,1438],"source":"When running on a newer version than what was targeted, the .NET Framework will\nuse quirked behavior to mimic the older targeted version."},{"content":"In other words, the app will run on the newer version of the Framework, but act as if it's running on the older version.","pos":[1439,1559],"source":" In other words, the\napp will run on the newer version of the Framework, but act as if it's running\non the older version."},{"content":"Many of the compatibility issues between versions of the .NET Framework are mitigated through this quirking model.","pos":[1560,1674],"source":" Many of the compatibility issues between versions of the .NET\nFramework are mitigated through this quirking model."},{"content":"The version of the .NET Framework that an application targets is determined by the target version of the entry assembly for the application domain that the code is running in.","pos":[1675,1852],"source":" The version of the .NET Framework \nthat an application targets is determined by the target version of the entry assembly \nfor the application domain that the code is running in."},{"content":"All additional assemblies loaded in that application domain target that .NET Framework version.","pos":[1853,1949],"source":" All additional assemblies \nloaded in that application domain target that .NET Framework version."},{"content":"For example, in the case of an executable, the framework the executable targets is the compatibility mode all assemblies in that AppDomain will run under.","pos":[1950,2105],"source":" For example, \nin the case of an executable, the framework the executable targets is the compatibility\nmode all assemblies in that AppDomain will run under."},{"pos":[2110,2125],"content":"Runtime changes","linkify":"Runtime changes","nodes":[{"content":"Runtime changes","pos":[0,15]}]},{"content":"Runtime issues are those that arise when a new runtime is placed on a machine and the same binaries are run, but different behavior is seen.","pos":[2127,2267],"source":"Runtime issues are those that arise when a new runtime is placed on a machine\nand the same binaries are run, but different behavior is seen."},{"content":"If a binary was compiled for .NET Framework 4.0 it will run in .NET Framework 4.0 compatibility mode on 4.5 or later versions.","pos":[2268,2394],"source":" If a binary was\ncompiled for .NET Framework 4.0 it will run in .NET Framework 4.0 compatibility\nmode on 4.5 or later versions."},{"content":"Many of the changes that affect 4.5 will not affect a binary compiled for 4.0.","pos":[2395,2473],"source":" Many of the changes that affect 4.5 will not\naffect a binary compiled for 4.0."},{"content":"This is specific to the AppDomain and depends on the settings of the entry assembly.","pos":[2474,2558],"source":" This is specific to the AppDomain and depends\non the settings of the entry assembly."},{"pos":[2563,2582],"content":"Retargeting changes","linkify":"Retargeting changes","nodes":[{"content":"Retargeting changes","pos":[0,19]}]},{"content":"Retargeting issues are those that arise when an assembly that was targeting 4.0 is now set to target 4.5.","pos":[2584,2689],"source":"Retargeting issues are those that arise when an assembly that was targeting 4.0\nis now set to target 4.5."},{"content":"Now the assembly opts into the new features as well as potential compatibility issues to old features.","pos":[2690,2792],"source":" Now the assembly opts into the new features as well as\npotential compatibility issues to old features."},{"content":"Again, this is dictated by the entry assembly, so the console app that uses the assembly, or the website that references the assembly.","pos":[2793,2927],"source":" Again, this is dictated by the entry\nassembly, so the console app that uses the assembly, or the website that\nreferences the assembly."},{"pos":[2932,2962],"content":".NET Compatibility Diagnostics","linkify":".NET Compatibility Diagnostics","nodes":[{"content":".NET Compatibility Diagnostics","pos":[0,30]}]},{"content":"The .NET Compatibility Diagnostics are Roslyn-powered analyzers that help identify application compatibility issues between versions of the .NET Framework.","pos":[2964,3119],"source":"The .NET Compatibility Diagnostics are Roslyn-powered analyzers that help\nidentify application compatibility issues between versions of the .NET\nFramework."},{"content":"This list contains all of the analyzers available, although only a subset will apply to any specific migration.","pos":[3120,3231],"source":" This list contains all of the analyzers available, although only a\nsubset will apply to any specific migration."},{"content":"The analyzers will determine which issues are applicable for the planned migration and will only surface those.","pos":[3232,3343],"source":" The analyzers will determine which\nissues are applicable for the planned migration and will only surface those."},{"content":"Each issue includes the following information:","pos":[3345,3391]},{"content":"The description of what has changed from a previous version.","pos":[3397,3457]},{"content":"How the change affects customers and whether any workarounds are available to preserve compatibility across versions.","pos":[3463,3580]},{"content":"An assessment of how important the change is.","pos":[3586,3631]},{"content":"Application compatibility issue are categorized as follows:","pos":[3632,3691]},{"content":"Major","pos":[3726,3731]},{"content":"A significant change that affects a large number of apps or requires substantial modification of code.","pos":[3732,3834]},{"content":"Minor","pos":[3841,3846]},{"content":"A change that affects a small number of apps or that requires minor modification of code.","pos":[3847,3936]},{"content":"Edge case","pos":[3943,3952]},{"content":"A change that affects apps under very specific, uncommon scenarios.","pos":[3953,4020]},{"content":"Transparent","pos":[4027,4038]},{"content":"A change with no noticeable effect on the application's developer or user.","pos":[4039,4113]},{"content":"Version indicates when the change first appears in the framework.","pos":[4120,4185]},{"content":"Some of the changes are introduced in a particular version and reverted in a later version; that is indicated as well.","pos":[4186,4304]},{"content":"The type of change:","pos":[4310,4329]},{"content":"Retargeting","pos":[4364,4375]},{"content":"The change affects apps that are recompiled to target a new version of the .NET Framework.","pos":[4376,4466]},{"content":"Runtime","pos":[4473,4480]},{"content":"The change affects an existing app that targets a previous version of the .NET Framework but runs on a later version.","pos":[4481,4598]},{"content":"The affected APIS, if any.","pos":[4605,4631]},{"content":"The IDs of the available diagnostics","pos":[4637,4673]},{"pos":[4678,4683],"content":"Usage","linkify":"Usage","nodes":[{"content":"Usage","pos":[0,5]}]},{"content":"To begin, select the type of compatibility change below:","pos":[4684,4740]},{"pos":[4744,4789],"content":"<bpt id=\"p1\">[</bpt>Retargeting Changes<ept id=\"p1\">](./retargeting/index.md)</ept>","source":"[Retargeting Changes](./retargeting/index.md)"},{"pos":[4792,4829],"content":"<bpt id=\"p1\">[</bpt>Runtime Changes<ept id=\"p1\">](./runtime/index.md)</ept>","source":"[Runtime Changes](./runtime/index.md)"},{"pos":[4834,4842],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4846,4943],"content":"<bpt id=\"p1\">[</bpt>Versions and Dependencies<ept id=\"p1\">](../../../docs/framework/migration-guide/versions-and-dependencies.md)</ept>","source":"[Versions and Dependencies](../../../docs/framework/migration-guide/versions-and-dependencies.md)"},{"pos":[4946,5002],"content":"<bpt id=\"p1\">[</bpt>What's New<ept id=\"p1\">](../../../docs/framework/whats-new/index.md)</ept>","source":"[What's New](../../../docs/framework/whats-new/index.md)"},{"pos":[5005,5096],"content":"<bpt id=\"p1\">[</bpt>What's Obsolete in the Class Library<ept id=\"p1\">](../../../docs/framework/whats-new/whats-obsolete.md)</ept>","source":"[What's Obsolete in the Class Library](../../../docs/framework/whats-new/whats-obsolete.md)"}]}