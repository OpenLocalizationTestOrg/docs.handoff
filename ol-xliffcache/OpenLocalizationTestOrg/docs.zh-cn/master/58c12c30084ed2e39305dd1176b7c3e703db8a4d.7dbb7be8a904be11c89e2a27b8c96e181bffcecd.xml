{"content":"---\ntitle: \"CustomDiscoveryMetadata | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: c42455fd-3652-4b7e-b698-ab3a2bb52e48\ncaps.latest.revision: 9\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# CustomDiscoveryMetadata\nThis sample shows how to insert custom XML metadata into the discovery metadata for a discoverable endpoint exposed by a service. The sample then shows how a client can search for the service and extract this custom data. This sample consists of two projects, service and client.  \n  \n## Service  \n In the `main` method, the sample shows that an object of type <xref:System.Xml.Linq.XElement> is populated with the desired fields and is added to the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior>. This <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> is added to a particular endpoint. When that particular endpoint is discovered, the discovery metadata contains the custom data that was added here.  \n  \n## Client  \n The sample shows the <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> method being called on a <xref:System.ServiceModel.Discovery.DiscoveryClient>. The resulting <xref:System.ServiceModel.Discovery.FindResponse> is then queried for the appropriate and expected XML elements. These elements are then printed to the console.  \n  \n#### To use this sample  \n  \n1.  Load the project solution in [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] and build the project.  \n  \n2.  First run the Service application, generated in [solution base directory]\\service\\bin\\debug, and then run the Client application, generated in [solution base directory]\\Client\\bin\\debug  \n  \n3.  Note that the service comes online, the client locates the service and prints the metadata published in the endpoint.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Extensibility\\DiscoveryExtensibility\\CustomDiscoveryMetadata`  \n  \n## See Also","nodes":[{"pos":[12,52],"content":"CustomDiscoveryMetadata | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"CustomDiscoveryMetadata | Microsoft Docs","pos":[0,40]}]},{"pos":[350,373],"content":"CustomDiscoveryMetadata","linkify":"CustomDiscoveryMetadata","nodes":[{"content":"CustomDiscoveryMetadata","pos":[0,23]}]},{"content":"This sample shows how to insert custom XML metadata into the discovery metadata for a discoverable endpoint exposed by a service.","pos":[374,503]},{"content":"The sample then shows how a client can search for the service and extract this custom data.","pos":[504,595]},{"content":"This sample consists of two projects, service and client.","pos":[596,653]},{"pos":[662,669],"content":"Service","linkify":"Service","nodes":[{"content":"Service","pos":[0,7]}]},{"content":"In the <ph id=\"ph1\">`main`</ph> method, the sample shows that an object of type <ph id=\"ph2\">&lt;xref:System.Xml.Linq.XElement&gt;</ph> is populated with the desired fields and is added to the <ph id=\"ph3\">&lt;xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior&gt;</ph>.","pos":[673,887],"source":"In the `main` method, the sample shows that an object of type <xref:System.Xml.Linq.XElement> is populated with the desired fields and is added to the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior>."},{"content":"This <ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior&gt;</ph> is added to a particular endpoint.","pos":[888,990],"source":" This <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> is added to a particular endpoint."},{"content":"When that particular endpoint is discovered, the discovery metadata contains the custom data that was added here.","pos":[991,1104]},{"pos":[1113,1119],"content":"Client","linkify":"Client","nodes":[{"content":"Client","pos":[0,6]}]},{"content":"The sample shows the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A&gt;</ph> method being called on a <ph id=\"ph2\">&lt;xref:System.ServiceModel.Discovery.DiscoveryClient&gt;</ph>.","pos":[1123,1283],"source":"The sample shows the <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> method being called on a <xref:System.ServiceModel.Discovery.DiscoveryClient>."},{"content":"The resulting <ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.FindResponse&gt;</ph> is then queried for the appropriate and expected XML elements.","pos":[1284,1410],"source":" The resulting <xref:System.ServiceModel.Discovery.FindResponse> is then queried for the appropriate and expected XML elements."},{"content":"These elements are then printed to the console.","pos":[1411,1458]},{"pos":[1469,1487],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"pos":[1497,1620],"content":"Load the project solution in <ph id=\"ph1\">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph> and build the project.","source":"Load the project solution in [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] and build the project."},{"content":"First run the Service application, generated in [solution base directory]\\service\\bin\\debug, and then run the Client application, generated in [solution base directory]\\Client\\bin\\debug","pos":[1630,1815]},{"content":"Note that the service comes online, the client locates the service and prints the metadata published in the endpoint.","pos":[1825,1942]},{"pos":[1950,2082],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":" The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[13,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[1,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2136,2462],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2463,2513]},{"pos":[2630,2638],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}