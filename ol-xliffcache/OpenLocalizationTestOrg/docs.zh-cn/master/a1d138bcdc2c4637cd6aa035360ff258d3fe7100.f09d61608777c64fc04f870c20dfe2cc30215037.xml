{"content":"---\ntitle: \"Walkthrough: Automatically Populating the Toolbox with Custom Components\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"IToolboxService interface\"\n  - \"Toolbox [Windows Forms], populating\"\n  - \"custom components [Windows Forms], adding to Toolbox\"\nms.assetid: 2fa1e3e8-6b9f-42b2-97c0-2be57444dba4\n---\n# Walkthrough: Automatically Populating the Toolbox with Custom Components\nIf your components are defined by a project in the currently open solution, they will automatically appear in the **Toolbox**, with no action required by you. You can also manually populate the **Toolbox** with your custom components by using the [Choose Toolbox Items Dialog Box (Visual Studio)](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/dyca0t6t(v=vs.100)), but the **Toolbox** takes account of items in your solution's build outputs with all the following characteristics:  \n  \n-   Implements <xref:System.ComponentModel.IComponent>;  \n  \n-   Does not have <xref:System.ComponentModel.ToolboxItemAttribute> set to `false`;  \n  \n-   Does not have <xref:System.ComponentModel.DesignTimeVisibleAttribute> set to `false`.  \n  \n> [!NOTE]\n>  The **Toolbox** does not follow reference chains, so it will not display items that are not built by a project in your solution.  \n  \n This walkthrough demonstrates how a custom component automatically appears in the **Toolbox** once the component is built. Tasks illustrated in this walkthrough include:  \n  \n-   Creating a Windows Forms project.  \n  \n-   Creating a custom component.  \n  \n-   Creating an instance of a custom component.  \n  \n-   Unloading and reloading a custom component.  \n  \n When you are finished, you will see that the **Toolbox** is populated with a component that you have created.  \n  \n> [!NOTE]\n>  The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Personalize the Visual Studio IDE](/visualstudio/ide/personalizing-the-visual-studio-ide).  \n  \n## Creating the Project  \n The first step is to create the project and to set up the form.  \n  \n#### To create the project  \n  \n1.  Create a Windows-based application project called `ToolboxExample` (**File** > **New** > **Project** > **Visual C#** or **Visual Basic** > **Classic Desktop** > **Windows Forms Application**).  \n  \n2.  Add a new component to the project. Call it `DemoComponent`.  \n  \n     For more information, see [How to: Add New Project Items](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/w0572c5b(v=vs.100)).  \n  \n3.  Build the project.  \n  \n4.  From the **Tools** menu, click the **Options** item. Click **General** under the **Windows Forms Designer** item and ensure that the **AutoToolboxPopulate** option is set to **True**.  \n  \n## Creating an Instance of a Custom Component  \n The next step is to create an instance of the custom component on the form. Because the **Toolbox** automatically accounts for the new component, this is as easy as creating any other component or control.  \n  \n#### To create an instance of a custom component  \n  \n1.  Open the project's form in the **Forms Designer**.  \n  \n2.  In the **Toolbox**, click the new tab called **ToolboxExample Components**.  \n  \n     Once you click the tab, you will see **DemoComponent**.  \n  \n    > [!NOTE]\n    >  For performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported. To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component.  \n  \n3.  Drag your component onto your form.  \n  \n     An instance of the component is created and added to the **Component Tray**.  \n  \n## Unloading and Reloading a Custom Component  \n The **Toolbox** takes account of the components in each loaded project, and when a project is unloaded, it removes references to the project's components.  \n  \n#### To experiment with the effect on the Toolbox of unloading and reloading components  \n  \n1.  Unload the project from the solution.  \n  \n     For more information about unloading projects, see [How to: Unload and Reload Projects](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/tt479x1t(v=vs.100)). If you are prompted to save, choose **Yes**.  \n  \n2.  Add a new **Windows Application** project to the solution. Open the form in the **Designer**.  \n  \n     The **ToolboxExample Components** tab from the previous project is now gone.  \n  \n3.  Reload the `ToolboxExample` project.  \n  \n     The **ToolboxExample Components** tab now reappears.  \n  \n## Next Steps  \n This walkthrough demonstrates that the **Toolbox** takes account of a project's components, but the **Toolbox** is also takes account of controls. Experiment with your own custom controls by adding and removing control projects from your solution.  \n  \n## See also\n\n- [General, Windows Forms Designer, Options Dialog Box](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/5aazxs78(v=vs.100))\n- [How to: Manipulate Toolbox Tabs](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/66kwe227(v=vs.100))\n- [Choose Toolbox Items Dialog Box (Visual Studio)](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/dyca0t6t(v=vs.100))\n- [Putting Controls on Windows Forms](putting-controls-on-windows-forms.md)\n","nodes":[{"pos":[4,311],"embed":true,"restype":"x-metadata","content":"title: \"Walkthrough: Automatically Populating the Toolbox with Custom Components\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"IToolboxService interface\"\n  - \"Toolbox [Windows Forms], populating\"\n  - \"custom components [Windows Forms], adding to Toolbox\"\nms.assetid: 2fa1e3e8-6b9f-42b2-97c0-2be57444dba4","nodes":[{"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components","nodes":[{"pos":[0,72],"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components","nodes":[{"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components","pos":[0,72]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[318,390],"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components","linkify":"Walkthrough: Automatically Populating the Toolbox with Custom Components","nodes":[{"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components","pos":[0,72]}]},{"content":"If your components are defined by a project in the currently open solution, they will automatically appear in the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept>, with no action required by you.","pos":[391,549],"source":"If your components are defined by a project in the currently open solution, they will automatically appear in the **Toolbox**, with no action required by you."},{"content":"You can also manually populate the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> with your custom components by using the <bpt id=\"p2\">[</bpt>Choose Toolbox Items Dialog Box (Visual Studio)<ept id=\"p2\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/dyca0t6t(v=vs.100))</ept>, but the <bpt id=\"p3\">**</bpt>Toolbox<ept id=\"p3\">**</ept> takes account of items in your solution's build outputs with all the following characteristics:","pos":[550,901],"source":" You can also manually populate the **Toolbox** with your custom components by using the [Choose Toolbox Items Dialog Box (Visual Studio)](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/dyca0t6t(v=vs.100)), but the **Toolbox** takes account of items in your solution's build outputs with all the following characteristics:"},{"pos":[911,962],"content":"Implements <ph id=\"ph1\">&lt;xref:System.ComponentModel.IComponent&gt;</ph>;","source":"Implements <xref:System.ComponentModel.IComponent>;"},{"pos":[972,1051],"content":"Does not have <ph id=\"ph1\">&lt;xref:System.ComponentModel.ToolboxItemAttribute&gt;</ph> set to <ph id=\"ph2\">`false`</ph>;","source":"Does not have <xref:System.ComponentModel.ToolboxItemAttribute> set to `false`;"},{"pos":[1061,1146],"content":"Does not have <ph id=\"ph1\">&lt;xref:System.ComponentModel.DesignTimeVisibleAttribute&gt;</ph> set to <ph id=\"ph2\">`false`</ph>.","source":"Does not have <xref:System.ComponentModel.DesignTimeVisibleAttribute> set to `false`."},{"pos":[1154,1293],"content":"[!NOTE]\n The **Toolbox** does not follow reference chains, so it will not display items that are not built by a project in your solution.","leadings":["","> "],"nodes":[{"content":"The <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> does not follow reference chains, so it will not display items that are not built by a project in your solution.","pos":[9,137],"source":"The **Toolbox** does not follow reference chains, so it will not display items that are not built by a project in your solution."}]},{"content":"This walkthrough demonstrates how a custom component automatically appears in the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> once the component is built.","pos":[1300,1422],"source":"This walkthrough demonstrates how a custom component automatically appears in the **Toolbox** once the component is built."},{"content":"Tasks illustrated in this walkthrough include:","pos":[1423,1469]},{"content":"Creating a Windows Forms project.","pos":[1479,1512]},{"content":"Creating a custom component.","pos":[1522,1550]},{"content":"Creating an instance of a custom component.","pos":[1560,1603]},{"content":"Unloading and reloading a custom component.","pos":[1613,1656]},{"pos":[1663,1772],"content":"When you are finished, you will see that the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> is populated with a component that you have created.","source":"When you are finished, you will see that the **Toolbox** is populated with a component that you have created."},{"pos":[1780,2125],"content":"[!NOTE]\n The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Personalize the Visual Studio IDE](/visualstudio/ide/personalizing-the-visual-studio-ide).","leadings":["","> "],"nodes":[{"content":"The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Personalize the Visual Studio IDE](/visualstudio/ide/personalizing-the-visual-studio-ide).","pos":[9,343],"nodes":[{"content":"The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition.","pos":[0,130]},{"content":"To change your settings, choose <bpt id=\"p1\">**</bpt>Import and Export Settings<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>Tools<ept id=\"p2\">**</ept> menu.","pos":[131,216],"source":" To change your settings, choose **Import and Export Settings** on the **Tools** menu."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Personalize the Visual Studio IDE<ept id=\"p1\">](/visualstudio/ide/personalizing-the-visual-studio-ide)</ept>.","pos":[217,334],"source":" For more information, see [Personalize the Visual Studio IDE](/visualstudio/ide/personalizing-the-visual-studio-ide)."}]}]},{"pos":[2134,2154],"content":"Creating the Project","linkify":"Creating the Project","nodes":[{"content":"Creating the Project","pos":[0,20]}]},{"content":"The first step is to create the project and to set up the form.","pos":[2158,2221]},{"pos":[2232,2253],"content":"To create the project","linkify":"To create the project","nodes":[{"content":"To create the project","pos":[0,21]}]},{"pos":[2263,2455],"content":"Create a Windows-based application project called <ph id=\"ph1\">`ToolboxExample`</ph> (<bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept><ph id=\"ph3\"> &gt; </ph><bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept><ph id=\"ph4\"> &gt; </ph><bpt id=\"p4\">**</bpt>Visual C#<ept id=\"p4\">**</ept> or <bpt id=\"p5\">**</bpt>Visual Basic<ept id=\"p5\">**</ept><ph id=\"ph5\"> &gt; </ph><bpt id=\"p6\">**</bpt>Classic Desktop<ept id=\"p6\">**</ept><ph id=\"ph6\"> &gt; </ph><bpt id=\"p7\">**</bpt>Windows Forms Application<ept id=\"p7\">**</ept>).","source":"Create a Windows-based application project called `ToolboxExample` (**File** > **New** > **Project** > **Visual C#** or **Visual Basic** > **Classic Desktop** > **Windows Forms Application**)."},{"content":"Add a new component to the project.","pos":[2465,2500]},{"content":"Call it <ph id=\"ph1\">`DemoComponent`</ph>.","pos":[2501,2525],"source":" Call it `DemoComponent`."},{"pos":[2536,2691],"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Add New Project Items<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/w0572c5b(v=vs.100))</ept>.","source":"For more information, see [How to: Add New Project Items](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/w0572c5b(v=vs.100))."},{"content":"Build the project.","pos":[2701,2719]},{"content":"From the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> menu, click the <bpt id=\"p2\">**</bpt>Options<ept id=\"p2\">**</ept> item.","pos":[2729,2781],"source":"From the **Tools** menu, click the **Options** item."},{"content":"Click <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> under the <bpt id=\"p2\">**</bpt>Windows Forms Designer<ept id=\"p2\">**</ept> item and ensure that the <bpt id=\"p3\">**</bpt>AutoToolboxPopulate<ept id=\"p3\">**</ept> option is set to <bpt id=\"p4\">**</bpt>True<ept id=\"p4\">**</ept>.","pos":[2782,2912],"source":" Click **General** under the **Windows Forms Designer** item and ensure that the **AutoToolboxPopulate** option is set to **True**."},{"pos":[2921,2963],"content":"Creating an Instance of a Custom Component","linkify":"Creating an Instance of a Custom Component","nodes":[{"content":"Creating an Instance of a Custom Component","pos":[0,42]}]},{"content":"The next step is to create an instance of the custom component on the form.","pos":[2967,3042]},{"content":"Because the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> automatically accounts for the new component, this is as easy as creating any other component or control.","pos":[3043,3172],"source":" Because the **Toolbox** automatically accounts for the new component, this is as easy as creating any other component or control."},{"pos":[3183,3226],"content":"To create an instance of a custom component","linkify":"To create an instance of a custom component","nodes":[{"content":"To create an instance of a custom component","pos":[0,43]}]},{"pos":[3236,3286],"content":"Open the project's form in the <bpt id=\"p1\">**</bpt>Forms Designer<ept id=\"p1\">**</ept>.","source":"Open the project's form in the **Forms Designer**."},{"pos":[3296,3371],"content":"In the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept>, click the new tab called <bpt id=\"p2\">**</bpt>ToolboxExample Components<ept id=\"p2\">**</ept>.","source":"In the **Toolbox**, click the new tab called **ToolboxExample Components**."},{"pos":[3382,3437],"content":"Once you click the tab, you will see <bpt id=\"p1\">**</bpt>DemoComponent<ept id=\"p1\">**</ept>.","source":"Once you click the tab, you will see **DemoComponent**."},{"pos":[3449,3777],"content":"[!NOTE]\nFor performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported. To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component.","leadings":["","    >  "],"nodes":[{"content":"For performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported. To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component.","pos":[8,321],"nodes":[{"content":"For performance reasons, components in the auto-populated area of the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> do not display custom bitmaps, and the <ph id=\"ph1\">&lt;xref:System.Drawing.ToolboxBitmapAttribute&gt;</ph> is not supported.","pos":[0,183],"source":"For performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported."},{"content":"To display an icon for a custom component in the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept>, use the <bpt id=\"p2\">**</bpt>Choose Toolbox Items<ept id=\"p2\">**</ept> dialog box to load your component.","pos":[184,313],"source":" To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component."}]}]},{"content":"Drag your component onto your form.","pos":[3787,3822]},{"pos":[3833,3909],"content":"An instance of the component is created and added to the <bpt id=\"p1\">**</bpt>Component Tray<ept id=\"p1\">**</ept>.","source":"An instance of the component is created and added to the **Component Tray**."},{"pos":[3918,3960],"content":"Unloading and Reloading a Custom Component","linkify":"Unloading and Reloading a Custom Component","nodes":[{"content":"Unloading and Reloading a Custom Component","pos":[0,42]}]},{"pos":[3964,4118],"content":"The <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> takes account of the components in each loaded project, and when a project is unloaded, it removes references to the project's components.","source":"The **Toolbox** takes account of the components in each loaded project, and when a project is unloaded, it removes references to the project's components."},{"pos":[4129,4211],"content":"To experiment with the effect on the Toolbox of unloading and reloading components","linkify":"To experiment with the effect on the Toolbox of unloading and reloading components","nodes":[{"content":"To experiment with the effect on the Toolbox of unloading and reloading components","pos":[0,82]}]},{"content":"Unload the project from the solution.","pos":[4221,4258]},{"content":"For more information about unloading projects, see <bpt id=\"p1\">[</bpt>How to: Unload and Reload Projects<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/tt479x1t(v=vs.100))</ept>.","pos":[4269,4454],"source":"For more information about unloading projects, see [How to: Unload and Reload Projects](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/tt479x1t(v=vs.100))."},{"content":"If you are prompted to save, choose <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept>.","pos":[4455,4499],"source":" If you are prompted to save, choose **Yes**."},{"content":"Add a new <bpt id=\"p1\">**</bpt>Windows Application<ept id=\"p1\">**</ept> project to the solution.","pos":[4509,4567],"source":"Add a new **Windows Application** project to the solution."},{"content":"Open the form in the <bpt id=\"p1\">**</bpt>Designer<ept id=\"p1\">**</ept>.","pos":[4568,4602],"source":" Open the form in the **Designer**."},{"pos":[4613,4689],"content":"The <bpt id=\"p1\">**</bpt>ToolboxExample Components<ept id=\"p1\">**</ept> tab from the previous project is now gone.","source":"The **ToolboxExample Components** tab from the previous project is now gone."},{"pos":[4699,4735],"content":"Reload the <ph id=\"ph1\">`ToolboxExample`</ph> project.","source":"Reload the `ToolboxExample` project."},{"pos":[4746,4798],"content":"The <bpt id=\"p1\">**</bpt>ToolboxExample Components<ept id=\"p1\">**</ept> tab now reappears.","source":"The **ToolboxExample Components** tab now reappears."},{"pos":[4807,4817],"content":"Next Steps","linkify":"Next Steps","nodes":[{"content":"Next Steps","pos":[0,10]}]},{"content":"This walkthrough demonstrates that the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> takes account of a project's components, but the <bpt id=\"p2\">**</bpt>Toolbox<ept id=\"p2\">**</ept> is also takes account of controls.","pos":[4821,4967],"source":"This walkthrough demonstrates that the **Toolbox** takes account of a project's components, but the **Toolbox** is also takes account of controls."},{"content":"Experiment with your own custom controls by adding and removing control projects from your solution.","pos":[4968,5068]},{"pos":[5077,5085],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5089,5239],"content":"<bpt id=\"p1\">[</bpt>General, Windows Forms Designer, Options Dialog Box<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/5aazxs78(v=vs.100))</ept>","source":"[General, Windows Forms Designer, Options Dialog Box](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/5aazxs78(v=vs.100))"},{"pos":[5242,5372],"content":"<bpt id=\"p1\">[</bpt>How to: Manipulate Toolbox Tabs<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/66kwe227(v=vs.100))</ept>","source":"[How to: Manipulate Toolbox Tabs](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/66kwe227(v=vs.100))"},{"pos":[5375,5521],"content":"<bpt id=\"p1\">[</bpt>Choose Toolbox Items Dialog Box (Visual Studio)<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/dyca0t6t(v=vs.100))</ept>","source":"[Choose Toolbox Items Dialog Box (Visual Studio)](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/dyca0t6t(v=vs.100))"},{"pos":[5524,5597],"content":"<bpt id=\"p1\">[</bpt>Putting Controls on Windows Forms<ept id=\"p1\">](putting-controls-on-windows-forms.md)</ept>","source":"[Putting Controls on Windows Forms](putting-controls-on-windows-forms.md)"}]}