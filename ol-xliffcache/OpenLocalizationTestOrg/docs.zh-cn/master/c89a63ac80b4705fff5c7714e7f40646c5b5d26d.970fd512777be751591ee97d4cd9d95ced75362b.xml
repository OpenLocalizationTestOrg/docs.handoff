{"content":"---\ntitle: \"Visual Workflow Tracking\"\nms.date: \"03/30/2017\"\nms.assetid: 0143448f-2044-40a0-8a3d-941f6d12468b\n---\n# Visual Workflow Tracking\nThis sample demonstrates how to write a visual workflow tracking application using the debug functionality available through the [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)].\n\n## Sample Details\n The application executes a simple flowchart workflow (defined in Workflow.xaml) and re-hosts the workflow designer to display the currently executing workflow. As the workflow is executed, the currently executing activity is shown with a yellow outline and debug arrow. In addition, tracking records generated by the workflow are also displayed in the application window. For more information about workflow tracking, see [Workflow Tracking and Tracing](../workflow-tracking-and-tracing.md). For more information about re-hosting the workflow designer, see [Rehosting the Workflow Designer](../rehosting-the-workflow-designer.md).\n\n The workflow simulator works by keeping two dictionaries. One contains a mapping between the currently executing activity object and the XAML line number in which the activity is instantiated. The other contains a mapping between the activity instance ID and the activity object. When tracking records are emitted using a custom tracking profile, the application determines the instance ID of the currently executing activity and maps it back to the XAML file that instantiated it. The rehosted workflow designer is then instructed to highlight the activity on the designer surface and use the same method as the workflow debugger, specifically drawing a yellow border around the activity and displaying a yellow arrow along the left side of the designer.\n\n#### To use this sample\n\n1.  Open the WorkflowSimulator.sln file from the sample directory in Visual Studio 2010.\n\n2.  Press CTRL+SHIFT+B to build the solution.\n\n3.  Press CTRL + F5 to run the sample. This displays the Workflow.xaml file in a rehosted workflow designer window.\n\n4.  Click the **File** menu and select **Run Workflow...**.\n\n5.  Notice the currently executing activity is highlighted as described previously and the tracking records are displayed on the right side of the application window.\n\n6.  When the workflow has completed, you can click any of the tracking records to inspect which activity it corresponds to.\n\n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Application\\VisualWorkflowTracking`","nodes":[{"pos":[4,108],"embed":true,"restype":"x-metadata","content":"title: \"Visual Workflow Tracking\"\nms.date: \"03/30/2017\"\nms.assetid: 0143448f-2044-40a0-8a3d-941f6d12468b","nodes":[{"content":"Visual Workflow Tracking","nodes":[{"pos":[0,24],"content":"Visual Workflow Tracking","nodes":[{"content":"Visual Workflow Tracking","pos":[0,24]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[115,139],"content":"Visual Workflow Tracking","linkify":"Visual Workflow Tracking","nodes":[{"content":"Visual Workflow Tracking","pos":[0,24]}]},{"pos":[140,349],"content":"This sample demonstrates how to write a visual workflow tracking application using the debug functionality available through the <ph id=\"ph1\">[!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)]</ph>.","source":"This sample demonstrates how to write a visual workflow tracking application using the debug functionality available through the [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)]."},{"pos":[354,368],"content":"Sample Details","linkify":"Sample Details","nodes":[{"content":"Sample Details","pos":[0,14]}]},{"content":"The application executes a simple flowchart workflow (defined in Workflow.xaml) and re-hosts the workflow designer to display the currently executing workflow.","pos":[370,529]},{"content":"As the workflow is executed, the currently executing activity is shown with a yellow outline and debug arrow.","pos":[530,639]},{"content":"In addition, tracking records generated by the workflow are also displayed in the application window.","pos":[640,741]},{"content":"For more information about workflow tracking, see <bpt id=\"p1\">[</bpt>Workflow Tracking and Tracing<ept id=\"p1\">](../workflow-tracking-and-tracing.md)</ept>.","pos":[742,861],"source":" For more information about workflow tracking, see [Workflow Tracking and Tracing](../workflow-tracking-and-tracing.md)."},{"content":"For more information about re-hosting the workflow designer, see <bpt id=\"p1\">[</bpt>Rehosting the Workflow Designer<ept id=\"p1\">](../rehosting-the-workflow-designer.md)</ept>.","pos":[862,1000],"source":" For more information about re-hosting the workflow designer, see [Rehosting the Workflow Designer](../rehosting-the-workflow-designer.md)."},{"content":"The workflow simulator works by keeping two dictionaries.","pos":[1003,1060]},{"content":"One contains a mapping between the currently executing activity object and the XAML line number in which the activity is instantiated.","pos":[1061,1195]},{"content":"The other contains a mapping between the activity instance ID and the activity object.","pos":[1196,1282]},{"content":"When tracking records are emitted using a custom tracking profile, the application determines the instance ID of the currently executing activity and maps it back to the XAML file that instantiated it.","pos":[1283,1484]},{"content":"The rehosted workflow designer is then instructed to highlight the activity on the designer surface and use the same method as the workflow debugger, specifically drawing a yellow border around the activity and displaying a yellow arrow along the left side of the designer.","pos":[1485,1758]},{"pos":[1765,1783],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"content":"Open the WorkflowSimulator.sln file from the sample directory in Visual Studio 2010.","pos":[1789,1873]},{"content":"Press CTRL+SHIFT+B to build the solution.","pos":[1879,1920]},{"content":"Press CTRL + F5 to run the sample.","pos":[1926,1960]},{"content":"This displays the Workflow.xaml file in a rehosted workflow designer window.","pos":[1961,2037]},{"pos":[2043,2098],"content":"Click the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu and select <bpt id=\"p2\">**</bpt>Run Workflow...<ept id=\"p2\">**</ept>.","source":"Click the **File** menu and select **Run Workflow...**."},{"content":"Notice the currently executing activity is highlighted as described previously and the tracking records are displayed on the right side of the application window.","pos":[2104,2266]},{"content":"When the workflow has completed, you can click any of the tracking records to inspect which activity it corresponds to.","pos":[2272,2391]},{"pos":[2395,2527],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2581,2891],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2892,2942]}]}