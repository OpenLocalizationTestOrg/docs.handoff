{"content":"---\ntitle: \"XPath Namespace Navigation\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 06cc7abb-7416-415c-9dd6-67751b8cabd5\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# XPath Namespace Navigation\nTo use XPath queries with XML documents, you have to correctly address XML namespaces and the elements contained by namespaces. Namespaces prevent ambiguities that can occur when names are used in more than one context; for example, the name `ID` may refer to more than one identifier associated with different elements of an XML document. Namespace syntax specifies URIs, names, and prefixes that distinguish the elements of an XML document.  \n  \n The example in this topic demonstrates the use of prefixes in navigating an XML document with <xref:System.Xml.XPath.XPathNavigator>. For more information about namespaces and syntax, see [XML Files: Understanding XML Namespaces](https://docs.microsoft.com/previous-versions/dotnet/articles/bb986013(v=msdn.10)).  \n  \n## Namespace Declarations  \n Namespace declarations make the elements of an XML document distinguishable and addressable when using an instance of <xref:System.Xml.XPath.XPathNavigator>. Namespace prefixes provide a brief syntax for addressing namespaces.  \n  \n Prefixes are defined by the form: `<e:Envelope xmlns:e=http://schemas.xmlsoap.org/soap/envelope/>.` In this syntax the prefix \"`e`\" is an abbreviation for the formal URI of the namespace. You can identify the `Body` element as a member of the `Envelope` namespace by using the syntax: `e:Body`.  \n  \n The following XML document will be referenced as `response.xml` in the navigation example in the next section.  \n  \n```xml  \n<?xml version=\"1.0\" encoding=\"utf-8\" ?>  \n<e:Envelope xmlns:e=\"http://schemas.xmlsoap.org/soap/envelope/\">  \n  <e:Body>  \n    <s:Search xmlns:s=\"http://schemas.microsoft.com/v1/Search\">  \n      <r:request xmlns:r=\"http://schemas.microsoft.com/v1/Search/metadata\"   \n                 xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\">  \n      </r:request>  \n    </s:Search>  \n  </e:Body>  \n</e:Envelope>  \n```  \n  \n## Navigation by Namespace Prefix  \n The code in this section uses <xref:System.Xml.XPath.XPathNavigator> and <xref:System.Xml.XmlNamespaceManager> objects to select the `Search` element from the XML document in the previous section. The query `xpath` includes namespace prefixes on each element in the path. Specifying the precise identity of the namespaces that contain each element assures correct navigation to the `Search` element by the <xref:System.Xml.XPath.XPathNavigator.SelectSingleNode%2A> method.  \n  \n```  \nusing (XmlReader reader = XmlReader.Create(\"response.xml\"))  \n            {  \n                XPathDocument doc = new XPathDocument(reader);  \n                XPathNavigator nav = doc.CreateNavigator();  \n                XmlNamespaceManager nsmgr =  \n                         new XmlNamespaceManager(nav.NameTable);  \n                nsmgr.AddNamespace(\"e\",   \n                         @\"http://schemas.xmlsoap.org/soap/envelope/\");  \n                nsmgr.AddNamespace(\"s\",   \n                            @\"http://schemas.microsoft.com/v1/Search\");  \n                nsmgr.AddNamespace(\"r\",   \n                   @\"http://schemas.microsoft.com/v1/Search/metadata\");  \n                nsmgr.AddNamespace(\"i\",   \n                         @\"http://www.w3.org/2001/XMLSchema-instance\");  \n  \n                string xpath = \"/e:Envelope/e:Body/s:Search\";  \n  \n                XPathNavigator element = nav.SelectSingleNode(xpath, nsmgr);  \n  \n                Console.WriteLine(\"Element Prefix:\" + element.Prefix +   \n                           \" Local name:\" + element.LocalName);  \n                Console.WriteLine(\"Namespace URI: \" +   \n                            element.NamespaceURI);  \n  \n            }  \n```  \n  \n The precision of fully qualifying namespaces and names is more than a convenience. A little experimentation with the document definition and code in the previous examples will verify that navigation without fully qualified element names throws exceptions. For example, the element definition: `<Search xmlns=\"http://schemas.microsoft.com/v1/Search\">`, and query: string `xpath = \"/s:Envelope/s:Body/Search\";` without the namespace prefix on the `Search` element returns `null` instead of the `Search` element.  \n  \n## See also\n\n- [Accessing XML Data using XPathNavigator](../../../../docs/standard/data/xml/accessing-xml-data-using-xpathnavigator.md)\n- [Selecting, Evaluating and Matching XML Data using XPathNavigator](../../../../docs/standard/data/xml/selecting-evaluating-and-matching-xml-data-using-xpathnavigator.md)\n","nodes":[{"pos":[4,178],"embed":true,"restype":"x-metadata","content":"title: \"XPath Namespace Navigation\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 06cc7abb-7416-415c-9dd6-67751b8cabd5\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"XPath Namespace Navigation","nodes":[{"pos":[0,26],"content":"XPath Namespace Navigation","nodes":[{"content":"XPath Namespace Navigation","pos":[0,26]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[185,211],"content":"XPath Namespace Navigation","linkify":"XPath Namespace Navigation","nodes":[{"content":"XPath Namespace Navigation","pos":[0,26]}]},{"content":"To use XPath queries with XML documents, you have to correctly address XML namespaces and the elements contained by namespaces.","pos":[212,339]},{"content":"Namespaces prevent ambiguities that can occur when names are used in more than one context; for example, the name <ph id=\"ph1\">`ID`</ph> may refer to more than one identifier associated with different elements of an XML document.","pos":[340,551],"source":" Namespaces prevent ambiguities that can occur when names are used in more than one context; for example, the name `ID` may refer to more than one identifier associated with different elements of an XML document."},{"content":"Namespace syntax specifies URIs, names, and prefixes that distinguish the elements of an XML document.","pos":[552,654]},{"content":"The example in this topic demonstrates the use of prefixes in navigating an XML document with <ph id=\"ph1\">&lt;xref:System.Xml.XPath.XPathNavigator&gt;</ph>.","pos":[661,794],"source":"The example in this topic demonstrates the use of prefixes in navigating an XML document with <xref:System.Xml.XPath.XPathNavigator>."},{"content":"For more information about namespaces and syntax, see <bpt id=\"p1\">[</bpt>XML Files: Understanding XML Namespaces<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/articles/bb986013(v=msdn.10))</ept>.","pos":[795,973],"source":" For more information about namespaces and syntax, see [XML Files: Understanding XML Namespaces](https://docs.microsoft.com/previous-versions/dotnet/articles/bb986013(v=msdn.10))."},{"pos":[982,1004],"content":"Namespace Declarations","linkify":"Namespace Declarations","nodes":[{"content":"Namespace Declarations","pos":[0,22]}]},{"content":"Namespace declarations make the elements of an XML document distinguishable and addressable when using an instance of <ph id=\"ph1\">&lt;xref:System.Xml.XPath.XPathNavigator&gt;</ph>.","pos":[1008,1165],"source":"Namespace declarations make the elements of an XML document distinguishable and addressable when using an instance of <xref:System.Xml.XPath.XPathNavigator>."},{"content":"Namespace prefixes provide a brief syntax for addressing namespaces.","pos":[1166,1234]},{"content":"Prefixes are defined by the form: <ph id=\"ph1\">`&lt;e:Envelope xmlns:e=http://schemas.xmlsoap.org/soap/envelope/&gt;.`</ph> In this syntax the prefix \"<ph id=\"ph2\">`e`</ph>\" is an abbreviation for the formal URI of the namespace.","pos":[1241,1428],"source":"Prefixes are defined by the form: `<e:Envelope xmlns:e=http://schemas.xmlsoap.org/soap/envelope/>.` In this syntax the prefix \"`e`\" is an abbreviation for the formal URI of the namespace."},{"content":"You can identify the <ph id=\"ph1\">`Body`</ph> element as a member of the <ph id=\"ph2\">`Envelope`</ph> namespace by using the syntax: <ph id=\"ph3\">`e:Body`</ph>.","pos":[1429,1535],"source":" You can identify the `Body` element as a member of the `Envelope` namespace by using the syntax: `e:Body`."},{"pos":[1542,1652],"content":"The following XML document will be referenced as <ph id=\"ph1\">`response.xml`</ph> in the navigation example in the next section.","source":"The following XML document will be referenced as `response.xml` in the navigation example in the next section."},{"pos":[2086,2116],"content":"Navigation by Namespace Prefix","linkify":"Navigation by Namespace Prefix","nodes":[{"content":"Navigation by Namespace Prefix","pos":[0,30]}]},{"content":"The code in this section uses <ph id=\"ph1\">&lt;xref:System.Xml.XPath.XPathNavigator&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Xml.XmlNamespaceManager&gt;</ph> objects to select the <ph id=\"ph3\">`Search`</ph> element from the XML document in the previous section.","pos":[2120,2316],"source":"The code in this section uses <xref:System.Xml.XPath.XPathNavigator> and <xref:System.Xml.XmlNamespaceManager> objects to select the `Search` element from the XML document in the previous section."},{"content":"The query <ph id=\"ph1\">`xpath`</ph> includes namespace prefixes on each element in the path.","pos":[2317,2391],"source":" The query `xpath` includes namespace prefixes on each element in the path."},{"content":"Specifying the precise identity of the namespaces that contain each element assures correct navigation to the <ph id=\"ph1\">`Search`</ph> element by the <ph id=\"ph2\">&lt;xref:System.Xml.XPath.XPathNavigator.SelectSingleNode%2A&gt;</ph> method.","pos":[2392,2592],"source":" Specifying the precise identity of the namespaces that contain each element assures correct navigation to the `Search` element by the <xref:System.Xml.XPath.XPathNavigator.SelectSingleNode%2A> method."},{"content":"The precision of fully qualifying namespaces and names is more than a convenience.","pos":[3821,3903]},{"content":"A little experimentation with the document definition and code in the previous examples will verify that navigation without fully qualified element names throws exceptions.","pos":[3904,4076]},{"content":"For example, the element definition: <ph id=\"ph1\">`&lt;Search xmlns=\"http://schemas.microsoft.com/v1/Search\"&gt;`</ph>, and query: string <ph id=\"ph2\">`xpath = \"/s:Envelope/s:Body/Search\";`</ph> without the namespace prefix on the <ph id=\"ph3\">`Search`</ph> element returns <ph id=\"ph4\">`null`</ph> instead of the <ph id=\"ph5\">`Search`</ph> element.","pos":[4077,4330],"source":" For example, the element definition: `<Search xmlns=\"http://schemas.microsoft.com/v1/Search\">`, and query: string `xpath = \"/s:Envelope/s:Body/Search\";` without the namespace prefix on the `Search` element returns `null` instead of the `Search` element."},{"pos":[4339,4347],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4351,4471],"content":"<bpt id=\"p1\">[</bpt>Accessing XML Data using XPathNavigator<ept id=\"p1\">](../../../../docs/standard/data/xml/accessing-xml-data-using-xpathnavigator.md)</ept>","source":"[Accessing XML Data using XPathNavigator](../../../../docs/standard/data/xml/accessing-xml-data-using-xpathnavigator.md)"},{"pos":[4474,4643],"content":"<bpt id=\"p1\">[</bpt>Selecting, Evaluating and Matching XML Data using XPathNavigator<ept id=\"p1\">](../../../../docs/standard/data/xml/selecting-evaluating-and-matching-xml-data-using-xpathnavigator.md)</ept>","source":"[Selecting, Evaluating and Matching XML Data using XPathNavigator](../../../../docs/standard/data/xml/selecting-evaluating-and-matching-xml-data-using-xpathnavigator.md)"}]}