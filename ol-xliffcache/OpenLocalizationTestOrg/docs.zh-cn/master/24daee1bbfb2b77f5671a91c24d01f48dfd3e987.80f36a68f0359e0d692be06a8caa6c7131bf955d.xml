{"content":"---\ntitle: \"Dependency Properties Overview | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"properties, attached\"\n  - \"properties, overview\"\n  - \"styles\"\n  - \"attached properties\"\n  - \"data binding\"\n  - \"dependency properties\"\n  - \"resources, references to\"\nms.assetid: d119d00c-3afb-48d6-87a0-c4da4f83dee5\ncaps.latest.revision: 30\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Dependency Properties Overview\n[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] provides a set of services that can be used to extend the functionality of a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property. Collectively, these services are typically referred to as the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system. A property that is backed by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system is known as a dependency property. This overview describes the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system and the capabilities of a dependency property. This includes how to use existing dependency properties in XAML and in code. This overview also introduces specialized aspects of dependency properties, such as dependency property metadata, and how to create your own dependency property in a custom class.  \n  \n  \n  \n<a name=\"prerequisites\"></a>   \n## Prerequisites  \n This topic assumes that you have some basic knowledge of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] and object-oriented programming. In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications. For more information, see [Walkthrough: My First WPF Desktop Application](../../../../docs/framework/wpf/getting-started/walkthrough-my-first-wpf-desktop-application.md).  \n  \n<a name=\"why_dependency_properties\"></a>   \n## Dependency Properties and CLR Properties  \n In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], properties are typically exposed as [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties. At a basic level, you could interact with these properties directly and never know that they are implemented as a dependency property. However, you should become familiar with some or all of the features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system, so that you can take advantage of these features.  \n  \n The purpose of dependency properties is to provide a way to compute the value of a property based on the value of other inputs. These other inputs might include system properties such as themes and user preference, just-in-time property determination mechanisms such as data binding and animations/storyboards, multiple-use templates such as resources and styles, or values known through parent-child relationships with other elements in the element tree. In addition, a dependency property can be implemented to provide self-contained validation, default values, callbacks that monitor changes to other properties, and a system that can coerce property values based on potentially runtime information. Derived classes can also change some specific characteristics of an existing property by overriding dependency property metadata, rather than overriding the actual implementation of existing properties or creating new properties.  \n  \n In the SDK reference, you can identify which property is a dependency property by the presence of the Dependency Property Information section on the managed reference page for that property. The Dependency Property Information section includes a link to the <xref:System.Windows.DependencyProperty> identifier field for that dependency property, and also includes a list of the metadata options that are set for that property, per-class override information, and other details.  \n  \n<a name=\"back_dependency_properties\"></a>   \n## Dependency Properties Back CLR Properties  \n Dependency properties and the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system extend property functionality by providing a type that backs a property, as an alternative implementation to the standard pattern of backing the property with a private field. The name of this type is <xref:System.Windows.DependencyProperty>. The other important type that defines the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system is <xref:System.Windows.DependencyObject>. <xref:System.Windows.DependencyObject> defines the base class that can register and own a dependency property.  \n  \n Following is a summation of the terminology that is used in this [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] documentation when discussing dependency properties:  \n  \n-   **Dependency property:** A property that is backed by a <xref:System.Windows.DependencyProperty>.  \n  \n-   **Dependency property identifier:** A <xref:System.Windows.DependencyProperty> instance, which is obtained as a return value when registering a dependency property, and then stored as a static member of a class. This identifier is used as a parameter for many of the [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] that interact with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system.  \n  \n-   **CLR \"wrapper\":** The actual get and set implementations for the property. These implementations incorporate the dependency property identifier by using it in the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> calls, thus providing the backing for the property using the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system.  \n  \n The following example defines the `IsSpinning` dependency property, and shows the relationship of the <xref:System.Windows.DependencyProperty> identifier to the property that it backs.  \n  \n [!code-csharp[PropertiesOvwSupport#DPFormBasic](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic)]\n [!code-vb[PropertiesOvwSupport#DPFormBasic](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#dpformbasic)]  \n[!code-csharp[PropertiesOvwSupport#DPFormBasic2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic2)]  \n  \n The naming convention of the property and its backing <xref:System.Windows.DependencyProperty> field is important. The name of the field is always the name of the property, with the suffix `Property` appended. For more information about this convention and the reasons for it, see [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).  \n  \n<a name=\"setting_property_values\"></a>   \n## Setting Property Values  \n You can set properties either in code or in XAML.  \n  \n<a name=\"local_property_values\"></a>   \n### Setting Property Values in XAML  \n The following XAML example specifies the background color of a button as red. This example illustrates a case where the simple string value for a XAML attribute is type-converted by the WPF XAML parser into a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] type (a <xref:System.Windows.Media.Color>, by way of a <xref:System.Windows.Media.SolidColorBrush>) in the generated code.  \n  \n [!code-xml[PropertiesOvwSupport#MostBasicProperty](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#mostbasicproperty)]  \n  \n XAML supports a variety of syntax forms for setting properties. Which syntax to use for a particular property will depend on the value type that a property uses, as well as other factors such as the presence of a type converter. For more information on XAML syntax for property setting, see [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and [XAML Syntax In Detail](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md).  \n  \n As an example of non-attribute syntax, the following XAML example shows another button background. This time rather than setting a simple solid color, the background is set to an image, with an element representing that image and the source of that image specified as an attribute of the nested element. This is an example of property element syntax.  \n  \n [!code-xml[PropertiesOvwSupport#PESyntaxProperty](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#pesyntaxproperty)]  \n  \n<a name=\"setting_properties_code\"></a>   \n### Setting Properties in Code  \n Setting dependency property values in code is typically just a call to the set implementation exposed by the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] \"wrapper\".  \n  \n [!code-csharp[PropertiesOvwSupport#ProceduralPropertySet](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyset)]\n [!code-vb[PropertiesOvwSupport#ProceduralPropertySet](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyset)]  \n  \n Getting a property value is also essentially a call to the get \"wrapper\" implementation:  \n  \n [!code-csharp[PropertiesOvwSupport#ProceduralPropertyGet](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyget)]\n [!code-vb[PropertiesOvwSupport#ProceduralPropertyGet](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyget)]  \n  \n You can also call the property system [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> directly. This is not typically necessary if you are using existing properties (the wrappers are more convenient, and provide better exposure of the property for developer tools), but calling the [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] directly is appropriate for certain scenarios.  \n  \n Properties can be also set in XAML and then accessed later in code, through code-behind. For details, see [Code-Behind and XAML in WPF](../../../../docs/framework/wpf/advanced/code-behind-and-xaml-in-wpf.md).  \n  \n<a name=\"functionality\"></a>   \n## Property Functionality Provided by a Dependency Property  \n A dependency property provides functionality that extends the functionality of a property as opposed to a property that is backed by a field. Often, each such functionality represents or supports a specific feature of the overall [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] set of features:  \n  \n-   [Resources](#setting_properties_resources)  \n  \n-   [Data binding](#setting_properties_data_binding)  \n  \n-   [Styles](#setting_properties_styles)  \n  \n-   [Animations](#animations)  \n  \n-   [Metadata overrides](#metadata)  \n  \n-   [Property value inheritance](#setting_properties_inheritance)  \n  \n-   [WPF Designer integration](#vs2008_integration)  \n  \n<a name=\"setting_properties_resources\"></a>   \n### Resources  \n A dependency property value can be set by referencing a resource. Resources are typically specified as the `Resources` property value of a page root element, or of the application (these locations enable the most convenient access to the resource). The following example shows how to define a <xref:System.Windows.Media.SolidColorBrush> resource.  \n  \n [!code-xml[PropertiesOvwSupport#ResourcesResource](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesresource)]  \n  \n Once the resource is defined, you can reference the resource and use it to provide a property value:  \n  \n [!code-xml[PropertiesOvwSupport#ResourcesReference](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesreference)]  \n  \n This particular resource is referenced as a [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md) (in WPF XAML, you can use either a static or dynamic resource reference). To use a dynamic resource reference, you must be setting to a dependency property, so it is specifically the dynamic resource reference usage that is enabled by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system. For more information, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).  \n  \n> [!NOTE]\n>  Resources are treated as a local value, which means that if you set another local value, you will eliminate the resource reference. For more information, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md).  \n  \n<a name=\"setting_properties_data_binding\"></a>   \n### Data Binding  \n A dependency property can reference a value through data binding. Data binding works through a specific markup extension syntax in XAML, or the <xref:System.Windows.Data.Binding> object in code. With data binding, the final property value determination is deferred until run time, at which time the value is obtained from a data source.  \n  \n The following example sets the <xref:System.Windows.Controls.ContentControl.Content%2A> property for a <xref:System.Windows.Controls.Button>, using a binding declared in XAML. The binding uses an inherited data context and an <xref:System.Windows.Data.XmlDataProvider> data source (not shown). The binding itself specifies the desired source property by <xref:System.Windows.Data.Binding.XPath%2A> within the data source.  \n  \n [!code-xml[PropertiesOvwSupport#BasicInlineBinding](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#basicinlinebinding)]  \n  \n> [!NOTE]\n>  Bindings are treated as a local value, which means that if you set another local value, you will eliminate the binding. For details, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md).  \n  \n Dependency properties, or the <xref:System.Windows.DependencyObject> class, do not natively support <xref:System.ComponentModel.INotifyPropertyChanged> for purposes of producing notifications of changes in <xref:System.Windows.DependencyObject> source property value for data binding operations. For more information on how to create properties for use in data binding that can report changes to a data binding target, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).  \n  \n<a name=\"setting_properties_styles\"></a>   \n### Styles  \n Styles and templates are two of the chief motivating scenarios for using dependency properties. Styles are particularly useful for setting properties that define application [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]. Styles are typically defined as resources in XAML. Styles interact with the property system because they typically contain \"setters\" for particular properties, as well as \"triggers\" that change a property value based on the real-time value for another property.  \n  \n The following example creates a very simple style (which would be defined inside a <xref:System.Windows.FrameworkElement.Resources%2A> dictionary, not shown), then applies that style directly to the <xref:System.Windows.FrameworkElement.Style%2A> property for a <xref:System.Windows.Controls.Button>. The setter within the style sets the <xref:System.Windows.Controls.Control.Background%2A> property for a styled <xref:System.Windows.Controls.Button> to green.  \n  \n [!code-xml[PropertiesOvwSupport#SimpleStyleDef](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyledef)]  \n  \n [!code-xml[PropertiesOvwSupport#SimpleStyle](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyle)]  \n  \n For more information, see [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md).  \n  \n<a name=\"animations\"></a>   \n### Animations  \n Dependency properties can be animated. When an animation is applied and is running, the animated value operates at a higher precedence than any value (such as a local value) that the property otherwise has.  \n  \n The following example animates the <xref:System.Windows.Controls.Control.Background%2A> on a <xref:System.Windows.Controls.Button> property (technically, the <xref:System.Windows.Controls.Control.Background%2A> is animated by using property element syntax to specify a blank <xref:System.Windows.Media.SolidColorBrush> as the <xref:System.Windows.Controls.Control.Background%2A>, then the <xref:System.Windows.Media.SolidColorBrush.Color%2A> property of that <xref:System.Windows.Media.SolidColorBrush> is the property that is directly animated).  \n  \n [!code-xml[PropertiesOvwSupport#MiniAnimate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#minianimate)]  \n  \n For more information on animating properties, see [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md) and [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).  \n  \n<a name=\"metadata\"></a>   \n### Metadata Overrides  \n You can change certain behaviors of a dependency property by overriding the metadata for that property when you derive from the class that originally registers the dependency property. Overriding metadata relies on the <xref:System.Windows.DependencyProperty> identifier. Overriding metadata does not require re-implementing the property. The metadata change is handled natively by the property system; each class potentially holds individual metadata for all properties that are inherited from base classes, on a per-type basis.  \n  \n The following example overrides metadata for a dependency property <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>. Overriding this particular dependency property metadata is part of an implementation pattern that creates controls that can use default styles from themes.  \n  \n [!code-csharp[PropertiesOvwSupport#OverrideMetadata](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml.cs#overridemetadata)]\n [!code-vb[PropertiesOvwSupport#OverrideMetadata](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page3.xaml.vb#overridemetadata)]  \n  \n For more information about overriding or obtaining property metadata, see [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).  \n  \n<a name=\"setting_properties_inheritance\"></a>   \n### Property Value Inheritance  \n An element can inherit the value of a dependency property from its parent in the object tree.  \n  \n> [!NOTE]\n>  Property value inheritance behavior is not globally enabled for all dependency properties, because the calculation time for inheritance does have some performance impact. Property value inheritance is typically only enabled for properties where a particular scenario suggests that property value inheritance is appropriate. You can determine whether a dependency property inherits by looking at the **Dependency Property Information** section for that dependency property in the SDK reference.  \n  \n The following example shows a binding, and sets the <xref:System.Windows.FrameworkElement.DataContext%2A> property that specifies the source of the binding, which was not shown in the earlier binding example. Any subsequent bindings in child objects do not need to specify the source, they can use the inherited value from <xref:System.Windows.FrameworkElement.DataContext%2A> in the parent <xref:System.Windows.Controls.StackPanel> object. (Alternatively, a child object could instead choose to directly specify its own <xref:System.Windows.FrameworkElement.DataContext%2A> or a <xref:System.Windows.Data.Binding.Source%2A> in the <xref:System.Windows.Data.Binding>, and to deliberately not use the inherited value for data context of its bindings.)  \n  \n [!code-xml[PropertiesOvwSupport#InheritanceContext](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#inheritancecontext)]  \n  \n For more information, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).  \n  \n<a name=\"vs2008_integration\"></a>   \n### WPF Designer Integration  \n A custom control with properties that are implemented as dependency properties will receive appropriate [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] support. One example is the ability to edit direct and attached dependency properties with the **Properties** window. For more information, see [Control Authoring Overview](../../../../docs/framework/wpf/controls/control-authoring-overview.md).  \n  \n<a name=\"value_determination\"></a>   \n## Dependency Property Value Precedence  \n When you get the value of a dependency property, you are potentially obtaining a value that was set on that property through any one of the other property-based inputs that participate in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system. Dependency property value precedence exists so that a variety of scenarios for how properties obtain their values can interact in a predictable way.  \n  \n Consider the following example. The example includes a style that applies to all buttons and their <xref:System.Windows.Controls.Control.Background%2A> properties, but then also specifies one button with a locally set <xref:System.Windows.Controls.Control.Background%2A> value.  \n  \n> [!NOTE]\n>  The SDK documentation uses the terms \"local value\" or \"locally set value\" occasionally when discussing dependency properties. A locally set value is a property value that is set directly on an object instance in code, or as an attribute on an element in XAML.  \n  \n In principle, for the first button, the property is set twice, but only one value applies: the value with the highest precedence. A locally set value has the highest precedence (except for a running animation, but no animation applies in this example) and thus the locally set value is used instead of the style setter value for the background on the first button. The second button has no local value (and no other value with higher precedence than a style setter) and thus the background in that button comes from the style setter.  \n  \n [!code-xml[PropertiesOvwSupport#MiniPrecedence](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#miniprecedence)]  \n  \n### Why Does Dependency Property Precedence Exist?  \n Typically, you would not want styles to always apply and to obscure even a locally set value of an individual element (otherwise, it would be very difficult to use either styles or elements in general). Therefore, the values that come from styles operate at a lower precedent than a locally set value. For a more thorough listing of dependency properties and where a dependency property effective value might come from, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md).  \n  \n> [!NOTE]\n>  There are a number of properties defined on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that are not dependency properties. By and large, properties were implemented as dependency properties only when there were needs to support at least one of the scenarios enabled by the property system: data binding, styling, animation, default value support, inheritance, attached properties, or invalidation.  \n  \n<a name=\"dp_implement_roadmap\"></a>   \n## Learning More About Dependency Properties  \n  \n-   An attached property is a type of property that supports a specialized syntax in XAML. An attached property often does not have a 1:1 correspondence with a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property, and is not necessarily a dependency property. The typical purpose of a attached property is to allow child elements to report property values to a parent element, even if the parent element and child element do not both possess that property as part of the class members listings. One primary scenario is to enable child elements to inform the parent how they should be presented in [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]; for an example, see <xref:System.Windows.Controls.DockPanel.Dock%2A> or <xref:System.Windows.Controls.Canvas.Left%2A>. For details, see [Attached Properties Overview](../../../../docs/framework/wpf/advanced/attached-properties-overview.md).  \n  \n-   Component developers or application developers may wish to create their own dependency property, in order to enable capabilities such as data binding or styles support, or for invalidation and value coercion support. For details, see [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).  \n  \n-   Dependency properties should generally be considered to be public properties, accessible or at least discoverable by any caller that has access to an instance. For more information, see [Dependency Property Security](../../../../docs/framework/wpf/advanced/dependency-property-security.md).  \n  \n## See Also  \n [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)   \n [Read-Only Dependency Properties](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md)   \n [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)   \n [WPF Architecture](../../../../docs/framework/wpf/advanced/wpf-architecture.md)","nodes":[{"pos":[4,553],"nodes":[{"content":"Dependency Properties Overview | Microsoft Docs","nodes":[{"pos":[0,47],"content":"Dependency Properties Overview | Microsoft Docs","nodes":[{"content":"Dependency Properties Overview | Microsoft Docs","pos":[0,47]}]}],"pos":[6,56],"yaml":true}],"content":"title: \"Dependency Properties Overview | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"properties, attached\"\n  - \"properties, overview\"\n  - \"styles\"\n  - \"attached properties\"\n  - \"data binding\"\n  - \"dependency properties\"\n  - \"resources, references to\"\nms.assetid: d119d00c-3afb-48d6-87a0-c4da4f83dee5\ncaps.latest.revision: 30\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","yamlblock":true},{"pos":[560,590],"content":"Dependency Properties Overview","linkify":"Dependency Properties Overview","nodes":[{"content":"Dependency Properties Overview","pos":[0,30]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> provides a set of services that can be used to extend the functionality of a <ph id=\"ph2\">[!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)]</ph> property.","pos":[591,825],"source":"[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] provides a set of services that can be used to extend the functionality of a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property."},{"content":"Collectively, these services are typically referred to as the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system.","pos":[826,986],"source":" Collectively, these services are typically referred to as the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system."},{"content":"A property that is backed by the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system is known as a dependency property.","pos":[987,1152],"source":" A property that is backed by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system is known as a dependency property."},{"content":"This overview describes the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system and the capabilities of a dependency property.","pos":[1153,1325],"source":" This overview describes the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system and the capabilities of a dependency property."},{"content":"This includes how to use existing dependency properties in XAML and in code.","pos":[1326,1402]},{"content":"This overview also introduces specialized aspects of dependency properties, such as dependency property metadata, and how to create your own dependency property in a custom class.","pos":[1403,1582]},{"pos":[1629,1642],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"content":"This topic assumes that you have some basic knowledge of the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]</ph> and object-oriented programming.","pos":[1646,1809],"source":"This topic assumes that you have some basic knowledge of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] and object-oriented programming."},{"content":"In order to follow the examples in this topic, you should also understand <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> and know how to write <ph id=\"ph2\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> applications.","pos":[1810,2073],"source":" In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Walkthrough: My First WPF Desktop Application<ept id=\"p1\">](../../../../docs/framework/wpf/getting-started/walkthrough-my-first-wpf-desktop-application.md)</ept>.","pos":[2074,2244],"source":" For more information, see [Walkthrough: My First WPF Desktop Application](../../../../docs/framework/wpf/getting-started/walkthrough-my-first-wpf-desktop-application.md)."},{"pos":[2297,2337],"content":"Dependency Properties and CLR Properties","linkify":"Dependency Properties and CLR Properties","nodes":[{"content":"Dependency Properties and CLR Properties","pos":[0,40]}]},{"content":"In <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph>, properties are typically exposed as <ph id=\"ph2\">[!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)]</ph> properties.","pos":[2341,2542],"source":"In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], properties are typically exposed as [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties."},{"content":"At a basic level, you could interact with these properties directly and never know that they are implemented as a dependency property.","pos":[2543,2677]},{"content":"However, you should become familiar with some or all of the features of the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system, so that you can take advantage of these features.","pos":[2678,2902],"source":" However, you should become familiar with some or all of the features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system, so that you can take advantage of these features."},{"content":"The purpose of dependency properties is to provide a way to compute the value of a property based on the value of other inputs.","pos":[2909,3036]},{"content":"These other inputs might include system properties such as themes and user preference, just-in-time property determination mechanisms such as data binding and animations/storyboards, multiple-use templates such as resources and styles, or values known through parent-child relationships with other elements in the element tree.","pos":[3037,3364]},{"content":"In addition, a dependency property can be implemented to provide self-contained validation, default values, callbacks that monitor changes to other properties, and a system that can coerce property values based on potentially runtime information.","pos":[3365,3611]},{"content":"Derived classes can also change some specific characteristics of an existing property by overriding dependency property metadata, rather than overriding the actual implementation of existing properties or creating new properties.","pos":[3612,3841]},{"content":"In the SDK reference, you can identify which property is a dependency property by the presence of the Dependency Property Information section on the managed reference page for that property.","pos":[3848,4038]},{"content":"The Dependency Property Information section includes a link to the <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty&gt;</ph> identifier field for that dependency property, and also includes a list of the metadata options that are set for that property, per-class override information, and other details.","pos":[4039,4325],"source":" The Dependency Property Information section includes a link to the <xref:System.Windows.DependencyProperty> identifier field for that dependency property, and also includes a list of the metadata options that are set for that property, per-class override information, and other details."},{"pos":[4379,4420],"content":"Dependency Properties Back CLR Properties","linkify":"Dependency Properties Back CLR Properties","nodes":[{"content":"Dependency Properties Back CLR Properties","pos":[0,41]}]},{"content":"Dependency properties and the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system extend property functionality by providing a type that backs a property, as an alternative implementation to the standard pattern of backing the property with a private field.","pos":[4424,4727],"source":"Dependency properties and the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system extend property functionality by providing a type that backs a property, as an alternative implementation to the standard pattern of backing the property with a private field."},{"content":"The name of this type is <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty&gt;</ph>.","pos":[4728,4794],"source":" The name of this type is <xref:System.Windows.DependencyProperty>."},{"content":"The other important type that defines the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system is <ph id=\"ph2\">&lt;xref:System.Windows.DependencyObject&gt;</ph>.","pos":[4795,4977],"source":" The other important type that defines the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system is <xref:System.Windows.DependencyObject>."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.DependencyObject&gt;</ph> defines the base class that can register and own a dependency property.","pos":[4978,5088],"source":" <xref:System.Windows.DependencyObject> defines the base class that can register and own a dependency property."},{"pos":[5095,5280],"content":"Following is a summation of the terminology that is used in this <ph id=\"ph1\">[!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)]</ph> documentation when discussing dependency properties:","source":"Following is a summation of the terminology that is used in this [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] documentation when discussing dependency properties:"},{"pos":[5290,5387],"content":"<bpt id=\"p1\">**</bpt>Dependency property:<ept id=\"p1\">**</ept> A property that is backed by a <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty&gt;</ph>.","source":"**Dependency property:** A property that is backed by a <xref:System.Windows.DependencyProperty>."},{"content":"<bpt id=\"p1\">**</bpt>Dependency property identifier:<ept id=\"p1\">**</ept> A <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty&gt;</ph> instance, which is obtained as a return value when registering a dependency property, and then stored as a static member of a class.","pos":[5397,5608],"source":"**Dependency property identifier:** A <xref:System.Windows.DependencyProperty> instance, which is obtained as a return value when registering a dependency property, and then stored as a static member of a class."},{"content":"This identifier is used as a parameter for many of the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]</ph> that interact with the <ph id=\"ph2\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system.","pos":[5609,5873],"source":" This identifier is used as a parameter for many of the [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] that interact with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system."},{"content":"<bpt id=\"p1\">**</bpt>CLR \"wrapper\":<ept id=\"p1\">**</ept> The actual get and set implementations for the property.","pos":[5883,5958],"source":"**CLR \"wrapper\":** The actual get and set implementations for the property."},{"content":"These implementations incorporate the dependency property identifier by using it in the <ph id=\"ph1\">&lt;xref:System.Windows.DependencyObject.GetValue%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.DependencyObject.SetValue%2A&gt;</ph> calls, thus providing the backing for the property using the <ph id=\"ph3\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system.","pos":[5959,6312],"source":" These implementations incorporate the dependency property identifier by using it in the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> calls, thus providing the backing for the property using the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system."},{"pos":[6319,6503],"content":"The following example defines the <ph id=\"ph1\">`IsSpinning`</ph> dependency property, and shows the relationship of the <ph id=\"ph2\">&lt;xref:System.Windows.DependencyProperty&gt;</ph> identifier to the property that it backs.","source":"The following example defines the `IsSpinning` dependency property, and shows the relationship of the <xref:System.Windows.DependencyProperty> identifier to the property that it backs."},{"pos":[6510,6988],"content":"[!code-csharp[PropertiesOvwSupport#DPFormBasic](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic)]\n[!code-vb[PropertiesOvwSupport#DPFormBasic](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#dpformbasic)]  \n[!code-csharp[PropertiesOvwSupport#DPFormBasic2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic2)]","leadings":[""," ",""],"nodes":[{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#DPFormBasic<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>PropertiesOvwSupport#DPFormBasic<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#dpformbasic)</ept><ept id=\"p3\">]</ept>","pos":[0,317],"source":"[!code-csharp[PropertiesOvwSupport#DPFormBasic](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic)]\n[!code-vb[PropertiesOvwSupport#DPFormBasic](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#dpformbasic)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#DPFormBasic2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic2)</ept><ept id=\"p1\">]</ept>","pos":[320,477],"source":"[!code-csharp[PropertiesOvwSupport#DPFormBasic2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#dpformbasic2)]"}]},{"content":"The naming convention of the property and its backing <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty&gt;</ph> field is important.","pos":[6995,7109],"source":"The naming convention of the property and its backing <xref:System.Windows.DependencyProperty> field is important."},{"content":"The name of the field is always the name of the property, with the suffix <ph id=\"ph1\">`Property`</ph> appended.","pos":[7110,7204],"source":" The name of the field is always the name of the property, with the suffix `Property` appended."},{"content":"For more information about this convention and the reasons for it, see <bpt id=\"p1\">[</bpt>Custom Dependency Properties<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)</ept>.","pos":[7205,7380],"source":" For more information about this convention and the reasons for it, see [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)."},{"pos":[7431,7454],"content":"Setting Property Values","linkify":"Setting Property Values","nodes":[{"content":"Setting Property Values","pos":[0,23]}]},{"content":"You can set properties either in code or in XAML.","pos":[7458,7507]},{"pos":[7557,7588],"content":"Setting Property Values in XAML","linkify":"Setting Property Values in XAML","nodes":[{"content":"Setting Property Values in XAML","pos":[0,31]}]},{"content":"The following XAML example specifies the background color of a button as red.","pos":[7592,7669]},{"content":"This example illustrates a case where the simple string value for a XAML attribute is type-converted by the WPF XAML parser into a <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> type (a <ph id=\"ph2\">&lt;xref:System.Windows.Media.Color&gt;</ph>, by way of a <ph id=\"ph3\">&lt;xref:System.Windows.Media.SolidColorBrush&gt;</ph>) in the generated code.","pos":[7670,8005],"source":" This example illustrates a case where the simple string value for a XAML attribute is type-converted by the WPF XAML parser into a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] type (a <xref:System.Windows.Media.Color>, by way of a <xref:System.Windows.Media.SolidColorBrush>) in the generated code."},{"pos":[8012,8173],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#MostBasicProperty<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#mostbasicproperty)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#MostBasicProperty](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#mostbasicproperty)]"},{"content":"XAML supports a variety of syntax forms for setting properties.","pos":[8180,8243]},{"content":"Which syntax to use for a particular property will depend on the value type that a property uses, as well as other factors such as the presence of a type converter.","pos":[8244,8408]},{"content":"For more information on XAML syntax for property setting, see <bpt id=\"p1\">[</bpt>XAML Overview (WPF)<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)</ept> and <bpt id=\"p2\">[</bpt>XAML Syntax In Detail<ept id=\"p2\">](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md)</ept>.","pos":[8409,8649],"source":" For more information on XAML syntax for property setting, see [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and [XAML Syntax In Detail](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md)."},{"content":"As an example of non-attribute syntax, the following XAML example shows another button background.","pos":[8656,8754]},{"content":"This time rather than setting a simple solid color, the background is set to an image, with an element representing that image and the source of that image specified as an attribute of the nested element.","pos":[8755,8959]},{"content":"This is an example of property element syntax.","pos":[8960,9006]},{"pos":[9013,9172],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#PESyntaxProperty<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#pesyntaxproperty)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#PESyntaxProperty](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml#pesyntaxproperty)]"},{"pos":[9224,9250],"content":"Setting Properties in Code","linkify":"Setting Properties in Code","nodes":[{"content":"Setting Properties in Code","pos":[0,26]}]},{"pos":[9254,9443],"content":"Setting dependency property values in code is typically just a call to the set implementation exposed by the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]</ph> \"wrapper\".","source":"Setting dependency property values in code is typically just a call to the set implementation exposed by the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] \"wrapper\"."},{"pos":[9450,9808],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#ProceduralPropertySet<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyset)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>PropertiesOvwSupport#ProceduralPropertySet<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyset)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[PropertiesOvwSupport#ProceduralPropertySet](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyset)]\n [!code-vb[PropertiesOvwSupport#ProceduralPropertySet](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyset)]"},{"content":"Getting a property value is also essentially a call to the get \"wrapper\" implementation:","pos":[9815,9903]},{"pos":[9910,10268],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#ProceduralPropertyGet<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyget)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>PropertiesOvwSupport#ProceduralPropertyGet<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyget)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[PropertiesOvwSupport#ProceduralPropertyGet](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/Page1.xaml.cs#proceduralpropertyget)]\n [!code-vb[PropertiesOvwSupport#ProceduralPropertyGet](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page1.xaml.vb#proceduralpropertyget)]"},{"content":"You can also call the property system <ph id=\"ph1\">[!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]</ph> <ph id=\"ph2\">&lt;xref:System.Windows.DependencyObject.GetValue%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Windows.DependencyObject.SetValue%2A&gt;</ph> directly.","pos":[10275,10516],"source":"You can also call the property system [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> directly."},{"content":"This is not typically necessary if you are using existing properties (the wrappers are more convenient, and provide better exposure of the property for developer tools), but calling the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]</ph> directly is appropriate for certain scenarios.","pos":[10517,10837],"source":" This is not typically necessary if you are using existing properties (the wrappers are more convenient, and provide better exposure of the property for developer tools), but calling the [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] directly is appropriate for certain scenarios."},{"content":"Properties can be also set in XAML and then accessed later in code, through code-behind.","pos":[10844,10932]},{"content":"For details, see <bpt id=\"p1\">[</bpt>Code-Behind and XAML in WPF<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/code-behind-and-xaml-in-wpf.md)</ept>.","pos":[10933,11052],"source":" For details, see [Code-Behind and XAML in WPF](../../../../docs/framework/wpf/advanced/code-behind-and-xaml-in-wpf.md)."},{"pos":[11093,11149],"content":"Property Functionality Provided by a Dependency Property","linkify":"Property Functionality Provided by a Dependency Property","nodes":[{"content":"Property Functionality Provided by a Dependency Property","pos":[0,56]}]},{"content":"A dependency property provides functionality that extends the functionality of a property as opposed to a property that is backed by a field.","pos":[11153,11294]},{"content":"Often, each such functionality represents or supports a specific feature of the overall <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> set of features:","pos":[11295,11481],"source":" Often, each such functionality represents or supports a specific feature of the overall [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] set of features:"},{"pos":[11491,11533],"content":"<bpt id=\"p1\">[</bpt>Resources<ept id=\"p1\">](#setting_properties_resources)</ept>","source":"[Resources](#setting_properties_resources)"},{"pos":[11543,11591],"content":"<bpt id=\"p1\">[</bpt>Data binding<ept id=\"p1\">](#setting_properties_data_binding)</ept>","source":"[Data binding](#setting_properties_data_binding)"},{"pos":[11601,11637],"content":"<bpt id=\"p1\">[</bpt>Styles<ept id=\"p1\">](#setting_properties_styles)</ept>","source":"[Styles](#setting_properties_styles)"},{"pos":[11647,11672],"content":"<bpt id=\"p1\">[</bpt>Animations<ept id=\"p1\">](#animations)</ept>","source":"[Animations](#animations)"},{"pos":[11682,11713],"content":"<bpt id=\"p1\">[</bpt>Metadata overrides<ept id=\"p1\">](#metadata)</ept>","source":"[Metadata overrides](#metadata)"},{"pos":[11723,11784],"content":"<bpt id=\"p1\">[</bpt>Property value inheritance<ept id=\"p1\">](#setting_properties_inheritance)</ept>","source":"[Property value inheritance](#setting_properties_inheritance)"},{"pos":[11794,11841],"content":"<bpt id=\"p1\">[</bpt>WPF Designer integration<ept id=\"p1\">](#vs2008_integration)</ept>","source":"[WPF Designer integration](#vs2008_integration)"},{"pos":[11898,11907],"content":"Resources","linkify":"Resources","nodes":[{"content":"Resources","pos":[0,9]}]},{"content":"A dependency property value can be set by referencing a resource.","pos":[11911,11976]},{"content":"Resources are typically specified as the <ph id=\"ph1\">`Resources`</ph> property value of a page root element, or of the application (these locations enable the most convenient access to the resource).","pos":[11977,12159],"source":" Resources are typically specified as the `Resources` property value of a page root element, or of the application (these locations enable the most convenient access to the resource)."},{"content":"The following example shows how to define a <ph id=\"ph1\">&lt;xref:System.Windows.Media.SolidColorBrush&gt;</ph> resource.","pos":[12160,12257],"source":" The following example shows how to define a <xref:System.Windows.Media.SolidColorBrush> resource."},{"pos":[12264,12425],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#ResourcesResource<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesresource)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#ResourcesResource](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesresource)]"},{"content":"Once the resource is defined, you can reference the resource and use it to provide a property value:","pos":[12432,12532]},{"pos":[12539,12702],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#ResourcesReference<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesreference)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#ResourcesReference](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page2.xaml#resourcesreference)]"},{"content":"This particular resource is referenced as a <bpt id=\"p1\">[</bpt>DynamicResource Markup Extension<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md)</ept> (in WPF XAML, you can use either a static or dynamic resource reference).","pos":[12709,12938],"source":"This particular resource is referenced as a [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md) (in WPF XAML, you can use either a static or dynamic resource reference)."},{"content":"To use a dynamic resource reference, you must be setting to a dependency property, so it is specifically the dynamic resource reference usage that is enabled by the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system.","pos":[12939,13202],"source":" To use a dynamic resource reference, you must be setting to a dependency property, so it is specifically the dynamic resource reference usage that is enabled by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>XAML Resources<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/xaml-resources.md)</ept>.","pos":[13203,13305],"source":" For more information, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md)."},{"pos":[13313,13602],"content":"[!NOTE]\n Resources are treated as a local value, which means that if you set another local value, you will eliminate the resource reference. For more information, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md).","leadings":["","> "],"nodes":[{"content":"Resources are treated as a local value, which means that if you set another local value, you will eliminate the resource reference. For more information, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md).","pos":[9,287],"nodes":[{"content":"Resources are treated as a local value, which means that if you set another local value, you will eliminate the resource reference.","pos":[0,131]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Dependency Property Value Precedence<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md)</ept>.","pos":[132,278],"source":" For more information, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md)."}]}]},{"pos":[13662,13674],"content":"Data Binding","linkify":"Data Binding","nodes":[{"content":"Data Binding","pos":[0,12]}]},{"content":"A dependency property can reference a value through data binding.","pos":[13678,13743]},{"content":"Data binding works through a specific markup extension syntax in XAML, or the <ph id=\"ph1\">&lt;xref:System.Windows.Data.Binding&gt;</ph> object in code.","pos":[13744,13872],"source":" Data binding works through a specific markup extension syntax in XAML, or the <xref:System.Windows.Data.Binding> object in code."},{"content":"With data binding, the final property value determination is deferred until run time, at which time the value is obtained from a data source.","pos":[13873,14014]},{"content":"The following example sets the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ContentControl.Content%2A&gt;</ph> property for a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Button&gt;</ph>, using a binding declared in XAML.","pos":[14021,14196],"source":"The following example sets the <xref:System.Windows.Controls.ContentControl.Content%2A> property for a <xref:System.Windows.Controls.Button>, using a binding declared in XAML."},{"content":"The binding uses an inherited data context and an <ph id=\"ph1\">&lt;xref:System.Windows.Data.XmlDataProvider&gt;</ph> data source (not shown).","pos":[14197,14314],"source":" The binding uses an inherited data context and an <xref:System.Windows.Data.XmlDataProvider> data source (not shown)."},{"content":"The binding itself specifies the desired source property by <ph id=\"ph1\">&lt;xref:System.Windows.Data.Binding.XPath%2A&gt;</ph> within the data source.","pos":[14315,14442],"source":" The binding itself specifies the desired source property by <xref:System.Windows.Data.Binding.XPath%2A> within the data source."},{"pos":[14449,14612],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#BasicInlineBinding<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#basicinlinebinding)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#BasicInlineBinding](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#basicinlinebinding)]"},{"pos":[14620,14888],"content":"[!NOTE]\n Bindings are treated as a local value, which means that if you set another local value, you will eliminate the binding. For details, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md).","leadings":["","> "],"nodes":[{"content":"Bindings are treated as a local value, which means that if you set another local value, you will eliminate the binding. For details, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md).","pos":[9,266],"nodes":[{"content":"Bindings are treated as a local value, which means that if you set another local value, you will eliminate the binding.","pos":[0,119]},{"content":"For details, see <bpt id=\"p1\">[</bpt>Dependency Property Value Precedence<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md)</ept>.","pos":[120,257],"source":" For details, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md)."}]}]},{"content":"Dependency properties, or the <ph id=\"ph1\">&lt;xref:System.Windows.DependencyObject&gt;</ph> class, do not natively support <ph id=\"ph2\">&lt;xref:System.ComponentModel.INotifyPropertyChanged&gt;</ph> for purposes of producing notifications of changes in <ph id=\"ph3\">&lt;xref:System.Windows.DependencyObject&gt;</ph> source property value for data binding operations.","pos":[14895,15190],"source":"Dependency properties, or the <xref:System.Windows.DependencyObject> class, do not natively support <xref:System.ComponentModel.INotifyPropertyChanged> for purposes of producing notifications of changes in <xref:System.Windows.DependencyObject> source property value for data binding operations."},{"content":"For more information on how to create properties for use in data binding that can report changes to a data binding target, see <bpt id=\"p1\">[</bpt>Data Binding Overview<ept id=\"p1\">](../../../../docs/framework/wpf/data/data-binding-overview.md)</ept>.","pos":[15191,15404],"source":" For more information on how to create properties for use in data binding that can report changes to a data binding target, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md)."},{"pos":[15458,15464],"content":"Styles","linkify":"Styles","nodes":[{"content":"Styles","pos":[0,6]}]},{"content":"Styles and templates are two of the chief motivating scenarios for using dependency properties.","pos":[15468,15563]},{"content":"Styles are particularly useful for setting properties that define application <ph id=\"ph1\">[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]</ph>.","pos":[15564,15708],"source":" Styles are particularly useful for setting properties that define application [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]."},{"content":"Styles are typically defined as resources in XAML.","pos":[15709,15759]},{"content":"Styles interact with the property system because they typically contain \"setters\" for particular properties, as well as \"triggers\" that change a property value based on the real-time value for another property.","pos":[15760,15970]},{"content":"The following example creates a very simple style (which would be defined inside a <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.Resources%2A&gt;</ph> dictionary, not shown), then applies that style directly to the <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement.Style%2A&gt;</ph> property for a <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Button&gt;</ph>.","pos":[15977,16277],"source":"The following example creates a very simple style (which would be defined inside a <xref:System.Windows.FrameworkElement.Resources%2A> dictionary, not shown), then applies that style directly to the <xref:System.Windows.FrameworkElement.Style%2A> property for a <xref:System.Windows.Controls.Button>."},{"content":"The setter within the style sets the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Control.Background%2A&gt;</ph> property for a styled <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Button&gt;</ph> to green.","pos":[16278,16437],"source":" The setter within the style sets the <xref:System.Windows.Controls.Control.Background%2A> property for a styled <xref:System.Windows.Controls.Button> to green."},{"pos":[16444,16599],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#SimpleStyleDef<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyledef)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#SimpleStyleDef](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyledef)]"},{"pos":[16606,16755],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#SimpleStyle<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyle)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#SimpleStyle](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#simplestyle)]"},{"pos":[16762,16880],"content":"For more information, see <bpt id=\"p1\">[</bpt>Styling and Templating<ept id=\"p1\">](../../../../docs/framework/wpf/controls/styling-and-templating.md)</ept>.","source":"For more information, see [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md)."},{"pos":[16919,16929],"content":"Animations","linkify":"Animations","nodes":[{"content":"Animations","pos":[0,10]}]},{"content":"Dependency properties can be animated.","pos":[16933,16971]},{"content":"When an animation is applied and is running, the animated value operates at a higher precedence than any value (such as a local value) that the property otherwise has.","pos":[16972,17139]},{"content":"The following example animates the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Control.Background%2A&gt;</ph> on a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Button&gt;</ph> property (technically, the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Control.Background%2A&gt;</ph> is animated by using property element syntax to specify a blank <ph id=\"ph4\">&lt;xref:System.Windows.Media.SolidColorBrush&gt;</ph> as the <ph id=\"ph5\">&lt;xref:System.Windows.Controls.Control.Background%2A&gt;</ph>, then the <ph id=\"ph6\">&lt;xref:System.Windows.Media.SolidColorBrush.Color%2A&gt;</ph> property of that <ph id=\"ph7\">&lt;xref:System.Windows.Media.SolidColorBrush&gt;</ph> is the property that is directly animated).","pos":[17146,17692],"source":"The following example animates the <xref:System.Windows.Controls.Control.Background%2A> on a <xref:System.Windows.Controls.Button> property (technically, the <xref:System.Windows.Controls.Control.Background%2A> is animated by using property element syntax to specify a blank <xref:System.Windows.Media.SolidColorBrush> as the <xref:System.Windows.Controls.Control.Background%2A>, then the <xref:System.Windows.Media.SolidColorBrush.Color%2A> property of that <xref:System.Windows.Media.SolidColorBrush> is the property that is directly animated)."},{"pos":[17699,17848],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#MiniAnimate<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#minianimate)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#MiniAnimate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#minianimate)]"},{"pos":[17855,18103],"content":"For more information on animating properties, see <bpt id=\"p1\">[</bpt>Animation Overview<ept id=\"p1\">](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)</ept> and <bpt id=\"p2\">[</bpt>Storyboards Overview<ept id=\"p2\">](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md)</ept>.","source":"For more information on animating properties, see [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md) and [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md)."},{"pos":[18140,18158],"content":"Metadata Overrides","linkify":"Metadata Overrides","nodes":[{"content":"Metadata Overrides","pos":[0,18]}]},{"content":"You can change certain behaviors of a dependency property by overriding the metadata for that property when you derive from the class that originally registers the dependency property.","pos":[18162,18346]},{"content":"Overriding metadata relies on the <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty&gt;</ph> identifier.","pos":[18347,18433],"source":" Overriding metadata relies on the <xref:System.Windows.DependencyProperty> identifier."},{"content":"Overriding metadata does not require re-implementing the property.","pos":[18434,18500]},{"content":"The metadata change is handled natively by the property system; each class potentially holds individual metadata for all properties that are inherited from base classes, on a per-type basis.","pos":[18501,18691]},{"content":"The following example overrides metadata for a dependency property <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.DefaultStyleKey%2A&gt;</ph>.","pos":[18698,18823],"source":"The following example overrides metadata for a dependency property <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>."},{"content":"Overriding this particular dependency property metadata is part of an implementation pattern that creates controls that can use default styles from themes.","pos":[18824,18979]},{"pos":[18986,19324],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#OverrideMetadata<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml.cs#overridemetadata)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>PropertiesOvwSupport#OverrideMetadata<ept id=\"p4\">](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page3.xaml.vb#overridemetadata)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[PropertiesOvwSupport#OverrideMetadata](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml.cs#overridemetadata)]\n [!code-vb[PropertiesOvwSupport#OverrideMetadata](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page3.xaml.vb#overridemetadata)]"},{"pos":[19331,19509],"content":"For more information about overriding or obtaining property metadata, see <bpt id=\"p1\">[</bpt>Dependency Property Metadata<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)</ept>.","source":"For more information about overriding or obtaining property metadata, see [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)."},{"pos":[19568,19594],"content":"Property Value Inheritance","linkify":"Property Value Inheritance","nodes":[{"content":"Property Value Inheritance","pos":[0,26]}]},{"content":"An element can inherit the value of a dependency property from its parent in the object tree.","pos":[19598,19691]},{"pos":[19699,20203],"content":"[!NOTE]\n Property value inheritance behavior is not globally enabled for all dependency properties, because the calculation time for inheritance does have some performance impact. Property value inheritance is typically only enabled for properties where a particular scenario suggests that property value inheritance is appropriate. You can determine whether a dependency property inherits by looking at the **Dependency Property Information** section for that dependency property in the SDK reference.","leadings":["","> "],"nodes":[{"content":"Property value inheritance behavior is not globally enabled for all dependency properties, because the calculation time for inheritance does have some performance impact. Property value inheritance is typically only enabled for properties where a particular scenario suggests that property value inheritance is appropriate. You can determine whether a dependency property inherits by looking at the **Dependency Property Information** section for that dependency property in the SDK reference.","pos":[9,502],"nodes":[{"content":"Property value inheritance behavior is not globally enabled for all dependency properties, because the calculation time for inheritance does have some performance impact.","pos":[0,170]},{"content":"Property value inheritance is typically only enabled for properties where a particular scenario suggests that property value inheritance is appropriate.","pos":[171,323]},{"content":"You can determine whether a dependency property inherits by looking at the <bpt id=\"p1\">**</bpt>Dependency Property Information<ept id=\"p1\">**</ept> section for that dependency property in the SDK reference.","pos":[324,493],"source":" You can determine whether a dependency property inherits by looking at the **Dependency Property Information** section for that dependency property in the SDK reference."}]}]},{"content":"The following example shows a binding, and sets the <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.DataContext%2A&gt;</ph> property that specifies the source of the binding, which was not shown in the earlier binding example.","pos":[20210,20418],"source":"The following example shows a binding, and sets the <xref:System.Windows.FrameworkElement.DataContext%2A> property that specifies the source of the binding, which was not shown in the earlier binding example."},{"content":"Any subsequent bindings in child objects do not need to specify the source, they can use the inherited value from <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.DataContext%2A&gt;</ph> in the parent <ph id=\"ph2\">&lt;xref:System.Windows.Controls.StackPanel&gt;</ph> object.","pos":[20419,20650],"source":" Any subsequent bindings in child objects do not need to specify the source, they can use the inherited value from <xref:System.Windows.FrameworkElement.DataContext%2A> in the parent <xref:System.Windows.Controls.StackPanel> object."},{"content":"(Alternatively, a child object could instead choose to directly specify its own <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.DataContext%2A&gt;</ph> or a <ph id=\"ph2\">&lt;xref:System.Windows.Data.Binding.Source%2A&gt;</ph> in the <ph id=\"ph3\">&lt;xref:System.Windows.Data.Binding&gt;</ph>, and to deliberately not use the inherited value for data context of its bindings.)","pos":[20651,20960],"source":" (Alternatively, a child object could instead choose to directly specify its own <xref:System.Windows.FrameworkElement.DataContext%2A> or a <xref:System.Windows.Data.Binding.Source%2A> in the <xref:System.Windows.Data.Binding>, and to deliberately not use the inherited value for data context of its bindings.)"},{"pos":[20967,21130],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#InheritanceContext<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#inheritancecontext)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#InheritanceContext](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#inheritancecontext)]"},{"pos":[21137,21263],"content":"For more information, see <bpt id=\"p1\">[</bpt>Property Value Inheritance<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/property-value-inheritance.md)</ept>.","source":"For more information, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md)."},{"pos":[21310,21334],"content":"WPF Designer Integration","linkify":"WPF Designer Integration","nodes":[{"content":"WPF Designer Integration","pos":[0,24]}]},{"content":"A custom control with properties that are implemented as dependency properties will receive appropriate <ph id=\"ph1\">[!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)]</ph> support.","pos":[21338,21540],"source":"A custom control with properties that are implemented as dependency properties will receive appropriate [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] support."},{"content":"One example is the ability to edit direct and attached dependency properties with the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> window.","pos":[21541,21649],"source":" One example is the ability to edit direct and attached dependency properties with the **Properties** window."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Control Authoring Overview<ept id=\"p1\">](../../../../docs/framework/wpf/controls/control-authoring-overview.md)</ept>.","pos":[21650,21776],"source":" For more information, see [Control Authoring Overview](../../../../docs/framework/wpf/controls/control-authoring-overview.md)."},{"pos":[21823,21859],"content":"Dependency Property Value Precedence","linkify":"Dependency Property Value Precedence","nodes":[{"content":"Dependency Property Value Precedence","pos":[0,36]}]},{"content":"When you get the value of a dependency property, you are potentially obtaining a value that was set on that property through any one of the other property-based inputs that participate in the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system.","pos":[21863,22153],"source":"When you get the value of a dependency property, you are potentially obtaining a value that was set on that property through any one of the other property-based inputs that participate in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system."},{"content":"Dependency property value precedence exists so that a variety of scenarios for how properties obtain their values can interact in a predictable way.","pos":[22154,22302]},{"content":"Consider the following example.","pos":[22309,22340]},{"content":"The example includes a style that applies to all buttons and their <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Control.Background%2A&gt;</ph> properties, but then also specifies one button with a locally set <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Control.Background%2A&gt;</ph> value.","pos":[22341,22586],"source":" The example includes a style that applies to all buttons and their <xref:System.Windows.Controls.Control.Background%2A> properties, but then also specifies one button with a locally set <xref:System.Windows.Controls.Control.Background%2A> value."},{"pos":[22594,22864],"content":"[!NOTE]\n The SDK documentation uses the terms \"local value\" or \"locally set value\" occasionally when discussing dependency properties. A locally set value is a property value that is set directly on an object instance in code, or as an attribute on an element in XAML.","leadings":["","> "],"nodes":[{"content":"The SDK documentation uses the terms \"local value\" or \"locally set value\" occasionally when discussing dependency properties. A locally set value is a property value that is set directly on an object instance in code, or as an attribute on an element in XAML.","pos":[9,268],"nodes":[{"content":"The SDK documentation uses the terms \"local value\" or \"locally set value\" occasionally when discussing dependency properties.","pos":[0,125]},{"content":"A locally set value is a property value that is set directly on an object instance in code, or as an attribute on an element in XAML.","pos":[126,259]}]}]},{"content":"In principle, for the first button, the property is set twice, but only one value applies: the value with the highest precedence.","pos":[22871,23000]},{"content":"A locally set value has the highest precedence (except for a running animation, but no animation applies in this example) and thus the locally set value is used instead of the style setter value for the background on the first button.","pos":[23001,23235]},{"content":"The second button has no local value (and no other value with higher precedence than a style setter) and thus the background in that button comes from the style setter.","pos":[23236,23404]},{"pos":[23411,23566],"content":"<bpt id=\"p1\">[!code-xml</bpt><bpt id=\"p2\">[</bpt>PropertiesOvwSupport#MiniPrecedence<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#miniprecedence)</ept><ept id=\"p1\">]</ept>","source":"[!code-xml[PropertiesOvwSupport#MiniPrecedence](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page3.xaml#miniprecedence)]"},{"pos":[23576,23622],"content":"Why Does Dependency Property Precedence Exist?","linkify":"Why Does Dependency Property Precedence Exist?","nodes":[{"content":"Why Does Dependency Property Precedence Exist?","pos":[0,46]}]},{"content":"Typically, you would not want styles to always apply and to obscure even a locally set value of an individual element (otherwise, it would be very difficult to use either styles or elements in general).","pos":[23626,23828]},{"content":"Therefore, the values that come from styles operate at a lower precedent than a locally set value.","pos":[23829,23927]},{"content":"For a more thorough listing of dependency properties and where a dependency property effective value might come from, see <bpt id=\"p1\">[</bpt>Dependency Property Value Precedence<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md)</ept>.","pos":[23928,24170],"source":" For a more thorough listing of dependency properties and where a dependency property effective value might come from, see [Dependency Property Value Precedence](../../../../docs/framework/wpf/advanced/dependency-property-value-precedence.md)."},{"pos":[24178,24634],"content":"[!NOTE]\n There are a number of properties defined on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that are not dependency properties. By and large, properties were implemented as dependency properties only when there were needs to support at least one of the scenarios enabled by the property system: data binding, styling, animation, default value support, inheritance, attached properties, or invalidation.","leadings":["","> "],"nodes":[{"content":"There are a number of properties defined on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that are not dependency properties. By and large, properties were implemented as dependency properties only when there were needs to support at least one of the scenarios enabled by the property system: data binding, styling, animation, default value support, inheritance, attached properties, or invalidation.","pos":[9,454],"nodes":[{"content":"There are a number of properties defined on <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> elements that are not dependency properties.","pos":[0,170],"source":"There are a number of properties defined on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that are not dependency properties."},{"content":"By and large, properties were implemented as dependency properties only when there were needs to support at least one of the scenarios enabled by the property system: data binding, styling, animation, default value support, inheritance, attached properties, or invalidation.","pos":[171,445]}]}]},{"pos":[24682,24723],"content":"Learning More About Dependency Properties","linkify":"Learning More About Dependency Properties","nodes":[{"content":"Learning More About Dependency Properties","pos":[0,41]}]},{"content":"An attached property is a type of property that supports a specialized syntax in XAML.","pos":[24733,24819]},{"content":"An attached property often does not have a 1:1 correspondence with a <ph id=\"ph1\">[!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)]</ph> property, and is not necessarily a dependency property.","pos":[24820,25012],"source":" An attached property often does not have a 1:1 correspondence with a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property, and is not necessarily a dependency property."},{"content":"The typical purpose of a attached property is to allow child elements to report property values to a parent element, even if the parent element and child element do not both possess that property as part of the class members listings.","pos":[25013,25247]},{"content":"One primary scenario is to enable child elements to inform the parent how they should be presented in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph>; for an example, see <ph id=\"ph2\">&lt;xref:System.Windows.Controls.DockPanel.Dock%2A&gt;</ph> or <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Canvas.Left%2A&gt;</ph>.","pos":[25248,25537],"source":" One primary scenario is to enable child elements to inform the parent how they should be presented in [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]; for an example, see <xref:System.Windows.Controls.DockPanel.Dock%2A> or <xref:System.Windows.Controls.Canvas.Left%2A>."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Attached Properties Overview<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/attached-properties-overview.md)</ept>.","pos":[25538,25659],"source":" For details, see [Attached Properties Overview](../../../../docs/framework/wpf/advanced/attached-properties-overview.md)."},{"content":"Component developers or application developers may wish to create their own dependency property, in order to enable capabilities such as data binding or styles support, or for invalidation and value coercion support.","pos":[25669,25885]},{"content":"For details, see <bpt id=\"p1\">[</bpt>Custom Dependency Properties<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)</ept>.","pos":[25886,26007],"source":" For details, see [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)."},{"content":"Dependency properties should generally be considered to be public properties, accessible or at least discoverable by any caller that has access to an instance.","pos":[26017,26176]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Dependency Property Security<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-property-security.md)</ept>.","pos":[26177,26307],"source":" For more information, see [Dependency Property Security](../../../../docs/framework/wpf/advanced/dependency-property-security.md)."},{"pos":[26316,26324],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Custom Dependency Properties<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)</ept><ph id=\"ph1\"> </ph>","pos":[26328,26432],"source":"[Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) "},{"content":"<bpt id=\"p1\">[</bpt>Read-Only Dependency Properties<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md)</ept><ph id=\"ph1\"> </ph>","pos":[26436,26546],"source":"[Read-Only Dependency Properties](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md) "},{"content":"<bpt id=\"p1\">[</bpt>XAML Overview (WPF)<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)</ept><ph id=\"ph1\"> </ph>","pos":[26550,26634],"source":"[XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) "},{"content":"<bpt id=\"p1\">[</bpt>WPF Architecture<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/wpf-architecture.md)</ept>","pos":[26638,26717],"source":"[WPF Architecture](../../../../docs/framework/wpf/advanced/wpf-architecture.md)"}]}