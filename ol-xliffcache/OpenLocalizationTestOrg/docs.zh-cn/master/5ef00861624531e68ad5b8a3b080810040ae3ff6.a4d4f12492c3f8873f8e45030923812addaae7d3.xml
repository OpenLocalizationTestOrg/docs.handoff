{"content":"---\ntitle: \"Calling Service Operations (WCF Data Services)\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 1767f3a7-29d2-4834-a763-7d169693fa8b\n---\n# Calling Service Operations (WCF Data Services)\nThe [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] defines service operations for a data service. [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] enables you to define such operations as methods on the data service. Like other data service resources, these service operations are addressed by using URIs. A service operation can return collections of entity types, single entity type instances, and primitive types, such as integer and string. A service operation can also return `null` (`Nothing` in Visual Basic). The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library can be used to access service operations that support HTTP GET requests. These kinds of service operations are defined as methods that have the <xref:System.ServiceModel.Web.WebGetAttribute> applied. For more information, see [Service Operations](../../../../docs/framework/data/wcf/service-operations-wcf-data-services.md).  \n  \n Service operations are exposed in the metadata returned by a data service that implements the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]. In the metadata, service operations are represented as `FunctionImport` elements. When generating the strongly-typed <xref:System.Data.Services.Client.DataServiceContext>, the Add Service Reference and DataSvcUtil.exe tools ignore this element. Because of this, you will not find a method on the context that can be used to call a service operation directly. However, you can still use the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client to call service operations in one of these two ways:  \n  \n-   By calling the <xref:System.Data.Services.Client.DataServiceContext.Execute%2A> method on the <xref:System.Data.Services.Client.DataServiceContext>, supplying the URI of the service operation, along with any parameters. This method is used to call any GET service operation.  \n  \n-   By using the <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> to create a <xref:System.Data.Services.Client.DataServiceQuery%601> object. When calling <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A>, the name of the service operation is supplied to the `entitySetName` parameter. This method returns a <xref:System.Data.Services.Client.DataServiceQuery%601> object that calls the service operation when enumerated or when the <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> method is called. This method is used to call GET service operations that return a collection. A single parameter can be supplied by using the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method. The <xref:System.Data.Services.Client.DataServiceQuery%601> object returned by this method can be further composed against like any query object. For more information, see [Querying the Data Service](../../../../docs/framework/data/wcf/querying-the-data-service-wcf-data-services.md).  \n  \n## Considerations for Calling Service Operations  \n The following considerations apply when using the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client to call service operations.  \n  \n-   When accessing the data service asynchronously, you must use the equivalent asynchronous <xref:System.Data.Services.Client.DataServiceContext.BeginExecute%2A>/<xref:System.Data.Services.Client.DataServiceContext.EndExecute%2A> methods on <xref:System.Data.Services.Client.DataServiceContext> or the <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A>/<xref:System.Data.Services.Client.DataServiceQuery%601.EndExecute%2A> methods on <xref:System.Data.Services.Client.DataServiceQuery%601>.  \n  \n-   The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library cannot materialize the results from a service operation that returns a collection of primitive types.  \n  \n-   The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library does not support calling POST service operations. Service operations that are called by an HTTP POST are defined by using the <xref:System.ServiceModel.Web.WebInvokeAttribute> with the `Method=\"POST\"` parameter. To call a service operation by using an HTTP POST request, you must instead use an <xref:System.Net.HttpWebRequest>.  \n  \n-   You cannot use <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> to call a GET service operation that returns a single result, of either entity or primitive type, or that requires more than one input parameter. You must instead call the <xref:System.Data.Services.Client.DataServiceContext.Execute%2A> method.  \n  \n-   Consider creating an extension method on the strongly-typed <xref:System.Data.Services.Client.DataServiceContext> partial class, which is generated by the tools, that uses either the <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> or the <xref:System.Data.Services.Client.DataServiceContext.Execute%2A> method to call a service operation. This enables you to call service operations directly from the context. For more information, see the blog post [Service Operations and the WCF Data Services Client](https://go.microsoft.com/fwlink/?LinkId=215668).  \n  \n-   When you use <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> to call a service operation, the client library automatically escapes characters supplied to the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> by performing percent-encoding of reserved characters, such as ampersand (&), and escaping of single-quotes in strings. However, when you call one of the *Execute* methods to call a service operation, you must remember to perform this escaping of any user-supplied string values. Single-quotes in URIs are escaped as pairs of single-quotes.  \n  \n## Examples of Calling Service Operations  \n This section contains the following examples of how to call service operations by using the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library:  \n  \n-   [Calling Execute&lt;T&gt; to Return a Collection of Entities](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteIQueryable)  \n  \n-   [Using CreateQuery&lt;T&gt; to Return a Collection of Entities](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#CreateQueryIQueryable)  \n  \n-   [Calling Execute&lt;T&gt; to Return a Single Entity](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteSingleEntity)  \n  \n-   [Calling Execute&lt;T&gt; to Return a Collection of Primitive Values](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecutePrimitiveCollection)  \n  \n-   [Calling Execute&lt;T&gt; to Return a Single Primitive Value](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecutePrimitiveValue)  \n  \n-   [Calling a Service Operation that Returns No Data](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteVoid)  \n  \n-   [Calling a Service Operation Asynchronously](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteAsync)  \n  \n<a name=\"ExecuteIQueryable\"></a>   \n### Calling Execute\\<T> to Return a Collection of Entities  \n The following example calls a service operation named GetOrdersByCity, which takes a string parameter of `city` and returns an <xref:System.Linq.IQueryable%601>:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationIQueryable](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationiqueryable)]\n [!code-vb[Astoria Northwind Client#CallServiceOperationIQueryable](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#callserviceoperationiqueryable)]  \n  \n In this example, the service operation returns a collection of `Order` objects with related `Order_Detail` objects.  \n  \n<a name=\"CreateQueryIQueryable\"></a>   \n### Using CreateQuery\\<T> to Return a Collection of Entities  \n The following example uses the <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> to return a <xref:System.Data.Services.Client.DataServiceQuery%601> that is used to call the same GetOrdersByCity service operation:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationCreateQuery](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationcreatequery)]\n [!code-vb[Astoria Northwind Client#CallServiceOperationCreateQuery](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#callserviceoperationcreatequery)]  \n  \n In this example, the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method is used to add the parameter to the query, and the <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> method is used to include related Order_Details objects in the results.  \n  \n<a name=\"ExecuteSingleEntity\"></a>   \n### Calling Execute\\<T> to Return a Single Entity  \n The following example calls a service operation named GetNewestOrder that returns only a single Order entity:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationSingleEntity](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationsingleentity)]\n [!code-vb[Astoria Northwind Client#CallServiceOperationSingleEntity](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#callserviceoperationsingleentity)]  \n  \n In this example, the <xref:System.Linq.Enumerable.FirstOrDefault%2A> method is used to request only a single Order entity on execution.  \n  \n<a name=\"ExecutePrimitiveCollection\"></a>   \n### Calling Execute\\<T> to Return a Collection of Primitive Values  \n The following example calls a service operation that returns a collection of string values:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationEnumString](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationenumstring)]  \n  \n<a name=\"ExecutePrimitiveValue\"></a>   \n### Calling Execute\\<T> to Return a Single Primitive Value  \n The following example calls a service operation that returns a single string value:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationSingleInt](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationsingleint)]\n [!code-vb[Astoria Northwind Client#CallServiceOperationSingleInt](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#callserviceoperationsingleint)]  \n  \n Again in this example, the <xref:System.Linq.Enumerable.FirstOrDefault%2A> method is used to request only a single integer value on execution.  \n  \n<a name=\"ExecuteVoid\"></a>   \n### Calling a Service Operation that Returns No Data  \n The following example calls a service operation that returns no data:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationVoid](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationvoid)]\n [!code-vb[Astoria Northwind Client#CallServiceOperationVoid](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#callserviceoperationvoid)]  \n  \n Because not data is returned, the value of the execution is not assigned. The only indication that the request has succeeded is that no <xref:System.Data.Services.Client.DataServiceQueryException> is raised.  \n  \n<a name=\"ExecuteAsync\"></a>   \n### Calling a Service Operation Asynchronously  \n The following example calls a service operation asynchronously by calling <xref:System.Data.Services.Client.DataServiceContext.BeginExecute%2A> and <xref:System.Data.Services.Client.DataServiceContext.EndExecute%2A>:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationAsync](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationasync)]\n [!code-vb[Astoria Northwind Client#CallServiceOperationAsync](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#callserviceoperationasync)]  \n  \n [!code-csharp[Astoria Northwind Client#OnAsyncExecutionComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#onasyncexecutioncomplete)]\n [!code-vb[Astoria Northwind Client#OnAsyncExecutionComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#onasyncexecutioncomplete)]  \n  \n Because no data is returned, the value returned by the execution is not assigned. The only indication that the request has succeeded is that no <xref:System.Data.Services.Client.DataServiceQueryException> is raised.  \n  \n The following example calls the same service operation asynchronously by using <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A>:  \n  \n [!code-csharp[Astoria Northwind Client#CallServiceOperationQueryAsync](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#callserviceoperationqueryasync)]\n [!code-vb[Astoria Northwind Client#CallServiceOperationQueryAsync](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#callserviceoperationqueryasync)]  \n  \n [!code-csharp[Astoria Northwind Client#OnAsyncQueryExecutionComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#onasyncqueryexecutioncomplete)]\n [!code-vb[Astoria Northwind Client#OnAsyncQueryExecutionComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#onasyncqueryexecutioncomplete)]  \n  \n## See also\n\n- [WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)\n","nodes":[{"pos":[4,164],"embed":true,"restype":"x-metadata","content":"title: \"Calling Service Operations (WCF Data Services)\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 1767f3a7-29d2-4834-a763-7d169693fa8b","nodes":[{"content":"Calling Service Operations (WCF Data Services)","nodes":[{"pos":[0,46],"content":"Calling Service Operations (WCF Data Services)","nodes":[{"content":"Calling Service Operations (WCF Data Services)","pos":[0,46]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[171,217],"content":"Calling Service Operations (WCF Data Services)","linkify":"Calling Service Operations (WCF Data Services)","nodes":[{"content":"Calling Service Operations (WCF Data Services)","pos":[0,46]}]},{"content":"The <ph id=\"ph1\">[!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)]</ph> defines service operations for a data service.","pos":[218,332],"source":"The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] defines service operations for a data service."},{"content":"<ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> enables you to define such operations as methods on the data service.","pos":[333,462],"source":"[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] enables you to define such operations as methods on the data service."},{"content":"Like other data service resources, these service operations are addressed by using URIs.","pos":[463,551]},{"content":"A service operation can return collections of entity types, single entity type instances, and primitive types, such as integer and string.","pos":[552,690]},{"content":"A service operation can also return <ph id=\"ph1\">`null`</ph> (<ph id=\"ph2\">`Nothing`</ph> in Visual Basic).","pos":[691,762],"source":" A service operation can also return `null` (`Nothing` in Visual Basic)."},{"content":"The <ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> client library can be used to access service operations that support HTTP GET requests.","pos":[763,914],"source":" The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library can be used to access service operations that support HTTP GET requests."},{"content":"These kinds of service operations are defined as methods that have the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> applied.","pos":[915,1041],"source":" These kinds of service operations are defined as methods that have the <xref:System.ServiceModel.Web.WebGetAttribute> applied."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Service Operations<ept id=\"p1\">](../../../../docs/framework/data/wcf/service-operations-wcf-data-services.md)</ept>.","pos":[1042,1166],"source":" For more information, see [Service Operations](../../../../docs/framework/data/wcf/service-operations-wcf-data-services.md)."},{"content":"Service operations are exposed in the metadata returned by a data service that implements the <ph id=\"ph1\">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]</ph>.","pos":[1173,1333],"source":"Service operations are exposed in the metadata returned by a data service that implements the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]."},{"content":"In the metadata, service operations are represented as <ph id=\"ph1\">`FunctionImport`</ph> elements.","pos":[1334,1415],"source":" In the metadata, service operations are represented as `FunctionImport` elements."},{"content":"When generating the strongly-typed <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext&gt;</ph>, the Add Service Reference and DataSvcUtil.exe tools ignore this element.","pos":[1416,1578],"source":" When generating the strongly-typed <xref:System.Data.Services.Client.DataServiceContext>, the Add Service Reference and DataSvcUtil.exe tools ignore this element."},{"content":"Because of this, you will not find a method on the context that can be used to call a service operation directly.","pos":[1579,1692]},{"content":"However, you can still use the <ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> client to call service operations in one of these two ways:","pos":[1693,1843],"source":" However, you can still use the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client to call service operations in one of these two ways:"},{"content":"By calling the <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.Execute%2A&gt;</ph> method on the <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceContext&gt;</ph>, supplying the URI of the service operation, along with any parameters.","pos":[1853,2072],"source":"By calling the <xref:System.Data.Services.Client.DataServiceContext.Execute%2A> method on the <xref:System.Data.Services.Client.DataServiceContext>, supplying the URI of the service operation, along with any parameters."},{"content":"This method is used to call any GET service operation.","pos":[2073,2127]},{"content":"By using the <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A&gt;</ph> method on the <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceContext&gt;</ph> to create a <ph id=\"ph3\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601&gt;</ph> object.","pos":[2137,2362],"source":"By using the <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> to create a <xref:System.Data.Services.Client.DataServiceQuery%601> object."},{"content":"When calling <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A&gt;</ph>, the name of the service operation is supplied to the <ph id=\"ph2\">`entitySetName`</ph> parameter.","pos":[2363,2525],"source":" When calling <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A>, the name of the service operation is supplied to the `entitySetName` parameter."},{"content":"This method returns a <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601&gt;</ph> object that calls the service operation when enumerated or when the <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A&gt;</ph> method is called.","pos":[2526,2756],"source":" This method returns a <xref:System.Data.Services.Client.DataServiceQuery%601> object that calls the service operation when enumerated or when the <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> method is called."},{"content":"This method is used to call GET service operations that return a collection.","pos":[2757,2833]},{"content":"A single parameter can be supplied by using the <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A&gt;</ph> method.","pos":[2834,2963],"source":" A single parameter can be supplied by using the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601&gt;</ph> object returned by this method can be further composed against like any query object.","pos":[2964,3109],"source":" The <xref:System.Data.Services.Client.DataServiceQuery%601> object returned by this method can be further composed against like any query object."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Querying the Data Service<ept id=\"p1\">](../../../../docs/framework/data/wcf/querying-the-data-service-wcf-data-services.md)</ept>.","pos":[3110,3248],"source":" For more information, see [Querying the Data Service](../../../../docs/framework/data/wcf/querying-the-data-service-wcf-data-services.md)."},{"pos":[3257,3302],"content":"Considerations for Calling Service Operations","linkify":"Considerations for Calling Service Operations","nodes":[{"content":"Considerations for Calling Service Operations","pos":[0,45]}]},{"pos":[3306,3450],"content":"The following considerations apply when using the <ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> client to call service operations.","source":"The following considerations apply when using the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client to call service operations."},{"pos":[3460,3968],"content":"When accessing the data service asynchronously, you must use the equivalent asynchronous <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.BeginExecute%2A&gt;</ph><ph id=\"ph2\">/</ph><ph id=\"ph3\">&lt;xref:System.Data.Services.Client.DataServiceContext.EndExecute%2A&gt;</ph> methods on <ph id=\"ph4\">&lt;xref:System.Data.Services.Client.DataServiceContext&gt;</ph> or the <ph id=\"ph5\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A&gt;</ph><ph id=\"ph6\">/</ph><ph id=\"ph7\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601.EndExecute%2A&gt;</ph> methods on <ph id=\"ph8\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601&gt;</ph>.","source":"When accessing the data service asynchronously, you must use the equivalent asynchronous <xref:System.Data.Services.Client.DataServiceContext.BeginExecute%2A>/<xref:System.Data.Services.Client.DataServiceContext.EndExecute%2A> methods on <xref:System.Data.Services.Client.DataServiceContext> or the <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A>/<xref:System.Data.Services.Client.DataServiceQuery%601.EndExecute%2A> methods on <xref:System.Data.Services.Client.DataServiceQuery%601>."},{"pos":[3978,4158],"content":"The <ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> client library cannot materialize the results from a service operation that returns a collection of primitive types.","source":"The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library cannot materialize the results from a service operation that returns a collection of primitive types."},{"content":"The <ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> client library does not support calling POST service operations.","pos":[4168,4296],"source":"The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library does not support calling POST service operations."},{"content":"Service operations that are called by an HTTP POST are defined by using the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph> with the <ph id=\"ph2\">`Method=\"POST\"`</ph> parameter.","pos":[4297,4458],"source":" Service operations that are called by an HTTP POST are defined by using the <xref:System.ServiceModel.Web.WebInvokeAttribute> with the `Method=\"POST\"` parameter."},{"content":"To call a service operation by using an HTTP POST request, you must instead use an <ph id=\"ph1\">&lt;xref:System.Net.HttpWebRequest&gt;</ph>.","pos":[4459,4575],"source":" To call a service operation by using an HTTP POST request, you must instead use an <xref:System.Net.HttpWebRequest>."},{"content":"You cannot use <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A&gt;</ph> to call a GET service operation that returns a single result, of either entity or primitive type, or that requires more than one input parameter.","pos":[4585,4814],"source":"You cannot use <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> to call a GET service operation that returns a single result, of either entity or primitive type, or that requires more than one input parameter."},{"content":"You must instead call the <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.Execute%2A&gt;</ph> method.","pos":[4815,4913],"source":" You must instead call the <xref:System.Data.Services.Client.DataServiceContext.Execute%2A> method."},{"content":"Consider creating an extension method on the strongly-typed <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext&gt;</ph> partial class, which is generated by the tools, that uses either the <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A&gt;</ph> or the <ph id=\"ph3\">&lt;xref:System.Data.Services.Client.DataServiceContext.Execute%2A&gt;</ph> method to call a service operation.","pos":[4923,5282],"source":"Consider creating an extension method on the strongly-typed <xref:System.Data.Services.Client.DataServiceContext> partial class, which is generated by the tools, that uses either the <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> or the <xref:System.Data.Services.Client.DataServiceContext.Execute%2A> method to call a service operation."},{"content":"This enables you to call service operations directly from the context.","pos":[5283,5353]},{"content":"For more information, see the blog post <bpt id=\"p1\">[</bpt>Service Operations and the WCF Data Services Client<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=215668)</ept>.","pos":[5354,5496],"source":" For more information, see the blog post [Service Operations and the WCF Data Services Client](https://go.microsoft.com/fwlink/?LinkId=215668)."},{"content":"When you use <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A&gt;</ph> to call a service operation, the client library automatically escapes characters supplied to the <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A&gt;</ph> by performing percent-encoding of reserved characters, such as ampersand (&amp;), and escaping of single-quotes in strings.","pos":[5506,5878],"source":"When you use <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> to call a service operation, the client library automatically escapes characters supplied to the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> by performing percent-encoding of reserved characters, such as ampersand (&), and escaping of single-quotes in strings."},{"content":"However, when you call one of the <bpt id=\"p1\">*</bpt>Execute<ept id=\"p1\">*</ept> methods to call a service operation, you must remember to perform this escaping of any user-supplied string values.","pos":[5879,6038],"source":" However, when you call one of the *Execute* methods to call a service operation, you must remember to perform this escaping of any user-supplied string values."},{"content":"Single-quotes in URIs are escaped as pairs of single-quotes.","pos":[6039,6099]},{"pos":[6108,6146],"content":"Examples of Calling Service Operations","linkify":"Examples of Calling Service Operations","nodes":[{"content":"Examples of Calling Service Operations","pos":[0,38]}]},{"pos":[6150,6317],"content":"This section contains the following examples of how to call service operations by using the <ph id=\"ph1\">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</ph> client library:","source":"This section contains the following examples of how to call service operations by using the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library:"},{"pos":[6327,6491],"content":"<bpt id=\"p1\">[</bpt>Calling Execute<ph id=\"ph1\">&amp;lt;</ph>T<ph id=\"ph2\">&amp;gt;</ph> to Return a Collection of Entities<ept id=\"p1\">](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteIQueryable)</ept>","source":"[Calling Execute&lt;T&gt; to Return a Collection of Entities](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteIQueryable)"},{"pos":[6501,6671],"content":"<bpt id=\"p1\">[</bpt>Using CreateQuery<ph id=\"ph1\">&amp;lt;</ph>T<ph id=\"ph2\">&amp;gt;</ph> to Return a Collection of Entities<ept id=\"p1\">](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#CreateQueryIQueryable)</ept>","source":"[Using CreateQuery&lt;T&gt; to Return a Collection of Entities](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#CreateQueryIQueryable)"},{"pos":[6681,6838],"content":"<bpt id=\"p1\">[</bpt>Calling Execute<ph id=\"ph1\">&amp;lt;</ph>T<ph id=\"ph2\">&amp;gt;</ph> to Return a Single Entity<ept id=\"p1\">](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteSingleEntity)</ept>","source":"[Calling Execute&lt;T&gt; to Return a Single Entity](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteSingleEntity)"},{"pos":[6848,7029],"content":"<bpt id=\"p1\">[</bpt>Calling Execute<ph id=\"ph1\">&amp;lt;</ph>T<ph id=\"ph2\">&amp;gt;</ph> to Return a Collection of Primitive Values<ept id=\"p1\">](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecutePrimitiveCollection)</ept>","source":"[Calling Execute&lt;T&gt; to Return a Collection of Primitive Values](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecutePrimitiveCollection)"},{"pos":[7039,7207],"content":"<bpt id=\"p1\">[</bpt>Calling Execute<ph id=\"ph1\">&amp;lt;</ph>T<ph id=\"ph2\">&amp;gt;</ph> to Return a Single Primitive Value<ept id=\"p1\">](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecutePrimitiveValue)</ept>","source":"[Calling Execute&lt;T&gt; to Return a Single Primitive Value](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecutePrimitiveValue)"},{"pos":[7217,7364],"content":"<bpt id=\"p1\">[</bpt>Calling a Service Operation that Returns No Data<ept id=\"p1\">](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteVoid)</ept>","source":"[Calling a Service Operation that Returns No Data](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteVoid)"},{"pos":[7374,7516],"content":"<bpt id=\"p1\">[</bpt>Calling a Service Operation Asynchronously<ept id=\"p1\">](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteAsync)</ept>","source":"[Calling a Service Operation Asynchronously](../../../../docs/framework/data/wcf/calling-service-operations-wcf-data-services.md#ExecuteAsync)"},{"pos":[7562,7616],"content":"Calling Execute\\<T> to Return a Collection of Entities","linkify":"Calling Execute\\<T> to Return a Collection of Entities","nodes":[{"content":"Calling Execute<ph id=\"ph1\">\\&lt;</ph>T&gt; to Return a Collection of Entities","pos":[0,54],"source":"Calling Execute\\<T> to Return a Collection of Entities"}]},{"pos":[7620,7781],"content":"The following example calls a service operation named GetOrdersByCity, which takes a string parameter of <ph id=\"ph1\">`city`</ph> and returns an <ph id=\"ph2\">&lt;xref:System.Linq.IQueryable%601&gt;</ph>:","source":"The following example calls a service operation named GetOrdersByCity, which takes a string parameter of `city` and returns an <xref:System.Linq.IQueryable%601>:"},{"pos":[8186,8301],"content":"In this example, the service operation returns a collection of <ph id=\"ph1\">`Order`</ph> objects with related <ph id=\"ph2\">`Order_Detail`</ph> objects.","source":"In this example, the service operation returns a collection of `Order` objects with related `Order_Detail` objects."},{"pos":[8351,8407],"content":"Using CreateQuery\\<T> to Return a Collection of Entities","linkify":"Using CreateQuery\\<T> to Return a Collection of Entities","nodes":[{"content":"Using CreateQuery<ph id=\"ph1\">\\&lt;</ph>T&gt; to Return a Collection of Entities","pos":[0,56],"source":"Using CreateQuery\\<T> to Return a Collection of Entities"}]},{"pos":[8411,8643],"content":"The following example uses the <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A&gt;</ph> to return a <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601&gt;</ph> that is used to call the same GetOrdersByCity service operation:","source":"The following example uses the <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A> to return a <xref:System.Data.Services.Client.DataServiceQuery%601> that is used to call the same GetOrdersByCity service operation:"},{"pos":[9052,9342],"content":"In this example, the <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A&gt;</ph> method is used to add the parameter to the query, and the <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A&gt;</ph> method is used to include related Order_Details objects in the results.","source":"In this example, the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method is used to add the parameter to the query, and the <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> method is used to include related Order_Details objects in the results."},{"pos":[9390,9435],"content":"Calling Execute\\<T> to Return a Single Entity","linkify":"Calling Execute\\<T> to Return a Single Entity","nodes":[{"content":"Calling Execute<ph id=\"ph1\">\\&lt;</ph>T&gt; to Return a Single Entity","pos":[0,45],"source":"Calling Execute\\<T> to Return a Single Entity"}]},{"content":"The following example calls a service operation named GetNewestOrder that returns only a single Order entity:","pos":[9439,9548]},{"pos":[9961,10096],"content":"In this example, the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.FirstOrDefault%2A&gt;</ph> method is used to request only a single Order entity on execution.","source":"In this example, the <xref:System.Linq.Enumerable.FirstOrDefault%2A> method is used to request only a single Order entity on execution."},{"pos":[10151,10213],"content":"Calling Execute\\<T> to Return a Collection of Primitive Values","linkify":"Calling Execute\\<T> to Return a Collection of Primitive Values","nodes":[{"content":"Calling Execute<ph id=\"ph1\">\\&lt;</ph>T&gt; to Return a Collection of Primitive Values","pos":[0,62],"source":"Calling Execute\\<T> to Return a Collection of Primitive Values"}]},{"content":"The following example calls a service operation that returns a collection of string values:","pos":[10217,10308]},{"pos":[10559,10613],"content":"Calling Execute\\<T> to Return a Single Primitive Value","linkify":"Calling Execute\\<T> to Return a Single Primitive Value","nodes":[{"content":"Calling Execute<ph id=\"ph1\">\\&lt;</ph>T&gt; to Return a Single Primitive Value","pos":[0,54],"source":"Calling Execute\\<T> to Return a Single Primitive Value"}]},{"content":"The following example calls a service operation that returns a single string value:","pos":[10617,10700]},{"pos":[11101,11243],"content":"Again in this example, the <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.FirstOrDefault%2A&gt;</ph> method is used to request only a single integer value on execution.","source":"Again in this example, the <xref:System.Linq.Enumerable.FirstOrDefault%2A> method is used to request only a single integer value on execution."},{"pos":[11283,11331],"content":"Calling a Service Operation that Returns No Data","linkify":"Calling a Service Operation that Returns No Data","nodes":[{"content":"Calling a Service Operation that Returns No Data","pos":[0,48]}]},{"content":"The following example calls a service operation that returns no data:","pos":[11335,11404]},{"content":"Because not data is returned, the value of the execution is not assigned.","pos":[11785,11858]},{"content":"The only indication that the request has succeeded is that no <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceQueryException&gt;</ph> is raised.","pos":[11859,11992],"source":" The only indication that the request has succeeded is that no <xref:System.Data.Services.Client.DataServiceQueryException> is raised."},{"pos":[12033,12075],"content":"Calling a Service Operation Asynchronously","linkify":"Calling a Service Operation Asynchronously","nodes":[{"content":"Calling a Service Operation Asynchronously","pos":[0,42]}]},{"pos":[12079,12295],"content":"The following example calls a service operation asynchronously by calling <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.BeginExecute%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Data.Services.Client.DataServiceContext.EndExecute%2A&gt;</ph>:","source":"The following example calls a service operation asynchronously by calling <xref:System.Data.Services.Client.DataServiceContext.BeginExecute%2A> and <xref:System.Data.Services.Client.DataServiceContext.EndExecute%2A>:"},{"content":"Because no data is returned, the value returned by the execution is not assigned.","pos":[13054,13135]},{"content":"The only indication that the request has succeeded is that no <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceQueryException&gt;</ph> is raised.","pos":[13136,13269],"source":" The only indication that the request has succeeded is that no <xref:System.Data.Services.Client.DataServiceQueryException> is raised."},{"pos":[13276,13424],"content":"The following example calls the same service operation asynchronously by using <ph id=\"ph1\">&lt;xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A&gt;</ph>:","source":"The following example calls the same service operation asynchronously by using <xref:System.Data.Services.Client.DataServiceContext.CreateQuery%2A>:"},{"pos":[14225,14233],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[14237,14344],"content":"<bpt id=\"p1\">[</bpt>WCF Data Services Client Library<ept id=\"p1\">](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)</ept>","source":"[WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)"}]}