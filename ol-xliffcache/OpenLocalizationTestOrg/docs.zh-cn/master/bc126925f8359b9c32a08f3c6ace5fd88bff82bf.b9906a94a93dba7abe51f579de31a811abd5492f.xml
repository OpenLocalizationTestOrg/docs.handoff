{"content":"---\ntitle: \"REF (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: c5f4cb35-69e9-44cc-b63b-ee38922bbda1\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# REF (Entity SQL)\nReturns a reference to an entity instance.  \n  \n## Syntax  \n  \n```  \n  \nREF( expression )   \n```  \n  \n## Arguments  \n `expression`  \n Any valid expression that yields an instance of an entity type.  \n  \n## Return Value  \n A reference to the specified entity instance.  \n  \n## Remarks  \n An entity reference consists of the entity key and an entity set name. Because different entity sets can be based on the same entity type, a particular entity key can appear in multiple entity sets. However, an entity reference is always unique. If the input expression represents a persisted entity, a reference to this entity will be returned. If the input expression is not a persisted entity, a null reference will be returned.  \n  \n If the property extraction operator (.) is used to access a property of an entity, the reference is automatically dereferenced.  \n  \n## Example  \n The following Entity SQL query uses the REF operator to return the reference for an input entity argument. The same query dereferences the reference because we are using a property extraction operation (.) to access a property of the Product entity. The query is based on the AdventureWorks Sales Model. To compile and run this query, follow these steps:  \n  \n1.  Follow the procedure in [How to: Execute a Query that Returns PrimitiveType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md).  \n  \n2.  Pass the following query as an argument to the `ExecutePrimitiveTypeQuery` method:  \n  \n [!code-csharp[DP EntityServices Concepts 2#REF](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#ref)]  \n  \n## See Also  \n [DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)   \n [CREATEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md)   \n [KEY](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md)   \n [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)   \n [Type Definitions](../../../../../../docs/framework/data/adonet/ef/language-reference/type-definitions-entity-sql.md)","nodes":[{"pos":[4,391],"nodes":[{"content":"REF (Entity SQL) | Microsoft Docs","nodes":[{"pos":[0,33],"content":"REF (Entity SQL) | Microsoft Docs","nodes":[{"content":"REF (Entity SQL) | Microsoft Docs","pos":[0,33]}]}],"pos":[6,42],"yaml":true}],"content":"title: \"REF (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: c5f4cb35-69e9-44cc-b63b-ee38922bbda1\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[398,414],"content":"REF (Entity SQL)","linkify":"REF (Entity SQL)","nodes":[{"content":"REF (Entity SQL)","pos":[0,16]}]},{"content":"Returns a reference to an entity instance.","pos":[415,457]},{"pos":[466,472],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[520,529],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"Any valid expression that yields an instance of an entity type.","pos":[549,612]},{"pos":[621,633],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A reference to the specified entity instance.","pos":[637,682]},{"pos":[691,698],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"An entity reference consists of the entity key and an entity set name.","pos":[702,772]},{"content":"Because different entity sets can be based on the same entity type, a particular entity key can appear in multiple entity sets.","pos":[773,900]},{"content":"However, an entity reference is always unique.","pos":[901,947]},{"content":"If the input expression represents a persisted entity, a reference to this entity will be returned.","pos":[948,1047]},{"content":"If the input expression is not a persisted entity, a null reference will be returned.","pos":[1048,1133]},{"content":"If the property extraction operator (.) is used to access a property of an entity, the reference is automatically dereferenced.","pos":[1140,1267]},{"pos":[1276,1283],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following Entity SQL query uses the REF operator to return the reference for an input entity argument.","pos":[1287,1393]},{"content":"The same query dereferences the reference because we are using a property extraction operation (.) to access a property of the Product entity.","pos":[1394,1536]},{"content":"The query is based on the AdventureWorks Sales Model.","pos":[1537,1590]},{"content":"To compile and run this query, follow these steps:","pos":[1591,1641]},{"pos":[1651,1846],"content":"Follow the procedure in <bpt id=\"p1\">[</bpt>How to: Execute a Query that Returns PrimitiveType Results<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md)</ept>.","source":"Follow the procedure in [How to: Execute a Query that Returns PrimitiveType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-primitivetype-results.md)."},{"pos":[1856,1938],"content":"Pass the following query as an argument to the <ph id=\"ph1\">`ExecutePrimitiveTypeQuery`</ph> method:","source":"Pass the following query as an argument to the `ExecutePrimitiveTypeQuery` method:"},{"pos":[1945,2102],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP EntityServices Concepts 2#REF<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#ref)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[DP EntityServices Concepts 2#REF](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#ref)]"},{"pos":[2111,2119],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>DEREF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)</ept><ph id=\"ph1\"> </ph>","pos":[2123,2219],"source":"[DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md) "},{"content":"<bpt id=\"p1\">[</bpt>CREATEREF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md)</ept><ph id=\"ph1\"> </ph>","pos":[2223,2327],"source":"[CREATEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/createref-entity-sql.md) "},{"content":"<bpt id=\"p1\">[</bpt>KEY<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md)</ept><ph id=\"ph1\"> </ph>","pos":[2331,2423],"source":"[KEY](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md) "},{"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept><ph id=\"ph1\"> </ph>","pos":[2427,2542],"source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md) "},{"content":"<bpt id=\"p1\">[</bpt>Type Definitions<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/type-definitions-entity-sql.md)</ept>","pos":[2546,2663],"source":"[Type Definitions](../../../../../../docs/framework/data/adonet/ef/language-reference/type-definitions-entity-sql.md)"}]}