{"content":"---\ntitle: \"Foreground and Background Threads\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"threading [.NET Framework], foreground\"\n  - \"threading [.NET Framework], background\"\n  - \"foreground threads\"\n  - \"background threads\"\nms.assetid: cfe0d632-dd35-47e0-91ad-f742a444005e\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# Foreground and Background Threads\nA managed thread is either a background thread or a foreground thread. Background threads are identical to foreground threads with one exception: a background thread does not keep the managed execution environment running. Once all foreground threads have been stopped in a managed process (where the .exe file is a managed assembly), the system stops all background threads and shuts down.  \n  \n> [!NOTE]\n>  When the runtime stops a background thread because the process is shutting down, no exception is thrown in the thread. However, when threads are stopped because the <xref:System.AppDomain.Unload%2A?displayProperty=nameWithType> method unloads the application domain, a <xref:System.Threading.ThreadAbortException> is thrown in both foreground and background threads.  \n  \n Use the <xref:System.Threading.Thread.IsBackground%2A?displayProperty=nameWithType> property to determine whether a thread is a background or a foreground thread, or to change its status. A thread can be changed to a background thread at any time by setting its <xref:System.Threading.Thread.IsBackground%2A> property to `true`.  \n  \n> [!IMPORTANT]\n>  The foreground or background status of a thread does not affect the outcome of an unhandled exception in the thread. In the .NET Framework version 2.0, an unhandled exception in either foreground or background threads results in termination of the application. See [Exceptions in Managed Threads](../../../docs/standard/threading/exceptions-in-managed-threads.md).  \n  \n Threads that belong to the managed thread pool (that is, threads whose <xref:System.Threading.Thread.IsThreadPoolThread%2A> property is `true`) are background threads. All threads that enter the managed execution environment from unmanaged code are marked as background threads. All threads generated by creating and starting a new <xref:System.Threading.Thread> object are by default foreground threads.  \n  \n If you use a thread to monitor an activity, such as a socket connection, set its <xref:System.Threading.Thread.IsBackground%2A> property to `true` so that the thread does not prevent your process from terminating.  \n  \n## See also\n\n- <xref:System.Threading.Thread.IsBackground%2A?displayProperty=nameWithType>\n- <xref:System.Threading.Thread>\n- <xref:System.Threading.ThreadAbortException>\n","nodes":[{"pos":[4,350],"embed":true,"restype":"x-metadata","content":"title: \"Foreground and Background Threads\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nhelpviewer_keywords: \n  - \"threading [.NET Framework], foreground\"\n  - \"threading [.NET Framework], background\"\n  - \"foreground threads\"\n  - \"background threads\"\nms.assetid: cfe0d632-dd35-47e0-91ad-f742a444005e\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"Foreground and Background Threads","nodes":[{"pos":[0,33],"content":"Foreground and Background Threads","nodes":[{"content":"Foreground and Background Threads","pos":[0,33]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[357,390],"content":"Foreground and Background Threads","linkify":"Foreground and Background Threads","nodes":[{"content":"Foreground and Background Threads","pos":[0,33]}]},{"content":"A managed thread is either a background thread or a foreground thread.","pos":[391,461]},{"content":"Background threads are identical to foreground threads with one exception: a background thread does not keep the managed execution environment running.","pos":[462,613]},{"content":"Once all foreground threads have been stopped in a managed process (where the .exe file is a managed assembly), the system stops all background threads and shuts down.","pos":[614,781]},{"pos":[789,1166],"content":"[!NOTE]\n When the runtime stops a background thread because the process is shutting down, no exception is thrown in the thread. However, when threads are stopped because the <xref:System.AppDomain.Unload%2A?displayProperty=nameWithType> method unloads the application domain, a <xref:System.Threading.ThreadAbortException> is thrown in both foreground and background threads.","leadings":["","> "],"nodes":[{"content":"When the runtime stops a background thread because the process is shutting down, no exception is thrown in the thread. However, when threads are stopped because the <xref:System.AppDomain.Unload%2A?displayProperty=nameWithType> method unloads the application domain, a <xref:System.Threading.ThreadAbortException> is thrown in both foreground and background threads.","pos":[9,375],"nodes":[{"content":"When the runtime stops a background thread because the process is shutting down, no exception is thrown in the thread.","pos":[0,118]},{"content":"However, when threads are stopped because the <ph id=\"ph1\">&lt;xref:System.AppDomain.Unload%2A?displayProperty=nameWithType&gt;</ph> method unloads the application domain, a <ph id=\"ph2\">&lt;xref:System.Threading.ThreadAbortException&gt;</ph> is thrown in both foreground and background threads.","pos":[119,366],"source":" However, when threads are stopped because the <xref:System.AppDomain.Unload%2A?displayProperty=nameWithType> method unloads the application domain, a <xref:System.Threading.ThreadAbortException> is thrown in both foreground and background threads."}]}]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Threading.Thread.IsBackground%2A?displayProperty=nameWithType&gt;</ph> property to determine whether a thread is a background or a foreground thread, or to change its status.","pos":[1173,1360],"source":"Use the <xref:System.Threading.Thread.IsBackground%2A?displayProperty=nameWithType> property to determine whether a thread is a background or a foreground thread, or to change its status."},{"content":"A thread can be changed to a background thread at any time by setting its <ph id=\"ph1\">&lt;xref:System.Threading.Thread.IsBackground%2A&gt;</ph> property to <ph id=\"ph2\">`true`</ph>.","pos":[1361,1501],"source":" A thread can be changed to a background thread at any time by setting its <xref:System.Threading.Thread.IsBackground%2A> property to `true`."},{"pos":[1509,1889],"content":"[!IMPORTANT]\n The foreground or background status of a thread does not affect the outcome of an unhandled exception in the thread. In the .NET Framework version 2.0, an unhandled exception in either foreground or background threads results in termination of the application. See [Exceptions in Managed Threads](../../../docs/standard/threading/exceptions-in-managed-threads.md).","leadings":["","> "],"nodes":[{"content":"The foreground or background status of a thread does not affect the outcome of an unhandled exception in the thread. In the .NET Framework version 2.0, an unhandled exception in either foreground or background threads results in termination of the application. See [Exceptions in Managed Threads](../../../docs/standard/threading/exceptions-in-managed-threads.md).","pos":[14,378],"nodes":[{"content":"The foreground or background status of a thread does not affect the outcome of an unhandled exception in the thread.","pos":[0,116]},{"content":"In the .NET Framework version 2.0, an unhandled exception in either foreground or background threads results in termination of the application.","pos":[117,260]},{"content":"See <bpt id=\"p1\">[</bpt>Exceptions in Managed Threads<ept id=\"p1\">](../../../docs/standard/threading/exceptions-in-managed-threads.md)</ept>.","pos":[261,364],"source":" See [Exceptions in Managed Threads](../../../docs/standard/threading/exceptions-in-managed-threads.md)."}]}]},{"content":"Threads that belong to the managed thread pool (that is, threads whose <ph id=\"ph1\">&lt;xref:System.Threading.Thread.IsThreadPoolThread%2A&gt;</ph> property is <ph id=\"ph2\">`true`</ph>) are background threads.","pos":[1896,2063],"source":"Threads that belong to the managed thread pool (that is, threads whose <xref:System.Threading.Thread.IsThreadPoolThread%2A> property is `true`) are background threads."},{"content":"All threads that enter the managed execution environment from unmanaged code are marked as background threads.","pos":[2064,2174]},{"content":"All threads generated by creating and starting a new <ph id=\"ph1\">&lt;xref:System.Threading.Thread&gt;</ph> object are by default foreground threads.","pos":[2175,2300],"source":" All threads generated by creating and starting a new <xref:System.Threading.Thread> object are by default foreground threads."},{"pos":[2307,2520],"content":"If you use a thread to monitor an activity, such as a socket connection, set its <ph id=\"ph1\">&lt;xref:System.Threading.Thread.IsBackground%2A&gt;</ph> property to <ph id=\"ph2\">`true`</ph> so that the thread does not prevent your process from terminating.","source":"If you use a thread to monitor an activity, such as a socket connection, set its <xref:System.Threading.Thread.IsBackground%2A> property to `true` so that the thread does not prevent your process from terminating."},{"pos":[2529,2537],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}