{"content":"---\ntitle: \"How to: List directory contents with FTP\"\ndescription: \"This article shows a sample of how to list the directory contents of an FTP server.\"\nms.date: \"06/26/2018\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 130c64c9-7b7f-4672-9b3b-d946bd2616c5\n---\n# How to: List directory contents with FTP\n\nThis sample shows how to list the directory contents of an FTP server.\n\n## Example\n\n```csharp\nusing System;\nusing System.IO;\nusing System.Net;\n\nnamespace Examples.System.Net\n{\n    public class WebRequestGetExample\n    {\n        public static void Main ()\n        {\n            // Get the object used to communicate with the server.\n            FtpWebRequest request = (FtpWebRequest)WebRequest.Create(\"ftp://www.contoso.com/\");\n            request.Method = WebRequestMethods.Ftp.ListDirectoryDetails;\n\n            // This example assumes the FTP site uses anonymous logon.\n            request.Credentials = new NetworkCredential (\"anonymous\",\"janeDoe@contoso.com\");\n\n            FtpWebResponse response = (FtpWebResponse)request.GetResponse();\n\n            Stream responseStream = response.GetResponseStream();\n            StreamReader reader = new StreamReader(responseStream);\n            Console.WriteLine(reader.ReadToEnd());\n\n            Console.WriteLine($\"Directory List Complete, status {response.StatusDescription}\");\n\n            reader.Close();\n            response.Close();\n        }\n    }\n}\n```\n\n```vb\nImports System.IO\nImports System.Net\n\nNamespace Examples.System.Net\n    Public Module WebRequestGetExample\n        Public Sub Main()\n            ' Get the object used to communicate with the server.\n            Dim request As FtpWebRequest = CType(WebRequest.Create(\"ftp://www.contoso.com/\"), FtpWebRequest)\n            request.Method = WebRequestMethods.Ftp.ListDirectoryDetails\n\n            ' This example assumes the FTP site uses anonymous logon.\n            request.Credentials = New NetworkCredential(\"anonymous\", \"janeDoe@contoso.com\")\n\n            Dim response As FtpWebResponse = CType(request.GetResponse(), FtpWebResponse)\n\n            Dim responseStream As Stream = response.GetResponseStream()\n            Dim reader As StreamReader = New StreamReader(responseStream)\n            Console.WriteLine(reader.ReadToEnd())\n\n            Console.WriteLine($\"Directory List Complete, status {response.StatusDescription}\")\n\n            reader.Close()\n            response.Close()\n        End Sub\n    End Module\nEnd Namespace\n```\n\nIf you need to list a specific directory, just add the directory to the end of the URI you're using in the <xref:System.Net.WebRequest.Create%2A?displayProperty=nameWithType> method:\n\n```csharp\nFtpWebRequest request = (FtpWebRequest)WebRequest.Create(\"ftp://www.contoso.com/your_preferred_directory\");\n```\n\n```vb\nDim request As FtpWebRequest = CType(WebRequest.Create(\"ftp://www.contoso.com/your_preferred_directory\"), FtpWebRequest)\n```\n","nodes":[{"pos":[4,257],"embed":true,"restype":"x-metadata","content":"title: \"How to: List directory contents with FTP\"\ndescription: \"This article shows a sample of how to list the directory contents of an FTP server.\"\nms.date: \"06/26/2018\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 130c64c9-7b7f-4672-9b3b-d946bd2616c5","nodes":[{"content":"How to: List directory contents with FTP","nodes":[{"pos":[0,40],"content":"How to: List directory contents with FTP","nodes":[{"content":"How to: List directory contents with FTP","pos":[0,40]}]}],"path":["title"],"nosxs":false},{"content":"This article shows a sample of how to list the directory contents of an FTP server.","nodes":[{"pos":[0,83],"content":"This article shows a sample of how to list the directory contents of an FTP server.","nodes":[{"content":"This article shows a sample of how to list the directory contents of an FTP server.","pos":[0,83]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[264,304],"content":"How to: List directory contents with FTP","linkify":"How to: List directory contents with FTP","nodes":[{"content":"How to: List directory contents with FTP","pos":[0,40]}]},{"content":"This sample shows how to list the directory contents of an FTP server.","pos":[306,376]},{"pos":[381,388],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2455,2637],"content":"If you need to list a specific directory, just add the directory to the end of the URI you're using in the <ph id=\"ph1\">&lt;xref:System.Net.WebRequest.Create%2A?displayProperty=nameWithType&gt;</ph> method:","source":"If you need to list a specific directory, just add the directory to the end of the URI you're using in the <xref:System.Net.WebRequest.Create%2A?displayProperty=nameWithType> method:"}]}