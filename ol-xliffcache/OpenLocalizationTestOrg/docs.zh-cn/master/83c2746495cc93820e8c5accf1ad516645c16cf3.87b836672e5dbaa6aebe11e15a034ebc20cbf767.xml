{"content":"---\ntitle: \"Compiler Error CS0034\"\nms.date: 07/20/2015\nf1_keywords: \n  - \"CS0034\"\nhelpviewer_keywords: \n  - \"CS0034\"\nms.assetid: cb72ec9b-3a6b-40f3-b2ad-2ea122920edd\n---\n# Compiler Error CS0034\nOperator 'operator' is ambiguous on operands of type 'type1' and 'type2'  \n  \n An operator was used on two objects and the compiler found more than one conversion. Because conversions have to be unique, you either have to make a cast or to make one of the conversions explicit. For more information, see [Conversion Operators](../../../csharp/programming-guide/statements-expressions-operators/conversion-operators.md).  \n  \n The following sample generates CS0034:  \n  \n```csharp  \n// CS0034.cs  \npublic class A  \n{  \n   // allows for the conversion of A object to int  \n   public static implicit operator int (A s)  \n   {  \n      return 0;  \n   }  \n  \n   public static implicit operator string (A i)  \n   {  \n      return null;  \n   }  \n}  \n  \npublic class B  \n{  \n   public static implicit operator int (B s)  \n   // one way to resolve this CS0034 is to make one conversion explicit  \n   // public static explicit operator int (B s)  \n   {  \n      return 0;  \n   }  \n  \n   public static implicit operator string (B i)  \n   {  \n      return null;  \n   }  \n  \n   public static implicit operator B (string i)  \n   {  \n      return null;  \n   }  \n  \n   public static implicit operator B (int i)  \n   {  \n      return null;  \n   }  \n}  \n  \npublic class C  \n{  \n   public static void Main ()  \n   {  \n      A a = new A();  \n      B b = new B();  \n      b = b + a;   // CS0034  \n      // another way to resolve this CS0034 is to make a cast  \n      // b = b + (int)a;  \n   }  \n}  \n```  \n  \n In C# 1.1 a compiler bug made it possible to define a class that has implicit user-defined conversions to both `int` and `bool`, and to use a bitwise `AND` operator (`&`) on objects of that type. In C# 2.0, this bug was fixed to bring the compiler into compliance with the C# specification, and therefore the following code will now cause CS0034:  \n  \n```csharp  \nnamespace CS0034  \n{  \n    class TestClass2  \n    {  \n        public void Test()  \n        {  \n            TestClass o1 = new TestClass();  \n            TestClass o2 = new TestClass();  \n            TestClass o3 = o1 & o2; //CS0034  \n        }  \n    }  \n  \n    class TestClass  \n    {  \n        public static implicit operator int(TestClass o)  \n        {  \n            return 1;  \n        }  \n  \n        public static implicit operator TestClass(int v)  \n        {  \n            return new TestClass();  \n        }  \n  \n        public static implicit operator bool(TestClass o)  \n        {  \n            return true;  \n        }  \n    }  \n  \n}  \n```\n","nodes":[{"pos":[4,165],"embed":true,"restype":"x-metadata","content":"title: \"Compiler Error CS0034\"\nms.date: 07/20/2015\nf1_keywords: \n  - \"CS0034\"\nhelpviewer_keywords: \n  - \"CS0034\"\nms.assetid: cb72ec9b-3a6b-40f3-b2ad-2ea122920edd","nodes":[{"content":"Compiler Error CS0034","nodes":[{"pos":[0,21],"content":"Compiler Error CS0034","nodes":[{"content":"Compiler Error CS0034","pos":[0,21]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[172,193],"content":"Compiler Error CS0034","linkify":"Compiler Error CS0034","nodes":[{"content":"Compiler Error CS0034","pos":[0,21]}]},{"content":"Operator 'operator' is ambiguous on operands of type 'type1' and 'type2'","pos":[194,266]},{"content":"An operator was used on two objects and the compiler found more than one conversion.","pos":[273,357]},{"content":"Because conversions have to be unique, you either have to make a cast or to make one of the conversions explicit.","pos":[358,471]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Conversion Operators<ept id=\"p1\">](../../../csharp/programming-guide/statements-expressions-operators/conversion-operators.md)</ept>.","pos":[472,613],"source":" For more information, see [Conversion Operators](../../../csharp/programming-guide/statements-expressions-operators/conversion-operators.md)."},{"content":"The following sample generates CS0034:","pos":[620,658]},{"content":"In C# 1.1 a compiler bug made it possible to define a class that has implicit user-defined conversions to both <ph id=\"ph1\">`int`</ph> and <ph id=\"ph2\">`bool`</ph>, and to use a bitwise <ph id=\"ph3\">`AND`</ph> operator (<ph id=\"ph4\">`&amp;`</ph>) on objects of that type.","pos":[1680,1875],"source":"In C# 1.1 a compiler bug made it possible to define a class that has implicit user-defined conversions to both `int` and `bool`, and to use a bitwise `AND` operator (`&`) on objects of that type."},{"content":"In C# 2.0, this bug was fixed to bring the compiler into compliance with the C# specification, and therefore the following code will now cause CS0034:","pos":[1876,2026]}]}