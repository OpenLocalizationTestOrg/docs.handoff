{"content":"---\ntitle: \"Drawing Formatted Text\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"text [WPF]\"\n  - \"typography [WPF], drawing formatted text\"\n  - \"formatted text [WPF]\"\n  - \"drawing [WPF], formatted text\"\nms.assetid: b1d851c1-331c-4814-9964-6fe769db6f1f\n---\n# Drawing Formatted Text\nThis topic provides an overview of the features of the <xref:System.Windows.Media.FormattedText> object. This object provides low-level control for drawing text in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications.  \n\n## Technology Overview  \n The <xref:System.Windows.Media.FormattedText> object allows you to draw multi-line text, in which each character in the text can be individually formatted. The following example shows text that has several formats applied to it.  \n  \n ![Text displayed using FormattedText object](./media/typography-in-wpf/text-formatted-linear-gradient.jpg)  \n  \n> [!NOTE]\n>  For those developers migrating from the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] API, the table in the [Win32 Migration](#win32_migration) section lists the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText flags and the approximate equivalent in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].  \n  \n### Reasons for Using Formatted Text  \n [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] includes multiple controls for drawing text to the screen. Each control is targeted to a different scenario and has its own list of features and limitations. In general, the <xref:System.Windows.Controls.TextBlock> element should be used when limited text support is required, such as a brief sentence in a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]. <xref:System.Windows.Controls.Label> can be used when minimal text support is required. For more information, see [Documents in WPF](documents-in-wpf.md).  \n  \n The <xref:System.Windows.Media.FormattedText> object provides greater text formatting features than [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] text controls, and can be useful in cases where you want to use text as a decorative element. For more information, see the following section [Converting Formatted Text to a Geometry](#converting_formatted_text).  \n  \n In addition, the <xref:System.Windows.Media.FormattedText> object is useful for creating text-oriented <xref:System.Windows.Media.DrawingVisual>-derived objects. <xref:System.Windows.Media.DrawingVisual> is a lightweight drawing class that is used to render shapes, images, or text. For more information, see [Hit Test Using DrawingVisuals Sample](https://go.microsoft.com/fwlink/?LinkID=159994).  \n  \n## Using the FormattedText Object  \n To create formatted text, call the <xref:System.Windows.Media.FormattedText.%23ctor%2A> constructor to create a <xref:System.Windows.Media.FormattedText> object. Once you have created the initial formatted text string, you can apply a range of formatting styles.  \n  \n Use the <xref:System.Windows.Media.FormattedText.MaxTextWidth%2A> property to constrain the text to a specific width. The text will automatically wrap to avoid exceeding the specified width. Use the <xref:System.Windows.Media.FormattedText.MaxTextHeight%2A> property to constrain the text to a specific height. The text will display an ellipsis, \"…\" for the text that exceeds the specified height.  \n  \n ![Text displayed with wordwrap and ellipsis.](./media/drawing-formatted-text/formatted-text-wordwrap-ellipsis.png)    \n  \n You can apply multiple formatting styles to one or more characters. For example, you could call both the <xref:System.Windows.Media.FormattedText.SetFontSize%2A> and <xref:System.Windows.Media.FormattedText.SetForegroundBrush%2A> methods to change the formatting of the first five characters in the text.  \n  \n The following code example creates a <xref:System.Windows.Media.FormattedText> object and then applies several formatting styles to the text.  \n  \n [!code-csharp[FormattedTextSnippets#FormattedTextSnippets1](~/samples/snippets/csharp/VS_Snippets_Wpf/FormattedTextSnippets/CSharp/Window1.xaml.cs#formattedtextsnippets1)]\n [!code-vb[FormattedTextSnippets#FormattedTextSnippets1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FormattedTextSnippets/visualbasic/window1.xaml.vb#formattedtextsnippets1)]  \n  \n### Font Size Unit of Measure  \n As with other text objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications, the <xref:System.Windows.Media.FormattedText> object uses device-independent pixels as the unit of measure. However, most [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] applications use points as the unit of measure. If you want to use display text in units of points in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications, you need to convert [!INCLUDE[TLA#tla_dipixel#plural](../../../../includes/tlasharptla-dipixelsharpplural-md.md)] to points. The following code example shows how to perform this conversion.  \n  \n [!code-csharp[FormattedTextSnippets#FormattedTextSnippets2](~/samples/snippets/csharp/VS_Snippets_Wpf/FormattedTextSnippets/CSharp/Window1.xaml.cs#formattedtextsnippets2)]\n [!code-vb[FormattedTextSnippets#FormattedTextSnippets2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FormattedTextSnippets/visualbasic/window1.xaml.vb#formattedtextsnippets2)]  \n  \n<a name=\"converting_formatted_text\"></a>   \n### Converting Formatted Text to a Geometry  \n You can convert formatted text into <xref:System.Windows.Media.Geometry> objects, allowing you to create other types of visually interesting text. For example, you could create a <xref:System.Windows.Media.Geometry> object based on the outline of a text string.  \n  \n ![Text outline using a linear gradient brush](./media/typography-in-wpf/text-outline-linear-gradient.jpg)    \n  \n The following examples illustrate several ways of creating interesting visual effects by modifying the stroke, fill, and highlight of converted text.  \n  \n ![Text with different colors for fill and stroke](./media/typography-in-wpf/fill-stroke-text-effect.jpg)  \n  \n ![Text with image brush applied to stroke](./media/typography-in-wpf/image-brush-application.jpg)\n  \n ![Text with image brush applied to stroke and highlight](./media/typography-in-wpf/image-brush-text-application.jpg)\n  \n When text is converted to a <xref:System.Windows.Media.Geometry> object, it is no longer a collection of characters—you cannot modify the characters in the text string. However, you can affect the appearance of the converted text by modifying its stroke and fill properties. The stroke refers to the outline of the converted text; the fill refers to the area inside the outline of the converted text. For more information, see [Create Outlined Text](how-to-create-outlined-text.md).  \n  \n You can also convert formatted text to a <xref:System.Windows.Media.PathGeometry> object, and use the object for highlighting the text. For example, you could apply an animation to the <xref:System.Windows.Media.PathGeometry> object so that the animation follows the outline of the formatted text.  \n  \n The following example shows formatted text that has been converted to a <xref:System.Windows.Media.PathGeometry> object. An animated ellipse follows the path of the strokes of the rendered text.  \n  \n ![Sphere following the path geometry of text](./media/drawing-formatted-text/sphere-following-geometry-path.gif)  \nSphere following the path geometry of text  \n  \n For more information, see [How to: Create a PathGeometry Animation for Text](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms743610(v=vs.100)).  \n  \n You can create other interesting uses for formatted text once it has been converted to a <xref:System.Windows.Media.PathGeometry> object. For example, you can clip video to display inside it.  \n  \n ![Video displaying in the path geometry of text](./media/drawing-formatted-text/video-displaying-text-path-geometry.png)\n  \n<a name=\"win32_migration\"></a>   \n## Win32 Migration  \n The features of <xref:System.Windows.Media.FormattedText> for drawing text are similar to the features of the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText function. For those developers migrating from the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] API, the following table lists the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText flags and the approximate equivalent in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].  \n  \n|DrawText flag|WPF equivalent|Notes|  \n|-------------------|--------------------|-----------|  \n|DT_BOTTOM|<xref:System.Windows.Media.FormattedText.Height%2A>|Use the <xref:System.Windows.Media.FormattedText.Height%2A> property to compute an appropriate [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText 'y' position.|  \n|DT_CALCRECT|<xref:System.Windows.Media.FormattedText.Height%2A>, <xref:System.Windows.Media.FormattedText.Width%2A>|Use the <xref:System.Windows.Media.FormattedText.Height%2A> and <xref:System.Windows.Media.FormattedText.Width%2A> properties to calculate the output rectangle.|  \n|DT_CENTER|<xref:System.Windows.Media.FormattedText.TextAlignment%2A>|Use the <xref:System.Windows.Media.FormattedText.TextAlignment%2A> property with the value set to <xref:System.Windows.TextAlignment.Center>.|  \n|DT_EDITCONTROL|None|Not required. Space width and last line rendering are the same as in the framework edit control.|  \n|DT_END_ELLIPSIS|<xref:System.Windows.Media.FormattedText.Trimming%2A>|Use the <xref:System.Windows.Media.FormattedText.Trimming%2A> property with the value <xref:System.Windows.TextTrimming.CharacterEllipsis>.<br /><br /> Use <xref:System.Windows.TextTrimming.WordEllipsis> to get [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DT_END_ELLIPSIS with DT_WORD_ELIPSIS end ellipsis—in this case, character ellipsis only occurs on words that do not fit on a single line.|  \n|DT_EXPAND_TABS|None|Not required. Tabs are automatically expanded to stops every 4 ems, which is approximately the width of 8 language-independent characters.|  \n|DT_EXTERNALLEADING|None|Not required. External leading is always included in line spacing. Use the <xref:System.Windows.Media.FormattedText.LineHeight%2A> property to create user-defined line spacing.|  \n|DT_HIDEPREFIX|None|Not supported. Remove the '&' from the string before constructing the <xref:System.Windows.Media.FormattedText> object.|  \n|DT_LEFT|<xref:System.Windows.Media.FormattedText.TextAlignment%2A>|This is the default text alignment. Use the <xref:System.Windows.Media.FormattedText.TextAlignment%2A> property with the value set to <xref:System.Windows.TextAlignment.Left>. (WPF only)|  \n|DT_MODIFYSTRING|None|Not supported.|  \n|DT_NOCLIP|<xref:System.Windows.Media.Visual.VisualClip%2A>|Clipping does not happen automatically. If you want to clip text, use the <xref:System.Windows.Media.Visual.VisualClip%2A> property.|  \n|DT_NOFULLWIDTHCHARBREAK|None|Not supported.|  \n|DT_NOPREFIX|None|Not required. The '&' character in strings is always treated as a normal character.|  \n|DT_PATHELLIPSIS|None|Use the <xref:System.Windows.Media.FormattedText.Trimming%2A> property with the value <xref:System.Windows.TextTrimming.WordEllipsis>.|  \n|DT_PREFIX|None|Not supported. If you want to use underscores for text, such as an accelerator key or link, use the <xref:System.Windows.Media.FormattedText.SetTextDecorations%2A> method.|  \n|DT_PREFIXONLY|None|Not supported.|  \n|DT_RIGHT|<xref:System.Windows.Media.FormattedText.TextAlignment%2A>|Use the <xref:System.Windows.Media.FormattedText.TextAlignment%2A> property with the value set to <xref:System.Windows.TextAlignment.Right>. (WPF only)|  \n|DT_RTLREADING|<xref:System.Windows.Media.FormattedText.FlowDirection%2A>|Set the <xref:System.Windows.Media.FormattedText.FlowDirection%2A> property to <xref:System.Windows.FlowDirection.RightToLeft>.|  \n|DT_SINGLELINE|None|Not required. <xref:System.Windows.Media.FormattedText> objects behave as a single line control, unless either the <xref:System.Windows.Media.FormattedText.MaxTextWidth%2A> property is set or the text contains a carriage return/line feed (CR/LF).|  \n|DT_TABSTOP|None|No support for user-defined tab stop positions.|  \n|DT_TOP|<xref:System.Windows.Media.FormattedText.Height%2A>|Not required. Top justification is the default. Other vertical positioning values can be defined by using the <xref:System.Windows.Media.FormattedText.Height%2A> property to compute an appropriate [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText 'y' position.|  \n|DT_VCENTER|<xref:System.Windows.Media.FormattedText.Height%2A>|Use the <xref:System.Windows.Media.FormattedText.Height%2A> property to compute an appropriate [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText 'y' position.|  \n|DT_WORDBREAK|None|Not required. Word breaking happens automatically with <xref:System.Windows.Media.FormattedText> objects. You cannot disable it.|  \n|DT_WORD_ELLIPSIS|<xref:System.Windows.Media.FormattedText.Trimming%2A>|Use the <xref:System.Windows.Media.FormattedText.Trimming%2A> property with the value <xref:System.Windows.TextTrimming.WordEllipsis>.|  \n  \n## See also\n\n- <xref:System.Windows.Media.FormattedText>\n- [Documents in WPF](documents-in-wpf.md)\n- [Typography in WPF](typography-in-wpf.md)\n- [Create Outlined Text](how-to-create-outlined-text.md)\n- [How to: Create a PathGeometry Animation for Text](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms743610(v=vs.100))\n","nodes":[{"pos":[4,289],"embed":true,"restype":"x-metadata","content":"title: \"Drawing Formatted Text\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"text [WPF]\"\n  - \"typography [WPF], drawing formatted text\"\n  - \"formatted text [WPF]\"\n  - \"drawing [WPF], formatted text\"\nms.assetid: b1d851c1-331c-4814-9964-6fe769db6f1f","nodes":[{"content":"Drawing Formatted Text","nodes":[{"pos":[0,22],"content":"Drawing Formatted Text","nodes":[{"content":"Drawing Formatted Text","pos":[0,22]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[296,318],"content":"Drawing Formatted Text","linkify":"Drawing Formatted Text","nodes":[{"content":"Drawing Formatted Text","pos":[0,22]}]},{"content":"This topic provides an overview of the features of the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object.","pos":[319,423],"source":"This topic provides an overview of the features of the <xref:System.Windows.Media.FormattedText> object."},{"content":"This object provides low-level control for drawing text in <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> applications.","pos":[424,576],"source":" This object provides low-level control for drawing text in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications."},{"pos":[583,602],"content":"Technology Overview","linkify":"Technology Overview","nodes":[{"content":"Technology Overview","pos":[0,19]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object allows you to draw multi-line text, in which each character in the text can be individually formatted.","pos":[606,761],"source":"The <xref:System.Windows.Media.FormattedText> object allows you to draw multi-line text, in which each character in the text can be individually formatted."},{"content":"The following example shows text that has several formats applied to it.","pos":[762,834]},{"content":"Text displayed using FormattedText object","pos":[843,884]},{"pos":[955,1355],"content":"[!NOTE]\n For those developers migrating from the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] API, the table in the [Win32 Migration](#win32_migration) section lists the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText flags and the approximate equivalent in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].","leadings":["","> "],"nodes":[{"content":"For those developers migrating from the <ph id=\"ph1\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> API, the table in the <bpt id=\"p1\">[</bpt>Win32 Migration<ept id=\"p1\">](#win32_migration)</ept> section lists the <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> DrawText flags and the approximate equivalent in <ph id=\"ph3\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph>.","pos":[9,398],"source":"For those developers migrating from the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] API, the table in the [Win32 Migration](#win32_migration) section lists the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText flags and the approximate equivalent in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]."}]},{"pos":[1365,1397],"content":"Reasons for Using Formatted Text","linkify":"Reasons for Using Formatted Text","nodes":[{"content":"Reasons for Using Formatted Text","pos":[0,32]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> includes multiple controls for drawing text to the screen.","pos":[1401,1541],"source":"[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] includes multiple controls for drawing text to the screen."},{"content":"Each control is targeted to a different scenario and has its own list of features and limitations.","pos":[1542,1640]},{"content":"In general, the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph> element should be used when limited text support is required, such as a brief sentence in a <ph id=\"ph2\">[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]</ph>.","pos":[1641,1856],"source":" In general, the <xref:System.Windows.Controls.TextBlock> element should be used when limited text support is required, such as a brief sentence in a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Label&gt;</ph> can be used when minimal text support is required.","pos":[1857,1944],"source":"<xref:System.Windows.Controls.Label> can be used when minimal text support is required."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Documents in WPF<ept id=\"p1\">](documents-in-wpf.md)</ept>.","pos":[1945,2011],"source":" For more information, see [Documents in WPF](documents-in-wpf.md)."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object provides greater text formatting features than <ph id=\"ph2\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> text controls, and can be useful in cases where you want to use text as a decorative element.","pos":[2018,2291],"source":"The <xref:System.Windows.Media.FormattedText> object provides greater text formatting features than [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] text controls, and can be useful in cases where you want to use text as a decorative element."},{"content":"For more information, see the following section <bpt id=\"p1\">[</bpt>Converting Formatted Text to a Geometry<ept id=\"p1\">](#converting_formatted_text)</ept>.","pos":[2292,2410],"source":" For more information, see the following section [Converting Formatted Text to a Geometry](#converting_formatted_text)."},{"content":"In addition, the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object is useful for creating text-oriented <ph id=\"ph2\">&lt;xref:System.Windows.Media.DrawingVisual&gt;</ph>-derived objects.","pos":[2417,2578],"source":"In addition, the <xref:System.Windows.Media.FormattedText> object is useful for creating text-oriented <xref:System.Windows.Media.DrawingVisual>-derived objects."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.DrawingVisual&gt;</ph> is a lightweight drawing class that is used to render shapes, images, or text.","pos":[2579,2699],"source":"<xref:System.Windows.Media.DrawingVisual> is a lightweight drawing class that is used to render shapes, images, or text."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Hit Test Using DrawingVisuals Sample<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkID=159994)</ept>.","pos":[2700,2813],"source":" For more information, see [Hit Test Using DrawingVisuals Sample](https://go.microsoft.com/fwlink/?LinkID=159994)."},{"pos":[2822,2852],"content":"Using the FormattedText Object","linkify":"Using the FormattedText Object","nodes":[{"content":"Using the FormattedText Object","pos":[0,30]}]},{"content":"To create formatted text, call the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.%23ctor%2A&gt;</ph> constructor to create a <ph id=\"ph2\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object.","pos":[2856,3017],"source":"To create formatted text, call the <xref:System.Windows.Media.FormattedText.%23ctor%2A> constructor to create a <xref:System.Windows.Media.FormattedText> object."},{"content":"Once you have created the initial formatted text string, you can apply a range of formatting styles.","pos":[3018,3118]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.MaxTextWidth%2A&gt;</ph> property to constrain the text to a specific width.","pos":[3125,3242],"source":"Use the <xref:System.Windows.Media.FormattedText.MaxTextWidth%2A> property to constrain the text to a specific width."},{"content":"The text will automatically wrap to avoid exceeding the specified width.","pos":[3243,3315]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.MaxTextHeight%2A&gt;</ph> property to constrain the text to a specific height.","pos":[3316,3435],"source":" Use the <xref:System.Windows.Media.FormattedText.MaxTextHeight%2A> property to constrain the text to a specific height."},{"content":"The text will display an ellipsis, \"…\" for the text that exceeds the specified height.","pos":[3436,3522]},{"content":"Text displayed with wordwrap and ellipsis.","pos":[3531,3573]},{"content":"You can apply multiple formatting styles to one or more characters.","pos":[3652,3719]},{"content":"For example, you could call both the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.SetFontSize%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Media.FormattedText.SetForegroundBrush%2A&gt;</ph> methods to change the formatting of the first five characters in the text.","pos":[3720,3956],"source":" For example, you could call both the <xref:System.Windows.Media.FormattedText.SetFontSize%2A> and <xref:System.Windows.Media.FormattedText.SetForegroundBrush%2A> methods to change the formatting of the first five characters in the text."},{"pos":[3963,4104],"content":"The following code example creates a <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object and then applies several formatting styles to the text.","source":"The following code example creates a <xref:System.Windows.Media.FormattedText> object and then applies several formatting styles to the text."},{"pos":[4471,4496],"content":"Font Size Unit of Measure","linkify":"Font Size Unit of Measure","nodes":[{"content":"Font Size Unit of Measure","pos":[0,25]}]},{"content":"As with other text objects in <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> applications, the <ph id=\"ph2\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object uses device-independent pixels as the unit of measure.","pos":[4500,4731],"source":"As with other text objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications, the <xref:System.Windows.Media.FormattedText> object uses device-independent pixels as the unit of measure."},{"content":"However, most <ph id=\"ph1\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> applications use points as the unit of measure.","pos":[4732,4865],"source":" However, most [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] applications use points as the unit of measure."},{"content":"If you want to use display text in units of points in <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> applications, you need to convert <ph id=\"ph2\">[!INCLUDE[TLA#tla_dipixel#plural](../../../../includes/tlasharptla-dipixelsharpplural-md.md)]</ph> to points.","pos":[4866,5138],"source":" If you want to use display text in units of points in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications, you need to convert [!INCLUDE[TLA#tla_dipixel#plural](../../../../includes/tlasharptla-dipixelsharpplural-md.md)] to points."},{"content":"The following code example shows how to perform this conversion.","pos":[5139,5203]},{"pos":[5614,5653],"content":"Converting Formatted Text to a Geometry","linkify":"Converting Formatted Text to a Geometry","nodes":[{"content":"Converting Formatted Text to a Geometry","pos":[0,39]}]},{"content":"You can convert formatted text into <ph id=\"ph1\">&lt;xref:System.Windows.Media.Geometry&gt;</ph> objects, allowing you to create other types of visually interesting text.","pos":[5657,5803],"source":"You can convert formatted text into <xref:System.Windows.Media.Geometry> objects, allowing you to create other types of visually interesting text."},{"content":"For example, you could create a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Geometry&gt;</ph> object based on the outline of a text string.","pos":[5804,5918],"source":" For example, you could create a <xref:System.Windows.Media.Geometry> object based on the outline of a text string."},{"content":"Text outline using a linear gradient brush","pos":[5927,5969]},{"content":"The following examples illustrate several ways of creating interesting visual effects by modifying the stroke, fill, and highlight of converted text.","pos":[6039,6188]},{"content":"Text with different colors for fill and stroke","pos":[6197,6243]},{"content":"Text with image brush applied to stroke","pos":[6308,6347]},{"content":"Text with image brush applied to stroke and highlight","pos":[6410,6463]},{"content":"When text is converted to a <ph id=\"ph1\">&lt;xref:System.Windows.Media.Geometry&gt;</ph> object, it is no longer a collection of characters—you cannot modify the characters in the text string.","pos":[6529,6697],"source":"When text is converted to a <xref:System.Windows.Media.Geometry> object, it is no longer a collection of characters—you cannot modify the characters in the text string."},{"content":"However, you can affect the appearance of the converted text by modifying its stroke and fill properties.","pos":[6698,6803]},{"content":"The stroke refers to the outline of the converted text; the fill refers to the area inside the outline of the converted text.","pos":[6804,6929]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Create Outlined Text<ept id=\"p1\">](how-to-create-outlined-text.md)</ept>.","pos":[6930,7011],"source":" For more information, see [Create Outlined Text](how-to-create-outlined-text.md)."},{"content":"You can also convert formatted text to a <ph id=\"ph1\">&lt;xref:System.Windows.Media.PathGeometry&gt;</ph> object, and use the object for highlighting the text.","pos":[7018,7153],"source":"You can also convert formatted text to a <xref:System.Windows.Media.PathGeometry> object, and use the object for highlighting the text."},{"content":"For example, you could apply an animation to the <ph id=\"ph1\">&lt;xref:System.Windows.Media.PathGeometry&gt;</ph> object so that the animation follows the outline of the formatted text.","pos":[7154,7315],"source":" For example, you could apply an animation to the <xref:System.Windows.Media.PathGeometry> object so that the animation follows the outline of the formatted text."},{"content":"The following example shows formatted text that has been converted to a <ph id=\"ph1\">&lt;xref:System.Windows.Media.PathGeometry&gt;</ph> object.","pos":[7322,7442],"source":"The following example shows formatted text that has been converted to a <xref:System.Windows.Media.PathGeometry> object."},{"content":"An animated ellipse follows the path of the strokes of the rendered text.","pos":[7443,7516]},{"content":"Sphere following the path geometry of text","pos":[7525,7567]},{"content":"Sphere following the path geometry of text","pos":[7638,7680]},{"pos":[7687,7853],"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Create a PathGeometry Animation for Text<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms743610(v=vs.100))</ept>.","source":"For more information, see [How to: Create a PathGeometry Animation for Text](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms743610(v=vs.100))."},{"content":"You can create other interesting uses for formatted text once it has been converted to a <ph id=\"ph1\">&lt;xref:System.Windows.Media.PathGeometry&gt;</ph> object.","pos":[7860,7997],"source":"You can create other interesting uses for formatted text once it has been converted to a <xref:System.Windows.Media.PathGeometry> object."},{"content":"For example, you can clip video to display inside it.","pos":[7998,8051]},{"content":"Video displaying in the path geometry of text","pos":[8060,8105]},{"pos":[8219,8234],"content":"Win32 Migration","linkify":"Win32 Migration","nodes":[{"content":"Win32 Migration","pos":[0,15]}]},{"content":"The features of <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> for drawing text are similar to the features of the <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> DrawText function.","pos":[8238,8438],"source":"The features of <xref:System.Windows.Media.FormattedText> for drawing text are similar to the features of the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText function."},{"content":"For those developers migrating from the <ph id=\"ph1\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> API, the following table lists the <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> DrawText flags and the approximate equivalent in <ph id=\"ph3\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph>.","pos":[8439,8787],"source":" For those developers migrating from the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] API, the following table lists the [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText flags and the approximate equivalent in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]."},{"content":"DrawText flag","pos":[8794,8807]},{"content":"WPF equivalent","pos":[8808,8822]},{"content":"Notes","pos":[8823,8828]},{"content":"DT_BOTTOM","pos":[8890,8899]},{"pos":[8952,9141],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Height%2A&gt;</ph> property to compute an appropriate <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> DrawText 'y' position.","source":"Use the <xref:System.Windows.Media.FormattedText.Height%2A> property to compute an appropriate [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText 'y' position."},{"content":"DT_CALCRECT","pos":[9146,9157]},{"pos":[9158,9261],"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Height%2A&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.Media.FormattedText.Width%2A&gt;</ph>","source":"<xref:System.Windows.Media.FormattedText.Height%2A>, <xref:System.Windows.Media.FormattedText.Width%2A>"},{"pos":[9262,9422],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Height%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Media.FormattedText.Width%2A&gt;</ph> properties to calculate the output rectangle.","source":"Use the <xref:System.Windows.Media.FormattedText.Height%2A> and <xref:System.Windows.Media.FormattedText.Width%2A> properties to calculate the output rectangle."},{"content":"DT_CENTER","pos":[9427,9436]},{"pos":[9496,9637],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.TextAlignment%2A&gt;</ph> property with the value set to <ph id=\"ph2\">&lt;xref:System.Windows.TextAlignment.Center&gt;</ph>.","source":"Use the <xref:System.Windows.Media.FormattedText.TextAlignment%2A> property with the value set to <xref:System.Windows.TextAlignment.Center>."},{"content":"DT_EDITCONTROL","pos":[9642,9656]},{"content":"None","pos":[9657,9661]},{"content":"Not required.","pos":[9662,9675]},{"content":"Space width and last line rendering are the same as in the framework edit control.","pos":[9676,9758]},{"content":"DT_END_ELLIPSIS","pos":[9763,9778]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Trimming%2A&gt;</ph> property with the value <ph id=\"ph2\">&lt;xref:System.Windows.TextTrimming.CharacterEllipsis&gt;</ph>.","pos":[9833,9972],"source":"Use the <xref:System.Windows.Media.FormattedText.Trimming%2A> property with the value <xref:System.Windows.TextTrimming.CharacterEllipsis>."},{"content":"Use <ph id=\"ph1\">&lt;xref:System.Windows.TextTrimming.WordEllipsis&gt;</ph> to get <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> DT_END_ELLIPSIS with DT_WORD_ELIPSIS end ellipsis—in this case, character ellipsis only occurs on words that do not fit on a single line.","pos":[9985,10253],"source":"Use <xref:System.Windows.TextTrimming.WordEllipsis> to get [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DT_END_ELLIPSIS with DT_WORD_ELIPSIS end ellipsis—in this case, character ellipsis only occurs on words that do not fit on a single line."},{"content":"DT_EXPAND_TABS","pos":[10258,10272]},{"content":"None","pos":[10273,10277]},{"content":"Not required.","pos":[10278,10291]},{"content":"Tabs are automatically expanded to stops every 4 ems, which is approximately the width of 8 language-independent characters.","pos":[10292,10416]},{"content":"DT_EXTERNALLEADING","pos":[10421,10439]},{"content":"None","pos":[10440,10444]},{"content":"Not required.","pos":[10445,10458]},{"content":"External leading is always included in line spacing.","pos":[10459,10511]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.LineHeight%2A&gt;</ph> property to create user-defined line spacing.","pos":[10512,10621],"source":" Use the <xref:System.Windows.Media.FormattedText.LineHeight%2A> property to create user-defined line spacing."},{"content":"DT_HIDEPREFIX","pos":[10626,10639]},{"content":"None","pos":[10640,10644]},{"content":"Not supported.","pos":[10645,10659]},{"content":"Remove the '&amp;' from the string before constructing the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> object.","pos":[10660,10764],"source":" Remove the '&' from the string before constructing the <xref:System.Windows.Media.FormattedText> object."},{"content":"DT_LEFT","pos":[10769,10776]},{"content":"This is the default text alignment.","pos":[10836,10871]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.TextAlignment%2A&gt;</ph> property with the value set to <ph id=\"ph2\">&lt;xref:System.Windows.TextAlignment.Left&gt;</ph>.","pos":[10872,11011],"source":" Use the <xref:System.Windows.Media.FormattedText.TextAlignment%2A> property with the value set to <xref:System.Windows.TextAlignment.Left>."},{"content":"(WPF only)","pos":[11012,11022]},{"content":"DT_MODIFYSTRING","pos":[11027,11042]},{"content":"None","pos":[11043,11047]},{"content":"Not supported.","pos":[11048,11062]},{"content":"DT_NOCLIP","pos":[11067,11076]},{"content":"Clipping does not happen automatically.","pos":[11126,11165]},{"content":"If you want to clip text, use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.Visual.VisualClip%2A&gt;</ph> property.","pos":[11166,11258],"source":" If you want to clip text, use the <xref:System.Windows.Media.Visual.VisualClip%2A> property."},{"content":"DT_NOFULLWIDTHCHARBREAK","pos":[11263,11286]},{"content":"None","pos":[11287,11291]},{"content":"Not supported.","pos":[11292,11306]},{"content":"DT_NOPREFIX","pos":[11311,11322]},{"content":"None","pos":[11323,11327]},{"content":"Not required.","pos":[11328,11341]},{"content":"The '&amp;' character in strings is always treated as a normal character.","pos":[11342,11411],"source":" The '&' character in strings is always treated as a normal character."},{"content":"DT_PATHELLIPSIS","pos":[11416,11431]},{"content":"None","pos":[11432,11436]},{"pos":[11437,11571],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Trimming%2A&gt;</ph> property with the value <ph id=\"ph2\">&lt;xref:System.Windows.TextTrimming.WordEllipsis&gt;</ph>.","source":"Use the <xref:System.Windows.Media.FormattedText.Trimming%2A> property with the value <xref:System.Windows.TextTrimming.WordEllipsis>."},{"content":"DT_PREFIX","pos":[11576,11585]},{"content":"None","pos":[11586,11590]},{"content":"Not supported.","pos":[11591,11605]},{"content":"If you want to use underscores for text, such as an accelerator key or link, use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.SetTextDecorations%2A&gt;</ph> method.","pos":[11606,11762],"source":" If you want to use underscores for text, such as an accelerator key or link, use the <xref:System.Windows.Media.FormattedText.SetTextDecorations%2A> method."},{"content":"DT_PREFIXONLY","pos":[11767,11780]},{"content":"None","pos":[11781,11785]},{"content":"Not supported.","pos":[11786,11800]},{"content":"DT_RIGHT","pos":[11805,11813]},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.TextAlignment%2A&gt;</ph> property with the value set to <ph id=\"ph2\">&lt;xref:System.Windows.TextAlignment.Right&gt;</ph>.","pos":[11873,12013],"source":"Use the <xref:System.Windows.Media.FormattedText.TextAlignment%2A> property with the value set to <xref:System.Windows.TextAlignment.Right>."},{"content":"(WPF only)","pos":[12014,12024]},{"content":"DT_RTLREADING","pos":[12029,12042]},{"pos":[12102,12229],"content":"Set the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.FlowDirection%2A&gt;</ph> property to <ph id=\"ph2\">&lt;xref:System.Windows.FlowDirection.RightToLeft&gt;</ph>.","source":"Set the <xref:System.Windows.Media.FormattedText.FlowDirection%2A> property to <xref:System.Windows.FlowDirection.RightToLeft>."},{"content":"DT_SINGLELINE","pos":[12234,12247]},{"content":"None","pos":[12248,12252]},{"content":"Not required.","pos":[12253,12266]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> objects behave as a single line control, unless either the <ph id=\"ph2\">&lt;xref:System.Windows.Media.FormattedText.MaxTextWidth%2A&gt;</ph> property is set or the text contains a carriage return/line feed (CR/LF).","pos":[12267,12499],"source":"<xref:System.Windows.Media.FormattedText> objects behave as a single line control, unless either the <xref:System.Windows.Media.FormattedText.MaxTextWidth%2A> property is set or the text contains a carriage return/line feed (CR/LF)."},{"content":"DT_TABSTOP","pos":[12504,12514]},{"content":"None","pos":[12515,12519]},{"content":"No support for user-defined tab stop positions.","pos":[12520,12567]},{"content":"DT_TOP","pos":[12572,12578]},{"content":"Not required.","pos":[12631,12644]},{"content":"Top justification is the default.","pos":[12645,12678]},{"content":"Other vertical positioning values can be defined by using the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Height%2A&gt;</ph> property to compute an appropriate <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> DrawText 'y' position.","pos":[12679,12922],"source":" Other vertical positioning values can be defined by using the <xref:System.Windows.Media.FormattedText.Height%2A> property to compute an appropriate [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText 'y' position."},{"content":"DT_VCENTER","pos":[12927,12937]},{"pos":[12990,13179],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Height%2A&gt;</ph> property to compute an appropriate <ph id=\"ph2\">[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]</ph> DrawText 'y' position.","source":"Use the <xref:System.Windows.Media.FormattedText.Height%2A> property to compute an appropriate [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] DrawText 'y' position."},{"content":"DT_WORDBREAK","pos":[13184,13196]},{"content":"None","pos":[13197,13201]},{"content":"Not required.","pos":[13202,13215]},{"content":"Word breaking happens automatically with <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText&gt;</ph> objects.","pos":[13216,13307],"source":" Word breaking happens automatically with <xref:System.Windows.Media.FormattedText> objects."},{"content":"You cannot disable it.","pos":[13308,13330]},{"content":"DT_WORD_ELLIPSIS","pos":[13335,13351]},{"pos":[13406,13540],"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.Media.FormattedText.Trimming%2A&gt;</ph> property with the value <ph id=\"ph2\">&lt;xref:System.Windows.TextTrimming.WordEllipsis&gt;</ph>.","source":"Use the <xref:System.Windows.Media.FormattedText.Trimming%2A> property with the value <xref:System.Windows.TextTrimming.WordEllipsis>."},{"pos":[13550,13558],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[13606,13645],"content":"<bpt id=\"p1\">[</bpt>Documents in WPF<ept id=\"p1\">](documents-in-wpf.md)</ept>","source":"[Documents in WPF](documents-in-wpf.md)"},{"pos":[13648,13689],"content":"<bpt id=\"p1\">[</bpt>Typography in WPF<ept id=\"p1\">](typography-in-wpf.md)</ept>","source":"[Typography in WPF](typography-in-wpf.md)"},{"pos":[13692,13746],"content":"<bpt id=\"p1\">[</bpt>Create Outlined Text<ept id=\"p1\">](how-to-create-outlined-text.md)</ept>","source":"[Create Outlined Text](how-to-create-outlined-text.md)"},{"pos":[13749,13888],"content":"<bpt id=\"p1\">[</bpt>How to: Create a PathGeometry Animation for Text<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms743610(v=vs.100))</ept>","source":"[How to: Create a PathGeometry Animation for Text](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms743610(v=vs.100))"}]}