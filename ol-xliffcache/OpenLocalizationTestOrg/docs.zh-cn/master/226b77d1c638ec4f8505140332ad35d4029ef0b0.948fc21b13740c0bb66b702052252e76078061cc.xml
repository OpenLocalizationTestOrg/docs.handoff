{"content":"---\ntitle: \"Understanding Generated Client Code\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: c3f6e4b0-1131-4c94-aa39-a197c5c2f2ca\n---\n# Understanding Generated Client Code\nThe [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) generates client code and a client application configuration file for use in building client applications. This topic provides a tour of generated code examples for standard service contract scenarios. For more information about building a client application using the generated code, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md).  \n  \n## Overview  \n If you use Visual Studio to generate Windows Communication Foundation (WCF) client types for your project, you typically do not need to examine the generated client code. If you are not using a development environment that performs the same services for you, you can use a tool such as Svcutil.exe to generate client code and then use that code to develop your client application.  \n  \n Because Svcutil.exe has a number of options that modify the generated type information, this topic does not discuss all scenarios. However, the following standard tasks involve locating generated code:  \n  \n-   Identifying service contract interfaces.  \n  \n-   Identifying the WCF client class.  \n  \n-   Identifying data types.  \n  \n-   Identifying callback contracts for duplex services.  \n  \n-   Identifying the helper service contract channel interface.  \n  \n### Finding Service Contract Interfaces  \n To locate the interfaces that model service contracts, search for interfaces that are marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute. Often this attribute can be difficult to locate with a quick read due to the presence of other attributes and the explicit properties set on the attribute itself. Remember that the service contract interface and the client contract interface are two different types. The following code example shows the original service contract.  \n  \n [!code-csharp[C_GeneratedCodeFiles#22](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#22)]  \n  \n The following code example shows the same service contract as generated by Svcutil.exe.  \n  \n [!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  \n  \n You can use the generated service contract interface along with the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> class to create a WCF channel object with which to invoke service operations. For more information, see [How to: Use the ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md).  \n  \n### Finding WCF Client Classes  \n To locate the WCF client class that implements the service contract you want to use, search for an extension of <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, where the type parameter is the service contract interface that you previously located and that extends that interface. The following code example shows the <xref:System.ServiceModel.ClientBase%601> class of type `ISampleService`.  \n  \n [!code-csharp[C_GeneratedCodeFiles#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#14)]  \n  \n You can use this WCF client class by creating a new instance of it and calling the methods it implements. Those methods invoke the service operation with which it is designed and configured to interact. For more information, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md).  \n  \n> [!NOTE]\n>  When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class.  \n  \n### Finding Data Types  \n To locate data types in the generated code, the most basic mechanism is to identify the type name specified in a contract and search the code for that type declaration. For example, the following contract specifies that the `SampleMethod` can return a SOAP fault of type `microsoft.wcf.documentation.SampleFault`.  \n  \n [!code-csharp[C_GeneratedCodeFiles#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#11)]  \n  \n Searching for `SampleFault` locates the following type declaration.  \n  \n [!code-csharp[C_GeneratedCodeFiles#30](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#30)]  \n  \n In this case the data type is the detail type thrown by a specific exception on the client, a <xref:System.ServiceModel.FaultException%601> where the detail type parameter is `microsoft.wcf.documentation.SampleFault`. For more information about data types, see [Specifying Data Transfer in Service Contracts](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md). For more information about handling exceptions in clients, see [Sending and Receiving Faults](../../../../docs/framework/wcf/sending-and-receiving-faults.md).  \n  \n### Finding Callback Contracts for Duplex Services  \n If you locate a service contract for which the contract interface specifies a value for the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> property, then that contract specifies a duplex contract. Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> or <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> used to communicate with the service. For more information about duplex clients, see [How to: Access Services with a Duplex Contract](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).  \n  \n The following contract specifies a callback contract of type `SampleDuplexHelloCallback`.  \n  \n [!code-csharp[C_GeneratedCodeFiles#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#2)]\n [!code-vb[C_GeneratedCodeFiles#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#2)]  \n  \n Searching for that callback contract locates the following interface that the client application must implement.  \n  \n [!code-csharp[C_GeneratedCodeFiles#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#4)]\n [!code-vb[C_GeneratedCodeFiles#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#4)]  \n  \n### Finding Service Contract Channel Interfaces  \n When using the <xref:System.ServiceModel.ChannelFactory> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to explicitly open, close, or abort the channel. To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast. The following code shows the definition of a helper client channel that implements the preceding service contract.  \n  \n [!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]  \n  \n## See also\n\n- [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md)\n","nodes":[{"pos":[4,153],"embed":true,"restype":"x-metadata","content":"title: \"Understanding Generated Client Code\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: c3f6e4b0-1131-4c94-aa39-a197c5c2f2ca","nodes":[{"content":"Understanding Generated Client Code","nodes":[{"pos":[0,35],"content":"Understanding Generated Client Code","nodes":[{"content":"Understanding Generated Client Code","pos":[0,35]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[160,195],"content":"Understanding Generated Client Code","linkify":"Understanding Generated Client Code","nodes":[{"content":"Understanding Generated Client Code","pos":[0,35]}]},{"content":"The <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> generates client code and a client application configuration file for use in building client applications.","pos":[196,439],"source":"The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) generates client code and a client application configuration file for use in building client applications."},{"content":"This topic provides a tour of generated code examples for standard service contract scenarios.","pos":[440,534]},{"content":"For more information about building a client application using the generated code, see <bpt id=\"p1\">[</bpt>WCF Client Overview<ept id=\"p1\">](../../../../docs/framework/wcf/wcf-client-overview.md)</ept>.","pos":[535,699],"source":" For more information about building a client application using the generated code, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md)."},{"pos":[708,716],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"content":"If you use Visual Studio to generate Windows Communication Foundation (WCF) client types for your project, you typically do not need to examine the generated client code.","pos":[720,890]},{"content":"If you are not using a development environment that performs the same services for you, you can use a tool such as Svcutil.exe to generate client code and then use that code to develop your client application.","pos":[891,1100]},{"content":"Because Svcutil.exe has a number of options that modify the generated type information, this topic does not discuss all scenarios.","pos":[1107,1237]},{"content":"However, the following standard tasks involve locating generated code:","pos":[1238,1308]},{"content":"Identifying service contract interfaces.","pos":[1318,1358]},{"content":"Identifying the WCF client class.","pos":[1368,1401]},{"content":"Identifying data types.","pos":[1411,1434]},{"content":"Identifying callback contracts for duplex services.","pos":[1444,1495]},{"content":"Identifying the helper service contract channel interface.","pos":[1505,1563]},{"pos":[1573,1608],"content":"Finding Service Contract Interfaces","linkify":"Finding Service Contract Interfaces","nodes":[{"content":"Finding Service Contract Interfaces","pos":[0,35]}]},{"content":"To locate the interfaces that model service contracts, search for interfaces that are marked with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType&gt;</ph> attribute.","pos":[1612,1805],"source":"To locate the interfaces that model service contracts, search for interfaces that are marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute."},{"content":"Often this attribute can be difficult to locate with a quick read due to the presence of other attributes and the explicit properties set on the attribute itself.","pos":[1806,1968]},{"content":"Remember that the service contract interface and the client contract interface are two different types.","pos":[1969,2072]},{"content":"The following code example shows the original service contract.","pos":[2073,2136]},{"content":"The following code example shows the same service contract as generated by Svcutil.exe.","pos":[2282,2369]},{"content":"You can use the generated service contract interface along with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType&gt;</ph> class to create a WCF channel object with which to invoke service operations.","pos":[2515,2731],"source":"You can use the generated service contract interface along with the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> class to create a WCF channel object with which to invoke service operations."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Use the ChannelFactory<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md)</ept>.","pos":[2732,2872],"source":" For more information, see [How to: Use the ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md)."},{"pos":[2882,2908],"content":"Finding WCF Client Classes","linkify":"Finding WCF Client Classes","nodes":[{"content":"Finding WCF Client Classes","pos":[0,26]}]},{"content":"To locate the WCF client class that implements the service contract you want to use, search for an extension of <ph id=\"ph1\">&lt;xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType&gt;</ph>, where the type parameter is the service contract interface that you previously located and that extends that interface.","pos":[2912,3215],"source":"To locate the WCF client class that implements the service contract you want to use, search for an extension of <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, where the type parameter is the service contract interface that you previously located and that extends that interface."},{"content":"The following code example shows the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ClientBase%601&gt;</ph> class of type <ph id=\"ph2\">`ISampleService`</ph>.","pos":[3216,3326],"source":" The following code example shows the <xref:System.ServiceModel.ClientBase%601> class of type `ISampleService`."},{"content":"You can use this WCF client class by creating a new instance of it and calling the methods it implements.","pos":[3472,3577]},{"content":"Those methods invoke the service operation with which it is designed and configured to interact.","pos":[3578,3674]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WCF Client Overview<ept id=\"p1\">](../../../../docs/framework/wcf/wcf-client-overview.md)</ept>.","pos":[3675,3778],"source":" For more information, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md)."},{"pos":[3786,3996],"content":"[!NOTE]\n When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class.","leadings":["","> "],"nodes":[{"content":"When SvcUtil.exe generates a WCF client class, it adds a <ph id=\"ph1\">&lt;xref:System.Diagnostics.DebuggerStepThroughAttribute&gt;</ph> to the client class that prevents debuggers from stepping through the WCF client class.","pos":[9,208],"source":"When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class."}]},{"pos":[4006,4024],"content":"Finding Data Types","linkify":"Finding Data Types","nodes":[{"content":"Finding Data Types","pos":[0,18]}]},{"content":"To locate data types in the generated code, the most basic mechanism is to identify the type name specified in a contract and search the code for that type declaration.","pos":[4028,4196]},{"content":"For example, the following contract specifies that the <ph id=\"ph1\">`SampleMethod`</ph> can return a SOAP fault of type <ph id=\"ph2\">`microsoft.wcf.documentation.SampleFault`</ph>.","pos":[4197,4341],"source":" For example, the following contract specifies that the `SampleMethod` can return a SOAP fault of type `microsoft.wcf.documentation.SampleFault`."},{"pos":[4487,4554],"content":"Searching for <ph id=\"ph1\">`SampleFault`</ph> locates the following type declaration.","source":"Searching for `SampleFault` locates the following type declaration."},{"content":"In this case the data type is the detail type thrown by a specific exception on the client, a <ph id=\"ph1\">&lt;xref:System.ServiceModel.FaultException%601&gt;</ph> where the detail type parameter is <ph id=\"ph2\">`microsoft.wcf.documentation.SampleFault`</ph>.","pos":[4700,4917],"source":"In this case the data type is the detail type thrown by a specific exception on the client, a <xref:System.ServiceModel.FaultException%601> where the detail type parameter is `microsoft.wcf.documentation.SampleFault`."},{"content":"For more information about data types, see <bpt id=\"p1\">[</bpt>Specifying Data Transfer in Service Contracts<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)</ept>.","pos":[4918,5106],"source":" For more information about data types, see [Specifying Data Transfer in Service Contracts](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)."},{"content":"For more information about handling exceptions in clients, see <bpt id=\"p1\">[</bpt>Sending and Receiving Faults<ept id=\"p1\">](../../../../docs/framework/wcf/sending-and-receiving-faults.md)</ept>.","pos":[5107,5265],"source":" For more information about handling exceptions in clients, see [Sending and Receiving Faults](../../../../docs/framework/wcf/sending-and-receiving-faults.md)."},{"pos":[5275,5321],"content":"Finding Callback Contracts for Duplex Services","linkify":"Finding Callback Contracts for Duplex Services","nodes":[{"content":"Finding Callback Contracts for Duplex Services","pos":[0,46]}]},{"content":"If you locate a service contract for which the contract interface specifies a value for the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType&gt;</ph> property, then that contract specifies a duplex contract.","pos":[5325,5575],"source":"If you locate a service contract for which the contract interface specifies a value for the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> property, then that contract specifies a duplex contract."},{"content":"Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <ph id=\"ph1\">&lt;xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType&gt;</ph> used to communicate with the service.","pos":[5576,5929],"source":" Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> or <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> used to communicate with the service."},{"content":"For more information about duplex clients, see <bpt id=\"p1\">[</bpt>How to: Access Services with a Duplex Contract<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md)</ept>.","pos":[5930,6123],"source":" For more information about duplex clients, see [How to: Access Services with a Duplex Contract](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md)."},{"pos":[6130,6219],"content":"The following contract specifies a callback contract of type <ph id=\"ph1\">`SampleDuplexHelloCallback`</ph>.","source":"The following contract specifies a callback contract of type `SampleDuplexHelloCallback`."},{"content":"Searching for that callback contract locates the following interface that the client application must implement.","pos":[6508,6620]},{"pos":[6912,6955],"content":"Finding Service Contract Channel Interfaces","linkify":"Finding Service Contract Channel Interfaces","nodes":[{"content":"Finding Service Contract Channel Interfaces","pos":[0,43]}]},{"content":"When using the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory&gt;</ph> class with a service contract interface, you must cast to the <ph id=\"ph2\">&lt;xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType&gt;</ph> interface to explicitly open, close, or abort the channel.","pos":[6959,7207],"source":"When using the <xref:System.ServiceModel.ChannelFactory> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to explicitly open, close, or abort the channel."},{"content":"To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <ph id=\"ph1\">&lt;xref:System.ServiceModel.IClientChannel&gt;</ph> to enable you to interact with the client channel infrastructure without having to cast.","pos":[7208,7481],"source":" To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast."},{"content":"The following code shows the definition of a helper client channel that implements the preceding service contract.","pos":[7482,7596]},{"pos":[7744,7752],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7756,7832],"content":"<bpt id=\"p1\">[</bpt>WCF Client Overview<ept id=\"p1\">](../../../../docs/framework/wcf/wcf-client-overview.md)</ept>","source":"[WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md)"}]}