{"content":"---\ntitle: \"Summary of the DataSet Schema Inference Process\"\nms.date: \"03/30/2017\"\nms.assetid: fd0891c8-d068-4e30-a76f-7c375f078bf7\n---\n# Summary of the DataSet Schema Inference Process\nThe inference process first determines, from the XML document, which elements will be inferred as tables. From the remaining XML, the inference process determines the columns for those tables. For nested tables, the inference process generates nested <xref:System.Data.DataRelation> and <xref:System.Data.ForeignKeyConstraint> objects.  \n  \n Following is a brief summary of inference rules:  \n  \n-   Elements that have attributes are inferred as tables.  \n  \n-   Elements that have child elements are inferred as tables.  \n  \n-   Elements that repeat are inferred as a single table.  \n  \n-   If the document, or root, element has no attributes, and no child elements that would be inferred as columns, it is inferred as a <xref:System.Data.DataSet>. Otherwise, the document element is inferred as a table.  \n  \n-   Attributes are inferred as columns.  \n  \n-   Elements that have no attributes or child elements, and that do not repeat, are inferred as columns.  \n  \n-   For elements that are inferred as nested tables within other elements that are also inferred as tables, a nested **DataRelation** is created between the two tables. A new, primary key column named **TableName_Id** is added to both tables and used by the **DataRelation**. A **ForeignKeyConstraint** is created between the two tables using the **TableName_Id** column.  \n  \n-   For elements that are inferred as tables and that contain text but have no child elements, a new column named **TableName_Text** is created for the text of each of the elements. If an element is inferred as a table and has text, but also has child elements, the text is ignored.  \n  \n## See also\n\n- [Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)\n- [Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)\n- [Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)\n- [Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)\n- [DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,131],"embed":true,"restype":"x-metadata","content":"title: \"Summary of the DataSet Schema Inference Process\"\nms.date: \"03/30/2017\"\nms.assetid: fd0891c8-d068-4e30-a76f-7c375f078bf7","nodes":[{"content":"Summary of the DataSet Schema Inference Process","nodes":[{"pos":[0,47],"content":"Summary of the DataSet Schema Inference Process","nodes":[{"content":"Summary of the DataSet Schema Inference Process","pos":[0,47]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[138,185],"content":"Summary of the DataSet Schema Inference Process","linkify":"Summary of the DataSet Schema Inference Process","nodes":[{"content":"Summary of the DataSet Schema Inference Process","pos":[0,47]}]},{"content":"The inference process first determines, from the XML document, which elements will be inferred as tables.","pos":[186,291]},{"content":"From the remaining XML, the inference process determines the columns for those tables.","pos":[292,378]},{"content":"For nested tables, the inference process generates nested <ph id=\"ph1\">&lt;xref:System.Data.DataRelation&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Data.ForeignKeyConstraint&gt;</ph> objects.","pos":[379,521],"source":" For nested tables, the inference process generates nested <xref:System.Data.DataRelation> and <xref:System.Data.ForeignKeyConstraint> objects."},{"content":"Following is a brief summary of inference rules:","pos":[528,576]},{"content":"Elements that have attributes are inferred as tables.","pos":[586,639]},{"content":"Elements that have child elements are inferred as tables.","pos":[649,706]},{"content":"Elements that repeat are inferred as a single table.","pos":[716,768]},{"content":"If the document, or root, element has no attributes, and no child elements that would be inferred as columns, it is inferred as a <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph>.","pos":[778,935],"source":"If the document, or root, element has no attributes, and no child elements that would be inferred as columns, it is inferred as a <xref:System.Data.DataSet>."},{"content":"Otherwise, the document element is inferred as a table.","pos":[936,991]},{"content":"Attributes are inferred as columns.","pos":[1001,1036]},{"content":"Elements that have no attributes or child elements, and that do not repeat, are inferred as columns.","pos":[1046,1146]},{"content":"For elements that are inferred as nested tables within other elements that are also inferred as tables, a nested <bpt id=\"p1\">**</bpt>DataRelation<ept id=\"p1\">**</ept> is created between the two tables.","pos":[1156,1320],"source":"For elements that are inferred as nested tables within other elements that are also inferred as tables, a nested **DataRelation** is created between the two tables."},{"content":"A new, primary key column named <bpt id=\"p1\">**</bpt>TableName_Id<ept id=\"p1\">**</ept> is added to both tables and used by the <bpt id=\"p2\">**</bpt>DataRelation<ept id=\"p2\">**</ept>.","pos":[1321,1427],"source":" A new, primary key column named **TableName_Id** is added to both tables and used by the **DataRelation**."},{"content":"A <bpt id=\"p1\">**</bpt>ForeignKeyConstraint<ept id=\"p1\">**</ept> is created between the two tables using the <bpt id=\"p2\">**</bpt>TableName_Id<ept id=\"p2\">**</ept> column.","pos":[1428,1523],"source":" A **ForeignKeyConstraint** is created between the two tables using the **TableName_Id** column."},{"content":"For elements that are inferred as tables and that contain text but have no child elements, a new column named <bpt id=\"p1\">**</bpt>TableName_Text<ept id=\"p1\">**</ept> is created for the text of each of the elements.","pos":[1533,1710],"source":"For elements that are inferred as tables and that contain text but have no child elements, a new column named **TableName_Text** is created for the text of each of the elements."},{"content":"If an element is inferred as a table and has text, but also has child elements, the text is ignored.","pos":[1711,1811]},{"pos":[1820,1828],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1832,2002],"content":"<bpt id=\"p1\">[</bpt>Inferring DataSet Relational Structure from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)</ept>","source":"[Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)"},{"pos":[2005,2133],"content":"<bpt id=\"p1\">[</bpt>Loading a DataSet from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)</ept>","source":"[Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)"},{"pos":[2136,2298],"content":"<bpt id=\"p1\">[</bpt>Loading DataSet Schema Information from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)</ept>","source":"[Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)"},{"pos":[2301,2421],"content":"<bpt id=\"p1\">[</bpt>Using XML in a DataSet<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)</ept>","source":"[Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)"},{"pos":[2424,2540],"content":"<bpt id=\"p1\">[</bpt>DataSets, DataTables, and DataViews<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)</ept>","source":"[DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)"},{"pos":[2543,2647],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}