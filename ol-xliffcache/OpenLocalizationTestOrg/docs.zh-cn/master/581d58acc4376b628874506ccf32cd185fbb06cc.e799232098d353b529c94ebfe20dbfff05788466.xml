{"content":"---\ntitle: \"How to: Import Metadata into Service Endpoints | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: b69dbe20-92a1-4911-89d8-ffbc3dad4663\ncaps.latest.revision: 13\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Import Metadata into Service Endpoints\nThis topic explains how to import metadata into a collection of service endpoints and use the service defined in the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md). This topic show how to create a client application that imports metadata from the service and then calls the `Add` method on the service.  \n  \n### To import metadata into service endpoints  \n  \n1.  Declare an <xref:System.ServiceModel.EndpointAddress> object and initialize it with the Uniform Resource Identifier (URI) for the metadata exchange (MEX) address of the service.  \n  \n     [!code-csharp[UE_ImportMetadata#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#0)]  \n  \n2.  Create a <xref:System.ServiceModel.Description.MetadataExchangeClient>, passing in the MEX address, and call <xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A>. This retrieves the metadata from the service.  \n  \n     [!code-csharp[UE_ImportMetadata#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#1)]  \n  \n3.  Create a <xref:System.ServiceModel.Description.WsdlImporter>, passing in the metadata previously retrieved, and call <xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A>. This generates a collection of <xref:System.ServiceModel.Description.ContractDescription> objects. You could also call <xref:System.ServiceModel.Description.WsdlImporter.ImportAllEndpoints%2A> or <xref:System.ServiceModel.Description.WsdlImporter.ImportAllBindings%2A>, depending upon your needs.  \n  \n     [!code-csharp[UE_ImportMetadata#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#2)]  \n  \n    > [!NOTE]\n    >  After you have imported the metadata, you will not be able to create a client channel or export the metadata. This is because no type information is available at this point. Type information is required to actually interact with the service or export metadata. To generate the type information, you need to generate code, shown in steps 4 and 5. Alternatively, you could use the <xref:System.ServiceModel.Description.MetadataResolver> helper class. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Use MetadataResolver to Obtain Binding Metadata Dynamically](../../../../docs/framework/wcf/feature-details/how-to-use-metadataresolver-to-obtain-binding-metadata-dynamically.md).  \n  \n4.  Generate type information for each contract.  \n  \n     [!code-csharp[UE_ImportMetadata#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#3)]  \n  \n5.  Now you can use this information. The following sample generates C# source code.  \n  \n     [!code-csharp[UE_ImportMetadata#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#4)]  \n  \n## See Also  \n [Metadata](../../../../docs/framework/wcf/feature-details/metadata.md)   \n [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md)","nodes":[{"pos":[4,367],"nodes":[{"content":"How to: Import Metadata into Service Endpoints | Microsoft Docs","nodes":[{"pos":[0,63],"content":"How to: Import Metadata into Service Endpoints | Microsoft Docs","nodes":[{"content":"How to: Import Metadata into Service Endpoints | Microsoft Docs","pos":[0,63]}]}],"pos":[6,72],"yaml":true}],"content":"title: \"How to: Import Metadata into Service Endpoints | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: b69dbe20-92a1-4911-89d8-ffbc3dad4663\ncaps.latest.revision: 13\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","yamlblock":true},{"pos":[374,420],"content":"How to: Import Metadata into Service Endpoints","linkify":"How to: Import Metadata into Service Endpoints","nodes":[{"content":"How to: Import Metadata into Service Endpoints","pos":[0,46]}]},{"content":"This topic explains how to import metadata into a collection of service endpoints and use the service defined in the <bpt id=\"p1\">[</bpt>Getting Started<ept id=\"p1\">](../../../../docs/framework/wcf/samples/getting-started-sample.md)</ept>.","pos":[421,622],"source":"This topic explains how to import metadata into a collection of service endpoints and use the service defined in the [Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md)."},{"content":"This topic show how to create a client application that imports metadata from the service and then calls the <ph id=\"ph1\">`Add`</ph> method on the service.","pos":[623,760],"source":" This topic show how to create a client application that imports metadata from the service and then calls the `Add` method on the service."},{"pos":[770,811],"content":"To import metadata into service endpoints","linkify":"To import metadata into service endpoints","nodes":[{"content":"To import metadata into service endpoints","pos":[0,41]}]},{"content":"Declare an <ph id=\"ph1\">&lt;xref:System.ServiceModel.EndpointAddress&gt;</ph> object and initialize it with the Uniform Resource Identifier (URI) for the metadata exchange (MEX) address of the service.","pos":[821,998],"source":"Declare an <xref:System.ServiceModel.EndpointAddress> object and initialize it with the Uniform Resource Identifier (URI) for the metadata exchange (MEX) address of the service."},{"pos":[1009,1130],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>UE_ImportMetadata#0<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#0)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[UE_ImportMetadata#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#0)]"},{"content":"Create a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.MetadataExchangeClient&gt;</ph>, passing in the MEX address, and call <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A&gt;</ph>.","pos":[1140,1326],"source":"Create a <xref:System.ServiceModel.Description.MetadataExchangeClient>, passing in the MEX address, and call <xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A>."},{"content":"This retrieves the metadata from the service.","pos":[1327,1372]},{"pos":[1383,1504],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>UE_ImportMetadata#1<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#1)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[UE_ImportMetadata#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#1)]"},{"content":"Create a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.WsdlImporter&gt;</ph>, passing in the metadata previously retrieved, and call <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A&gt;</ph>.","pos":[1514,1705],"source":"Create a <xref:System.ServiceModel.Description.WsdlImporter>, passing in the metadata previously retrieved, and call <xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A>."},{"content":"This generates a collection of <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ContractDescription&gt;</ph> objects.","pos":[1706,1804],"source":" This generates a collection of <xref:System.ServiceModel.Description.ContractDescription> objects."},{"content":"You could also call <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.WsdlImporter.ImportAllEndpoints%2A&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WsdlImporter.ImportAllBindings%2A&gt;</ph>, depending upon your needs.","pos":[1805,2002],"source":" You could also call <xref:System.ServiceModel.Description.WsdlImporter.ImportAllEndpoints%2A> or <xref:System.ServiceModel.Description.WsdlImporter.ImportAllBindings%2A>, depending upon your needs."},{"pos":[2013,2134],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>UE_ImportMetadata#2<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#2)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[UE_ImportMetadata#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#2)]"},{"pos":[2146,2857],"content":"[!NOTE]\nAfter you have imported the metadata, you will not be able to create a client channel or export the metadata. This is because no type information is available at this point. Type information is required to actually interact with the service or export metadata. To generate the type information, you need to generate code, shown in steps 4 and 5. Alternatively, you could use the <xref:System.ServiceModel.Description.MetadataResolver> helper class. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Use MetadataResolver to Obtain Binding Metadata Dynamically](../../../../docs/framework/wcf/feature-details/how-to-use-metadataresolver-to-obtain-binding-metadata-dynamically.md).","leadings":["","    >  "],"nodes":[{"content":"After you have imported the metadata, you will not be able to create a client channel or export the metadata. This is because no type information is available at this point. Type information is required to actually interact with the service or export metadata. To generate the type information, you need to generate code, shown in steps 4 and 5. Alternatively, you could use the <xref:System.ServiceModel.Description.MetadataResolver> helper class. [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Use MetadataResolver to Obtain Binding Metadata Dynamically](../../../../docs/framework/wcf/feature-details/how-to-use-metadataresolver-to-obtain-binding-metadata-dynamically.md).","pos":[8,704],"nodes":[{"content":"After you have imported the metadata, you will not be able to create a client channel or export the metadata.","pos":[0,109]},{"content":"This is because no type information is available at this point.","pos":[110,173]},{"content":"Type information is required to actually interact with the service or export metadata.","pos":[174,260]},{"content":"To generate the type information, you need to generate code, shown in steps 4 and 5.","pos":[261,345]},{"content":"Alternatively, you could use the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.MetadataResolver&gt;</ph> helper class.","pos":[346,448],"source":" Alternatively, you could use the <xref:System.ServiceModel.Description.MetadataResolver> helper class."},{"content":"<ph id=\"ph1\">[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]</ph><bpt id=\"p1\">[</bpt>How to: Use MetadataResolver to Obtain Binding Metadata Dynamically<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-use-metadataresolver-to-obtain-binding-metadata-dynamically.md)</ept>.","pos":[449,696],"source":"[!INCLUDE[crdefault](../../../../includes/crdefault-md.md)][How to: Use MetadataResolver to Obtain Binding Metadata Dynamically](../../../../docs/framework/wcf/feature-details/how-to-use-metadataresolver-to-obtain-binding-metadata-dynamically.md)."}]}]},{"content":"Generate type information for each contract.","pos":[2867,2911]},{"pos":[2922,3043],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>UE_ImportMetadata#3<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#3)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[UE_ImportMetadata#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#3)]"},{"content":"Now you can use this information.","pos":[3053,3086]},{"content":"The following sample generates C# source code.","pos":[3087,3133]},{"pos":[3144,3265],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>UE_ImportMetadata#4<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#4)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[UE_ImportMetadata#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/ue_importmetadata/cs/client.cs#4)]"},{"pos":[3274,3282],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Metadata<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/metadata.md)</ept><ph id=\"ph1\"> </ph>","pos":[3286,3357],"source":"[Metadata](../../../../docs/framework/wcf/feature-details/metadata.md) "},{"content":"<bpt id=\"p1\">[</bpt>Getting Started<ept id=\"p1\">](../../../../docs/framework/wcf/samples/getting-started-sample.md)</ept>","pos":[3361,3444],"source":"[Getting Started](../../../../docs/framework/wcf/samples/getting-started-sample.md)"}]}