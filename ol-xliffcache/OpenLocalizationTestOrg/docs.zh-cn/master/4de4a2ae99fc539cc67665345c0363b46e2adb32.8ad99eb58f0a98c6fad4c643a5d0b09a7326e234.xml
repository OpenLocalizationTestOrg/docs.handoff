{"content":"---\ntitle: \"How to: Serialize an Object as a SOAP-Encoded XML Stream | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"SOAP, XML serialization\"\n  - \"XML serialization, SOAP\"\n  - \"serialization, SOAP\"\nms.assetid: af406e0a-fa3a-46dd-a7ba-c80731eba3a0\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# How to: Serialize an Object as a SOAP-Encoded XML Stream\n[Code Example](#cpconxmlserializationusingsoapprotocolanchor1)  \n  \n Because a SOAP message is built using XML, the [XmlSerializer](https://msdn.microsoft.com/library/system.xml.serialization.xmlserializer.aspx) can be used to serialize classes and generate encoded SOAP messages. The resulting XML conforms to section 5 of the World Wide Web Consortium (www.w3.org) document \"Simple Object Access Protocol (SOAP) 1.1\". When you are creating an XML Web service that communicates through SOAP messages, you can customize the XML stream by applying a set of special SOAP attributes to classes and members of classes. For a list of attributes, see [Attributes That Control Encoded SOAP Serialization](../../../docs/framework/serialization/attributes-that-control-encoded-soap-serialization.md).  \n  \n### To serialize an object as a SOAP-encoded XML stream  \n  \n1.  Create the class using the [XML Schema Definition Tool (Xsd.exe)](../../../docs/framework/serialization/xml-schema-definition-tool-xsd-exe.md).  \n  \n2.  Apply one or more of the special attributes found in `System.Xml.Serialization`. See the list in \"Attributes That Control Encoded SOAP Serialization.\"  \n  \n3.  Create an `XmlTypeMapping` by creating a new `SoapReflectionImporter`, and invoking the `ImportTypeMapping` method with the type of the serialized class.  \n  \n     The following code example calls the `ImportTypeMapping` method of the `SoapReflectionImporter` class to create an `XmlTypeMapping`.  \n  \n    ```vb  \n    ' Serializes a class named Group as a SOAP message.  \n    Dim myTypeMapping As XmlTypeMapping = (New SoapReflectionImporter(). _  \n    ImportTypeMapping(GetType(Group))  \n  \n    ```  \n  \n    ```csharp  \n    // Serializes a class named Group as a SOAP message.  \n    XmlTypeMapping myTypeMapping = (new SoapReflectionImporter().  \n    ImportTypeMapping(typeof(Group));  \n    ```  \n  \n4.  Create an instance of the `XmlSerializer` class by passing the `XmlTypeMapping` to the <xref:System.Xml.Serialization.XmlSerializer.%23ctor%28System.Xml.Serialization.XmlTypeMapping%29> constructor.  \n  \n    ```vb  \n    Dim mySerializer As XmlSerializer = New XmlSerializer(myTypeMapping)  \n  \n    ```  \n  \n    ```csharp  \n    XmlSerializer mySerializer = new XmlSerializer(myTypeMapping);  \n    ```  \n  \n5.  Call the `Serialize` or `Deserialize` method.  \n  \n## Example  \n  \n```vb  \n' Serializes a class named Group as a SOAP message.  \nDim myTypeMapping As XmlTypeMapping = (New SoapReflectionImporter(). _  \nImportTypeMapping(GetType(Group))  \nDim mySerializer As XmlSerializer = New XmlSerializer(myTypeMapping)  \n  \n```  \n  \n```csharp  \n// Serializes a class named Group as a SOAP message.  \nXmlTypeMapping myTypeMapping = (new SoapReflectionImporter().ImportTypeMapping(typeof(Group));  \nXmlSerializer mySerializer = new XmlSerializer(myTypeMapping);  \n```  \n  \n## See Also  \n [XML and SOAP Serialization](../../../docs/framework/serialization/xml-and-soap-serialization.md)   \n [Attributes That Control Encoded SOAP Serialization](../../../docs/framework/serialization/attributes-that-control-encoded-soap-serialization.md)   \n [XML Serialization with XML Web Services](../../../docs/framework/serialization/xml-serialization-with-xml-web-services.md)   \n [How to: Serialize an Object](../../../docs/framework/serialization/how-to-serialize-an-object.md)   \n [How to: Deserialize an Object](../../../docs/framework/serialization/how-to-deserialize-an-object.md)   \n [How to: Override Encoded SOAP XML Serialization](../../../docs/framework/serialization/how-to-override-encoded-soap-xml-serialization.md)","nodes":[{"pos":[4,508],"nodes":[{"content":"How to: Serialize an Object as a SOAP-Encoded XML Stream | Microsoft Docs","nodes":[{"pos":[0,73],"content":"How to: Serialize an Object as a SOAP-Encoded XML Stream | Microsoft Docs","nodes":[{"content":"How to: Serialize an Object as a SOAP-Encoded XML Stream | Microsoft Docs","pos":[0,73]}]}],"pos":[6,82],"yaml":true}],"content":"title: \"How to: Serialize an Object as a SOAP-Encoded XML Stream | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"SOAP, XML serialization\"\n  - \"XML serialization, SOAP\"\n  - \"serialization, SOAP\"\nms.assetid: af406e0a-fa3a-46dd-a7ba-c80731eba3a0\ncaps.latest.revision: 6\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","yamlblock":true},{"pos":[515,571],"content":"How to: Serialize an Object as a SOAP-Encoded XML Stream","linkify":"How to: Serialize an Object as a SOAP-Encoded XML Stream","nodes":[{"content":"How to: Serialize an Object as a SOAP-Encoded XML Stream","pos":[0,56]}]},{"pos":[572,634],"content":"<bpt id=\"p1\">[</bpt>Code Example<ept id=\"p1\">](#cpconxmlserializationusingsoapprotocolanchor1)</ept>","source":"[Code Example](#cpconxmlserializationusingsoapprotocolanchor1)"},{"content":"Because a SOAP message is built using XML, the <bpt id=\"p1\">[</bpt>XmlSerializer<ept id=\"p1\">](https://msdn.microsoft.com/library/system.xml.serialization.xmlserializer.aspx)</ept> can be used to serialize classes and generate encoded SOAP messages.","pos":[641,852],"source":"Because a SOAP message is built using XML, the [XmlSerializer](https://msdn.microsoft.com/library/system.xml.serialization.xmlserializer.aspx) can be used to serialize classes and generate encoded SOAP messages."},{"content":"The resulting XML conforms to section 5 of the World Wide Web Consortium (www.w3.org) document \"Simple Object Access Protocol (SOAP) 1.1\".","pos":[853,991]},{"content":"When you are creating an XML Web service that communicates through SOAP messages, you can customize the XML stream by applying a set of special SOAP attributes to classes and members of classes.","pos":[992,1186]},{"content":"For a list of attributes, see <bpt id=\"p1\">[</bpt>Attributes That Control Encoded SOAP Serialization<ept id=\"p1\">](../../../docs/framework/serialization/attributes-that-control-encoded-soap-serialization.md)</ept>.","pos":[1187,1363],"source":" For a list of attributes, see [Attributes That Control Encoded SOAP Serialization](../../../docs/framework/serialization/attributes-that-control-encoded-soap-serialization.md)."},{"pos":[1373,1424],"content":"To serialize an object as a SOAP-encoded XML stream","linkify":"To serialize an object as a SOAP-encoded XML stream","nodes":[{"content":"To serialize an object as a SOAP-encoded XML stream","pos":[0,51]}]},{"pos":[1434,1577],"content":"Create the class using the <bpt id=\"p1\">[</bpt>XML Schema Definition Tool (Xsd.exe)<ept id=\"p1\">](../../../docs/framework/serialization/xml-schema-definition-tool-xsd-exe.md)</ept>.","source":"Create the class using the [XML Schema Definition Tool (Xsd.exe)](../../../docs/framework/serialization/xml-schema-definition-tool-xsd-exe.md)."},{"content":"Apply one or more of the special attributes found in <ph id=\"ph1\">`System.Xml.Serialization`</ph>.","pos":[1587,1667],"source":"Apply one or more of the special attributes found in `System.Xml.Serialization`."},{"content":"See the list in \"Attributes That Control Encoded SOAP Serialization.\"","pos":[1668,1737]},{"pos":[1747,1900],"content":"Create an <ph id=\"ph1\">`XmlTypeMapping`</ph> by creating a new <ph id=\"ph2\">`SoapReflectionImporter`</ph>, and invoking the <ph id=\"ph3\">`ImportTypeMapping`</ph> method with the type of the serialized class.","source":"Create an `XmlTypeMapping` by creating a new `SoapReflectionImporter`, and invoking the `ImportTypeMapping` method with the type of the serialized class."},{"pos":[1911,2043],"content":"The following code example calls the <ph id=\"ph1\">`ImportTypeMapping`</ph> method of the <ph id=\"ph2\">`SoapReflectionImporter`</ph> class to create an <ph id=\"ph3\">`XmlTypeMapping`</ph>.","source":"The following code example calls the `ImportTypeMapping` method of the `SoapReflectionImporter` class to create an `XmlTypeMapping`."},{"pos":[2452,2650],"content":"Create an instance of the <ph id=\"ph1\">`XmlSerializer`</ph> class by passing the <ph id=\"ph2\">`XmlTypeMapping`</ph> to the <ph id=\"ph3\">&lt;xref:System.Xml.Serialization.XmlSerializer.%23ctor%28System.Xml.Serialization.XmlTypeMapping%29&gt;</ph> constructor.","source":"Create an instance of the `XmlSerializer` class by passing the `XmlTypeMapping` to the <xref:System.Xml.Serialization.XmlSerializer.%23ctor%28System.Xml.Serialization.XmlTypeMapping%29> constructor."},{"pos":[2861,2906],"content":"Call the <ph id=\"ph1\">`Serialize`</ph> or <ph id=\"ph2\">`Deserialize`</ph> method.","source":"Call the `Serialize` or `Deserialize` method."},{"pos":[2915,2922],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3423,3431],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>XML and SOAP Serialization<ept id=\"p1\">](../../../docs/framework/serialization/xml-and-soap-serialization.md)</ept><ph id=\"ph1\"> </ph>","pos":[3435,3533],"source":"[XML and SOAP Serialization](../../../docs/framework/serialization/xml-and-soap-serialization.md) "},{"content":"<bpt id=\"p1\">[</bpt>Attributes That Control Encoded SOAP Serialization<ept id=\"p1\">](../../../docs/framework/serialization/attributes-that-control-encoded-soap-serialization.md)</ept><ph id=\"ph1\"> </ph>","pos":[3537,3683],"source":"[Attributes That Control Encoded SOAP Serialization](../../../docs/framework/serialization/attributes-that-control-encoded-soap-serialization.md) "},{"content":"<bpt id=\"p1\">[</bpt>XML Serialization with XML Web Services<ept id=\"p1\">](../../../docs/framework/serialization/xml-serialization-with-xml-web-services.md)</ept><ph id=\"ph1\"> </ph>","pos":[3687,3811],"source":"[XML Serialization with XML Web Services](../../../docs/framework/serialization/xml-serialization-with-xml-web-services.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Serialize an Object<ept id=\"p1\">](../../../docs/framework/serialization/how-to-serialize-an-object.md)</ept><ph id=\"ph1\"> </ph>","pos":[3815,3914],"source":"[How to: Serialize an Object](../../../docs/framework/serialization/how-to-serialize-an-object.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Deserialize an Object<ept id=\"p1\">](../../../docs/framework/serialization/how-to-deserialize-an-object.md)</ept><ph id=\"ph1\"> </ph>","pos":[3918,4021],"source":"[How to: Deserialize an Object](../../../docs/framework/serialization/how-to-deserialize-an-object.md) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Override Encoded SOAP XML Serialization<ept id=\"p1\">](../../../docs/framework/serialization/how-to-override-encoded-soap-xml-serialization.md)</ept>","pos":[4025,4163],"source":"[How to: Override Encoded SOAP XML Serialization](../../../docs/framework/serialization/how-to-override-encoded-soap-xml-serialization.md)"}]}