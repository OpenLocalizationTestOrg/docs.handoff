{"content":"---\ntitle: \"Mitigation: Product Versioning | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 1c4de9d7-9aba-427a-8f38-0ab9bfb8f85e\ncaps.latest.revision: 15\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Mitigation: Product Versioning\nIn the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] and later, product versioning has changed from the previous releases of the .NET Framework (the .NET Framework 4, 4.5, 4.5.1, and 4.5.2).  \n  \n## Product versioning changes  \n The following are the detailed changes:  \n  \n-   The value of the `Version` entry in the `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP\\v4\\Full` key has changed to `4.6.`*xxxxx* for the .NET Framework 4.6 and its point releases, and to `4.7.`*xxxxx* for the .NET Framework 4.7. In the .NET Framework 4.5, 4.5.1, and 4.5.2, it had the format `4.5.`*xxxxx*.  \n  \n-   The file and product versioning for .NET Framework files has changed from the earlier versioning scheme of `4.0.30319.x` to `4.6.X.0` for the .NET Framework 4.6 and its point releases, and to `4.7.X.0` for the .NET Framework 4.7 and its point releases. You can see these new values when you view the file's **Properties** after right-clicking on a file.  \n  \n-   The <xref:System.Reflection.AssemblyFileVersionAttribute> and <xref:System.Reflection.AssemblyInformationalVersionAttribute> attributes for managed assemblies have <xref:System.Version> values in the form `4.6.X.0` for the .NET Framework 4.6 and its point releases, and `4.7.X.0` for the .NET Framework 4.7.  \n  \n-   In the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)], 4.6.1, 4.6.2, and 4.7, the <xref:System.Environment.Version%2A?displayProperty=fullName> property returns the fixed version string `4.0.30319.42000`. In the .NET Framework 4, 4.5, 4.5.1, and 4.5.2, it returns version strings in the format `4.0.30319.xxxxx` (for example, \"4.0.30319.18010\"). Note that we do not recommend application code taking any new dependency on the <xref:System.Environment.Version%2A?displayProperty=fullName> property.  \n  \n### Handling the product versioning changes  \n In general, applications should depend on the recommended techniques for detecting such things as the runtime version of the .NET Framework and the installation directory:  \n  \n-   To detect the runtime version of the .NET Framework, see [How to: Determine Which .NET Framework Versions Are Installed](../../../docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md).  \n  \n-   To determine the installation path for the .NET Framework, use the value of the `InstallPath` entry in the `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP\\v4\\Full` key.  \n  \n    > [!IMPORTANT]\n    >  The subkey name is `NET Framework Setup`, not `.NET Framework Setup`.  \n  \n-   To determine the directory path to the .NET Framework common language runtime, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetRuntimeDirectory%2A?displayProperty=fullName> method.  \n  \n-   To get the CLR version, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetSystemVersion%2A?displayProperty=fullName> method.   For the .NET Framework 4 and its point releases (the .NET Framework 4.5, 4.5.1, 4.5.2, and [!INCLUDE[net_v46](../../../includes/net-v46-md.md)], 4.6.1, 4.6.2, and 4.7), it returns the string `v4.0.30319`.  \n  \n## See Also  \n [Runtime Changes](../../../docs/framework/migration-guide/runtime-changes-in-the-net-framework-4-6.md)\n ","nodes":[{"pos":[12,59],"content":"Mitigation: Product Versioning | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Mitigation: Product Versioning | Microsoft Docs","pos":[0,47]}]},{"pos":[363,393],"content":"Mitigation: Product Versioning","linkify":"Mitigation: Product Versioning","nodes":[{"content":"Mitigation: Product Versioning","pos":[0,30]}]},{"pos":[394,591],"content":"In the <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph> and later, product versioning has changed from the previous releases of the .NET Framework (the .NET Framework 4, 4.5, 4.5.1, and 4.5.2).","source":"In the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)] and later, product versioning has changed from the previous releases of the .NET Framework (the .NET Framework 4, 4.5, 4.5.1, and 4.5.2)."},{"pos":[600,626],"content":"Product versioning changes","linkify":"Product versioning changes","nodes":[{"content":"Product versioning changes","pos":[0,26]}]},{"content":"The following are the detailed changes:","pos":[630,669]},{"content":"The value of the <ph id=\"ph1\">`Version`</ph> entry in the <ph id=\"ph2\">`HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP\\v4\\Full`</ph> key has changed to <ph id=\"ph3\">`4.6.`</ph><bpt id=\"p1\">*</bpt>xxxxx<ept id=\"p1\">*</ept> for the .NET Framework 4.6 and its point releases, and to <ph id=\"ph4\">`4.7.`</ph><bpt id=\"p2\">*</bpt>xxxxx<ept id=\"p2\">*</ept> for the .NET Framework 4.7.","pos":[679,923],"source":"The value of the `Version` entry in the `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP\\v4\\Full` key has changed to `4.6.`*xxxxx* for the .NET Framework 4.6 and its point releases, and to `4.7.`*xxxxx* for the .NET Framework 4.7."},{"content":"In the .NET Framework 4.5, 4.5.1, and 4.5.2, it had the format <ph id=\"ph1\">`4.5.`</ph><bpt id=\"p1\">*</bpt>xxxxx<ept id=\"p1\">*</ept>.","pos":[924,1001],"source":" In the .NET Framework 4.5, 4.5.1, and 4.5.2, it had the format `4.5.`*xxxxx*."},{"content":"The file and product versioning for .NET Framework files has changed from the earlier versioning scheme of <ph id=\"ph1\">`4.0.30319.x`</ph> to <ph id=\"ph2\">`4.6.X.0`</ph> for the .NET Framework 4.6 and its point releases, and to <ph id=\"ph3\">`4.7.X.0`</ph> for the .NET Framework 4.7 and its point releases.","pos":[1011,1263],"source":"The file and product versioning for .NET Framework files has changed from the earlier versioning scheme of `4.0.30319.x` to `4.6.X.0` for the .NET Framework 4.6 and its point releases, and to `4.7.X.0` for the .NET Framework 4.7 and its point releases."},{"content":"You can see these new values when you view the file's <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> after right-clicking on a file.","pos":[1264,1364],"source":" You can see these new values when you view the file's **Properties** after right-clicking on a file."},{"pos":[1374,1681],"content":"The <ph id=\"ph1\">&lt;xref:System.Reflection.AssemblyFileVersionAttribute&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Reflection.AssemblyInformationalVersionAttribute&gt;</ph> attributes for managed assemblies have <ph id=\"ph3\">&lt;xref:System.Version&gt;</ph> values in the form <ph id=\"ph4\">`4.6.X.0`</ph> for the .NET Framework 4.6 and its point releases, and <ph id=\"ph5\">`4.7.X.0`</ph> for the .NET Framework 4.7.","source":"The <xref:System.Reflection.AssemblyFileVersionAttribute> and <xref:System.Reflection.AssemblyInformationalVersionAttribute> attributes for managed assemblies have <xref:System.Version> values in the form `4.6.X.0` for the .NET Framework 4.6 and its point releases, and `4.7.X.0` for the .NET Framework 4.7."},{"content":"In the <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph>, 4.6.1, 4.6.2, and 4.7, the <ph id=\"ph2\">&lt;xref:System.Environment.Version%2A?displayProperty=fullName&gt;</ph> property returns the fixed version string <ph id=\"ph3\">`4.0.30319.42000`</ph>.","pos":[1691,1901],"source":"In the [!INCLUDE[net_v46](../../../includes/net-v46-md.md)], 4.6.1, 4.6.2, and 4.7, the <xref:System.Environment.Version%2A?displayProperty=fullName> property returns the fixed version string `4.0.30319.42000`."},{"content":"In the .NET Framework 4, 4.5, 4.5.1, and 4.5.2, it returns version strings in the format <ph id=\"ph1\">`4.0.30319.xxxxx`</ph> (for example, \"4.0.30319.18010\").","pos":[1902,2042],"source":" In the .NET Framework 4, 4.5, 4.5.1, and 4.5.2, it returns version strings in the format `4.0.30319.xxxxx` (for example, \"4.0.30319.18010\")."},{"content":"Note that we do not recommend application code taking any new dependency on the <ph id=\"ph1\">&lt;xref:System.Environment.Version%2A?displayProperty=fullName&gt;</ph> property.","pos":[2043,2194],"source":" Note that we do not recommend application code taking any new dependency on the <xref:System.Environment.Version%2A?displayProperty=fullName> property."},{"pos":[2204,2243],"content":"Handling the product versioning changes","linkify":"Handling the product versioning changes","nodes":[{"content":"Handling the product versioning changes","pos":[0,39]}]},{"content":"In general, applications should depend on the recommended techniques for detecting such things as the runtime version of the .NET Framework and the installation directory:","pos":[2247,2418]},{"pos":[2428,2639],"content":"To detect the runtime version of the .NET Framework, see <bpt id=\"p1\">[</bpt>How to: Determine Which .NET Framework Versions Are Installed<ept id=\"p1\">](../../../docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md)</ept>.","source":"To detect the runtime version of the .NET Framework, see [How to: Determine Which .NET Framework Versions Are Installed](../../../docs/framework/migration-guide/how-to-determine-which-versions-are-installed.md)."},{"pos":[2649,2832],"content":"To determine the installation path for the .NET Framework, use the value of the <ph id=\"ph1\">`InstallPath`</ph> entry in the <ph id=\"ph2\">`HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP\\v4\\Full`</ph> key.","source":"To determine the installation path for the .NET Framework, use the value of the `InstallPath` entry in the `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP\\v4\\Full` key."},{"pos":[2844,2933],"content":"[!IMPORTANT]\nThe subkey name is `NET Framework Setup`, not `.NET Framework Setup`.","leadings":["","    >  "],"nodes":[{"content":"The subkey name is <ph id=\"ph1\">`NET Framework Setup`</ph>, not <ph id=\"ph2\">`.NET Framework Setup`</ph>.","pos":[13,82],"source":"The subkey name is `NET Framework Setup`, not `.NET Framework Setup`."}]},{"content":"To determine the directory path to the .NET Framework common language runtime, call the <ph id=\"ph1\">&lt;xref:System.Runtime.InteropServices.RuntimeEnvironment.GetRuntimeDirectory%2A?displayProperty=fullName&gt;</ph> method.","pos":[2943,3143],"source":"To determine the directory path to the .NET Framework common language runtime, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetRuntimeDirectory%2A?displayProperty=fullName> method."},{"content":"To get the CLR version, call the <ph id=\"ph1\">&lt;xref:System.Runtime.InteropServices.RuntimeEnvironment.GetSystemVersion%2A?displayProperty=fullName&gt;</ph> method.","pos":[3153,3295],"source":"To get the CLR version, call the <xref:System.Runtime.InteropServices.RuntimeEnvironment.GetSystemVersion%2A?displayProperty=fullName> method."},{"content":"For the .NET Framework 4 and its point releases (the .NET Framework 4.5, 4.5.1, 4.5.2, and <ph id=\"ph1\">[!INCLUDE[net_v46](../../../includes/net-v46-md.md)]</ph>, 4.6.1, 4.6.2, and 4.7), it returns the string <ph id=\"ph2\">`v4.0.30319`</ph>.","pos":[3298,3502],"source":"   For the .NET Framework 4 and its point releases (the .NET Framework 4.5, 4.5.1, 4.5.2, and [!INCLUDE[net_v46](../../../includes/net-v46-md.md)], 4.6.1, 4.6.2, and 4.7), it returns the string `v4.0.30319`."},{"pos":[3511,3519],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[3523,3625],"content":"<bpt id=\"p1\">[</bpt>Runtime Changes<ept id=\"p1\">](../../../docs/framework/migration-guide/runtime-changes-in-the-net-framework-4-6.md)</ept>","source":"[Runtime Changes](../../../docs/framework/migration-guide/runtime-changes-in-the-net-framework-4-6.md)"}]}