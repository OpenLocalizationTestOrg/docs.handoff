{"content":"---\ntitle: \"Rules for Inferring Schema Node Types and Structure | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nms.assetid: d74ce896-717d-4871-8fd9-b070e2f53cb0\ncaps.latest.revision: 2\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# Rules for Inferring Schema Node Types and Structure\nThis topic describes how the schema inference process translates the node types in an XML document to an XML Schema definition language (XSD) structure.  \n  \n## Element Inference Rules  \n This section describes the inference rules for element declarations. There are eight structures of element declarations that will be inferred:  \n  \n1.  Element of simple type  \n  \n2.  Empty element  \n  \n3.  Empty element with attributes  \n  \n4.  Element with attributes and simple content  \n  \n5.  Element with a sequence of child elements  \n  \n6.  Element with a sequence of child elements and attributes  \n  \n7.  Element with a sequence of choices of child elements  \n  \n8.  Element with a sequence of choices of child elements and attributes  \n  \n> [!NOTE]\n>  All `complexType` declarations are inferred as anonymous types. The only global element inferred is the root element; all other elements are local.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n### Simple Typed Element  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded element shows the schema inferred for the simple type element.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<root>text</root>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"root\" type=\"xs:string\" />`<br /><br /> `</xs:schema>`|  \n  \n### Empty Element  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded element shows the schema inferred for the empty element.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<empty/>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"empty\" />`<br /><br /> `</xs:schema>`|  \n  \n### Empty Element with Attributes  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded elements show the schema inferred for the empty element with attributes.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<empty attribute1=\"text\"/>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"empty\">`<br /><br /> `<xs:complexType>`<br /><br /> `<xs:attribute name=\"attribute1\" type=\"xs:string\" use=\"required\" />`<br /><br /> `</xs:complexType>`<br /><br /> `</xs:element>`<br /><br /> `</xs:schema>`|  \n  \n### Element with Attributes and Simple Content  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded elements show the schema inferred for an element with attributes and simple content.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<root attribute1=\"text\">value</root>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"root\">`<br /><br /> `<xs:complexType>`<br /><br /> `<xs:simpleContent>`<br /><br /> `<xs:extension base=\"xs:string\">`<br /><br /> `<xs:attribute name=\"attribute1\" type=\"xs:string\" use=\"required\" />`<br /><br /> `</xs:extension>`<br /><br /> `</xs:simpleContent>`<br /><br /> `</xs:complexType>`<br /><br /> `</xs:element>`<br /><br /> `</xs:schema>`|  \n  \n### Element with a Sequence of Child Elements  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded elements show the schema inferred for an element with a sequence of child elements.  \n  \n> [!NOTE]\n>  Even if an element has only one child element, it is still treated as a sequence.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<root>`<br /><br /> `<subElement/>`<br /><br /> `</root>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"root\">`<br /><br /> `<xs:complexType>`<br /><br /> `<xs:sequence>`<br /><br /> `<xs:element name=\"subElement\" />`<br /><br /> `</xs:sequence>`<br /><br /> `</xs:complexType>`<br /><br /> `</xs:element>`<br /><br /> `</xs:schema>`|  \n  \n### Element with a Sequence of Child Elements and Attributes  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded elements show the schema inferred for an element with a sequence of child elements and attributes.  \n  \n> [!NOTE]\n>  Even if an element has only one child element, it is still treated as a sequence.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<root attribute1=\"text\">`<br /><br /> `<subElement1/>`<br /><br /> `<subElement2/>`<br /><br /> `</root>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"root\">`<br /><br /> `<xs:complexType>`<br /><br /> `<xs:sequence>`<br /><br /> `<xs:element name=\"subElement1\" />`<br /><br /> `<xs:element name=\"subElement2\" />`<br /><br /> `</xs:sequence>`<br /><br /> `<xs:attribute name=\"attribute1\" type=\"xs:string\" use=\"required\" />`<br /><br /> `</xs:complexType>`<br /><br /> `</xs:element>`<br /><br /> `</xs:schema>`|  \n  \n### Element with a Sequence and Choices of Child Elements  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded elements show the schema inferred for an element with a sequence and choice of child elements.  \n  \n> [!NOTE]\n>  The `maxOccurs` attribute of the `xs:choice` element is set to `\"unbounded\"` in the inferred schema.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<root>`<br /><br /> `<subElement1/>`<br /><br /> `<subElement2/>`<br /><br /> `<subElement1/>`<br /><br /> `</root>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"root\">`<br /><br /> `<xs:complexType>`<br /><br /> `<xs:sequence>`<br /><br /> `<xs:choice maxOccurs=\"unbounded\">`<br /><br /> `<xs:element name=\"subElement1\" />`<br /><br /> `<xs:element name=\"subElement2\" />`<br /><br /> `</xs:choice>`<br /><br /> `</xs:sequence>`<br /><br /> `</xs:complexType>`<br /><br /> `</xs:element>`<br /><br /> `</xs:schema>`|  \n  \n### Element with a Sequence and Choice of Child Elements and Attributes  \n The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated. The bolded elements show the schema inferred for an element with a sequence and choice of child elements and attributes.  \n  \n> [!NOTE]\n>  The `maxOccurs` attribute of the `xs:choice` element is set to `\"unbounded\"` in the inferred schema.  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n|XML|Schema|  \n|---------|------------|  \n|`<?xml version=\"1.0\"?>`<br /><br /> `<root attribute1=\"text\">`<br /><br /> `<subElement1/>`<br /><br /> `<subElement2/>`<br /><br /> `<subElement1/>`<br /><br /> `</root>`|`<?xml version=\"1.0\" encoding=\"utf-8\"?>`<br /><br /> `<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xml`<br /><br /> `ns:xs=\"http://www.w3.org/2001/XMLSchema\">`<br /><br /> `<xs:element name=\"root\">`<br /><br /> `<xs:complexType>`<br /><br /> `<xs:sequence>`<br /><br /> `<xs:choice maxOccurs=\"unbounded\">`<br /><br /> `<xs:element name=\"subElement1\" />`<br /><br /> `<xs:element name=\"subElement2\" />`<br /><br /> `</xs:choice>`<br /><br /> `</xs:sequence>`<br /><br /> `<xs:attribute name=\"attribute1\" type=\"xs:string\" use=\"required\" />`<br /><br /> `</xs:complexType>`<br /><br /> `</xs:element>`<br /><br /> `</xs:schema>`|  \n  \n### Attribute Processing  \n Whenever a new attribute is encountered within a node, it is added to the inferred definition of the node with `use=\"required\"`. The next time the same node is found in the instance, the inference process will compare attributes of the current instance with the ones already inferred. If some of the already inferred ones are missing in the instance, `use=\"optional\"` is added to the attribute definition. New attributes are added to existing declarations with `use=\"optional\"`.  \n  \n### Occurrence Constraints  \n During the schema inference process, the `minOccurs` and `maxOccurs` attributes are generated, for inferred components of a schema, with the values `\"0\"` or `\"1\"` and `\"1\"` or `\"unbounded\"`. The values `\"1\"` and `\"unbounded\"` are used only when the values `\"0\"` and `\"1\"` cannot validate the XML document (for example, if `MinOccurs=\"0\"` does not accurately describe an element, `minOccurs=\"1\"` is used).  \n  \n### Mixed Content  \n If an element contains mixed content (for example text interspersed with elements), the `mixed=\"true\"` attribute is generated for the inferred complex type definition.  \n  \n## Other Node Type Inference Rules  \n The following table describes the inference rules for processing instruction, comment, entity reference, CDATA, document type, and namespace nodes.  \n  \n|Node Type|Translation|  \n|---------------|-----------------|  \n|Processing instruction|Ignored.|  \n|Comment|Ignored.|  \n|Entity reference|The <xref:System.Xml.Schema.XmlSchemaInference> class does not handle entity references. If an XML document contains entity references, you need to use a reader that expands the entities. For example, you can pass an <xref:System.Xml.XmlTextReader> with the <xref:System.Xml.XmlTextReader.EntityHandling%2A> property set to <xref:System.Xml.EntityHandling> as a parameter. If entity references are encountered and the reader does not expand entities, an exception is throw.|  \n|CDATA|Any `<![CDATA[ … ]]` sections in an XML document will be inferred as `xs:string`.|  \n|Document type|Ignored.|  \n|Namespaces|Ignored.|  \n  \n For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md).  \n  \n## See Also  \n <xref:System.Xml.Schema.XmlSchemaInference>   \n [XML Schema Object Model (SOM)](../../../../docs/standard/data/xml/xml-schema-object-model-som.md)   \n [Inferring an XML Schema](../../../../docs/standard/data/xml/inferring-an-xml-schema.md)   \n [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)   \n [Rules for Inferring Simple Types](../../../../docs/standard/data/xml/rules-for-inferring-simple-types.md)","nodes":[{"pos":[4,418],"nodes":[{"content":"Rules for Inferring Schema Node Types and Structure | Microsoft Docs","nodes":[{"pos":[0,68],"content":"Rules for Inferring Schema Node Types and Structure | Microsoft Docs","nodes":[{"content":"Rules for Inferring Schema Node Types and Structure | Microsoft Docs","pos":[0,68]}]}],"pos":[6,77],"yaml":true}],"content":"title: \"Rules for Inferring Schema Node Types and Structure | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nms.assetid: d74ce896-717d-4871-8fd9-b070e2f53cb0\ncaps.latest.revision: 2\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"","yamlblock":true},{"pos":[425,476],"content":"Rules for Inferring Schema Node Types and Structure","linkify":"Rules for Inferring Schema Node Types and Structure","nodes":[{"content":"Rules for Inferring Schema Node Types and Structure","pos":[0,51]}]},{"content":"This topic describes how the schema inference process translates the node types in an XML document to an XML Schema definition language (XSD) structure.","pos":[477,629]},{"pos":[638,661],"content":"Element Inference Rules","linkify":"Element Inference Rules","nodes":[{"content":"Element Inference Rules","pos":[0,23]}]},{"content":"This section describes the inference rules for element declarations.","pos":[665,733]},{"content":"There are eight structures of element declarations that will be inferred:","pos":[734,807]},{"content":"Element of simple type","pos":[817,839]},{"content":"Empty element","pos":[849,862]},{"content":"Empty element with attributes","pos":[872,901]},{"content":"Element with attributes and simple content","pos":[911,953]},{"content":"Element with a sequence of child elements","pos":[963,1004]},{"content":"Element with a sequence of child elements and attributes","pos":[1014,1070]},{"content":"Element with a sequence of choices of child elements","pos":[1080,1132]},{"content":"Element with a sequence of choices of child elements and attributes","pos":[1142,1209]},{"pos":[1217,1375],"content":"[!NOTE]\n All `complexType` declarations are inferred as anonymous types. The only global element inferred is the root element; all other elements are local.","leadings":["","> "],"nodes":[{"content":"All `complexType` declarations are inferred as anonymous types. The only global element inferred is the root element; all other elements are local.","pos":[9,156],"nodes":[{"content":"All <ph id=\"ph1\">`complexType`</ph> declarations are inferred as anonymous types.","pos":[0,63],"source":"All `complexType` declarations are inferred as anonymous types."},{"content":"The only global element inferred is the root element; all other elements are local.","pos":[64,147]}]}]},{"pos":[1382,1558],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"pos":[1568,1588],"content":"Simple Typed Element","linkify":"Simple Typed Element","nodes":[{"content":"Simple Typed Element","pos":[0,20]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[1592,1735],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded element shows the schema inferred for the simple type element.","pos":[1736,1809]},{"pos":[1816,1992],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[1999,2002]},{"content":"Schema","pos":[2003,2009]},{"pos":[2384,2397],"content":"Empty Element","linkify":"Empty Element","nodes":[{"content":"Empty Element","pos":[0,13]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[2401,2544],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded element shows the schema inferred for the empty element.","pos":[2545,2612]},{"pos":[2619,2795],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[2802,2805]},{"content":"Schema","pos":[2806,2812]},{"pos":[3162,3191],"content":"Empty Element with Attributes","linkify":"Empty Element with Attributes","nodes":[{"content":"Empty Element with Attributes","pos":[0,29]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[3195,3338],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded elements show the schema inferred for the empty element with attributes.","pos":[3339,3422]},{"pos":[3429,3605],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[3612,3615]},{"content":"Schema","pos":[3616,3622]},{"pos":[4160,4202],"content":"Element with Attributes and Simple Content","linkify":"Element with Attributes and Simple Content","nodes":[{"content":"Element with Attributes and Simple Content","pos":[0,42]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[4206,4349],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded elements show the schema inferred for an element with attributes and simple content.","pos":[4350,4445]},{"pos":[4452,4628],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[4635,4638]},{"content":"Schema","pos":[4639,4645]},{"pos":[5335,5376],"content":"Element with a Sequence of Child Elements","linkify":"Element with a Sequence of Child Elements","nodes":[{"content":"Element with a Sequence of Child Elements","pos":[0,41]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[5380,5523],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded elements show the schema inferred for an element with a sequence of child elements.","pos":[5524,5618]},{"pos":[5626,5718],"content":"[!NOTE]\n Even if an element has only one child element, it is still treated as a sequence.","leadings":["","> "],"nodes":[{"content":"Even if an element has only one child element, it is still treated as a sequence.","pos":[9,90]}]},{"pos":[5725,5901],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[5908,5911]},{"content":"Schema","pos":[5912,5918]},{"pos":[6508,6564],"content":"Element with a Sequence of Child Elements and Attributes","linkify":"Element with a Sequence of Child Elements and Attributes","nodes":[{"content":"Element with a Sequence of Child Elements and Attributes","pos":[0,56]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[6568,6711],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded elements show the schema inferred for an element with a sequence of child elements and attributes.","pos":[6712,6821]},{"pos":[6829,6921],"content":"[!NOTE]\n Even if an element has only one child element, it is still treated as a sequence.","leadings":["","> "],"nodes":[{"content":"Even if an element has only one child element, it is still treated as a sequence.","pos":[9,90]}]},{"pos":[6928,7104],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[7111,7114]},{"content":"Schema","pos":[7115,7121]},{"pos":[7889,7942],"content":"Element with a Sequence and Choices of Child Elements","linkify":"Element with a Sequence and Choices of Child Elements","nodes":[{"content":"Element with a Sequence and Choices of Child Elements","pos":[0,53]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[7946,8089],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded elements show the schema inferred for an element with a sequence and choice of child elements.","pos":[8090,8195]},{"pos":[8203,8314],"content":"[!NOTE]\n The `maxOccurs` attribute of the `xs:choice` element is set to `\"unbounded\"` in the inferred schema.","leadings":["","> "],"nodes":[{"content":"The <ph id=\"ph1\">`maxOccurs`</ph> attribute of the <ph id=\"ph2\">`xs:choice`</ph> element is set to <ph id=\"ph3\">`\"unbounded\"`</ph> in the inferred schema.","pos":[9,109],"source":"The `maxOccurs` attribute of the `xs:choice` element is set to `\"unbounded\"` in the inferred schema."}]},{"pos":[8321,8497],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[8504,8507]},{"content":"Schema","pos":[8508,8514]},{"pos":[9287,9354],"content":"Element with a Sequence and Choice of Child Elements and Attributes","linkify":"Element with a Sequence and Choice of Child Elements and Attributes","nodes":[{"content":"Element with a Sequence and Choice of Child Elements and Attributes","pos":[0,67]}]},{"content":"The following table shows the XML input to the <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A&gt;</ph> method, and the XML schema generated.","pos":[9358,9501],"source":"The following table shows the XML input to the <xref:System.Xml.Schema.XmlSchemaInference.InferSchema%2A> method, and the XML schema generated."},{"content":"The bolded elements show the schema inferred for an element with a sequence and choice of child elements and attributes.","pos":[9502,9622]},{"pos":[9630,9741],"content":"[!NOTE]\n The `maxOccurs` attribute of the `xs:choice` element is set to `\"unbounded\"` in the inferred schema.","leadings":["","> "],"nodes":[{"content":"The <ph id=\"ph1\">`maxOccurs`</ph> attribute of the <ph id=\"ph2\">`xs:choice`</ph> element is set to <ph id=\"ph3\">`\"unbounded\"`</ph> in the inferred schema.","pos":[9,109],"source":"The `maxOccurs` attribute of the `xs:choice` element is set to `\"unbounded\"` in the inferred schema."}]},{"pos":[9748,9924],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"content":"XML","pos":[9931,9934]},{"content":"Schema","pos":[9935,9941]},{"pos":[10813,10833],"content":"Attribute Processing","linkify":"Attribute Processing","nodes":[{"content":"Attribute Processing","pos":[0,20]}]},{"content":"Whenever a new attribute is encountered within a node, it is added to the inferred definition of the node with <ph id=\"ph1\">`use=\"required\"`</ph>.","pos":[10837,10965],"source":"Whenever a new attribute is encountered within a node, it is added to the inferred definition of the node with `use=\"required\"`."},{"content":"The next time the same node is found in the instance, the inference process will compare attributes of the current instance with the ones already inferred.","pos":[10966,11121]},{"content":"If some of the already inferred ones are missing in the instance, <ph id=\"ph1\">`use=\"optional\"`</ph> is added to the attribute definition.","pos":[11122,11242],"source":" If some of the already inferred ones are missing in the instance, `use=\"optional\"` is added to the attribute definition."},{"content":"New attributes are added to existing declarations with <ph id=\"ph1\">`use=\"optional\"`</ph>.","pos":[11243,11315],"source":" New attributes are added to existing declarations with `use=\"optional\"`."},{"pos":[11325,11347],"content":"Occurrence Constraints","linkify":"Occurrence Constraints","nodes":[{"content":"Occurrence Constraints","pos":[0,22]}]},{"content":"During the schema inference process, the <ph id=\"ph1\">`minOccurs`</ph> and <ph id=\"ph2\">`maxOccurs`</ph> attributes are generated, for inferred components of a schema, with the values <ph id=\"ph3\">`\"0\"`</ph> or <ph id=\"ph4\">`\"1\"`</ph> and <ph id=\"ph5\">`\"1\"`</ph> or <ph id=\"ph6\">`\"unbounded\"`</ph>.","pos":[11351,11541],"source":"During the schema inference process, the `minOccurs` and `maxOccurs` attributes are generated, for inferred components of a schema, with the values `\"0\"` or `\"1\"` and `\"1\"` or `\"unbounded\"`."},{"content":"The values <ph id=\"ph1\">`\"1\"`</ph> and <ph id=\"ph2\">`\"unbounded\"`</ph> are used only when the values <ph id=\"ph3\">`\"0\"`</ph> and <ph id=\"ph4\">`\"1\"`</ph> cannot validate the XML document (for example, if <ph id=\"ph5\">`MinOccurs=\"0\"`</ph> does not accurately describe an element, <ph id=\"ph6\">`minOccurs=\"1\"`</ph> is used).","pos":[11542,11755],"source":" The values `\"1\"` and `\"unbounded\"` are used only when the values `\"0\"` and `\"1\"` cannot validate the XML document (for example, if `MinOccurs=\"0\"` does not accurately describe an element, `minOccurs=\"1\"` is used)."},{"pos":[11765,11778],"content":"Mixed Content","linkify":"Mixed Content","nodes":[{"content":"Mixed Content","pos":[0,13]}]},{"pos":[11782,11949],"content":"If an element contains mixed content (for example text interspersed with elements), the <ph id=\"ph1\">`mixed=\"true\"`</ph> attribute is generated for the inferred complex type definition.","source":"If an element contains mixed content (for example text interspersed with elements), the `mixed=\"true\"` attribute is generated for the inferred complex type definition."},{"pos":[11958,11989],"content":"Other Node Type Inference Rules","linkify":"Other Node Type Inference Rules","nodes":[{"content":"Other Node Type Inference Rules","pos":[0,31]}]},{"content":"The following table describes the inference rules for processing instruction, comment, entity reference, CDATA, document type, and namespace nodes.","pos":[11993,12140]},{"content":"Node Type","pos":[12147,12156]},{"content":"Translation","pos":[12157,12168]},{"content":"Processing instruction","pos":[12211,12233]},{"content":"Ignored.","pos":[12234,12242]},{"content":"Comment","pos":[12247,12254]},{"content":"Ignored.","pos":[12255,12263]},{"content":"Entity reference","pos":[12268,12284]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph> class does not handle entity references.","pos":[12285,12373],"source":"The <xref:System.Xml.Schema.XmlSchemaInference> class does not handle entity references."},{"content":"If an XML document contains entity references, you need to use a reader that expands the entities.","pos":[12374,12472]},{"content":"For example, you can pass an <ph id=\"ph1\">&lt;xref:System.Xml.XmlTextReader&gt;</ph> with the <ph id=\"ph2\">&lt;xref:System.Xml.XmlTextReader.EntityHandling%2A&gt;</ph> property set to <ph id=\"ph3\">&lt;xref:System.Xml.EntityHandling&gt;</ph> as a parameter.","pos":[12473,12657],"source":" For example, you can pass an <xref:System.Xml.XmlTextReader> with the <xref:System.Xml.XmlTextReader.EntityHandling%2A> property set to <xref:System.Xml.EntityHandling> as a parameter."},{"content":"If entity references are encountered and the reader does not expand entities, an exception is throw.","pos":[12658,12758]},{"content":"CDATA","pos":[12763,12768]},{"pos":[12769,12850],"content":"Any <ph id=\"ph1\">`&lt;![CDATA[ … ]]`</ph> sections in an XML document will be inferred as <ph id=\"ph2\">`xs:string`</ph>.","source":"Any `<![CDATA[ … ]]` sections in an XML document will be inferred as `xs:string`."},{"content":"Document type","pos":[12855,12868]},{"content":"Ignored.","pos":[12869,12877]},{"content":"Namespaces","pos":[12882,12892]},{"content":"Ignored.","pos":[12893,12901]},{"pos":[12909,13085],"content":"For more information about the schema inference process, see <bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept>.","source":"For more information about the schema inference process, see [Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)."},{"pos":[13094,13102],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Xml.Schema.XmlSchemaInference&gt;</ph>","pos":[13106,13149],"source":"<xref:System.Xml.Schema.XmlSchemaInference> "},{"content":"<bpt id=\"p1\">[</bpt>XML Schema Object Model (SOM)<ept id=\"p1\">](../../../../docs/standard/data/xml/xml-schema-object-model-som.md)</ept><ph id=\"ph1\"> </ph>","pos":[13154,13253],"source":"[XML Schema Object Model (SOM)](../../../../docs/standard/data/xml/xml-schema-object-model-som.md) "},{"content":"<bpt id=\"p1\">[</bpt>Inferring an XML Schema<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-an-xml-schema.md)</ept><ph id=\"ph1\"> </ph>","pos":[13257,13346],"source":"[Inferring an XML Schema](../../../../docs/standard/data/xml/inferring-an-xml-schema.md) "},{"content":"<bpt id=\"p1\">[</bpt>Inferring Schemas from XML Documents<ept id=\"p1\">](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md)</ept><ph id=\"ph1\"> </ph>","pos":[13350,13465],"source":"[Inferring Schemas from XML Documents](../../../../docs/standard/data/xml/inferring-schemas-from-xml-documents.md) "},{"content":"<bpt id=\"p1\">[</bpt>Rules for Inferring Simple Types<ept id=\"p1\">](../../../../docs/standard/data/xml/rules-for-inferring-simple-types.md)</ept>","pos":[13469,13575],"source":"[Rules for Inferring Simple Types](../../../../docs/standard/data/xml/rules-for-inferring-simple-types.md)"}]}