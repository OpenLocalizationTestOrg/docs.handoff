{"content":"---\ntitle: \"Client Architecture | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: 02624403-0d77-41cb-9a86-ab55e98c7966\ncaps.latest.revision: 7\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Client Architecture\nApplications use [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] client objects to invoke service operations. This topic discusses [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channels, and their relationships to the underlying channel architecture. For a basic overview of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md). [!INCLUDE[crabout](../../../../includes/crabout-md.md)] the channel layer, see [Extending the Channel Layer](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md).  \n  \n## Overview  \n The service model run time creates [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] clients, which are composed of the following:  \n  \n-   An automatically generated client implementation of a service contract, which turns calls from your application code into outgoing messages, and turns response messages into output parameters and return values that your application can retrieve.  \n  \n-   An implementation of a control interface (<xref:System.ServiceModel.IClientChannel?displayProperty=fullName>) that groups together various interfaces and provides access to control functionality, most notably the ability to close the client session and dispose the channel.  \n  \n-   A client channel that is built based on the configuration settings specified by the used binding.  \n  \n Applications can create such clients on demand, either through a <xref:System.ServiceModel.ChannelFactory?displayProperty=fullName> or by creating an instance of a <xref:System.ServiceModel.ClientBase%601> derived class as it is generated by the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md). These ready-built client classes encapsulate and delegate to a client channel implementation that is dynamically constructed by a <xref:System.ServiceModel.ChannelFactory>. Therefore, the client channel and the channel factory that produces them are the focal point of interest for this discussion.  \n  \n## Client Objects and Client Channels  \n The base interface of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] clients is the <xref:System.ServiceModel.IClientChannel?displayProperty=fullName> interface, which exposes core client functionality as well as the basic communication object functionality of <xref:System.ServiceModel.ICommunicationObject?displayProperty=fullName>, the context functionality of <xref:System.ServiceModel.IContextChannel?displayProperty=fullName>, and the extensible behavior of <xref:System.ServiceModel.IExtensibleObject%601?displayProperty=fullName>.  \n  \n The <xref:System.ServiceModel.IClientChannel> interface, however, does not define a service contract itself. Those are declared by the service contract interface (typically generated from service metadata using a tool like the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)). [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client types extend both <xref:System.ServiceModel.IClientChannel> and the target service contract interface to enable applications to call operations directly and also have access to client-side run-time functionality. Creating an [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client provides [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<xref:System.ServiceModel.ChannelFactory?displayProperty=fullName> objects with the information necessary to create a run time that can connect and interact with the configured service endpoint.  \n  \n As mentioned earlier, the two [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client types must be configured before you can use them. The simplest [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client types are objects that derive from <xref:System.ServiceModel.ClientBase%601> (or <xref:System.ServiceModel.DuplexClientBase%601> if the service contract is a duplex contract). You can create these types by using a constructor, configured programmatically, or by using a configuration file, and then called directly to invoke service operations. For a basic overview of <xref:System.ServiceModel.ClientBase%601> objects, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md).  \n  \n The second type is generated at run time from a call to the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A> method. Applications concerned with tight control of the communication specifics typically use this client type, called a *client channel object*, because it enables more direct interaction than the underlying client run-time and channel system.  \n  \n## Channel Factories  \n The class that is responsible for creating the underlying run time that supports client invocations is the <xref:System.ServiceModel.ChannelFactory%601?displayProperty=fullName> class. Both [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel objects use a <xref:System.ServiceModel.ChannelFactory%601> object to create instances; the <xref:System.ServiceModel.ClientBase%601> derived client object encapsulates the handling of the channel factory, but for a number of scenarios it is perfectly reasonable to use the channel factory directly. The common scenario for this is if you want to repeatedly create new client channels from an existing factory. If you are using a client object, you can obtain the underlying channel factory from a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object by calling the <xref:System.ServiceModel.ClientBase%601.ChannelFactory%2A?displayProperty=fullName> property.  \n  \n The important thing to remember about channel factories is that they create new instances of client channels for the configuration provided to them prior to calling <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=fullName>. Once you call <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A> (or <xref:System.ServiceModel.ClientBase%601.Open%2A?displayProperty=fullName>, <xref:System.ServiceModel.ClientBase%601.CreateChannel%2A?displayProperty=fullName>, or any operation on a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object), you cannot modify the channel factory and expect to get channels to different service instances, even if you are merely changing the target endpoint address. If you want to create a client object or client channel with a different configuration, you must create a new channel factory first.  \n  \n [!INCLUDE[crabout](../../../../includes/crabout-md.md)] various issues using [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channels, see [Accessing Services Using a WCF Client](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md).  \n  \n The following two sections describe the creation and use of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel objects.  \n  \n#### Creating a New WCF Client Channel Object  \n To illustrate the use of a client channel, assume the following service contract has been generated.  \n  \n [!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  \n  \n To connect to an `ISampleService` service, use the generated contract interface directly with a channel factory (<xref:System.ServiceModel.ChannelFactory%601>). Once you create and configure a channel factory for a particular contract, you can call the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A> method to return client channel objects that you can use to communicate with an `ISampleService` service.  \n  \n When using the <xref:System.ServiceModel.ChannelFactory%601> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel> interface to explicitly open, close, or abort the channel. To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast. The following code shows the definition of a helper client channel that implements the preceding service contract.  \n  \n [!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]  \n  \n#### Creating a New WCF Client Channel Object  \n To use a client channel to connect to an `ISampleService` service, use the generated contract interface (or the helper version) directly with a channel factory, passing the type of the contract interface as the type parameter. Once a channel factory for a particular contract has been created and configured, you can call the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=fullName> method to return client channel objects that you can use to communicate with an `ISampleService` service.  \n  \n When created, the client channel objects implement <xref:System.ServiceModel.IClientChannel> and the contract interface. Therefore, you can use them directly to call operations that interact with a service that supports that contract.  \n  \n The difference between using client objects and client channel objects is merely one of control and ease of use for developers. Many developers who are comfortable working with classes and objects will prefer to use the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object instead of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel.  \n  \n For an example, see [How to: Use the ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md).","nodes":[{"pos":[12,48],"content":"Client Architecture | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Client Architecture | Microsoft Docs","pos":[0,36]}]},{"pos":[346,365],"content":"Client Architecture","linkify":"Client Architecture","nodes":[{"content":"Client Architecture","pos":[0,19]}]},{"content":"Applications use <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> client objects to invoke service operations.","pos":[366,483],"source":"Applications use [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] client objects to invoke service operations."},{"content":"This topic discusses <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client objects, <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client channels, and their relationships to the underlying channel architecture.","pos":[484,713],"source":" This topic discusses [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channels, and their relationships to the underlying channel architecture."},{"content":"For a basic overview of <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client objects, see <bpt id=\"p1\">[</bpt>WCF Client Overview<ept id=\"p1\">](../../../../docs/framework/wcf/wcf-client-overview.md)</ept>.","pos":[714,891],"source":" For a basic overview of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md)."},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> the channel layer, see <bpt id=\"p1\">[</bpt>Extending the Channel Layer<ept id=\"p1\">](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md)</ept>.","pos":[892,1074],"source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] the channel layer, see [Extending the Channel Layer](../../../../docs/framework/wcf/extending/extending-the-channel-layer.md)."},{"pos":[1083,1091],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"pos":[1095,1231],"content":"The service model run time creates <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> clients, which are composed of the following:","source":"The service model run time creates [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] clients, which are composed of the following:"},{"content":"An automatically generated client implementation of a service contract, which turns calls from your application code into outgoing messages, and turns response messages into output parameters and return values that your application can retrieve.","pos":[1241,1486]},{"content":"An implementation of a control interface (<ph id=\"ph1\">&lt;xref:System.ServiceModel.IClientChannel?displayProperty=fullName&gt;</ph>) that groups together various interfaces and provides access to control functionality, most notably the ability to close the client session and dispose the channel.","pos":[1496,1769],"source":"An implementation of a control interface (<xref:System.ServiceModel.IClientChannel?displayProperty=fullName>) that groups together various interfaces and provides access to control functionality, most notably the ability to close the client session and dispose the channel."},{"content":"A client channel that is built based on the configuration settings specified by the used binding.","pos":[1779,1876]},{"content":"Applications can create such clients on demand, either through a <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory?displayProperty=fullName&gt;</ph> or by creating an instance of a <ph id=\"ph2\">&lt;xref:System.ServiceModel.ClientBase%601&gt;</ph> derived class as it is generated by the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept>.","pos":[1883,2262],"source":"Applications can create such clients on demand, either through a <xref:System.ServiceModel.ChannelFactory?displayProperty=fullName> or by creating an instance of a <xref:System.ServiceModel.ClientBase%601> derived class as it is generated by the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)."},{"content":"These ready-built client classes encapsulate and delegate to a client channel implementation that is dynamically constructed by a <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory&gt;</ph>.","pos":[2263,2435],"source":" These ready-built client classes encapsulate and delegate to a client channel implementation that is dynamically constructed by a <xref:System.ServiceModel.ChannelFactory>."},{"content":"Therefore, the client channel and the channel factory that produces them are the focal point of interest for this discussion.","pos":[2436,2561]},{"pos":[2570,2604],"content":"Client Objects and Client Channels","linkify":"Client Objects and Client Channels","nodes":[{"content":"Client Objects and Client Channels","pos":[0,34]}]},{"pos":[2608,3155],"content":"The base interface of <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> clients is the <ph id=\"ph2\">&lt;xref:System.ServiceModel.IClientChannel?displayProperty=fullName&gt;</ph> interface, which exposes core client functionality as well as the basic communication object functionality of <ph id=\"ph3\">&lt;xref:System.ServiceModel.ICommunicationObject?displayProperty=fullName&gt;</ph>, the context functionality of <ph id=\"ph4\">&lt;xref:System.ServiceModel.IContextChannel?displayProperty=fullName&gt;</ph>, and the extensible behavior of <ph id=\"ph5\">&lt;xref:System.ServiceModel.IExtensibleObject%601?displayProperty=fullName&gt;</ph>.","source":"The base interface of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] clients is the <xref:System.ServiceModel.IClientChannel?displayProperty=fullName> interface, which exposes core client functionality as well as the basic communication object functionality of <xref:System.ServiceModel.ICommunicationObject?displayProperty=fullName>, the context functionality of <xref:System.ServiceModel.IContextChannel?displayProperty=fullName>, and the extensible behavior of <xref:System.ServiceModel.IExtensibleObject%601?displayProperty=fullName>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.ServiceModel.IClientChannel&gt;</ph> interface, however, does not define a service contract itself.","pos":[3162,3270],"source":"The <xref:System.ServiceModel.IClientChannel> interface, however, does not define a service contract itself."},{"content":"Those are declared by the service contract interface (typically generated from service metadata using a tool like the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept>).","pos":[3271,3523],"source":" Those are declared by the service contract interface (typically generated from service metadata using a tool like the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md))."},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client types extend both <ph id=\"ph2\">&lt;xref:System.ServiceModel.IClientChannel&gt;</ph> and the target service contract interface to enable applications to call operations directly and also have access to client-side run-time functionality.","pos":[3524,3799],"source":"[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client types extend both <xref:System.ServiceModel.IClientChannel> and the target service contract interface to enable applications to call operations directly and also have access to client-side run-time functionality."},{"content":"Creating an <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client provides <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph><ph id=\"ph3\">&lt;xref:System.ServiceModel.ChannelFactory?displayProperty=fullName&gt;</ph> objects with the information necessary to create a run time that can connect and interact with the configured service endpoint.","pos":[3800,4133],"source":" Creating an [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client provides [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<xref:System.ServiceModel.ChannelFactory?displayProperty=fullName> objects with the information necessary to create a run time that can connect and interact with the configured service endpoint."},{"content":"As mentioned earlier, the two <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client types must be configured before you can use them.","pos":[4140,4282],"source":"As mentioned earlier, the two [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client types must be configured before you can use them."},{"content":"The simplest <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client types are objects that derive from <ph id=\"ph2\">&lt;xref:System.ServiceModel.ClientBase%601&gt;</ph> (or <ph id=\"ph3\">&lt;xref:System.ServiceModel.DuplexClientBase%601&gt;</ph> if the service contract is a duplex contract).","pos":[4283,4534],"source":" The simplest [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client types are objects that derive from <xref:System.ServiceModel.ClientBase%601> (or <xref:System.ServiceModel.DuplexClientBase%601> if the service contract is a duplex contract)."},{"content":"You can create these types by using a constructor, configured programmatically, or by using a configuration file, and then called directly to invoke service operations.","pos":[4535,4703]},{"content":"For a basic overview of <ph id=\"ph1\">&lt;xref:System.ServiceModel.ClientBase%601&gt;</ph> objects, see <bpt id=\"p1\">[</bpt>WCF Client Overview<ept id=\"p1\">](../../../../docs/framework/wcf/wcf-client-overview.md)</ept>.","pos":[4704,4860],"source":" For a basic overview of <xref:System.ServiceModel.ClientBase%601> objects, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md)."},{"content":"The second type is generated at run time from a call to the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A&gt;</ph> method.","pos":[4867,4997],"source":"The second type is generated at run time from a call to the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A> method."},{"content":"Applications concerned with tight control of the communication specifics typically use this client type, called a <bpt id=\"p1\">*</bpt>client channel object<ept id=\"p1\">*</ept>, because it enables more direct interaction than the underlying client run-time and channel system.","pos":[4998,5235],"source":" Applications concerned with tight control of the communication specifics typically use this client type, called a *client channel object*, because it enables more direct interaction than the underlying client run-time and channel system."},{"pos":[5244,5261],"content":"Channel Factories","linkify":"Channel Factories","nodes":[{"content":"Channel Factories","pos":[0,17]}]},{"content":"The class that is responsible for creating the underlying run time that supports client invocations is the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601?displayProperty=fullName&gt;</ph> class.","pos":[5265,5449],"source":"The class that is responsible for creating the underlying run time that supports client invocations is the <xref:System.ServiceModel.ChannelFactory%601?displayProperty=fullName> class."},{"content":"Both <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client objects and <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client channel objects use a <ph id=\"ph3\">&lt;xref:System.ServiceModel.ChannelFactory%601&gt;</ph> object to create instances; the <ph id=\"ph4\">&lt;xref:System.ServiceModel.ClientBase%601&gt;</ph> derived client object encapsulates the handling of the channel factory, but for a number of scenarios it is perfectly reasonable to use the channel factory directly.","pos":[5450,5900],"source":" Both [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel objects use a <xref:System.ServiceModel.ChannelFactory%601> object to create instances; the <xref:System.ServiceModel.ClientBase%601> derived client object encapsulates the handling of the channel factory, but for a number of scenarios it is perfectly reasonable to use the channel factory directly."},{"content":"The common scenario for this is if you want to repeatedly create new client channels from an existing factory.","pos":[5901,6011]},{"content":"If you are using a client object, you can obtain the underlying channel factory from a <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client object by calling the <ph id=\"ph2\">&lt;xref:System.ServiceModel.ClientBase%601.ChannelFactory%2A?displayProperty=fullName&gt;</ph> property.","pos":[6012,6278],"source":" If you are using a client object, you can obtain the underlying channel factory from a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object by calling the <xref:System.ServiceModel.ClientBase%601.ChannelFactory%2A?displayProperty=fullName> property."},{"content":"The important thing to remember about channel factories is that they create new instances of client channels for the configuration provided to them prior to calling <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=fullName&gt;</ph>.","pos":[6285,6538],"source":"The important thing to remember about channel factories is that they create new instances of client channels for the configuration provided to them prior to calling <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=fullName>."},{"content":"Once you call <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A&gt;</ph> (or <ph id=\"ph2\">&lt;xref:System.ServiceModel.ClientBase%601.Open%2A?displayProperty=fullName&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.ServiceModel.ClientBase%601.CreateChannel%2A?displayProperty=fullName&gt;</ph>, or any operation on a <ph id=\"ph4\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client object), you cannot modify the channel factory and expect to get channels to different service instances, even if you are merely changing the target endpoint address.","pos":[6539,7032],"source":" Once you call <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A> (or <xref:System.ServiceModel.ClientBase%601.Open%2A?displayProperty=fullName>, <xref:System.ServiceModel.ClientBase%601.CreateChannel%2A?displayProperty=fullName>, or any operation on a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object), you cannot modify the channel factory and expect to get channels to different service instances, even if you are merely changing the target endpoint address."},{"content":"If you want to create a client object or client channel with a different configuration, you must create a new channel factory first.","pos":[7033,7165]},{"pos":[7172,7526],"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../../includes/crabout-md.md)]</ph> various issues using <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client objects and <ph id=\"ph3\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client channels, see <bpt id=\"p1\">[</bpt>Accessing Services Using a WCF Client<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)</ept>.","source":"[!INCLUDE[crabout](../../../../includes/crabout-md.md)] various issues using [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channels, see [Accessing Services Using a WCF Client](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)."},{"pos":[7533,7672],"content":"The following two sections describe the creation and use of <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client channel objects.","source":"The following two sections describe the creation and use of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel objects."},{"pos":[7683,7723],"content":"Creating a New WCF Client Channel Object","linkify":"Creating a New WCF Client Channel Object","nodes":[{"content":"Creating a New WCF Client Channel Object","pos":[0,40]}]},{"content":"To illustrate the use of a client channel, assume the following service contract has been generated.","pos":[7727,7827]},{"pos":[7834,7966],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>C_GeneratedCodeFiles#12<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]"},{"content":"To connect to an <ph id=\"ph1\">`ISampleService`</ph> service, use the generated contract interface directly with a channel factory (<ph id=\"ph2\">&lt;xref:System.ServiceModel.ChannelFactory%601&gt;</ph>).","pos":[7973,8133],"source":"To connect to an `ISampleService` service, use the generated contract interface directly with a channel factory (<xref:System.ServiceModel.ChannelFactory%601>)."},{"content":"Once you create and configure a channel factory for a particular contract, you can call the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A&gt;</ph> method to return client channel objects that you can use to communicate with an <ph id=\"ph2\">`ISampleService`</ph> service.","pos":[8134,8394],"source":" Once you create and configure a channel factory for a particular contract, you can call the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A> method to return client channel objects that you can use to communicate with an `ISampleService` service."},{"content":"When using the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601&gt;</ph> class with a service contract interface, you must cast to the <ph id=\"ph2\">&lt;xref:System.ServiceModel.IClientChannel&gt;</ph> interface to explicitly open, close, or abort the channel.","pos":[8401,8624],"source":"When using the <xref:System.ServiceModel.ChannelFactory%601> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel> interface to explicitly open, close, or abort the channel."},{"content":"To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <ph id=\"ph1\">&lt;xref:System.ServiceModel.IClientChannel&gt;</ph> to enable you to interact with the client channel infrastructure without having to cast.","pos":[8625,8898],"source":" To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast."},{"content":"The following code shows the definition of a helper client channel that implements the preceding service contract.","pos":[8899,9013]},{"pos":[9020,9152],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>C_GeneratedCodeFiles#13<ept id=\"p2\">](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]"},{"pos":[9163,9203],"content":"Creating a New WCF Client Channel Object","linkify":"Creating a New WCF Client Channel Object","nodes":[{"content":"Creating a New WCF Client Channel Object","pos":[0,40]}]},{"content":"To use a client channel to connect to an <ph id=\"ph1\">`ISampleService`</ph> service, use the generated contract interface (or the helper version) directly with a channel factory, passing the type of the contract interface as the type parameter.","pos":[9207,9433],"source":"To use a client channel to connect to an `ISampleService` service, use the generated contract interface (or the helper version) directly with a channel factory, passing the type of the contract interface as the type parameter."},{"content":"Once a channel factory for a particular contract has been created and configured, you can call the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=fullName&gt;</ph> method to return client channel objects that you can use to communicate with an <ph id=\"ph2\">`ISampleService`</ph> service.","pos":[9434,9726],"source":" Once a channel factory for a particular contract has been created and configured, you can call the <xref:System.ServiceModel.ChannelFactory%601.CreateChannel%2A?displayProperty=fullName> method to return client channel objects that you can use to communicate with an `ISampleService` service."},{"content":"When created, the client channel objects implement <ph id=\"ph1\">&lt;xref:System.ServiceModel.IClientChannel&gt;</ph> and the contract interface.","pos":[9733,9853],"source":"When created, the client channel objects implement <xref:System.ServiceModel.IClientChannel> and the contract interface."},{"content":"Therefore, you can use them directly to call operations that interact with a service that supports that contract.","pos":[9854,9967]},{"content":"The difference between using client objects and client channel objects is merely one of control and ease of use for developers.","pos":[9974,10101]},{"content":"Many developers who are comfortable working with classes and objects will prefer to use the <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client object instead of the <ph id=\"ph2\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> client channel.","pos":[10102,10350],"source":" Many developers who are comfortable working with classes and objects will prefer to use the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object instead of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel."},{"pos":[10357,10491],"content":"For an example, see <bpt id=\"p1\">[</bpt>How to: Use the ChannelFactory<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md)</ept>.","source":"For an example, see [How to: Use the ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md)."}]}