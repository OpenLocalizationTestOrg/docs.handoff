{"content":"---\ntitle: dotnet migrate command\ndescription: The dotnet migrate command migrates a project and all of its dependencies.\nms.date: 05/25/2018\n---\n# dotnet migrate\n\n[!INCLUDE [topic-appliesto-net-core-all](../../../includes/topic-appliesto-net-core-all.md)]\n\n## Name\n\n`dotnet migrate` - Migrates a Preview 2 .NET Core project to a .NET Core SDK 1.0 project.\n\n## Synopsis\n\n```\ndotnet migrate [<SOLUTION_FILE|PROJECT_DIR>] [--format-report-file-json] [-r|--report-file] [-s|--skip-project-references] [--skip-backup] [-t|--template-file] [-v|--sdk-package-version] [-x|--xproj-file]\ndotnet migrate [-h|--help]\n```\n\n## Description\n\nThe `dotnet migrate` command migrates a valid Preview 2 *project.json*-based project to a valid .NET Core SDK 1.0 *csproj* project.\n\nBy default, the command migrates the root project and any project references that the root project contains. This behavior is disabled using the `--skip-project-references` option at runtime.\n\nMigration can be performed on the following assets:\n\n* A single project by specifying the *project.json* file to migrate.\n* All of the directories specified in the *global.json* file by passing in a path to the *global.json* file.\n* A *solution.sln* file, where it migrates the projects referenced in the solution.\n* On all subdirectories of the given directory recursively.\n\nThe `dotnet migrate` command keeps the migrated *project.json* file inside a `backup` directory, which it creates if the directory doesn't exist. This behavior is overridden using the `--skip-backup` option.\n\nBy default, the migration operation outputs the state of the migration process to standard output (STDOUT). If you use the `--report-file <REPORT_FILE>` option, the output is saved to the file specify.\n\nThe `dotnet migrate` command only supports valid Preview 2 *project.json*-based projects. This means that you cannot use it to migrate DNX or Preview 1 *project.json*-based projects directly to MSBuild/csproj projects. You first need to manually migrate the project to a Preview 2 *project.json*-based project and then use the `dotnet migrate` command to migrate the project.\n\n## Arguments\n\n`PROJECT_JSON/GLOBAL_JSON/SOLUTION_FILE/PROJECT_DIR`\n\nThe path to one of the following:\n\n* a *project.json* file to migrate.\n* a *global.json* file: the folders specified in *global.json* are migrated.\n* a *solution.sln* file: the projects referenced in the solution are migrated.\n* a directory to migrate: recursively searches for *project.json* files to migrate inside the specified directory.\n\nDefaults to current directory if nothing is specified.\n\n## Options\n\n`--format-report-file-json <REPORT_FILE>`\n\nOutput migration report file as JSON rather than user messages.\n\n`-h|--help`\n\nPrints out a short help for the command.\n\n`-r|--report-file <REPORT_FILE>`\n\nOutput migration report to a file in addition to the console.\n\n`-s|--skip-project-references [Debug|Release]`\n\nSkip migrating project references. By default, project references are migrated recursively.\n\n`--skip-backup`\n\nSkip moving *project.json*, *global.json*, and *\\*.xproj* to a `backup` directory after successful migration.\n\n`-t|--template-file <TEMPLATE_FILE>`\n\nTemplate csproj file to use for migration. By default, the same template as the one dropped by `dotnet new console` is used.\n\n`-v|--sdk-package-version <VERSION>`\n\nThe version of the sdk package that's referenced in the migrated app. The default is the version of the SDK in `dotnet new`.\n\n`-x|--xproj-file <FILE>`\n\nThe path to the xproj file to use. Required when there is more than one xproj in a project directory.\n\n## Examples\n\nMigrate a project in the current directory and all of its project-to-project dependencies:\n\n`dotnet migrate`\n\nMigrate all projects that *global.json* file includes:\n\n`dotnet migrate path/to/global.json`\n\nMigrate only the current project and no project-to-project (P2P) dependencies. Also, use a specific SDK version:\n\n`dotnet migrate -s -v 1.0.0-preview4`","nodes":[{"pos":[4,141],"embed":true,"restype":"x-metadata","content":"title: dotnet migrate command\ndescription: The dotnet migrate command migrates a project and all of its dependencies.\nms.date: 05/25/2018","nodes":[{"content":"dotnet migrate command","nodes":[{"pos":[0,22],"content":"dotnet migrate command","nodes":[{"content":"dotnet migrate command","pos":[0,22]}]}],"path":["title"],"nosxs":false},{"content":"The dotnet migrate command migrates a project and all of its dependencies.","nodes":[{"pos":[0,74],"content":"The dotnet migrate command migrates a project and all of its dependencies.","nodes":[{"content":"The dotnet migrate command migrates a project and all of its dependencies.","pos":[0,74]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[148,162],"content":"dotnet migrate","linkify":"dotnet migrate","nodes":[{"content":"dotnet migrate","pos":[0,14]}]},{"pos":[261,265],"content":"Name","linkify":"Name","nodes":[{"content":"Name","pos":[0,4]}]},{"pos":[267,356],"content":"<ph id=\"ph1\">`dotnet migrate`</ph> - Migrates a Preview 2 .NET Core project to a .NET Core SDK 1.0 project.","source":"`dotnet migrate` - Migrates a Preview 2 .NET Core project to a .NET Core SDK 1.0 project."},{"pos":[361,369],"content":"Synopsis","linkify":"Synopsis","nodes":[{"content":"Synopsis","pos":[0,8]}]},{"pos":[615,626],"content":"Description","linkify":"Description","nodes":[{"content":"Description","pos":[0,11]}]},{"pos":[628,759],"content":"The <ph id=\"ph1\">`dotnet migrate`</ph> command migrates a valid Preview 2 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based project to a valid .NET Core SDK 1.0 <bpt id=\"p2\">*</bpt>csproj<ept id=\"p2\">*</ept> project.","source":"The `dotnet migrate` command migrates a valid Preview 2 *project.json*-based project to a valid .NET Core SDK 1.0 *csproj* project."},{"content":"By default, the command migrates the root project and any project references that the root project contains.","pos":[761,869]},{"content":"This behavior is disabled using the <ph id=\"ph1\">`--skip-project-references`</ph> option at runtime.","pos":[870,952],"source":" This behavior is disabled using the `--skip-project-references` option at runtime."},{"content":"Migration can be performed on the following assets:","pos":[954,1005]},{"pos":[1009,1075],"content":"A single project by specifying the <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> file to migrate.","source":"A single project by specifying the *project.json* file to migrate."},{"pos":[1078,1184],"content":"All of the directories specified in the <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file by passing in a path to the <bpt id=\"p2\">*</bpt>global.json<ept id=\"p2\">*</ept> file.","source":"All of the directories specified in the *global.json* file by passing in a path to the *global.json* file."},{"pos":[1187,1268],"content":"A <bpt id=\"p1\">*</bpt>solution.sln<ept id=\"p1\">*</ept> file, where it migrates the projects referenced in the solution.","source":"A *solution.sln* file, where it migrates the projects referenced in the solution."},{"content":"On all subdirectories of the given directory recursively.","pos":[1271,1328]},{"content":"The <ph id=\"ph1\">`dotnet migrate`</ph> command keeps the migrated <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> file inside a <ph id=\"ph2\">`backup`</ph> directory, which it creates if the directory doesn't exist.","pos":[1330,1475],"source":"The `dotnet migrate` command keeps the migrated *project.json* file inside a `backup` directory, which it creates if the directory doesn't exist."},{"content":"This behavior is overridden using the <ph id=\"ph1\">`--skip-backup`</ph> option.","pos":[1476,1537],"source":" This behavior is overridden using the `--skip-backup` option."},{"content":"By default, the migration operation outputs the state of the migration process to standard output (STDOUT).","pos":[1539,1646]},{"content":"If you use the <ph id=\"ph1\">`--report-file &lt;REPORT_FILE&gt;`</ph> option, the output is saved to the file specify.","pos":[1647,1740],"source":" If you use the `--report-file <REPORT_FILE>` option, the output is saved to the file specify."},{"content":"The <ph id=\"ph1\">`dotnet migrate`</ph> command only supports valid Preview 2 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based projects.","pos":[1742,1831],"source":"The `dotnet migrate` command only supports valid Preview 2 *project.json*-based projects."},{"content":"This means that you cannot use it to migrate DNX or Preview 1 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based projects directly to MSBuild/csproj projects.","pos":[1832,1960],"source":" This means that you cannot use it to migrate DNX or Preview 1 *project.json*-based projects directly to MSBuild/csproj projects."},{"content":"You first need to manually migrate the project to a Preview 2 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based project and then use the <ph id=\"ph1\">`dotnet migrate`</ph> command to migrate the project.","pos":[1961,2117],"source":" You first need to manually migrate the project to a Preview 2 *project.json*-based project and then use the `dotnet migrate` command to migrate the project."},{"pos":[2122,2131],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"The path to one of the following:","pos":[2187,2220]},{"pos":[2224,2257],"content":"a <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> file to migrate.","source":"a *project.json* file to migrate."},{"pos":[2260,2334],"content":"a <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file: the folders specified in <bpt id=\"p2\">*</bpt>global.json<ept id=\"p2\">*</ept> are migrated.","source":"a *global.json* file: the folders specified in *global.json* are migrated."},{"pos":[2337,2413],"content":"a <bpt id=\"p1\">*</bpt>solution.sln<ept id=\"p1\">*</ept> file: the projects referenced in the solution are migrated.","source":"a *solution.sln* file: the projects referenced in the solution are migrated."},{"pos":[2416,2528],"content":"a directory to migrate: recursively searches for <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> files to migrate inside the specified directory.","source":"a directory to migrate: recursively searches for *project.json* files to migrate inside the specified directory."},{"content":"Defaults to current directory if nothing is specified.","pos":[2530,2584]},{"pos":[2589,2596],"content":"Options","linkify":"Options","nodes":[{"content":"Options","pos":[0,7]}]},{"content":"Output migration report file as JSON rather than user messages.","pos":[2641,2704]},{"content":"Prints out a short help for the command.","pos":[2719,2759]},{"content":"Output migration report to a file in addition to the console.","pos":[2795,2856]},{"content":"Skip migrating project references.","pos":[2906,2940]},{"content":"By default, project references are migrated recursively.","pos":[2941,2997]},{"pos":[3016,3125],"content":"Skip moving <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>, <bpt id=\"p2\">*</bpt>global.json<ept id=\"p2\">*</ept>, and <bpt id=\"p3\">*</bpt><ph id=\"ph1\">\\*</ph>.xproj<ept id=\"p3\">*</ept> to a <ph id=\"ph2\">`backup`</ph> directory after successful migration.","source":"Skip moving *project.json*, *global.json*, and *\\*.xproj* to a `backup` directory after successful migration."},{"content":"Template csproj file to use for migration.","pos":[3165,3207]},{"content":"By default, the same template as the one dropped by <ph id=\"ph1\">`dotnet new console`</ph> is used.","pos":[3208,3289],"source":" By default, the same template as the one dropped by `dotnet new console` is used."},{"content":"The version of the sdk package that's referenced in the migrated app.","pos":[3329,3398]},{"content":"The default is the version of the SDK in <ph id=\"ph1\">`dotnet new`</ph>.","pos":[3399,3453],"source":" The default is the version of the SDK in `dotnet new`."},{"content":"The path to the xproj file to use.","pos":[3481,3515]},{"content":"Required when there is more than one xproj in a project directory.","pos":[3516,3582]},{"pos":[3587,3595],"content":"Examples","linkify":"Examples","nodes":[{"content":"Examples","pos":[0,8]}]},{"content":"Migrate a project in the current directory and all of its project-to-project dependencies:","pos":[3597,3687]},{"pos":[3707,3761],"content":"Migrate all projects that <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file includes:","source":"Migrate all projects that *global.json* file includes:"},{"content":"Migrate only the current project and no project-to-project (P2P) dependencies.","pos":[3801,3879]},{"content":"Also, use a specific SDK version:","pos":[3880,3913]}]}