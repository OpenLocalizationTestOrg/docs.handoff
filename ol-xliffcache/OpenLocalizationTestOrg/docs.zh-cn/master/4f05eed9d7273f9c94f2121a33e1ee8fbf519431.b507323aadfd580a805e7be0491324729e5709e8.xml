{"content":"---\ntitle: \"Reliable Services | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"WCF [WCF], reliable messaging\"\n  - \"Windows Communication Foundation [WCF], reliable messaging\"\n  - \"WCF [WCF], reliable sessions\"\n  - \"Windows Communication Foundation [WCF], reliable sessions\"\n  - \"service contracts [WCF], reliable services\"\nms.assetid: 07814ed0-0775-47f2-987b-d8134fdd5099\ncaps.latest.revision: 8\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Reliable Services\nQueues and reliable sessions are the [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] features that implement reliable messaging. This topic explains the reliable messaging features of [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].  \n  \n *Reliable messaging* is how a reliable messaging source (called the *source*) transfers messages reliably to a reliable messaging destination (called the *destination*).  \n  \n Reliable messaging performs the following functions:  \n  \n-   Transfers assurances for messages sent from a source to a destination regardless of message transfer or transport failures.  \n  \n-   Separates the source and the destination from each other. This provides independent failure and recovery of the source and the destination, as well as reliable transfer and delivery of messages, even when the source or destination is unavailable.  \n  \n Reliable messaging frequently comes at the cost of high latency. *Latency* is the time it takes for the message to reach the destination from the source. [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], therefore, provides the following types of reliable messaging:  \n  \n-   [Reliable Sessions](../../../docs/framework/wcf/feature-details/reliable-sessions.md), which offers reliable transfer without the cost of high latency.  \n  \n-   [Queues in WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md), which offers both reliable transfers and separation between the source and the destination.  \n  \n## Reliable Sessions  \n Reliable sessions provide end-to-end reliable transfer of messages between a source and a destination using the WS-Reliable Messaging protocol, regardless of the number or type of intermediaries that separate the messaging (source and destination) endpoints. This includes any transport intermediaries that do not use SOAP (for example, HTTP proxies) or intermediaries that use SOAP (for example, SOAP-based routers or bridges) that are required for messages to flow between the endpoints. Reliable sessions use an in-memory transfer window to mask SOAP message-level failures and re-establish connections in the case of transport failures.  \n  \n Reliable sessions provide low-latency reliable message transfers. They provide for SOAP messages over any proxies or intermediaries, equivalent to what TCP provides for packets over IP bridges. [!INCLUDE[crabout](../../../includes/crabout-md.md)] reliable sessions, see [Reliable Sessions](../../../docs/framework/wcf/feature-details/reliable-sessions.md).  \n  \n### Queues  \n Queues in [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] provide both reliable transfers of messages and separation between sources and destinations at the cost of high latency. [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] queued communication is built on top of Message Queuing (MSMQ).  \n  \n MSMQ ships as an optional component with Windows. The MSMQ service runs as a Windows Service. It captures messages for transmission in a transmission queue on behalf of the source and delivers it to a target queue. The target queue accepts messages on behalf of the destination for later delivery whenever the destination requests messages. The MSMQ managers implement a reliable message-transfer protocol so that messages are not lost in transmission. The protocol can be native or a SOAP-based protocol called SOAP Reliable Messaging Protocol (SRMP).  \n  \n The separation, coupled with reliable message transfers between queues, enables applications that are loosely coupled to communicate reliably. Unlike reliable sessions, the source and destination do not have to be running at the same time. This implicitly enables scenarios where queues are, in effect, used as a load-leveling mechanism when the source's rate of message production and the destination's rate of the message consumption do not match. [!INCLUDE[crabout](../../../includes/crabout-md.md)] queues, see [Queues in WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md).  \n  \n## See Also  \n [Reliable Sessions Overview](../../../docs/framework/wcf/feature-details/reliable-sessions-overview.md)   \n [Queuing in WCF](../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)","nodes":[{"pos":[12,46],"content":"Reliable Services | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Reliable Services | Microsoft Docs","pos":[0,34]}]},{"pos":[615,632],"content":"Reliable Services","linkify":"Reliable Services","nodes":[{"content":"Reliable Services","pos":[0,17]}]},{"content":"Queues and reliable sessions are the <ph id=\"ph1\">[!INCLUDE[indigo1](../../../includes/indigo1-md.md)]</ph> features that implement reliable messaging.","pos":[633,766],"source":"Queues and reliable sessions are the [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] features that implement reliable messaging."},{"content":"This topic explains the reliable messaging features of <ph id=\"ph1\">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]</ph>.","pos":[767,875],"source":" This topic explains the reliable messaging features of [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]."},{"pos":[882,1051],"content":"<bpt id=\"p1\">*</bpt>Reliable messaging<ept id=\"p1\">*</ept> is how a reliable messaging source (called the <bpt id=\"p2\">*</bpt>source<ept id=\"p2\">*</ept>) transfers messages reliably to a reliable messaging destination (called the <bpt id=\"p3\">*</bpt>destination<ept id=\"p3\">*</ept>).","source":"*Reliable messaging* is how a reliable messaging source (called the *source*) transfers messages reliably to a reliable messaging destination (called the *destination*)."},{"content":"Reliable messaging performs the following functions:","pos":[1058,1110]},{"content":"Transfers assurances for messages sent from a source to a destination regardless of message transfer or transport failures.","pos":[1120,1243]},{"content":"Separates the source and the destination from each other.","pos":[1253,1310]},{"content":"This provides independent failure and recovery of the source and the destination, as well as reliable transfer and delivery of messages, even when the source or destination is unavailable.","pos":[1311,1499]},{"content":"Reliable messaging frequently comes at the cost of high latency.","pos":[1506,1570]},{"content":"<bpt id=\"p1\">*</bpt>Latency<ept id=\"p1\">*</ept> is the time it takes for the message to reach the destination from the source.","pos":[1571,1659],"source":"*Latency* is the time it takes for the message to reach the destination from the source."},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]</ph>, therefore, provides the following types of reliable messaging:","pos":[1660,1776],"source":"[!INCLUDE[indigo2](../../../includes/indigo2-md.md)], therefore, provides the following types of reliable messaging:"},{"pos":[1786,1937],"content":"<bpt id=\"p1\">[</bpt>Reliable Sessions<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/reliable-sessions.md)</ept>, which offers reliable transfer without the cost of high latency.","source":"[Reliable Sessions](../../../docs/framework/wcf/feature-details/reliable-sessions.md), which offers reliable transfer without the cost of high latency."},{"pos":[1947,2117],"content":"<bpt id=\"p1\">[</bpt>Queues in WCF<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/queues-in-wcf.md)</ept>, which offers both reliable transfers and separation between the source and the destination.","source":"[Queues in WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md), which offers both reliable transfers and separation between the source and the destination."},{"pos":[2126,2143],"content":"Reliable Sessions","linkify":"Reliable Sessions","nodes":[{"content":"Reliable Sessions","pos":[0,17]}]},{"content":"Reliable sessions provide end-to-end reliable transfer of messages between a source and a destination using the WS-Reliable Messaging protocol, regardless of the number or type of intermediaries that separate the messaging (source and destination) endpoints.","pos":[2147,2405]},{"content":"This includes any transport intermediaries that do not use SOAP (for example, HTTP proxies) or intermediaries that use SOAP (for example, SOAP-based routers or bridges) that are required for messages to flow between the endpoints.","pos":[2406,2636]},{"content":"Reliable sessions use an in-memory transfer window to mask SOAP message-level failures and re-establish connections in the case of transport failures.","pos":[2637,2787]},{"content":"Reliable sessions provide low-latency reliable message transfers.","pos":[2794,2859]},{"content":"They provide for SOAP messages over any proxies or intermediaries, equivalent to what TCP provides for packets over IP bridges.","pos":[2860,2987]},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../includes/crabout-md.md)]</ph> reliable sessions, see <bpt id=\"p1\">[</bpt>Reliable Sessions<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/reliable-sessions.md)</ept>.","pos":[2988,3150],"source":"[!INCLUDE[crabout](../../../includes/crabout-md.md)] reliable sessions, see [Reliable Sessions](../../../docs/framework/wcf/feature-details/reliable-sessions.md)."},{"pos":[3160,3166],"content":"Queues","linkify":"Queues","nodes":[{"content":"Queues","pos":[0,6]}]},{"content":"Queues in <ph id=\"ph1\">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]</ph> provide both reliable transfers of messages and separation between sources and destinations at the cost of high latency.","pos":[3170,3353],"source":"Queues in [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] provide both reliable transfers of messages and separation between sources and destinations at the cost of high latency."},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]</ph> queued communication is built on top of Message Queuing (MSMQ).","pos":[3354,3470],"source":"[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] queued communication is built on top of Message Queuing (MSMQ)."},{"content":"MSMQ ships as an optional component with Windows.","pos":[3477,3526]},{"content":"The MSMQ service runs as a Windows Service.","pos":[3527,3570]},{"content":"It captures messages for transmission in a transmission queue on behalf of the source and delivers it to a target queue.","pos":[3571,3691]},{"content":"The target queue accepts messages on behalf of the destination for later delivery whenever the destination requests messages.","pos":[3692,3817]},{"content":"The MSMQ managers implement a reliable message-transfer protocol so that messages are not lost in transmission.","pos":[3818,3929]},{"content":"The protocol can be native or a SOAP-based protocol called SOAP Reliable Messaging Protocol (SRMP).","pos":[3930,4029]},{"content":"The separation, coupled with reliable message transfers between queues, enables applications that are loosely coupled to communicate reliably.","pos":[4036,4178]},{"content":"Unlike reliable sessions, the source and destination do not have to be running at the same time.","pos":[4179,4275]},{"content":"This implicitly enables scenarios where queues are, in effect, used as a load-leveling mechanism when the source's rate of message production and the destination's rate of the message consumption do not match.","pos":[4276,4485]},{"content":"<ph id=\"ph1\">[!INCLUDE[crabout](../../../includes/crabout-md.md)]</ph> queues, see <bpt id=\"p1\">[</bpt>Queues in WCF<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/queues-in-wcf.md)</ept>.","pos":[4486,4629],"source":"[!INCLUDE[crabout](../../../includes/crabout-md.md)] queues, see [Queues in WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md)."},{"pos":[4638,4646],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Reliable Sessions Overview<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/reliable-sessions-overview.md)</ept><ph id=\"ph1\"> </ph>","pos":[4650,4754],"source":"[Reliable Sessions Overview](../../../docs/framework/wcf/feature-details/reliable-sessions-overview.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Queuing in WCF<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)</ept>","pos":[4757,4837],"source":" [Queuing in WCF](../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)"}]}