{"content":"---\ntitle: \"&lt;Thread_UseAllCpuGroups&gt; Element | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nms.assetid: d30fe7c5-8469-46e2-b804-e3eec7b24256\ncaps.latest.revision: 6\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# &lt;Thread_UseAllCpuGroups&gt; Element\nSpecifies whether the runtime distributes managed threads across all CPU groups.  \n  \n \\<configuration>  \n\\<runtime>  \n<Thread_UseAllCpuGroups>  \n  \n## Syntax  \n  \n```vb  \n<Thread_UseAllCpuGroups    \n   enabled=\"true|false\"/>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`enabled`|Required attribute.<br /><br /> Specifies whether the runtime distributes managed threads across all CPU groups.|  \n  \n## enabled Attribute  \n  \n|Value|Description|  \n|-----------|-----------------|  \n|`false`|The runtime does not distribute managed threads across multiple CPU groups. This is the default.|  \n|`true`|The runtime distributes managed threads across multiple CPU groups, if the computer has multiple CPU groups and the [\\<GCCpuGroup>](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md) element is enabled.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`configuration`|The root element in every configuration file used by the common language runtime and .NET Framework applications.|  \n|`runtime`|Contains information about assembly binding and garbage collection.|  \n  \n## Remarks  \n When a computer has multiple CPU groups, enabling this element causes the runtime to distribute managed threads across all CPU groups. To use this feature, you must also enable the [\\<GCCpuGroup>](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md) element, which extends garbage collection to all CPU groups and takes all cores into account when creating and balancing heaps. Enabling the [\\<GCCpuGroup>](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md) element requires enabling the [\\<gcServer>](../../../../../docs/framework/configure-apps/file-schema/runtime/gcserver-element.md) element. If these elements are not enabled, enabling the `<Thread_UseAllCpuGroups>` element has no effect.  \n  \n## Example  \n The following example shows how to enable support for multiple CPU groups.  \n  \n```  \n<configuration>  \n   <runtime>  \n      <Thread_UseAllCpuGroups enabled=\"true\"/>  \n      <GCCpuGroup enabled=\"true\"/>  \n      <gcServer enabled=\"true\"/>  \n   </runtime>  \n</configuration>  \n```  \n  \n## See Also  \n [Runtime Settings Schema](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md)   \n [Configuration File Schema](../../../../../docs/framework/configure-apps/file-schema/index.md)   \n [\\<GCCpuGroup> Element](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md)","nodes":[{"pos":[12,67],"content":"&lt;Thread_UseAllCpuGroups&gt; Element | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>Thread_UseAllCpuGroups<ph id=\"ph2\">&amp;gt;</ph> Element | Microsoft Docs","pos":[0,55],"source":"&lt;Thread_UseAllCpuGroups&gt; Element | Microsoft Docs"}]},{"pos":[427,465],"content":"&lt;Thread_UseAllCpuGroups&gt; Element","linkify":"&lt;Thread_UseAllCpuGroups&gt; Element","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>Thread_UseAllCpuGroups<ph id=\"ph2\">&amp;gt;</ph> Element","pos":[0,38],"source":"&lt;Thread_UseAllCpuGroups&gt; Element"}]},{"content":"Specifies whether the runtime distributes managed threads across all CPU groups.","pos":[466,546]},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt;","pos":[553,569],"source":"\\<configuration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>runtime&gt;","pos":[572,582],"source":"\\<runtime>"},{"content":"&lt;Thread_UseAllCpuGroups&gt;","pos":[585,609],"source":"<Thread_UseAllCpuGroups>"},{"pos":[618,624],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[706,729],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[733,813]},{"pos":[823,833],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[840,849]},{"content":"Description","pos":[850,861]},{"content":"Required attribute.","pos":[914,933]},{"content":"Specifies whether the runtime distributes managed threads across all CPU groups.","pos":[946,1026]},{"pos":[1036,1053],"content":"enabled Attribute","linkify":"enabled Attribute","nodes":[{"content":"enabled Attribute","pos":[0,17]}]},{"content":"Value","pos":[1060,1065]},{"content":"Description","pos":[1066,1077]},{"content":"The runtime does not distribute managed threads across multiple CPU groups.","pos":[1124,1199]},{"content":"This is the default.","pos":[1200,1220]},{"pos":[1232,1471],"content":"The runtime distributes managed threads across multiple CPU groups, if the computer has multiple CPU groups and the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>GCCpuGroup&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md)</ept> element is enabled.","source":"The runtime distributes managed threads across multiple CPU groups, if the computer has multiple CPU groups and the [\\<GCCpuGroup>](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md) element is enabled."},{"pos":[1482,1496],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[1500,1505]},{"pos":[1515,1530],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1537,1544]},{"content":"Description","pos":[1545,1556]},{"content":"The root element in every configuration file used by the common language runtime and .NET Framework applications.","pos":[1613,1726]},{"content":"Contains information about assembly binding and garbage collection.","pos":[1741,1808]},{"pos":[1818,1825],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"When a computer has multiple CPU groups, enabling this element causes the runtime to distribute managed threads across all CPU groups.","pos":[1829,1963]},{"content":"To use this feature, you must also enable the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>GCCpuGroup&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md)</ept> element, which extends garbage collection to all CPU groups and takes all cores into account when creating and balancing heaps.","pos":[1964,2241],"source":" To use this feature, you must also enable the [\\<GCCpuGroup>](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md) element, which extends garbage collection to all CPU groups and takes all cores into account when creating and balancing heaps."},{"content":"Enabling the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>GCCpuGroup&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md)</ept> element requires enabling the <bpt id=\"p2\">[</bpt><ph id=\"ph2\">\\&lt;</ph>gcServer&gt;<ept id=\"p2\">](../../../../../docs/framework/configure-apps/file-schema/runtime/gcserver-element.md)</ept> element.","pos":[2242,2497],"source":" Enabling the [\\<GCCpuGroup>](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md) element requires enabling the [\\<gcServer>](../../../../../docs/framework/configure-apps/file-schema/runtime/gcserver-element.md) element."},{"content":"If these elements are not enabled, enabling the <ph id=\"ph1\">`&lt;Thread_UseAllCpuGroups&gt;`</ph> element has no effect.","pos":[2498,2595],"source":" If these elements are not enabled, enabling the `<Thread_UseAllCpuGroups>` element has no effect."},{"pos":[2604,2611],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example shows how to enable support for multiple CPU groups.","pos":[2615,2689]},{"pos":[2902,2910],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Runtime Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[2914,3015],"source":"[Runtime Settings Schema](../../../../../docs/framework/configure-apps/file-schema/runtime/index.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Configuration File Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[3018,3114],"source":" [Configuration File Schema](../../../../../docs/framework/configure-apps/file-schema/index.md) "},{"content":"<bpt id=\"p1\"> [</bpt><ph id=\"ph1\">\\&lt;</ph>GCCpuGroup&gt; Element<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md)</ept>","pos":[3117,3229],"source":" [\\<GCCpuGroup> Element](../../../../../docs/framework/configure-apps/file-schema/runtime/gccpugroup-element.md)"}]}