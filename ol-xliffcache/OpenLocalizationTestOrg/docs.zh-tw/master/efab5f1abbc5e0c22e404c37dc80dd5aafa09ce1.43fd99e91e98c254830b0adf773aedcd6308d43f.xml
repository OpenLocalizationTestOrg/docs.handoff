{"content":"---\ntitle: \"FUNCTION (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: 0bb88992-37ed-4991-ace5-55be612a2c4d\n---\n# FUNCTION (Entity SQL)\nDefines a function in the scope of an Entity SQL query command.  \n  \n## Syntax  \n  \n```  \nFUNCTION function-name  \n( [ { parameter_name <type_definition>   \n        [ ,...n ]  \n  ]  \n) AS ( function_expression )   \n  \n<type_definition>::=  \n    { data_type | COLLECTION ( <type_definition> )   \n                | REF ( data_type )   \n                | ROW ( row_expression )   \n        }   \n```  \n  \n## Arguments  \n `function-name`  \n Name of the function.  \n  \n `parameter-name`  \n Name of a parameter in the function.  \n  \n `function_expression`  \n A valid Entity SQL expression that is the function. The command in the function can act on `parameter_name` parameters passed to the function.  \n  \n `data_type`  \n Name of a supported type.  \n  \n COLLECTION ( <type_definition`>` )  \n An expression that returns a collection of supported types, rows, or references.  \n  \n REF **(**`data_type`**)**  \n An expression that returns a reference to an entity type.  \n  \n ROW **(**`row_expression`**)**  \n An expression that returns anonymous, structurally typed records from one or more values. For more information, see [ROW](../../../../../../docs/framework/data/adonet/ef/language-reference/row-entity-sql.md).  \n  \n## Remarks  \n Multiple functions with the same name can be declared inline, as long as the function signatures are different. For more information, see [Function Overload Resolution](../../../../../../docs/framework/data/adonet/ef/language-reference/function-overload-resolution-entity-sql.md).  \n  \n An inline function can be called in an Entity SQL command only after it has been defined in that command. However, an inline function can be called inside another inline function either before or after the called function has been defined. In the following example, function A calls function B before function B is defined:  \n  \n `Function A() as ('A calls B. ' + B())`  \n  \n `Function B() as ('B was called.')`  \n  \n `A()`  \n  \n For more information, see [How to: Call a User-Defined Function](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd490951(v=vs.100)).  \n  \n Functions can also be declared in the model itself. Functions declared in the model are executed in the same way as functions declared inline in the command. For more information, see [User-Defined Functions](../../../../../../docs/framework/data/adonet/ef/language-reference/user-defined-functions-entity-sql.md).  \n  \n## Example  \n The following Entity SQL command defines a function `Products` that takes an integer value to filter the returned products.  \n  \n [!code-csharp[DP EntityServices Concepts 2#FUNCTION1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#function1)]  \n  \n## Example  \n The following Entity SQL command defines a function `StringReturnsCollection` that takes a collection of strings to filter the returned contacts.  \n  \n [!code-csharp[DP EntityServices Concepts 2#FUNCTION2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#function2)]  \n  \n## See also\n\n- [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)\n- [Entity SQL Language](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-language.md)\n","nodes":[{"pos":[4,105],"embed":true,"restype":"x-metadata","content":"title: \"FUNCTION (Entity SQL)\"\nms.date: \"03/30/2017\"\nms.assetid: 0bb88992-37ed-4991-ace5-55be612a2c4d","nodes":[{"content":"FUNCTION (Entity SQL)","nodes":[{"pos":[0,21],"content":"FUNCTION (Entity SQL)","nodes":[{"content":"FUNCTION (Entity SQL)","pos":[0,21]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[112,133],"content":"FUNCTION (Entity SQL)","linkify":"FUNCTION (Entity SQL)","nodes":[{"content":"FUNCTION (Entity SQL)","pos":[0,21]}]},{"content":"Defines a function in the scope of an Entity SQL query command.","pos":[134,197]},{"pos":[206,212],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[537,546],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"Name of the function.","pos":[569,590]},{"content":"Name of a parameter in the function.","pos":[617,653]},{"content":"A valid Entity SQL expression that is the function.","pos":[685,736]},{"content":"The command in the function can act on <ph id=\"ph1\">`parameter_name`</ph> parameters passed to the function.","pos":[737,827],"source":" The command in the function can act on `parameter_name` parameters passed to the function."},{"content":"Name of a supported type.","pos":[849,874]},{"content":"COLLECTION ( &lt;type_definition<ph id=\"ph1\">`&gt;`</ph> )","pos":[881,915],"source":"COLLECTION ( <type_definition`>` )"},{"content":"An expression that returns a collection of supported types, rows, or references.","pos":[919,999]},{"content":"REF <bpt id=\"p1\">**</bpt>(<ept id=\"p1\">**</ept><ph id=\"ph1\">`data_type`</ph><bpt id=\"p2\">**</bpt>)<ept id=\"p2\">**</ept>","pos":[1006,1031],"source":"REF **(**`data_type`**)**"},{"content":"An expression that returns a reference to an entity type.","pos":[1035,1092]},{"content":"ROW <bpt id=\"p1\">**</bpt>(<ept id=\"p1\">**</ept><ph id=\"ph1\">`row_expression`</ph><bpt id=\"p2\">**</bpt>)<ept id=\"p2\">**</ept>","pos":[1099,1129],"source":"ROW **(**`row_expression`**)**"},{"content":"An expression that returns anonymous, structurally typed records from one or more values.","pos":[1133,1222]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>ROW<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/row-entity-sql.md)</ept>.","pos":[1223,1341],"source":" For more information, see [ROW](../../../../../../docs/framework/data/adonet/ef/language-reference/row-entity-sql.md)."},{"pos":[1350,1357],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Multiple functions with the same name can be declared inline, as long as the function signatures are different.","pos":[1361,1472]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Function Overload Resolution<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/function-overload-resolution-entity-sql.md)</ept>.","pos":[1473,1641],"source":" For more information, see [Function Overload Resolution](../../../../../../docs/framework/data/adonet/ef/language-reference/function-overload-resolution-entity-sql.md)."},{"content":"An inline function can be called in an Entity SQL command only after it has been defined in that command.","pos":[1648,1753]},{"content":"However, an inline function can be called inside another inline function either before or after the called function has been defined.","pos":[1754,1887]},{"content":"In the following example, function A calls function B before function B is defined:","pos":[1888,1971]},{"pos":[2078,2232],"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Call a User-Defined Function<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd490951(v=vs.100))</ept>.","source":"For more information, see [How to: Call a User-Defined Function](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd490951(v=vs.100))."},{"content":"Functions can also be declared in the model itself.","pos":[2239,2290]},{"content":"Functions declared in the model are executed in the same way as functions declared inline in the command.","pos":[2291,2396]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>User-Defined Functions<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/user-defined-functions-entity-sql.md)</ept>.","pos":[2397,2553],"source":" For more information, see [User-Defined Functions](../../../../../../docs/framework/data/adonet/ef/language-reference/user-defined-functions-entity-sql.md)."},{"pos":[2562,2569],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2573,2696],"content":"The following Entity SQL command defines a function <ph id=\"ph1\">`Products`</ph> that takes an integer value to filter the returned products.","source":"The following Entity SQL command defines a function `Products` that takes an integer value to filter the returned products."},{"pos":[2881,2888],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2892,3037],"content":"The following Entity SQL command defines a function <ph id=\"ph1\">`StringReturnsCollection`</ph> that takes a collection of strings to filter the returned contacts.","source":"The following Entity SQL command defines a function `StringReturnsCollection` that takes a collection of strings to filter the returned contacts."},{"pos":[3222,3230],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3234,3348],"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept>","source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)"},{"pos":[3351,3463],"content":"<bpt id=\"p1\">[</bpt>Entity SQL Language<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-language.md)</ept>","source":"[Entity SQL Language](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-language.md)"}]}