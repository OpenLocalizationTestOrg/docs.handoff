{"content":"---\ntitle: \"Compiler Error CS1951 | Microsoft Docs\"\n\nms.date: \"2015-07-20\"\nms.prod: .net\n\n\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\nf1_keywords: \n  - \"CS1951\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"CS1951\"\nms.assetid: 799ba212-a000-44d9-b7da-a8c00eae63fa\ncaps.latest.revision: 5\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.ht: \n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"ru-ru\"\n  - \"zh-cn\"\n  - \"zh-tw\"\ntranslation.priority.mt: \n  - \"cs-cz\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"tr-tr\"\n---\n# Compiler Error CS1951\nAn expression tree lambda may not contain an out or ref parameter.  \n  \n An expression tree just represents expressions as data structures. There is no way to represent specific memory locations as is required when you pass a parameter by reference.  \n  \n## To correct this error  \n  \n1.  The only option is to remove the `ref` modifier in the delegate definition and pass in the parameter by value.  \n  \n## Example  \n The following example generates CS1951:  \n  \n```  \n// cs1951.cs  \nusing System.Linq;  \npublic delegate int TestDelegate(ref int i);  \nclass Test  \n{  \n    static void Main()  \n    {  \n        System.Linq.Expressions.Expression<TestDelegate> tree1 = (ref int x) => x; // CS1951  \n    }  \n}  \n```  \n  \n## See Also  \n [Expression Trees](http://msdn.microsoft.com/library/fb1d3ed8-d5b0-4211-a71f-dd271529294b)","nodes":[{"pos":[12,50],"content":"Compiler Error CS1951 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Compiler Error CS1951 | Microsoft Docs","pos":[0,38]}]},{"pos":[565,586],"content":"Compiler Error CS1951","linkify":"Compiler Error CS1951","nodes":[{"content":"Compiler Error CS1951","pos":[0,21]}]},{"content":"An expression tree lambda may not contain an out or ref parameter.","pos":[587,653]},{"content":"An expression tree just represents expressions as data structures.","pos":[660,726]},{"content":"There is no way to represent specific memory locations as is required when you pass a parameter by reference.","pos":[727,836]},{"pos":[845,866],"content":"To correct this error","linkify":"To correct this error","nodes":[{"content":"To correct this error","pos":[0,21]}]},{"pos":[876,986],"content":"The only option is to remove the <ph id=\"ph1\">`ref`</ph> modifier in the delegate definition and pass in the parameter by value.","source":"The only option is to remove the `ref` modifier in the delegate definition and pass in the parameter by value."},{"pos":[995,1002],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example generates CS1951:","pos":[1006,1045]},{"pos":[1309,1317],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[1321,1411],"content":"<bpt id=\"p1\">[</bpt>Expression Trees<ept id=\"p1\">](http://msdn.microsoft.com/library/fb1d3ed8-d5b0-4211-a71f-dd271529294b)</ept>","source":"[Expression Trees](http://msdn.microsoft.com/library/fb1d3ed8-d5b0-4211-a71f-dd271529294b)"}]}