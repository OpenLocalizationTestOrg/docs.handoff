{"content":"---\ntitle: \"Custom Composite Designers - Workflow Item Presenter\"\nms.date: \"03/30/2017\"\nms.assetid: f85224cf-9e30-44a5-9a81-3bc438a34364\n---\n# Custom Composite Designers - Workflow Item Presenter\nThe <xref:System.Activities.Presentation.WorkflowItemPresenter> is a key type in the WF designer programming model that allows for the creation of a \"drop zone\" where an arbitrary activity can be placed. This sample shows how to build an activity designer that surfaces such a \"drop zone.\"\n\n This sample demonstrates:\n\n## Demonstrates\n\n-   Creating a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>.\n\n-   Registering the custom designer using the metadata store.\n\n-   Programming the rehosted toolbox declaratively and imperatively.\n\n## Sample Details\n The code for this sample shows:\n\n-   The custom activity designer is built for the `SimpleNativeActivity` class.\n\n-   The creation of a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>.\n\n```xaml\n<sap:ActivityDesigner x:Class=\"Microsoft.Samples.UsingWorkflowItemPresenter.SimpleNativeDesigner\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:sap=\"clr-namespace:System.Activities.Presentation;assembly=System.Activities.Presentation\"\n    xmlns:sapv=\"clr-namespace:System.Activities.Presentation.View;assembly=System.Activities.Presentation\">\n    <sap:ActivityDesigner.Resources>\n        <DataTemplate x:Key=\"Collapsed\">\n            <StackPanel>\n                <TextBlock>This is the collapsed view</TextBlock>\n            </StackPanel>\n        </DataTemplate>\n        <DataTemplate x:Key=\"Expanded\">\n            <StackPanel>\n                <TextBlock>Custom Text</TextBlock>\n                <sap:WorkflowItemPresenter Item=\"{Binding Path=ModelItem.Body, Mode=TwoWay}\"\n                                        HintText=\"Please drop an activity here\" />\n            </StackPanel>\n        </DataTemplate>\n        <Style x:Key=\"ExpandOrCollapsedStyle\" TargetType=\"{x:Type ContentPresenter}\">\n            <Setter Property=\"ContentTemplate\" Value=\"{DynamicResource Collapsed}\"/>\n            <Style.Triggers>\n                <DataTrigger Binding=\"{Binding Path=ShowExpanded}\" Value=\"true\">\n                    <Setter Property=\"ContentTemplate\" Value=\"{DynamicResource Expanded}\"/>\n                </DataTrigger>\n            </Style.Triggers>\n        </Style>\n    </sap:ActivityDesigner.Resources>\n    <Grid>\n        <ContentPresenter Style=\"{DynamicResource ExpandOrCollapsedStyle}\" Content=\"{Binding}\" />\n    </Grid>\n</sap:ActivityDesigner>\n```\n\n Note the use of WPF data binding to bind to `ModelItem.Body`. `ModelItem` is the property on <xref:System.Activities.Presentation.ActivityDesigner> that refers to the underlying object the designer is being used for, in this case, **SimpleNativeActivity**.\n\n#### To setup, build, and run the sample\n\n1.  Open the solution in Visual Studio 2010.\n\n2.  Press F5 to compile and run the application.\n\n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Basic\\CustomActivities\\CustomActivityDesigners\\WorkflowItemPresenter`  \n  \n## See also\n\n- <xref:System.Activities.Presentation.WorkflowItemPresenter>\n- [Developing Applications with the Workflow Designer](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)\n","nodes":[{"pos":[4,136],"embed":true,"restype":"x-metadata","content":"title: \"Custom Composite Designers - Workflow Item Presenter\"\nms.date: \"03/30/2017\"\nms.assetid: f85224cf-9e30-44a5-9a81-3bc438a34364","nodes":[{"content":"Custom Composite Designers - Workflow Item Presenter","nodes":[{"pos":[0,52],"content":"Custom Composite Designers - Workflow Item Presenter","nodes":[{"content":"Custom Composite Designers - Workflow Item Presenter","pos":[0,52]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[143,195],"content":"Custom Composite Designers - Workflow Item Presenter","linkify":"Custom Composite Designers - Workflow Item Presenter","nodes":[{"content":"Custom Composite Designers - Workflow Item Presenter","pos":[0,52]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.WorkflowItemPresenter&gt;</ph> is a key type in the WF designer programming model that allows for the creation of a \"drop zone\" where an arbitrary activity can be placed.","pos":[196,399],"source":"The <xref:System.Activities.Presentation.WorkflowItemPresenter> is a key type in the WF designer programming model that allows for the creation of a \"drop zone\" where an arbitrary activity can be placed."},{"content":"This sample shows how to build an activity designer that surfaces such a \"drop zone.\"","pos":[400,485]},{"content":"This sample demonstrates:","pos":[488,513]},{"pos":[518,530],"content":"Demonstrates","linkify":"Demonstrates","nodes":[{"content":"Demonstrates","pos":[0,12]}]},{"pos":[536,639],"content":"Creating a custom activity designer with a <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.WorkflowItemPresenter&gt;</ph>.","source":"Creating a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>."},{"content":"Registering the custom designer using the metadata store.","pos":[645,702]},{"content":"Programming the rehosted toolbox declaratively and imperatively.","pos":[708,772]},{"pos":[777,791],"content":"Sample Details","linkify":"Sample Details","nodes":[{"content":"Sample Details","pos":[0,14]}]},{"content":"The code for this sample shows:","pos":[793,824]},{"pos":[830,905],"content":"The custom activity designer is built for the <ph id=\"ph1\">`SimpleNativeActivity`</ph> class.","source":"The custom activity designer is built for the `SimpleNativeActivity` class."},{"pos":[911,1021],"content":"The creation of a custom activity designer with a <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.WorkflowItemPresenter&gt;</ph>.","source":"The creation of a custom activity designer with a <xref:System.Activities.Presentation.WorkflowItemPresenter>."},{"content":"Note the use of WPF data binding to bind to <ph id=\"ph1\">`ModelItem.Body`</ph>.","pos":[2668,2729],"source":"Note the use of WPF data binding to bind to `ModelItem.Body`."},{"content":"<ph id=\"ph1\">`ModelItem`</ph> is the property on <ph id=\"ph2\">&lt;xref:System.Activities.Presentation.ActivityDesigner&gt;</ph> that refers to the underlying object the designer is being used for, in this case, <bpt id=\"p1\">**</bpt>SimpleNativeActivity<ept id=\"p1\">**</ept>.","pos":[2730,2924],"source":"`ModelItem` is the property on <xref:System.Activities.Presentation.ActivityDesigner> that refers to the underlying object the designer is being used for, in this case, **SimpleNativeActivity**."},{"pos":[2931,2966],"content":"To setup, build, and run the sample","linkify":"To setup, build, and run the sample","nodes":[{"content":"To setup, build, and run the sample","pos":[0,35]}]},{"content":"Open the solution in Visual Studio 2010.","pos":[2972,3012]},{"content":"Press F5 to compile and run the application.","pos":[3018,3062]},{"pos":[3066,3198],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[3252,3562],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[3563,3613]},{"pos":[3737,3745],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3811,3947],"content":"<bpt id=\"p1\">[</bpt>Developing Applications with the Workflow Designer<ept id=\"p1\">](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)</ept>","source":"[Developing Applications with the Workflow Designer](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)"}]}