{"content":"---\ntitle: \"MDAInfo Structure | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"reference\"\napi_name: \n  - \"MDAInfo\"\napi_location: \n  - \"mscoree.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"MDAInfo\"\ndev_langs: \n  - \"C++\"\nhelpviewer_keywords: \n  - \"MDAInfo structure [.NET Framework hosting]\"\nms.assetid: fb8c14f7-d461-43d1-8b47-adb6723b9b93\ntopic_type: \n  - \"apiref\"\ncaps.latest.revision: 8\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# MDAInfo Structure\nProvides details about the `Event_MDAFired` event, which triggers the creation of a managed debugging assistant (MDA).  \n  \n## Syntax  \n  \n```  \ntypedef struct _MDAInfo {  \n    LPCWSTR  lpMDACaption;  \n    LPCWSTR  lpMDAMessage  \n} MDAInfo;  \n```  \n  \n## Members  \n  \n|Member|Description|  \n|------------|-----------------|  \n|`lpMDACaption`|The title of the current MDA. The title describes the kind of failure that triggered the `Event_MDAFired` event.|  \n|`lpMDAMessage`|The output message provided by the current MDA.|  \n  \n## Remarks  \n Managed debugging assistants (MDAs) are debugging aids that work in conjunction with the common language runtime (CLR) to perform tasks such as identifying invalid conditions in the runtime execution engine or dumping additional information about the state of the engine. MDAs generate XML messages about events that are otherwise difficult to trap. They are especially useful for debugging transitions between managed and unmanaged code.  \n  \n The runtime takes the following steps when an event that triggers the creation of an MDA is fired:  \n  \n-   If the host has not registered an [IActionOnCLREvent](../../../../docs/framework/unmanaged-api/hosting/iactiononclrevent-interface.md) instance by calling [ICLROnEventManager::RegisterActionOnEvent](../../../../docs/framework/unmanaged-api/hosting/iclroneventmanager-registeractiononevent-method.md) to be notified of an `Event_MDAFired` event, the runtime proceeds with its default, non-hosted behavior.  \n  \n-   If the host has registered a handler for this event, the runtime checks to see whether a debugger is attached to the process. If it is, the runtime breaks into the debugger. When the debugger continues, it calls into the host. If no debugger is attached, the runtime calls `IActionOnCLREvent::OnEvent` and passes a pointer to an `MDAInfo` instance as the `data` parameter.  \n  \n The host can choose to activate MDAs and to be notified when an MDA is activated. This gives the host an opportunity to override default behavior and to abort the managed thread that raised the event, to prevent it from corrupting the process state. For more information about using MDAs, see [Diagnosing Errors with Managed Debugging Assistants](../../../../docs/framework/debug-trace-profile/diagnosing-errors-with-managed-debugging-assistants.md).  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** MSCorEE.idl  \n  \n **Library:** Included as a resource in MSCorEE.dll  \n  \n **.NET Framework Versions:** [!INCLUDE[net_current_v20plus](../../../../includes/net-current-v20plus-md.md)]  \n  \n## See Also  \n [Hosting Structures](../../../../docs/framework/unmanaged-api/hosting/hosting-structures.md)   \n [Diagnosing Errors with Managed Debugging Assistants](../../../../docs/framework/debug-trace-profile/diagnosing-errors-with-managed-debugging-assistants.md)","nodes":[{"pos":[12,46],"content":"MDAInfo Structure | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"MDAInfo Structure | Microsoft Docs","pos":[0,34]}]},{"pos":[577,594],"content":"MDAInfo Structure","linkify":"MDAInfo Structure","nodes":[{"content":"MDAInfo Structure","pos":[0,17]}]},{"pos":[595,713],"content":"Provides details about the <ph id=\"ph1\">`Event_MDAFired`</ph> event, which triggers the creation of a managed debugging assistant (MDA).","source":"Provides details about the `Event_MDAFired` event, which triggers the creation of a managed debugging assistant (MDA)."},{"pos":[722,728],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[850,857],"content":"Members","linkify":"Members","nodes":[{"content":"Members","pos":[0,7]}]},{"content":"Member","pos":[864,870]},{"content":"Description","pos":[871,882]},{"content":"The title of the current MDA.","pos":[937,966]},{"content":"The title describes the kind of failure that triggered the <ph id=\"ph1\">`Event_MDAFired`</ph> event.","pos":[967,1049],"source":" The title describes the kind of failure that triggered the `Event_MDAFired` event."},{"content":"The output message provided by the current MDA.","pos":[1069,1116]},{"pos":[1126,1133],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Managed debugging assistants (MDAs) are debugging aids that work in conjunction with the common language runtime (CLR) to perform tasks such as identifying invalid conditions in the runtime execution engine or dumping additional information about the state of the engine.","pos":[1137,1408]},{"content":"MDAs generate XML messages about events that are otherwise difficult to trap.","pos":[1409,1486]},{"content":"They are especially useful for debugging transitions between managed and unmanaged code.","pos":[1487,1575]},{"content":"The runtime takes the following steps when an event that triggers the creation of an MDA is fired:","pos":[1582,1680]},{"pos":[1690,2094],"content":"If the host has not registered an <bpt id=\"p1\">[</bpt>IActionOnCLREvent<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/iactiononclrevent-interface.md)</ept> instance by calling <bpt id=\"p2\">[</bpt>ICLROnEventManager::RegisterActionOnEvent<ept id=\"p2\">](../../../../docs/framework/unmanaged-api/hosting/iclroneventmanager-registeractiononevent-method.md)</ept> to be notified of an <ph id=\"ph1\">`Event_MDAFired`</ph> event, the runtime proceeds with its default, non-hosted behavior.","source":"If the host has not registered an [IActionOnCLREvent](../../../../docs/framework/unmanaged-api/hosting/iactiononclrevent-interface.md) instance by calling [ICLROnEventManager::RegisterActionOnEvent](../../../../docs/framework/unmanaged-api/hosting/iclroneventmanager-registeractiononevent-method.md) to be notified of an `Event_MDAFired` event, the runtime proceeds with its default, non-hosted behavior."},{"content":"If the host has registered a handler for this event, the runtime checks to see whether a debugger is attached to the process.","pos":[2104,2229]},{"content":"If it is, the runtime breaks into the debugger.","pos":[2230,2277]},{"content":"When the debugger continues, it calls into the host.","pos":[2278,2330]},{"content":"If no debugger is attached, the runtime calls <ph id=\"ph1\">`IActionOnCLREvent::OnEvent`</ph> and passes a pointer to an <ph id=\"ph2\">`MDAInfo`</ph> instance as the <ph id=\"ph3\">`data`</ph> parameter.","pos":[2331,2476],"source":" If no debugger is attached, the runtime calls `IActionOnCLREvent::OnEvent` and passes a pointer to an `MDAInfo` instance as the `data` parameter."},{"content":"The host can choose to activate MDAs and to be notified when an MDA is activated.","pos":[2483,2564]},{"content":"This gives the host an opportunity to override default behavior and to abort the managed thread that raised the event, to prevent it from corrupting the process state.","pos":[2565,2732]},{"content":"For more information about using MDAs, see <bpt id=\"p1\">[</bpt>Diagnosing Errors with Managed Debugging Assistants<ept id=\"p1\">](../../../../docs/framework/debug-trace-profile/diagnosing-errors-with-managed-debugging-assistants.md)</ept>.","pos":[2733,2933],"source":" For more information about using MDAs, see [Diagnosing Errors with Managed Debugging Assistants](../../../../docs/framework/debug-trace-profile/diagnosing-errors-with-managed-debugging-assistants.md)."},{"pos":[2942,2954],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[2958,3062],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[3069,3092],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> MSCorEE.idl","source":"**Header:** MSCorEE.idl"},{"pos":[3099,3149],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> Included as a resource in MSCorEE.dll","source":"**Library:** Included as a resource in MSCorEE.dll"},{"pos":[3156,3264],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> <ph id=\"ph1\">[!INCLUDE[net_current_v20plus](../../../../includes/net-current-v20plus-md.md)]</ph>","source":"**.NET Framework Versions:** [!INCLUDE[net_current_v20plus](../../../../includes/net-current-v20plus-md.md)]"},{"pos":[3273,3281],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Hosting Structures<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/hosting/hosting-structures.md)</ept><ph id=\"ph1\"> </ph>","pos":[3285,3378],"source":"[Hosting Structures](../../../../docs/framework/unmanaged-api/hosting/hosting-structures.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Diagnosing Errors with Managed Debugging Assistants<ept id=\"p1\">](../../../../docs/framework/debug-trace-profile/diagnosing-errors-with-managed-debugging-assistants.md)</ept>","pos":[3381,3538],"source":" [Diagnosing Errors with Managed Debugging Assistants](../../../../docs/framework/debug-trace-profile/diagnosing-errors-with-managed-debugging-assistants.md)"}]}