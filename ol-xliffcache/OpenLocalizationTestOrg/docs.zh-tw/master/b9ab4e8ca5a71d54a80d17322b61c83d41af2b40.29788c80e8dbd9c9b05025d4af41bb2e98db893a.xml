{"content":"---\ntitle: \"<commonParameters>\"\nms.date: \"03/30/2017\"\nms.assetid: ffc20832-34d6-4622-8174-81924fd53514\n---\n# \\<commonParameters>\nRepresents a collection of parameters that are used globally across multiple services. This collection will typically include the database connection string that might be shared by durable services.  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<serviceBehaviors>  \n\\<behavior>  \n\\<workflowRuntime>  \n\\<commonParameters>  \n  \n## Syntax  \n  \n```xml  \n<workflowRuntime>\n  <commonParameters>\n    <add name=\"String\"\n         value=\"String\" />\n  </commonParameters>\n</workflowRuntime>\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n None.  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)|Adds a name-value pair of common parameters used by services to the collection.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<workflowRuntime>](../../../../../docs/framework/configure-apps/file-schema/wcf/workflowruntime.md)|Specifies settings for an instance of <xref:System.Workflow.Runtime.WorkflowRuntime> for hosting workflow-based Windows Communication Foundation (WCF) services.|  \n  \n## Remarks  \n The `<commonParameters>` element defines any parameters that are used globally across multiple services, for example `ConnectionString` when using the <xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService>.  \n  \n> [!NOTE]\n>  SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section. Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail. To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example.  \n  \n `<add`  \n  \n `type=\"System.Workflow.Runtime.Tracking.SqlTrackingService, System.Workflow.Runtime, Version=3.0.00000.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\"`  \n  \n `ConnectionString=\"Data Source=localhost;Initial Catalog=Partner20WFTP;Integrated Security=True;\" />`  \n  \n For services that commit work batches to persistence stores, such as <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService> and <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, you can enable them to retry their transaction by using the `EnableRetries` parameter as shown in the following example:  \n  \n```xml  \n<workflowRuntime name=\"SampleApplication\"\n                 unloadOnIdle=\"false\">\n  <commonParameters>\n    <add name=\"ConnectionString\"\n         value=\"Initial Catalog=WorkflowStore;Data Source=localhost;Integrated Security=SSPI;\" />\n    <add name=\"EnableRetries\"\n         value=\"True\" />\n  </commonParameters>\n  <services>\n    <add type=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService, System.Workflow.Runtime,\n               Version=3.0.00000.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\"\n         enableRetries=\"False\" />\n  </services>\n</workflowRuntime>\n```  \n  \n Notice that the `EnableRetries` parameter can be set either at a global level (as shown in the *CommonParameters* section) or for individual services that support `EnableRetries` (as shown in the *Services* section).  \n  \n The following sample code shows how to change the common parameters programmatically.  \n  \n```  \nConfiguration config=WebConfigurationManager.OpenWebConfiguration(\"/Workflow\", \"Default Web Site\", null, \"localhost\");  \nWorkflowRuntimeSection wfruntime=config.GetSection(\"WorkflowRuntime\") as WorkflowRuntimeSection;  \nNameValueConfigurationCollection commonParameters=wfruntime.CommonParameters;  \ncommonParameters[\"ConnectionString\"].Value=\"another connection string\";  \nconfig.Save();  \n```  \n  \n For more information about using a configuration file to control the behavior of a <xref:System.Workflow.Runtime.WorkflowRuntime> object of a Windows Workflow Foundation host application, see [Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90)).  \n  \n## Example  \n  \n```xml  \n<commonParameters>\n   <add name=\"ConnectionString\"\n        value=\"Initial Catalog=WorkflowStore;Data Source=localhost;Integrated Security=SSPI;\" />\n   <add name=\"EnableRetries\"\n        value=\"true\" />\n</commonParameters>\n```  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.WorkflowRuntimeElement>\n- <xref:System.Workflow.Runtime.Configuration.WorkflowRuntimeServiceElement>\n- <xref:System.Workflow.Runtime.WorkflowRuntime>\n- <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService>\n- <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>\n- [Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))\n- [\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)\n","nodes":[{"pos":[4,102],"embed":true,"restype":"x-metadata","content":"title: \"<commonParameters>\"\nms.date: \"03/30/2017\"\nms.assetid: ffc20832-34d6-4622-8174-81924fd53514","nodes":[{"content":"<commonParameters>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[109,128],"content":"\\<commonParameters>","linkify":"\\<commonParameters>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>commonParameters&gt;","pos":[0,19],"source":"\\<commonParameters>"}]},{"content":"Represents a collection of parameters that are used globally across multiple services.","pos":[129,215]},{"content":"This collection will typically include the database connection string that might be shared by durable services.","pos":[216,327]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[334,356],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[359,371],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceBehaviors&gt;","pos":[374,393],"source":"\\<serviceBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[396,407],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>workflowRuntime&gt;","pos":[410,428],"source":"\\<workflowRuntime>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>commonParameters&gt;","pos":[431,450],"source":"\\<commonParameters>"},{"pos":[459,465],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[622,645],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[649,729]},{"pos":[739,749],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"None.","pos":[753,758]},{"pos":[768,782],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[789,796]},{"content":"Description","pos":[797,808]},{"pos":[849,946],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)</ept>","source":"[\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)"},{"content":"Adds a name-value pair of common parameters used by services to the collection.","pos":[947,1026]},{"pos":[1037,1052],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1059,1066]},{"content":"Description","pos":[1067,1078]},{"pos":[1119,1220],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>workflowRuntime&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/workflowruntime.md)</ept>","source":"[\\<workflowRuntime>](../../../../../docs/framework/configure-apps/file-schema/wcf/workflowruntime.md)"},{"pos":[1221,1381],"content":"Specifies settings for an instance of <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> for hosting workflow-based Windows Communication Foundation (WCF) services.","source":"Specifies settings for an instance of <xref:System.Workflow.Runtime.WorkflowRuntime> for hosting workflow-based Windows Communication Foundation (WCF) services."},{"pos":[1391,1398],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"pos":[1402,1639],"content":"The <ph id=\"ph1\">`&lt;commonParameters&gt;`</ph> element defines any parameters that are used globally across multiple services, for example <ph id=\"ph2\">`ConnectionString`</ph> when using the <ph id=\"ph3\">&lt;xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService&gt;</ph>.","source":"The `<commonParameters>` element defines any parameters that are used globally across multiple services, for example `ConnectionString` when using the <xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService>."},{"pos":[1647,2050],"content":"[!NOTE]\n SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section. Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail. To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example.","leadings":["","> "],"nodes":[{"content":"SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section. Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail. To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example.","pos":[9,401],"nodes":[{"content":"SQL Tracking service does not consistently use the <ph id=\"ph1\">`ConnectionString`</ph> value if it is specified in the <ph id=\"ph2\">`&lt;commonParameters&gt;`</ph> section.","pos":[0,131],"source":"SQL Tracking service does not consistently use the `ConnectionString` value if it is specified in the `<commonParameters>` section."},{"content":"Some of its operations such as retrieving the <ph id=\"ph1\">`StateMachineWorkflowInstance.StateHistory`</ph> property may fail.","pos":[132,240],"source":" Some of its operations such as retrieving the `StateMachineWorkflowInstance.StateHistory` property may fail."},{"content":"To workaround this, specify the <ph id=\"ph1\">`ConnectionString`</ph> attribute in the configuration section for tracking provider, as indicated in the following example.","pos":[241,392],"source":" To workaround this, specify the `ConnectionString` attribute in the configuration section for tracking provider, as indicated in the following example."}]}]},{"pos":[2341,2681],"content":"For services that commit work batches to persistence stores, such as <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService&gt;</ph>, you can enable them to retry their transaction by using the <ph id=\"ph3\">`EnableRetries`</ph> parameter as shown in the following example:","source":"For services that commit work batches to persistence stores, such as <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService> and <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, you can enable them to retry their transaction by using the `EnableRetries` parameter as shown in the following example:"},{"pos":[3285,3501],"content":"Notice that the <ph id=\"ph1\">`EnableRetries`</ph> parameter can be set either at a global level (as shown in the <bpt id=\"p1\">*</bpt>CommonParameters<ept id=\"p1\">*</ept> section) or for individual services that support <ph id=\"ph2\">`EnableRetries`</ph> (as shown in the <bpt id=\"p2\">*</bpt>Services<ept id=\"p2\">*</ept> section).","source":"Notice that the `EnableRetries` parameter can be set either at a global level (as shown in the *CommonParameters* section) or for individual services that support `EnableRetries` (as shown in the *Services* section)."},{"content":"The following sample code shows how to change the common parameters programmatically.","pos":[3508,3593]},{"pos":[4006,4317],"content":"For more information about using a configuration file to control the behavior of a <ph id=\"ph1\">&lt;xref:System.Workflow.Runtime.WorkflowRuntime&gt;</ph> object of a Windows Workflow Foundation host application, see <bpt id=\"p1\">[</bpt>Workflow Configuration Files<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))</ept>.","source":"For more information about using a configuration file to control the behavior of a <xref:System.Workflow.Runtime.WorkflowRuntime> object of a Windows Workflow Foundation host application, see [Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))."},{"pos":[4326,4333],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[4581,4589],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4935,5053],"content":"<bpt id=\"p1\">[</bpt>Workflow Configuration Files<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))</ept>","source":"[Workflow Configuration Files](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms732240(v=vs.90))"},{"pos":[5056,5153],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>add&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)</ept>","source":"[\\<add>](../../../../../docs/framework/configure-apps/file-schema/wcf/add-of-commonparameters.md)"}]}