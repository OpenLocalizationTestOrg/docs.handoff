{"content":"---\ntitle: \"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 64359aee-aab0-4042-9a32-d19789af6ca7\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes\nBecause the content of an entity declaration can contain almost anything, there is a possibility that the content could contain an element like `<!ENTITY aname \"<elem>test</elem>\">`.  \n  \n When the XML is parsed, `&aname;` is not expanded with its replacement content at parse time. The expansion of the XML is not done because resolution of the namespace for the element cannot occur until the node is placed in the document. Until that time, there is no knowledge of what namespace is in scope. When the node is put into the document, then the namespace resolution occurs, and the resulting entity content is parsed into its appropriate nodes.  \n  \n> [!NOTE]\n>  Once the expansion occurs on a newly created entity reference node, it never reoccurs. Therefore, the namespaces used in the replacement text for the element are bound at the time that the parent node is set. However, the namespace can be changed for existing entity reference nodes when you remove and insert them somewhere else, or on entity reference nodes that are cloned with the **CloneNode** method.  \n  \n## See also\n\n- [XML Document Object Model (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)\n","nodes":[{"pos":[4,247],"embed":true,"restype":"x-metadata","content":"title: \"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 64359aee-aab0-4042-9a32-d19789af6ca7\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes","nodes":[{"pos":[0,95],"content":"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes","nodes":[{"content":"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes","pos":[0,95]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[254,349],"content":"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes","linkify":"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes","nodes":[{"content":"Namespace Affect on Entity Reference Expansion for New Nodes Containing Elements and Attributes","pos":[0,95]}]},{"pos":[350,532],"content":"Because the content of an entity declaration can contain almost anything, there is a possibility that the content could contain an element like <ph id=\"ph1\">`&lt;!ENTITY aname \"&lt;elem&gt;test&lt;/elem&gt;\"&gt;`</ph>.","source":"Because the content of an entity declaration can contain almost anything, there is a possibility that the content could contain an element like `<!ENTITY aname \"<elem>test</elem>\">`."},{"content":"When the XML is parsed, <ph id=\"ph1\">`&amp;aname;`</ph> is not expanded with its replacement content at parse time.","pos":[539,632],"source":"When the XML is parsed, `&aname;` is not expanded with its replacement content at parse time."},{"content":"The expansion of the XML is not done because resolution of the namespace for the element cannot occur until the node is placed in the document.","pos":[633,776]},{"content":"Until that time, there is no knowledge of what namespace is in scope.","pos":[777,846]},{"content":"When the node is put into the document, then the namespace resolution occurs, and the resulting entity content is parsed into its appropriate nodes.","pos":[847,995]},{"pos":[1003,1420],"content":"[!NOTE]\n Once the expansion occurs on a newly created entity reference node, it never reoccurs. Therefore, the namespaces used in the replacement text for the element are bound at the time that the parent node is set. However, the namespace can be changed for existing entity reference nodes when you remove and insert them somewhere else, or on entity reference nodes that are cloned with the **CloneNode** method.","leadings":["","> "],"nodes":[{"content":"Once the expansion occurs on a newly created entity reference node, it never reoccurs. Therefore, the namespaces used in the replacement text for the element are bound at the time that the parent node is set. However, the namespace can be changed for existing entity reference nodes when you remove and insert them somewhere else, or on entity reference nodes that are cloned with the **CloneNode** method.","pos":[9,415],"nodes":[{"content":"Once the expansion occurs on a newly created entity reference node, it never reoccurs.","pos":[0,86]},{"content":"Therefore, the namespaces used in the replacement text for the element are bound at the time that the parent node is set.","pos":[87,208]},{"content":"However, the namespace can be changed for existing entity reference nodes when you remove and insert them somewhere else, or on entity reference nodes that are cloned with the <bpt id=\"p1\">**</bpt>CloneNode<ept id=\"p1\">**</ept> method.","pos":[209,406],"source":" However, the namespace can be changed for existing entity reference nodes when you remove and insert them somewhere else, or on entity reference nodes that are cloned with the **CloneNode** method."}]}]},{"pos":[1429,1437],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1441,1543],"content":"<bpt id=\"p1\">[</bpt>XML Document Object Model (DOM)<ept id=\"p1\">](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)</ept>","source":"[XML Document Object Model (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)"}]}