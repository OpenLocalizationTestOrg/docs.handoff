{"content":"---\ntitle: \"Using actions to implement server-side behavior\"\nms.date: \"03/30/2017\"\nms.assetid: 11a372db-7168-498b-80d2-9419ff557ba5\n---\n# Using actions to implement server-side behavior\n\nOData Actions provide a way to implement a behavior that acts upon a resource retrieved from an OData service. For example consider a digital movie as a resource, there are many things you may do with a digital movie: check-out, rate/comment, or check-in. These are all examples of Actions that may be implemented by a WCF Data Service that manages digital movies. Actions are described in an OData response that contains a resource on which the Action can be invoked. When a user requests a resource that represents a digital movie the response returned from the WCF Data Service contains information about the Actions that are available for that resource. The availability of an Action can depend on the state of the data service or resource. For example once a digital movie is checked out it cannot be checked out by another user. Clients can invoke an action simply by specifying a URL. For example, `http://MyServer/MovieService.svc/Movies(6)` would identify a specific digital movie and `http://MyServer/MovieService.svc/Movies(6)/Checkout` would invoke the action on the specific movie. Actions allow you to expose you service model without exposing your data model. Continuing with the movie service example, you may wish to allow a user to rate a movie, but not directly expose the rating data as a resource. You could implement a Rate Action to allow the user to rate a movie but not directly access the rating data as a resource.\n  \n## Implementing an action  \n To implement a service action you must implement the <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)), and [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) interfaces. <xref:System.IServiceProvider> allows WCF Data Services to get your implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)). [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) allows WCF Data Services to create, find, describe and invoke service actions. [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) allows you to invoke the code that implements the service actions’ behavior and get the results, if any. Keep in mind that WCF Data Services are Per-Call WCF Services, a new instance of the service will be created each time the service is called.  Make sure no unnecessary work is done when the service is created.  \n  \n### IServiceProvider  \n <xref:System.IServiceProvider> contains a method called <xref:System.IServiceProvider.GetService%2A>. This method is called by WCF Data Services to retrieve a number of service providers, including metadata service providers and data service action providers. When asked for a data service action provider, return your [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) implementation.  \n  \n### IDataServiceActionProvider  \n [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) contains methods that allow you to retrieve information about the available actions. When you implement [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) you are augmenting the metadata for your service which is defined by your service’s implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) with Actions and handling dispatch to those actions as appropriate.  \n  \n#### AdvertiseServiceAction  \n The [AdvertiseServiceAction method](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859971(v=vs.103)) is called to determine what actions are available for the specified resource. This method is only called for actions that are not always available. It is used to check if the action should be included in the OData response based upon the state of the resource being requested or the state of the service. How this check is accomplished is completely up to you. If it is an expensive to calculate availability and the current resource is in a feed, it is acceptable to skip the check and advertise the action. The `inFeed` parameter is set to `true` if the current resource being returned is part of a feed.  \n  \n#### CreateInvokable  \n [CreateInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859940(v=vs.103)) is called to create a [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) that contains a delegate that encapsulates the code that implements the action’s behavior. This creates the [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) instance but does not invoke the action. WCF Data Service Actions have side effects and need to work in conjunction with the Update Provider to save those changes to disk. The [IDataServiceInvokable.Invoke](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859924(v=vs.103)) method is called from the Update Provider’s SaveChanges() method is called.  \n  \n#### GetServiceActions  \n This method returns a collection of [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that represent all of the actions a WCF Data Service exposes. [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is the metadata representation of an Action, that includes information like the Action name, its parameters, and its return type.  \n  \n#### GetServiceActionsByBindingParameterType  \n This method returns a collection of all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that can be bound to the specified binding parameter type. In other words, all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource. This method should only return actions that can bind to the exact binding parameter type (no derived types). This method is called once per request per type encountered and the result is cached by WCF Data Services.  \n  \n#### TryResolveServiceAction  \n This method searches for a specified [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) and returns `true` if the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is found. If found, the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is returned in the `serviceAction` `out` parameter.  \n  \n### IDataServiceInvokable  \n This interface provides a way to execute a WCF Data Service Action. When implementing IDataServiceInvokable you are responsible for 3 things:  \n  \n1.  Capturing and potentially marshaling the parameters  \n  \n2.  Dispatching the parameters to the code that actually implements the Action when Invoke() is called  \n  \n3.  Storing any results from Invoke() so they can be retrieved using GetResult()  \n  \n The parameters may be passed as tokens. This is because it is possible to write a Data Service Provider that works with tokens that represent resources, if this is the case you may need to convert (marshal) these tokens into actual resources before dispatching to the actual action. After the parameter has been marshalled, it must be in an editable state so that any changes to the resource that occur when the action is invoked will be saved and written to disk.  \n  \n This interface requires two methods: Invoke and GetResult. Invoke invokes the delegate that implements the action’s behavior and GetResult returns the result of the action.  \n  \n## Invoking a WCF Data Service Action  \n Actions are invoked using an HTTP POST request. The URL specifies the resource followed by the action name. Parameters are passed in the body of the request. For example if there was a service called MovieService which exposed an action called Rate. You could use the following URL to invoke the Rate action on a specific movie:  \n  \n `http://MovieServer/MovieService.svc/Movies(1)/Rate`\n  \n Movies(1) specifies the movie you wish to rate and Rate specifies the Rate action. The actual value of the rating will be in the body of the HTTP request as shown in the following example:  \n  \n```  \nPOST http://MovieServer/MoviesService.svc/Movies(1)/Rate HTTP/1.1   \nContent-Type: application/json   \nContent-Length: 20   \nHost: localhost:15238  \n{   \n   \"rating\": 4   \n}  \n```  \n  \n> [!WARNING]\n> The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light. If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.  \n  \n Alternatively you can invoke an action using the WCF Data Services Client as shown in the following code snippet.  \n  \n```csharp\nMoviesModel context = new MoviesModel (new Uri(\"http://MyServer/MoviesService.svc/\"));  \n//...  \ncontext.Execute(new Uri(\"http://MyServer/MoviesService.svc/Movies(1)/Rate\"), \"POST\", new BodyOperationParameter(\"rating\",4) );\n```\n  \n In the code snippet above, the `MoviesModel` class was generated by using Visual Studio to Add Service Reference to a WCF Data Service.  \n  \n## See also\n\n- [WCF Data Services 4.5](../../../../docs/framework/data/wcf/index.md)\n- [Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)\n- [Developing and Deploying WCF Data Services](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md)\n- [Custom Data Service Providers](../../../../docs/framework/data/wcf/custom-data-service-providers-wcf-data-services.md)\n","nodes":[{"pos":[4,131],"embed":true,"restype":"x-metadata","content":"title: \"Using actions to implement server-side behavior\"\nms.date: \"03/30/2017\"\nms.assetid: 11a372db-7168-498b-80d2-9419ff557ba5","nodes":[{"content":"Using actions to implement server-side behavior","nodes":[{"pos":[0,47],"content":"Using actions to implement server-side behavior","nodes":[{"content":"Using actions to implement server-side behavior","pos":[0,47]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[138,185],"content":"Using actions to implement server-side behavior","linkify":"Using actions to implement server-side behavior","nodes":[{"content":"Using actions to implement server-side behavior","pos":[0,47]}]},{"content":"OData Actions provide a way to implement a behavior that acts upon a resource retrieved from an OData service.","pos":[187,297]},{"content":"For example consider a digital movie as a resource, there are many things you may do with a digital movie: check-out, rate/comment, or check-in.","pos":[298,442]},{"content":"These are all examples of Actions that may be implemented by a WCF Data Service that manages digital movies.","pos":[443,551]},{"content":"Actions are described in an OData response that contains a resource on which the Action can be invoked.","pos":[552,655]},{"content":"When a user requests a resource that represents a digital movie the response returned from the WCF Data Service contains information about the Actions that are available for that resource.","pos":[656,844]},{"content":"The availability of an Action can depend on the state of the data service or resource.","pos":[845,931]},{"content":"For example once a digital movie is checked out it cannot be checked out by another user.","pos":[932,1021]},{"content":"Clients can invoke an action simply by specifying a URL.","pos":[1022,1078]},{"content":"For example, <ph id=\"ph1\">`http://MyServer/MovieService.svc/Movies(6)`</ph> would identify a specific digital movie and <ph id=\"ph2\">`http://MyServer/MovieService.svc/Movies(6)/Checkout`</ph> would invoke the action on the specific movie.","pos":[1079,1281],"source":" For example, `http://MyServer/MovieService.svc/Movies(6)` would identify a specific digital movie and `http://MyServer/MovieService.svc/Movies(6)/Checkout` would invoke the action on the specific movie."},{"content":"Actions allow you to expose you service model without exposing your data model.","pos":[1282,1361]},{"content":"Continuing with the movie service example, you may wish to allow a user to rate a movie, but not directly expose the rating data as a resource.","pos":[1362,1505]},{"content":"You could implement a Rate Action to allow the user to rate a movie but not directly access the rating data as a resource.","pos":[1506,1628]},{"pos":[1635,1657],"content":"Implementing an action","linkify":"Implementing an action","nodes":[{"content":"Implementing an action","pos":[0,22]}]},{"content":"To implement a service action you must implement the <ph id=\"ph1\">&lt;xref:System.IServiceProvider&gt;</ph>, <bpt id=\"p1\">[</bpt>IDataServiceActionProvider<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))</ept>, and <bpt id=\"p2\">[</bpt>IDataServiceInvokable<ept id=\"p2\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103))</ept> interfaces.","pos":[1661,1995],"source":"To implement a service action you must implement the <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)), and [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) interfaces."},{"content":"<ph id=\"ph1\">&lt;xref:System.IServiceProvider&gt;</ph> allows WCF Data Services to get your implementation of <bpt id=\"p1\">[</bpt>IDataServiceActionProvider<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))</ept>.","pos":[1996,2201],"source":"<xref:System.IServiceProvider> allows WCF Data Services to get your implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))."},{"content":"<bpt id=\"p1\">[</bpt>IDataServiceActionProvider<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))</ept> allows WCF Data Services to create, find, describe and invoke service actions.","pos":[2202,2399],"source":"[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) allows WCF Data Services to create, find, describe and invoke service actions."},{"content":"<bpt id=\"p1\">[</bpt>IDataServiceInvokable<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103))</ept> allows you to invoke the code that implements the service actions’ behavior and get the results, if any.","pos":[2400,2618],"source":"[IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) allows you to invoke the code that implements the service actions’ behavior and get the results, if any."},{"content":"Keep in mind that WCF Data Services are Per-Call WCF Services, a new instance of the service will be created each time the service is called.","pos":[2619,2760]},{"content":"Make sure no unnecessary work is done when the service is created.","pos":[2762,2828]},{"pos":[2838,2854],"content":"IServiceProvider","linkify":"IServiceProvider","nodes":[{"content":"IServiceProvider","pos":[0,16]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.IServiceProvider&gt;</ph> contains a method called <ph id=\"ph2\">&lt;xref:System.IServiceProvider.GetService%2A&gt;</ph>.","pos":[2858,2959],"source":"<xref:System.IServiceProvider> contains a method called <xref:System.IServiceProvider.GetService%2A>."},{"content":"This method is called by WCF Data Services to retrieve a number of service providers, including metadata service providers and data service action providers.","pos":[2960,3117]},{"content":"When asked for a data service action provider, return your <bpt id=\"p1\">[</bpt>IDataServiceActionProvider<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))</ept> implementation.","pos":[3118,3311],"source":" When asked for a data service action provider, return your [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) implementation."},{"pos":[3321,3347],"content":"IDataServiceActionProvider","linkify":"IDataServiceActionProvider","nodes":[{"content":"IDataServiceActionProvider","pos":[0,26]}]},{"content":"<bpt id=\"p1\">[</bpt>IDataServiceActionProvider<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))</ept> contains methods that allow you to retrieve information about the available actions.","pos":[3351,3554],"source":"[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) contains methods that allow you to retrieve information about the available actions."},{"content":"When you implement <bpt id=\"p1\">[</bpt>IDataServiceActionProvider<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))</ept> you are augmenting the metadata for your service which is defined by your service’s implementation of <bpt id=\"p2\">[</bpt>IDataServiceActionProvider<ept id=\"p2\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))</ept> with Actions and handling dispatch to those actions as appropriate.","pos":[3555,3981],"source":" When you implement [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) you are augmenting the metadata for your service which is defined by your service’s implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) with Actions and handling dispatch to those actions as appropriate."},{"pos":[3992,4014],"content":"AdvertiseServiceAction","linkify":"AdvertiseServiceAction","nodes":[{"content":"AdvertiseServiceAction","pos":[0,22]}]},{"content":"The <bpt id=\"p1\">[</bpt>AdvertiseServiceAction method<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859971(v=vs.103))</ept> is called to determine what actions are available for the specified resource.","pos":[4018,4221],"source":"The [AdvertiseServiceAction method](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859971(v=vs.103)) is called to determine what actions are available for the specified resource."},{"content":"This method is only called for actions that are not always available.","pos":[4222,4291]},{"content":"It is used to check if the action should be included in the OData response based upon the state of the resource being requested or the state of the service.","pos":[4292,4448]},{"content":"How this check is accomplished is completely up to you.","pos":[4449,4504]},{"content":"If it is an expensive to calculate availability and the current resource is in a feed, it is acceptable to skip the check and advertise the action.","pos":[4505,4652]},{"content":"The <ph id=\"ph1\">`inFeed`</ph> parameter is set to <ph id=\"ph2\">`true`</ph> if the current resource being returned is part of a feed.","pos":[4653,4750],"source":" The `inFeed` parameter is set to `true` if the current resource being returned is part of a feed."},{"pos":[4761,4776],"content":"CreateInvokable","linkify":"CreateInvokable","nodes":[{"content":"CreateInvokable","pos":[0,15]}]},{"content":"<bpt id=\"p1\">[</bpt>CreateInvokable<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859940(v=vs.103))</ept> is called to create a <bpt id=\"p2\">[</bpt>IDataServiceInvokable<ept id=\"p2\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103))</ept> that contains a delegate that encapsulates the code that implements the action’s behavior.","pos":[4780,5114],"source":"[CreateInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859940(v=vs.103)) is called to create a [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) that contains a delegate that encapsulates the code that implements the action’s behavior."},{"content":"This creates the <bpt id=\"p1\">[</bpt>IDataServiceInvokable<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103))</ept> instance but does not invoke the action.","pos":[5115,5286],"source":" This creates the [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) instance but does not invoke the action."},{"content":"WCF Data Service Actions have side effects and need to work in conjunction with the Update Provider to save those changes to disk.","pos":[5287,5417]},{"content":"The <bpt id=\"p1\">[</bpt>IDataServiceInvokable.Invoke<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859924(v=vs.103))</ept> method is called from the Update Provider’s SaveChanges() method is called.","pos":[5418,5618],"source":" The [IDataServiceInvokable.Invoke](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859924(v=vs.103)) method is called from the Update Provider’s SaveChanges() method is called."},{"pos":[5629,5646],"content":"GetServiceActions","linkify":"GetServiceActions","nodes":[{"content":"GetServiceActions","pos":[0,17]}]},{"content":"This method returns a collection of <bpt id=\"p1\">[</bpt>ServiceAction<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))</ept> instances that represent all of the actions a WCF Data Service exposes.","pos":[5650,5863],"source":"This method returns a collection of [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that represent all of the actions a WCF Data Service exposes."},{"content":"<bpt id=\"p1\">[</bpt>ServiceAction<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))</ept> is the metadata representation of an Action, that includes information like the Action name, its parameters, and its return type.","pos":[5864,6099],"source":"[ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is the metadata representation of an Action, that includes information like the Action name, its parameters, and its return type."},{"pos":[6110,6149],"content":"GetServiceActionsByBindingParameterType","linkify":"GetServiceActionsByBindingParameterType","nodes":[{"content":"GetServiceActionsByBindingParameterType","pos":[0,39]}]},{"content":"This method returns a collection of all <bpt id=\"p1\">[</bpt>ServiceAction<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))</ept> instances that can be bound to the specified binding parameter type.","pos":[6153,6367],"source":"This method returns a collection of all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that can be bound to the specified binding parameter type."},{"content":"In other words, all <bpt id=\"p1\">[</bpt>ServiceAction<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))</ept>s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource.","pos":[6368,6713],"source":" In other words, all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource."},{"content":"This method should only return actions that can bind to the exact binding parameter type (no derived types).","pos":[6714,6822]},{"content":"This method is called once per request per type encountered and the result is cached by WCF Data Services.","pos":[6823,6929]},{"pos":[6940,6963],"content":"TryResolveServiceAction","linkify":"TryResolveServiceAction","nodes":[{"content":"TryResolveServiceAction","pos":[0,23]}]},{"content":"This method searches for a specified <bpt id=\"p1\">[</bpt>ServiceAction<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))</ept> and returns <ph id=\"ph1\">`true`</ph> if the <bpt id=\"p2\">[</bpt>ServiceAction<ept id=\"p2\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))</ept> is found.","pos":[6967,7251],"source":"This method searches for a specified [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) and returns `true` if the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is found."},{"content":"If found, the <bpt id=\"p1\">[</bpt>ServiceAction<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))</ept> is returned in the <ph id=\"ph1\">`serviceAction`</ph> <ph id=\"ph2\">`out`</ph> parameter.","pos":[7252,7423],"source":" If found, the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is returned in the `serviceAction` `out` parameter."},{"pos":[7433,7454],"content":"IDataServiceInvokable","linkify":"IDataServiceInvokable","nodes":[{"content":"IDataServiceInvokable","pos":[0,21]}]},{"content":"This interface provides a way to execute a WCF Data Service Action.","pos":[7458,7525]},{"content":"When implementing IDataServiceInvokable you are responsible for 3 things:","pos":[7526,7599]},{"content":"Capturing and potentially marshaling the parameters","pos":[7609,7660]},{"content":"Dispatching the parameters to the code that actually implements the Action when Invoke() is called","pos":[7670,7768]},{"content":"Storing any results from Invoke() so they can be retrieved using GetResult()","pos":[7778,7854]},{"content":"The parameters may be passed as tokens.","pos":[7861,7900]},{"content":"This is because it is possible to write a Data Service Provider that works with tokens that represent resources, if this is the case you may need to convert (marshal) these tokens into actual resources before dispatching to the actual action.","pos":[7901,8143]},{"content":"After the parameter has been marshalled, it must be in an editable state so that any changes to the resource that occur when the action is invoked will be saved and written to disk.","pos":[8144,8325]},{"content":"This interface requires two methods: Invoke and GetResult.","pos":[8332,8390]},{"content":"Invoke invokes the delegate that implements the action’s behavior and GetResult returns the result of the action.","pos":[8391,8504]},{"pos":[8513,8547],"content":"Invoking a WCF Data Service Action","linkify":"Invoking a WCF Data Service Action","nodes":[{"content":"Invoking a WCF Data Service Action","pos":[0,34]}]},{"content":"Actions are invoked using an HTTP POST request.","pos":[8551,8598]},{"content":"The URL specifies the resource followed by the action name.","pos":[8599,8658]},{"content":"Parameters are passed in the body of the request.","pos":[8659,8708]},{"content":"For example if there was a service called MovieService which exposed an action called Rate.","pos":[8709,8800]},{"content":"You could use the following URL to invoke the Rate action on a specific movie:","pos":[8801,8879]},{"content":"Movies(1) specifies the movie you wish to rate and Rate specifies the Rate action.","pos":[8943,9025]},{"content":"The actual value of the rating will be in the body of the HTTP request as shown in the following example:","pos":[9026,9131]},{"pos":[9330,9593],"content":"[!WARNING]\nThe above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light. If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.","leadings":["","> "],"nodes":[{"content":"The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light. If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.","pos":[11,261],"nodes":[{"content":"The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light.","pos":[0,107]},{"content":"If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: <ph id=\"ph1\">`application/json;odata=verbose`</ph>.","pos":[108,250],"source":" If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`."}]}]},{"content":"Alternatively you can invoke an action using the WCF Data Services Client as shown in the following code snippet.","pos":[9600,9713]},{"pos":[9961,10096],"content":"In the code snippet above, the <ph id=\"ph1\">`MoviesModel`</ph> class was generated by using Visual Studio to Add Service Reference to a WCF Data Service.","source":"In the code snippet above, the `MoviesModel` class was generated by using Visual Studio to Add Service Reference to a WCF Data Service."},{"pos":[10105,10113],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[10117,10186],"content":"<bpt id=\"p1\">[</bpt>WCF Data Services 4.5<ept id=\"p1\">](../../../../docs/framework/data/wcf/index.md)</ept>","source":"[WCF Data Services 4.5](../../../../docs/framework/data/wcf/index.md)"},{"pos":[10189,10284],"content":"<bpt id=\"p1\">[</bpt>Defining WCF Data Services<ept id=\"p1\">](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)</ept>","source":"[Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)"},{"pos":[10287,10414],"content":"<bpt id=\"p1\">[</bpt>Developing and Deploying WCF Data Services<ept id=\"p1\">](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md)</ept>","source":"[Developing and Deploying WCF Data Services](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md)"},{"pos":[10417,10536],"content":"<bpt id=\"p1\">[</bpt>Custom Data Service Providers<ept id=\"p1\">](../../../../docs/framework/data/wcf/custom-data-service-providers-wcf-data-services.md)</ept>","source":"[Custom Data Service Providers](../../../../docs/framework/data/wcf/custom-data-service-providers-wcf-data-services.md)"}]}