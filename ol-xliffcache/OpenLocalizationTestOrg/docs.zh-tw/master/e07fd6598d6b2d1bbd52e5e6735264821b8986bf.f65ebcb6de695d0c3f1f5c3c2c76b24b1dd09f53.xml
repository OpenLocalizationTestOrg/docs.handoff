{"content":"---\ntitle: \"Consuming a DataSet from an XML Web Service\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 9edd6b71-0fa5-4649-ae1d-ac1c12541019\n---\n# Consuming a DataSet from an XML Web Service\nThe <xref:System.Data.DataSet> was architected with a disconnected design, in part to facilitate the convenient transport of data over the Internet. The **DataSet** is \"serializable\" in that it can be specified as an input to or output from XML Web services without any additional coding required to stream the contents of the **DataSet** from an XML Web service to a client and back. The **DataSet** is implicitly converted to an XML stream using the DiffGram format, sent over the network, and then reconstructed from the XML stream as a **DataSet** on the receiving end. This gives you a very simple and flexible method for transmitting and returning relational data using XML Web services. For more information about the DiffGram format, see [DiffGrams](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/diffgrams.md).  \n  \n The following example shows how to create an XML Web service and client that use the **DataSet** to transport relational data (including modified data) and resolve any updates back to the original data source.  \n  \n> [!NOTE]\n>  We recommend that you always consider security implications when creating an XML Web service. For information on securing an XML Web service, see [Securing XML Web Services Created Using ASP.NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/w67h0dw7(v=vs.100)).  \n  \n### To create an XML Web service that returns and consumes a DataSet  \n  \n1.  Create the XML Web service.  \n  \n     In the example, an XML Web service is created that returns data, in this case a list of customers from the **Northwind** database, and receives a **DataSet** with updates to the data, which the XML Web service resolves back to the original data source.  \n  \n     The XML Web service exposes two methods: **GetCustomers**, to return the list of customers, and **UpdateCustomers**, to resolve updates back to the data source. The XML Web service is stored in a file on the Web server called DataSetSample.asmx. The following code outlines the contents of DataSetSample.asmx.  \n  \n    ```vb  \n    <% @ WebService Language = \"vb\" Class = \"Sample\" %>  \n    Imports System  \n    Imports System.Data  \n    Imports System.Data.SqlClient  \n    Imports System.Web.Services  \n  \n    <WebService(Namespace:=\"http://microsoft.com/webservices/\")> _  \n    Public Class Sample  \n  \n    Public connection As SqlConnection = New SqlConnection(\"Data Source=(local);Integrated Security=SSPI;Initial Catalog=Northwind\")  \n  \n      <WebMethod( Description := \"Returns Northwind Customers\", EnableSession := False )> _  \n      Public Function GetCustomers() As DataSet  \n        Dim adapter As SqlDataAdapter = New SqlDataAdapter( _  \n          \"SELECT CustomerID, CompanyName FROM Customers\", connection)  \n  \n        Dim custDS As DataSet = New DataSet()  \n        adapter.MissingSchemaAction = MissingSchemaAction.AddWithKey  \n        adapter.Fill(custDS, \"Customers\")  \n  \n        Return custDS  \n      End Function  \n  \n      <WebMethod( Description := \"Updates Northwind Customers\", EnableSession := False )> _  \n      Public Function UpdateCustomers(custDS As DataSet) As DataSet  \n        Dim adapter As SqlDataAdapter = New SqlDataAdapter()  \n  \n        adapter.InsertCommand = New SqlCommand( _  \n          \"INSERT INTO Customers (CustomerID, CompanyName) \" & _  \n          \"Values(@CustomerID, @CompanyName)\", connection)  \n        adapter.InsertCommand.Parameters.Add( _  \n          \"@CustomerID\", SqlDbType.NChar, 5, \"CustomerID\")  \n        adapter.InsertCommand.Parameters.Add( _  \n          \"@CompanyName\", SqlDbType.NChar, 15, \"CompanyName\")  \n  \n        adapter.UpdateCommand = New SqlCommand( _  \n          \"UPDATE Customers Set CustomerID = @CustomerID, \" & _  \n          \"CompanyName = @CompanyName WHERE CustomerID = \" & _  \n          @OldCustomerID\", connection)  \n        adapter.UpdateCommand.Parameters.Add( _  \n          \"@CustomerID\", SqlDbType.NChar, 5, \"CustomerID\")  \n        adapter.UpdateCommand.Parameters.Add( _  \n          \"@CompanyName\", SqlDbType.NChar, 15, \"CompanyName\")  \n  \n        Dim parameter As SqlParameter = _  \n          adapter.UpdateCommand.Parameters.Add( _  \n          \"@OldCustomerID\", SqlDbType.NChar, 5, \"CustomerID\")  \n        parameter.SourceVersion = DataRowVersion.Original  \n  \n        adapter.DeleteCommand = New SqlCommand( _  \n          \"DELETE FROM Customers WHERE CustomerID = @CustomerID\", _  \n          connection)  \n        parameter = adapter.DeleteCommand.Parameters.Add( _  \n          \"@CustomerID\", SqlDbType.NChar, 5, \"CustomerID\")  \n        parameter.SourceVersion = DataRowVersion.Original  \n  \n        adapter.Update(custDS, \"Customers\")  \n  \n        Return custDS  \n      End Function  \n    End Class  \n    ```  \n  \n    ```csharp  \n    <% @ WebService Language = \"C#\" Class = \"Sample\" %>  \n    using System;  \n    using System.Data;  \n    using System.Data.SqlClient;  \n    using System.Web.Services;  \n  \n    [WebService(Namespace=\"http://microsoft.com/webservices/\")]  \n    public class Sample  \n    {  \n      public SqlConnection connection = new SqlConnection(\"Data Source=(local);Integrated Security=SSPI;Initial Catalog=Northwind\");  \n  \n      [WebMethod( Description = \"Returns Northwind Customers\", EnableSession = false )]  \n      public DataSet GetCustomers()  \n      {  \n        SqlDataAdapter adapter = new SqlDataAdapter(  \n          \"SELECT CustomerID, CompanyName FROM Customers\", connection);  \n  \n        DataSet custDS = new DataSet();  \n        adapter.MissingSchemaAction = MissingSchemaAction.AddWithKey;  \n        adapter.Fill(custDS, \"Customers\");  \n  \n        return custDS;  \n      }  \n  \n      [WebMethod( Description = \"Updates Northwind Customers\",  \n        EnableSession = false )]  \n      public DataSet UpdateCustomers(DataSet custDS)  \n      {  \n        SqlDataAdapter adapter = new SqlDataAdapter();  \n  \n        adapter.InsertCommand = new SqlCommand(  \n          \"INSERT INTO Customers (CustomerID, CompanyName) \" +  \n          \"Values(@CustomerID, @CompanyName)\", connection);  \n        adapter.InsertCommand.Parameters.Add(  \n          \"@CustomerID\", SqlDbType.NChar, 5, \"CustomerID\");  \n        adapter.InsertCommand.Parameters.Add(  \n          \"@CompanyName\", SqlDbType.NChar, 15, \"CompanyName\");  \n  \n        adapter.UpdateCommand = new SqlCommand(  \n          \"UPDATE Customers Set CustomerID = @CustomerID, \" +  \n          \"CompanyName = @CompanyName WHERE CustomerID = \" +  \n          \"@OldCustomerID\", connection);  \n        adapter.UpdateCommand.Parameters.Add(  \n          \"@CustomerID\", SqlDbType.NChar, 5, \"CustomerID\");  \n        adapter.UpdateCommand.Parameters.Add(  \n          \"@CompanyName\", SqlDbType.NChar, 15, \"CompanyName\");  \n        SqlParameter parameter = adapter.UpdateCommand.Parameters.Add(  \n          \"@OldCustomerID\", SqlDbType.NChar, 5, \"CustomerID\");  \n        parameter.SourceVersion = DataRowVersion.Original;  \n  \n        adapter.DeleteCommand = new SqlCommand(  \n        \"DELETE FROM Customers WHERE CustomerID = @CustomerID\",  \n         connection);  \n        parameter = adapter.DeleteCommand.Parameters.Add(  \n          \"@CustomerID\", SqlDbType.NChar, 5, \"CustomerID\");  \n        parameter.SourceVersion = DataRowVersion.Original;  \n  \n        adapter.Update(custDS, \"Customers\");  \n  \n        return custDS;  \n      }  \n    }  \n    ```  \n  \n     In a typical scenario, the **UpdateCustomers** method would be written to catch optimistic concurrency violations. For simplicity, the example does not include this. For more information about optimistic concurrency, see [Optimistic Concurrency](../../../../../docs/framework/data/adonet/optimistic-concurrency.md).  \n  \n2.  Create an XML Web service proxy.  \n  \n     Clients of the XML Web service require a SOAP proxy in order to consume the exposed methods. You can have Visual Studio generate this proxy for you. By setting a Web reference to an existing Web service from within Visual Studio, all the behavior described in this step occurs transparently. If you want to create the proxy class yourself, continue with this discussion. In most circumstances, however, using Visual Studio to create the proxy class for the client application is sufficient.  \n  \n     A proxy can be created using the Web Services Description Language Tool. For example, if the XML Web service is exposed at the URL `http://myserver/data/DataSetSample.asmx`, issue a command such as the following to create a Visual Basic .NET proxy with a namespace of **WebData.DSSample** and store it in the file sample.vb.  \n  \n    ```console\n    wsdl /l:VB -out:sample.vb http://myserver/data/DataSetSample.asmx /n:WebData.DSSample  \n    ```  \n  \n     To create a C# proxy in the file sample.cs, issue the following command.  \n  \n    ```console\n    wsdl -l:CS -out:sample.cs http://myserver/data/DataSetSample.asmx -n:WebData.DSSample  \n    ```  \n  \n     The proxy can then be compiled as a library and imported into the XML Web service client. To compile the Visual Basic .NET proxy code stored in sample.vb as sample.dll, issue the following command.  \n  \n    ```console  \n    vbc -t:library -out:sample.dll sample.vb -r:System.dll -r:System.Web.Services.dll -r:System.Data.dll -r:System.Xml.dll  \n    ```  \n  \n     To compile the C# proxy code stored in sample.cs as sample.dll, issue the following command.  \n  \n    ```console\n    csc -t:library -out:sample.dll sample.cs -r:System.dll -r:System.Web.Services.dll -r:System.Data.dll -r:System.Xml.dll  \n    ```  \n  \n3.  Create an XML Web service client.  \n  \n     If you want to have Visual Studio generate the Web service proxy class for you, simply create the client project, and, in the Solution Explorer window, right-click the project, click **Add Web Reference**, and select the Web service from the list of available Web services (this may require supplying the address of the Web service endpoint, if the Web service isn't available within the current solution, or on the current computer.) If you create the XML Web service proxy yourself (as described in the previous step), you can import it into your client code and consume the XML Web service methods. The following sample code imports the proxy library, calls **GetCustomers** to get a list of customers, adds a new customer, and then returns a **DataSet** with the updates to **UpdateCustomers**.  \n  \n     Notice that the example passes the **DataSet** returned by **DataSet.GetChanges** to **UpdateCustomers** because only modified rows need to be passed to **UpdateCustomers**. **UpdateCustomers** returns the resolved **DataSet**, which you can then **Merge** into the existing **DataSet** to incorporate the resolved changes and any row error information from the update. The following code assumes that you have used Visual Studio to create the Web reference, and that you have renamed the Web reference to DsSample in the **Add Web Reference** dialog box.  \n  \n    ```vb  \n    Imports System  \n    Imports System.Data  \n  \n    Public Class Client  \n  \n      Public Shared Sub Main()  \n        Dim proxySample As New DsSample.Sample ()  ' Proxy object.  \n        Dim customersDataSet As DataSet = proxySample.GetCustomers()  \n        Dim customersTable As DataTable = _  \n          customersDataSet.Tables(\"Customers\")  \n  \n        Dim rowAs DataRow = customersTable.NewRow()  \n        row(\"CustomerID\") = \"ABCDE\"  \n        row(\"CompanyName\") = \"New Company Name\"  \n        customersTable.Rows.Add(row)  \n  \n        Dim updateDataSet As DataSet = _  \n          proxySample.UpdateCustomers(customersDataSet.GetChanges())  \n  \n        customersDataSet.Merge(updateDataSet)  \n        customersDataSet.AcceptChanges()  \n      End Sub  \n    End Class  \n    ```  \n  \n    ```csharp  \n    using System;  \n    using System.Data;  \n  \n    public class Client  \n    {  \n      public static void Main()  \n      {  \n        Sample proxySample = new DsSample.Sample();  // Proxy object.  \n        DataSet customersDataSet = proxySample.GetCustomers();  \n        DataTable customersTable = customersDataSet.Tables[\"Customers\"];  \n  \n        DataRow row = customersTable.NewRow();  \n        row[\"CustomerID\"] = \"ABCDE\";  \n        row[\"CompanyName\"] = \"New Company Name\";  \n        customersTable.Rows.Add(row);  \n  \n        DataSet updateDataSet = new DataSet();  \n  \n        updateDataSet =   \n          proxySample.UpdateCustomers(customersDataSet.GetChanges());  \n  \n        customersDataSet.Merge(updateDataSet);  \n        customersDataSet.AcceptChanges();  \n      }  \n    }  \n    ```  \n  \n     If you decide to create the proxy class yourself, you must take the following extra steps. To compile the sample, supply the proxy library that was created (sample.dll) and the related .NET libraries. To compile the Visual Basic .NET version of the sample, stored in the file client.vb, issue the following command.  \n  \n    ```console\n    vbc client.vb -r:sample.dll -r:System.dll -r:System.Data.dll -r:System.Xml.dll -r:System.Web.Services.dll  \n    ```  \n  \n     To compile the C# version of the sample, stored in the file client.cs, issue the following command.  \n  \n    ```console\n    csc client.cs -r:sample.dll -r:System.dll -r:System.Data.dll -r:System.Xml.dll -r:System.Web.Services.dll  \n    ```  \n  \n## See also\n\n- [ADO.NET](../../../../../docs/framework/data/adonet/index.md)\n- [DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)\n- [DataTables](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/datatables.md)\n- [Populating a DataSet from a DataAdapter](../../../../../docs/framework/data/adonet/populating-a-dataset-from-a-dataadapter.md)\n- [Updating Data Sources with DataAdapters](../../../../../docs/framework/data/adonet/updating-data-sources-with-dataadapters.md)\n- [DataAdapter Parameters](../../../../../docs/framework/data/adonet/dataadapter-parameters.md)\n- [Web Services Description Language Tool (Wsdl.exe)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/7h3ystb6(v=vs.100))\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,161],"embed":true,"restype":"x-metadata","content":"title: \"Consuming a DataSet from an XML Web Service\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 9edd6b71-0fa5-4649-ae1d-ac1c12541019","nodes":[{"content":"Consuming a DataSet from an XML Web Service","nodes":[{"pos":[0,43],"content":"Consuming a DataSet from an XML Web Service","nodes":[{"content":"Consuming a DataSet from an XML Web Service","pos":[0,43]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[168,211],"content":"Consuming a DataSet from an XML Web Service","linkify":"Consuming a DataSet from an XML Web Service","nodes":[{"content":"Consuming a DataSet from an XML Web Service","pos":[0,43]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph> was architected with a disconnected design, in part to facilitate the convenient transport of data over the Internet.","pos":[212,360],"source":"The <xref:System.Data.DataSet> was architected with a disconnected design, in part to facilitate the convenient transport of data over the Internet."},{"content":"The <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> is \"serializable\" in that it can be specified as an input to or output from XML Web services without any additional coding required to stream the contents of the <bpt id=\"p2\">**</bpt>DataSet<ept id=\"p2\">**</ept> from an XML Web service to a client and back.","pos":[361,596],"source":" The **DataSet** is \"serializable\" in that it can be specified as an input to or output from XML Web services without any additional coding required to stream the contents of the **DataSet** from an XML Web service to a client and back."},{"content":"The <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> is implicitly converted to an XML stream using the DiffGram format, sent over the network, and then reconstructed from the XML stream as a <bpt id=\"p2\">**</bpt>DataSet<ept id=\"p2\">**</ept> on the receiving end.","pos":[597,785],"source":" The **DataSet** is implicitly converted to an XML stream using the DiffGram format, sent over the network, and then reconstructed from the XML stream as a **DataSet** on the receiving end."},{"content":"This gives you a very simple and flexible method for transmitting and returning relational data using XML Web services.","pos":[786,905]},{"content":"For more information about the DiffGram format, see <bpt id=\"p1\">[</bpt>DiffGrams<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/diffgrams.md)</ept>.","pos":[906,1053],"source":" For more information about the DiffGram format, see [DiffGrams](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/diffgrams.md)."},{"pos":[1060,1269],"content":"The following example shows how to create an XML Web service and client that use the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> to transport relational data (including modified data) and resolve any updates back to the original data source.","source":"The following example shows how to create an XML Web service and client that use the **DataSet** to transport relational data (including modified data) and resolve any updates back to the original data source."},{"pos":[1277,1573],"content":"[!NOTE]\n We recommend that you always consider security implications when creating an XML Web service. For information on securing an XML Web service, see [Securing XML Web Services Created Using ASP.NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/w67h0dw7(v=vs.100)).","leadings":["","> "],"nodes":[{"content":"We recommend that you always consider security implications when creating an XML Web service. For information on securing an XML Web service, see [Securing XML Web Services Created Using ASP.NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/w67h0dw7(v=vs.100)).","pos":[9,294],"nodes":[{"content":"We recommend that you always consider security implications when creating an XML Web service.","pos":[0,93]},{"content":"For information on securing an XML Web service, see <bpt id=\"p1\">[</bpt>Securing XML Web Services Created Using ASP.NET<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/w67h0dw7(v=vs.100))</ept>.","pos":[94,285],"source":" For information on securing an XML Web service, see [Securing XML Web Services Created Using ASP.NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/w67h0dw7(v=vs.100))."}]}]},{"pos":[1583,1647],"content":"To create an XML Web service that returns and consumes a DataSet","linkify":"To create an XML Web service that returns and consumes a DataSet","nodes":[{"content":"To create an XML Web service that returns and consumes a DataSet","pos":[0,64]}]},{"content":"Create the XML Web service.","pos":[1657,1684]},{"pos":[1695,1947],"content":"In the example, an XML Web service is created that returns data, in this case a list of customers from the <bpt id=\"p1\">**</bpt>Northwind<ept id=\"p1\">**</ept> database, and receives a <bpt id=\"p2\">**</bpt>DataSet<ept id=\"p2\">**</ept> with updates to the data, which the XML Web service resolves back to the original data source.","source":"In the example, an XML Web service is created that returns data, in this case a list of customers from the **Northwind** database, and receives a **DataSet** with updates to the data, which the XML Web service resolves back to the original data source."},{"content":"The XML Web service exposes two methods: <bpt id=\"p1\">**</bpt>GetCustomers<ept id=\"p1\">**</ept>, to return the list of customers, and <bpt id=\"p2\">**</bpt>UpdateCustomers<ept id=\"p2\">**</ept>, to resolve updates back to the data source.","pos":[1958,2118],"source":"The XML Web service exposes two methods: **GetCustomers**, to return the list of customers, and **UpdateCustomers**, to resolve updates back to the data source."},{"content":"The XML Web service is stored in a file on the Web server called DataSetSample.asmx.","pos":[2119,2203]},{"content":"The following code outlines the contents of DataSetSample.asmx.","pos":[2204,2267]},{"content":"In a typical scenario, the <bpt id=\"p1\">**</bpt>UpdateCustomers<ept id=\"p1\">**</ept> method would be written to catch optimistic concurrency violations.","pos":[7573,7687],"source":"In a typical scenario, the **UpdateCustomers** method would be written to catch optimistic concurrency violations."},{"content":"For simplicity, the example does not include this.","pos":[7688,7738]},{"content":"For more information about optimistic concurrency, see <bpt id=\"p1\">[</bpt>Optimistic Concurrency<ept id=\"p1\">](../../../../../docs/framework/data/adonet/optimistic-concurrency.md)</ept>.","pos":[7739,7888],"source":" For more information about optimistic concurrency, see [Optimistic Concurrency](../../../../../docs/framework/data/adonet/optimistic-concurrency.md)."},{"content":"Create an XML Web service proxy.","pos":[7898,7930]},{"content":"Clients of the XML Web service require a SOAP proxy in order to consume the exposed methods.","pos":[7941,8033]},{"content":"You can have Visual Studio generate this proxy for you.","pos":[8034,8089]},{"content":"By setting a Web reference to an existing Web service from within Visual Studio, all the behavior described in this step occurs transparently.","pos":[8090,8232]},{"content":"If you want to create the proxy class yourself, continue with this discussion.","pos":[8233,8311]},{"content":"In most circumstances, however, using Visual Studio to create the proxy class for the client application is sufficient.","pos":[8312,8431]},{"content":"A proxy can be created using the Web Services Description Language Tool.","pos":[8442,8514]},{"content":"For example, if the XML Web service is exposed at the URL <ph id=\"ph1\">`http://myserver/data/DataSetSample.asmx`</ph>, issue a command such as the following to create a Visual Basic .NET proxy with a namespace of <bpt id=\"p1\">**</bpt>WebData.DSSample<ept id=\"p1\">**</ept> and store it in the file sample.vb.","pos":[8515,8766],"source":" For example, if the XML Web service is exposed at the URL `http://myserver/data/DataSetSample.asmx`, issue a command such as the following to create a Visual Basic .NET proxy with a namespace of **WebData.DSSample** and store it in the file sample.vb."},{"content":"To create a C# proxy in the file sample.cs, issue the following command.","pos":[8897,8969]},{"content":"The proxy can then be compiled as a library and imported into the XML Web service client.","pos":[9100,9189]},{"content":"To compile the Visual Basic .NET proxy code stored in sample.vb as sample.dll, issue the following command.","pos":[9190,9297]},{"content":"To compile the C# proxy code stored in sample.cs as sample.dll, issue the following command.","pos":[9463,9555]},{"content":"Create an XML Web service client.","pos":[9718,9751]},{"content":"If you want to have Visual Studio generate the Web service proxy class for you, simply create the client project, and, in the Solution Explorer window, right-click the project, click <bpt id=\"p1\">**</bpt>Add Web Reference<ept id=\"p1\">**</ept>, and select the Web service from the list of available Web services (this may require supplying the address of the Web service endpoint, if the Web service isn't available within the current solution, or on the current computer.) If you create the XML Web service proxy yourself (as described in the previous step), you can import it into your client code and consume the XML Web service methods.","pos":[9762,10363],"source":"If you want to have Visual Studio generate the Web service proxy class for you, simply create the client project, and, in the Solution Explorer window, right-click the project, click **Add Web Reference**, and select the Web service from the list of available Web services (this may require supplying the address of the Web service endpoint, if the Web service isn't available within the current solution, or on the current computer.) If you create the XML Web service proxy yourself (as described in the previous step), you can import it into your client code and consume the XML Web service methods."},{"content":"The following sample code imports the proxy library, calls <bpt id=\"p1\">**</bpt>GetCustomers<ept id=\"p1\">**</ept> to get a list of customers, adds a new customer, and then returns a <bpt id=\"p2\">**</bpt>DataSet<ept id=\"p2\">**</ept> with the updates to <bpt id=\"p3\">**</bpt>UpdateCustomers<ept id=\"p3\">**</ept>.","pos":[10364,10560],"source":" The following sample code imports the proxy library, calls **GetCustomers** to get a list of customers, adds a new customer, and then returns a **DataSet** with the updates to **UpdateCustomers**."},{"content":"Notice that the example passes the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> returned by <bpt id=\"p2\">**</bpt>DataSet.GetChanges<ept id=\"p2\">**</ept> to <bpt id=\"p3\">**</bpt>UpdateCustomers<ept id=\"p3\">**</ept> because only modified rows need to be passed to <bpt id=\"p4\">**</bpt>UpdateCustomers<ept id=\"p4\">**</ept>.","pos":[10571,10744],"source":"Notice that the example passes the **DataSet** returned by **DataSet.GetChanges** to **UpdateCustomers** because only modified rows need to be passed to **UpdateCustomers**."},{"content":"<bpt id=\"p1\">**</bpt>UpdateCustomers<ept id=\"p1\">**</ept> returns the resolved <bpt id=\"p2\">**</bpt>DataSet<ept id=\"p2\">**</ept>, which you can then <bpt id=\"p3\">**</bpt>Merge<ept id=\"p3\">**</ept> into the existing <bpt id=\"p4\">**</bpt>DataSet<ept id=\"p4\">**</ept> to incorporate the resolved changes and any row error information from the update.","pos":[10745,10940],"source":"**UpdateCustomers** returns the resolved **DataSet**, which you can then **Merge** into the existing **DataSet** to incorporate the resolved changes and any row error information from the update."},{"content":"The following code assumes that you have used Visual Studio to create the Web reference, and that you have renamed the Web reference to DsSample in the <bpt id=\"p1\">**</bpt>Add Web Reference<ept id=\"p1\">**</ept> dialog box.","pos":[10941,11126],"source":" The following code assumes that you have used Visual Studio to create the Web reference, and that you have renamed the Web reference to DsSample in the **Add Web Reference** dialog box."},{"content":"If you decide to create the proxy class yourself, you must take the following extra steps.","pos":[12753,12843]},{"content":"To compile the sample, supply the proxy library that was created (sample.dll) and the related .NET libraries.","pos":[12844,12953]},{"content":"To compile the Visual Basic .NET version of the sample, stored in the file client.vb, issue the following command.","pos":[12954,13068]},{"content":"To compile the C# version of the sample, stored in the file client.cs, issue the following command.","pos":[13219,13318]},{"pos":[13467,13475],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[13479,13540],"content":"<bpt id=\"p1\">[</bpt>ADO.NET<ept id=\"p1\">](../../../../../docs/framework/data/adonet/index.md)</ept>","source":"[ADO.NET](../../../../../docs/framework/data/adonet/index.md)"},{"pos":[13543,13659],"content":"<bpt id=\"p1\">[</bpt>DataSets, DataTables, and DataViews<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)</ept>","source":"[DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)"},{"pos":[13662,13758],"content":"<bpt id=\"p1\">[</bpt>DataTables<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/datatables.md)</ept>","source":"[DataTables](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/datatables.md)"},{"pos":[13761,13888],"content":"<bpt id=\"p1\">[</bpt>Populating a DataSet from a DataAdapter<ept id=\"p1\">](../../../../../docs/framework/data/adonet/populating-a-dataset-from-a-dataadapter.md)</ept>","source":"[Populating a DataSet from a DataAdapter](../../../../../docs/framework/data/adonet/populating-a-dataset-from-a-dataadapter.md)"},{"pos":[13891,14018],"content":"<bpt id=\"p1\">[</bpt>Updating Data Sources with DataAdapters<ept id=\"p1\">](../../../../../docs/framework/data/adonet/updating-data-sources-with-dataadapters.md)</ept>","source":"[Updating Data Sources with DataAdapters](../../../../../docs/framework/data/adonet/updating-data-sources-with-dataadapters.md)"},{"pos":[14021,14114],"content":"<bpt id=\"p1\">[</bpt>DataAdapter Parameters<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataadapter-parameters.md)</ept>","source":"[DataAdapter Parameters](../../../../../docs/framework/data/adonet/dataadapter-parameters.md)"},{"pos":[14117,14257],"content":"<bpt id=\"p1\">[</bpt>Web Services Description Language Tool (Wsdl.exe)<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/7h3ystb6(v=vs.100))</ept>","source":"[Web Services Description Language Tool (Wsdl.exe)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/7h3ystb6(v=vs.100))"},{"pos":[14260,14364],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}