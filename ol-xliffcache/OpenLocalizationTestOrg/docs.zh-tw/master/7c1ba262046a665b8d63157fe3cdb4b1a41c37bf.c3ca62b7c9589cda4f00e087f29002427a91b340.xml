{"content":"---\ntitle: \"Using the ExpressionTextBox in a Custom Activity Designer\"\nms.date: \"03/30/2017\"\nms.assetid: f82e73e7-a256-4a4d-82b7-c0d62f4ab5e7\n---\n# Using the ExpressionTextBox in a Custom Activity Designer\nThis sample shows how to use the <xref:System.Activities.Presentation.View.ExpressionTextBox> in a custom activity designer. The custom activity, `MultiAssign`, assigns two string values to two string variables. Some <xref:System.Activities.Presentation.View.ExpressionTextBox> controls bind to <xref:System.Activities.InArgument>s and some bind to <xref:System.Activities.OutArgument>s.\n\n## Sample details\n The `ArgumentToExpressionConverter` is the type converter used when binding expressions to arguments. The `ConverterParameter` must be set to `In` or `Out` as appropriate. `InOut` is not supported.\n\n The `UseLocationExpression` attribute is used on `OutArgument`s to specify that the expression should be an L-value (\"left value\" or \"location value\") expression. In most cases, an L-value expression is a valid Visual Basic identifier used to indicate that the `OutArgument` being returned is a variable or argument name.\n\n The `MaxLines` attribute is set to one in this example and `MinLines` is not set. This indicates that the <xref:System.Activities.Presentation.View.ExpressionTextBox> is a fixed size of one line regardless of the amount of text typed by the user. To allow the <xref:System.Activities.Presentation.View.ExpressionTextBox> to grow to fit user input, set `MaxLines` greater than `MinLines`.\n\n An ExpressionTextBox can only be bound to arguments, and cannot be bound to CLR properties.\n\n#### To use this sample\n\n1.  Using Visual Studio 2010, open the ExpressionTextBoxSample.sln file.\n\n2.  To build the solution, press CTRL+SHIFT+B.\n\n#### To run this sample\n\n1.  Add a new Workflow Console Application to the solution.\n\n2.  Add a reference to the **ExpressionTextBoxSample** project from the new Workflow Console Application project.\n\n3.  Build the solution.\n\n4.  Drag the **MultiAssign** activity from the toolbox and drop it into the workflow.\n\n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WF\\Basic\\CustomActivities\\CustomActivityDesigners\\ExpressionTextBox`  \n  \n## See also\n\n- <xref:System.Activities.Presentation.View.ExpressionTextBox>\n- [Developing Applications with the Workflow Designer](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)\n","nodes":[{"pos":[4,141],"embed":true,"restype":"x-metadata","content":"title: \"Using the ExpressionTextBox in a Custom Activity Designer\"\nms.date: \"03/30/2017\"\nms.assetid: f82e73e7-a256-4a4d-82b7-c0d62f4ab5e7","nodes":[{"content":"Using the ExpressionTextBox in a Custom Activity Designer","nodes":[{"pos":[0,57],"content":"Using the ExpressionTextBox in a Custom Activity Designer","nodes":[{"content":"Using the ExpressionTextBox in a Custom Activity Designer","pos":[0,57]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[148,205],"content":"Using the ExpressionTextBox in a Custom Activity Designer","linkify":"Using the ExpressionTextBox in a Custom Activity Designer","nodes":[{"content":"Using the ExpressionTextBox in a Custom Activity Designer","pos":[0,57]}]},{"content":"This sample shows how to use the <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.View.ExpressionTextBox&gt;</ph> in a custom activity designer.","pos":[206,330],"source":"This sample shows how to use the <xref:System.Activities.Presentation.View.ExpressionTextBox> in a custom activity designer."},{"content":"The custom activity, <ph id=\"ph1\">`MultiAssign`</ph>, assigns two string values to two string variables.","pos":[331,417],"source":" The custom activity, `MultiAssign`, assigns two string values to two string variables."},{"content":"Some <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.View.ExpressionTextBox&gt;</ph> controls bind to <ph id=\"ph2\">&lt;xref:System.Activities.InArgument&gt;</ph>s and some bind to <ph id=\"ph3\">&lt;xref:System.Activities.OutArgument&gt;</ph>s.","pos":[418,593],"source":" Some <xref:System.Activities.Presentation.View.ExpressionTextBox> controls bind to <xref:System.Activities.InArgument>s and some bind to <xref:System.Activities.OutArgument>s."},{"pos":[598,612],"content":"Sample details","linkify":"Sample details","nodes":[{"content":"Sample details","pos":[0,14]}]},{"content":"The <ph id=\"ph1\">`ArgumentToExpressionConverter`</ph> is the type converter used when binding expressions to arguments.","pos":[614,715],"source":"The `ArgumentToExpressionConverter` is the type converter used when binding expressions to arguments."},{"content":"The <ph id=\"ph1\">`ConverterParameter`</ph> must be set to <ph id=\"ph2\">`In`</ph> or <ph id=\"ph3\">`Out`</ph> as appropriate.","pos":[716,785],"source":" The `ConverterParameter` must be set to `In` or `Out` as appropriate."},{"content":"<ph id=\"ph1\">`InOut`</ph> is not supported.","pos":[786,811],"source":"`InOut` is not supported."},{"content":"The <ph id=\"ph1\">`UseLocationExpression`</ph> attribute is used on <ph id=\"ph2\">`OutArgument`</ph>s to specify that the expression should be an L-value (\"left value\" or \"location value\") expression.","pos":[814,976],"source":"The `UseLocationExpression` attribute is used on `OutArgument`s to specify that the expression should be an L-value (\"left value\" or \"location value\") expression."},{"content":"In most cases, an L-value expression is a valid Visual Basic identifier used to indicate that the <ph id=\"ph1\">`OutArgument`</ph> being returned is a variable or argument name.","pos":[977,1135],"source":" In most cases, an L-value expression is a valid Visual Basic identifier used to indicate that the `OutArgument` being returned is a variable or argument name."},{"content":"The <ph id=\"ph1\">`MaxLines`</ph> attribute is set to one in this example and <ph id=\"ph2\">`MinLines`</ph> is not set.","pos":[1138,1219],"source":"The `MaxLines` attribute is set to one in this example and `MinLines` is not set."},{"content":"This indicates that the <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.View.ExpressionTextBox&gt;</ph> is a fixed size of one line regardless of the amount of text typed by the user.","pos":[1220,1384],"source":" This indicates that the <xref:System.Activities.Presentation.View.ExpressionTextBox> is a fixed size of one line regardless of the amount of text typed by the user."},{"content":"To allow the <ph id=\"ph1\">&lt;xref:System.Activities.Presentation.View.ExpressionTextBox&gt;</ph> to grow to fit user input, set <ph id=\"ph2\">`MaxLines`</ph> greater than <ph id=\"ph3\">`MinLines`</ph>.","pos":[1385,1525],"source":" To allow the <xref:System.Activities.Presentation.View.ExpressionTextBox> to grow to fit user input, set `MaxLines` greater than `MinLines`."},{"content":"An ExpressionTextBox can only be bound to arguments, and cannot be bound to CLR properties.","pos":[1528,1619]},{"pos":[1626,1644],"content":"To use this sample","linkify":"To use this sample","nodes":[{"content":"To use this sample","pos":[0,18]}]},{"content":"Using Visual Studio 2010, open the ExpressionTextBoxSample.sln file.","pos":[1650,1718]},{"content":"To build the solution, press CTRL+SHIFT+B.","pos":[1724,1766]},{"pos":[1773,1791],"content":"To run this sample","linkify":"To run this sample","nodes":[{"content":"To run this sample","pos":[0,18]}]},{"content":"Add a new Workflow Console Application to the solution.","pos":[1797,1852]},{"pos":[1858,1967],"content":"Add a reference to the <bpt id=\"p1\">**</bpt>ExpressionTextBoxSample<ept id=\"p1\">**</ept> project from the new Workflow Console Application project.","source":"Add a reference to the **ExpressionTextBoxSample** project from the new Workflow Console Application project."},{"content":"Build the solution.","pos":[1973,1992]},{"pos":[1998,2079],"content":"Drag the <bpt id=\"p1\">**</bpt>MultiAssign<ept id=\"p1\">**</ept> activity from the toolbox and drop it into the workflow.","source":"Drag the **MultiAssign** activity from the toolbox and drop it into the workflow."},{"pos":[2083,2215],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[2269,2579],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[2580,2630]},{"pos":[2750,2758],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2825,2961],"content":"<bpt id=\"p1\">[</bpt>Developing Applications with the Workflow Designer<ept id=\"p1\">](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)</ept>","source":"[Developing Applications with the Workflow Designer](/visualstudio/workflow-designer/developing-applications-with-the-workflow-designer)"}]}