{"content":"---\ntitle: \"Framework Property Metadata | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-wpf\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"metadata, framework properties\"\n  - \"framework property metadata\"\nms.assetid: 9962f380-b885-4b61-a62e-457397083fea\ncaps.latest.revision: 19\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Framework Property Metadata\nFramework property metadata options are reported for the properties of object elements considered to be at the WPF framework level in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] architecture. In general the WPF framework-level designation entails that features such as rendering, data binding, and property system refinements are handled by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] presentation [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] and executables. Framework property metadata is queried by these systems to determine feature-specific characteristics of particular element properties.  \n  \n \n  \n<a name=\"prerequisites\"></a>   \n## Prerequisites  \n This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md). You should also have read [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).  \n  \n<a name=\"What_Is_Communicated_by_Framework_Property\"></a>   \n## What Is Communicated by Framework Property Metadata  \n Framework property metadata can be divided into the following categories:  \n  \n-   Reporting layout properties that affect an element (<xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsMeasure%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsRender%2A>). You might set these flags in metadata if the property affects those respective aspects, and you are also implementing the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> / <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods in your class to supply specific rendering behavior and information to the layout system. Typically, such an implementation would check for property invalidations in dependency properties where any of these layout properties were true in the property metadata, and only those invalidations would necessitate requesting a new layout pass.  \n  \n-   Reporting layout properties that affect the parent element of an element (<xref:System.Windows.FrameworkPropertyMetadata.AffectsParentArrange%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsParentMeasure%2A>). Some examples where these flags are set by default are <xref:System.Windows.Documents.FixedPage.Left%2A?displayProperty=fullName> and <xref:System.Windows.Documents.Paragraph.KeepWithNext%2A?displayProperty=fullName>.  \n  \n-   <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A>. By default, dependency properties do not inherit values. <xref:System.Windows.FrameworkPropertyMetadata.OverridesInheritanceBehavior%2A> allows the pathway of inheritance to also travel into a visual tree, which is necessary for some control compositing scenarios.  \n  \n    > [!NOTE]\n    >  The term \"inherits\" in the context of property values means something specific for dependency properties; it means that child elements can inherit the actual dependency property value from parent elements because of a WPF framework-level capability of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system. It has nothing to do directly with managed code type and members inheritance through derived types. For details, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).  \n  \n-   Reporting data binding characteristics (<xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A>, <xref:System.Windows.FrameworkPropertyMetadata.BindsTwoWayByDefault%2A>). By default, dependency properties in the framework support data binding, with a one-way binding behavior. You might disable data binding if there were no scenario for it whatsoever (because they are intended to be flexible and extensible, there aren't many examples of such properties in the default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]). You might set binding to have a two-way default for properties that tie together a control's behaviors amongst its component pieces (<xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> is an example) or where two-way binding is the common and expected scenario for users (<xref:System.Windows.Controls.TextBox.Text%2A> is an example). Changing the data bindingâ€“related metadata only influences the default; on a per-binding basis that default can always be changed. For details on the binding modes and binding in general, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).  \n  \n-   Reporting whether properties should be journaled by applications or services that support journaling (<xref:System.Windows.FrameworkPropertyMetadata.Journal%2A>). For general elements, journaling is not enabled by default, but it is selectively enabled for certain user input controls. This property is intended to be read by journaling services including the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of journaling, and is typically set on user controls such as user selections within lists that should be persisted across navigation steps. For information about the journal, see [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).  \n  \n<a name=\"Reading_FrameworkPropertyMetadata\"></a>   \n## Reading FrameworkPropertyMetadata  \n Each of the properties linked above are the specific properties that the <xref:System.Windows.FrameworkPropertyMetadata> adds to its immediate base class <xref:System.Windows.UIPropertyMetadata>. Each of these properties will be `false` by default. A metadata request for a property where knowing the value of these properties is important should attempt to cast the returned metadata to <xref:System.Windows.FrameworkPropertyMetadata>, and then check the values of the individual properties as needed.  \n  \n<a name=\"Specifying_Metadata\"></a>   \n## Specifying Metadata  \n When you create a new metadata instance for purposes of applying metadata to a new dependency property registration, you have the choice of which metadata class to use: the base <xref:System.Windows.PropertyMetadata> or some derived class such as <xref:System.Windows.FrameworkPropertyMetadata>. In general, you should use <xref:System.Windows.FrameworkPropertyMetadata>, particularly if your property has any interaction with property system and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] functions such as layout and data binding. Another option for more sophisticated scenarios is to derive from <xref:System.Windows.FrameworkPropertyMetadata> to create your own metadata reporting class with extra information carried in its members. Or you might use <xref:System.Windows.PropertyMetadata> or <xref:System.Windows.UIPropertyMetadata> to communicate the degree of support for features of your implementation.  \n  \n For existing properties (<xref:System.Windows.DependencyProperty.AddOwner%2A> or <xref:System.Windows.DependencyProperty.OverrideMetadata%2A> call), you should always override with the metadata type used by the original registration.  \n  \n If you are creating a <xref:System.Windows.FrameworkPropertyMetadata> instance, there are two ways to populate that metadata with values for the specific properties that communicate the framework property characteristics:  \n  \n1.  Use the <xref:System.Windows.FrameworkPropertyMetadata> constructor signature that allows a `flags` parameter. This parameter should be filled with all desired combined values of the <xref:System.Windows.FrameworkPropertyMetadataOptions> enumeration flags.  \n  \n2.  Use one of the signatures without a `flags` parameter, and then set each reporting Boolean property on <xref:System.Windows.FrameworkPropertyMetadata> to `true` for each desired characteristic change. If you do this, you must set these properties before any elements with this dependency property are constructed; the Boolean properties are read-write in order to allow this behavior of avoiding the `flags` parameter and still populate the metadata, but the metadata must become effectively sealed before property use. Thus, attempting to set the properties after metadata is requested will be an invalid operation.  \n  \n<a name=\"Framework_Property_Metadata_Merge_Behavior\"></a>   \n## Framework Property Metadata Merge Behavior  \n When you override framework property metadata, the different metadata characteristics are either merged or replaced.  \n  \n-   <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is merged. If you add a new <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>, that callback is stored in the metadata. If you do not specify a <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is promoted as a reference from the nearest ancestor that specified it in metadata.  \n  \n-   The actual property system behavior for <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is that implementations for all metadata owners in the hierarchy are retained and added to a table, with order of execution by the property system being that the callbacks of the most deeply derived class are invoked first. Inherited callbacks run only once, counting as being owned by the class that placed them in metadata.  \n  \n-   <xref:System.Windows.PropertyMetadata.DefaultValue%2A> is replaced. If you do not specify a <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.DefaultValue%2A> comes from the nearest ancestor that specified it in metadata.  \n  \n-   <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> implementations are replaced. If you add a new <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>, that callback is stored in the metadata. If you do not specify a <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> is promoted as a reference from the nearest ancestor that specified it in metadata.  \n  \n-   The property system behavior is that only the <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> in the immediate metadata is invoked. No references to other <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> implementations in the hierarchy are retained.  \n  \n-   The flags of <xref:System.Windows.FrameworkPropertyMetadataOptions> enumeration are combined as a bitwise OR operation.  If you specify <xref:System.Windows.FrameworkPropertyMetadataOptions>, the original options are not overwritten.  To change an option, set the corresponding property on <xref:System.Windows.FrameworkPropertyMetadata>. For example, if the original <xref:System.Windows.FrameworkPropertyMetadata> object sets the <xref:System.Windows.FrameworkPropertyMetadataOptions?displayProperty=fullName> flag, you can change that by setting <xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A?displayProperty=fullName> to `false`.  \n  \n This behavior is implemented by <xref:System.Windows.FrameworkPropertyMetadata.Merge%2A>, and can be overridden on derived metadata classes.  \n  \n## See Also  \n <xref:System.Windows.DependencyProperty.GetMetadata%2A>   \n [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)   \n [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)   \n [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)","nodes":[{"pos":[12,56],"content":"Framework Property Metadata | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Framework Property Metadata | Microsoft Docs","pos":[0,44]}]},{"pos":[457,484],"content":"Framework Property Metadata","linkify":"Framework Property Metadata","nodes":[{"content":"Framework Property Metadata","pos":[0,27]}]},{"content":"Framework property metadata options are reported for the properties of object elements considered to be at the WPF framework level in the <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> architecture.","pos":[485,716],"source":"Framework property metadata options are reported for the properties of object elements considered to be at the WPF framework level in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] architecture."},{"content":"In general the WPF framework-level designation entails that features such as rendering, data binding, and property system refinements are handled by the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> presentation <ph id=\"ph2\">[!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]</ph> and executables.","pos":[717,1069],"source":" In general the WPF framework-level designation entails that features such as rendering, data binding, and property system refinements are handled by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] presentation [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] and executables."},{"content":"Framework property metadata is queried by these systems to determine feature-specific characteristics of particular element properties.","pos":[1070,1205]},{"pos":[1251,1264],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"content":"This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> classes, and have read the <bpt id=\"p1\">[</bpt>Dependency Properties Overview<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)</ept>.","pos":[1268,1616],"source":"This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)."},{"content":"You should also have read <bpt id=\"p1\">[</bpt>Dependency Property Metadata<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)</ept>.","pos":[1617,1747],"source":" You should also have read [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)."},{"pos":[1817,1868],"content":"What Is Communicated by Framework Property Metadata","linkify":"What Is Communicated by Framework Property Metadata","nodes":[{"content":"What Is Communicated by Framework Property Metadata","pos":[0,51]}]},{"content":"Framework property metadata can be divided into the following categories:","pos":[1872,1945]},{"content":"Reporting layout properties that affect an element (<ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkPropertyMetadata.AffectsMeasure%2A&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkPropertyMetadata.AffectsRender%2A&gt;</ph>).","pos":[1955,2207],"source":"Reporting layout properties that affect an element (<xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsMeasure%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsRender%2A>)."},{"content":"You might set these flags in metadata if the property affects those respective aspects, and you are also implementing the <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.MeasureOverride%2A&gt;</ph><ph id=\"ph2\"> / </ph><ph id=\"ph3\">&lt;xref:System.Windows.FrameworkElement.ArrangeOverride%2A&gt;</ph> methods in your class to supply specific rendering behavior and information to the layout system.","pos":[2208,2545],"source":" You might set these flags in metadata if the property affects those respective aspects, and you are also implementing the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> / <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods in your class to supply specific rendering behavior and information to the layout system."},{"content":"Typically, such an implementation would check for property invalidations in dependency properties where any of these layout properties were true in the property metadata, and only those invalidations would necessitate requesting a new layout pass.","pos":[2546,2793]},{"content":"Reporting layout properties that affect the parent element of an element (<ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata.AffectsParentArrange%2A&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkPropertyMetadata.AffectsParentMeasure%2A&gt;</ph>).","pos":[2803,3023],"source":"Reporting layout properties that affect the parent element of an element (<xref:System.Windows.FrameworkPropertyMetadata.AffectsParentArrange%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsParentMeasure%2A>)."},{"content":"Some examples where these flags are set by default are <ph id=\"ph1\">&lt;xref:System.Windows.Documents.FixedPage.Left%2A?displayProperty=fullName&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Paragraph.KeepWithNext%2A?displayProperty=fullName&gt;</ph>.","pos":[3024,3241],"source":" Some examples where these flags are set by default are <xref:System.Windows.Documents.FixedPage.Left%2A?displayProperty=fullName> and <xref:System.Windows.Documents.Paragraph.KeepWithNext%2A?displayProperty=fullName>."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A&gt;</ph>.","pos":[3251,3311],"source":"<xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A>."},{"content":"By default, dependency properties do not inherit values.","pos":[3312,3368]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata.OverridesInheritanceBehavior%2A&gt;</ph> allows the pathway of inheritance to also travel into a visual tree, which is necessary for some control compositing scenarios.","pos":[3369,3576],"source":"<xref:System.Windows.FrameworkPropertyMetadata.OverridesInheritanceBehavior%2A> allows the pathway of inheritance to also travel into a visual tree, which is necessary for some control compositing scenarios."},{"pos":[3588,4175],"content":"[!NOTE]\nThe term \"inherits\" in the context of property values means something specific for dependency properties; it means that child elements can inherit the actual dependency property value from parent elements because of a WPF framework-level capability of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system. It has nothing to do directly with managed code type and members inheritance through derived types. For details, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).","leadings":["","    >  "],"nodes":[{"content":"The term \"inherits\" in the context of property values means something specific for dependency properties; it means that child elements can inherit the actual dependency property value from parent elements because of a WPF framework-level capability of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system. It has nothing to do directly with managed code type and members inheritance through derived types. For details, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).","pos":[8,580],"nodes":[{"content":"The term \"inherits\" in the context of property values means something specific for dependency properties; it means that child elements can inherit the actual dependency property value from parent elements because of a WPF framework-level capability of the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> property system.","pos":[0,354],"source":"The term \"inherits\" in the context of property values means something specific for dependency properties; it means that child elements can inherit the actual dependency property value from parent elements because of a WPF framework-level capability of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system."},{"content":"It has nothing to do directly with managed code type and members inheritance through derived types.","pos":[355,454]},{"content":"For details, see <bpt id=\"p1\">[</bpt>Property Value Inheritance<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/property-value-inheritance.md)</ept>.","pos":[455,572],"source":" For details, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md)."}]}]},{"content":"Reporting data binding characteristics (<ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkPropertyMetadata.BindsTwoWayByDefault%2A&gt;</ph>).","pos":[4185,4368],"source":"Reporting data binding characteristics (<xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A>, <xref:System.Windows.FrameworkPropertyMetadata.BindsTwoWayByDefault%2A>)."},{"content":"By default, dependency properties in the framework support data binding, with a one-way binding behavior.","pos":[4369,4474]},{"content":"You might disable data binding if there were no scenario for it whatsoever (because they are intended to be flexible and extensible, there aren't many examples of such properties in the default <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> <ph id=\"ph2\">[!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]</ph>).","pos":[4475,4840],"source":" You might disable data binding if there were no scenario for it whatsoever (because they are intended to be flexible and extensible, there aren't many examples of such properties in the default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)])."},{"content":"You might set binding to have a two-way default for properties that tie together a control's behaviors amongst its component pieces (<ph id=\"ph1\">&lt;xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A&gt;</ph> is an example) or where two-way binding is the common and expected scenario for users (<ph id=\"ph2\">&lt;xref:System.Windows.Controls.TextBox.Text%2A&gt;</ph> is an example).","pos":[4841,5180],"source":" You might set binding to have a two-way default for properties that tie together a control's behaviors amongst its component pieces (<xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> is an example) or where two-way binding is the common and expected scenario for users (<xref:System.Windows.Controls.TextBox.Text%2A> is an example)."},{"content":"Changing the data bindingâ€“related metadata only influences the default; on a per-binding basis that default can always be changed.","pos":[5181,5311]},{"content":"For details on the binding modes and binding in general, see <bpt id=\"p1\">[</bpt>Data Binding Overview<ept id=\"p1\">](../../../../docs/framework/wpf/data/data-binding-overview.md)</ept>.","pos":[5312,5459],"source":" For details on the binding modes and binding in general, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md)."},{"content":"Reporting whether properties should be journaled by applications or services that support journaling (<ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata.Journal%2A&gt;</ph>).","pos":[5469,5631],"source":"Reporting whether properties should be journaled by applications or services that support journaling (<xref:System.Windows.FrameworkPropertyMetadata.Journal%2A>)."},{"content":"For general elements, journaling is not enabled by default, but it is selectively enabled for certain user input controls.","pos":[5632,5754]},{"content":"This property is intended to be read by journaling services including the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> implementation of journaling, and is typically set on user controls such as user selections within lists that should be persisted across navigation steps.","pos":[5755,6065],"source":" This property is intended to be read by journaling services including the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of journaling, and is typically set on user controls such as user selections within lists that should be persisted across navigation steps."},{"content":"For information about the journal, see <bpt id=\"p1\">[</bpt>Navigation Overview<ept id=\"p1\">](../../../../docs/framework/wpf/app-development/navigation-overview.md)</ept>.","pos":[6066,6198],"source":" For information about the journal, see [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md)."},{"pos":[6259,6292],"content":"Reading FrameworkPropertyMetadata","linkify":"Reading FrameworkPropertyMetadata","nodes":[{"content":"Reading FrameworkPropertyMetadata","pos":[0,33]}]},{"content":"Each of the properties linked above are the specific properties that the <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph> adds to its immediate base class <ph id=\"ph2\">&lt;xref:System.Windows.UIPropertyMetadata&gt;</ph>.","pos":[6296,6491],"source":"Each of the properties linked above are the specific properties that the <xref:System.Windows.FrameworkPropertyMetadata> adds to its immediate base class <xref:System.Windows.UIPropertyMetadata>."},{"content":"Each of these properties will be <ph id=\"ph1\">`false`</ph> by default.","pos":[6492,6544],"source":" Each of these properties will be `false` by default."},{"content":"A metadata request for a property where knowing the value of these properties is important should attempt to cast the returned metadata to <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph>, and then check the values of the individual properties as needed.","pos":[6545,6798],"source":" A metadata request for a property where knowing the value of these properties is important should attempt to cast the returned metadata to <xref:System.Windows.FrameworkPropertyMetadata>, and then check the values of the individual properties as needed."},{"pos":[6845,6864],"content":"Specifying Metadata","linkify":"Specifying Metadata","nodes":[{"content":"Specifying Metadata","pos":[0,19]}]},{"content":"When you create a new metadata instance for purposes of applying metadata to a new dependency property registration, you have the choice of which metadata class to use: the base <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata&gt;</ph> or some derived class such as <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph>.","pos":[6868,7163],"source":"When you create a new metadata instance for purposes of applying metadata to a new dependency property registration, you have the choice of which metadata class to use: the base <xref:System.Windows.PropertyMetadata> or some derived class such as <xref:System.Windows.FrameworkPropertyMetadata>."},{"content":"In general, you should use <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph>, particularly if your property has any interaction with property system and <ph id=\"ph2\">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</ph> functions such as layout and data binding.","pos":[7164,7439],"source":" In general, you should use <xref:System.Windows.FrameworkPropertyMetadata>, particularly if your property has any interaction with property system and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] functions such as layout and data binding."},{"content":"Another option for more sophisticated scenarios is to derive from <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph> to create your own metadata reporting class with extra information carried in its members.","pos":[7440,7644],"source":" Another option for more sophisticated scenarios is to derive from <xref:System.Windows.FrameworkPropertyMetadata> to create your own metadata reporting class with extra information carried in its members."},{"content":"Or you might use <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Windows.UIPropertyMetadata&gt;</ph> to communicate the degree of support for features of your implementation.","pos":[7645,7818],"source":" Or you might use <xref:System.Windows.PropertyMetadata> or <xref:System.Windows.UIPropertyMetadata> to communicate the degree of support for features of your implementation."},{"content":"For existing properties (<ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty.AddOwner%2A&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Windows.DependencyProperty.OverrideMetadata%2A&gt;</ph> call), you should always override with the metadata type used by the original registration.","pos":[7825,8058],"source":"For existing properties (<xref:System.Windows.DependencyProperty.AddOwner%2A> or <xref:System.Windows.DependencyProperty.OverrideMetadata%2A> call), you should always override with the metadata type used by the original registration."},{"content":"If you are creating a <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph> instance, there are two ways to populate that metadata with values for the specific properties that communicate the framework property characteristics:","pos":[8065,8286],"source":"If you are creating a <xref:System.Windows.FrameworkPropertyMetadata> instance, there are two ways to populate that metadata with values for the specific properties that communicate the framework property characteristics:"},{"content":"Use the <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph> constructor signature that allows a <ph id=\"ph2\">`flags`</ph> parameter.","pos":[8296,8406],"source":"Use the <xref:System.Windows.FrameworkPropertyMetadata> constructor signature that allows a `flags` parameter."},{"content":"This parameter should be filled with all desired combined values of the <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadataOptions&gt;</ph> enumeration flags.","pos":[8407,8552],"source":" This parameter should be filled with all desired combined values of the <xref:System.Windows.FrameworkPropertyMetadataOptions> enumeration flags."},{"content":"Use one of the signatures without a <ph id=\"ph1\">`flags`</ph> parameter, and then set each reporting Boolean property on <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph> to <ph id=\"ph3\">`true`</ph> for each desired characteristic change.","pos":[8562,8762],"source":"Use one of the signatures without a `flags` parameter, and then set each reporting Boolean property on <xref:System.Windows.FrameworkPropertyMetadata> to `true` for each desired characteristic change."},{"content":"If you do this, you must set these properties before any elements with this dependency property are constructed; the Boolean properties are read-write in order to allow this behavior of avoiding the <ph id=\"ph1\">`flags`</ph> parameter and still populate the metadata, but the metadata must become effectively sealed before property use.","pos":[8763,9081],"source":" If you do this, you must set these properties before any elements with this dependency property are constructed; the Boolean properties are read-write in order to allow this behavior of avoiding the `flags` parameter and still populate the metadata, but the metadata must become effectively sealed before property use."},{"content":"Thus, attempting to set the properties after metadata is requested will be an invalid operation.","pos":[9082,9178]},{"pos":[9248,9290],"content":"Framework Property Metadata Merge Behavior","linkify":"Framework Property Metadata Merge Behavior","nodes":[{"content":"Framework Property Metadata Merge Behavior","pos":[0,42]}]},{"content":"When you override framework property metadata, the different metadata characteristics are either merged or replaced.","pos":[9294,9410]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A&gt;</ph> is merged.","pos":[9420,9496],"source":"<xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is merged."},{"content":"If you add a new <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A&gt;</ph>, that callback is stored in the metadata.","pos":[9497,9621],"source":" If you add a new <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>, that callback is stored in the metadata."},{"content":"If you do not specify a <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A&gt;</ph> in the override, the value of <ph id=\"ph2\">&lt;xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A&gt;</ph> is promoted as a reference from the nearest ancestor that specified it in metadata.","pos":[9622,9891],"source":" If you do not specify a <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is promoted as a reference from the nearest ancestor that specified it in metadata."},{"content":"The actual property system behavior for <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A&gt;</ph> is that implementations for all metadata owners in the hierarchy are retained and added to a table, with order of execution by the property system being that the callbacks of the most deeply derived class are invoked first.","pos":[9901,10230],"source":"The actual property system behavior for <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is that implementations for all metadata owners in the hierarchy are retained and added to a table, with order of execution by the property system being that the callbacks of the most deeply derived class are invoked first."},{"content":"Inherited callbacks run only once, counting as being owned by the class that placed them in metadata.","pos":[10231,10332]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.DefaultValue%2A&gt;</ph> is replaced.","pos":[10342,10409],"source":"<xref:System.Windows.PropertyMetadata.DefaultValue%2A> is replaced."},{"content":"If you do not specify a <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A&gt;</ph> in the override, the value of <ph id=\"ph2\">&lt;xref:System.Windows.PropertyMetadata.DefaultValue%2A&gt;</ph> comes from the nearest ancestor that specified it in metadata.","pos":[10410,10647],"source":" If you do not specify a <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.DefaultValue%2A> comes from the nearest ancestor that specified it in metadata."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A&gt;</ph> implementations are replaced.","pos":[10657,10748],"source":"<xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> implementations are replaced."},{"content":"If you add a new <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A&gt;</ph>, that callback is stored in the metadata.","pos":[10749,10869],"source":" If you add a new <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>, that callback is stored in the metadata."},{"content":"If you do not specify a <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A&gt;</ph> in the override, the value of <ph id=\"ph2\">&lt;xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A&gt;</ph> is promoted as a reference from the nearest ancestor that specified it in metadata.","pos":[10870,11131],"source":" If you do not specify a <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> is promoted as a reference from the nearest ancestor that specified it in metadata."},{"content":"The property system behavior is that only the <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A&gt;</ph> in the immediate metadata is invoked.","pos":[11141,11286],"source":"The property system behavior is that only the <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> in the immediate metadata is invoked."},{"content":"No references to other <ph id=\"ph1\">&lt;xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A&gt;</ph> implementations in the hierarchy are retained.","pos":[11287,11418],"source":" No references to other <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> implementations in the hierarchy are retained."},{"content":"The flags of <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadataOptions&gt;</ph> enumeration are combined as a bitwise OR operation.","pos":[11428,11547],"source":"The flags of <xref:System.Windows.FrameworkPropertyMetadataOptions> enumeration are combined as a bitwise OR operation."},{"content":"If you specify <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadataOptions&gt;</ph>, the original options are not overwritten.","pos":[11549,11661],"source":"  If you specify <xref:System.Windows.FrameworkPropertyMetadataOptions>, the original options are not overwritten."},{"content":"To change an option, set the corresponding property on <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph>.","pos":[11663,11766],"source":"  To change an option, set the corresponding property on <xref:System.Windows.FrameworkPropertyMetadata>."},{"content":"For example, if the original <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata&gt;</ph> object sets the <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkPropertyMetadataOptions?displayProperty=fullName&gt;</ph> flag, you can change that by setting <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A?displayProperty=fullName&gt;</ph> to <ph id=\"ph4\">`false`</ph>.","pos":[11767,12082],"source":" For example, if the original <xref:System.Windows.FrameworkPropertyMetadata> object sets the <xref:System.Windows.FrameworkPropertyMetadataOptions?displayProperty=fullName> flag, you can change that by setting <xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A?displayProperty=fullName> to `false`."},{"content":"This behavior is implemented by <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkPropertyMetadata.Merge%2A&gt;</ph>, and can be overridden on derived metadata classes.","pos":[12089,12229],"source":"This behavior is implemented by <xref:System.Windows.FrameworkPropertyMetadata.Merge%2A>, and can be overridden on derived metadata classes."},{"pos":[12238,12246],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\"> [</bpt>Dependency Property Metadata<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)</ept><ph id=\"ph1\"> </ph>","pos":[12309,12414],"source":" [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Dependency Properties Overview<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)</ept><ph id=\"ph1\"> </ph>","pos":[12417,12526],"source":" [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Custom Dependency Properties<ept id=\"p1\">](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)</ept>","pos":[12529,12633],"source":" [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)"}]}