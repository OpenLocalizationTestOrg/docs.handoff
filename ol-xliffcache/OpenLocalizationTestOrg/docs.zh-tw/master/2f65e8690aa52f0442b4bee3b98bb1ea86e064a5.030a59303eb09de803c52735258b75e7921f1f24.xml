{"content":"---\ntitle: \"Introduction to SQL Server CLR Integration\"\nms.date: \"03/30/2017\"\nms.assetid: 551d2290-ed80-49be-b377-44b32444da1c\n---\n# Introduction to SQL Server CLR Integration\nThe common language runtime (CLR) is the heart of the Microsoft .NET Framework and provides the execution environment for all .NET Framework code. Code that runs within the CLR is referred to as managed code. The CLR provides various functions and services required for program execution, including just-in-time (JIT) compilation, allocating and managing memory, enforcing type safety, exception handling, thread management, and security.  \n  \n With the CLR hosted in Microsoft SQL Server (called CLR integration), you can author stored procedures, triggers, user-defined functions, user-defined types, and user-defined aggregates in managed code. Because managed code compiles to native code prior to execution, you can achieve significant performance increases in some scenarios.  \n  \n Managed code uses Code Access Security (CAS), code links, and application domains to prevent assemblies from performing certain operations. SQL Server uses CAS to help secure the managed code and prevent compromise of the operating system or database server.  \n  \n This section is meant to provide only enough information to get started programming with SQL Server CLR integration, and is not meant to be comprehensive. For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.  \n  \n **SQL Server Books Online**  \n  \n-   [Common Language Runtime (CLR) Integration Overview](https://go.microsoft.com/fwlink/?LinkId=115242)  \n  \n## Enabling CLR Integration  \n The common language runtime (CLR) integration feature is off by default in Microsoft SQL Server, and must be enabled in order to use objects that are implemented using CLR integration. To enable CLR integration using Transact-SQL, use the `clr enabled` option of the `sp_configure` stored procedure as shown:  \n  \n```  \nsp_configure 'clr enabled', 1  \nGO  \nRECONFIGURE  \nGO  \n```  \n  \n You can disable CLR integration by setting the `clr enabled` option to 0. When you disable CLR integration, SQL Server stops executing all CLR routines and unloads all application domains.  \n  \n For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.  \n  \n **SQL Server Books Online**  \n  \n-   [Enabling CLR Integration](https://go.microsoft.com/fwlink/?LinkId=115230)  \n  \n## Deploying a CLR Assembly  \n Once the CLR methods have been tested and verified on the test server, they can be distributed to production servers using a deployment script. The deployment script can be generated manually, or by using SQL Server Management Studio. For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.  \n  \n **SQL Server Books Online**  \n  \n1.  [Deploying CLR Database Objects](https://go.microsoft.com/fwlink/?LinkId=115232)  \n  \n## CLR Integration Security  \n The security model of the Microsoft SQL Server integration with the Microsoft .NET Framework common language runtime (CLR) manages and secures access between different types of CLR and non-CLR objects running within SQL Server. These objects may be called by a Transact-SQL statement or another CLR object running in the server.  \n  \n For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.  \n  \n **SQL Server Books Online**  \n  \n-   [CLR Integration Security](https://go.microsoft.com/fwlink/?LinkId=115234)  \n  \n## Debugging a CLR Assembly  \n Microsoft SQL Server provides support for debugging Transact-SQL and common language runtime (CLR) objects in the database. Debugging works across languages: users can step seamlessly into CLR objects from Transact-SQL, and vice versa.  \n  \n For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.  \n  \n **SQL Server Books Online**  \n  \n-   [Debugging CLR Database Objects](https://go.microsoft.com/fwlink/?LinkId=115236)  \n  \n## See also\n\n- [Code Access Security and ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md)\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,126],"embed":true,"restype":"x-metadata","content":"title: \"Introduction to SQL Server CLR Integration\"\nms.date: \"03/30/2017\"\nms.assetid: 551d2290-ed80-49be-b377-44b32444da1c","nodes":[{"content":"Introduction to SQL Server CLR Integration","nodes":[{"pos":[0,42],"content":"Introduction to SQL Server CLR Integration","nodes":[{"content":"Introduction to SQL Server CLR Integration","pos":[0,42]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[133,175],"content":"Introduction to SQL Server CLR Integration","linkify":"Introduction to SQL Server CLR Integration","nodes":[{"content":"Introduction to SQL Server CLR Integration","pos":[0,42]}]},{"content":"The common language runtime (CLR) is the heart of the Microsoft .NET Framework and provides the execution environment for all .NET Framework code.","pos":[176,322]},{"content":"Code that runs within the CLR is referred to as managed code.","pos":[323,384]},{"content":"The CLR provides various functions and services required for program execution, including just-in-time (JIT) compilation, allocating and managing memory, enforcing type safety, exception handling, thread management, and security.","pos":[385,614]},{"content":"With the CLR hosted in Microsoft SQL Server (called CLR integration), you can author stored procedures, triggers, user-defined functions, user-defined types, and user-defined aggregates in managed code.","pos":[621,823]},{"content":"Because managed code compiles to native code prior to execution, you can achieve significant performance increases in some scenarios.","pos":[824,957]},{"content":"Managed code uses Code Access Security (CAS), code links, and application domains to prevent assemblies from performing certain operations.","pos":[964,1103]},{"content":"SQL Server uses CAS to help secure the managed code and prevent compromise of the operating system or database server.","pos":[1104,1222]},{"content":"This section is meant to provide only enough information to get started programming with SQL Server CLR integration, and is not meant to be comprehensive.","pos":[1229,1383]},{"content":"For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.","pos":[1384,1502]},{"pos":[1509,1536],"content":"<bpt id=\"p1\">**</bpt>SQL Server Books Online<ept id=\"p1\">**</ept>","source":"**SQL Server Books Online**"},{"pos":[1546,1646],"content":"<bpt id=\"p1\">[</bpt>Common Language Runtime (CLR) Integration Overview<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=115242)</ept>","source":"[Common Language Runtime (CLR) Integration Overview](https://go.microsoft.com/fwlink/?LinkId=115242)"},{"pos":[1655,1679],"content":"Enabling CLR Integration","linkify":"Enabling CLR Integration","nodes":[{"content":"Enabling CLR Integration","pos":[0,24]}]},{"content":"The common language runtime (CLR) integration feature is off by default in Microsoft SQL Server, and must be enabled in order to use objects that are implemented using CLR integration.","pos":[1683,1867]},{"content":"To enable CLR integration using Transact-SQL, use the <ph id=\"ph1\">`clr enabled`</ph> option of the <ph id=\"ph2\">`sp_configure`</ph> stored procedure as shown:","pos":[1868,1991],"source":" To enable CLR integration using Transact-SQL, use the `clr enabled` option of the `sp_configure` stored procedure as shown:"},{"content":"You can disable CLR integration by setting the <ph id=\"ph1\">`clr enabled`</ph> option to 0.","pos":[2069,2142],"source":"You can disable CLR integration by setting the `clr enabled` option to 0."},{"content":"When you disable CLR integration, SQL Server stops executing all CLR routines and unloads all application domains.","pos":[2143,2257]},{"content":"For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.","pos":[2264,2382]},{"pos":[2389,2416],"content":"<bpt id=\"p1\">**</bpt>SQL Server Books Online<ept id=\"p1\">**</ept>","source":"**SQL Server Books Online**"},{"pos":[2426,2500],"content":"<bpt id=\"p1\">[</bpt>Enabling CLR Integration<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=115230)</ept>","source":"[Enabling CLR Integration](https://go.microsoft.com/fwlink/?LinkId=115230)"},{"pos":[2509,2533],"content":"Deploying a CLR Assembly","linkify":"Deploying a CLR Assembly","nodes":[{"content":"Deploying a CLR Assembly","pos":[0,24]}]},{"content":"Once the CLR methods have been tested and verified on the test server, they can be distributed to production servers using a deployment script.","pos":[2537,2680]},{"content":"The deployment script can be generated manually, or by using SQL Server Management Studio.","pos":[2681,2771]},{"content":"For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.","pos":[2772,2890]},{"pos":[2897,2924],"content":"<bpt id=\"p1\">**</bpt>SQL Server Books Online<ept id=\"p1\">**</ept>","source":"**SQL Server Books Online**"},{"pos":[2934,3014],"content":"<bpt id=\"p1\">[</bpt>Deploying CLR Database Objects<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=115232)</ept>","source":"[Deploying CLR Database Objects](https://go.microsoft.com/fwlink/?LinkId=115232)"},{"pos":[3023,3047],"content":"CLR Integration Security","linkify":"CLR Integration Security","nodes":[{"content":"CLR Integration Security","pos":[0,24]}]},{"content":"The security model of the Microsoft SQL Server integration with the Microsoft .NET Framework common language runtime (CLR) manages and secures access between different types of CLR and non-CLR objects running within SQL Server.","pos":[3051,3278]},{"content":"These objects may be called by a Transact-SQL statement or another CLR object running in the server.","pos":[3279,3379]},{"content":"For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.","pos":[3386,3504]},{"pos":[3511,3538],"content":"<bpt id=\"p1\">**</bpt>SQL Server Books Online<ept id=\"p1\">**</ept>","source":"**SQL Server Books Online**"},{"pos":[3548,3622],"content":"<bpt id=\"p1\">[</bpt>CLR Integration Security<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=115234)</ept>","source":"[CLR Integration Security](https://go.microsoft.com/fwlink/?LinkId=115234)"},{"pos":[3631,3655],"content":"Debugging a CLR Assembly","linkify":"Debugging a CLR Assembly","nodes":[{"content":"Debugging a CLR Assembly","pos":[0,24]}]},{"content":"Microsoft SQL Server provides support for debugging Transact-SQL and common language runtime (CLR) objects in the database.","pos":[3659,3782]},{"content":"Debugging works across languages: users can step seamlessly into CLR objects from Transact-SQL, and vice versa.","pos":[3783,3894]},{"content":"For more detailed information, see the version of SQL Server Books Online for the version of SQL Server you are using.","pos":[3901,4019]},{"pos":[4026,4053],"content":"<bpt id=\"p1\">**</bpt>SQL Server Books Online<ept id=\"p1\">**</ept>","source":"**SQL Server Books Online**"},{"pos":[4063,4143],"content":"<bpt id=\"p1\">[</bpt>Debugging CLR Database Objects<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=115236)</ept>","source":"[Debugging CLR Database Objects](https://go.microsoft.com/fwlink/?LinkId=115236)"},{"pos":[4152,4160],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4164,4265],"content":"<bpt id=\"p1\">[</bpt>Code Access Security and ADO.NET<ept id=\"p1\">](../../../../../docs/framework/data/adonet/code-access-security.md)</ept>","source":"[Code Access Security and ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md)"},{"pos":[4268,4372],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}