{"content":"---\ntitle: \"How to: Inspect and Modify Messages on the Service\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 9c5b1cc7-84f3-45f8-9226-d59c278e8c42\n---\n# How to: Inspect and Modify Messages on the Service\nYou can inspect or modify the incoming or outgoing messages across a Windows Communication Foundation (WCF) client by implementing a <xref:System.ServiceModel.Dispatcher.IDispatchMessageInspector?displayProperty=nameWithType> and inserting it into the service runtime. For more information, see [Extending Dispatchers](../../../../docs/framework/wcf/extending/extending-dispatchers.md). The equivalent feature on the service is the <xref:System.ServiceModel.Dispatcher.IClientMessageInspector?displayProperty=nameWithType>.  \n  \n### To inspect or modify messages  \n  \n1.  Implement the <xref:System.ServiceModel.Dispatcher.IDispatchMessageInspector?displayProperty=nameWithType> interface.  \n  \n2.  Implement a <xref:System.ServiceModel.Description.IServiceBehavior?displayProperty=nameWithType>, <xref:System.ServiceModel.Description.IEndpointBehavior?displayProperty=nameWithType>, or <xref:System.ServiceModel.Description.IContractBehavior?displayProperty=nameWithType> interface depending upon the scope at which you want to easily insert your service message inspector.  \n  \n3.  Insert your behavior prior to calling the <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> method on the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>. For details, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).  \n  \n## Example  \n The following code examples show, in order:  \n  \n-   A service inspector implementation.  \n  \n-   A service behavior that inserts the inspector.  \n  \n-   A configuration file that loads and runs the behavior in a service application.  \n  \n [!code-csharp[Interceptors#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/interceptors/cs/interceptors.cs#7)]\n [!code-vb[Interceptors#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/interceptors/vb/interceptors.vb#7)]  \n  \n [!code-csharp[Interceptors#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/interceptors/cs/insertingbehaviors.cs#8)]\n [!code-vb[Interceptors#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/interceptors/vb/insertingbehaviors.vb#8)]  \n  \n [!code-xml[Interceptors#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/interceptors/cs/hostapplication.exe.config#9)]  \n  \n## See also\n\n- <xref:System.ServiceModel.Dispatcher.IClientMessageInspector?displayProperty=nameWithType>\n- <xref:System.ServiceModel.Dispatcher.IDispatchMessageInspector?displayProperty=nameWithType>\n- [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)\n","nodes":[{"pos":[4,168],"embed":true,"restype":"x-metadata","content":"title: \"How to: Inspect and Modify Messages on the Service\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 9c5b1cc7-84f3-45f8-9226-d59c278e8c42","nodes":[{"content":"How to: Inspect and Modify Messages on the Service","nodes":[{"pos":[0,50],"content":"How to: Inspect and Modify Messages on the Service","nodes":[{"content":"How to: Inspect and Modify Messages on the Service","pos":[0,50]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[175,225],"content":"How to: Inspect and Modify Messages on the Service","linkify":"How to: Inspect and Modify Messages on the Service","nodes":[{"content":"How to: Inspect and Modify Messages on the Service","pos":[0,50]}]},{"content":"You can inspect or modify the incoming or outgoing messages across a Windows Communication Foundation (WCF) client by implementing a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IDispatchMessageInspector?displayProperty=nameWithType&gt;</ph> and inserting it into the service runtime.","pos":[226,494],"source":"You can inspect or modify the incoming or outgoing messages across a Windows Communication Foundation (WCF) client by implementing a <xref:System.ServiceModel.Dispatcher.IDispatchMessageInspector?displayProperty=nameWithType> and inserting it into the service runtime."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Extending Dispatchers<ept id=\"p1\">](../../../../docs/framework/wcf/extending/extending-dispatchers.md)</ept>.","pos":[495,612],"source":" For more information, see [Extending Dispatchers](../../../../docs/framework/wcf/extending/extending-dispatchers.md)."},{"content":"The equivalent feature on the service is the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IClientMessageInspector?displayProperty=nameWithType&gt;</ph>.","pos":[613,749],"source":" The equivalent feature on the service is the <xref:System.ServiceModel.Dispatcher.IClientMessageInspector?displayProperty=nameWithType>."},{"pos":[759,788],"content":"To inspect or modify messages","linkify":"To inspect or modify messages","nodes":[{"content":"To inspect or modify messages","pos":[0,29]}]},{"pos":[798,915],"content":"Implement the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Dispatcher.IDispatchMessageInspector?displayProperty=nameWithType&gt;</ph> interface.","source":"Implement the <xref:System.ServiceModel.Dispatcher.IDispatchMessageInspector?displayProperty=nameWithType> interface."},{"pos":[925,1300],"content":"Implement a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.IServiceBehavior?displayProperty=nameWithType&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.IEndpointBehavior?displayProperty=nameWithType&gt;</ph>, or <ph id=\"ph3\">&lt;xref:System.ServiceModel.Description.IContractBehavior?displayProperty=nameWithType&gt;</ph> interface depending upon the scope at which you want to easily insert your service message inspector.","source":"Implement a <xref:System.ServiceModel.Description.IServiceBehavior?displayProperty=nameWithType>, <xref:System.ServiceModel.Description.IEndpointBehavior?displayProperty=nameWithType>, or <xref:System.ServiceModel.Description.IContractBehavior?displayProperty=nameWithType> interface depending upon the scope at which you want to easily insert your service message inspector."},{"content":"Insert your behavior prior to calling the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType&gt;</ph> method on the <ph id=\"ph2\">&lt;xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType&gt;</ph>.","pos":[1310,1519],"source":"Insert your behavior prior to calling the <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> method on the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>."},{"content":"For details, see <bpt id=\"p1\">[</bpt>Configuring and Extending the Runtime with Behaviors<ept id=\"p1\">](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)</ept>.","pos":[1520,1690],"source":" For details, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)."},{"pos":[1699,1706],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code examples show, in order:","pos":[1710,1753]},{"content":"A service inspector implementation.","pos":[1763,1798]},{"content":"A service behavior that inserts the inspector.","pos":[1808,1854]},{"content":"A configuration file that loads and runs the behavior in a service application.","pos":[1864,1943]},{"pos":[1950,2187],"content":"[!code-csharp[Interceptors#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/interceptors/cs/interceptors.cs#7)]\n[!code-vb[Interceptors#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/interceptors/vb/interceptors.vb#7)]","leadings":[""," "],"nodes":[]},{"pos":[2194,2443],"content":"[!code-csharp[Interceptors#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/interceptors/cs/insertingbehaviors.cs#8)]\n[!code-vb[Interceptors#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/interceptors/vb/insertingbehaviors.vb#8)]","leadings":[""," "],"nodes":[]},{"pos":[2584,2592],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2784,2936],"content":"<bpt id=\"p1\">[</bpt>Configuring and Extending the Runtime with Behaviors<ept id=\"p1\">](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)</ept>","source":"[Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)"}]}