{"content":"---\ntitle: \"System.Web.Routing Integration\"\nms.date: \"03/30/2017\"\nms.assetid: 31fe2a4f-5c47-4e5d-8ee1-84c524609d41\n---\n# System.Web.Routing Integration\nWhen hosting a Windows Communication Foundation (WCF) service in Internet Information Service (IIS) you place a .svc file in the virtual directory. This .svc file specifies the service host factory to use as well as the class that implements the service. When making requests to the service you specify the .svc file in the URI, for example: `http://contoso.com/EmployeeServce.svc`. For programmers writing REST services this type of URI is not optimal. URIs for REST services specify a specific resource and normally do not have any extensions. The <xref:System.Web.Routing> integration feature allows you to host a WCF REST service that responds to URIs without an extension. For more information about routing see [ASP.NET Routing](https://go.microsoft.com/fwlink/?LinkId=184660).  \n  \n## Using System.Web.Routing Integration  \n To use the <xref:System.Web.Routing> integration feature, you use the <xref:System.ServiceModel.Activation.ServiceRoute> class to create one or more routes and add them to the <xref:System.Web.Routing.RouteTable> in a Global.asax file. These routes specify the relative URIs that the service responds to. The following example shows how to do this.  \n  \n```  \n<%@ Application Language=\"C#\" %>  \n<%@ Import Namespace=\"System.Web.Routing\" %>  \n<%@ Import Namespace=\"System.ServiceModel.Activation\" %>  \n<%@ Import Namespace=\"System.ServiceModel.Web \" %>  \n  \n<script RunAt=\"server\">  \n    void Application_Start(object sender, EventArgs e)  \n    {  \n        RegisterRoutes(RouteTable.Routes);  \n    }  \n  \n    private void RegisterRoutes(RouteCollection routes)  \n    {  \n        routes.Add(new ServiceRoute(\"Customers\", new WebServiceHostFactory(), typeof(Service)));   \n   }  \n</script>  \n```  \n  \n This routes all requests with a relative URI that begins with Customers to the `Service` service.  \n  \n In your Web.config file you must add the `System.Web.Routing.UrlRoutingModule` module, set the `runAllManagedModulesForAllRequests` attribute to `true`, and add the `UrlRoutingHandler` handler to the `<system.webServer>` element as shown in the following example.  \n  \n```xml  \n<system.webServer>  \n      <modules runAllManagedModulesForAllRequests=\"true\">  \n        <add name=\"UrlRoutingModule\" type=\"System.Web.Routing.UrlRoutingModule, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" />  \n      </modules>  \n      <handlers>  \n        <add name=\"UrlRoutingHandler\" preCondition=\"integratedMode\" verb=\"*\" path=\"UrlRouting.axd\"/>  \n      </handlers>  \n    </system.webServer>  \n```  \n  \n This loads a module and handler required for routing. For more information, see [Routing](../../../../docs/framework/wcf/feature-details/routing.md). You must also set the `aspNetCompatibilityEnabled` attribute to `true` in the `<serviceHostingEnvironment>` element as shown in the following example.  \n  \n```xml  \n<system.serviceModel>  \n    <serviceHostingEnvironment aspNetCompatibilityEnabled=\"true\"/>  \n        <!-- ... -->  \n    </system.serviceModel>  \n```  \n  \n The class that implements the service must enable ASP.NET compatibility requirements as shown in the following example.  \n  \n```  \n[ServiceContract]  \n[AspNetCompatibilityRequirements(RequirementsMode=AspNetCompatibilityRequirementsMode.Allowed)]  \n    public class Service  \n    {  \n        // ...  \n    }  \n```  \n  \n## See also\n\n- [WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)\n- [ASP.NET Routing](https://go.microsoft.com/fwlink/?LinkId=184660)\n","nodes":[{"pos":[4,114],"embed":true,"restype":"x-metadata","content":"title: \"System.Web.Routing Integration\"\nms.date: \"03/30/2017\"\nms.assetid: 31fe2a4f-5c47-4e5d-8ee1-84c524609d41","nodes":[{"content":"System.Web.Routing Integration","nodes":[{"pos":[0,30],"content":"System.Web.Routing Integration","nodes":[{"content":"System.Web.Routing Integration","pos":[0,30]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[121,151],"content":"System.Web.Routing Integration","linkify":"System.Web.Routing Integration","nodes":[{"content":"System.Web.Routing Integration","pos":[0,30]}]},{"content":"When hosting a Windows Communication Foundation (WCF) service in Internet Information Service (IIS) you place a .svc file in the virtual directory.","pos":[152,299]},{"content":"This .svc file specifies the service host factory to use as well as the class that implements the service.","pos":[300,406]},{"content":"When making requests to the service you specify the .svc file in the URI, for example: <ph id=\"ph1\">`http://contoso.com/EmployeeServce.svc`</ph>.","pos":[407,534],"source":" When making requests to the service you specify the .svc file in the URI, for example: `http://contoso.com/EmployeeServce.svc`."},{"content":"For programmers writing REST services this type of URI is not optimal.","pos":[535,605]},{"content":"URIs for REST services specify a specific resource and normally do not have any extensions.","pos":[606,697]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Web.Routing&gt;</ph> integration feature allows you to host a WCF REST service that responds to URIs without an extension.","pos":[698,829],"source":" The <xref:System.Web.Routing> integration feature allows you to host a WCF REST service that responds to URIs without an extension."},{"content":"For more information about routing see <bpt id=\"p1\">[</bpt>ASP.NET Routing<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=184660)</ept>.","pos":[830,935],"source":" For more information about routing see [ASP.NET Routing](https://go.microsoft.com/fwlink/?LinkId=184660)."},{"pos":[944,980],"content":"Using System.Web.Routing Integration","linkify":"Using System.Web.Routing Integration","nodes":[{"content":"Using System.Web.Routing Integration","pos":[0,36]}]},{"content":"To use the <ph id=\"ph1\">&lt;xref:System.Web.Routing&gt;</ph> integration feature, you use the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Activation.ServiceRoute&gt;</ph> class to create one or more routes and add them to the <ph id=\"ph3\">&lt;xref:System.Web.Routing.RouteTable&gt;</ph> in a Global.asax file.","pos":[984,1219],"source":"To use the <xref:System.Web.Routing> integration feature, you use the <xref:System.ServiceModel.Activation.ServiceRoute> class to create one or more routes and add them to the <xref:System.Web.Routing.RouteTable> in a Global.asax file."},{"content":"These routes specify the relative URIs that the service responds to.","pos":[1220,1288]},{"content":"The following example shows how to do this.","pos":[1289,1332]},{"pos":[1883,1980],"content":"This routes all requests with a relative URI that begins with Customers to the <ph id=\"ph1\">`Service`</ph> service.","source":"This routes all requests with a relative URI that begins with Customers to the `Service` service."},{"pos":[1987,2250],"content":"In your Web.config file you must add the <ph id=\"ph1\">`System.Web.Routing.UrlRoutingModule`</ph> module, set the <ph id=\"ph2\">`runAllManagedModulesForAllRequests`</ph> attribute to <ph id=\"ph3\">`true`</ph>, and add the <ph id=\"ph4\">`UrlRoutingHandler`</ph> handler to the <ph id=\"ph5\">`&lt;system.webServer&gt;`</ph> element as shown in the following example.","source":"In your Web.config file you must add the `System.Web.Routing.UrlRoutingModule` module, set the `runAllManagedModulesForAllRequests` attribute to `true`, and add the `UrlRoutingHandler` handler to the `<system.webServer>` element as shown in the following example."},{"content":"This loads a module and handler required for routing.","pos":[2707,2760]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Routing<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/routing.md)</ept>.","pos":[2761,2856],"source":" For more information, see [Routing](../../../../docs/framework/wcf/feature-details/routing.md)."},{"content":"You must also set the <ph id=\"ph1\">`aspNetCompatibilityEnabled`</ph> attribute to <ph id=\"ph2\">`true`</ph> in the <ph id=\"ph3\">`&lt;serviceHostingEnvironment&gt;`</ph> element as shown in the following example.","pos":[2857,3007],"source":" You must also set the `aspNetCompatibilityEnabled` attribute to `true` in the `<serviceHostingEnvironment>` element as shown in the following example."},{"content":"The class that implements the service must enable ASP.NET compatibility requirements as shown in the following example.","pos":[3177,3296]},{"pos":[3498,3506],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3510,3624],"content":"<bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)</ept>","source":"[WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)"},{"pos":[3627,3692],"content":"<bpt id=\"p1\">[</bpt>ASP.NET Routing<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=184660)</ept>","source":"[ASP.NET Routing](https://go.microsoft.com/fwlink/?LinkId=184660)"}]}