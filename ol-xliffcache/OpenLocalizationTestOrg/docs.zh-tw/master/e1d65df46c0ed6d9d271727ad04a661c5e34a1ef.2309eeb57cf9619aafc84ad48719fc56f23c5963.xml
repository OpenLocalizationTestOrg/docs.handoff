{"content":"---\ntitle: \"Add Service Reference in a Portable Subset Project\"\nms.date: \"03/30/2017\"\nms.assetid: 61ccfe0f-a34b-40ca-8f5e-725fa1b8095e\n---\n# Add Service Reference in a Portable Subset Project\nPortable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and XBOX). Portable subset projects only reference .NET portable libraries which are a .NET framework assembly that can be used on any .NET implementation.  \n  \n## Add Service Reference Details  \n When adding a service reference in a portable subset project the following restrictions are enforced:  \n  \n1.  For <xref:System.Xml.Serialization.XmlSerializer>, only literal encodings are allowed. SOAP encodings generate an error during import.  \n  \n2.  For services that use <xref:System.Runtime.Serialization.DataContractSerializer> scenarios, a data contract surrogate is provided to ensure that reused types come only from the portable subset.  \n  \n3.  Endpoints which rely on bindings not supported in portable libraries (all bindings except <xref:System.ServiceModel.BasicHttpBinding>, <xref:System.ServiceModel.WSHttpBinding> without transaction flow, reliable sessions, or MTOM encoding, and equivalent custom bindings) are ignored.  \n  \n4.  Message headers are deleted from all message descriptions in all operations before import.  \n  \n5.  Non-portable attributes <xref:System.ComponentModel.DesignerCategoryAttribute>, <xref:System.SerializableAttribute>, and <xref:System.ServiceModel.TransactionFlowAttribute> are removed from generated client proxy code.  \n  \n6.  Non-portable properties ProtectionLevel, SessionMode, IsInitiating, IsTerminating are removed from <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, and <xref:System.ServiceModel.FaultContractAttribute>.  \n  \n7.  All service operations are generated as asynchronous operations on the client proxy.  \n  \n8.  Generated client constructors which use non-portable types are removed.  \n  \n9. A <xref:System.Net.CookieContainer> instance is exposed on the generated client.  \n  \n10. A comment is inserted at the top of the file identifying the assembly and version of the code generator:`// This code was auto-generated by Microsoft.VisualStudio.Portable.AddServiceReference, version 1.0.0.0`  \n  \n11. The <xref:System.Runtime.Serialization.ISerializable> interface is not supported.  \n  \n12. Net.Tcp and PollingDuplex bindings are not supported  \n  \n13. The <xref:System.Runtime.Serialization.DataContractSerializer> will always be used for faults.  \n  \n14. <xref:System.ServiceModel.MessageContractAttribute.IsWrapped%2A> is not supported in portable subset projects.  \n  \n## See also\n\n- [Accessing Services Using a WCF Client](../../../docs/framework/wcf/accessing-services-using-a-wcf-client.md)\n- [Portable Class Library](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md)\n","nodes":[{"pos":[4,134],"embed":true,"restype":"x-metadata","content":"title: \"Add Service Reference in a Portable Subset Project\"\nms.date: \"03/30/2017\"\nms.assetid: 61ccfe0f-a34b-40ca-8f5e-725fa1b8095e","nodes":[{"content":"Add Service Reference in a Portable Subset Project","nodes":[{"pos":[0,50],"content":"Add Service Reference in a Portable Subset Project","nodes":[{"content":"Add Service Reference in a Portable Subset Project","pos":[0,50]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[141,191],"content":"Add Service Reference in a Portable Subset Project","linkify":"Add Service Reference in a Portable Subset Project","nodes":[{"content":"Add Service Reference in a Portable Subset Project","pos":[0,50]}]},{"content":"Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and XBOX).","pos":[192,401]},{"content":"Portable subset projects only reference .NET portable libraries which are a .NET framework assembly that can be used on any .NET implementation.","pos":[402,546]},{"pos":[555,584],"content":"Add Service Reference Details","linkify":"Add Service Reference Details","nodes":[{"content":"Add Service Reference Details","pos":[0,29]}]},{"content":"When adding a service reference in a portable subset project the following restrictions are enforced:","pos":[588,689]},{"content":"For <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph>, only literal encodings are allowed.","pos":[699,785],"source":"For <xref:System.Xml.Serialization.XmlSerializer>, only literal encodings are allowed."},{"content":"SOAP encodings generate an error during import.","pos":[786,833]},{"pos":[843,1036],"content":"For services that use <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph> scenarios, a data contract surrogate is provided to ensure that reused types come only from the portable subset.","source":"For services that use <xref:System.Runtime.Serialization.DataContractSerializer> scenarios, a data contract surrogate is provided to ensure that reused types come only from the portable subset."},{"pos":[1046,1329],"content":"Endpoints which rely on bindings not supported in portable libraries (all bindings except <ph id=\"ph1\">&lt;xref:System.ServiceModel.BasicHttpBinding&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.ServiceModel.WSHttpBinding&gt;</ph> without transaction flow, reliable sessions, or MTOM encoding, and equivalent custom bindings) are ignored.","source":"Endpoints which rely on bindings not supported in portable libraries (all bindings except <xref:System.ServiceModel.BasicHttpBinding>, <xref:System.ServiceModel.WSHttpBinding> without transaction flow, reliable sessions, or MTOM encoding, and equivalent custom bindings) are ignored."},{"content":"Message headers are deleted from all message descriptions in all operations before import.","pos":[1339,1429]},{"pos":[1439,1657],"content":"Non-portable attributes <ph id=\"ph1\">&lt;xref:System.ComponentModel.DesignerCategoryAttribute&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.SerializableAttribute&gt;</ph>, and <ph id=\"ph3\">&lt;xref:System.ServiceModel.TransactionFlowAttribute&gt;</ph> are removed from generated client proxy code.","source":"Non-portable attributes <xref:System.ComponentModel.DesignerCategoryAttribute>, <xref:System.SerializableAttribute>, and <xref:System.ServiceModel.TransactionFlowAttribute> are removed from generated client proxy code."},{"pos":[1667,1928],"content":"Non-portable properties ProtectionLevel, SessionMode, IsInitiating, IsTerminating are removed from <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.ServiceModel.OperationContractAttribute&gt;</ph>, and <ph id=\"ph3\">&lt;xref:System.ServiceModel.FaultContractAttribute&gt;</ph>.","source":"Non-portable properties ProtectionLevel, SessionMode, IsInitiating, IsTerminating are removed from <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, and <xref:System.ServiceModel.FaultContractAttribute>."},{"content":"All service operations are generated as asynchronous operations on the client proxy.","pos":[1938,2022]},{"content":"Generated client constructors which use non-portable types are removed.","pos":[2032,2103]},{"pos":[2112,2192],"content":"A <ph id=\"ph1\">&lt;xref:System.Net.CookieContainer&gt;</ph> instance is exposed on the generated client.","source":"A <xref:System.Net.CookieContainer> instance is exposed on the generated client."},{"pos":[2202,2411],"content":"A comment is inserted at the top of the file identifying the assembly and version of the code generator:<ph id=\"ph1\">`// This code was auto-generated by Microsoft.VisualStudio.Portable.AddServiceReference, version 1.0.0.0`</ph>","source":"A comment is inserted at the top of the file identifying the assembly and version of the code generator:`// This code was auto-generated by Microsoft.VisualStudio.Portable.AddServiceReference, version 1.0.0.0`"},{"pos":[2421,2502],"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.ISerializable&gt;</ph> interface is not supported.","source":"The <xref:System.Runtime.Serialization.ISerializable> interface is not supported."},{"content":"Net.Tcp and PollingDuplex bindings are not supported","pos":[2512,2564]},{"pos":[2574,2668],"content":"The <ph id=\"ph1\">&lt;xref:System.Runtime.Serialization.DataContractSerializer&gt;</ph> will always be used for faults.","source":"The <xref:System.Runtime.Serialization.DataContractSerializer> will always be used for faults."},{"pos":[2678,2788],"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.MessageContractAttribute.IsWrapped%2A&gt;</ph> is not supported in portable subset projects.","source":"<xref:System.ServiceModel.MessageContractAttribute.IsWrapped%2A> is not supported in portable subset projects."},{"pos":[2797,2805],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2809,2918],"content":"<bpt id=\"p1\">[</bpt>Accessing Services Using a WCF Client<ept id=\"p1\">](../../../docs/framework/wcf/accessing-services-using-a-wcf-client.md)</ept>","source":"[Accessing Services Using a WCF Client](../../../docs/framework/wcf/accessing-services-using-a-wcf-client.md)"},{"pos":[2921,3038],"content":"<bpt id=\"p1\">[</bpt>Portable Class Library<ept id=\"p1\">](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md)</ept>","source":"[Portable Class Library](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md)"}]}