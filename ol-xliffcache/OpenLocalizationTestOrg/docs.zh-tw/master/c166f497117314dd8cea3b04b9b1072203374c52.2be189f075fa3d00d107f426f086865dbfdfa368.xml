{"content":"---\ntitle: \"WCF and Internationalized Domain Names\"\nms.date: \"03/30/2017\"\nms.assetid: c8a3e10a-8bc2-4a78-8d86-a562ba6e65fa\n---\n# WCF and Internationalized Domain Names\nSupport has been added to allow for WCF services with Internationalized Domain Names (IDN). An internationalized domain name is a domain name that contains non-ASCII characters. This support includes both the ability to host a WCF service with an IDN name and a WCF client to talk to a web service with an IDN name.  \n  \n## System.Uri and IDN  \n <xref:System.Uri> has two properties <xref:System.Uri.Host%2A> and <xref:System.Uri.DnsSafeHost%2A>. These properties contain Unicode or Punycode values depending upon the IDN configuration settings.  \n  \n IDN is enabled in an application’s configuration file using the following XML  \n  \n```xml  \n<configuration>  \n  <uri>  \n    <idn enabled=\"All/AllExceptIntranet/None\" />  \n  </uri>  \n</configuration>  \n```  \n  \n The \\<idn> element contains the enabled attribute which can be set to one of the following values:  \n  \n1.  \"None\"  \n  \n2.  \"AllExceptIntranet\"  \n  \n3.  \"All\"  \n  \n When the IDN setting is set to \"None\", no conversions are performed by Uri.Host or Uri.DnsSafeHost. When the IDN setting is set to \"All\", uri.Host remains Unicode and uri.DnsSafeHost is converted to Punycode. When the IDN setting is set to \"AllExceptIntranet\", uri.DnsSafeHost is converted to Punycode for internet addresses, and remains Unicode for intranet addresses. This setting is important for correct DNS name resolution. Note this setting is not required to be configured for Windows 8 and newer versions.  \n  \n> [!WARNING]\n>  You should never hard-code an address using Punycode. WCF will convert it for you based on the configuration settings you apply.  \n  \n> [!WARNING]\n>  When adding Unicode characters to applicationHost.exe.config, save the file using the UTF-8 encoding.  \n  \n## See also\n\n- <xref:System.Uri?displayProperty=nameWithType>\n","nodes":[{"pos":[4,122],"embed":true,"restype":"x-metadata","content":"title: \"WCF and Internationalized Domain Names\"\nms.date: \"03/30/2017\"\nms.assetid: c8a3e10a-8bc2-4a78-8d86-a562ba6e65fa","nodes":[{"content":"WCF and Internationalized Domain Names","nodes":[{"pos":[0,38],"content":"WCF and Internationalized Domain Names","nodes":[{"content":"WCF and Internationalized Domain Names","pos":[0,38]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[129,167],"content":"WCF and Internationalized Domain Names","linkify":"WCF and Internationalized Domain Names","nodes":[{"content":"WCF and Internationalized Domain Names","pos":[0,38]}]},{"content":"Support has been added to allow for WCF services with Internationalized Domain Names (IDN).","pos":[168,259]},{"content":"An internationalized domain name is a domain name that contains non-ASCII characters.","pos":[260,345]},{"content":"This support includes both the ability to host a WCF service with an IDN name and a WCF client to talk to a web service with an IDN name.","pos":[346,483]},{"pos":[492,510],"content":"System.Uri and IDN","linkify":"System.Uri and IDN","nodes":[{"content":"System.Uri and IDN","pos":[0,18]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Uri&gt;</ph> has two properties <ph id=\"ph2\">&lt;xref:System.Uri.Host%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Uri.DnsSafeHost%2A&gt;</ph>.","pos":[514,614],"source":"<xref:System.Uri> has two properties <xref:System.Uri.Host%2A> and <xref:System.Uri.DnsSafeHost%2A>."},{"content":"These properties contain Unicode or Punycode values depending upon the IDN configuration settings.","pos":[615,713]},{"content":"IDN is enabled in an application’s configuration file using the following XML","pos":[720,797]},{"content":"The <ph id=\"ph1\">\\&lt;</ph>idn&gt; element contains the enabled attribute which can be set to one of the following values:","pos":[931,1029],"source":"The \\<idn> element contains the enabled attribute which can be set to one of the following values:"},{"content":"\"None\"","pos":[1039,1045]},{"content":"\"AllExceptIntranet\"","pos":[1055,1074]},{"content":"\"All\"","pos":[1084,1089]},{"content":"When the IDN setting is set to \"None\", no conversions are performed by Uri.Host or Uri.DnsSafeHost.","pos":[1096,1195]},{"content":"When the IDN setting is set to \"All\", uri.Host remains Unicode and uri.DnsSafeHost is converted to Punycode.","pos":[1196,1304]},{"content":"When the IDN setting is set to \"AllExceptIntranet\", uri.DnsSafeHost is converted to Punycode for internet addresses, and remains Unicode for intranet addresses.","pos":[1305,1465]},{"content":"This setting is important for correct DNS name resolution.","pos":[1466,1524]},{"content":"Note this setting is not required to be configured for Windows 8 and newer versions.","pos":[1525,1609]},{"pos":[1617,1759],"content":"[!WARNING]\n You should never hard-code an address using Punycode. WCF will convert it for you based on the configuration settings you apply.","leadings":["","> "],"nodes":[{"content":"You should never hard-code an address using Punycode. WCF will convert it for you based on the configuration settings you apply.","pos":[12,140],"nodes":[{"content":"You should never hard-code an address using Punycode.","pos":[0,53]},{"content":"WCF will convert it for you based on the configuration settings you apply.","pos":[54,128]}]}]},{"pos":[1767,1882],"content":"[!WARNING]\n When adding Unicode characters to applicationHost.exe.config, save the file using the UTF-8 encoding.","leadings":["","> "],"nodes":[{"content":"When adding Unicode characters to applicationHost.exe.config, save the file using the UTF-8 encoding.","pos":[12,113]}]},{"pos":[1891,1899],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]}]}