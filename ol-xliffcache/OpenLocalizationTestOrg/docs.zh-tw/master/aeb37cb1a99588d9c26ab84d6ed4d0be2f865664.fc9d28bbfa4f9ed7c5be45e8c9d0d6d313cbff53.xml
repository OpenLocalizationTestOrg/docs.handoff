{"content":"---\ntitle: \"How to: Implement a Client of the Event-based Asynchronous Pattern | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"Event-based Asynchronous Pattern\"\n  - \"ProgressChangedEventArgs class\"\n  - \"BackgroundWorker component\"\n  - \"events [.NET Framework], asynchronous\"\n  - \"Asynchronous Pattern\"\n  - \"AsyncOperationManager class\"\n  - \"threading [.NET Framework], asynchronous features\"\n  - \"components [.NET Framework], asynchronous\"\n  - \"AsyncOperation class\"\n  - \"threading [Windows Forms], asynchronous features\"\n  - \"AsyncCompletedEventArgs class\"\nms.assetid: 21a858c1-3c99-4904-86ee-0d17b49804fa\ncaps.latest.revision: 11\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# How to: Implement a Client of the Event-based Asynchronous Pattern\nThe following code example demonstrates how to use a component that adheres to the [Event-based Asynchronous Pattern Overview](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md). The form for this example uses the `PrimeNumberCalculator` component described in [How to: Implement a Component That Supports the Event-based Asynchronous Pattern](../../../docs/standard/asynchronous-programming-patterns/component-that-supports-the-event-based-asynchronous-pattern.md).  \n  \n When you run a project that uses this example, you will see a \"Prime Number Calculator\" form with a grid and two buttons: **Start New Task** and **Cancel**. You can click the **Start New Task** button several times in succession, and for each click, an asynchronous operation will begin a computation to determine if a randomly generated test number is prime. The form will periodically display progress and incremental results. Each operation is assigned a unique task ID. The result of the computation is displayed in the **Result** column; if the test number is not prime, it is labeled as **Composite,** and its first divisor is displayed.  \n  \n Any pending operation can be canceled with the **Cancel** button. Multiple selections can be made.  \n  \n> [!NOTE]\n>  Most numbers will not be prime. If you have not found a prime number after several completed operations, simply start more tasks, and eventually you will find some prime numbers.  \n  \n## Example  \n [!code-csharp[System.ComponentModel.AsyncOperationManager#10](../../../samples/snippets/csharp/VS_Snippets_Winforms/System.ComponentModel.AsyncOperationManager/CS/primenumbercalculatormain.cs#10)]\n [!code-vb[System.ComponentModel.AsyncOperationManager#10](../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.ComponentModel.AsyncOperationManager/VB/primenumbercalculatormain.vb#10)]  \n  \n## See Also  \n <xref:System.ComponentModel.AsyncOperation>   \n <xref:System.ComponentModel.AsyncOperationManager>   \n <xref:System.Windows.Forms.WindowsFormsSynchronizationContext>","nodes":[{"pos":[12,95],"content":"How to: Implement a Client of the Event-based Asynchronous Pattern | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Implement a Client of the Event-based Asynchronous Pattern | Microsoft Docs","pos":[0,83]}]},{"pos":[849,915],"content":"How to: Implement a Client of the Event-based Asynchronous Pattern","linkify":"How to: Implement a Client of the Event-based Asynchronous Pattern","nodes":[{"content":"How to: Implement a Client of the Event-based Asynchronous Pattern","pos":[0,66]}]},{"content":"The following code example demonstrates how to use a component that adheres to the <bpt id=\"p1\">[</bpt>Event-based Asynchronous Pattern Overview<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md)</ept>.","pos":[916,1146],"source":"The following code example demonstrates how to use a component that adheres to the [Event-based Asynchronous Pattern Overview](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-overview.md)."},{"content":"The form for this example uses the <ph id=\"ph1\">`PrimeNumberCalculator`</ph> component described in <bpt id=\"p1\">[</bpt>How to: Implement a Component That Supports the Event-based Asynchronous Pattern<ept id=\"p1\">](../../../docs/standard/asynchronous-programming-patterns/component-that-supports-the-event-based-asynchronous-pattern.md)</ept>.","pos":[1147,1434],"source":" The form for this example uses the `PrimeNumberCalculator` component described in [How to: Implement a Component That Supports the Event-based Asynchronous Pattern](../../../docs/standard/asynchronous-programming-patterns/component-that-supports-the-event-based-asynchronous-pattern.md)."},{"content":"When you run a project that uses this example, you will see a \"Prime Number Calculator\" form with a grid and two buttons: <bpt id=\"p1\">**</bpt>Start New Task<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Cancel<ept id=\"p2\">**</ept>.","pos":[1441,1597],"source":"When you run a project that uses this example, you will see a \"Prime Number Calculator\" form with a grid and two buttons: **Start New Task** and **Cancel**."},{"content":"You can click the <bpt id=\"p1\">**</bpt>Start New Task<ept id=\"p1\">**</ept> button several times in succession, and for each click, an asynchronous operation will begin a computation to determine if a randomly generated test number is prime.","pos":[1598,1800],"source":" You can click the **Start New Task** button several times in succession, and for each click, an asynchronous operation will begin a computation to determine if a randomly generated test number is prime."},{"content":"The form will periodically display progress and incremental results.","pos":[1801,1869]},{"content":"Each operation is assigned a unique task ID.","pos":[1870,1914]},{"content":"The result of the computation is displayed in the <bpt id=\"p1\">**</bpt>Result<ept id=\"p1\">**</ept> column; if the test number is not prime, it is labeled as <bpt id=\"p2\">**</bpt>Composite,<ept id=\"p2\">**</ept> and its first divisor is displayed.","pos":[1915,2084],"source":" The result of the computation is displayed in the **Result** column; if the test number is not prime, it is labeled as **Composite,** and its first divisor is displayed."},{"content":"Any pending operation can be canceled with the <bpt id=\"p1\">**</bpt>Cancel<ept id=\"p1\">**</ept> button.","pos":[2091,2156],"source":"Any pending operation can be canceled with the **Cancel** button."},{"content":"Multiple selections can be made.","pos":[2157,2189]},{"pos":[2197,2386],"content":"[!NOTE]\n Most numbers will not be prime. If you have not found a prime number after several completed operations, simply start more tasks, and eventually you will find some prime numbers.","leadings":["","> "],"nodes":[{"content":" Most numbers will not be prime. If you have not found a prime number after several completed operations, simply start more tasks, and eventually you will find some prime numbers.","pos":[8,187],"nodes":[{"content":"Most numbers will not be prime.","pos":[1,32]},{"content":"If you have not found a prime number after several completed operations, simply start more tasks, and eventually you will find some prime numbers.","pos":[33,179]}]}]},{"pos":[2395,2402],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2406,2801],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.ComponentModel.AsyncOperationManager#10<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_Winforms/System.ComponentModel.AsyncOperationManager/CS/primenumbercalculatormain.cs#10)</ept><ept id=\"p1\">]</ept> <bpt id=\"p3\">[!code-vb</bpt><bpt id=\"p4\">[</bpt>System.ComponentModel.AsyncOperationManager#10<ept id=\"p4\">](../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.ComponentModel.AsyncOperationManager/VB/primenumbercalculatormain.vb#10)</ept><ept id=\"p3\">]</ept>","source":"[!code-csharp[System.ComponentModel.AsyncOperationManager#10](../../../samples/snippets/csharp/VS_Snippets_Winforms/System.ComponentModel.AsyncOperationManager/CS/primenumbercalculatormain.cs#10)]\n [!code-vb[System.ComponentModel.AsyncOperationManager#10](../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.ComponentModel.AsyncOperationManager/VB/primenumbercalculatormain.vb#10)]"},{"pos":[2810,2818],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}