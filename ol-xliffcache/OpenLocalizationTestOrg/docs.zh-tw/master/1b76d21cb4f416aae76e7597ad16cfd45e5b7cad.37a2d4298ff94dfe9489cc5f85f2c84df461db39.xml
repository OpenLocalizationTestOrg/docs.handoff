{"content":"---\ntitle: \"How to: Create a Basic WCF Web HTTP Service\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 877662d3-d372-4e08-b417-51f66a0095cd\n---\n# How to: Create a Basic WCF Web HTTP Service\n\nWindows Communication Foundation (WCF) allows you to create a service that exposes a Web endpoint. Web endpoints send data by XML or JSON, there is no SOAP envelope. This topic demonstrates how to expose such an endpoint.\n\n> [!NOTE]\n> The only way to secure a Web endpoint is to expose it through HTTPS, using transport security. When using message-based security, security information is usually placed in SOAP headers and because the messages sent to non-SOAP endpoints contain no SOAP envelope, there is nowhere to place the security information and you must rely on transport security.\n\n## To create a Web endpoint\n\n1. Define a service contract using an interface marked with the <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.Web.WebInvokeAttribute> and the <xref:System.ServiceModel.Web.WebGetAttribute> attributes.\n\n     [!code-csharp[htBasicService#0](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#0)]\n     [!code-vb[htBasicService#0](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#0)]\n\n    > [!NOTE]\n    > By default, <xref:System.ServiceModel.Web.WebInvokeAttribute> maps POST calls to the operation. You can, however, specify the HTTP method (for example, HEAD, PUT, or DELETE) to map to the operation by specifying a \"method=\" parameter. <xref:System.ServiceModel.Web.WebGetAttribute> does not have a \"method=\" parameter and only maps GET calls to the service operation.\n\n2. Implement the service contract.\n\n     [!code-csharp[htBasicService#1](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#1)]\n     [!code-vb[htBasicService#1](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#1)]\n\n## To host the service\n\n1. Create a <xref:System.ServiceModel.Web.WebServiceHost> object.\n\n     [!code-csharp[htBasicService#2](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#2)]\n     [!code-vb[htBasicService#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#2)]\n\n2. Add a <xref:System.ServiceModel.Description.ServiceEndpoint> with the <xref:System.ServiceModel.Description.WebHttpBehavior>.\n\n     [!code-csharp[htBasicService#3](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#3)]\n     [!code-vb[htBasicService#3](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#3)]\n\n    > [!NOTE]\n    > If you do not add an endpoint, <xref:System.ServiceModel.Web.WebServiceHost> automatically creates a default endpoint. <xref:System.ServiceModel.Web.WebServiceHost> also adds <xref:System.ServiceModel.Description.WebHttpBehavior> and disables the HTTP Help page and the Web Services Description Language (WSDL) GET functionality so the metadata endpoint does not interfere with the default HTTP endpoint.\n    >\n    >  Adding a non-SOAP endpoint with a URL of \"\" causes unexpected behavior when an attempt is made to call an operation on the endpoint. The reason for this is the listen URI of the endpoint is the same as the URI for the help page (the page that is displayed when you browse to the base address of a WCF service).\n\n     You can do one of the following actions to prevent this from happening:\n\n    - Always specify a non-blank URI for a non-SOAP endpoint.\n\n    - Turn off the help page. This can be done with the following code:\n\n     [!code-csharp[htBasicService#4](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/snippets.cs#4)]\n     [!code-vb[htBasicService#4](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/snippets.vb#4)]\n\n3. Open the service host and wait until the user presses ENTER.\n\n     [!code-csharp[htBasicService#5](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/snippets.cs#5)]\n     [!code-vb[htBasicService#5](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/snippets.vb#5)]\n\n     This sample demonstrates how to host a Web-Style service with a console application. You can also host such a service within IIS. To do this, specify the <xref:System.ServiceModel.Activation.WebServiceHostFactory> class in a .svc file as the following code demonstrates.\n\n    ```\n    <%ServiceHost\n        language=c#\n        Debug=\"true\"\n        Service=\"Microsoft.Samples.Service\"\n        Factory=System.ServiceModel.Activation.WebServiceHostFactory%>\n    ```\n\n## To call service operations mapped to GET in Internet Explorer\n\n1. Open Internet Explorer and type \"`http://localhost:8000/EchoWithGet?s=Hello, world!`\" and press ENTER. The URL contains the base address of the service (`http://localhost:8000/`), the relative address of the endpoint (\"\"), the service operation to call (\"EchoWithGet\"), and a question mark followed by a list of named parameters separated by an ampersand (&).\n\n## To call service operations in code\n\n1. Create an instance of <xref:System.ServiceModel.ChannelFactory%601> within a `using` block.\n\n     [!code-csharp[htBasicService#6](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#6)]\n     [!code-vb[htBasicService#6](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#6)]\n\n2. Add <xref:System.ServiceModel.Description.WebHttpBehavior> to the endpoint the <xref:System.ServiceModel.ChannelFactory%601> calls.\n\n     [!code-csharp[htBasicService#7](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#7)]\n     [!code-vb[htBasicService#7](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#7)]\n\n3. Create the channel and call the service.\n\n     [!code-csharp[htBasicService#8](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#8)]\n     [!code-vb[htBasicService#8](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#8)]\n\n4. Close the <xref:System.ServiceModel.Web.WebServiceHost>.\n\n     [!code-csharp[htBasicService#9](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#9)]\n     [!code-vb[htBasicService#9](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#9)]\n\n## Example\n\nThe following is the full code listing for this example.\n\n[!code-csharp[htBasicService#10](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#10)]\n[!code-vb[htBasicService#10](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#10)]\n\n## Compiling the code\n\nWhen compiling Service.cs reference System.ServiceModel.dll and System.ServiceModel.Web.dll.\n\n## See also\n\n- <xref:System.ServiceModel.WebHttpBinding>\n- <xref:System.ServiceModel.Web.WebGetAttribute>\n- <xref:System.ServiceModel.Web.WebInvokeAttribute>\n- <xref:System.ServiceModel.Web.WebServiceHost>\n- <xref:System.ServiceModel.Description.WebHttpBehavior>\n- [WCF Web HTTP Programming Model](wcf-web-http-programming-model.md)","nodes":[{"pos":[4,161],"embed":true,"restype":"x-metadata","content":"title: \"How to: Create a Basic WCF Web HTTP Service\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 877662d3-d372-4e08-b417-51f66a0095cd","nodes":[{"content":"How to: Create a Basic WCF Web HTTP Service","nodes":[{"pos":[0,43],"content":"How to: Create a Basic WCF Web HTTP Service","nodes":[{"content":"How to: Create a Basic WCF Web HTTP Service","pos":[0,43]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[168,211],"content":"How to: Create a Basic WCF Web HTTP Service","linkify":"How to: Create a Basic WCF Web HTTP Service","nodes":[{"content":"How to: Create a Basic WCF Web HTTP Service","pos":[0,43]}]},{"content":"Windows Communication Foundation (WCF) allows you to create a service that exposes a Web endpoint.","pos":[213,311]},{"content":"Web endpoints send data by XML or JSON, there is no SOAP envelope.","pos":[312,378]},{"content":"This topic demonstrates how to expose such an endpoint.","pos":[379,434]},{"pos":[438,802],"content":"[!NOTE]\nThe only way to secure a Web endpoint is to expose it through HTTPS, using transport security. When using message-based security, security information is usually placed in SOAP headers and because the messages sent to non-SOAP endpoints contain no SOAP envelope, there is nowhere to place the security information and you must rely on transport security.","leadings":["","> "],"nodes":[{"content":"The only way to secure a Web endpoint is to expose it through HTTPS, using transport security. When using message-based security, security information is usually placed in SOAP headers and because the messages sent to non-SOAP endpoints contain no SOAP envelope, there is nowhere to place the security information and you must rely on transport security.","pos":[8,362],"nodes":[{"content":"The only way to secure a Web endpoint is to expose it through HTTPS, using transport security.","pos":[0,94]},{"content":"When using message-based security, security information is usually placed in SOAP headers and because the messages sent to non-SOAP endpoints contain no SOAP envelope, there is nowhere to place the security information and you must rely on transport security.","pos":[95,354]}]}]},{"pos":[807,831],"content":"To create a Web endpoint","linkify":"To create a Web endpoint","nodes":[{"content":"To create a Web endpoint","pos":[0,24]}]},{"pos":[836,1066],"content":"Define a service contract using an interface marked with the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceContractAttribute&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph> and the <ph id=\"ph3\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> attributes.","source":"Define a service contract using an interface marked with the <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.Web.WebInvokeAttribute> and the <xref:System.ServiceModel.Web.WebGetAttribute> attributes."},{"pos":[1073,1292],"content":"[!code-csharp[htBasicService#0](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#0)]\n  [!code-vb[htBasicService#0](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#0)]","leadings":["","   "],"nodes":[]},{"pos":[1300,1681],"content":"[!NOTE]\nBy default, <xref:System.ServiceModel.Web.WebInvokeAttribute> maps POST calls to the operation. You can, however, specify the HTTP method (for example, HEAD, PUT, or DELETE) to map to the operation by specifying a \"method=\" parameter. <xref:System.ServiceModel.Web.WebGetAttribute> does not have a \"method=\" parameter and only maps GET calls to the service operation.","leadings":["","    > "],"nodes":[{"content":"By default, <xref:System.ServiceModel.Web.WebInvokeAttribute> maps POST calls to the operation. You can, however, specify the HTTP method (for example, HEAD, PUT, or DELETE) to map to the operation by specifying a \"method=\" parameter. <xref:System.ServiceModel.Web.WebGetAttribute> does not have a \"method=\" parameter and only maps GET calls to the service operation.","pos":[8,375],"nodes":[{"content":"By default, <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph> maps POST calls to the operation.","pos":[0,95],"source":"By default, <xref:System.ServiceModel.Web.WebInvokeAttribute> maps POST calls to the operation."},{"content":"You can, however, specify the HTTP method (for example, HEAD, PUT, or DELETE) to map to the operation by specifying a \"method=\" parameter.","pos":[96,234]},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> does not have a \"method=\" parameter and only maps GET calls to the service operation.","pos":[235,367],"source":"<xref:System.ServiceModel.Web.WebGetAttribute> does not have a \"method=\" parameter and only maps GET calls to the service operation."}]}]},{"content":"Implement the service contract.","pos":[1686,1717]},{"pos":[1724,1943],"content":"[!code-csharp[htBasicService#1](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#1)]\n  [!code-vb[htBasicService#1](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#1)]","leadings":["","   "],"nodes":[]},{"pos":[1948,1967],"content":"To host the service","linkify":"To host the service","nodes":[{"content":"To host the service","pos":[0,19]}]},{"pos":[1972,2034],"content":"Create a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebServiceHost&gt;</ph> object.","source":"Create a <xref:System.ServiceModel.Web.WebServiceHost> object."},{"pos":[2041,2260],"content":"[!code-csharp[htBasicService#2](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#2)]\n  [!code-vb[htBasicService#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#2)]","leadings":["","   "],"nodes":[]},{"pos":[2265,2390],"content":"Add a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.ServiceEndpoint&gt;</ph> with the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior&gt;</ph>.","source":"Add a <xref:System.ServiceModel.Description.ServiceEndpoint> with the <xref:System.ServiceModel.Description.WebHttpBehavior>."},{"pos":[2397,2616],"content":"[!code-csharp[htBasicService#3](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#3)]\n  [!code-vb[htBasicService#3](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#3)]","leadings":["","   "],"nodes":[]},{"pos":[2624,3042],"content":"[!NOTE]\nIf you do not add an endpoint, <xref:System.ServiceModel.Web.WebServiceHost> automatically creates a default endpoint. <xref:System.ServiceModel.Web.WebServiceHost> also adds <xref:System.ServiceModel.Description.WebHttpBehavior> and disables the HTTP Help page and the Web Services Description Language (WSDL) GET functionality so the metadata endpoint does not interfere with the default HTTP endpoint.","leadings":["","    > "],"nodes":[{"content":"If you do not add an endpoint, <xref:System.ServiceModel.Web.WebServiceHost> automatically creates a default endpoint. <xref:System.ServiceModel.Web.WebServiceHost> also adds <xref:System.ServiceModel.Description.WebHttpBehavior> and disables the HTTP Help page and the Web Services Description Language (WSDL) GET functionality so the metadata endpoint does not interfere with the default HTTP endpoint.","pos":[8,412],"nodes":[{"content":"If you do not add an endpoint, <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebServiceHost&gt;</ph> automatically creates a default endpoint.","pos":[0,118],"source":"If you do not add an endpoint, <xref:System.ServiceModel.Web.WebServiceHost> automatically creates a default endpoint."},{"content":"<ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebServiceHost&gt;</ph> also adds <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior&gt;</ph> and disables the HTTP Help page and the Web Services Description Language (WSDL) GET functionality so the metadata endpoint does not interfere with the default HTTP endpoint.","pos":[119,404],"source":"<xref:System.ServiceModel.Web.WebServiceHost> also adds <xref:System.ServiceModel.Description.WebHttpBehavior> and disables the HTTP Help page and the Web Services Description Language (WSDL) GET functionality so the metadata endpoint does not interfere with the default HTTP endpoint."}]}]},{"content":"Adding a non-SOAP endpoint with a URL of \"\" causes unexpected behavior when an attempt is made to call an operation on the endpoint.","pos":[3056,3188]},{"content":"The reason for this is the listen URI of the endpoint is the same as the URI for the help page (the page that is displayed when you browse to the base address of a WCF service).","pos":[3189,3366]},{"content":"You can do one of the following actions to prevent this from happening:","pos":[3373,3444]},{"content":"Always specify a non-blank URI for a non-SOAP endpoint.","pos":[3452,3507]},{"content":"Turn off the help page.","pos":[3515,3538]},{"content":"This can be done with the following code:","pos":[3539,3580]},{"pos":[3587,3808],"content":"[!code-csharp[htBasicService#4](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/snippets.cs#4)]\n[!code-vb[htBasicService#4](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/snippets.vb#4)]","leadings":["","     "],"nodes":[]},{"content":"Open the service host and wait until the user presses ENTER.","pos":[3813,3873]},{"pos":[3880,4101],"content":"[!code-csharp[htBasicService#5](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/snippets.cs#5)]\n  [!code-vb[htBasicService#5](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/snippets.vb#5)]","leadings":["","   "],"nodes":[]},{"content":"This sample demonstrates how to host a Web-Style service with a console application.","pos":[4108,4192]},{"content":"You can also host such a service within IIS.","pos":[4193,4237]},{"content":"To do this, specify the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activation.WebServiceHostFactory&gt;</ph> class in a .svc file as the following code demonstrates.","pos":[4238,4378],"source":" To do this, specify the <xref:System.ServiceModel.Activation.WebServiceHostFactory> class in a .svc file as the following code demonstrates."},{"pos":[4574,4635],"content":"To call service operations mapped to GET in Internet Explorer","linkify":"To call service operations mapped to GET in Internet Explorer","nodes":[{"content":"To call service operations mapped to GET in Internet Explorer","pos":[0,61]}]},{"content":"Open Internet Explorer and type \"<ph id=\"ph1\">`http://localhost:8000/EchoWithGet?s=Hello, world!`</ph>\" and press ENTER.","pos":[4640,4742],"source":"Open Internet Explorer and type \"`http://localhost:8000/EchoWithGet?s=Hello, world!`\" and press ENTER."},{"content":"The URL contains the base address of the service (<ph id=\"ph1\">`http://localhost:8000/`</ph>), the relative address of the endpoint (\"\"), the service operation to call (\"EchoWithGet\"), and a question mark followed by a list of named parameters separated by an ampersand (&amp;).","pos":[4743,4999],"source":" The URL contains the base address of the service (`http://localhost:8000/`), the relative address of the endpoint (\"\"), the service operation to call (\"EchoWithGet\"), and a question mark followed by a list of named parameters separated by an ampersand (&)."},{"pos":[5004,5038],"content":"To call service operations in code","linkify":"To call service operations in code","nodes":[{"content":"To call service operations in code","pos":[0,34]}]},{"pos":[5043,5134],"content":"Create an instance of <ph id=\"ph1\">&lt;xref:System.ServiceModel.ChannelFactory%601&gt;</ph> within a <ph id=\"ph2\">`using`</ph> block.","source":"Create an instance of <xref:System.ServiceModel.ChannelFactory%601> within a `using` block."},{"pos":[5141,5360],"content":"[!code-csharp[htBasicService#6](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#6)]\n  [!code-vb[htBasicService#6](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#6)]","leadings":["","   "],"nodes":[]},{"pos":[5365,5496],"content":"Add <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior&gt;</ph> to the endpoint the <ph id=\"ph2\">&lt;xref:System.ServiceModel.ChannelFactory%601&gt;</ph> calls.","source":"Add <xref:System.ServiceModel.Description.WebHttpBehavior> to the endpoint the <xref:System.ServiceModel.ChannelFactory%601> calls."},{"pos":[5503,5722],"content":"[!code-csharp[htBasicService#7](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#7)]\n  [!code-vb[htBasicService#7](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#7)]","leadings":["","   "],"nodes":[]},{"content":"Create the channel and call the service.","pos":[5727,5767]},{"pos":[5774,5993],"content":"[!code-csharp[htBasicService#8](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#8)]\n  [!code-vb[htBasicService#8](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#8)]","leadings":["","   "],"nodes":[]},{"pos":[5998,6054],"content":"Close the <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebServiceHost&gt;</ph>.","source":"Close the <xref:System.ServiceModel.Web.WebServiceHost>."},{"pos":[6061,6280],"content":"[!code-csharp[htBasicService#9](~/samples/snippets/csharp/VS_Snippets_CFX/htbasicservice/cs/service.cs#9)]\n  [!code-vb[htBasicService#9](~/samples/snippets/visualbasic/VS_Snippets_CFX/htbasicservice/vb/service.vb#9)]","leadings":["","   "],"nodes":[]},{"pos":[6285,6292],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following is the full code listing for this example.","pos":[6294,6350]},{"pos":[6575,6593],"content":"Compiling the code","linkify":"Compiling the code","nodes":[{"content":"Compiling the code","pos":[0,18]}]},{"content":"When compiling Service.cs reference System.ServiceModel.dll and System.ServiceModel.Web.dll.","pos":[6595,6687]},{"pos":[6692,6700],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6954,7021],"content":"<bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model<ept id=\"p1\">](wcf-web-http-programming-model.md)</ept>","source":"[WCF Web HTTP Programming Model](wcf-web-http-programming-model.md)"}]}