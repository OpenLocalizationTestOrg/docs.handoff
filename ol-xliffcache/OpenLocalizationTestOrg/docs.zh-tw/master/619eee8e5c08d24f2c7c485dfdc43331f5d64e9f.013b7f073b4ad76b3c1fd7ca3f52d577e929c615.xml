{"content":"---\ntitle: \"How to: Use a Color Remap Table\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"color tables [Windows Forms], remapping colors with\"\n  - \"custom colors [Windows Forms], creating with color remap table\"\n  - \"color remap tables [Windows Forms], using\"\nms.assetid: 977df1ce-8665-42d4-9fb1-ef7f0ff63419\n---\n# How to: Use a Color Remap Table\nRemapping is the process of converting the colors in an image according to a color remap table. The color remap table is an array of <xref:System.Drawing.Imaging.ColorMap> objects. Each <xref:System.Drawing.Imaging.ColorMap> object in the array has an <xref:System.Drawing.Imaging.ColorMap.OldColor%2A> property and a <xref:System.Drawing.Imaging.ColorMap.NewColor%2A> property.  \n  \n When [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] draws an image, each pixel of the image is compared to the array of old colors. If a pixel's color matches an old color, its color is changed to the corresponding new color. The colors are changed only for rendering — the color values of the image itself (stored in an <xref:System.Drawing.Image> or <xref:System.Drawing.Bitmap> object) are not changed.  \n  \n To draw a remapped image, initialize an array of <xref:System.Drawing.Imaging.ColorMap> objects. Pass that array to the <xref:System.Drawing.Imaging.ImageAttributes.SetRemapTable%2A> method of an <xref:System.Drawing.Imaging.ImageAttributes> object, and then pass the <xref:System.Drawing.Imaging.ImageAttributes> object to the <xref:System.Drawing.Graphics.DrawImage%2A> method of a <xref:System.Drawing.Graphics> object.  \n  \n## Example  \n The following example creates an <xref:System.Drawing.Image> object from the file RemapInput.bmp. The code creates a color remap table that consists of a single <xref:System.Drawing.Imaging.ColorMap> object. The <xref:System.Drawing.Imaging.ColorMap.OldColor%2A> property of the `ColorRemap` object is red, and the <xref:System.Drawing.Imaging.ColorMap.NewColor%2A> property is blue. The image is drawn once without remapping and once with remapping. The remapping process changes all the red pixels to blue.  \n  \n The following illustration shows the original image on the left and the remapped image on the right.  \n  \n ![Screenshot showing the original image and the remapped image.](./media/how-to-use-a-color-remap-table/original-image-remap-colors.png)  \n  \n [!code-csharp[System.Drawing.RecoloringImages#31](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.RecoloringImages/CS/Class1.cs#31)]\n [!code-vb[System.Drawing.RecoloringImages#31](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.RecoloringImages/VB/Class1.vb#31)]  \n  \n## Compiling the Code  \n The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs>`e`, which is a parameter of the <xref:System.Windows.Forms.Control.Paint> event handler.  \n  \n## See also\n\n- [Recoloring Images](recoloring-images.md)\n- [Images, Bitmaps, and Metafiles](images-bitmaps-and-metafiles.md)\n","nodes":[{"pos":[4,346],"embed":true,"restype":"x-metadata","content":"title: \"How to: Use a Color Remap Table\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"color tables [Windows Forms], remapping colors with\"\n  - \"custom colors [Windows Forms], creating with color remap table\"\n  - \"color remap tables [Windows Forms], using\"\nms.assetid: 977df1ce-8665-42d4-9fb1-ef7f0ff63419","nodes":[{"content":"How to: Use a Color Remap Table","nodes":[{"pos":[0,31],"content":"How to: Use a Color Remap Table","nodes":[{"content":"How to: Use a Color Remap Table","pos":[0,31]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[353,384],"content":"How to: Use a Color Remap Table","linkify":"How to: Use a Color Remap Table","nodes":[{"content":"How to: Use a Color Remap Table","pos":[0,31]}]},{"content":"Remapping is the process of converting the colors in an image according to a color remap table.","pos":[385,480]},{"content":"The color remap table is an array of <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ColorMap&gt;</ph> objects.","pos":[481,565],"source":" The color remap table is an array of <xref:System.Drawing.Imaging.ColorMap> objects."},{"content":"Each <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ColorMap&gt;</ph> object in the array has an <ph id=\"ph2\">&lt;xref:System.Drawing.Imaging.ColorMap.OldColor%2A&gt;</ph> property and a <ph id=\"ph3\">&lt;xref:System.Drawing.Imaging.ColorMap.NewColor%2A&gt;</ph> property.","pos":[566,763],"source":" Each <xref:System.Drawing.Imaging.ColorMap> object in the array has an <xref:System.Drawing.Imaging.ColorMap.OldColor%2A> property and a <xref:System.Drawing.Imaging.ColorMap.NewColor%2A> property."},{"content":"When <ph id=\"ph1\">[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)]</ph> draws an image, each pixel of the image is compared to the array of old colors.","pos":[770,922],"source":"When [!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] draws an image, each pixel of the image is compared to the array of old colors."},{"content":"If a pixel's color matches an old color, its color is changed to the corresponding new color.","pos":[923,1016]},{"content":"The colors are changed only for rendering — the color values of the image itself (stored in an <ph id=\"ph1\">&lt;xref:System.Drawing.Image&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Drawing.Bitmap&gt;</ph> object) are not changed.","pos":[1017,1196],"source":" The colors are changed only for rendering — the color values of the image itself (stored in an <xref:System.Drawing.Image> or <xref:System.Drawing.Bitmap> object) are not changed."},{"content":"To draw a remapped image, initialize an array of <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ColorMap&gt;</ph> objects.","pos":[1203,1299],"source":"To draw a remapped image, initialize an array of <xref:System.Drawing.Imaging.ColorMap> objects."},{"content":"Pass that array to the <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ImageAttributes.SetRemapTable%2A&gt;</ph> method of an <ph id=\"ph2\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> object, and then pass the <ph id=\"ph3\">&lt;xref:System.Drawing.Imaging.ImageAttributes&gt;</ph> object to the <ph id=\"ph4\">&lt;xref:System.Drawing.Graphics.DrawImage%2A&gt;</ph> method of a <ph id=\"ph5\">&lt;xref:System.Drawing.Graphics&gt;</ph> object.","pos":[1300,1625],"source":" Pass that array to the <xref:System.Drawing.Imaging.ImageAttributes.SetRemapTable%2A> method of an <xref:System.Drawing.Imaging.ImageAttributes> object, and then pass the <xref:System.Drawing.Imaging.ImageAttributes> object to the <xref:System.Drawing.Graphics.DrawImage%2A> method of a <xref:System.Drawing.Graphics> object."},{"pos":[1634,1641],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example creates an <ph id=\"ph1\">&lt;xref:System.Drawing.Image&gt;</ph> object from the file RemapInput.bmp.","pos":[1645,1742],"source":"The following example creates an <xref:System.Drawing.Image> object from the file RemapInput.bmp."},{"content":"The code creates a color remap table that consists of a single <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ColorMap&gt;</ph> object.","pos":[1743,1852],"source":" The code creates a color remap table that consists of a single <xref:System.Drawing.Imaging.ColorMap> object."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Drawing.Imaging.ColorMap.OldColor%2A&gt;</ph> property of the <ph id=\"ph2\">`ColorRemap`</ph> object is red, and the <ph id=\"ph3\">&lt;xref:System.Drawing.Imaging.ColorMap.NewColor%2A&gt;</ph> property is blue.","pos":[1853,2028],"source":" The <xref:System.Drawing.Imaging.ColorMap.OldColor%2A> property of the `ColorRemap` object is red, and the <xref:System.Drawing.Imaging.ColorMap.NewColor%2A> property is blue."},{"content":"The image is drawn once without remapping and once with remapping.","pos":[2029,2095]},{"content":"The remapping process changes all the red pixels to blue.","pos":[2096,2153]},{"content":"The following illustration shows the original image on the left and the remapped image on the right.","pos":[2160,2260]},{"content":"Screenshot showing the original image and the remapped image.","pos":[2269,2330]},{"pos":[2714,2732],"content":"Compiling the Code","linkify":"Compiling the Code","nodes":[{"content":"Compiling the Code","pos":[0,18]}]},{"pos":[2736,2945],"content":"The preceding example is designed for use with Windows Forms, and it requires <ph id=\"ph1\">&lt;xref:System.Windows.Forms.PaintEventArgs&gt;</ph><ph id=\"ph2\">`e`</ph>, which is a parameter of the <ph id=\"ph3\">&lt;xref:System.Windows.Forms.Control.Paint&gt;</ph> event handler.","source":"The preceding example is designed for use with Windows Forms, and it requires <xref:System.Windows.Forms.PaintEventArgs>`e`, which is a parameter of the <xref:System.Windows.Forms.Control.Paint> event handler."},{"pos":[2954,2962],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2966,3007],"content":"<bpt id=\"p1\">[</bpt>Recoloring Images<ept id=\"p1\">](recoloring-images.md)</ept>","source":"[Recoloring Images](recoloring-images.md)"},{"pos":[3010,3075],"content":"<bpt id=\"p1\">[</bpt>Images, Bitmaps, and Metafiles<ept id=\"p1\">](images-bitmaps-and-metafiles.md)</ept>","source":"[Images, Bitmaps, and Metafiles](images-bitmaps-and-metafiles.md)"}]}