{"content":"---\ntitle: Select the C# language version - C# Guide\ndescription: Configure the compiler to perform syntax validation using a specific compiler version\nms.date: 02/28/2019\n---\n\n# Select the C# language version\n\nThe C# compiler determines a default language version based on your project's target framework or frameworks. When your project targets a preview framework that has a corresponding preview language version, the language version used is the preview language version. When your project doesn't target a preview framework, the language version used is the latest minor version.\n\nFor example, during the preview period for .NET Core 3.0, any project that targets `netcoreapp3.0` or `netstandard2.1` (both in preview) will use the C# 8.0 language (also in preview). Projects targeting any released version will use C# 7.3 (the latest released version). This behavior means that any project targeting .NET Framework will use latest (C# 7.3). \n\nThis capability decouples the decision to install new versions of the SDK and tools in your development environment from the decision to incorporate new language features in a project. You can install the latest SDK and tools on your build machine. Each project can be configured to use a specific version of the language for its build. The default behavior means that any language features that rely on new types or new CLR behavior are enabled only when projects target those frameworks.\n\nYou can override the default behavior by specifying a language version. There are several ways to set the language version:\n\n- Rely on a [Visual Studio quick action](#visual-studio-quick-action).\n- Set the language version in the [Visual Studio UI](#set-the-language-version-in-visual-studio).\n- Manually edit your [**.csproj** file](#edit-the-csproj-file).\n- Set the language version [for multiple projects in a subdirectory](#configure-multiple-projects).\n- Configure the [`-langversion` compiler option](#set-the-langversion-compiler-option).\n\n## Visual Studio quick action\n\nVisual Studio helps you determine the language version you need. If you use a language feature that is not available for the currently configured version, Visual Studio shows a potential fix to update the language version for the project.\n\n## Set the language version in Visual Studio\n\nYou can set the version in Visual Studio. Right-click on the project node in Solution Explorer and select **Properties**. Select the **Build** tab and select the **Advanced** button. In the dropdown, select the version. The following image shows the \"latest\" setting:\n\n![Screenshot of advanced build settings where you can specify the language version](./media/configure-language-version/advanced-build-settings.png)\n\n> [!NOTE]\n> If you use the Visual Studio IDE to update your csproj files, the IDE\n> creates separate nodes for each build configuration. You'll typically\n> set the value the same in all build configurations, but you need to\n> set it explicitly for each build configuration, or select \"All Configurations\"\n> when you modify this setting. You'll see the following in your csproj file:\n>\n>```xml\n> <PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Release|AnyCPU'\">\n>  <LangVersion>latest</LangVersion>\n></PropertyGroup>\n>\n> <PropertyGroup Condition=\"'$(Configuration)|$(Platform)'=='Debug|AnyCPU'\">\n>  <LangVersion>latest</LangVersion>\n> </PropertyGroup>\n> ```\n>\n\n## Edit the csproj file\n\nYou can set the language version in your **.csproj** file. Add an element like the following:\n\n```xml\n<PropertyGroup>\n   <LangVersion>latest</LangVersion>\n</PropertyGroup>\n```\n\nThe value `latest` uses the latest minor version of the C# language. Valid values are:\n\n|Value|Meaning|\n|------------|-------------|\n|preview|The compiler accepts all valid language syntax from the latest preview version.|\n|latest|The compiler accepts syntax from the latest released version of the compiler (including minor version).|\n|latestMajor|The compiler accepts syntax from the latest released major version of the compiler.|\n|8.0|The compiler accepts only syntax that is included in C# 8.0 or lower.|\n|7.3|The compiler accepts only syntax that is included in C# 7.3 or lower.|\n|7.2|The compiler accepts only syntax that is included in C# 7.2 or lower.|\n|7.1|The compiler accepts only syntax that is included in C# 7.1 or lower.|\n|7|The compiler accepts only syntax that is included in C# 7.0 or lower.|\n|6|The compiler accepts only syntax that is included in C# 6.0 or lower.|\n|5|The compiler accepts only syntax that is included in C# 5.0 or lower.|\n|4|The compiler accepts only syntax that is included in C# 4.0 or lower.|\n|3|The compiler accepts only syntax that is included in C# 3.0 or lower.|\n|ISO-2|The compiler accepts only syntax that is included in ISO/IEC 23270:2006 C# (2.0) |\n|ISO-1|The compiler accepts only syntax that is included in ISO/IEC 23270:2003 C# (1.0/1.2) |\n\n## Configure multiple projects\n\nYou can create a **Directory.build.props** file that contains the `<LangVersion>` element to configure multiple directories. You typically do that in your solution directory. Add the following to a **Directory.build.props** file in your solution directory:\n\n```xml\n<Project>\n <PropertyGroup>\n   <LangVersion>7.3</LangVersion>\n </PropertyGroup>\n</Project>\n```\n\nNow, builds in every subdirectory of the directory containing that file will use C# version 7.3 syntax. For more information, see the article on [Customize your build](/visualstudio/msbuild/customize-your-build).\n\n## Set the langversion compiler option\n\nYou can use the `-langversion` command-line option. For more information, see the article on the [-langversion](../language-reference/compiler-options/langversion-compiler-option.md) compiler option. You can see a list of the valid values by typing  `csc -langversion:?`.\n","nodes":[{"pos":[4,171],"embed":true,"restype":"x-metadata","content":"title: Select the C# language version - C# Guide\ndescription: Configure the compiler to perform syntax validation using a specific compiler version\nms.date: 02/28/2019","nodes":[{"content":"Select the C# language version - C# Guide","nodes":[{"pos":[0,41],"content":"Select the C# language version - C# Guide","nodes":[{"content":"Select the C# language version - C# Guide","pos":[0,41]}]}],"path":["title"],"nosxs":false},{"content":"Configure the compiler to perform syntax validation using a specific compiler version","nodes":[{"pos":[0,85],"content":"Configure the compiler to perform syntax validation using a specific compiler version","nodes":[{"content":"Configure the compiler to perform syntax validation using a specific compiler version","pos":[0,85]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[179,209],"content":"Select the C# language version","linkify":"Select the C# language version","nodes":[{"content":"Select the C# language version","pos":[0,30]}]},{"content":"The C# compiler determines a default language version based on your project's target framework or frameworks.","pos":[211,320]},{"content":"When your project targets a preview framework that has a corresponding preview language version, the language version used is the preview language version.","pos":[321,476]},{"content":"When your project doesn't target a preview framework, the language version used is the latest minor version.","pos":[477,585]},{"content":"For example, during the preview period for .NET Core 3.0, any project that targets <ph id=\"ph1\">`netcoreapp3.0`</ph> or <ph id=\"ph2\">`netstandard2.1`</ph> (both in preview) will use the C# 8.0 language (also in preview).","pos":[587,771],"source":"For example, during the preview period for .NET Core 3.0, any project that targets `netcoreapp3.0` or `netstandard2.1` (both in preview) will use the C# 8.0 language (also in preview)."},{"content":"Projects targeting any released version will use C# 7.3 (the latest released version).","pos":[772,858]},{"content":"This behavior means that any project targeting .NET Framework will use latest (C# 7.3).","pos":[859,946]},{"content":"This capability decouples the decision to install new versions of the SDK and tools in your development environment from the decision to incorporate new language features in a project.","pos":[949,1133]},{"content":"You can install the latest SDK and tools on your build machine.","pos":[1134,1197]},{"content":"Each project can be configured to use a specific version of the language for its build.","pos":[1198,1285]},{"content":"The default behavior means that any language features that rely on new types or new CLR behavior are enabled only when projects target those frameworks.","pos":[1286,1438]},{"content":"You can override the default behavior by specifying a language version.","pos":[1440,1511]},{"content":"There are several ways to set the language version:","pos":[1512,1563]},{"pos":[1567,1635],"content":"Rely on a <bpt id=\"p1\">[</bpt>Visual Studio quick action<ept id=\"p1\">](#visual-studio-quick-action)</ept>.","source":"Rely on a [Visual Studio quick action](#visual-studio-quick-action)."},{"pos":[1638,1733],"content":"Set the language version in the <bpt id=\"p1\">[</bpt>Visual Studio UI<ept id=\"p1\">](#set-the-language-version-in-visual-studio)</ept>.","source":"Set the language version in the [Visual Studio UI](#set-the-language-version-in-visual-studio)."},{"pos":[1736,1797],"content":"Manually edit your <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>.csproj<ept id=\"p2\">**</ept> file<ept id=\"p1\">](#edit-the-csproj-file)</ept>.","source":"Manually edit your [**.csproj** file](#edit-the-csproj-file)."},{"pos":[1800,1897],"content":"Set the language version <bpt id=\"p1\">[</bpt>for multiple projects in a subdirectory<ept id=\"p1\">](#configure-multiple-projects)</ept>.","source":"Set the language version [for multiple projects in a subdirectory](#configure-multiple-projects)."},{"pos":[1900,1985],"content":"Configure the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">`-langversion`</ph> compiler option<ept id=\"p1\">](#set-the-langversion-compiler-option)</ept>.","source":"Configure the [`-langversion` compiler option](#set-the-langversion-compiler-option)."},{"pos":[1990,2016],"content":"Visual Studio quick action","linkify":"Visual Studio quick action","nodes":[{"content":"Visual Studio quick action","pos":[0,26]}]},{"content":"Visual Studio helps you determine the language version you need.","pos":[2018,2082]},{"content":"If you use a language feature that is not available for the currently configured version, Visual Studio shows a potential fix to update the language version for the project.","pos":[2083,2256]},{"pos":[2261,2302],"content":"Set the language version in Visual Studio","linkify":"Set the language version in Visual Studio","nodes":[{"content":"Set the language version in Visual Studio","pos":[0,41]}]},{"content":"You can set the version in Visual Studio.","pos":[2304,2345]},{"content":"Right-click on the project node in Solution Explorer and select <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[2346,2425],"source":" Right-click on the project node in Solution Explorer and select **Properties**."},{"content":"Select the <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept> tab and select the <bpt id=\"p2\">**</bpt>Advanced<ept id=\"p2\">**</ept> button.","pos":[2426,2486],"source":" Select the **Build** tab and select the **Advanced** button."},{"content":"In the dropdown, select the version.","pos":[2487,2523]},{"content":"The following image shows the \"latest\" setting:","pos":[2524,2571]},{"content":"Screenshot of advanced build settings where you can specify the language version","pos":[2575,2655]},{"pos":[2724,3104],"content":"[!NOTE]\nIf you use the Visual Studio IDE to update your csproj files, the IDE\ncreates separate nodes for each build configuration. You'll typically\nset the value the same in all build configurations, but you need to\nset it explicitly for each build configuration, or select \"All Configurations\"\nwhen you modify this setting. You'll see the following in your csproj file:","leadings":["","> ","> ","> ","> ","> "],"nodes":[{"content":"If you use the Visual Studio IDE to update your csproj files, the IDE\ncreates separate nodes for each build configuration. You'll typically\nset the value the same in all build configurations, but you need to\nset it explicitly for each build configuration, or select \"All Configurations\"\nwhen you modify this setting. You'll see the following in your csproj file:","pos":[8,370],"nodes":[{"content":"If you use the Visual Studio IDE to update your csproj files, the IDE creates separate nodes for each build configuration.","pos":[0,122],"source":"If you use the Visual Studio IDE to update your csproj files, the IDE\ncreates separate nodes for each build configuration."},{"content":"You'll typically set the value the same in all build configurations, but you need to set it explicitly for each build configuration, or select \"All Configurations\" when you modify this setting.","pos":[123,316],"source":" You'll typically\nset the value the same in all build configurations, but you need to\nset it explicitly for each build configuration, or select \"All Configurations\"\nwhen you modify this setting."},{"content":"You'll see the following in your csproj file:","pos":[317,362]}]}]},{"pos":[3396,3416],"content":"Edit the csproj file","linkify":"Edit the csproj file","nodes":[{"content":"Edit the csproj file","pos":[0,20]}]},{"content":"You can set the language version in your <bpt id=\"p1\">**</bpt>.csproj<ept id=\"p1\">**</ept> file.","pos":[3418,3476],"source":"You can set the language version in your **.csproj** file."},{"content":"Add an element like the following:","pos":[3477,3511]},{"content":"The value <ph id=\"ph1\">`latest`</ph> uses the latest minor version of the C# language.","pos":[3595,3663],"source":"The value `latest` uses the latest minor version of the C# language."},{"content":"Valid values are:","pos":[3664,3681]},{"content":"Value","pos":[3684,3689]},{"content":"Meaning","pos":[3690,3697]},{"content":"preview","pos":[3729,3736]},{"content":"The compiler accepts all valid language syntax from the latest preview version.","pos":[3737,3816]},{"content":"latest","pos":[3819,3825]},{"content":"The compiler accepts syntax from the latest released version of the compiler (including minor version).","pos":[3826,3929]},{"content":"latestMajor","pos":[3932,3943]},{"content":"The compiler accepts syntax from the latest released major version of the compiler.","pos":[3944,4027]},{"content":"8.0","pos":[4030,4033]},{"content":"The compiler accepts only syntax that is included in C# 8.0 or lower.","pos":[4034,4103]},{"content":"7.3","pos":[4106,4109]},{"content":"The compiler accepts only syntax that is included in C# 7.3 or lower.","pos":[4110,4179]},{"content":"7.2","pos":[4182,4185]},{"content":"The compiler accepts only syntax that is included in C# 7.2 or lower.","pos":[4186,4255]},{"content":"7.1","pos":[4258,4261]},{"content":"The compiler accepts only syntax that is included in C# 7.1 or lower.","pos":[4262,4331]},{"content":"7","pos":[4334,4335]},{"content":"The compiler accepts only syntax that is included in C# 7.0 or lower.","pos":[4336,4405]},{"content":"6","pos":[4408,4409]},{"content":"The compiler accepts only syntax that is included in C# 6.0 or lower.","pos":[4410,4479]},{"content":"5","pos":[4482,4483]},{"content":"The compiler accepts only syntax that is included in C# 5.0 or lower.","pos":[4484,4553]},{"content":"4","pos":[4556,4557]},{"content":"The compiler accepts only syntax that is included in C# 4.0 or lower.","pos":[4558,4627]},{"content":"3","pos":[4630,4631]},{"content":"The compiler accepts only syntax that is included in C# 3.0 or lower.","pos":[4632,4701]},{"content":"ISO-2","pos":[4704,4709]},{"content":"The compiler accepts only syntax that is included in ISO/IEC 23270:2006 C# (2.0)","pos":[4710,4790]},{"content":"ISO-1","pos":[4794,4799]},{"content":"The compiler accepts only syntax that is included in ISO/IEC 23270:2003 C# (1.0/1.2)","pos":[4800,4884]},{"pos":[4891,4918],"content":"Configure multiple projects","linkify":"Configure multiple projects","nodes":[{"content":"Configure multiple projects","pos":[0,27]}]},{"content":"You can create a <bpt id=\"p1\">**</bpt>Directory.build.props<ept id=\"p1\">**</ept> file that contains the <ph id=\"ph1\">`&lt;LangVersion&gt;`</ph> element to configure multiple directories.","pos":[4920,5044],"source":"You can create a **Directory.build.props** file that contains the `<LangVersion>` element to configure multiple directories."},{"content":"You typically do that in your solution directory.","pos":[5045,5094]},{"content":"Add the following to a <bpt id=\"p1\">**</bpt>Directory.build.props<ept id=\"p1\">**</ept> file in your solution directory:","pos":[5095,5176],"source":" Add the following to a **Directory.build.props** file in your solution directory:"},{"content":"Now, builds in every subdirectory of the directory containing that file will use C# version 7.3 syntax.","pos":[5280,5383]},{"content":"For more information, see the article on <bpt id=\"p1\">[</bpt>Customize your build<ept id=\"p1\">](/visualstudio/msbuild/customize-your-build)</ept>.","pos":[5384,5492],"source":" For more information, see the article on [Customize your build](/visualstudio/msbuild/customize-your-build)."},{"pos":[5497,5532],"content":"Set the langversion compiler option","linkify":"Set the langversion compiler option","nodes":[{"content":"Set the langversion compiler option","pos":[0,35]}]},{"content":"You can use the <ph id=\"ph1\">`-langversion`</ph> command-line option.","pos":[5534,5585],"source":"You can use the `-langversion` command-line option."},{"content":"For more information, see the article on the <bpt id=\"p1\">[</bpt>-langversion<ept id=\"p1\">](../language-reference/compiler-options/langversion-compiler-option.md)</ept> compiler option.","pos":[5586,5733],"source":" For more information, see the article on the [-langversion](../language-reference/compiler-options/langversion-compiler-option.md) compiler option."},{"content":"You can see a list of the valid values by typing  <ph id=\"ph1\">`csc -langversion:?`</ph>.","pos":[5734,5805],"source":" You can see a list of the valid values by typing  `csc -langversion:?`."}]}