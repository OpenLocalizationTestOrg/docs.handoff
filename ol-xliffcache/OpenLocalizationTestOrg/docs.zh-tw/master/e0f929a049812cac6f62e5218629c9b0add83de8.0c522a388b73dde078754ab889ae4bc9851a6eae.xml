{"content":"---\ntitle: global.json overview\ndescription: Learn how to use the global.json file to set the .NET Core SDK version when running .NET Core CLI commands.\nms.date: 12/03/2018\nms.custom: \"updateeachrelease, seodec18\"\n---\n# global.json overview\n\n[!INCLUDE [topic-appliesto-net-core-all](../../../includes/topic-appliesto-net-core-all.md)]\n\nThe *global.json* file allows you to define which .NET Core SDK version is used when you run .NET Core CLI commands. Selecting the .NET Core SDK is independent from specifying the runtime your project targets. The .NET Core SDK version indicates which versions of the .NET Core CLI tools are used. In general, you want to use the latest version of the tools, so no *global.json* file is needed.\n\nFor more information about specifying the runtime instead, see [Target frameworks](../../standard/frameworks.md).\n\n.NET Core SDK looks for a *global.json* file in the current working directory (which isn't necessarily the same as the project directory) or one of its parent directories.\n\n## global.json schema\n\n### sdk\n\nType: Object\n\nSpecifies information about the .NET Core SDK to select.\n\n#### version\n\nType: String\n\nThe version of the .NET Core SDK to use.\n\nNote that this field:\n\n- Doesn't have globbing support, that is, the full version number has to be specified.\n- Doesn't support version ranges.\n\nThe following example shows the contents of a *global.json* file:\n\n```json\n{\n  \"sdk\": {\n    \"version\": \"2.2.100\"\n  }\n}\n```\n\n## global.json and the .NET Core CLI\n\nIt's helpful to know which versions are available in order to set one in the *global.json* file. You can find the full list of supported available SDKs at the [.NET Downloads](https://www.microsoft.com/net/download/all) site. Starting with .NET Core 2.1 SDK, you can run the following command to verify which SDK versions are already installed on your machine:\n\n```console\ndotnet --list-sdks\n```\n\nTo install additional .NET Core SDK versions on your machine, visit the [.NET Downloads](https://www.microsoft.com/net/download/all) site.\n\nYou can create a new the *global.json* file in the current directory by executing the [dotnet new](dotnet-new.md) command, similar to the following example:\n\n```console\ndotnet new globaljson --sdk-version 2.2.100\n```\n\n## Matching rules\n\n> [!NOTE]\n> The matching rules are governed by the apphost, which is part of the .NET Core runtime.\n> The latest version of the host is used when you have multiple runtimes installed side-by-side.\n\nStarting with .NET Core 2.0, the following rules apply when determining which version of the SDK to use:\n\n- If no *global.json* file is found or *global.json* doesn't specify an SDK version, the latest installed SDK version is used. Latest SDK version can be either release or pre-release - the highest version number wins.\n- If *global.json* does specify an SDK version:\n  - If the specified SDK version is found on the machine, that exact version is used.\n  - If the specified SDK version can't be found on the machine, the latest installed SDK **patch version** of that version is used. Latest installed SDK **patch version** can be either release or pre-release - the highest version number wins. In .NET Core 2.1 and higher, the **patch versions** lower than the **patch version** specified are ignored in the SDK selection.\n  - If the specified SDK version and an appropriate SDK **patch version** can't be found, an error is thrown.\n\nThe SDK version is currently composed of the following parts:\n\n`[.NET Core major version].[.NET Core minor version].[xyz][-optional preview name]`\n\nThe **feature release** of the .NET Core SDK is represented by the first digit (`x`) in the last portion of the number (`xyz`) for SDK versions 2.1.100 and higher. In general, the .NET Core SDK has a faster release cycle than .NET Core.\n\nThe **patch version** is defined by the last two digits (`yz`) in the last portion of the number (`xyz`) for SDK versions 2.1.100 and higher. For example, if you specify `2.1.300` as the SDK version, SDK selection finds up to `2.1.399` but `2.1.400` isn't considered a patch version for `2.1.300`.\n\n.NET Core SDK versions `2.1.100` through `2.1.201` were released during the transition between version number schemes and don't correctly handle the `xyz` notation. We highly recommend if you specify these versions in the *global.json* file, that you ensure the specified versions are on the target machines.\n\nWith .NET Core SDK 1.x, if you specified a version and no exact match was found, the latest installed SDK version was used. Latest SDK version can be either release or pre-release - the highest version number wins.\n\n## Troubleshooting build warnings\n\n> [!WARNING]\n> You are working with a preview version of the .NET Core SDK. You can define the SDK version via a global.json file in the current project. More at <https://go.microsoft.com/fwlink/?linkid=869452>\n\nThis warning indicates that your project is being compiled using a preview version of the .NET Core SDK, as explained in the [Matching rules](#matching-rules) section. .NET Core SDK versions have a history and commitment of being high quality. However, if you don't want to use a preview version, add a *global.json* file to your project hierarchy structure to specify which SDK version to use, and use `dotnet --list-sdks` to confirm that the version is installed on your machine. When a new version is released, to use the new version, either remove the *global.json* file or update it to use the newer version.\n\n> [!WARNING]\n> Startup project '{startupProject}' targets framework '.NETCoreApp' version '{targetFrameworkVersion}'. This version of the Entity Framework Core .NET Command-line Tools only supports version 2.0 or higher. For information on using older versions of the tools, see <https://go.microsoft.com/fwlink/?linkid=871254>\n\nStarting with .NET Core 2.1 SDK (version 2.1.300), the `dotnet ef` command comes included in the SDK. This warning indicates that your project targets EF Core 1.0 or 1.1, which isn't compatible with .NET Core 2.1 SDK and later versions. To compile your project, install .NET Core 2.0 SDK (version 2.1.201) and earlier on your machine and define the desired SDK version using the *global.json* file. For more information about the `dotnet ef` command, see [EF Core .NET Command-line Tools](/ef/core/miscellaneous/cli/dotnet).\n\n## See also\n\n- [How project SDKs are resolved](/visualstudio/msbuild/how-to-use-project-sdk#how-project-sdks-are-resolved)","nodes":[{"pos":[4,213],"embed":true,"restype":"x-metadata","content":"title: global.json overview\ndescription: Learn how to use the global.json file to set the .NET Core SDK version when running .NET Core CLI commands.\nms.date: 12/03/2018\nms.custom: \"updateeachrelease, seodec18\"","nodes":[{"content":"global.json overview","nodes":[{"pos":[0,20],"content":"global.json overview","nodes":[{"content":"global.json overview","pos":[0,20]}]}],"path":["title"],"nosxs":false},{"content":"Learn how to use the global.json file to set the .NET Core SDK version when running .NET Core CLI commands.","nodes":[{"pos":[0,107],"content":"Learn how to use the global.json file to set the .NET Core SDK version when running .NET Core CLI commands.","nodes":[{"content":"Learn how to use the global.json file to set the .NET Core SDK version when running .NET Core CLI commands.","pos":[0,107]}]}],"path":["description"],"nosxs":false}],"yml":true},{"pos":[220,240],"content":"global.json overview","linkify":"global.json overview","nodes":[{"content":"global.json overview","pos":[0,20]}]},{"content":"The <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file allows you to define which .NET Core SDK version is used when you run .NET Core CLI commands.","pos":[336,452],"source":"The *global.json* file allows you to define which .NET Core SDK version is used when you run .NET Core CLI commands."},{"content":"Selecting the .NET Core SDK is independent from specifying the runtime your project targets.","pos":[453,545]},{"content":"The .NET Core SDK version indicates which versions of the .NET Core CLI tools are used.","pos":[546,633]},{"content":"In general, you want to use the latest version of the tools, so no <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file is needed.","pos":[634,730],"source":" In general, you want to use the latest version of the tools, so no *global.json* file is needed."},{"pos":[732,845],"content":"For more information about specifying the runtime instead, see <bpt id=\"p1\">[</bpt>Target frameworks<ept id=\"p1\">](../../standard/frameworks.md)</ept>.","source":"For more information about specifying the runtime instead, see [Target frameworks](../../standard/frameworks.md)."},{"pos":[847,1018],"content":".NET Core SDK looks for a <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file in the current working directory (which isn't necessarily the same as the project directory) or one of its parent directories.","source":".NET Core SDK looks for a *global.json* file in the current working directory (which isn't necessarily the same as the project directory) or one of its parent directories."},{"pos":[1023,1041],"content":"global.json schema","linkify":"global.json schema","nodes":[{"content":"global.json schema","pos":[0,18]}]},{"pos":[1047,1050],"content":"sdk","linkify":"sdk","nodes":[{"content":"sdk","pos":[0,3]}]},{"content":"Type: Object","pos":[1052,1064]},{"content":"Specifies information about the .NET Core SDK to select.","pos":[1066,1122]},{"pos":[1129,1136],"content":"version","linkify":"version","nodes":[{"content":"version","pos":[0,7]}]},{"content":"Type: String","pos":[1138,1150]},{"content":"The version of the .NET Core SDK to use.","pos":[1152,1192]},{"content":"Note that this field:","pos":[1194,1215]},{"content":"Doesn't have globbing support, that is, the full version number has to be specified.","pos":[1219,1303]},{"content":"Doesn't support version ranges.","pos":[1306,1337]},{"pos":[1339,1404],"content":"The following example shows the contents of a <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file:","source":"The following example shows the contents of a *global.json* file:"},{"pos":[1466,1499],"content":"global.json and the .NET Core CLI","linkify":"global.json and the .NET Core CLI","nodes":[{"content":"global.json and the .NET Core CLI","pos":[0,33]}]},{"content":"It's helpful to know which versions are available in order to set one in the <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file.","pos":[1501,1597],"source":"It's helpful to know which versions are available in order to set one in the *global.json* file."},{"content":"You can find the full list of supported available SDKs at the <bpt id=\"p1\">[</bpt>.NET Downloads<ept id=\"p1\">](https://www.microsoft.com/net/download/all)</ept> site.","pos":[1598,1726],"source":" You can find the full list of supported available SDKs at the [.NET Downloads](https://www.microsoft.com/net/download/all) site."},{"content":"Starting with .NET Core 2.1 SDK, you can run the following command to verify which SDK versions are already installed on your machine:","pos":[1727,1861]},{"pos":[1898,2036],"content":"To install additional .NET Core SDK versions on your machine, visit the <bpt id=\"p1\">[</bpt>.NET Downloads<ept id=\"p1\">](https://www.microsoft.com/net/download/all)</ept> site.","source":"To install additional .NET Core SDK versions on your machine, visit the [.NET Downloads](https://www.microsoft.com/net/download/all) site."},{"pos":[2038,2194],"content":"You can create a new the <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file in the current directory by executing the <bpt id=\"p2\">[</bpt>dotnet new<ept id=\"p2\">](dotnet-new.md)</ept> command, similar to the following example:","source":"You can create a new the *global.json* file in the current directory by executing the [dotnet new](dotnet-new.md) command, similar to the following example:"},{"pos":[2259,2273],"content":"Matching rules","linkify":"Matching rules","nodes":[{"content":"Matching rules","pos":[0,14]}]},{"pos":[2277,2471],"content":"[!NOTE]\nThe matching rules are governed by the apphost, which is part of the .NET Core runtime.\nThe latest version of the host is used when you have multiple runtimes installed side-by-side.","leadings":["","> ","> "],"nodes":[{"content":"The matching rules are governed by the apphost, which is part of the .NET Core runtime.\nThe latest version of the host is used when you have multiple runtimes installed side-by-side.","pos":[8,190],"nodes":[{"content":"The matching rules are governed by the apphost, which is part of the .NET Core runtime.","pos":[0,87]},{"content":"The latest version of the host is used when you have multiple runtimes installed side-by-side.","pos":[88,182],"source":"\nThe latest version of the host is used when you have multiple runtimes installed side-by-side."}]}]},{"content":"Starting with .NET Core 2.0, the following rules apply when determining which version of the SDK to use:","pos":[2473,2577]},{"content":"If no <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file is found or <bpt id=\"p2\">*</bpt>global.json<ept id=\"p2\">*</ept> doesn't specify an SDK version, the latest installed SDK version is used.","pos":[2581,2705],"source":"If no *global.json* file is found or *global.json* doesn't specify an SDK version, the latest installed SDK version is used."},{"content":"Latest SDK version can be either release or pre-release - the highest version number wins.","pos":[2706,2796]},{"pos":[2799,2844],"content":"If <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> does specify an SDK version:","source":"If *global.json* does specify an SDK version:"},{"content":"If the specified SDK version is found on the machine, that exact version is used.","pos":[2849,2930]},{"content":"If the specified SDK version can't be found on the machine, the latest installed SDK <bpt id=\"p1\">**</bpt>patch version<ept id=\"p1\">**</ept> of that version is used.","pos":[2935,3062],"source":"If the specified SDK version can't be found on the machine, the latest installed SDK **patch version** of that version is used."},{"content":"Latest installed SDK <bpt id=\"p1\">**</bpt>patch version<ept id=\"p1\">**</ept> can be either release or pre-release - the highest version number wins.","pos":[3063,3173],"source":" Latest installed SDK **patch version** can be either release or pre-release - the highest version number wins."},{"content":"In .NET Core 2.1 and higher, the <bpt id=\"p1\">**</bpt>patch versions<ept id=\"p1\">**</ept> lower than the <bpt id=\"p2\">**</bpt>patch version<ept id=\"p2\">**</ept> specified are ignored in the SDK selection.","pos":[3174,3302],"source":" In .NET Core 2.1 and higher, the **patch versions** lower than the **patch version** specified are ignored in the SDK selection."},{"pos":[3307,3412],"content":"If the specified SDK version and an appropriate SDK <bpt id=\"p1\">**</bpt>patch version<ept id=\"p1\">**</ept> can't be found, an error is thrown.","source":"If the specified SDK version and an appropriate SDK **patch version** can't be found, an error is thrown."},{"content":"The SDK version is currently composed of the following parts:","pos":[3414,3475]},{"content":"The <bpt id=\"p1\">**</bpt>feature release<ept id=\"p1\">**</ept> of the .NET Core SDK is represented by the first digit (<ph id=\"ph1\">`x`</ph>) in the last portion of the number (<ph id=\"ph2\">`xyz`</ph>) for SDK versions 2.1.100 and higher.","pos":[3562,3725],"source":"The **feature release** of the .NET Core SDK is represented by the first digit (`x`) in the last portion of the number (`xyz`) for SDK versions 2.1.100 and higher."},{"content":"In general, the .NET Core SDK has a faster release cycle than .NET Core.","pos":[3726,3798]},{"content":"The <bpt id=\"p1\">**</bpt>patch version<ept id=\"p1\">**</ept> is defined by the last two digits (<ph id=\"ph1\">`yz`</ph>) in the last portion of the number (<ph id=\"ph2\">`xyz`</ph>) for SDK versions 2.1.100 and higher.","pos":[3800,3941],"source":"The **patch version** is defined by the last two digits (`yz`) in the last portion of the number (`xyz`) for SDK versions 2.1.100 and higher."},{"content":"For example, if you specify <ph id=\"ph1\">`2.1.300`</ph> as the SDK version, SDK selection finds up to <ph id=\"ph2\">`2.1.399`</ph> but <ph id=\"ph3\">`2.1.400`</ph> isn't considered a patch version for <ph id=\"ph4\">`2.1.300`</ph>.","pos":[3942,4097],"source":" For example, if you specify `2.1.300` as the SDK version, SDK selection finds up to `2.1.399` but `2.1.400` isn't considered a patch version for `2.1.300`."},{"content":".NET Core SDK versions <ph id=\"ph1\">`2.1.100`</ph> through <ph id=\"ph2\">`2.1.201`</ph> were released during the transition between version number schemes and don't correctly handle the <ph id=\"ph3\">`xyz`</ph> notation.","pos":[4099,4263],"source":".NET Core SDK versions `2.1.100` through `2.1.201` were released during the transition between version number schemes and don't correctly handle the `xyz` notation."},{"content":"We highly recommend if you specify these versions in the <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file, that you ensure the specified versions are on the target machines.","pos":[4264,4407],"source":" We highly recommend if you specify these versions in the *global.json* file, that you ensure the specified versions are on the target machines."},{"content":"With .NET Core SDK 1.x, if you specified a version and no exact match was found, the latest installed SDK version was used.","pos":[4409,4532]},{"content":"Latest SDK version can be either release or pre-release - the highest version number wins.","pos":[4533,4623]},{"pos":[4628,4658],"content":"Troubleshooting build warnings","linkify":"Troubleshooting build warnings","nodes":[{"content":"Troubleshooting build warnings","pos":[0,30]}]},{"pos":[4662,4870],"content":"[!WARNING]\nYou are working with a preview version of the .NET Core SDK. You can define the SDK version via a global.json file in the current project. More at <https://go.microsoft.com/fwlink/?linkid=869452>","leadings":["","> "],"nodes":[{"content":"You are working with a preview version of the .NET Core SDK. You can define the SDK version via a global.json file in the current project. More at <https://go.microsoft.com/fwlink/?linkid=869452>","pos":[11,206],"nodes":[{"content":"You are working with a preview version of the .NET Core SDK.","pos":[0,60]},{"content":"You can define the SDK version via a global.json file in the current project.","pos":[61,138]},{"content":"More at <ph id=\"ph1\">&lt;https://go.microsoft.com/fwlink/?linkid=869452&gt;</ph>","pos":[139,195],"source":" More at <https://go.microsoft.com/fwlink/?linkid=869452>"}]}]},{"content":"This warning indicates that your project is being compiled using a preview version of the .NET Core SDK, as explained in the <bpt id=\"p1\">[</bpt>Matching rules<ept id=\"p1\">](#matching-rules)</ept> section.","pos":[4872,5039],"source":"This warning indicates that your project is being compiled using a preview version of the .NET Core SDK, as explained in the [Matching rules](#matching-rules) section."},{"content":".NET Core SDK versions have a history and commitment of being high quality.","pos":[5040,5115]},{"content":"However, if you don't want to use a preview version, add a <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file to your project hierarchy structure to specify which SDK version to use, and use <ph id=\"ph1\">`dotnet --list-sdks`</ph> to confirm that the version is installed on your machine.","pos":[5116,5353],"source":" However, if you don't want to use a preview version, add a *global.json* file to your project hierarchy structure to specify which SDK version to use, and use `dotnet --list-sdks` to confirm that the version is installed on your machine."},{"content":"When a new version is released, to use the new version, either remove the <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file or update it to use the newer version.","pos":[5354,5485],"source":" When a new version is released, to use the new version, either remove the *global.json* file or update it to use the newer version."},{"pos":[5489,5814],"content":"[!WARNING]\nStartup project '{startupProject}' targets framework '.NETCoreApp' version '{targetFrameworkVersion}'. This version of the Entity Framework Core .NET Command-line Tools only supports version 2.0 or higher. For information on using older versions of the tools, see <https://go.microsoft.com/fwlink/?linkid=871254>","leadings":["","> "],"nodes":[{"content":"Startup project '{startupProject}' targets framework '.NETCoreApp' version '{targetFrameworkVersion}'. This version of the Entity Framework Core .NET Command-line Tools only supports version 2.0 or higher. For information on using older versions of the tools, see <https://go.microsoft.com/fwlink/?linkid=871254>","pos":[11,323],"nodes":[{"content":"Startup project '{startupProject}' targets framework '.NETCoreApp' version '{targetFrameworkVersion}'.","pos":[0,102]},{"content":"This version of the Entity Framework Core .NET Command-line Tools only supports version 2.0 or higher.","pos":[103,205]},{"content":"For information on using older versions of the tools, see <ph id=\"ph1\">&lt;https://go.microsoft.com/fwlink/?linkid=871254&gt;</ph>","pos":[206,312],"source":" For information on using older versions of the tools, see <https://go.microsoft.com/fwlink/?linkid=871254>"}]}]},{"content":"Starting with .NET Core 2.1 SDK (version 2.1.300), the <ph id=\"ph1\">`dotnet ef`</ph> command comes included in the SDK.","pos":[5816,5917],"source":"Starting with .NET Core 2.1 SDK (version 2.1.300), the `dotnet ef` command comes included in the SDK."},{"content":"This warning indicates that your project targets EF Core 1.0 or 1.1, which isn't compatible with .NET Core 2.1 SDK and later versions.","pos":[5918,6052]},{"content":"To compile your project, install .NET Core 2.0 SDK (version 2.1.201) and earlier on your machine and define the desired SDK version using the <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file.","pos":[6053,6214],"source":" To compile your project, install .NET Core 2.0 SDK (version 2.1.201) and earlier on your machine and define the desired SDK version using the *global.json* file."},{"content":"For more information about the <ph id=\"ph1\">`dotnet ef`</ph> command, see <bpt id=\"p1\">[</bpt>EF Core .NET Command-line Tools<ept id=\"p1\">](/ef/core/miscellaneous/cli/dotnet)</ept>.","pos":[6215,6340],"source":" For more information about the `dotnet ef` command, see [EF Core .NET Command-line Tools](/ef/core/miscellaneous/cli/dotnet)."},{"pos":[6345,6353],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[6357,6464],"content":"<bpt id=\"p1\">[</bpt>How project SDKs are resolved<ept id=\"p1\">](/visualstudio/msbuild/how-to-use-project-sdk#how-project-sdks-are-resolved)</ept>","source":"[How project SDKs are resolved](/visualstudio/msbuild/how-to-use-project-sdk#how-project-sdks-are-resolved)"}]}