{"content":"---\ntitle: \"<socket> Element (Network Settings)\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.net/settings/socket\"\n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#socket\"\nhelpviewer_keywords: \n  - \"<socket> element\"\n  - \"socket element\"\nms.assetid: 366c634c-7d16-478f-aedf-053eda94a1a0\n---\n# \\<socket> Element (Network Settings)\nSpecifies whether socket operations use completion ports.  \n  \n \\<configuration>  \n\\<system.net>  \n\\<settings>  \n\\<socket>  \n  \n## Syntax  \n  \n```xml  \n<socket  \n  alwaysUseCompletionPortsForConnect=\"true|false\"  \n  alwaysUseCompletionPortsForAccept=\"true|false\"  \n  ipProtectionLevel=\"EdgeRestricted|Restricted|Unrestricted|Unspecified\"  \n/>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|**Attribute**|**Description**|  \n|-------------------|---------------------|  \n|`alwaysUseCompletionPortsForAccept`|Indicates whether the socket should always use completion ports for Accept method calls. The default value is `false`.|  \n|`alwaysUseCompletionPortsForConnect`|Indicates whether the socket should always use completion ports for Connect method calls. The default value is `false`.|  \n|`ipProtectionLevel`|Specifies the default <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> to use for a socket. The default value depends on the version of Windows.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|**Element**|**Description**|  \n|-----------------|---------------------|  \n|[settings](../../../../../docs/framework/configure-apps/file-schema/network/settings-element-network-settings.md)|Configures basic network options for the <xref:System.Net> namespace.|  \n  \n## Remarks  \n The `alwaysUseCompletionPortsForAccept` and `alwaysUseCompletionPortsForConnect` attributes are used to specify the default behavior regarding the use of completion ports by the classes in the <xref:System.Net.Sockets?displayProperty=nameWithType>.namespace. Completion ports are recommended for high performance server applications.  \n  \n The default value for the `alwaysUseCompletionPortsForAccept` and `alwaysUseCompletionPortsForConnect` attributes is **false**.  \n  \n The <xref:System.Net.Configuration.SocketElement.AlwaysUseCompletionPortsForAccept%2A> can be used to get the current value of the `alwaysUseCompletionPortsForAccept` attribute from applicable configuration files. The <xref:System.Net.Configuration.SocketElement.AlwaysUseCompletionPortsForConnect%2A> can be used to get the current value of the `alwaysUseCompletionPortsForConnect` attribute from applicable configuration files.  \n  \n The `ipProtectionLevel` attribute specifies the default <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> to use for a socket. The <xref:System.Net.Configuration.SocketElement.IPProtectionLevel%2A> property enables configuration of a restriction for an IPv6 socket to a specified scope, such as addresses with the same link local or site local prefix. This option enables applications to place access restrictions on IPv6 sockets. Such restrictions enable an application running on a private LAN to simply and robustly harden itself against external attacks. This option widens or narrows the scope of a listening socket, enabling unrestricted access from public and private users when appropriate, or restricting access only to the same site, as required.  \n  \n This `ipProtectionLevel` attribute setting affects only initial incoming traffic:  \n  \n-   A TCP server listening for incoming connections on a socket.  \n  \n-   A UDP application receiving a packet on a socket.  \n  \n This configuration setting does not affect already established TCP connections (traffic is unrestricted in both directions) and does not affect an application sending UDP packets.  \n  \n The possible values for the `ipProtectionLevel` attribute setting correspond with the defined protection levels specified in the <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> enumeration as follows:  \n  \n|**Attribute Value**|**Description**|  \n|-|-|  \n|EdgeRestricted|The IP protection level is edge restricted. This value would be used by applications designed to operate across the Internet. This setting does not allow Network Address Translation (NAT) traversal using the Windows Teredo implementation. These applications may bypass IPv4 firewalls, so applications must be hardened against Internet attacks directed at the opened port. On Windows Server 2003 and Windows XP, the default value for the IP Protection level on a socket is edge restricted.|  \n|Restricted|The IP protection level is restricted. This value would be used by intranet applications that do not implement Internet scenarios. These applications are generally not tested or hardened against Internet-style attacks. This setting will limit the received traffic to link-local only.|  \n|Unrestricted|The IP protection level is unrestricted. This value would be used by applications designed to operate across the Internet, including applications taking advantage of IPv6 NAT traversal capabilities built into Windows (Teredo, for example). These applications may bypass IPv4 firewalls, so applications must be hardened against Internet attacks directed at the opened port. On Windows Server 2008 R2 and Windows Vista, the default value for the IP Protection level on a socket is unrestricted.|  \n|Unspecified|The IP protection level is unspecified. On Windows 7 and Windows Server 2008 R2, the default value for the IP Protection level on a socket is unspecified.|  \n  \n The default value for the `ipProtectionLevel` attribute is **Unspecified**.  \n  \n The <xref:System.Net.Configuration.SocketElement.IPProtectionLevel%2A> property can be used to get the current value of the `ipProtectionLevel` attribute from applicable configuration files.  \n  \n## Configuration Files  \n This element can be used in the application configuration file or the machine configuration file (Machine.config).  \n  \n## Example  \n The following example shows how to specify that completion ports should be used and that the default <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> should be unrestricted.  \n  \n```xml  \n<configuration>  \n  <system.net>  \n    <settings>  \n      <socket  \n        alwaysUseCompletionPortsForAccept=\"true\"  \n        alwaysUseCompletionPortsForConnect=\"true\"  \n        ipProtectionLevel=\"Unrestricted\"  \n       />  \n    </settings>  \n  </system.net>  \n</configuration>  \n```  \n  \n## See also\n\n- <xref:System.Net?displayProperty=nameWithType>\n- <xref:System.Net.Configuration.SocketElement?displayProperty=nameWithType>\n- <xref:System.Net.Sockets?displayProperty=nameWithType>\n- <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType>\n- <xref:System.Net.Sockets.SocketOptionName.IPProtectionLevel?displayProperty=nameWithType>\n- [Network Settings Schema](../../../../../docs/framework/configure-apps/file-schema/network/index.md)\n","nodes":[{"pos":[4,363],"embed":true,"restype":"x-metadata","content":"title: \"<socket> Element (Network Settings)\"\nms.date: \"03/30/2017\"\nf1_keywords: \n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#configuration/system.net/settings/socket\"\n  - \"http://schemas.microsoft.com/.NetConfiguration/v2.0#socket\"\nhelpviewer_keywords: \n  - \"<socket> element\"\n  - \"socket element\"\nms.assetid: 366c634c-7d16-478f-aedf-053eda94a1a0","nodes":[{"content":"<socket> Element (Network Settings)","nodes":[{"pos":[0,35],"content":"<ph id=\"ph1\">&lt;socket&gt;</ph> Element (Network Settings)","source":"<socket> Element (Network Settings)"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[370,406],"content":"\\<socket> Element (Network Settings)","linkify":"\\<socket> Element (Network Settings)","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>socket&gt; Element (Network Settings)","pos":[0,36],"source":"\\<socket> Element (Network Settings)"}]},{"content":"Specifies whether socket operations use completion ports.","pos":[407,464]},{"content":"<ph id=\"ph1\">\\&lt;</ph>configuration&gt;","pos":[471,487],"source":"\\<configuration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.net&gt;","pos":[490,503],"source":"\\<system.net>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>settings&gt;","pos":[506,517],"source":"\\<settings>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>socket&gt;","pos":[520,529],"source":"\\<socket>"},{"pos":[538,544],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[764,787],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[791,871]},{"pos":[881,891],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"pos":[898,911],"content":"<bpt id=\"p1\">**</bpt>Attribute<ept id=\"p1\">**</ept>","source":"**Attribute**"},{"pos":[912,927],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"content":"Indicates whether the socket should always use completion ports for Accept method calls.","pos":[1014,1102]},{"content":"The default value is <ph id=\"ph1\">`false`</ph>.","pos":[1103,1132],"source":" The default value is `false`."},{"content":"Indicates whether the socket should always use completion ports for Connect method calls.","pos":[1174,1263]},{"content":"The default value is <ph id=\"ph1\">`false`</ph>.","pos":[1264,1293],"source":" The default value is `false`."},{"content":"Specifies the default <ph id=\"ph1\">&lt;xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType&gt;</ph> to use for a socket.","pos":[1318,1433],"source":"Specifies the default <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> to use for a socket."},{"content":"The default value depends on the version of Windows.","pos":[1434,1486]},{"pos":[1497,1511],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[1515,1520]},{"pos":[1530,1545],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"pos":[1552,1563],"content":"<bpt id=\"p1\">**</bpt>Element<ept id=\"p1\">**</ept>","source":"**Element**"},{"pos":[1564,1579],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"pos":[1628,1741],"content":"<bpt id=\"p1\">[</bpt>settings<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/network/settings-element-network-settings.md)</ept>","source":"[settings](../../../../../docs/framework/configure-apps/file-schema/network/settings-element-network-settings.md)"},{"pos":[1742,1811],"content":"Configures basic network options for the <ph id=\"ph1\">&lt;xref:System.Net&gt;</ph> namespace.","source":"Configures basic network options for the <xref:System.Net> namespace."},{"pos":[1821,1828],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">`alwaysUseCompletionPortsForAccept`</ph> and <ph id=\"ph2\">`alwaysUseCompletionPortsForConnect`</ph> attributes are used to specify the default behavior regarding the use of completion ports by the classes in the <ph id=\"ph3\">&lt;xref:System.Net.Sockets?displayProperty=nameWithType&gt;</ph>.namespace.","pos":[1832,2090],"source":"The `alwaysUseCompletionPortsForAccept` and `alwaysUseCompletionPortsForConnect` attributes are used to specify the default behavior regarding the use of completion ports by the classes in the <xref:System.Net.Sockets?displayProperty=nameWithType>.namespace."},{"content":"Completion ports are recommended for high performance server applications.","pos":[2091,2165]},{"pos":[2172,2299],"content":"The default value for the <ph id=\"ph1\">`alwaysUseCompletionPortsForAccept`</ph> and <ph id=\"ph2\">`alwaysUseCompletionPortsForConnect`</ph> attributes is <bpt id=\"p1\">**</bpt>false<ept id=\"p1\">**</ept>.","source":"The default value for the `alwaysUseCompletionPortsForAccept` and `alwaysUseCompletionPortsForConnect` attributes is **false**."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Net.Configuration.SocketElement.AlwaysUseCompletionPortsForAccept%2A&gt;</ph> can be used to get the current value of the <ph id=\"ph2\">`alwaysUseCompletionPortsForAccept`</ph> attribute from applicable configuration files.","pos":[2306,2519],"source":"The <xref:System.Net.Configuration.SocketElement.AlwaysUseCompletionPortsForAccept%2A> can be used to get the current value of the `alwaysUseCompletionPortsForAccept` attribute from applicable configuration files."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Net.Configuration.SocketElement.AlwaysUseCompletionPortsForConnect%2A&gt;</ph> can be used to get the current value of the <ph id=\"ph2\">`alwaysUseCompletionPortsForConnect`</ph> attribute from applicable configuration files.","pos":[2520,2735],"source":" The <xref:System.Net.Configuration.SocketElement.AlwaysUseCompletionPortsForConnect%2A> can be used to get the current value of the `alwaysUseCompletionPortsForConnect` attribute from applicable configuration files."},{"content":"The <ph id=\"ph1\">`ipProtectionLevel`</ph> attribute specifies the default <ph id=\"ph2\">&lt;xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType&gt;</ph> to use for a socket.","pos":[2742,2891],"source":"The `ipProtectionLevel` attribute specifies the default <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> to use for a socket."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Net.Configuration.SocketElement.IPProtectionLevel%2A&gt;</ph> property enables configuration of a restriction for an IPv6 socket to a specified scope, such as addresses with the same link local or site local prefix.","pos":[2892,3116],"source":" The <xref:System.Net.Configuration.SocketElement.IPProtectionLevel%2A> property enables configuration of a restriction for an IPv6 socket to a specified scope, such as addresses with the same link local or site local prefix."},{"content":"This option enables applications to place access restrictions on IPv6 sockets.","pos":[3117,3195]},{"content":"Such restrictions enable an application running on a private LAN to simply and robustly harden itself against external attacks.","pos":[3196,3323]},{"content":"This option widens or narrows the scope of a listening socket, enabling unrestricted access from public and private users when appropriate, or restricting access only to the same site, as required.","pos":[3324,3521]},{"pos":[3528,3609],"content":"This <ph id=\"ph1\">`ipProtectionLevel`</ph> attribute setting affects only initial incoming traffic:","source":"This `ipProtectionLevel` attribute setting affects only initial incoming traffic:"},{"content":"A TCP server listening for incoming connections on a socket.","pos":[3619,3679]},{"content":"A UDP application receiving a packet on a socket.","pos":[3689,3738]},{"content":"This configuration setting does not affect already established TCP connections (traffic is unrestricted in both directions) and does not affect an application sending UDP packets.","pos":[3745,3924]},{"pos":[3931,4156],"content":"The possible values for the <ph id=\"ph1\">`ipProtectionLevel`</ph> attribute setting correspond with the defined protection levels specified in the <ph id=\"ph2\">&lt;xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType&gt;</ph> enumeration as follows:","source":"The possible values for the `ipProtectionLevel` attribute setting correspond with the defined protection levels specified in the <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> enumeration as follows:"},{"pos":[4163,4182],"content":"<bpt id=\"p1\">**</bpt>Attribute Value<ept id=\"p1\">**</ept>","source":"**Attribute Value**"},{"pos":[4183,4198],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"content":"EdgeRestricted","pos":[4211,4225]},{"content":"The IP protection level is edge restricted.","pos":[4226,4269]},{"content":"This value would be used by applications designed to operate across the Internet.","pos":[4270,4351]},{"content":"This setting does not allow Network Address Translation (NAT) traversal using the Windows Teredo implementation.","pos":[4352,4464]},{"content":"These applications may bypass IPv4 firewalls, so applications must be hardened against Internet attacks directed at the opened port.","pos":[4465,4597]},{"content":"On Windows Server 2003 and Windows XP, the default value for the IP Protection level on a socket is edge restricted.","pos":[4598,4714]},{"content":"Restricted","pos":[4719,4729]},{"content":"The IP protection level is restricted.","pos":[4730,4768]},{"content":"This value would be used by intranet applications that do not implement Internet scenarios.","pos":[4769,4860]},{"content":"These applications are generally not tested or hardened against Internet-style attacks.","pos":[4861,4948]},{"content":"This setting will limit the received traffic to link-local only.","pos":[4949,5013]},{"content":"Unrestricted","pos":[5018,5030]},{"content":"The IP protection level is unrestricted.","pos":[5031,5071]},{"content":"This value would be used by applications designed to operate across the Internet, including applications taking advantage of IPv6 NAT traversal capabilities built into Windows (Teredo, for example).","pos":[5072,5270]},{"content":"These applications may bypass IPv4 firewalls, so applications must be hardened against Internet attacks directed at the opened port.","pos":[5271,5403]},{"content":"On Windows Server 2008 R2 and Windows Vista, the default value for the IP Protection level on a socket is unrestricted.","pos":[5404,5523]},{"content":"Unspecified","pos":[5528,5539]},{"content":"The IP protection level is unspecified.","pos":[5540,5579]},{"content":"On Windows 7 and Windows Server 2008 R2, the default value for the IP Protection level on a socket is unspecified.","pos":[5580,5694]},{"pos":[5702,5777],"content":"The default value for the <ph id=\"ph1\">`ipProtectionLevel`</ph> attribute is <bpt id=\"p1\">**</bpt>Unspecified<ept id=\"p1\">**</ept>.","source":"The default value for the `ipProtectionLevel` attribute is **Unspecified**."},{"pos":[5784,5974],"content":"The <ph id=\"ph1\">&lt;xref:System.Net.Configuration.SocketElement.IPProtectionLevel%2A&gt;</ph> property can be used to get the current value of the <ph id=\"ph2\">`ipProtectionLevel`</ph> attribute from applicable configuration files.","source":"The <xref:System.Net.Configuration.SocketElement.IPProtectionLevel%2A> property can be used to get the current value of the `ipProtectionLevel` attribute from applicable configuration files."},{"pos":[5983,6002],"content":"Configuration Files","linkify":"Configuration Files","nodes":[{"content":"Configuration Files","pos":[0,19]}]},{"content":"This element can be used in the application configuration file or the machine configuration file (Machine.config).","pos":[6006,6120]},{"pos":[6129,6136],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[6140,6337],"content":"The following example shows how to specify that completion ports should be used and that the default <ph id=\"ph1\">&lt;xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType&gt;</ph> should be unrestricted.","source":"The following example shows how to specify that completion ports should be used and that the default <xref:System.Net.Sockets.IPProtectionLevel?displayProperty=nameWithType> should be unrestricted."},{"pos":[6645,6653],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7007,7107],"content":"<bpt id=\"p1\">[</bpt>Network Settings Schema<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/network/index.md)</ept>","source":"[Network Settings Schema](../../../../../docs/framework/configure-apps/file-schema/network/index.md)"}]}