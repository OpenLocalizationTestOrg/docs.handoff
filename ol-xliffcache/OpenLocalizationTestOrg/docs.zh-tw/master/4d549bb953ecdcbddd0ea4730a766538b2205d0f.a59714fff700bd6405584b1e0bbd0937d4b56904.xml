{"content":"---\ntitle: \"How To: Allow Metadata Requests While Authorizing\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"allowing metadata requests while authorizing [WCF]\"\nms.assetid: 90cec34f-b619-452b-a056-8b1c0de49d05\n---\n# How To: Allow Metadata Requests While Authorizing\nDuring custom authorization, it may be necessary to allow a request for metadata to be processed. The following topic walks through the steps to validate such a request.  \n  \n For more information about Windows Communication Foundation (WCF) authorization, see [Authorization](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md).  \n  \n### To allow metadata requests during authorization  \n  \n1.  Create an extension of the <xref:System.ServiceModel.ServiceAuthorizationManager> class.  \n  \n2.  Override the <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> method. The method returns `true` or `false` depending on whether authorization is allowed. Information about the current procedure is found in the <xref:System.ServiceModel.OperationContext> passed as a parameter to the method.  \n  \n3.  In the override, check the contract name, namespace, and the action as shown in the following example. If the conditions are valid, then return `true.`  \n  \n4.  Use the extensibility point to employ the class. For more information, see [How to: Create a Custom Authorization Manager for a Service](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md).  \n  \n## Example  \n The following example shows an override of the <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> method.  \n  \n [!code-csharp[C_HowtoCheckForMexRequestsInAuthorization#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howtocheckformexrequestsinauthorization/cs/source.cs#1)]\n [!code-vb[C_HowtoCheckForMexRequestsInAuthorization#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howtocheckformexrequestsinauthorization/vb/source.vb#1)]  \n  \n## See also\n\n- <xref:System.ServiceModel.ServiceAuthorizationManager>\n- [Authorization](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)\n- [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)\n","nodes":[{"pos":[4,246],"embed":true,"restype":"x-metadata","content":"title: \"How To: Allow Metadata Requests While Authorizing\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"allowing metadata requests while authorizing [WCF]\"\nms.assetid: 90cec34f-b619-452b-a056-8b1c0de49d05","nodes":[{"content":"How To: Allow Metadata Requests While Authorizing","nodes":[{"pos":[0,49],"content":"How To: Allow Metadata Requests While Authorizing","nodes":[{"content":"How To: Allow Metadata Requests While Authorizing","pos":[0,49]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[253,302],"content":"How To: Allow Metadata Requests While Authorizing","linkify":"How To: Allow Metadata Requests While Authorizing","nodes":[{"content":"How To: Allow Metadata Requests While Authorizing","pos":[0,49]}]},{"content":"During custom authorization, it may be necessary to allow a request for metadata to be processed.","pos":[303,400]},{"content":"The following topic walks through the steps to validate such a request.","pos":[401,472]},{"pos":[479,652],"content":"For more information about Windows Communication Foundation (WCF) authorization, see <bpt id=\"p1\">[</bpt>Authorization<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)</ept>.","source":"For more information about Windows Communication Foundation (WCF) authorization, see [Authorization](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)."},{"pos":[662,709],"content":"To allow metadata requests during authorization","linkify":"To allow metadata requests during authorization","nodes":[{"content":"To allow metadata requests during authorization","pos":[0,47]}]},{"pos":[719,807],"content":"Create an extension of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceAuthorizationManager&gt;</ph> class.","source":"Create an extension of the <xref:System.ServiceModel.ServiceAuthorizationManager> class."},{"content":"Override the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A&gt;</ph> method.","pos":[817,911],"source":"Override the <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> method."},{"content":"The method returns <ph id=\"ph1\">`true`</ph> or <ph id=\"ph2\">`false`</ph> depending on whether authorization is allowed.","pos":[912,995],"source":" The method returns `true` or `false` depending on whether authorization is allowed."},{"content":"Information about the current procedure is found in the <ph id=\"ph1\">&lt;xref:System.ServiceModel.OperationContext&gt;</ph> passed as a parameter to the method.","pos":[996,1132],"source":" Information about the current procedure is found in the <xref:System.ServiceModel.OperationContext> passed as a parameter to the method."},{"content":"In the override, check the contract name, namespace, and the action as shown in the following example.","pos":[1142,1244]},{"content":"If the conditions are valid, then return <ph id=\"ph1\">`true.`</ph>","pos":[1245,1293],"source":" If the conditions are valid, then return `true.`"},{"content":"Use the extensibility point to employ the class.","pos":[1303,1351]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Create a Custom Authorization Manager for a Service<ept id=\"p1\">](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)</ept>.","pos":[1352,1544],"source":" For more information, see [How to: Create a Custom Authorization Manager for a Service](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)."},{"pos":[1553,1560],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1564,1692],"content":"The following example shows an override of the <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A&gt;</ph> method.","source":"The following example shows an override of the <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> method."},{"pos":[2049,2057],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2118,2205],"content":"<bpt id=\"p1\">[</bpt>Authorization<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)</ept>","source":"[Authorization](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)"},{"pos":[2208,2376],"content":"<bpt id=\"p1\">[</bpt>Managing Claims and Authorization with the Identity Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)</ept>","source":"[Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)"}]}