{"content":"---\ntitle: \"&lt;reliableSession&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\nms.assetid: 129b4a59-37f0-4030-b664-03795d257d29\ncaps.latest.revision: 19\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# &lt;reliableSession&gt;\nDefines setting for WS-Reliable Messaging. When this element is added to a custom binding, the resulting channel can support exactly-once delivery assurances.  \n  \n \\<system.serviceModel>  \n\\<bindings>  \n\\<customBinding>  \n\\<binding>  \n\\<reliableSession>  \n  \n## Syntax  \n  \n```  \n  \n<reliableSession acknowledgementInterval=\"TimeSpan\"  \n        flowControlEnabled=\"Boolean\"   \n    inactivityTimeout=\"TimeSpan\"  \n    maxPendingChannels=\"Integer\"  \n    maxRetryCount=\"Integer\"   \n        maxTransferWindowSize=\"Integer\"  \n    reliableMessagingVersion=\"Default/WSReliableMessagingFebruary2005/WSReliableMessaging11\"  \n    ordered=\"Boolean\" />  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|acknowledgementInterval|A <xref:System.TimeSpan> that contains the maximum time interval the channel is going to wait to send an acknowledgment for messages received up to that point. The default is 00:00:0.2.|  \n|flowControlEnabled|A Boolean value that indicates whether advanced flow control, a Microsoft-specific implementation of flow control for WS-Reliable messaging, is activated. The default is `true`.|  \n|inactivityTimeout|A <xref:System.TimeSpan> that specifies the maximum duration that the channel is going to allow the other communication party not to send any messages, before faulting the channel. The default is 00:10:00.<br /><br /> Activity on a channel is defined as receiving an application or infrastructure messages. This property controls the maximum amount of time to keep an inactive session alive. If longer time passes with no activity, the session is aborted by the infrastructure and the channel faults. **Note:**  It is not necessary for the application to periodically send messages to keep the connection alive.|  \n|maxPendingChannels|An integer that specifies the maximum number of channels that can wait on the listener to be accepted. This value should be between 1 to 16384 inclusive. The default is 4.<br /><br /> Channels are pending when they are waiting to be accepted. Once that limit is reached, no channels are created. Rather, they are put in pending mode until this number goes down (by accepting pending channels). This is a per-factory limit.<br /><br /> When the threshold is reached and a remote application tries to establish a new reliable session, the request is denied and the open operation that prompted this faults. This limit does not apply to the number of pending outgoing channels.|  \n|maxRetryCount|An integer that specifies the maximum number of times a reliable channel attempts to retransmit a message it has not received an acknowledgment for, by calling Send on its underlying channel.<br /><br /> This value should be greater than zero. The default is 8.<br /><br /> This value should be an integer greater than zero. If an acknowledgment is not received after the last retransmission, the channel faults.<br /><br /> A message is considered to be transferred if its delivery at the recipient has been acknowledged by the recipient.<br /><br /> If an acknowledgment has not been received within a certain amount of time for a message that has been transmitted, the infrastructure automatically retransmits the message. The infrastructure tries to resend the message for at most the number of times specified by this property. If an acknowledgment is not received after the last retransmission, the channel faults.<br /><br /> The infrastructure uses an exponential back-off algorithm to determine when to retransmit, based on a computed average round-trip time. The time initially starts at 1 second before retransmission and doubling the delay with every attempt, which results in approximately 8.5 minutes passing between the first transmission attempt and the last retransmission attempt. The time for the first retransmission attempt is adjusted according to the calculated round-trip time and the resulting stretch of time that those attempts take varies accordingly. This allows the retransmission time to dynamically adapt to varying network conditions.|  \n|maxTransferWindowSize|An integer that specifies the maximum size of the buffer. Valid values are from 1 to 4096 inclusive.<br /><br /> On the client, this attribute defines the maximum size of the buffer used by a reliable channel to hold messages not yet acknowledged by the receiver. The unit of the quota is a message. If the buffer is full, further SEND operations are blocked.<br /><br /> On the receiver, this attribute defines the maximum size of the buffer used by the channel to store incoming messages not yet dispatched to the application. If the buffer is full, further messages are silently dropped by the receiver and require retransmission by the client.|  \n|ordered|A Boolean that specifies whether messages are guaranteed to arrive in the order they were sent. If this setting is `false`, messages can arrive out of order. The default is `true`.|  \n|reliableMessagingVersion|A valid value from <xref:System.ServiceModel.ReliableMessagingVersion> that specifies the WS-ReliableMessaging version to be used.|  \n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<binding>](../../../../../docs/framework/misc/binding.md)|Defines all binding capabilities of the custom binding.|  \n  \n## Remarks  \n Reliable sessions provide features for reliable messaging and sessions. Reliable messaging retries communication on failure and allows delivery assurances such as in-order arrival of messages to be specified. Sessions maintain state for clients between calls. This element also optionally provides ordered message delivery. This implemented session can cross SOAP and transport intermediaries.  \n  \n Each binding element represents a processing step when sending or receiving messages. At runtime, binding elements create the channel factories and listeners that are necessary to build outgoing and incoming channel stacks required to send and receive messages. The `reliableSession` provides an optional layer in the stack that can establish a reliable session between endpoints and configure the behavior of this session.  \n  \n For more information, see [Reliable Sessions](../../../../../docs/framework/wcf/feature-details/reliable-sessions.md).  \n  \n## Example  \n The following example demonstrates how to configure a custom binding with various transport and message encoding elements, especially enabling reliable sessions, which maintains client state and specifies in-order delivery assurances. This feature is configured in the application configuration files for the client and service. The example show the service configuration.  \n  \n```  \n<?xml version=\"1.0\" encoding=\"utf-8\" ?>  \n<configuration>  \n  <system.serviceModel>  \n    <services>  \n      <service   \n          name=\"Microsoft.ServiceModel.Samples.CalculatorService\"  \n          behaviorConfiguration=\"CalculatorServiceBehavior\">  \n        <!-- This endpoint is exposed at the base address provided by host: http://localhost/servicemodelsamples/service.svc  -->  \n        <!-- specify customBinding binding and a binding configuration to use -->  \n        <endpoint address=\"\"  \n                  binding=\"customBinding\"  \n                  bindingConfiguration=\"Binding1\"   \n                  contract=\"Microsoft.ServiceModel.Samples.ICalculator\" />  \n        <!-- The mex endpoint is exposed at http://localhost/servicemodelsamples/service.svc/mex -->  \n        <endpoint address=\"mex\"  \n                  binding=\"mexHttpBinding\"  \n                  contract=\"IMetadataExchange\" />  \n      </service>  \n    </services>  \n  \n    <!-- custom binding configuration - configures HTTP transport, reliable sessions -->  \n    <bindings>  \n      <customBinding>  \n        <binding name=\"Binding1\">  \n          <reliableSession />  \n          <security authenticationMode=\"SecureConversation\"  \n                     requireSecurityContextCancellation=\"true\">  \n          </security>  \n          <compositeDuplex />  \n          <oneWay />  \n          <textMessageEncoding messageVersion=\"Soap12WSAddressing10\" writeEncoding=\"utf-8\" />  \n          <httpTransport authenticationScheme=\"Anonymous\" bypassProxyOnLocal=\"false\"  \n                        hostNameComparisonMode=\"StrongWildcard\"   \n                        proxyAuthenticationScheme=\"Anonymous\" realm=\"\"   \n                        useDefaultWebProxy=\"true\" />  \n        </binding>  \n      </customBinding>  \n    </bindings>  \n  \n    <!--For debugging purposes set the includeExceptionDetailInFaults attribute to true-->  \n    <behaviors>  \n      <serviceBehaviors>  \n        <behavior name=\"CalculatorServiceBehavior\">  \n          <serviceMetadata httpGetEnabled=\"True\"/>  \n          <serviceDebug includeExceptionDetailInFaults=\"False\" />  \n        </behavior>  \n      </serviceBehaviors>  \n    </behaviors>  \n  </system.serviceModel>  \n</configuration>  \n```  \n  \n## See Also  \n <xref:System.ServiceModel.Configuration.ReliableSessionElement>   \n <xref:System.ServiceModel.Channels.CustomBinding>   \n <xref:System.ServiceModel.Channels.ReliableSessionBindingElement>   \n [Reliable Sessions](../../../../../docs/framework/wcf/feature-details/reliable-sessions.md)   \n [Bindings](../../../../../docs/framework/wcf/bindings.md)   \n [Extending Bindings](../../../../../docs/framework/wcf/extending/extending-bindings.md)   \n [Custom Bindings](../../../../../docs/framework/wcf/extending/custom-bindings.md)   \n [\\<customBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)","nodes":[{"pos":[12,52],"content":"&lt;reliableSession&gt; | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>reliableSession<ph id=\"ph2\">&amp;gt;</ph> | Microsoft Docs","pos":[0,40],"source":"&lt;reliableSession&gt; | Microsoft Docs"}]},{"pos":[385,408],"content":"&lt;reliableSession&gt;","linkify":"&lt;reliableSession&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>reliableSession<ph id=\"ph2\">&amp;gt;</ph>","pos":[0,23],"source":"&lt;reliableSession&gt;"}]},{"content":"Defines setting for WS-Reliable Messaging.","pos":[409,451]},{"content":"When this element is added to a custom binding, the resulting channel can support exactly-once delivery assurances.","pos":[452,567]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.serviceModel&gt;","pos":[574,596],"source":"\\<system.serviceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>bindings&gt;","pos":[599,610],"source":"\\<bindings>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>customBinding&gt;","pos":[613,629],"source":"\\<customBinding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>binding&gt;","pos":[632,642],"source":"\\<binding>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>reliableSession&gt;","pos":[645,663],"source":"\\<reliableSession>"},{"pos":[672,678],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1064,1087],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[1091,1171]},{"pos":[1181,1191],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1198,1207]},{"content":"Description","pos":[1208,1219]},{"content":"acknowledgementInterval","pos":[1262,1285]},{"content":"A <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> that contains the maximum time interval the channel is going to wait to send an acknowledgment for messages received up to that point.","pos":[1286,1445],"source":"A <xref:System.TimeSpan> that contains the maximum time interval the channel is going to wait to send an acknowledgment for messages received up to that point."},{"content":"The default is 00:00:0.2.","pos":[1446,1471]},{"content":"flowControlEnabled","pos":[1476,1494]},{"content":"A Boolean value that indicates whether advanced flow control, a Microsoft-specific implementation of flow control for WS-Reliable messaging, is activated.","pos":[1495,1649]},{"content":"The default is <ph id=\"ph1\">`true`</ph>.","pos":[1650,1672],"source":" The default is `true`."},{"content":"inactivityTimeout","pos":[1677,1694]},{"content":"A <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> that specifies the maximum duration that the channel is going to allow the other communication party not to send any messages, before faulting the channel.","pos":[1695,1875],"source":"A <xref:System.TimeSpan> that specifies the maximum duration that the channel is going to allow the other communication party not to send any messages, before faulting the channel."},{"content":"The default is 00:10:00.","pos":[1876,1900]},{"content":"Activity on a channel is defined as receiving an application or infrastructure messages.","pos":[1913,2001]},{"content":"This property controls the maximum amount of time to keep an inactive session alive.","pos":[2002,2086]},{"content":"If longer time passes with no activity, the session is aborted by the infrastructure and the channel faults.","pos":[2087,2195]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  It is not necessary for the application to periodically send messages to keep the connection alive.","pos":[2196,2306],"source":"**Note:**  It is not necessary for the application to periodically send messages to keep the connection alive."},{"content":"maxPendingChannels","pos":[2311,2329]},{"content":"An integer that specifies the maximum number of channels that can wait on the listener to be accepted.","pos":[2330,2432]},{"content":"This value should be between 1 to 16384 inclusive.","pos":[2433,2483]},{"content":"The default is 4.","pos":[2484,2501]},{"content":"Channels are pending when they are waiting to be accepted.","pos":[2514,2572]},{"content":"Once that limit is reached, no channels are created.","pos":[2573,2625]},{"content":"Rather, they are put in pending mode until this number goes down (by accepting pending channels).","pos":[2626,2723]},{"content":"This is a per-factory limit.","pos":[2724,2752]},{"content":"When the threshold is reached and a remote application tries to establish a new reliable session, the request is denied and the open operation that prompted this faults.","pos":[2765,2934]},{"content":"This limit does not apply to the number of pending outgoing channels.","pos":[2935,3004]},{"content":"maxRetryCount","pos":[3009,3022]},{"content":"An integer that specifies the maximum number of times a reliable channel attempts to retransmit a message it has not received an acknowledgment for, by calling Send on its underlying channel.","pos":[3023,3214]},{"content":"This value should be greater than zero.","pos":[3227,3266]},{"content":"The default is 8.","pos":[3267,3284]},{"content":"This value should be an integer greater than zero.","pos":[3297,3347]},{"content":"If an acknowledgment is not received after the last retransmission, the channel faults.","pos":[3348,3435]},{"content":"A message is considered to be transferred if its delivery at the recipient has been acknowledged by the recipient.","pos":[3448,3562]},{"content":"If an acknowledgment has not been received within a certain amount of time for a message that has been transmitted, the infrastructure automatically retransmits the message.","pos":[3575,3748]},{"content":"The infrastructure tries to resend the message for at most the number of times specified by this property.","pos":[3749,3855]},{"content":"If an acknowledgment is not received after the last retransmission, the channel faults.","pos":[3856,3943]},{"content":"The infrastructure uses an exponential back-off algorithm to determine when to retransmit, based on a computed average round-trip time.","pos":[3956,4091]},{"content":"The time initially starts at 1 second before retransmission and doubling the delay with every attempt, which results in approximately 8.5 minutes passing between the first transmission attempt and the last retransmission attempt.","pos":[4092,4321]},{"content":"The time for the first retransmission attempt is adjusted according to the calculated round-trip time and the resulting stretch of time that those attempts take varies accordingly.","pos":[4322,4502]},{"content":"This allows the retransmission time to dynamically adapt to varying network conditions.","pos":[4503,4590]},{"content":"maxTransferWindowSize","pos":[4595,4616]},{"content":"An integer that specifies the maximum size of the buffer.","pos":[4617,4674]},{"content":"Valid values are from 1 to 4096 inclusive.","pos":[4675,4717]},{"content":"On the client, this attribute defines the maximum size of the buffer used by a reliable channel to hold messages not yet acknowledged by the receiver.","pos":[4730,4880]},{"content":"The unit of the quota is a message.","pos":[4881,4916]},{"content":"If the buffer is full, further SEND operations are blocked.","pos":[4917,4976]},{"content":"On the receiver, this attribute defines the maximum size of the buffer used by the channel to store incoming messages not yet dispatched to the application.","pos":[4989,5145]},{"content":"If the buffer is full, further messages are silently dropped by the receiver and require retransmission by the client.","pos":[5146,5264]},{"content":"ordered","pos":[5269,5276]},{"content":"A Boolean that specifies whether messages are guaranteed to arrive in the order they were sent.","pos":[5277,5372]},{"content":"If this setting is <ph id=\"ph1\">`false`</ph>, messages can arrive out of order.","pos":[5373,5434],"source":" If this setting is `false`, messages can arrive out of order."},{"content":"The default is <ph id=\"ph1\">`true`</ph>.","pos":[5435,5457],"source":" The default is `true`."},{"content":"reliableMessagingVersion","pos":[5462,5486]},{"content":"A valid value from <ph id=\"ph1\">&lt;xref:System.ServiceModel.ReliableMessagingVersion&gt;</ph> that specifies the WS-ReliableMessaging version to be used.","pos":[5487,5617],"source":"A valid value from <xref:System.ServiceModel.ReliableMessagingVersion> that specifies the WS-ReliableMessaging version to be used."},{"pos":[5628,5642],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[5646,5650]},{"pos":[5660,5675],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[5682,5689]},{"content":"Description","pos":[5690,5701]},{"pos":[5742,5801],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>binding&gt;<ept id=\"p1\">](../../../../../docs/framework/misc/binding.md)</ept>","source":"[\\<binding>](../../../../../docs/framework/misc/binding.md)"},{"content":"Defines all binding capabilities of the custom binding.","pos":[5802,5857]},{"pos":[5867,5874],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"Reliable sessions provide features for reliable messaging and sessions.","pos":[5878,5949]},{"content":"Reliable messaging retries communication on failure and allows delivery assurances such as in-order arrival of messages to be specified.","pos":[5950,6086]},{"content":"Sessions maintain state for clients between calls.","pos":[6087,6137]},{"content":"This element also optionally provides ordered message delivery.","pos":[6138,6201]},{"content":"This implemented session can cross SOAP and transport intermediaries.","pos":[6202,6271]},{"content":"Each binding element represents a processing step when sending or receiving messages.","pos":[6278,6363]},{"content":"At runtime, binding elements create the channel factories and listeners that are necessary to build outgoing and incoming channel stacks required to send and receive messages.","pos":[6364,6539]},{"content":"The <ph id=\"ph1\">`reliableSession`</ph> provides an optional layer in the stack that can establish a reliable session between endpoints and configure the behavior of this session.","pos":[6540,6701],"source":" The `reliableSession` provides an optional layer in the stack that can establish a reliable session between endpoints and configure the behavior of this session."},{"pos":[6708,6826],"content":"For more information, see <bpt id=\"p1\">[</bpt>Reliable Sessions<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/reliable-sessions.md)</ept>.","source":"For more information, see [Reliable Sessions](../../../../../docs/framework/wcf/feature-details/reliable-sessions.md)."},{"pos":[6835,6842],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to configure a custom binding with various transport and message encoding elements, especially enabling reliable sessions, which maintains client state and specifies in-order delivery assurances.","pos":[6846,7080]},{"content":"This feature is configured in the application configuration files for the client and service.","pos":[7081,7174]},{"content":"The example show the service configuration.","pos":[7175,7218]},{"pos":[9470,9478],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\"> [</bpt>Reliable Sessions<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/reliable-sessions.md)</ept><ph id=\"ph1\"> </ph>","pos":[9673,9766],"source":" [Reliable Sessions](../../../../../docs/framework/wcf/feature-details/reliable-sessions.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/bindings.md)</ept><ph id=\"ph1\"> </ph>","pos":[9769,9828],"source":" [Bindings](../../../../../docs/framework/wcf/bindings.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Extending Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/extending-bindings.md)</ept><ph id=\"ph1\"> </ph>","pos":[9831,9920],"source":" [Extending Bindings](../../../../../docs/framework/wcf/extending/extending-bindings.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Custom Bindings<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/custom-bindings.md)</ept><ph id=\"ph1\"> </ph>","pos":[9923,10006],"source":" [Custom Bindings](../../../../../docs/framework/wcf/extending/custom-bindings.md) "},{"content":"<bpt id=\"p1\"> [</bpt><ph id=\"ph1\">\\&lt;</ph>customBinding&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)</ept>","pos":[10009,10107],"source":" [\\<customBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)"}]}