{"content":"---\ntitle: \"How to: Implement a Dependency Property\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"dependency properties [WPF], backing properties with\"\n  - \"properties [WPF], backing with dependency properties\"\nms.assetid: 855fd6d7-19ac-493c-bf5e-2f40b57cdc92\n---\n# How to: Implement a Dependency Property\nThis example shows how to back a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property with a <xref:System.Windows.DependencyProperty> field, thus defining a dependency property. When you define your own properties and want them to support many aspects of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] functionality, including styles, data binding, inheritance, animation, and default values, you should implement them as a dependency property.  \n  \n## Example  \n The following example first registers a dependency property by calling the <xref:System.Windows.DependencyProperty.Register%2A> method. The name of the identifier field that you use to store the name and characteristics of the dependency property must be the <xref:System.Windows.DependencyProperty.Name%2A> you chose for the dependency property as part of the <xref:System.Windows.DependencyProperty.Register%2A> call, appended by the literal string `Property`. For instance, if you register a dependency property with a <xref:System.Windows.DependencyProperty.Name%2A> of `Location`, then the identifier field that you define for the dependency property must be named `LocationProperty`.  \n  \n In this example, the name of the dependency property and its [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] accessor is `State`; the identifier field is `StateProperty`; the type of the property is <xref:System.Boolean>; and the type that registers the dependency property is `MyStateControl`.  \n  \n If you fail to follow this naming pattern, designers might not report your property correctly, and certain aspects of property system style application might not behave as expected.  \n  \n You can also specify default metadata for a dependency property. This example registers the default value of the `State` dependency property to be `false`.  \n  \n [!code-csharp[PropertySystemEsoterics#MyStateControl](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertySystemEsoterics/CSharp/SDKSampleLibrary/class1.cs#mystatecontrol)]\n [!code-vb[PropertySystemEsoterics#MyStateControl](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertySystemEsoterics/visualbasic/sdksamplelibrary/class1.vb#mystatecontrol)]  \n  \n For more information about how and why to implement a dependency property, as opposed to just backing a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] property with a private field, see [Dependency Properties Overview](dependency-properties-overview.md).  \n  \n## See also\n\n- [Dependency Properties Overview](dependency-properties-overview.md)\n- [How-to Topics](properties-how-to-topics.md)\n","nodes":[{"pos":[4,297],"embed":true,"restype":"x-metadata","content":"title: \"How to: Implement a Dependency Property\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"dependency properties [WPF], backing properties with\"\n  - \"properties [WPF], backing with dependency properties\"\nms.assetid: 855fd6d7-19ac-493c-bf5e-2f40b57cdc92","nodes":[{"content":"How to: Implement a Dependency Property","nodes":[{"pos":[0,39],"content":"How to: Implement a Dependency Property","nodes":[{"content":"How to: Implement a Dependency Property","pos":[0,39]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[304,343],"content":"How to: Implement a Dependency Property","linkify":"How to: Implement a Dependency Property","nodes":[{"content":"How to: Implement a Dependency Property","pos":[0,39]}]},{"content":"This example shows how to back a <ph id=\"ph1\">[!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)]</ph> property with a <ph id=\"ph2\">&lt;xref:System.Windows.DependencyProperty&gt;</ph> field, thus defining a dependency property.","pos":[344,545],"source":"This example shows how to back a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property with a <xref:System.Windows.DependencyProperty> field, thus defining a dependency property."},{"content":"When you define your own properties and want them to support many aspects of <ph id=\"ph1\">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]</ph> functionality, including styles, data binding, inheritance, animation, and default values, you should implement them as a dependency property.","pos":[546,845],"source":" When you define your own properties and want them to support many aspects of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] functionality, including styles, data binding, inheritance, animation, and default values, you should implement them as a dependency property."},{"pos":[854,861],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example first registers a dependency property by calling the <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty.Register%2A&gt;</ph> method.","pos":[865,1000],"source":"The following example first registers a dependency property by calling the <xref:System.Windows.DependencyProperty.Register%2A> method."},{"content":"The name of the identifier field that you use to store the name and characteristics of the dependency property must be the <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty.Name%2A&gt;</ph> you chose for the dependency property as part of the <ph id=\"ph2\">&lt;xref:System.Windows.DependencyProperty.Register%2A&gt;</ph> call, appended by the literal string <ph id=\"ph3\">`Property`</ph>.","pos":[1001,1327],"source":" The name of the identifier field that you use to store the name and characteristics of the dependency property must be the <xref:System.Windows.DependencyProperty.Name%2A> you chose for the dependency property as part of the <xref:System.Windows.DependencyProperty.Register%2A> call, appended by the literal string `Property`."},{"content":"For instance, if you register a dependency property with a <ph id=\"ph1\">&lt;xref:System.Windows.DependencyProperty.Name%2A&gt;</ph> of <ph id=\"ph2\">`Location`</ph>, then the identifier field that you define for the dependency property must be named <ph id=\"ph3\">`LocationProperty`</ph>.","pos":[1328,1554],"source":" For instance, if you register a dependency property with a <xref:System.Windows.DependencyProperty.Name%2A> of `Location`, then the identifier field that you define for the dependency property must be named `LocationProperty`."},{"pos":[1561,1877],"content":"In this example, the name of the dependency property and its <ph id=\"ph1\">[!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]</ph> accessor is <ph id=\"ph2\">`State`</ph>; the identifier field is <ph id=\"ph3\">`StateProperty`</ph>; the type of the property is <ph id=\"ph4\">&lt;xref:System.Boolean&gt;</ph>; and the type that registers the dependency property is <ph id=\"ph5\">`MyStateControl`</ph>.","source":"In this example, the name of the dependency property and its [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] accessor is `State`; the identifier field is `StateProperty`; the type of the property is <xref:System.Boolean>; and the type that registers the dependency property is `MyStateControl`."},{"content":"If you fail to follow this naming pattern, designers might not report your property correctly, and certain aspects of property system style application might not behave as expected.","pos":[1884,2065]},{"content":"You can also specify default metadata for a dependency property.","pos":[2072,2136]},{"content":"This example registers the default value of the <ph id=\"ph1\">`State`</ph> dependency property to be <ph id=\"ph2\">`false`</ph>.","pos":[2137,2227],"source":" This example registers the default value of the `State` dependency property to be `false`."},{"pos":[2589,2866],"content":"For more information about how and why to implement a dependency property, as opposed to just backing a <ph id=\"ph1\">[!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]</ph> property with a private field, see <bpt id=\"p1\">[</bpt>Dependency Properties Overview<ept id=\"p1\">](dependency-properties-overview.md)</ept>.","source":"For more information about how and why to implement a dependency property, as opposed to just backing a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] property with a private field, see [Dependency Properties Overview](dependency-properties-overview.md)."},{"pos":[2875,2883],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2887,2954],"content":"<bpt id=\"p1\">[</bpt>Dependency Properties Overview<ept id=\"p1\">](dependency-properties-overview.md)</ept>","source":"[Dependency Properties Overview](dependency-properties-overview.md)"},{"pos":[2957,3001],"content":"<bpt id=\"p1\">[</bpt>How-to Topics<ept id=\"p1\">](properties-how-to-topics.md)</ept>","source":"[How-to Topics](properties-how-to-topics.md)"}]}