{"content":"---\ntitle: \"&lt;tokenReplayDetection&gt; | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: ac3f588e-5f75-4275-b969-2d492ecc3b47\ncaps.latest.revision: 6\nauthor: \"BrucePerlerMS\"\nms.author: \"bruceper\"\nmanager: \"mbaldwin\"\n---\n# &lt;tokenReplayDetection&gt;\nEnables token replay detection and specifies the expiration time for tokens.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<tokenReplayDetection>  \n  \n## Syntax  \n  \n```  \n<system.identityModel>  \n  <identityConfiguration>  \n    <tokenReplayDetection enabled=xs:boolean expirationPeriod=TimeSpan>  \n    </tokenReplayDetection>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Type  \n <xref:System.IdentityModel.Configuration.TokenReplayDetectionElement>  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|enabled|A value that specifies whether token replay detection is enabled; \"true\" to enable token replay detection.|  \n|expirationPeriod|A <xref:System.TimeSpan> that specifies the maximum amount of time before an item is considered expired and removed from the cache.  For more information about how to specify <xref:System.TimeSpan> values, see [Timespan Values](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md).|  \n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)|Specifies service-level identity settings.|  \n|[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)|Provides configuration for a collection of security token handlers.|  \n  \n## Remarks  \n A `<tokenReplayDetection>` element can be specified at the service level under the `<identityConfiguration>` element or on the security token handler collection level under the `<securityTokenHandlerConfiguration>` element. Settings on a token handler collection override those specified on the service.  \n  \n The type of the token replay cache is specified by the [\\<tokenReplayCache>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaycache.md) element.\n","nodes":[{"pos":[12,57],"content":"&lt;tokenReplayDetection&gt; | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>tokenReplayDetection<ph id=\"ph2\">&amp;gt;</ph> | Microsoft Docs","pos":[0,45],"source":"&lt;tokenReplayDetection&gt; | Microsoft Docs"}]},{"pos":[366,394],"content":"&lt;tokenReplayDetection&gt;","linkify":"&lt;tokenReplayDetection&gt;","nodes":[{"content":"<ph id=\"ph1\">&amp;lt;</ph>tokenReplayDetection<ph id=\"ph2\">&amp;gt;</ph>","pos":[0,28],"source":"&lt;tokenReplayDetection&gt;"}]},{"content":"Enables token replay detection and specifies the expiration time for tokens.","pos":[395,471]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[478,501],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[504,528],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>tokenReplayDetection&gt;","pos":[531,554],"source":"\\<tokenReplayDetection>"},{"pos":[563,569],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[805,809],"content":"Type","linkify":"Type","nodes":[{"content":"Type","pos":[0,4]}]},{"pos":[891,914],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[918,998]},{"pos":[1008,1018],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1025,1034]},{"content":"Description","pos":[1035,1046]},{"content":"enabled","pos":[1089,1096]},{"content":"A value that specifies whether token replay detection is enabled; \"true\" to enable token replay detection.","pos":[1097,1203]},{"content":"expirationPeriod","pos":[1208,1224]},{"content":"A <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> that specifies the maximum amount of time before an item is considered expired and removed from the cache.","pos":[1225,1356],"source":"A <xref:System.TimeSpan> that specifies the maximum amount of time before an item is considered expired and removed from the cache."},{"content":"For more information about how to specify <ph id=\"ph1\">&lt;xref:System.TimeSpan&gt;</ph> values, see <bpt id=\"p1\">[</bpt>Timespan Values<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md)</ept>.","pos":[1358,1548],"source":"  For more information about how to specify <xref:System.TimeSpan> values, see [Timespan Values](../../../../../docs/framework/configure-apps/file-schema/windows-workflow-foundation/index.md)."},{"pos":[1559,1573],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[1577,1581]},{"pos":[1591,1606],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1613,1620]},{"content":"Description","pos":[1621,1632]},{"pos":[1673,1810],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)</ept>","source":"[\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)"},{"content":"Specifies service-level identity settings.","pos":[1811,1853]},{"pos":[1858,2019],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>securityTokenHandlerConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)</ept>","source":"[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)"},{"content":"Provides configuration for a collection of security token handlers.","pos":[2020,2087]},{"pos":[2097,2104],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"A <ph id=\"ph1\">`&lt;tokenReplayDetection&gt;`</ph> element can be specified at the service level under the <ph id=\"ph2\">`&lt;identityConfiguration&gt;`</ph> element or on the security token handler collection level under the <ph id=\"ph3\">`&lt;securityTokenHandlerConfiguration&gt;`</ph> element.","pos":[2108,2331],"source":"A `<tokenReplayDetection>` element can be specified at the service level under the `<identityConfiguration>` element or on the security token handler collection level under the `<securityTokenHandlerConfiguration>` element."},{"content":"Settings on a token handler collection override those specified on the service.","pos":[2332,2411]},{"pos":[2418,2609],"content":"The type of the token replay cache is specified by the <bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>tokenReplayCache&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaycache.md)</ept> element.","source":"The type of the token replay cache is specified by the [\\<tokenReplayCache>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/tokenreplaycache.md) element."}]}