{"content":"---\ntitle: \"CREATEREF (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: 489828cf-a335-4449-9360-b0d92eec5481\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# CREATEREF (Entity SQL)\nFabricates references to an entity in an entityset.  \n  \n## Syntax  \n  \n```  \n  \nCreateRef(entityset_identifier, row_typed_expression)  \n```  \n  \n## Arguments  \n `entityset_identifier`  \n The entityset identifier, not a string literal.  \n  \n `row_typed_expression`  \n A row-typed expression that corresponds to the key properties of the entity type.  \n  \n## Remarks  \n `row_typed_expression` must be structurally equivalent to the key type for the entity. That is, it must have the same number and types of fields in the same order as the entity keys.  \n  \n In the example below, Orders and BadOrders are both entitysets of type Order, and Id is assumed to be the single key property of Order. The example illustrates how we may produce a reference to an entity in BadOrders. Note that the reference may be dangling.  That is, the reference may not actually identify a specific entity. In those cases, a `DEREF` operation on that reference returns a null.  \n  \n```  \nselect CreateRef(LOB.BadOrders, row(o.Id))   \nfrom LOB.Orders as o   \n```  \n  \n## Example  \n The following Entity SQL query uses the CREATEREF operator to fabricate references to an entity in an entity set. The query is based on the AdventureWorks Sales Model. To compile and run this query, follow these steps:  \n  \n1.  Follow the procedure in [How to: Execute a Query that Returns StructuralType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-structuraltype-results.md).  \n  \n2.  Pass the following query as an argument to the `ExecuteStructuralTypeQuery` method:  \n  \n [!code-csharp[DP EntityServices Concepts 2#CREATEREF](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#createref)]  \n  \n## See Also  \n [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)   \n [DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)   \n [KEY](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md)   \n [REF](../../../../../../docs/framework/data/adonet/ef/language-reference/ref-entity-sql.md)","nodes":[{"pos":[4,397],"nodes":[{"content":"CREATEREF (Entity SQL) | Microsoft Docs","nodes":[{"pos":[0,39],"content":"CREATEREF (Entity SQL) | Microsoft Docs","nodes":[{"content":"CREATEREF (Entity SQL) | Microsoft Docs","pos":[0,39]}]}],"pos":[6,48],"yaml":true}],"content":"title: \"CREATEREF (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: 489828cf-a335-4449-9360-b0d92eec5481\ncaps.latest.revision: 3\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","yamlblock":true},{"pos":[404,426],"content":"CREATEREF (Entity SQL)","linkify":"CREATEREF (Entity SQL)","nodes":[{"content":"CREATEREF (Entity SQL)","pos":[0,22]}]},{"content":"Fabricates references to an entity in an entityset.","pos":[427,478]},{"pos":[487,493],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[576,585],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"The entityset identifier, not a string literal.","pos":[615,662]},{"content":"A row-typed expression that corresponds to the key properties of the entity type.","pos":[695,776]},{"pos":[785,792],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"<ph id=\"ph1\">`row_typed_expression`</ph> must be structurally equivalent to the key type for the entity.","pos":[796,882],"source":"`row_typed_expression` must be structurally equivalent to the key type for the entity."},{"content":"That is, it must have the same number and types of fields in the same order as the entity keys.","pos":[883,978]},{"content":"In the example below, Orders and BadOrders are both entitysets of type Order, and Id is assumed to be the single key property of Order.","pos":[985,1120]},{"content":"The example illustrates how we may produce a reference to an entity in BadOrders.","pos":[1121,1202]},{"content":"Note that the reference may be dangling.","pos":[1203,1243]},{"content":"That is, the reference may not actually identify a specific entity.","pos":[1245,1312]},{"content":"In those cases, a <ph id=\"ph1\">`DEREF`</ph> operation on that reference returns a null.","pos":[1313,1382],"source":" In those cases, a `DEREF` operation on that reference returns a null."},{"pos":[1476,1483],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following Entity SQL query uses the CREATEREF operator to fabricate references to an entity in an entity set.","pos":[1487,1600]},{"content":"The query is based on the AdventureWorks Sales Model.","pos":[1601,1654]},{"content":"To compile and run this query, follow these steps:","pos":[1655,1705]},{"pos":[1715,1912],"content":"Follow the procedure in <bpt id=\"p1\">[</bpt>How to: Execute a Query that Returns StructuralType Results<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-structuraltype-results.md)</ept>.","source":"Follow the procedure in [How to: Execute a Query that Returns StructuralType Results](../../../../../../docs/framework/data/adonet/ef/how-to-execute-a-query-that-returns-structuraltype-results.md)."},{"pos":[1922,2005],"content":"Pass the following query as an argument to the <ph id=\"ph1\">`ExecuteStructuralTypeQuery`</ph> method:","source":"Pass the following query as an argument to the `ExecuteStructuralTypeQuery` method:"},{"pos":[2012,2181],"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>DP EntityServices Concepts 2#CREATEREF<ept id=\"p2\">](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#createref)</ept><ept id=\"p1\">]</ept>","source":"[!code-csharp[DP EntityServices Concepts 2#CREATEREF](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#createref)]"},{"pos":[2190,2198],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept><ph id=\"ph1\"> </ph>","pos":[2202,2317],"source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md) "},{"content":"<bpt id=\"p1\">[</bpt>DEREF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md)</ept><ph id=\"ph1\"> </ph>","pos":[2321,2417],"source":"[DEREF](../../../../../../docs/framework/data/adonet/ef/language-reference/deref-entity-sql.md) "},{"content":"<bpt id=\"p1\">[</bpt>KEY<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md)</ept><ph id=\"ph1\"> </ph>","pos":[2421,2513],"source":"[KEY](../../../../../../docs/framework/data/adonet/ef/language-reference/key-entity-sql.md) "},{"content":"<bpt id=\"p1\">[</bpt>REF<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/ref-entity-sql.md)</ept>","pos":[2517,2608],"source":"[REF](../../../../../../docs/framework/data/adonet/ef/language-reference/ref-entity-sql.md)"}]}