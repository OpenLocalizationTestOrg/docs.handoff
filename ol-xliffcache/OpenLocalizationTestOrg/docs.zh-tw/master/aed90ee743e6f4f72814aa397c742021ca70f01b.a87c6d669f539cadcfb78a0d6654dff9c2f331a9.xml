{"content":"---\ntitle: \"Walkthrough: Automatically Populating the Toolbox with Custom Components | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"IToolboxService interface\"\n  - \"Toolbox [Windows Forms], populating\"\n  - \"custom components, adding to Toolbox\"\nms.assetid: 2fa1e3e8-6b9f-42b2-97c0-2be57444dba4\ncaps.latest.revision: 22\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"\n---\n# Walkthrough: Automatically Populating the Toolbox with Custom Components\nIf your components are defined by a project in the currently open solution, they will automatically appear in the **Toolbox**, with no action required by you. You can also manually populate the **Toolbox** with your custom components by using the [Choose Toolbox Items Dialog Box (Visual Studio)](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb), but the **Toolbox** takes account of items in your solution's build outputs with all the following characteristics:  \n  \n-   Implements <xref:System.ComponentModel.IComponent>;  \n  \n-   Does not have <xref:System.ComponentModel.ToolboxItemAttribute> set to `false`;  \n  \n-   Does not have <xref:System.ComponentModel.DesignTimeVisibleAttribute> set to `false`.  \n  \n> [!NOTE]\n>  The **Toolbox** does not follow reference chains, so it will not display items that are not built by a project in your solution.  \n  \n This walkthrough demonstrates how a custom component automatically appears in the **Toolbox** once the component is built. Tasks illustrated in this walkthrough include:  \n  \n-   Creating a Windows Forms project.  \n  \n-   Creating a custom component.  \n  \n-   Creating an instance of a custom component.  \n  \n-   Unloading and reloading a custom component.  \n  \n When you are finished, you will see that the **Toolbox** is populated with a component that you have created.  \n  \n> [!NOTE]\n>  The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  \n  \n## Creating the Project  \n The first step is to create the project and to set up the form.  \n  \n#### To create the project  \n  \n1.  Create a Windows-based application project called `ToolboxExample`.  \n  \n     For more information, see [How to: Create a Windows Application Project](http://msdn.microsoft.com/en-us/b2f93fed-c635-4705-8d0e-cf079a264efa).  \n  \n2.  Add a new component to the project. Call it `DemoComponent`.  \n  \n     For more information, see [NIB:How to: Add New Project Items](http://msdn.microsoft.com/en-us/63d3e16b-de6e-4bb5-a0e3-ecec762201ce).  \n  \n3.  Build the project.  \n  \n4.  From the **Tools** menu, click the **Options** item. Click **General** under the **Windows Forms Designer** item and ensure that the **AutoToolboxPopulate** option is set to **True**.  \n  \n## Creating an Instance of a Custom Component  \n The next step is to create an instance of the custom component on the form. Because the **Toolbox** automatically accounts for the new component, this is as easy as creating any other component or control.  \n  \n#### To create an instance of a custom component  \n  \n1.  Open the project's form in the **Forms Designer**.  \n  \n2.  In the **Toolbox**, click the new tab called **ToolboxExample Components**.  \n  \n     Once you click the tab, you will see **DemoComponent**.  \n  \n    > [!NOTE]\n    >  For performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported. To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component.  \n  \n3.  Drag your component onto your form.  \n  \n     An instance of the component is created and added to the **Component Tray**.  \n  \n## Unloading and Reloading a Custom Component  \n The **Toolbox** takes account of the components in each loaded project, and when a project is unloaded, it removes references to the project's components.  \n  \n#### To experiment with the effect on the Toolbox of unloading and reloading components  \n  \n1.  Unload the project from the solution.  \n  \n     For more information about unloading projects, see [NIB:How to: Unload and Reload Projects](http://msdn.microsoft.com/en-us/abc0155b-8fcb-4ffc-95b6-698518a7100b). If you are prompted to save, choose **Yes**.  \n  \n2.  Add a new **Windows Application** project to the solution. Open the form in the **Designer**.  \n  \n     The **ToolboxExample Components** tab from the previous project is now gone.  \n  \n3.  Reload the `ToolboxExample` project.  \n  \n     The **ToolboxExample Components** tab now reappears.  \n  \n## Next Steps  \n This walkthrough demonstrates that the **Toolbox** takes account of a project's components, but the **Toolbox** is also takes account of controls. Experiment with your own custom controls by adding and removing control projects from your solution.  \n  \n## See Also  \n [General, Windows Forms Designer, Options Dialog Box](http://msdn.microsoft.com/en-us/8dd170af-72f0-4212-b04b-034ceee92834)   \n [How to: Manipulate Toolbox Tabs](http://msdn.microsoft.com/en-us/21285050-cadd-455a-b1f5-a2289a89c4db)   \n [Choose Toolbox Items Dialog Box (Visual Studio)](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb)   \n [Putting Controls on Windows Forms](../../../../docs/framework/winforms/controls/putting-controls-on-windows-forms.md)","nodes":[{"pos":[4,571],"nodes":[{"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components | Microsoft Docs","nodes":[{"pos":[0,89],"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components | Microsoft Docs","nodes":[{"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components | Microsoft Docs","pos":[0,89]}]}],"pos":[6,98],"yaml":true}],"content":"title: \"Walkthrough: Automatically Populating the Toolbox with Custom Components | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-winforms\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"jsharp\"\nhelpviewer_keywords: \n  - \"IToolboxService interface\"\n  - \"Toolbox [Windows Forms], populating\"\n  - \"custom components, adding to Toolbox\"\nms.assetid: 2fa1e3e8-6b9f-42b2-97c0-2be57444dba4\ncaps.latest.revision: 22\nauthor: dotnet-bot\nms.author: dotnetcontent\nmanager: \"wpickett\"","yamlblock":true},{"pos":[578,650],"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components","linkify":"Walkthrough: Automatically Populating the Toolbox with Custom Components","nodes":[{"content":"Walkthrough: Automatically Populating the Toolbox with Custom Components","pos":[0,72]}]},{"content":"If your components are defined by a project in the currently open solution, they will automatically appear in the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept>, with no action required by you.","pos":[651,809],"source":"If your components are defined by a project in the currently open solution, they will automatically appear in the **Toolbox**, with no action required by you."},{"content":"You can also manually populate the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> with your custom components by using the <bpt id=\"p2\">[</bpt>Choose Toolbox Items Dialog Box (Visual Studio)<ept id=\"p2\">](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb)</ept>, but the <bpt id=\"p3\">**</bpt>Toolbox<ept id=\"p3\">**</ept> takes account of items in your solution's build outputs with all the following characteristics:","pos":[810,1134],"source":" You can also manually populate the **Toolbox** with your custom components by using the [Choose Toolbox Items Dialog Box (Visual Studio)](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb), but the **Toolbox** takes account of items in your solution's build outputs with all the following characteristics:"},{"content":"Implements <ph id=\"ph1\">&lt;xref:System.ComponentModel.IComponent&gt;</ph>;","pos":[1144,1195],"source":"Implements <xref:System.ComponentModel.IComponent>;"},{"pos":[1205,1284],"content":"Does not have <ph id=\"ph1\">&lt;xref:System.ComponentModel.ToolboxItemAttribute&gt;</ph> set to <ph id=\"ph2\">`false`</ph>;","source":"Does not have <xref:System.ComponentModel.ToolboxItemAttribute> set to `false`;"},{"pos":[1294,1379],"content":"Does not have <ph id=\"ph1\">&lt;xref:System.ComponentModel.DesignTimeVisibleAttribute&gt;</ph> set to <ph id=\"ph2\">`false`</ph>.","source":"Does not have <xref:System.ComponentModel.DesignTimeVisibleAttribute> set to `false`."},{"pos":[1387,1526],"content":"[!NOTE]\n The **Toolbox** does not follow reference chains, so it will not display items that are not built by a project in your solution.","leadings":["","> "],"nodes":[{"content":"The <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> does not follow reference chains, so it will not display items that are not built by a project in your solution.","pos":[9,137],"source":"The **Toolbox** does not follow reference chains, so it will not display items that are not built by a project in your solution."}]},{"content":"This walkthrough demonstrates how a custom component automatically appears in the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> once the component is built.","pos":[1533,1655],"source":"This walkthrough demonstrates how a custom component automatically appears in the **Toolbox** once the component is built."},{"content":"Tasks illustrated in this walkthrough include:","pos":[1656,1702]},{"content":"Creating a Windows Forms project.","pos":[1712,1745]},{"content":"Creating a custom component.","pos":[1755,1783]},{"content":"Creating an instance of a custom component.","pos":[1793,1836]},{"content":"Unloading and reloading a custom component.","pos":[1846,1889]},{"pos":[1896,2005],"content":"When you are finished, you will see that the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> is populated with a component that you have created.","source":"When you are finished, you will see that the **Toolbox** is populated with a component that you have created."},{"pos":[2013,2389],"content":"[!NOTE]\n The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).","leadings":["","> "],"nodes":[{"content":"The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition. To change your settings, choose **Import and Export Settings** on the **Tools** menu. For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3).","pos":[9,374],"nodes":[{"content":"The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition.","pos":[0,130]},{"content":"To change your settings, choose <bpt id=\"p1\">**</bpt>Import and Export Settings<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>Tools<ept id=\"p2\">**</ept> menu.","pos":[131,216],"source":" To change your settings, choose **Import and Export Settings** on the **Tools** menu."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Customizing Development Settings in Visual Studio<ept id=\"p1\">](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3)</ept>.","pos":[217,365],"source":" For more information, see [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/en-us/22c4debb-4e31-47a8-8f19-16f328d7dcd3)."}]}]},{"pos":[2398,2418],"content":"Creating the Project","linkify":"Creating the Project","nodes":[{"content":"Creating the Project","pos":[0,20]}]},{"content":"The first step is to create the project and to set up the form.","pos":[2422,2485]},{"pos":[2496,2517],"content":"To create the project","linkify":"To create the project","nodes":[{"content":"To create the project","pos":[0,21]}]},{"pos":[2527,2594],"content":"Create a Windows-based application project called <ph id=\"ph1\">`ToolboxExample`</ph>.","source":"Create a Windows-based application project called `ToolboxExample`."},{"pos":[2605,2748],"content":"For more information, see <bpt id=\"p1\">[</bpt>How to: Create a Windows Application Project<ept id=\"p1\">](http://msdn.microsoft.com/en-us/b2f93fed-c635-4705-8d0e-cf079a264efa)</ept>.","source":"For more information, see [How to: Create a Windows Application Project](http://msdn.microsoft.com/en-us/b2f93fed-c635-4705-8d0e-cf079a264efa)."},{"content":"Add a new component to the project.","pos":[2758,2793]},{"content":"Call it <ph id=\"ph1\">`DemoComponent`</ph>.","pos":[2794,2818],"source":" Call it `DemoComponent`."},{"pos":[2829,2961],"content":"For more information, see <bpt id=\"p1\">[</bpt>NIB:How to: Add New Project Items<ept id=\"p1\">](http://msdn.microsoft.com/en-us/63d3e16b-de6e-4bb5-a0e3-ecec762201ce)</ept>.","source":"For more information, see [NIB:How to: Add New Project Items](http://msdn.microsoft.com/en-us/63d3e16b-de6e-4bb5-a0e3-ecec762201ce)."},{"content":"Build the project.","pos":[2971,2989]},{"content":"From the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> menu, click the <bpt id=\"p2\">**</bpt>Options<ept id=\"p2\">**</ept> item.","pos":[2999,3051],"source":"From the **Tools** menu, click the **Options** item."},{"content":"Click <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> under the <bpt id=\"p2\">**</bpt>Windows Forms Designer<ept id=\"p2\">**</ept> item and ensure that the <bpt id=\"p3\">**</bpt>AutoToolboxPopulate<ept id=\"p3\">**</ept> option is set to <bpt id=\"p4\">**</bpt>True<ept id=\"p4\">**</ept>.","pos":[3052,3182],"source":" Click **General** under the **Windows Forms Designer** item and ensure that the **AutoToolboxPopulate** option is set to **True**."},{"pos":[3191,3233],"content":"Creating an Instance of a Custom Component","linkify":"Creating an Instance of a Custom Component","nodes":[{"content":"Creating an Instance of a Custom Component","pos":[0,42]}]},{"content":"The next step is to create an instance of the custom component on the form.","pos":[3237,3312]},{"content":"Because the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> automatically accounts for the new component, this is as easy as creating any other component or control.","pos":[3313,3442],"source":" Because the **Toolbox** automatically accounts for the new component, this is as easy as creating any other component or control."},{"pos":[3453,3496],"content":"To create an instance of a custom component","linkify":"To create an instance of a custom component","nodes":[{"content":"To create an instance of a custom component","pos":[0,43]}]},{"pos":[3506,3556],"content":"Open the project's form in the <bpt id=\"p1\">**</bpt>Forms Designer<ept id=\"p1\">**</ept>.","source":"Open the project's form in the **Forms Designer**."},{"pos":[3566,3641],"content":"In the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept>, click the new tab called <bpt id=\"p2\">**</bpt>ToolboxExample Components<ept id=\"p2\">**</ept>.","source":"In the **Toolbox**, click the new tab called **ToolboxExample Components**."},{"pos":[3652,3707],"content":"Once you click the tab, you will see <bpt id=\"p1\">**</bpt>DemoComponent<ept id=\"p1\">**</ept>.","source":"Once you click the tab, you will see **DemoComponent**."},{"pos":[3719,4047],"content":"[!NOTE]\nFor performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported. To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component.","leadings":["","    >  "],"nodes":[{"content":"For performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported. To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component.","pos":[8,321],"nodes":[{"content":"For performance reasons, components in the auto-populated area of the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> do not display custom bitmaps, and the <ph id=\"ph1\">&lt;xref:System.Drawing.ToolboxBitmapAttribute&gt;</ph> is not supported.","pos":[0,183],"source":"For performance reasons, components in the auto-populated area of the **Toolbox** do not display custom bitmaps, and the <xref:System.Drawing.ToolboxBitmapAttribute> is not supported."},{"content":"To display an icon for a custom component in the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept>, use the <bpt id=\"p2\">**</bpt>Choose Toolbox Items<ept id=\"p2\">**</ept> dialog box to load your component.","pos":[184,313],"source":" To display an icon for a custom component in the **Toolbox**, use the **Choose Toolbox Items** dialog box to load your component."}]}]},{"content":"Drag your component onto your form.","pos":[4057,4092]},{"pos":[4103,4179],"content":"An instance of the component is created and added to the <bpt id=\"p1\">**</bpt>Component Tray<ept id=\"p1\">**</ept>.","source":"An instance of the component is created and added to the **Component Tray**."},{"pos":[4188,4230],"content":"Unloading and Reloading a Custom Component","linkify":"Unloading and Reloading a Custom Component","nodes":[{"content":"Unloading and Reloading a Custom Component","pos":[0,42]}]},{"pos":[4234,4388],"content":"The <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> takes account of the components in each loaded project, and when a project is unloaded, it removes references to the project's components.","source":"The **Toolbox** takes account of the components in each loaded project, and when a project is unloaded, it removes references to the project's components."},{"pos":[4399,4481],"content":"To experiment with the effect on the Toolbox of unloading and reloading components","linkify":"To experiment with the effect on the Toolbox of unloading and reloading components","nodes":[{"content":"To experiment with the effect on the Toolbox of unloading and reloading components","pos":[0,82]}]},{"content":"Unload the project from the solution.","pos":[4491,4528]},{"content":"For more information about unloading projects, see <bpt id=\"p1\">[</bpt>NIB:How to: Unload and Reload Projects<ept id=\"p1\">](http://msdn.microsoft.com/en-us/abc0155b-8fcb-4ffc-95b6-698518a7100b)</ept>.","pos":[4539,4701],"source":"For more information about unloading projects, see [NIB:How to: Unload and Reload Projects](http://msdn.microsoft.com/en-us/abc0155b-8fcb-4ffc-95b6-698518a7100b)."},{"content":"If you are prompted to save, choose <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept>.","pos":[4702,4746],"source":" If you are prompted to save, choose **Yes**."},{"content":"Add a new <bpt id=\"p1\">**</bpt>Windows Application<ept id=\"p1\">**</ept> project to the solution.","pos":[4756,4814],"source":"Add a new **Windows Application** project to the solution."},{"content":"Open the form in the <bpt id=\"p1\">**</bpt>Designer<ept id=\"p1\">**</ept>.","pos":[4815,4849],"source":" Open the form in the **Designer**."},{"pos":[4860,4936],"content":"The <bpt id=\"p1\">**</bpt>ToolboxExample Components<ept id=\"p1\">**</ept> tab from the previous project is now gone.","source":"The **ToolboxExample Components** tab from the previous project is now gone."},{"pos":[4946,4982],"content":"Reload the <ph id=\"ph1\">`ToolboxExample`</ph> project.","source":"Reload the `ToolboxExample` project."},{"pos":[4993,5045],"content":"The <bpt id=\"p1\">**</bpt>ToolboxExample Components<ept id=\"p1\">**</ept> tab now reappears.","source":"The **ToolboxExample Components** tab now reappears."},{"pos":[5054,5064],"content":"Next Steps","linkify":"Next Steps","nodes":[{"content":"Next Steps","pos":[0,10]}]},{"content":"This walkthrough demonstrates that the <bpt id=\"p1\">**</bpt>Toolbox<ept id=\"p1\">**</ept> takes account of a project's components, but the <bpt id=\"p2\">**</bpt>Toolbox<ept id=\"p2\">**</ept> is also takes account of controls.","pos":[5068,5214],"source":"This walkthrough demonstrates that the **Toolbox** takes account of a project's components, but the **Toolbox** is also takes account of controls."},{"content":"Experiment with your own custom controls by adding and removing control projects from your solution.","pos":[5215,5315]},{"pos":[5324,5332],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>General, Windows Forms Designer, Options Dialog Box<ept id=\"p1\">](http://msdn.microsoft.com/en-us/8dd170af-72f0-4212-b04b-034ceee92834)</ept><ph id=\"ph1\"> </ph>","pos":[5336,5460],"source":"[General, Windows Forms Designer, Options Dialog Box](http://msdn.microsoft.com/en-us/8dd170af-72f0-4212-b04b-034ceee92834) "},{"content":"<bpt id=\"p1\">[</bpt>How to: Manipulate Toolbox Tabs<ept id=\"p1\">](http://msdn.microsoft.com/en-us/21285050-cadd-455a-b1f5-a2289a89c4db)</ept><ph id=\"ph1\"> </ph>","pos":[5464,5568],"source":"[How to: Manipulate Toolbox Tabs](http://msdn.microsoft.com/en-us/21285050-cadd-455a-b1f5-a2289a89c4db) "},{"content":"<bpt id=\"p1\">[</bpt>Choose Toolbox Items Dialog Box (Visual Studio)<ept id=\"p1\">](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb)</ept><ph id=\"ph1\"> </ph>","pos":[5572,5692],"source":"[Choose Toolbox Items Dialog Box (Visual Studio)](http://msdn.microsoft.com/en-us/bd07835f-18a8-433e-bccc-7141f65263bb) "},{"content":"<bpt id=\"p1\">[</bpt>Putting Controls on Windows Forms<ept id=\"p1\">](../../../../docs/framework/winforms/controls/putting-controls-on-windows-forms.md)</ept>","pos":[5696,5814],"source":"[Putting Controls on Windows Forms](../../../../docs/framework/winforms/controls/putting-controls-on-windows-forms.md)"}]}