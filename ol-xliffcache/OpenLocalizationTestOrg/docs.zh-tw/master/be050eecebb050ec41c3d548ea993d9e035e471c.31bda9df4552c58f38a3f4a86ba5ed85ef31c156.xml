{"content":"---\ntitle: \"SOAP and HTTP Endpoints\"\nms.date: \"03/30/2017\"\nms.assetid: e3c8be75-9dda-4afa-89b6-a82cb3b73cf8\n---\n# SOAP and HTTP Endpoints\nThis sample demonstrates how to implement an RPC-based service and expose it in the SOAP format and the \"Plain Old XML\" (POX) format using the WCF Web Programming model. See the [Basic HTTP Service](../../../../docs/framework/wcf/samples/basic-http-service.md) sample for more details about the HTTP binding for the service. This sample focuses on the details that pertain to exposing the same service over SOAP and HTTP using different bindings.  \n  \n## Demonstrates  \n Exposing an RPC service over SOAP and HTTP using WCF.  \n  \n## Discussion  \n This sample consists of two components: a Web Application project (Service) that contains a WCF service and a console application (Client) that invokes service operations using SOAP and HTTP bindings.  \n  \n The WCF service exposes 2 operations –`GetData` and `PutData` – that echo the string that was passed as input. The service operations are annotated with <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute>. These attributes control the HTTP projection of these operations. In addition, they are annotated with <xref:System.ServiceModel.OperationContractAttribute>, which enables them to be exposed over SOAP bindings. The service’s `PutData` method throws a <xref:System.ServiceModel.Web.WebFaultException>, which gets sent back over HTTP using the HTTP status code and gets sent back over SOAP as a SOAP fault.  \n  \n The Web.config file configures the WCF service with 3 endpoints:  \n  \n-   The ~/service.svc/mex endpoint that exposes the service metadata for access by SOAP-based clients.  \n  \n-   The ~/service.svc/http endpoint that enables clients to access the service using the HTTP binding.  \n  \n-   The ~/service.svc/soap endpoint that allows the clients to access the service using the SOAP over HTTP binding.  \n  \n The HTTP endpoint is configured with a <`webHttp`> standard endpoint which has `helpEnabled` set to `true`. As a result, the service exposes an XHTML based help page at ~/service.svc/http/help that HTTP-based clients can use to access the service.  \n  \n The client project demonstrates accessing the service using a SOAP proxy (generated through **Add Service Reference**) and accessing the service using <xref:System.Net.WebClient>.  \n  \n The sample consists of a Web-hosted service and a console application. As the console application runs, the client makes requests to the service and writes the pertinent information from the responses to the console window.  \n  \n#### To run the sample  \n  \n1.  Open the solution for the SOAP and HTTP Endpoints Sample.  \n  \n2.  Press CTRL+SHIFT+B to build the solution.  \n  \n3.  If it is not already open, press CTRL+W, S to open the **Solution Explorer** window.  \n  \n4.  From the **Solution Explorer** window, right-click the **Service** project and place the cursor over the **Debug** context menu option so that the **Start New Instance** context menu appears. Click **Start New Instance**. This launches the ASP.NET development server, which hosts the service.  \n  \n5.  From the Solution Explorer windows, right-click the Client project and place the cursor over the **Debug** context menu option so that the **Start New Instance** context menu appears. Click **Start New Instance**.  \n  \n6.  The client console window appears and provides the URI of the running service and the URI of the HTML help page for the running service. At any point in time you can view the HTML help page by typing the URI of the help page in a browser.  \n  \n7.  As the sample runs, the client writes the status of the current activity.  \n  \n8.  Press any key to terminate the client console application.  \n  \n9. Press SHIFT+F5 to stop debugging the service.  \n  \n10. In the Windows Notification Area, right-click the ASP.NET development server icon and select **Stop** from the context menu.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Web\\SoapAndHttpEndpoints`\n","nodes":[{"pos":[4,107],"embed":true,"restype":"x-metadata","content":"title: \"SOAP and HTTP Endpoints\"\nms.date: \"03/30/2017\"\nms.assetid: e3c8be75-9dda-4afa-89b6-a82cb3b73cf8","nodes":[{"content":"SOAP and HTTP Endpoints","nodes":[{"pos":[0,23],"content":"SOAP and HTTP Endpoints","nodes":[{"content":"SOAP and HTTP Endpoints","pos":[0,23]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[114,137],"content":"SOAP and HTTP Endpoints","linkify":"SOAP and HTTP Endpoints","nodes":[{"content":"SOAP and HTTP Endpoints","pos":[0,23]}]},{"content":"This sample demonstrates how to implement an RPC-based service and expose it in the SOAP format and the \"Plain Old XML\" (POX) format using the WCF Web Programming model.","pos":[138,307]},{"content":"See the <bpt id=\"p1\">[</bpt>Basic HTTP Service<ept id=\"p1\">](../../../../docs/framework/wcf/samples/basic-http-service.md)</ept> sample for more details about the HTTP binding for the service.","pos":[308,462],"source":" See the [Basic HTTP Service](../../../../docs/framework/wcf/samples/basic-http-service.md) sample for more details about the HTTP binding for the service."},{"content":"This sample focuses on the details that pertain to exposing the same service over SOAP and HTTP using different bindings.","pos":[463,584]},{"pos":[593,605],"content":"Demonstrates","linkify":"Demonstrates","nodes":[{"content":"Demonstrates","pos":[0,12]}]},{"content":"Exposing an RPC service over SOAP and HTTP using WCF.","pos":[609,662]},{"pos":[671,681],"content":"Discussion","linkify":"Discussion","nodes":[{"content":"Discussion","pos":[0,10]}]},{"content":"This sample consists of two components: a Web Application project (Service) that contains a WCF service and a console application (Client) that invokes service operations using SOAP and HTTP bindings.","pos":[685,885]},{"content":"The WCF service exposes 2 operations –<ph id=\"ph1\">`GetData`</ph> and <ph id=\"ph2\">`PutData`</ph> – that echo the string that was passed as input.","pos":[892,1002],"source":"The WCF service exposes 2 operations –`GetData` and `PutData` – that echo the string that was passed as input."},{"content":"The service operations are annotated with <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebInvokeAttribute&gt;</ph>.","pos":[1003,1146],"source":" The service operations are annotated with <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute>."},{"content":"These attributes control the HTTP projection of these operations.","pos":[1147,1212]},{"content":"In addition, they are annotated with <ph id=\"ph1\">&lt;xref:System.ServiceModel.OperationContractAttribute&gt;</ph>, which enables them to be exposed over SOAP bindings.","pos":[1213,1357],"source":" In addition, they are annotated with <xref:System.ServiceModel.OperationContractAttribute>, which enables them to be exposed over SOAP bindings."},{"content":"The service’s <ph id=\"ph1\">`PutData`</ph> method throws a <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebFaultException&gt;</ph>, which gets sent back over HTTP using the HTTP status code and gets sent back over SOAP as a SOAP fault.","pos":[1358,1551],"source":" The service’s `PutData` method throws a <xref:System.ServiceModel.Web.WebFaultException>, which gets sent back over HTTP using the HTTP status code and gets sent back over SOAP as a SOAP fault."},{"content":"The Web.config file configures the WCF service with 3 endpoints:","pos":[1558,1622]},{"content":"The ~/service.svc/mex endpoint that exposes the service metadata for access by SOAP-based clients.","pos":[1632,1730]},{"content":"The ~/service.svc/http endpoint that enables clients to access the service using the HTTP binding.","pos":[1740,1838]},{"content":"The ~/service.svc/soap endpoint that allows the clients to access the service using the SOAP over HTTP binding.","pos":[1848,1959]},{"content":"The HTTP endpoint is configured with a &lt;<ph id=\"ph1\">`webHttp`</ph>&gt; standard endpoint which has <ph id=\"ph2\">`helpEnabled`</ph> set to <ph id=\"ph3\">`true`</ph>.","pos":[1966,2073],"source":"The HTTP endpoint is configured with a <`webHttp`> standard endpoint which has `helpEnabled` set to `true`."},{"content":"As a result, the service exposes an XHTML based help page at ~/service.svc/http/help that HTTP-based clients can use to access the service.","pos":[2074,2213]},{"pos":[2220,2399],"content":"The client project demonstrates accessing the service using a SOAP proxy (generated through <bpt id=\"p1\">**</bpt>Add Service Reference<ept id=\"p1\">**</ept>) and accessing the service using <ph id=\"ph1\">&lt;xref:System.Net.WebClient&gt;</ph>.","source":"The client project demonstrates accessing the service using a SOAP proxy (generated through **Add Service Reference**) and accessing the service using <xref:System.Net.WebClient>."},{"content":"The sample consists of a Web-hosted service and a console application.","pos":[2406,2476]},{"content":"As the console application runs, the client makes requests to the service and writes the pertinent information from the responses to the console window.","pos":[2477,2629]},{"pos":[2640,2657],"content":"To run the sample","linkify":"To run the sample","nodes":[{"content":"To run the sample","pos":[0,17]}]},{"content":"Open the solution for the SOAP and HTTP Endpoints Sample.","pos":[2667,2724]},{"content":"Press CTRL+SHIFT+B to build the solution.","pos":[2734,2775]},{"pos":[2785,2869],"content":"If it is not already open, press CTRL+W, S to open the <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> window.","source":"If it is not already open, press CTRL+W, S to open the **Solution Explorer** window."},{"content":"From the <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> window, right-click the <bpt id=\"p2\">**</bpt>Service<ept id=\"p2\">**</ept> project and place the cursor over the <bpt id=\"p3\">**</bpt>Debug<ept id=\"p3\">**</ept> context menu option so that the <bpt id=\"p4\">**</bpt>Start New Instance<ept id=\"p4\">**</ept> context menu appears.","pos":[2879,3070],"source":"From the **Solution Explorer** window, right-click the **Service** project and place the cursor over the **Debug** context menu option so that the **Start New Instance** context menu appears."},{"content":"Click <bpt id=\"p1\">**</bpt>Start New Instance<ept id=\"p1\">**</ept>.","pos":[3071,3100],"source":" Click **Start New Instance**."},{"content":"This launches the ASP.NET development server, which hosts the service.","pos":[3101,3171]},{"content":"From the Solution Explorer windows, right-click the Client project and place the cursor over the <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> context menu option so that the <bpt id=\"p2\">**</bpt>Start New Instance<ept id=\"p2\">**</ept> context menu appears.","pos":[3181,3364],"source":"From the Solution Explorer windows, right-click the Client project and place the cursor over the **Debug** context menu option so that the **Start New Instance** context menu appears."},{"content":"Click <bpt id=\"p1\">**</bpt>Start New Instance<ept id=\"p1\">**</ept>.","pos":[3365,3394],"source":" Click **Start New Instance**."},{"content":"The client console window appears and provides the URI of the running service and the URI of the HTML help page for the running service.","pos":[3404,3540]},{"content":"At any point in time you can view the HTML help page by typing the URI of the help page in a browser.","pos":[3541,3642]},{"content":"As the sample runs, the client writes the status of the current activity.","pos":[3652,3725]},{"content":"Press any key to terminate the client console application.","pos":[3735,3793]},{"content":"Press SHIFT+F5 to stop debugging the service.","pos":[3802,3847]},{"pos":[3857,3981],"content":"In the Windows Notification Area, right-click the ASP.NET development server icon and select <bpt id=\"p1\">**</bpt>Stop<ept id=\"p1\">**</ept> from the context menu.","source":"In the Windows Notification Area, right-click the ASP.NET development server icon and select **Stop** from the context menu."},{"pos":[3989,4121],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[4175,4485],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[4486,4536]}]}