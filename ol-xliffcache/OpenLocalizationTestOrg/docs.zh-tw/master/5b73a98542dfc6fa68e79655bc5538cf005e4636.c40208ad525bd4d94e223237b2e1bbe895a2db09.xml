{"content":"---\ntitle: \"Ilasm.exe (IL Assembler)\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"MSIL generators\"\n  - \"metadata, MSIL Assembler\"\n  - \"MSIL Assembler\"\n  - \"portable executable files, MSIL Assembler\"\n  - \"PE files, MSIL Assembler\"\n  - \"MSIL\"\n  - \"Ilasm.exe\"\n  - \"verifying MSIL performance\"\nms.assetid: 4ca3a4f0-4400-47ce-8936-8e219961c76f\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# Ilasm.exe (IL Assembler)\n\nThe IL Assembler generates a portable executable (PE) file from intermediate language (IL). (For more information on IL, see [Managed Execution Process](../../../docs/standard/managed-execution-process.md).) You can run the resulting executable, which contains IL and the required metadata, to determine whether the IL performs as expected.\n\nThis tool is automatically installed with Visual Studio. To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7). For more information, see [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md).\n\nAt the command prompt, type the following:\n\n## Syntax\n\n```console\nilasm [options] filename [[options]filename...]\n```\n\n## Parameters\n\n| Argument | Description |\n| -------- | ----------- |\n|`filename`|The name of the .il source file. This file consists of metadata declaration directives and symbolic IL instructions. Multiple source file arguments can be supplied to produce a single PE file with *Ilasm.exe*. **Note:** Ensure that the last line of code in the .il source file has either trailing white space or an end-of-line character.|\n\n| Option | Description |\n| ------ | ----------- |\n|**/32bitpreferred**|Creates a 32-bit-preferred image (PE32).|\n|**/alignment:** `integer`|Sets FileAlignment to the value specified by `integer` in the NT Optional header. If the .alignment IL directive is specified in the file, this option overrides it.|\n|**/appcontainer**|Produces a *.dll* or *.exe* file that runs in the Windows app container, as output.|\n|**/arm**|Specifies the Advanced RISC Machine (ARM) as the target processor.<br /><br /> If no image bitness is specified, the default is **/32bitpreferred**.|\n|**/base:** `integer`|Sets ImageBase to the value specified by `integer` in the NT Optional header. If the .imagebase IL directive is specified in the file, this option overrides it.|\n|**/clock**|Measures and reports the following compilation times in milliseconds for the specified .il source file:<br /><br /> **Total Run**: The total time spent performing all the specific operations that follow.<br /><br /> **Startup**: Loading and opening the file.<br /><br /> **Emitting MD**: Emitting metadata.<br /><br /> **Ref to Def Resolution**: Resolving references to definitions in the file.<br /><br /> **CEE File Generation**: Generating the file image in memory.<br /><br /> **PE File Writing**: Writing the image to a PE file.|\n|**/debug**[:**IMPL**&#124;**OPT**]|Includes debug information (local variable and argument names, and line numbers). Creates a PDB file.<br /><br /> **/debug** with no additional value disables JIT optimization and uses sequence points from the PDB file.<br /><br /> **IMPL** disables JIT optimization and uses implicit sequence points.<br /><br /> **OPT** enables JIT optimization and uses implicit sequence points.|\n|**/dll**|Produces a *.dll* file as output.|\n|**/enc:** `file`|Creates Edit-and-Continue deltas from the specified source file.<br /><br /> This argument is for academic use only and is not supported for commercial use.|\n|**/exe**|Produces an executable file as output. This is the default.|\n|**/flags:** `integer`|Sets ImageFlags to the value specified by `integer` in the common language runtime header. If the .corflags IL directive is specified in the file, this option overrides it. See CorHdr.h, COMIMAGE_FLAGS for a list of valid values for *integer*.|\n|**/fold**|Folds identical method bodies into one.|\n|/**highentropyva**|Produces an output executable that supports high-entropy address space layout randomization (ASLR). (Default for **/appcontainer**.)|\n|**/include:** `includePath`|Sets a path to search for files included with `#include`.|\n|**/itanium**|Specifies Intel Itanium as the target processor.<br /><br /> If no image bitness is specified, the default is **/pe64**.|\n|**/key:** `keyFile`|Compiles `filename` with a strong signature using the private key contained in `keyFile`.|\n|**/key:** @`keySource`|Compiles `filename` with a strong signature using the private key produced at `keySource`.|\n|**/listing**|Produces a listing file on the standard output. If you omit this option, no listing file is produced.<br /><br /> This parameter is not supported in the .NET Framework 2.0 or later.|\n|**/mdv:** `versionString`|Sets the metadata version string.|\n|**/msv:** `major`.`minor`|Sets the metadata stream version, where `major` and `minor` are integers.|\n|**/noautoinherit**|Disables default inheritance from <xref:System.Object> when no base class is specified.|\n|**/nocorstub**|Suppresses generation of the CORExeMain stub.|\n|**/nologo**|Suppresses the Microsoft startup banner display.|\n|**/output:** `file.ext`|Specifies the output file name and extension. By default, the output file name is the same as the name of the first source file. The default extension is *.exe*. If you specify the **/dll** option, the default extension is *.dll*. **Note:** Specifying **/output**:myfile.dll does not set the **/dll** option. If you do not specify **/dll**, the result will be an executable file named *myfile.dll*.|\n|**/optimize**|Optimizes long instructions to short. For example, `br` to `br.s`.|\n|**/pe64**|Creates a 64-bit image (PE32+).<br /><br /> If no target processor is specified, the default is `/itanium`.|\n|**/pdb**|Creates a PDB file without enabling debug information tracking.|\n|**/quiet**|Specifies quiet mode; does not report assembly progress.|\n|**/resource:** `file.res`|Includes the specified resource file in \\*.res format in the resulting *.exe* or *.dll* file. Only one .res file can be specified with the **/resource** option.|\n|**/ssver:** `int`.`int`|Sets the subsystem version number in the NT optional header. For **/appcontainer** and **/arm** the minimum version number is 6.02.|\n|**/stack:** `stackSize`|Sets the SizeOfStackReserve value in the NT Optional header to `stackSize`.|\n|**/stripreloc**|Specifies that no base relocations are needed.|\n|**/subsystem:** `integer`|Sets subsystem to the value specified by `integer` in the NT Optional header. If the .subsystem IL directive is specified in the file, this command overrides it. See winnt.h, IMAGE_SUBSYSTEM for a list of valid values for `integer`.|\n|**/x64**|Specifies a 64-bit AMD processor as the target processor.<br /><br /> If no image bitness is specified, the default is **/pe64**.|\n|**/?**|Displays command syntax and options for the tool.|\n\n> [!NOTE]\n> All options for *Ilasm.exe* are case-insensitive and recognized by the first three letters. For example, **/lis** is equivalent to **/listing** and **/res**:myresfile.res is equivalent to **/resource**:myresfile.res. Options that specify arguments accept either a colon (:) or an equal sign (=) as the separator between the option and the argument. For example, **/output**:*file.ext* is equivalent to **/output**=*file.ext*.\n\n## Remarks\n\nThe IL Assembler helps tool vendors design and implement IL generators. Using *Ilasm.exe*, tool and compiler developers can concentrate on IL and metadata generation without being concerned with emitting IL in the PE file format.\n\nSimilar to other compilers that target the runtime, such as C# and Visual Basic, *Ilasm.exe* does not produce intermediate object files and does not require a linking stage to form a PE file.\n\nThe IL Assembler can express all the existing metadata and IL features of the programming languages that target the runtime. This allows managed code written in any of these programming languages to be adequately expressed in IL Assembler and compiled with *Ilasm.exe*.\n\n> [!NOTE]\n> Compilation might fail if the last line of code in the .il source file does not have either trailing white space or an end-of-line character.\n\nYou can use *Ilasm.exe* in conjunction with its companion tool, [*Ildasm.exe*](../../../docs/framework/tools/ildasm-exe-il-disassembler.md). *Ildasm.exe* takes a PE file that contains IL code and creates a text file suitable as input to *Ilasm.exe*. This is useful, for example, when compiling code in a programming language that does not support all the runtime metadata attributes. After compiling the code and running the output through *Ildasm.exe*, the resulting IL text file can be hand-edited to add the missing attributes. You can then run this text file through the *Ilasm.exe* to produce a final executable file.\n\nYou can also use this technique to produce a single PE file from several PE files originally generated by different compilers.\n\n> [!NOTE]\n> Currently, you cannot use this technique with PE files that contain embedded native code (for example, PE files produced by Visual C++).\n\nTo make this combined use of *Ildasm.exe* and *Ilasm.exe* as accurate as possible, by default the assembler does not substitute short encodings for long ones you might have written in your IL sources (or that might be emitted by another compiler). Use the **/optimize** option to substitute short encodings wherever possible.\n\n> [!NOTE]\n> *Ildasm.exe* only operates on files on disk. It does not operate on files installed in the global assembly cache.\n\nFor more information about the grammar of IL, see the asmparse.grammar file in the [!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)].\n\n## Version Information\n\nStarting with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], you can attach a custom attribute to an interface implementation by using code similar to the following:\n\n```\n.class interface public abstract auto ansi IMyInterface\n{\n  .method public hidebysig newslot abstract virtual\n    instance int32 method1() cil managed\n  {\n  } // end of method IMyInterface::method1\n} // end of class IMyInterface\n.class public auto ansi beforefieldinit MyClass\n  extends [mscorlib]System.Object\n  implements IMyInterface\n  {\n    .interfaceimpl type IMyInterface\n    .custom instance void\n      [mscorlib]System.Diagnostics.DebuggerNonUserCodeAttribute::.ctor() = ( 01 00 00 00 )\n      â€¦\n```\n\nStarting with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], you can specify an arbitrary marshal BLOB (binary large object) by using its raw binary representation, as shown in the following code:\n\n```\n.method public hidebysig abstract virtual\n        instance void\n        marshal({ 38 01 02 FF })\n        Test(object A_1) cil managed\n```\n\nFor more information about the grammar of IL, see the asmparse.grammar file in the [!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)].\n\n## Examples\n\nThe following command assembles the IL file *myTestFile.il* and produces the executable *myTestFile.exe*.\n\n```console\nilasm myTestFile\n```\n\nThe following command assembles the IL file *myTestFile.il* and produces the *.dll* file *myTestFile.dll*.\n\n```console\nilasm myTestFile /dll\n```\n\nThe following command assembles the IL file *myTestFile.il* and produces the *.dll* file *myNewTestFile.dll*.\n\n```console\nilasm myTestFile /dll /output:myNewTestFile.dll\n```\n\nThe following code example shows an extremely simple application that displays \"Hello World!\" to the console. You can compile this code and then use the [*Ildasm.exe*](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) tool to generate an IL file.\n\n```csharp\nusing System;\n\npublic class Hello\n{\n    public static void Main(String[] args)\n    {\n        Console.WriteLine(\"Hello World!\");\n    }\n}\n```\n\nThe following IL code example corresponds to the previous C# code example. You can compile this code into an assembly using the IL Assembler tool. Both IL and C# code examples display \"Hello World!\" to the console.\n\n```\n// Metadata version: v2.0.50215\n.assembly extern mscorlib\n{\n  .publickeytoken = (B7 7A 5C 56 19 34 E0 89 )                         // .z\\V.4..\n  .ver 2:0:0:0\n}\n.assembly sample\n{\n  .custom instance void [mscorlib]System.Runtime.CompilerServices.CompilationRelaxationsAttribute::.ctor(int32) = ( 01 00 08 00 00 00 00 00 )\n  .hash algorithm 0x00008004\n  .ver 0:0:0:0\n}\n.module sample.exe\n// MVID: {A224F460-A049-4A03-9E71-80A36DBBBCD3}\n.imagebase 0x00400000\n.file alignment 0x00000200\n.stackreserve 0x00100000\n.subsystem 0x0003       // WINDOWS_CUI\n.corflags 0x00000001    //  ILONLY\n// Image base: 0x02F20000\n\n// =============== CLASS MEMBERS DECLARATION ===================\n\n.class public auto ansi beforefieldinit Hello\n       extends [mscorlib]System.Object\n{\n  .method public hidebysig static void  Main(string[] args) cil managed\n  {\n    .entrypoint\n    // Code size       13 (0xd)\n    .maxstack  8\n    IL_0000:  nop\n    IL_0001:  ldstr      \"Hello World!\"\n    IL_0006:  call       void [mscorlib]System.Console::WriteLine(string)\n    IL_000b:  nop\n    IL_000c:  ret\n  } // end of method Hello::Main\n\n  .method public hidebysig specialname rtspecialname\n          instance void  .ctor() cil managed\n  {\n    // Code size       7 (0x7)\n    .maxstack  8\n    IL_0000:  ldarg.0\n    IL_0001:  call       instance void [mscorlib]System.Object::.ctor()\n    IL_0006:  ret\n  } // end of method Hello::.ctor\n\n} // end of class Hello\n```\n\n## See also\n\n- [Tools](../../../docs/framework/tools/index.md)\n- [*Ildasm.exe* (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)\n- [Managed Execution Process](../../../docs/standard/managed-execution-process.md)\n- [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md)\n","nodes":[{"pos":[4,383],"embed":true,"restype":"x-metadata","content":"title: \"Ilasm.exe (IL Assembler)\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"MSIL generators\"\n  - \"metadata, MSIL Assembler\"\n  - \"MSIL Assembler\"\n  - \"portable executable files, MSIL Assembler\"\n  - \"PE files, MSIL Assembler\"\n  - \"MSIL\"\n  - \"Ilasm.exe\"\n  - \"verifying MSIL performance\"\nms.assetid: 4ca3a4f0-4400-47ce-8936-8e219961c76f\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"Ilasm.exe (IL Assembler)","nodes":[{"pos":[0,24],"content":"Ilasm.exe (IL Assembler)","nodes":[{"content":"Ilasm.exe (IL Assembler)","pos":[0,24]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[390,414],"content":"Ilasm.exe (IL Assembler)","linkify":"Ilasm.exe (IL Assembler)","nodes":[{"content":"Ilasm.exe (IL Assembler)","pos":[0,24]}]},{"content":"The IL Assembler generates a portable executable (PE) file from intermediate language (IL).","pos":[416,507]},{"content":"(For more information on IL, see <bpt id=\"p1\">[</bpt>Managed Execution Process<ept id=\"p1\">](../../../docs/standard/managed-execution-process.md)</ept>.) You can run the resulting executable, which contains IL and the required metadata, to determine whether the IL performs as expected.","pos":[508,756],"source":" (For more information on IL, see [Managed Execution Process](../../../docs/standard/managed-execution-process.md).) You can run the resulting executable, which contains IL and the required metadata, to determine whether the IL performs as expected."},{"content":"This tool is automatically installed with Visual Studio.","pos":[758,814]},{"content":"To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7).","pos":[815,934]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Command Prompts<ept id=\"p1\">](../../../docs/framework/tools/developer-command-prompt-for-vs.md)</ept>.","pos":[935,1045],"source":" For more information, see [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md)."},{"content":"At the command prompt, type the following:","pos":[1047,1089]},{"pos":[1094,1100],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1169,1179],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"Argument","pos":[1183,1191]},{"content":"Description","pos":[1194,1205]},{"content":"The name of the .il source file.","pos":[1247,1279]},{"content":"This file consists of metadata declaration directives and symbolic IL instructions.","pos":[1280,1363]},{"content":"Multiple source file arguments can be supplied to produce a single PE file with <bpt id=\"p1\">*</bpt>Ilasm.exe<ept id=\"p1\">*</ept>.","pos":[1364,1456],"source":" Multiple source file arguments can be supplied to produce a single PE file with *Ilasm.exe*."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Ensure that the last line of code in the .il source file has either trailing white space or an end-of-line character.","pos":[1457,1584],"source":"**Note:** Ensure that the last line of code in the .il source file has either trailing white space or an end-of-line character."},{"content":"Option","pos":[1589,1595]},{"content":"Description","pos":[1598,1609]},{"pos":[1638,1657],"content":"<bpt id=\"p1\">**</bpt>/32bitpreferred<ept id=\"p1\">**</ept>","source":"**/32bitpreferred**"},{"content":"Creates a 32-bit-preferred image (PE32).","pos":[1658,1698]},{"pos":[1701,1726],"content":"<bpt id=\"p1\">**</bpt>/alignment:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`integer`</ph>","source":"**/alignment:** `integer`"},{"content":"Sets FileAlignment to the value specified by <ph id=\"ph1\">`integer`</ph> in the NT Optional header.","pos":[1727,1808],"source":"Sets FileAlignment to the value specified by `integer` in the NT Optional header."},{"content":"If the .alignment IL directive is specified in the file, this option overrides it.","pos":[1809,1891]},{"pos":[1894,1911],"content":"<bpt id=\"p1\">**</bpt>/appcontainer<ept id=\"p1\">**</ept>","source":"**/appcontainer**"},{"pos":[1912,1995],"content":"Produces a <bpt id=\"p1\">*</bpt>.dll<ept id=\"p1\">*</ept> or <bpt id=\"p2\">*</bpt>.exe<ept id=\"p2\">*</ept> file that runs in the Windows app container, as output.","source":"Produces a *.dll* or *.exe* file that runs in the Windows app container, as output."},{"pos":[1998,2006],"content":"<bpt id=\"p1\">**</bpt>/arm<ept id=\"p1\">**</ept>","source":"**/arm**"},{"content":"Specifies the Advanced RISC Machine (ARM) as the target processor.","pos":[2007,2073]},{"content":"If no image bitness is specified, the default is <bpt id=\"p1\">**</bpt>/32bitpreferred<ept id=\"p1\">**</ept>.","pos":[2086,2155],"source":"If no image bitness is specified, the default is **/32bitpreferred**."},{"pos":[2158,2178],"content":"<bpt id=\"p1\">**</bpt>/base:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`integer`</ph>","source":"**/base:** `integer`"},{"content":"Sets ImageBase to the value specified by <ph id=\"ph1\">`integer`</ph> in the NT Optional header.","pos":[2179,2256],"source":"Sets ImageBase to the value specified by `integer` in the NT Optional header."},{"content":"If the .imagebase IL directive is specified in the file, this option overrides it.","pos":[2257,2339]},{"pos":[2342,2352],"content":"<bpt id=\"p1\">**</bpt>/clock<ept id=\"p1\">**</ept>","source":"**/clock**"},{"content":"Measures and reports the following compilation times in milliseconds for the specified .il source file:","pos":[2353,2456]},{"content":"<bpt id=\"p1\">**</bpt>Total Run<ept id=\"p1\">**</ept>: The total time spent performing all the specific operations that follow.","pos":[2469,2556],"source":"**Total Run**: The total time spent performing all the specific operations that follow."},{"content":"<bpt id=\"p1\">**</bpt>Startup<ept id=\"p1\">**</ept>: Loading and opening the file.","pos":[2569,2611],"source":"**Startup**: Loading and opening the file."},{"content":"<bpt id=\"p1\">**</bpt>Emitting MD<ept id=\"p1\">**</ept>: Emitting metadata.","pos":[2624,2659],"source":"**Emitting MD**: Emitting metadata."},{"content":"<bpt id=\"p1\">**</bpt>Ref to Def Resolution<ept id=\"p1\">**</ept>: Resolving references to definitions in the file.","pos":[2672,2747],"source":"**Ref to Def Resolution**: Resolving references to definitions in the file."},{"content":"<bpt id=\"p1\">**</bpt>CEE File Generation<ept id=\"p1\">**</ept>: Generating the file image in memory.","pos":[2760,2821],"source":"**CEE File Generation**: Generating the file image in memory."},{"content":"<bpt id=\"p1\">**</bpt>PE File Writing<ept id=\"p1\">**</ept>: Writing the image to a PE file.","pos":[2834,2886],"source":"**PE File Writing**: Writing the image to a PE file."},{"pos":[2889,2923],"content":"<bpt id=\"p1\">**</bpt>/debug<ept id=\"p1\">**</ept>[:<bpt id=\"p2\">**</bpt>IMPL<ept id=\"p2\">**</ept>&amp;#124;<bpt id=\"p3\">**</bpt>OPT<ept id=\"p3\">**</ept>]","source":"**/debug**[:**IMPL**&#124;**OPT**]"},{"content":"Includes debug information (local variable and argument names, and line numbers).","pos":[2924,3005]},{"content":"Creates a PDB file.","pos":[3006,3025]},{"content":"<bpt id=\"p1\">**</bpt>/debug<ept id=\"p1\">**</ept> with no additional value disables JIT optimization and uses sequence points from the PDB file.","pos":[3038,3143],"source":"**/debug** with no additional value disables JIT optimization and uses sequence points from the PDB file."},{"content":"<bpt id=\"p1\">**</bpt>IMPL<ept id=\"p1\">**</ept> disables JIT optimization and uses implicit sequence points.","pos":[3156,3225],"source":"**IMPL** disables JIT optimization and uses implicit sequence points."},{"content":"<bpt id=\"p1\">**</bpt>OPT<ept id=\"p1\">**</ept> enables JIT optimization and uses implicit sequence points.","pos":[3238,3305],"source":"**OPT** enables JIT optimization and uses implicit sequence points."},{"pos":[3308,3316],"content":"<bpt id=\"p1\">**</bpt>/dll<ept id=\"p1\">**</ept>","source":"**/dll**"},{"pos":[3317,3350],"content":"Produces a <bpt id=\"p1\">*</bpt>.dll<ept id=\"p1\">*</ept> file as output.","source":"Produces a *.dll* file as output."},{"pos":[3353,3369],"content":"<bpt id=\"p1\">**</bpt>/enc:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`file`</ph>","source":"**/enc:** `file`"},{"content":"Creates Edit-and-Continue deltas from the specified source file.","pos":[3370,3434]},{"content":"This argument is for academic use only and is not supported for commercial use.","pos":[3447,3526]},{"pos":[3529,3537],"content":"<bpt id=\"p1\">**</bpt>/exe<ept id=\"p1\">**</ept>","source":"**/exe**"},{"content":"Produces an executable file as output.","pos":[3538,3576]},{"content":"This is the default.","pos":[3577,3597]},{"pos":[3600,3621],"content":"<bpt id=\"p1\">**</bpt>/flags:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`integer`</ph>","source":"**/flags:** `integer`"},{"content":"Sets ImageFlags to the value specified by <ph id=\"ph1\">`integer`</ph> in the common language runtime header.","pos":[3622,3712],"source":"Sets ImageFlags to the value specified by `integer` in the common language runtime header."},{"content":"If the .corflags IL directive is specified in the file, this option overrides it.","pos":[3713,3794]},{"content":"See CorHdr.h, COMIMAGE_FLAGS for a list of valid values for <bpt id=\"p1\">*</bpt>integer<ept id=\"p1\">*</ept>.","pos":[3795,3865],"source":" See CorHdr.h, COMIMAGE_FLAGS for a list of valid values for *integer*."},{"pos":[3868,3877],"content":"<bpt id=\"p1\">**</bpt>/fold<ept id=\"p1\">**</ept>","source":"**/fold**"},{"content":"Folds identical method bodies into one.","pos":[3878,3917]},{"pos":[3920,3938],"content":"<ph id=\"ph1\">/</ph><bpt id=\"p1\">**</bpt>highentropyva<ept id=\"p1\">**</ept>","source":"/**highentropyva**"},{"content":"Produces an output executable that supports high-entropy address space layout randomization (ASLR).","pos":[3939,4038]},{"content":"(Default for <bpt id=\"p1\">**</bpt>/appcontainer<ept id=\"p1\">**</ept>.)","pos":[4039,4071],"source":" (Default for **/appcontainer**.)"},{"pos":[4074,4101],"content":"<bpt id=\"p1\">**</bpt>/include:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`includePath`</ph>","source":"**/include:** `includePath`"},{"pos":[4102,4159],"content":"Sets a path to search for files included with <ph id=\"ph1\">`#include`</ph>.","source":"Sets a path to search for files included with `#include`."},{"pos":[4162,4174],"content":"<bpt id=\"p1\">**</bpt>/itanium<ept id=\"p1\">**</ept>","source":"**/itanium**"},{"content":"Specifies Intel Itanium as the target processor.","pos":[4175,4223]},{"content":"If no image bitness is specified, the default is <bpt id=\"p1\">**</bpt>/pe64<ept id=\"p1\">**</ept>.","pos":[4236,4295],"source":"If no image bitness is specified, the default is **/pe64**."},{"pos":[4298,4317],"content":"<bpt id=\"p1\">**</bpt>/key:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`keyFile`</ph>","source":"**/key:** `keyFile`"},{"pos":[4318,4407],"content":"Compiles <ph id=\"ph1\">`filename`</ph> with a strong signature using the private key contained in <ph id=\"ph2\">`keyFile`</ph>.","source":"Compiles `filename` with a strong signature using the private key contained in `keyFile`."},{"pos":[4410,4432],"content":"<bpt id=\"p1\">**</bpt>/key:<ept id=\"p1\">**</ept><ph id=\"ph1\"> @</ph><ph id=\"ph2\">`keySource`</ph>","source":"**/key:** @`keySource`"},{"pos":[4433,4523],"content":"Compiles <ph id=\"ph1\">`filename`</ph> with a strong signature using the private key produced at <ph id=\"ph2\">`keySource`</ph>.","source":"Compiles `filename` with a strong signature using the private key produced at `keySource`."},{"pos":[4526,4538],"content":"<bpt id=\"p1\">**</bpt>/listing<ept id=\"p1\">**</ept>","source":"**/listing**"},{"content":"Produces a listing file on the standard output.","pos":[4539,4586]},{"content":"If you omit this option, no listing file is produced.","pos":[4587,4640]},{"content":"This parameter is not supported in the .NET Framework 2.0 or later.","pos":[4653,4720]},{"pos":[4723,4748],"content":"<bpt id=\"p1\">**</bpt>/mdv:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`versionString`</ph>","source":"**/mdv:** `versionString`"},{"content":"Sets the metadata version string.","pos":[4749,4782]},{"pos":[4785,4810],"content":"<bpt id=\"p1\">**</bpt>/msv:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`major`</ph>.<ph id=\"ph2\">`minor`</ph>","source":"**/msv:** `major`.`minor`"},{"pos":[4811,4884],"content":"Sets the metadata stream version, where <ph id=\"ph1\">`major`</ph> and <ph id=\"ph2\">`minor`</ph> are integers.","source":"Sets the metadata stream version, where `major` and `minor` are integers."},{"pos":[4887,4905],"content":"<bpt id=\"p1\">**</bpt>/noautoinherit<ept id=\"p1\">**</ept>","source":"**/noautoinherit**"},{"pos":[4906,4993],"content":"Disables default inheritance from <ph id=\"ph1\">&lt;xref:System.Object&gt;</ph> when no base class is specified.","source":"Disables default inheritance from <xref:System.Object> when no base class is specified."},{"pos":[4996,5010],"content":"<bpt id=\"p1\">**</bpt>/nocorstub<ept id=\"p1\">**</ept>","source":"**/nocorstub**"},{"content":"Suppresses generation of the CORExeMain stub.","pos":[5011,5056]},{"pos":[5059,5070],"content":"<bpt id=\"p1\">**</bpt>/nologo<ept id=\"p1\">**</ept>","source":"**/nologo**"},{"content":"Suppresses the Microsoft startup banner display.","pos":[5071,5119]},{"pos":[5122,5145],"content":"<bpt id=\"p1\">**</bpt>/output:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`file.ext`</ph>","source":"**/output:** `file.ext`"},{"content":"Specifies the output file name and extension.","pos":[5146,5191]},{"content":"By default, the output file name is the same as the name of the first source file.","pos":[5192,5274]},{"content":"The default extension is <bpt id=\"p1\">*</bpt>.exe<ept id=\"p1\">*</ept>.","pos":[5275,5307],"source":" The default extension is *.exe*."},{"content":"If you specify the <bpt id=\"p1\">**</bpt>/dll<ept id=\"p1\">**</ept> option, the default extension is <bpt id=\"p2\">*</bpt>.dll<ept id=\"p2\">*</ept>.","pos":[5308,5376],"source":" If you specify the **/dll** option, the default extension is *.dll*."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Specifying <bpt id=\"p2\">**</bpt>/output<ept id=\"p2\">**</ept>:myfile.dll does not set the <bpt id=\"p3\">**</bpt>/dll<ept id=\"p3\">**</ept> option.","pos":[5377,5454],"source":"**Note:** Specifying **/output**:myfile.dll does not set the **/dll** option."},{"content":"If you do not specify <bpt id=\"p1\">**</bpt>/dll<ept id=\"p1\">**</ept>, the result will be an executable file named <bpt id=\"p2\">*</bpt>myfile.dll<ept id=\"p2\">*</ept>.","pos":[5455,5544],"source":" If you do not specify **/dll**, the result will be an executable file named *myfile.dll*."},{"pos":[5547,5560],"content":"<bpt id=\"p1\">**</bpt>/optimize<ept id=\"p1\">**</ept>","source":"**/optimize**"},{"content":"Optimizes long instructions to short.","pos":[5561,5598]},{"content":"For example, <ph id=\"ph1\">`br`</ph> to <ph id=\"ph2\">`br.s`</ph>.","pos":[5599,5627],"source":" For example, `br` to `br.s`."},{"pos":[5630,5639],"content":"<bpt id=\"p1\">**</bpt>/pe64<ept id=\"p1\">**</ept>","source":"**/pe64**"},{"content":"Creates a 64-bit image (PE32+).","pos":[5640,5671]},{"content":"If no target processor is specified, the default is <ph id=\"ph1\">`/itanium`</ph>.","pos":[5684,5747],"source":"If no target processor is specified, the default is `/itanium`."},{"pos":[5750,5758],"content":"<bpt id=\"p1\">**</bpt>/pdb<ept id=\"p1\">**</ept>","source":"**/pdb**"},{"content":"Creates a PDB file without enabling debug information tracking.","pos":[5759,5822]},{"pos":[5825,5835],"content":"<bpt id=\"p1\">**</bpt>/quiet<ept id=\"p1\">**</ept>","source":"**/quiet**"},{"content":"Specifies quiet mode; does not report assembly progress.","pos":[5836,5892]},{"pos":[5895,5920],"content":"<bpt id=\"p1\">**</bpt>/resource:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`file.res`</ph>","source":"**/resource:** `file.res`"},{"content":"Includes the specified resource file in <ph id=\"ph1\">\\*</ph>.res format in the resulting <bpt id=\"p1\">*</bpt>.exe<ept id=\"p1\">*</ept> or <bpt id=\"p2\">*</bpt>.dll<ept id=\"p2\">*</ept> file.","pos":[5921,6014],"source":"Includes the specified resource file in \\*.res format in the resulting *.exe* or *.dll* file."},{"content":"Only one .res file can be specified with the <bpt id=\"p1\">**</bpt>/resource<ept id=\"p1\">**</ept> option.","pos":[6015,6081],"source":" Only one .res file can be specified with the **/resource** option."},{"pos":[6084,6107],"content":"<bpt id=\"p1\">**</bpt>/ssver:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`int`</ph>.<ph id=\"ph2\">`int`</ph>","source":"**/ssver:** `int`.`int`"},{"content":"Sets the subsystem version number in the NT optional header.","pos":[6108,6168]},{"content":"For <bpt id=\"p1\">**</bpt>/appcontainer<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>/arm<ept id=\"p2\">**</ept> the minimum version number is 6.02.","pos":[6169,6239],"source":" For **/appcontainer** and **/arm** the minimum version number is 6.02."},{"pos":[6242,6265],"content":"<bpt id=\"p1\">**</bpt>/stack:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`stackSize`</ph>","source":"**/stack:** `stackSize`"},{"pos":[6266,6341],"content":"Sets the SizeOfStackReserve value in the NT Optional header to <ph id=\"ph1\">`stackSize`</ph>.","source":"Sets the SizeOfStackReserve value in the NT Optional header to `stackSize`."},{"pos":[6344,6359],"content":"<bpt id=\"p1\">**</bpt>/stripreloc<ept id=\"p1\">**</ept>","source":"**/stripreloc**"},{"content":"Specifies that no base relocations are needed.","pos":[6360,6406]},{"pos":[6409,6434],"content":"<bpt id=\"p1\">**</bpt>/subsystem:<ept id=\"p1\">**</ept> <ph id=\"ph1\">`integer`</ph>","source":"**/subsystem:** `integer`"},{"content":"Sets subsystem to the value specified by <ph id=\"ph1\">`integer`</ph> in the NT Optional header.","pos":[6435,6512],"source":"Sets subsystem to the value specified by `integer` in the NT Optional header."},{"content":"If the .subsystem IL directive is specified in the file, this command overrides it.","pos":[6513,6596]},{"content":"See winnt.h, IMAGE_SUBSYSTEM for a list of valid values for <ph id=\"ph1\">`integer`</ph>.","pos":[6597,6667],"source":" See winnt.h, IMAGE_SUBSYSTEM for a list of valid values for `integer`."},{"pos":[6670,6678],"content":"<bpt id=\"p1\">**</bpt>/x64<ept id=\"p1\">**</ept>","source":"**/x64**"},{"content":"Specifies a 64-bit AMD processor as the target processor.","pos":[6679,6736]},{"content":"If no image bitness is specified, the default is <bpt id=\"p1\">**</bpt>/pe64<ept id=\"p1\">**</ept>.","pos":[6749,6808],"source":"If no image bitness is specified, the default is **/pe64**."},{"pos":[6811,6817],"content":"<bpt id=\"p1\">**</bpt>/?<ept id=\"p1\">**</ept>","source":"**/?**"},{"content":"Displays command syntax and options for the tool.","pos":[6818,6867]},{"pos":[6872,7307],"content":"[!NOTE]\nAll options for *Ilasm.exe* are case-insensitive and recognized by the first three letters. For example, **/lis** is equivalent to **/listing** and **/res**:myresfile.res is equivalent to **/resource**:myresfile.res. Options that specify arguments accept either a colon (:) or an equal sign (=) as the separator between the option and the argument. For example, **/output**:*file.ext* is equivalent to **/output**=*file.ext*.","leadings":["","> "],"nodes":[{"content":"All options for *Ilasm.exe* are case-insensitive and recognized by the first three letters. For example, **/lis** is equivalent to **/listing** and **/res**:myresfile.res is equivalent to **/resource**:myresfile.res. Options that specify arguments accept either a colon (:) or an equal sign (=) as the separator between the option and the argument. For example, **/output**:*file.ext* is equivalent to **/output**=*file.ext*.","pos":[8,433],"nodes":[{"content":"All options for <bpt id=\"p1\">*</bpt>Ilasm.exe<ept id=\"p1\">*</ept> are case-insensitive and recognized by the first three letters.","pos":[0,91],"source":"All options for *Ilasm.exe* are case-insensitive and recognized by the first three letters."},{"content":"For example, <bpt id=\"p1\">**</bpt>/lis<ept id=\"p1\">**</ept> is equivalent to <bpt id=\"p2\">**</bpt>/listing<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>/res<ept id=\"p3\">**</ept>:myresfile.res is equivalent to <bpt id=\"p4\">**</bpt>/resource<ept id=\"p4\">**</ept>:myresfile.res. Options that specify arguments accept either a colon (:) or an equal sign (=) as the separator between the option and the argument.","pos":[92,348],"source":" For example, **/lis** is equivalent to **/listing** and **/res**:myresfile.res is equivalent to **/resource**:myresfile.res. Options that specify arguments accept either a colon (:) or an equal sign (=) as the separator between the option and the argument."},{"content":"For example, <bpt id=\"p1\">**</bpt>/output<ept id=\"p1\">**</ept>:<bpt id=\"p2\">*</bpt>file.ext<ept id=\"p2\">*</ept> is equivalent to <bpt id=\"p3\">**</bpt>/output<ept id=\"p3\">**</ept><ph id=\"ph1\">=</ph><bpt id=\"p4\">*</bpt>file.ext<ept id=\"p4\">*</ept>.","pos":[349,425],"source":" For example, **/output**:*file.ext* is equivalent to **/output**=*file.ext*."}]}]},{"pos":[7312,7319],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The IL Assembler helps tool vendors design and implement IL generators.","pos":[7321,7392]},{"content":"Using <bpt id=\"p1\">*</bpt>Ilasm.exe<ept id=\"p1\">*</ept>, tool and compiler developers can concentrate on IL and metadata generation without being concerned with emitting IL in the PE file format.","pos":[7393,7550],"source":" Using *Ilasm.exe*, tool and compiler developers can concentrate on IL and metadata generation without being concerned with emitting IL in the PE file format."},{"pos":[7552,7743],"content":"Similar to other compilers that target the runtime, such as C# and Visual Basic, <bpt id=\"p1\">*</bpt>Ilasm.exe<ept id=\"p1\">*</ept> does not produce intermediate object files and does not require a linking stage to form a PE file.","source":"Similar to other compilers that target the runtime, such as C# and Visual Basic, *Ilasm.exe* does not produce intermediate object files and does not require a linking stage to form a PE file."},{"content":"The IL Assembler can express all the existing metadata and IL features of the programming languages that target the runtime.","pos":[7745,7869]},{"content":"This allows managed code written in any of these programming languages to be adequately expressed in IL Assembler and compiled with <bpt id=\"p1\">*</bpt>Ilasm.exe<ept id=\"p1\">*</ept>.","pos":[7870,8014],"source":" This allows managed code written in any of these programming languages to be adequately expressed in IL Assembler and compiled with *Ilasm.exe*."},{"pos":[8018,8169],"content":"[!NOTE]\nCompilation might fail if the last line of code in the .il source file does not have either trailing white space or an end-of-line character.","leadings":["","> "],"nodes":[{"content":"Compilation might fail if the last line of code in the .il source file does not have either trailing white space or an end-of-line character.","pos":[8,149]}]},{"content":"You can use <bpt id=\"p1\">*</bpt>Ilasm.exe<ept id=\"p1\">*</ept> in conjunction with its companion tool, <bpt id=\"p2\">[</bpt><bpt id=\"p3\">*</bpt>Ildasm.exe<ept id=\"p3\">*</ept><ept id=\"p2\">](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)</ept>.","pos":[8171,8311],"source":"You can use *Ilasm.exe* in conjunction with its companion tool, [*Ildasm.exe*](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)."},{"content":"<bpt id=\"p1\">*</bpt>Ildasm.exe<ept id=\"p1\">*</ept> takes a PE file that contains IL code and creates a text file suitable as input to <bpt id=\"p2\">*</bpt>Ilasm.exe<ept id=\"p2\">*</ept>.","pos":[8312,8420],"source":"*Ildasm.exe* takes a PE file that contains IL code and creates a text file suitable as input to *Ilasm.exe*."},{"content":"This is useful, for example, when compiling code in a programming language that does not support all the runtime metadata attributes.","pos":[8421,8554]},{"content":"After compiling the code and running the output through <bpt id=\"p1\">*</bpt>Ildasm.exe<ept id=\"p1\">*</ept>, the resulting IL text file can be hand-edited to add the missing attributes.","pos":[8555,8701],"source":" After compiling the code and running the output through *Ildasm.exe*, the resulting IL text file can be hand-edited to add the missing attributes."},{"content":"You can then run this text file through the <bpt id=\"p1\">*</bpt>Ilasm.exe<ept id=\"p1\">*</ept> to produce a final executable file.","pos":[8702,8793],"source":" You can then run this text file through the *Ilasm.exe* to produce a final executable file."},{"content":"You can also use this technique to produce a single PE file from several PE files originally generated by different compilers.","pos":[8795,8921]},{"pos":[8925,9071],"content":"[!NOTE]\nCurrently, you cannot use this technique with PE files that contain embedded native code (for example, PE files produced by Visual C++).","leadings":["","> "],"nodes":[{"content":"Currently, you cannot use this technique with PE files that contain embedded native code (for example, PE files produced by Visual C++).","pos":[8,144]}]},{"content":"To make this combined use of <bpt id=\"p1\">*</bpt>Ildasm.exe<ept id=\"p1\">*</ept> and <bpt id=\"p2\">*</bpt>Ilasm.exe<ept id=\"p2\">*</ept> as accurate as possible, by default the assembler does not substitute short encodings for long ones you might have written in your IL sources (or that might be emitted by another compiler).","pos":[9073,9320],"source":"To make this combined use of *Ildasm.exe* and *Ilasm.exe* as accurate as possible, by default the assembler does not substitute short encodings for long ones you might have written in your IL sources (or that might be emitted by another compiler)."},{"content":"Use the <bpt id=\"p1\">**</bpt>/optimize<ept id=\"p1\">**</ept> option to substitute short encodings wherever possible.","pos":[9321,9398],"source":" Use the **/optimize** option to substitute short encodings wherever possible."},{"pos":[9402,9525],"content":"[!NOTE]\n*Ildasm.exe* only operates on files on disk. It does not operate on files installed in the global assembly cache.","leadings":["","> "],"nodes":[{"content":"*Ildasm.exe* only operates on files on disk. It does not operate on files installed in the global assembly cache.","pos":[8,121],"nodes":[{"content":"<bpt id=\"p1\">*</bpt>Ildasm.exe<ept id=\"p1\">*</ept> only operates on files on disk.","pos":[0,44],"source":"*Ildasm.exe* only operates on files on disk."},{"content":"It does not operate on files installed in the global assembly cache.","pos":[45,113]}]}]},{"pos":[9527,9669],"content":"For more information about the grammar of IL, see the asmparse.grammar file in the <ph id=\"ph1\">[!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)]</ph>.","source":"For more information about the grammar of IL, see the asmparse.grammar file in the [!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)]."},{"pos":[9674,9693],"content":"Version Information","linkify":"Version Information","nodes":[{"content":"Version Information","pos":[0,19]}]},{"pos":[9695,9871],"content":"Starting with the <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph>, you can attach a custom attribute to an interface implementation by using code similar to the following:","source":"Starting with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], you can attach a custom attribute to an interface implementation by using code similar to the following:"},{"pos":[10385,10592],"content":"Starting with the <ph id=\"ph1\">[!INCLUDE[net_v45](../../../includes/net-v45-md.md)]</ph>, you can specify an arbitrary marshal BLOB (binary large object) by using its raw binary representation, as shown in the following code:","source":"Starting with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], you can specify an arbitrary marshal BLOB (binary large object) by using its raw binary representation, as shown in the following code:"},{"pos":[10737,10879],"content":"For more information about the grammar of IL, see the asmparse.grammar file in the <ph id=\"ph1\">[!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)]</ph>.","source":"For more information about the grammar of IL, see the asmparse.grammar file in the [!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)]."},{"pos":[10884,10892],"content":"Examples","linkify":"Examples","nodes":[{"content":"Examples","pos":[0,8]}]},{"pos":[10894,10999],"content":"The following command assembles the IL file <bpt id=\"p1\">*</bpt>myTestFile.il<ept id=\"p1\">*</ept> and produces the executable <bpt id=\"p2\">*</bpt>myTestFile.exe<ept id=\"p2\">*</ept>.","source":"The following command assembles the IL file *myTestFile.il* and produces the executable *myTestFile.exe*."},{"pos":[11034,11140],"content":"The following command assembles the IL file <bpt id=\"p1\">*</bpt>myTestFile.il<ept id=\"p1\">*</ept> and produces the <bpt id=\"p2\">*</bpt>.dll<ept id=\"p2\">*</ept> file <bpt id=\"p3\">*</bpt>myTestFile.dll<ept id=\"p3\">*</ept>.","source":"The following command assembles the IL file *myTestFile.il* and produces the *.dll* file *myTestFile.dll*."},{"pos":[11180,11289],"content":"The following command assembles the IL file <bpt id=\"p1\">*</bpt>myTestFile.il<ept id=\"p1\">*</ept> and produces the <bpt id=\"p2\">*</bpt>.dll<ept id=\"p2\">*</ept> file <bpt id=\"p3\">*</bpt>myNewTestFile.dll<ept id=\"p3\">*</ept>.","source":"The following command assembles the IL file *myTestFile.il* and produces the *.dll* file *myNewTestFile.dll*."},{"content":"The following code example shows an extremely simple application that displays \"Hello World!\"","pos":[11355,11448]},{"content":"to the console.","pos":[11449,11464]},{"content":"You can compile this code and then use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">*</bpt>Ildasm.exe<ept id=\"p2\">*</ept><ept id=\"p1\">](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)</ept> tool to generate an IL file.","pos":[11465,11612],"source":" You can compile this code and then use the [*Ildasm.exe*](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) tool to generate an IL file."},{"content":"The following IL code example corresponds to the previous C# code example.","pos":[11765,11839]},{"content":"You can compile this code into an assembly using the IL Assembler tool.","pos":[11840,11911]},{"content":"Both IL and C# code examples display \"Hello World!\"","pos":[11912,11963]},{"content":"to the console.","pos":[11964,11979]},{"pos":[13419,13427],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[13431,13478],"content":"<bpt id=\"p1\">[</bpt>Tools<ept id=\"p1\">](../../../docs/framework/tools/index.md)</ept>","source":"[Tools](../../../docs/framework/tools/index.md)"},{"pos":[13481,13574],"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">*</bpt>Ildasm.exe<ept id=\"p2\">*</ept> (IL Disassembler)<ept id=\"p1\">](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)</ept>","source":"[*Ildasm.exe* (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md)"},{"pos":[13577,13657],"content":"<bpt id=\"p1\">[</bpt>Managed Execution Process<ept id=\"p1\">](../../../docs/standard/managed-execution-process.md)</ept>","source":"[Managed Execution Process](../../../docs/standard/managed-execution-process.md)"},{"pos":[13660,13743],"content":"<bpt id=\"p1\">[</bpt>Command Prompts<ept id=\"p1\">](../../../docs/framework/tools/developer-command-prompt-for-vs.md)</ept>","source":"[Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md)"}]}