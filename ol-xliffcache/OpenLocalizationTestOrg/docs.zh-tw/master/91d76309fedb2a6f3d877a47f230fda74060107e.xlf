<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="await.md" source-language="en-US" target-language="zh-tw">
    <header>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-0a91294" tool-company="Microsoft" />
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">91d76309fedb2a6f3d877a47f230fda74060107e</xliffext:olfilehash>
      <xliffext:olfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">docs\csharp\language-reference\keywords\await.md</xliffext:olfilepath>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">vbcs_med-ht</xliffext:oltranslationpriority>
      <xliffext:oltranslationtype xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">HT</xliffext:oltranslationtype>
      <xliffext:olskeletonhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">3659d911378218329380810c349beb2a133e7ca6</xliffext:olskeletonhash>
      <xliffext:olxliffhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">dd7a7d19c61f6564a99871420344cb59e8986c19</xliffext:olxliffhash>
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve" restype="x-metadata">
          <source>await - C# Reference</source>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>await (C# Reference)</source>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">`await`</ph> operator is applied to a task in an asynchronous method to insert a suspension point in the execution of the method until the awaited task completes.</source>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>The task represents ongoing work.</source>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source><ph id="ph1">`await`</ph> can only be used in an asynchronous method modified by the <bpt id="p1">[</bpt>async<ept id="p1">](../../../csharp/language-reference/keywords/async.md)</ept> keyword.</source>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Such a method, defined by using the <ph id="ph1">`async`</ph> modifier and usually containing one or more <ph id="ph2">`await`</ph> expressions, is referred to as an <bpt id="p1">*</bpt>async method<ept id="p1">*</ept>.</source>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">`async`</ph> and <ph id="ph2">`await`</ph> keywords were introduced in C# 5.</source>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>For an introduction to async programming, see <bpt id="p1">[</bpt>Asynchronous Programming with async and await<ept id="p1">](../../../csharp/programming-guide/concepts/async/index.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>The task to which the <ph id="ph1">`await`</ph> operator is applied typically is returned by a call to a method that implements the <bpt id="p1">[</bpt>Task-Based Asynchronous Pattern<ept id="p1">](../../../standard/asynchronous-programming-patterns/task-based-asynchronous-pattern-tap.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>They include methods that return <ph id="ph1">&lt;xref:System.Threading.Tasks.Task&gt;</ph>, <ph id="ph2">&lt;xref:System.Threading.Tasks.Task%601&gt;</ph>, <ph id="ph3">&lt;xref:System.Threading.Tasks.ValueTask&gt;</ph>, and <ph id="ph4">&lt;xref:System.Threading.Tasks.ValueTask%601&gt;</ph> objects.</source>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>In the following example, the <ph id="ph1">&lt;xref:System.Net.Http.HttpClient.GetByteArrayAsync%2A?displayProperty=nameWithType&gt;</ph> method returns a <ph id="ph2">`Task&lt;byte[]&gt;`</ph>.</source>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>The task is a promise to produce the actual byte array when the task is complete.</source>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">`await`</ph> operator suspends execution until the work of the <ph id="ph2">&lt;xref:System.Net.Http.HttpClient.GetByteArrayAsync%2A&gt;</ph> method is complete.</source>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>In the meantime, control is returned to the caller of <ph id="ph1">`GetPageSizeAsync`</ph>.</source>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>When the task finishes execution, the <ph id="ph1">`await`</ph> expression evaluates to a byte array.</source>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>For the complete example, see <bpt id="p1">[</bpt>Walkthrough: Accessing the Web by Using Async and Await<ept id="p1">](../../../csharp/programming-guide/concepts/async/walkthrough-accessing-the-web-by-using-async-and-await.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>You can download the sample from <bpt id="p1">[</bpt>Developer Code Samples<ept id="p1">](https://code.msdn.microsoft.com/Async-Sample-Accessing-the-9c10497f)</ept> on the Microsoft website.</source>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>The example is in the AsyncWalkthrough_HttpClient project.</source>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>As shown in the previous example, if <ph id="ph1">`await`</ph> is applied to the result of a method call that returns a <ph id="ph2">`Task&lt;TResult&gt;`</ph>, then the type of the <ph id="ph3">`await`</ph> expression is <ph id="ph4">`TResult`</ph>.</source>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>If <ph id="ph1">`await`</ph> is applied to the result of a method call that returns a <ph id="ph2">`Task`</ph>, then the type of the <ph id="ph3">`await`</ph> expression is <ph id="ph4">`void`</ph>.</source>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>The following example illustrates the difference.</source>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>An <ph id="ph1">`await`</ph> expression does not block the thread on which it is executing.</source>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>Instead, it causes the compiler to sign up the rest of the async method as a continuation on the awaited task.</source>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Control then returns to the caller of the async method.</source>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>When the task completes, it invokes its continuation, and execution of the async method resumes where it left off.</source>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>An <ph id="ph1">`await`</ph> expression can occur only in the body of its enclosing method, lambda expression, or anonymous method, which must be marked with an <ph id="ph2">`async`</ph> modifier.</source>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>The term <bpt id="p1">*</bpt>await<ept id="p1">*</ept> serves as a keyword only in that context.</source>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>Elsewhere, it is interpreted as an identifier.</source>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Within the method, lambda expression, or anonymous method, an <ph id="ph1">`await`</ph> expression cannot occur in the body of a synchronous function, in a query expression, in the block of a <bpt id="p1">[</bpt>lock statement<ept id="p1">](../../../csharp/language-reference/keywords/lock-statement.md)</ept>, or in an <bpt id="p2">[</bpt>unsafe<ept id="p2">](../../../csharp/language-reference/keywords/unsafe.md)</ept> context.</source>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Exceptions</source>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Most async methods return a <ph id="ph1">&lt;xref:System.Threading.Tasks.Task&gt;</ph> or <ph id="ph2">&lt;xref:System.Threading.Tasks.Task%601&gt;</ph>.</source>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>The properties of the returned task carry information about its status and history, such as whether the task is complete, whether the async method caused an exception or was canceled, and what the final result is.</source>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">`await`</ph> operator accesses those properties by calling methods on the object returned by the <ph id="ph2">`GetAwaiter`</ph> method.</source>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>If you await a task-returning async method that causes an exception, the <ph id="ph1">`await`</ph> operator rethrows the exception.</source>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>If you await a task-returning async method that's canceled, the <ph id="ph1">`await`</ph> operator rethrows an <ph id="ph2">&lt;xref:System.OperationCanceledException&gt;</ph>.</source>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>A single task that is in a faulted state can reflect multiple exceptions.</source>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>For example, the task might be the result of a call to <ph id="ph1">&lt;xref:System.Threading.Tasks.Task.WhenAll%2A?displayProperty=nameWithType&gt;</ph>.</source>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>When you await such a task, the await operation rethrows only one of the exceptions.</source>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>However, you can't predict which of the exceptions is rethrown.</source>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>For examples of error handling in async methods, see <bpt id="p1">[</bpt>try-catch<ept id="p1">](../../../csharp/language-reference/keywords/try-catch.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Example</source>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>The following example returns the total number of characters in the pages whose URLs are passed to it as command line arguments.</source>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>The example calls the <ph id="ph1">`GetPageLengthsAsync`</ph> method, which is marked with the <ph id="ph2">`async`</ph> keyword.</source>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">`GetPageLengthsAsync`</ph> method in turn uses the <ph id="ph2">`await`</ph> keyword to await calls to the <ph id="ph3">&lt;xref:System.Net.Http.HttpClient.GetStringAsync%2A?displayProperty=nameWithType&gt;</ph> method.</source>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>The preceding example uses C# 7.1, which supports the <bpt id="p1">[</bpt><ph id="ph1">`async`</ph> <ph id="ph2">`Main`</ph> method<ept id="p1">](../../programming-guide/main-and-command-args/index.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>Because earlier C# versions don't support application entry points that return <ph id="ph1">&lt;xref:System.Threading.Tasks.Task&gt;</ph> or <ph id="ph2">&lt;xref:System.Threading.Tasks.Task%601&gt;</ph>, you cannot apply the <ph id="ph3">`async`</ph> modifier to the <ph id="ph4">`Main`</ph> method and await the <ph id="ph5">`GetPageLengthsAsync`</ph> method call.</source>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>In that case, you can ensure that the <ph id="ph1">`Main`</ph> method waits for the async operation to complete by retrieving the value of the <ph id="ph2">&lt;xref:System.Threading.Tasks.Task%601.Result?displayProperty=nameWithType&gt;</ph> property.</source>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>For tasks that do not return a value, you can call the <ph id="ph1">&lt;xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType&gt;</ph> method.</source>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>For information about how to select the language version, see <bpt id="p1">[</bpt>Select the C# language version<ept id="p1">](../configure-language-version.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>See also</source>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Asynchronous Programming with async and await<ept id="p1">](../../../csharp/programming-guide/concepts/async/index.md)</ept></source>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Walkthrough: Accessing the Web by Using Async and Await<ept id="p1">](../../../csharp/programming-guide/concepts/async/walkthrough-accessing-the-web-by-using-async-and-await.md)</ept></source>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>async<ept id="p1">](../../../csharp/language-reference/keywords/async.md)</ept></source>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>