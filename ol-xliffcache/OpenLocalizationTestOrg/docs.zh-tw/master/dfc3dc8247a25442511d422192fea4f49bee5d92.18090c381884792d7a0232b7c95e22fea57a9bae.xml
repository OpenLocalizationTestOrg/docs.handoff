{"content":"---\ntitle: \"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer\"\nms.date: \"03/30/2017\"\nms.assetid: 21093451-0bc3-4b1a-9a9d-05f7f71fa7d0\n---\n# How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer\nServices and client applications that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.  \n  \n> [!NOTE]\n>  Pre-generated serialization code can only be used in client applications and not in services.  \n  \n The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application. Svcutil.exe generates serialization code for all data types used in service contracts in the compiled application assembly that can be serialized using the <xref:System.Xml.Serialization.XmlSerializer>. Service and operation contracts that use the <xref:System.Xml.Serialization.XmlSerializer> are marked with the <xref:System.ServiceModel.XmlSerializerFormatAttribute>.  \n  \n### To generate XmlSerializer serialization code  \n  \n1.  Compile your service or client code into one or more assemblies.  \n  \n2.  Open an SDK command prompt.  \n  \n3.  At the command prompt, launch the Svcutil.exe tool using the following format.  \n  \n    ```  \n    svcutil.exe /t:xmlSerializer  <assemblyPath>*  \n    ```  \n  \n     The `assemblyPath` argument specifies the path to an assembly that contains service contract types. Svcutil.exe generates serialization code for all data types used in service contracts in the compiled application assembly that can be serialized using the <xref:System.Xml.Serialization.XmlSerializer>.  \n  \n     Svcutil.exe can only generate C# serialization code. One source code file is generated for each input assembly. You cannot use the **/language** switch to change the language of the generated code.  \n  \n     To specify the path to dependent assemblies, use the **/reference** option.  \n  \n4.  Make the generated serialization code available to your application by using one of the following options:  \n  \n    1.  Compile the generated serialization code into a separate assembly with the name [*original assembly*].XmlSerializers.dll (for example, MyApp.XmlSerializers.dll). Your application must be able to load the assembly, which must be signed with the same key as the original assembly. If you recompile the original assembly, you must regenerate the serialization assembly.  \n  \n    2.  Compile the generated serialization code into a separate assembly and use the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute> on the service contract that uses the <xref:System.ServiceModel.XmlSerializerFormatAttribute>. Set the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.AssemblyName%2A> or <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.CodeBase%2A> properties to point to the compiled serialization assembly.  \n  \n    3.  Compile the generated serialization code into your application assembly and add the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute> to the service contract that uses the <xref:System.ServiceModel.XmlSerializerFormatAttribute>. Do not set the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.AssemblyName%2A> or <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.CodeBase%2A> properties. The default serialization assembly is assumed to be the current assembly.  \n  \n### To generate XmlSerializer serialization code in Visual Studio  \n  \n1.  Create the WCF service and client projects in Visual Studio. Then, add a service reference to the client project.  \n  \n2.  Add an <xref:System.ServiceModel.XmlSerializerFormatAttribute> to the service contract in the *reference.cs* file in the client app project under **serviceReference** -> **reference.svcmap**. Note that you need to show all files in **Solution Explorer** to see these files.  \n  \n3.  Build the client app.  \n  \n4.  Use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to create a pre-generated serializer *.cs* file by using the command:  \n  \n    ```  \n    svcutil.exe /t:xmlSerializer  <assemblyPath>*  \n    ```  \n  \n     The assemblyPath argument specifies the path to the WCF client assembly.  \n  \n     Such as:  \n  \n    ```  \n    svcutil.exe /t:xmlSerializer wcfclient.exe  \n    ```  \n  \n     The *WCFClient.XmlSerializers.dll.cs* file will be generated.  \n  \n5.  Compile the pre-generated serialization assembly.  \n  \n     Based on the example in the previous step, the compile command would be the following:  \n  \n    ```  \n    csc /r:wcfclient.exe /out:WCFClient.XmlSerializers.dll /t:library WCFClient.XmlSerializers.dll.cs  \n    ```  \n  \n     Make sure the generated *WCFClient.XmlSerializers.dll* is in the same directory as the client app, which is *WCFClient.exe* in this case.  \n  \n6.  Run the client app as usual. The pre-generated serialization assembly will be used.  \n  \n## Example  \n The following command generates serialization types for `XmlSerializer` types that any service contracts in the assembly use.  \n  \n```  \nsvcutil /t:xmlserializer myContractLibrary.exe  \n```  \n  \n## See also\n\n- [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)\n","nodes":[{"pos":[4,167],"embed":true,"restype":"x-metadata","content":"title: \"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer\"\nms.date: \"03/30/2017\"\nms.assetid: 21093451-0bc3-4b1a-9a9d-05f7f71fa7d0","nodes":[{"content":"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer","nodes":[{"pos":[0,83],"content":"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer","nodes":[{"content":"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer","pos":[0,83]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[174,257],"content":"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer","linkify":"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer","nodes":[{"content":"How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer","pos":[0,83]}]},{"pos":[258,508],"content":"Services and client applications that use data types that are serializable using the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.","source":"Services and client applications that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance."},{"pos":[516,620],"content":"[!NOTE]\n Pre-generated serialization code can only be used in client applications and not in services.","leadings":["","> "],"nodes":[{"content":"Pre-generated serialization code can only be used in client applications and not in services.","pos":[9,102]}]},{"content":"The <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.","pos":[627,916],"source":"The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application."},{"content":"Svcutil.exe generates serialization code for all data types used in service contracts in the compiled application assembly that can be serialized using the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph>.","pos":[917,1119],"source":" Svcutil.exe generates serialization code for all data types used in service contracts in the compiled application assembly that can be serialized using the <xref:System.Xml.Serialization.XmlSerializer>."},{"content":"Service and operation contracts that use the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph> are marked with the <ph id=\"ph2\">&lt;xref:System.ServiceModel.XmlSerializerFormatAttribute&gt;</ph>.","pos":[1120,1287],"source":" Service and operation contracts that use the <xref:System.Xml.Serialization.XmlSerializer> are marked with the <xref:System.ServiceModel.XmlSerializerFormatAttribute>."},{"pos":[1297,1341],"content":"To generate XmlSerializer serialization code","linkify":"To generate XmlSerializer serialization code","nodes":[{"content":"To generate XmlSerializer serialization code","pos":[0,44]}]},{"content":"Compile your service or client code into one or more assemblies.","pos":[1351,1415]},{"content":"Open an SDK command prompt.","pos":[1425,1452]},{"content":"At the command prompt, launch the Svcutil.exe tool using the following format.","pos":[1462,1540]},{"content":"The <ph id=\"ph1\">`assemblyPath`</ph> argument specifies the path to an assembly that contains service contract types.","pos":[1626,1725],"source":"The `assemblyPath` argument specifies the path to an assembly that contains service contract types."},{"content":"Svcutil.exe generates serialization code for all data types used in service contracts in the compiled application assembly that can be serialized using the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializer&gt;</ph>.","pos":[1726,1928],"source":" Svcutil.exe generates serialization code for all data types used in service contracts in the compiled application assembly that can be serialized using the <xref:System.Xml.Serialization.XmlSerializer>."},{"content":"Svcutil.exe can only generate C# serialization code.","pos":[1939,1991]},{"content":"One source code file is generated for each input assembly.","pos":[1992,2050]},{"content":"You cannot use the <bpt id=\"p1\">**</bpt>/language<ept id=\"p1\">**</ept> switch to change the language of the generated code.","pos":[2051,2136],"source":" You cannot use the **/language** switch to change the language of the generated code."},{"pos":[2147,2222],"content":"To specify the path to dependent assemblies, use the <bpt id=\"p1\">**</bpt>/reference<ept id=\"p1\">**</ept> option.","source":"To specify the path to dependent assemblies, use the **/reference** option."},{"content":"Make the generated serialization code available to your application by using one of the following options:","pos":[2232,2338]},{"content":"Compile the generated serialization code into a separate assembly with the name [<bpt id=\"p1\">*</bpt>original assembly<ept id=\"p1\">*</ept>].XmlSerializers.dll (for example, MyApp.XmlSerializers.dll).","pos":[2352,2513],"source":"Compile the generated serialization code into a separate assembly with the name [*original assembly*].XmlSerializers.dll (for example, MyApp.XmlSerializers.dll)."},{"content":"Your application must be able to load the assembly, which must be signed with the same key as the original assembly.","pos":[2514,2630]},{"content":"If you recompile the original assembly, you must regenerate the serialization assembly.","pos":[2631,2718]},{"content":"Compile the generated serialization code into a separate assembly and use the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute&gt;</ph> on the service contract that uses the <ph id=\"ph2\">&lt;xref:System.ServiceModel.XmlSerializerFormatAttribute&gt;</ph>.","pos":[2732,2967],"source":"Compile the generated serialization code into a separate assembly and use the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute> on the service contract that uses the <xref:System.ServiceModel.XmlSerializerFormatAttribute>."},{"content":"Set the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.AssemblyName%2A&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.CodeBase%2A&gt;</ph> properties to point to the compiled serialization assembly.","pos":[2968,3192],"source":" Set the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.AssemblyName%2A> or <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.CodeBase%2A> properties to point to the compiled serialization assembly."},{"content":"Compile the generated serialization code into your application assembly and add the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute&gt;</ph> to the service contract that uses the <ph id=\"ph2\">&lt;xref:System.ServiceModel.XmlSerializerFormatAttribute&gt;</ph>.","pos":[3206,3447],"source":"Compile the generated serialization code into your application assembly and add the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute> to the service contract that uses the <xref:System.ServiceModel.XmlSerializerFormatAttribute>."},{"content":"Do not set the <ph id=\"ph1\">&lt;xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.AssemblyName%2A&gt;</ph> or <ph id=\"ph2\">&lt;xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.CodeBase%2A&gt;</ph> properties.","pos":[3448,3631],"source":" Do not set the <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.AssemblyName%2A> or <xref:System.Xml.Serialization.XmlSerializerAssemblyAttribute.CodeBase%2A> properties."},{"content":"The default serialization assembly is assumed to be the current assembly.","pos":[3632,3705]},{"pos":[3715,3776],"content":"To generate XmlSerializer serialization code in Visual Studio","linkify":"To generate XmlSerializer serialization code in Visual Studio","nodes":[{"content":"To generate XmlSerializer serialization code in Visual Studio","pos":[0,61]}]},{"content":"Create the WCF service and client projects in Visual Studio.","pos":[3786,3846]},{"content":"Then, add a service reference to the client project.","pos":[3847,3899]},{"content":"Add an <ph id=\"ph1\">&lt;xref:System.ServiceModel.XmlSerializerFormatAttribute&gt;</ph> to the service contract in the <bpt id=\"p1\">*</bpt>reference.cs<ept id=\"p1\">*</ept> file in the client app project under <bpt id=\"p2\">**</bpt>serviceReference<ept id=\"p2\">**</ept><ph id=\"ph2\"> -&gt; </ph><bpt id=\"p3\">**</bpt>reference.svcmap<ept id=\"p3\">**</ept>.","pos":[3909,4100],"source":"Add an <xref:System.ServiceModel.XmlSerializerFormatAttribute> to the service contract in the *reference.cs* file in the client app project under **serviceReference** -> **reference.svcmap**."},{"content":"Note that you need to show all files in <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept> to see these files.","pos":[4101,4182],"source":" Note that you need to show all files in **Solution Explorer** to see these files."},{"content":"Build the client app.","pos":[4192,4213]},{"pos":[4223,4433],"content":"Use the <bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept> to create a pre-generated serializer <bpt id=\"p2\">*</bpt>.cs<ept id=\"p2\">*</ept> file by using the command:","source":"Use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to create a pre-generated serializer *.cs* file by using the command:"},{"content":"The assemblyPath argument specifies the path to the WCF client assembly.","pos":[4519,4591]},{"content":"Such as:","pos":[4602,4610]},{"pos":[4693,4754],"content":"The <bpt id=\"p1\">*</bpt>WCFClient.XmlSerializers.dll.cs<ept id=\"p1\">*</ept> file will be generated.","source":"The *WCFClient.XmlSerializers.dll.cs* file will be generated."},{"content":"Compile the pre-generated serialization assembly.","pos":[4764,4813]},{"content":"Based on the example in the previous step, the compile command would be the following:","pos":[4824,4910]},{"pos":[5048,5185],"content":"Make sure the generated <bpt id=\"p1\">*</bpt>WCFClient.XmlSerializers.dll<ept id=\"p1\">*</ept> is in the same directory as the client app, which is <bpt id=\"p2\">*</bpt>WCFClient.exe<ept id=\"p2\">*</ept> in this case.","source":"Make sure the generated *WCFClient.XmlSerializers.dll* is in the same directory as the client app, which is *WCFClient.exe* in this case."},{"content":"Run the client app as usual.","pos":[5195,5223]},{"content":"The pre-generated serialization assembly will be used.","pos":[5224,5278]},{"pos":[5287,5294],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[5298,5423],"content":"The following command generates serialization types for <ph id=\"ph1\">`XmlSerializer`</ph> types that any service contracts in the assembly use.","source":"The following command generates serialization types for `XmlSerializer` types that any service contracts in the assembly use."},{"pos":[5496,5504],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5508,5640],"content":"<bpt id=\"p1\">[</bpt>ServiceModel Metadata Utility Tool (Svcutil.exe)<ept id=\"p1\">](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</ept>","source":"[ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)"}]}