{"content":"---\ntitle: dotnet-migrate command - .NET Core CLI | Microsoft Docs\ndescription: The dotnet-migrate command migrates a project and all of its dependencies. \nkeywords: dotnet-migrate, CLI, CLI command, .NET Core\nauthor: blackdwarf\nms.author: mairaw\nms.date: 03/15/2017\nms.topic: article\nms.prod: .net-core\nms.technology: dotnet-cli\nms.devlang: dotnet\nms.assetid: 0da07253-5ae1-42e9-9455-bffee9950952\n---\n\n# dotnet-migrate\n\n## Name\n\n`dotnet-migrate` - Migrates a Preview 2 .NET Core project to a .NET Core SDK 1.0 project.\n\n## Synopsis\n\n`dotnet migrate [<SOLUTION_FILE|PROJECT_DIR>] [-t|--template-file] [-v|--sdk-package-version] [-x|--xproj-file] [-s|--skip-project-references] [-r|--report-file] [--format-report-file-json] [--skip-backup] [-h|--help]`\n\n## Description\n\nThe `dotnet migrate` command migrates a valid Preview 2 *project.json*-based project to a valid .NET Core SDK 1.0 *csproj* project. \n\nBy default, the command migrates the root project and any project references that the root project contains. This behavior is disabled using the `--skip-project-references` option at runtime. \n\nMigration is performed on the following:\n\n* A single project by specifying the *project.json* file to migrate.\n* All of the directories specified in the *global.json* file by passing in a path to the *global.json* file.\n* A *solution.sln* file, where it migrates the projects referenced in the solution.\n* On all sub-directories of the given directory recursively.\n\nThe `dotnet migrate` command keeps the migrated *project.json* file inside a `backup` directory, which it creates if the directory doesn't exist. This behavior is overriden using the `--skip-backup` option. \n\nBy default, the migration operation outputs the state of the migration process to standard output (STDOUT). If you use the `--report-file <REPORT_FILE>` option, the output is saved to the file specify. \n\nThe `dotnet migrate` command only supports valid Preview 2 *project.json*-based projects. This means that you cannot use it to migrate DNX or Preview 1 *project.json*-based projects directly to MSBuild/csproj projects. You first need to manually migrate the project to a Preview 2 *project.json*-based project and then use the `dotnet migrate` command to migrate the project.\n\n## Arguments\n\n`PROJECT_JSON/GLOBAL_JSON/SOLUTION_FILE/PROJECT_DIR`\n\nThe path to one of the following:\n\n* a *project.json* file to migrate.\n* a *global.json* file, it will migrate the folders specified in *global.json*.\n* a *solution.sln* file, it will migrate the projects referenced in the solution.\n* a directory to migrate, it will recursively search for *project.json* files to migrate.\n\nDefaults to current directory if nothing is specified.\n\n## Options\n\n`-h|--help`\n\nPrints out a short help for the command.  \n\n`-t|--template-file <TEMPLATE_FILE>`\n\nTemplate csproj file to use for migration. By default, the same template as the one dropped by `dotnet new console` is used. \n\n`-v|--sdk-package-version <VERSION>`\n\nThe version of the sdk package that's referenced in the migrated app. The default is the version of the SDK in `dotnet new`.\n\n`-x|--xproj-file <FILE>`\n\nThe path to the xproj file to use. Required when there is more than one xproj in a project directory.\n\n`-s|--skip-project-references [Debug|Release]`\n\nSkip migrating project references. By default, project references are migrated recursively.\n\n`-r|--report-file <REPORT_FILE>`\n\nOutput migration report to a file in addition to the console.\n\n`--format-report-file-json <REPORT_FILE>`\n\nOutput migration report file as JSON rather than user messages.\n\n`--skip-backup`\n\nSkip moving *project.json*, *global.json*, and *\\*.xproj* to a `backup` directory after successful migration.\n\n## Examples\n\nMigrate a project in the current directory and all of its project-to-project dependencies:\n\n`dotnet migrate`\n\nMigrate all projects that *global.json* file includes:\n\n`dotnet migrate path/to/global.json`\n\nMigrate only the current project and no project-to-project (P2P) dependencies. Also, use a specific SDK version:\n\n`dotnet migrate -s -v 1.0.0-preview4`","nodes":[{"pos":[11,66],"content":"dotnet-migrate command - .NET Core CLI | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"dotnet-migrate command - .NET Core CLI | Microsoft Docs","pos":[0,55]}]},{"pos":[80,154],"content":"The dotnet-migrate command migrates a project and all of its dependencies.","needQuote":true,"needEscape":true,"nodes":[{"content":"The dotnet-migrate command migrates a project and all of its dependencies.","pos":[0,74]}]},{"pos":[166,209],"content":"dotnet-migrate, CLI, CLI command, .NET Core","needQuote":true,"needEscape":true,"nodes":[{"content":"dotnet-migrate, CLI, CLI command, .NET Core","pos":[0,43]}]},{"pos":[405,419],"content":"dotnet-migrate","linkify":"dotnet-migrate","nodes":[{"content":"dotnet-migrate","pos":[0,14]}]},{"pos":[424,428],"content":"Name","linkify":"Name","nodes":[{"content":"Name","pos":[0,4]}]},{"pos":[430,519],"content":"<ph id=\"ph1\">`dotnet-migrate`</ph> - Migrates a Preview 2 .NET Core project to a .NET Core SDK 1.0 project.","source":"`dotnet-migrate` - Migrates a Preview 2 .NET Core project to a .NET Core SDK 1.0 project."},{"pos":[524,532],"content":"Synopsis","linkify":"Synopsis","nodes":[{"content":"Synopsis","pos":[0,8]}]},{"pos":[757,768],"content":"Description","linkify":"Description","nodes":[{"content":"Description","pos":[0,11]}]},{"pos":[770,901],"content":"The <ph id=\"ph1\">`dotnet migrate`</ph> command migrates a valid Preview 2 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based project to a valid .NET Core SDK 1.0 <bpt id=\"p2\">*</bpt>csproj<ept id=\"p2\">*</ept> project.","source":"The `dotnet migrate` command migrates a valid Preview 2 *project.json*-based project to a valid .NET Core SDK 1.0 *csproj* project."},{"content":"By default, the command migrates the root project and any project references that the root project contains.","pos":[904,1012]},{"content":"This behavior is disabled using the <ph id=\"ph1\">`--skip-project-references`</ph> option at runtime.","pos":[1013,1095],"source":" This behavior is disabled using the `--skip-project-references` option at runtime."},{"content":"Migration is performed on the following:","pos":[1098,1138]},{"pos":[1142,1208],"content":"A single project by specifying the <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> file to migrate.","source":"A single project by specifying the *project.json* file to migrate."},{"pos":[1211,1317],"content":"All of the directories specified in the <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file by passing in a path to the <bpt id=\"p2\">*</bpt>global.json<ept id=\"p2\">*</ept> file.","source":"All of the directories specified in the *global.json* file by passing in a path to the *global.json* file."},{"pos":[1320,1401],"content":"A <bpt id=\"p1\">*</bpt>solution.sln<ept id=\"p1\">*</ept> file, where it migrates the projects referenced in the solution.","source":"A *solution.sln* file, where it migrates the projects referenced in the solution."},{"content":"On all sub-directories of the given directory recursively.","pos":[1404,1462]},{"content":"The <ph id=\"ph1\">`dotnet migrate`</ph> command keeps the migrated <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> file inside a <ph id=\"ph2\">`backup`</ph> directory, which it creates if the directory doesn't exist.","pos":[1464,1609],"source":"The `dotnet migrate` command keeps the migrated *project.json* file inside a `backup` directory, which it creates if the directory doesn't exist."},{"content":"This behavior is overriden using the <ph id=\"ph1\">`--skip-backup`</ph> option.","pos":[1610,1670],"source":" This behavior is overriden using the `--skip-backup` option."},{"content":"By default, the migration operation outputs the state of the migration process to standard output (STDOUT).","pos":[1673,1780]},{"content":"If you use the <ph id=\"ph1\">`--report-file &lt;REPORT_FILE&gt;`</ph> option, the output is saved to the file specify.","pos":[1781,1874],"source":" If you use the `--report-file <REPORT_FILE>` option, the output is saved to the file specify."},{"content":"The <ph id=\"ph1\">`dotnet migrate`</ph> command only supports valid Preview 2 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based projects.","pos":[1877,1966],"source":"The `dotnet migrate` command only supports valid Preview 2 *project.json*-based projects."},{"content":"This means that you cannot use it to migrate DNX or Preview 1 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based projects directly to MSBuild/csproj projects.","pos":[1967,2095],"source":" This means that you cannot use it to migrate DNX or Preview 1 *project.json*-based projects directly to MSBuild/csproj projects."},{"content":"You first need to manually migrate the project to a Preview 2 <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>-based project and then use the <ph id=\"ph1\">`dotnet migrate`</ph> command to migrate the project.","pos":[2096,2252],"source":" You first need to manually migrate the project to a Preview 2 *project.json*-based project and then use the `dotnet migrate` command to migrate the project."},{"pos":[2257,2266],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"The path to one of the following:","pos":[2322,2355]},{"pos":[2359,2392],"content":"a <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> file to migrate.","source":"a *project.json* file to migrate."},{"pos":[2395,2472],"content":"a <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file, it will migrate the folders specified in <bpt id=\"p2\">*</bpt>global.json<ept id=\"p2\">*</ept>.","source":"a *global.json* file, it will migrate the folders specified in *global.json*."},{"pos":[2475,2554],"content":"a <bpt id=\"p1\">*</bpt>solution.sln<ept id=\"p1\">*</ept> file, it will migrate the projects referenced in the solution.","source":"a *solution.sln* file, it will migrate the projects referenced in the solution."},{"pos":[2557,2644],"content":"a directory to migrate, it will recursively search for <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept> files to migrate.","source":"a directory to migrate, it will recursively search for *project.json* files to migrate."},{"content":"Defaults to current directory if nothing is specified.","pos":[2646,2700]},{"pos":[2705,2712],"content":"Options","linkify":"Options","nodes":[{"content":"Options","pos":[0,7]}]},{"content":"Prints out a short help for the command.","pos":[2727,2767]},{"content":"Template csproj file to use for migration.","pos":[2809,2851]},{"content":"By default, the same template as the one dropped by <ph id=\"ph1\">`dotnet new console`</ph> is used.","pos":[2852,2933],"source":" By default, the same template as the one dropped by `dotnet new console` is used."},{"content":"The version of the sdk package that's referenced in the migrated app.","pos":[2974,3043]},{"content":"The default is the version of the SDK in <ph id=\"ph1\">`dotnet new`</ph>.","pos":[3044,3098],"source":" The default is the version of the SDK in `dotnet new`."},{"content":"The path to the xproj file to use.","pos":[3126,3160]},{"content":"Required when there is more than one xproj in a project directory.","pos":[3161,3227]},{"content":"Skip migrating project references.","pos":[3277,3311]},{"content":"By default, project references are migrated recursively.","pos":[3312,3368]},{"content":"Output migration report to a file in addition to the console.","pos":[3404,3465]},{"content":"Output migration report file as JSON rather than user messages.","pos":[3510,3573]},{"pos":[3592,3701],"content":"Skip moving <bpt id=\"p1\">*</bpt>project.json<ept id=\"p1\">*</ept>, <bpt id=\"p2\">*</bpt>global.json<ept id=\"p2\">*</ept>, and <bpt id=\"p3\">*</bpt><ph id=\"ph1\">\\*</ph>.xproj<ept id=\"p3\">*</ept> to a <ph id=\"ph2\">`backup`</ph> directory after successful migration.","source":"Skip moving *project.json*, *global.json*, and *\\*.xproj* to a `backup` directory after successful migration."},{"pos":[3706,3714],"content":"Examples","linkify":"Examples","nodes":[{"content":"Examples","pos":[0,8]}]},{"content":"Migrate a project in the current directory and all of its project-to-project dependencies:","pos":[3716,3806]},{"pos":[3826,3880],"content":"Migrate all projects that <bpt id=\"p1\">*</bpt>global.json<ept id=\"p1\">*</ept> file includes:","source":"Migrate all projects that *global.json* file includes:"},{"content":"Migrate only the current project and no project-to-project (P2P) dependencies.","pos":[3920,3998]},{"content":"Also, use a specific SDK version:","pos":[3999,4032]}]}