{"content":"---\ntitle: \"<serviceTokenResolver>\"\nms.date: \"03/30/2017\"\nms.assetid: 6e9001e1-e064-4f47-84b2-46225c177746\nauthor: \"BrucePerlerMS\"\n---\n# \\<serviceTokenResolver>\nRegisters the service token resolver that is used by handlers in the token handler collection. The service token resolver is used to resolve the encryption token on incoming tokens and messages.  \n  \n \\<system.identityModel>  \n\\<identityConfiguration>  \n\\<securityTokenHandlers>  \n\\<securityTokenHandlerConfiguration>  \n\\<serviceTokenResolver>  \n  \n## Syntax  \n  \n```xml  \n<system.identityModel>  \n  <identityConfiguration>  \n    <securityTokenHandlers>  \n      <securityTokenHandlerConfiguration>  \n        <serviceTokenResolver type=xs:string>  \n        </serviceTokenResolver>  \n      </securityTokenHandlerConfiguration>  \n    </securityTokenHandlers>  \n  </identityConfiguration>  \n</system.identityModel>  \n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|type|Specifies the type of the service token resolver. Either the <xref:System.IdentityModel.Selectors.SecurityTokenResolver> type or a type that derives from the <xref:System.IdentityModel.Selectors.SecurityTokenResolver> class. For more information about how to specify the `type` attribute, see [Custom Type References]. Required.|  \n  \n### Child Elements  \n None  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)|Provides configuration for a collection of security token handlers.|  \n  \n## Remarks  \n The service token resolver can be used to resolve the encryption token on incoming tokens and messages. It is used to retrieve the key that should be used to decrypt incoming tokens. You must specify the `type` attribute. The type specified can be either <xref:System.IdentityModel.Selectors.SecurityTokenResolver> or a custom type that derives from the <xref:System.IdentityModel.Selectors.SecurityTokenResolver> class.  \n  \n Some token handlers allow you to specify service token resolver settings in configuration. Settings on individual token handlers override those specified on the security token handler collection.  \n  \n> [!NOTE]\n>  Specifying the `<serviceTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility. Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element.  \n  \n## Example  \n  \n```xml  \n<serviceTokenResolver type=\"MyNamespace.CustomTokenResolver, MyAssembly\" />  \n```\n","nodes":[{"pos":[4,130],"embed":true,"restype":"x-metadata","content":"title: \"<serviceTokenResolver>\"\nms.date: \"03/30/2017\"\nms.assetid: 6e9001e1-e064-4f47-84b2-46225c177746\nauthor: \"BrucePerlerMS\"","nodes":[{"content":"<serviceTokenResolver>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[137,160],"content":"\\<serviceTokenResolver>","linkify":"\\<serviceTokenResolver>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceTokenResolver&gt;","pos":[0,23],"source":"\\<serviceTokenResolver>"}]},{"content":"Registers the service token resolver that is used by handlers in the token handler collection.","pos":[161,255]},{"content":"The service token resolver is used to resolve the encryption token on incoming tokens and messages.","pos":[256,355]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.identityModel&gt;","pos":[362,385],"source":"\\<system.identityModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>identityConfiguration&gt;","pos":[388,412],"source":"\\<identityConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>securityTokenHandlers&gt;","pos":[415,439],"source":"\\<securityTokenHandlers>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>securityTokenHandlerConfiguration&gt;","pos":[442,478],"source":"\\<securityTokenHandlerConfiguration>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceTokenResolver&gt;","pos":[481,504],"source":"\\<serviceTokenResolver>"},{"pos":[513,519],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[886,909],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[913,993]},{"pos":[1003,1013],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[1020,1029]},{"content":"Description","pos":[1030,1041]},{"content":"type","pos":[1084,1088]},{"content":"Specifies the type of the service token resolver.","pos":[1089,1138]},{"content":"Either the <ph id=\"ph1\">&lt;xref:System.IdentityModel.Selectors.SecurityTokenResolver&gt;</ph> type or a type that derives from the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Selectors.SecurityTokenResolver&gt;</ph> class.","pos":[1139,1313],"source":" Either the <xref:System.IdentityModel.Selectors.SecurityTokenResolver> type or a type that derives from the <xref:System.IdentityModel.Selectors.SecurityTokenResolver> class."},{"content":"For more information about how to specify the <ph id=\"ph1\">`type`</ph> attribute, see [Custom Type References].","pos":[1314,1407],"source":" For more information about how to specify the `type` attribute, see [Custom Type References]."},{"content":"Required.","pos":[1408,1417]},{"pos":[1428,1442],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None","pos":[1446,1450]},{"pos":[1460,1475],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1482,1489]},{"content":"Description","pos":[1490,1501]},{"pos":[1542,1703],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>securityTokenHandlerConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)</ept>","source":"[\\<securityTokenHandlerConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md)"},{"content":"Provides configuration for a collection of security token handlers.","pos":[1704,1771]},{"pos":[1781,1788],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The service token resolver can be used to resolve the encryption token on incoming tokens and messages.","pos":[1792,1895]},{"content":"It is used to retrieve the key that should be used to decrypt incoming tokens.","pos":[1896,1974]},{"content":"You must specify the <ph id=\"ph1\">`type`</ph> attribute.","pos":[1975,2013],"source":" You must specify the `type` attribute."},{"content":"The type specified can be either <ph id=\"ph1\">&lt;xref:System.IdentityModel.Selectors.SecurityTokenResolver&gt;</ph> or a custom type that derives from the <ph id=\"ph2\">&lt;xref:System.IdentityModel.Selectors.SecurityTokenResolver&gt;</ph> class.","pos":[2014,2212],"source":" The type specified can be either <xref:System.IdentityModel.Selectors.SecurityTokenResolver> or a custom type that derives from the <xref:System.IdentityModel.Selectors.SecurityTokenResolver> class."},{"content":"Some token handlers allow you to specify service token resolver settings in configuration.","pos":[2219,2309]},{"content":"Settings on individual token handlers override those specified on the security token handler collection.","pos":[2310,2414]},{"pos":[2422,2843],"content":"[!NOTE]\n Specifying the `<serviceTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility. Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element.","leadings":["","> "],"nodes":[{"content":"Specifying the `<serviceTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility. Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element.","pos":[9,419],"nodes":[{"content":"Specifying the <ph id=\"ph1\">`&lt;serviceTokenResolver&gt;`</ph> element as a child element of the <bpt id=\"p1\">[</bpt><ph id=\"ph2\">\\&lt;</ph>identityConfiguration&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)</ept> element has been deprecated, but is still supported for backward compatibility.","pos":[0,291],"source":"Specifying the `<serviceTokenResolver>` element as a child element of the [\\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element has been deprecated, but is still supported for backward compatibility."},{"content":"Settings on the <ph id=\"ph1\">`&lt;securityTokenHandlerConfiguration&gt;`</ph> element override those on the <ph id=\"ph2\">`&lt;identityConfiguration&gt;`</ph> element.","pos":[292,410],"source":" Settings on the `<securityTokenHandlerConfiguration>` element override those on the `<identityConfiguration>` element."}]}]},{"pos":[2852,2859],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]}]}