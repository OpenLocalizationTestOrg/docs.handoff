{"content":"---\ntitle: \"<serviceAuthorization> element\"\nms.date: \"03/30/2017\"\nms.assetid: 18cddad5-ddcb-4839-a0ac-1d6f6ab783ca\n---\n# \\<serviceAuthorization> element\nSpecifies settings that authorize access to service operations  \n  \n \\<system.ServiceModel>  \n\\<behaviors>  \n\\<serviceBehaviors>  \n\\<behavior>  \n\\<serviceAuthorization>  \n  \n## Syntax  \n  \n```xml  \n<serviceAuthorization impersonateCallerForAllOperations=\"Boolean\"\n                      principalPermissionMode=\"None/UseWindowsGroups/UseAspNetRoles/Custom\"\n                      roleProviderName=\"String\"\n                      serviceAuthorizationManagerType=\"String\">\n  <authorizationPolicies>\n    <add policyType=\"String\" />\n  </authorizationPolicies>\n</serviceAuthorization>\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|impersonateCallerForAllOperations|A Boolean value that specifies if all the operations in the service impersonate the caller. The default is `false`.<br /><br /> When a specific service operation impersonates the caller, the thread context is switched to the caller context before executing the specified service.|  \n|principalPermissionMode|Sets the principal used to carry out operations on the server. Values include the following:<br /><br /> -   None<br />-   UseWindowsGroups<br />-   UseAspNetRoles<br />-   Custom<br /><br /> The default value is UseWindowsGroups. The value is of type <xref:System.ServiceModel.Description.PrincipalPermissionMode>. For more information on using this attribute, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).|  \n|roleProviderName|A string that specifies the name of the role provider, which provides role information for a Windows Communication Foundation (WCF) application. The default is an empty string.|  \n|ServiceAuthorizationManagerType|A string containing the type of the service authorization manager. For more information, see <xref:System.ServiceModel.ServiceAuthorizationManager>.|  \n  \n### Child Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|authorizationPolicies|Contains a collection of authorization policy types, which can be added using the `add` keyword. Each authorization policy contains a single required `policyType` attribute that is a string. The attribute specifies an authorization policy, which enables transformation of one set of input claims into another set of claims. Access control can be granted or denied based on that. For more information, see <xref:System.ServiceModel.Configuration.AuthorizationPolicyTypeElement>.|  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|[\\<behavior>](../../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-endpointbehaviors.md)|Contains a collection of settings for the behavior of a service.|  \n  \n## Remarks  \n This section contains elements affecting authorization, custom role providers, and impersonation.  \n  \n The `principalPermissionMode` attribute specifies the groups of users to use when authorizing use of a protected method. The default value is `UseWindowsGroups` and specifies that Windows groups, such as \"Administrators\" or \"Users,\" are searched for an identity trying to access a resource. You can also specify `UseAspNetRoles` to use a custom role provider that is configured under the \\<system.web> element, as shown in the following code.  \n  \n```xml  \n<system.web>\n  <membership defaultProvider=\"SqlProvider\"\n              userIsOnlineTimeWindow=\"15\">\n    <providers>\n      <clear />\n      <add name=\"SqlProvider\"\n           type=\"System.Web.Security.SqlMembershipProvider\"\n           connectionStringName=\"SqlConn\"\n           applicationName=\"MembershipProvider\"\n           enablePasswordRetrieval=\"false\"\n           enablePasswordReset=\"false\"\n           requiresQuestionAndAnswer=\"false\"\n           requiresUniqueEmail=\"true\"\n           passwordFormat=\"Hashed\" />\n    </providers>\n  </membership>\n  <!-- Other configuration code not shown. -->\n</system.web>\n```  \n  \n The following code shows the `roleProviderName` used with the `principalPermissionMode` attribute.  \n  \n```xml  \n<behaviors>\n  <behavior name=\"ServiceBehaviour\">\n    <serviceAuthorization principalPermissionMode =\"UseAspNetRoles\"\n                          roleProviderName =\"SqlProvider\" />\n  </behavior>\n  <!-- Other configuration code not shown. -->\n</behaviors>\n```  \n  \n For a detailed example of using this configuration element, see [Authorizing Access to Service Operations](../../../../../docs/framework/wcf/samples/authorizing-access-to-service-operations.md) and [Authorization Policy](../../../../../docs/framework/wcf/samples/authorization-policy.md).  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.ServiceAuthorizationElement>\n- <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior>\n- [Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)\n- [Authorizing Access to Service Operations](../../../../../docs/framework/wcf/samples/authorizing-access-to-service-operations.md)\n- [How to: Create a Custom Authorization Manager for a Service](../../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)\n- [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)\n- [Authorization Policy](../../../../../docs/framework/wcf/samples/authorization-policy.md)\n","nodes":[{"pos":[4,114],"embed":true,"restype":"x-metadata","content":"title: \"<serviceAuthorization> element\"\nms.date: \"03/30/2017\"\nms.assetid: 18cddad5-ddcb-4839-a0ac-1d6f6ab783ca","nodes":[{"content":"<serviceAuthorization> element","nodes":[{"pos":[0,30],"content":"<ph id=\"ph1\">&lt;serviceAuthorization&gt;</ph> element","source":"<serviceAuthorization> element"}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[121,152],"content":"\\<serviceAuthorization> element","linkify":"\\<serviceAuthorization> element","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceAuthorization&gt; element","pos":[0,31],"source":"\\<serviceAuthorization> element"}]},{"content":"Specifies settings that authorize access to service operations","pos":[153,215]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[222,244],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behaviors&gt;","pos":[247,259],"source":"\\<behaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceBehaviors&gt;","pos":[262,281],"source":"\\<serviceBehaviors>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>behavior&gt;","pos":[284,295],"source":"\\<behavior>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>serviceAuthorization&gt;","pos":[298,321],"source":"\\<serviceAuthorization>"},{"pos":[330,336],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[742,765],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[769,849]},{"pos":[859,869],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[876,885]},{"content":"Description","pos":[886,897]},{"content":"impersonateCallerForAllOperations","pos":[940,973]},{"content":"A Boolean value that specifies if all the operations in the service impersonate the caller.","pos":[974,1065]},{"content":"The default is <ph id=\"ph1\">`false`</ph>.","pos":[1066,1089],"source":" The default is `false`."},{"content":"When a specific service operation impersonates the caller, the thread context is switched to the caller context before executing the specified service.","pos":[1102,1253]},{"content":"principalPermissionMode","pos":[1258,1281]},{"content":"Sets the principal used to carry out operations on the server.","pos":[1282,1344]},{"content":"Values include the following:","pos":[1345,1374]},{"content":"-   None","pos":[1387,1395]},{"content":"-   UseWindowsGroups","pos":[1401,1421]},{"content":"-   UseAspNetRoles","pos":[1427,1445]},{"content":"-   Custom","pos":[1451,1461]},{"content":"The default value is UseWindowsGroups.","pos":[1474,1512]},{"content":"The value is of type <ph id=\"ph1\">&lt;xref:System.ServiceModel.Description.PrincipalPermissionMode&gt;</ph>.","pos":[1513,1597],"source":" The value is of type <xref:System.ServiceModel.Description.PrincipalPermissionMode>."},{"content":"For more information on using this attribute, see <bpt id=\"p1\">[</bpt>How to: Restrict Access with the PrincipalPermissionAttribute Class<ept id=\"p1\">](../../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)</ept>.","pos":[1598,1823],"source":" For more information on using this attribute, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)."},{"content":"roleProviderName","pos":[1828,1844]},{"content":"A string that specifies the name of the role provider, which provides role information for a Windows Communication Foundation (WCF) application.","pos":[1845,1989]},{"content":"The default is an empty string.","pos":[1990,2021]},{"content":"ServiceAuthorizationManagerType","pos":[2026,2057]},{"content":"A string containing the type of the service authorization manager.","pos":[2058,2124]},{"content":"For more information, see <ph id=\"ph1\">&lt;xref:System.ServiceModel.ServiceAuthorizationManager&gt;</ph>.","pos":[2125,2206],"source":" For more information, see <xref:System.ServiceModel.ServiceAuthorizationManager>."},{"pos":[2217,2231],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"Element","pos":[2238,2245]},{"content":"Description","pos":[2246,2257]},{"content":"authorizationPolicies","pos":[2298,2319]},{"content":"Contains a collection of authorization policy types, which can be added using the <ph id=\"ph1\">`add`</ph> keyword.","pos":[2320,2416],"source":"Contains a collection of authorization policy types, which can be added using the `add` keyword."},{"content":"Each authorization policy contains a single required <ph id=\"ph1\">`policyType`</ph> attribute that is a string.","pos":[2417,2510],"source":" Each authorization policy contains a single required `policyType` attribute that is a string."},{"content":"The attribute specifies an authorization policy, which enables transformation of one set of input claims into another set of claims.","pos":[2511,2643]},{"content":"Access control can be granted or denied based on that.","pos":[2644,2698]},{"content":"For more information, see <ph id=\"ph1\">&lt;xref:System.ServiceModel.Configuration.AuthorizationPolicyTypeElement&gt;</ph>.","pos":[2699,2797],"source":" For more information, see <xref:System.ServiceModel.Configuration.AuthorizationPolicyTypeElement>."},{"pos":[2808,2823],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[2830,2837]},{"content":"Description","pos":[2838,2849]},{"pos":[2890,2998],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>behavior&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-endpointbehaviors.md)</ept>","source":"[\\<behavior>](../../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-endpointbehaviors.md)"},{"content":"Contains a collection of settings for the behavior of a service.","pos":[2999,3063]},{"pos":[3073,3080],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This section contains elements affecting authorization, custom role providers, and impersonation.","pos":[3084,3181]},{"content":"The <ph id=\"ph1\">`principalPermissionMode`</ph> attribute specifies the groups of users to use when authorizing use of a protected method.","pos":[3188,3308],"source":"The `principalPermissionMode` attribute specifies the groups of users to use when authorizing use of a protected method."},{"content":"The default value is <ph id=\"ph1\">`UseWindowsGroups`</ph> and specifies that Windows groups, such as \"Administrators\" or \"Users,\" are searched for an identity trying to access a resource.","pos":[3309,3478],"source":" The default value is `UseWindowsGroups` and specifies that Windows groups, such as \"Administrators\" or \"Users,\" are searched for an identity trying to access a resource."},{"content":"You can also specify <ph id=\"ph1\">`UseAspNetRoles`</ph> to use a custom role provider that is configured under the <ph id=\"ph2\">\\&lt;</ph>system.web&gt; element, as shown in the following code.","pos":[3479,3630],"source":" You can also specify `UseAspNetRoles` to use a custom role provider that is configured under the \\<system.web> element, as shown in the following code."},{"pos":[4264,4362],"content":"The following code shows the <ph id=\"ph1\">`roleProviderName`</ph> used with the <ph id=\"ph2\">`principalPermissionMode`</ph> attribute.","source":"The following code shows the `roleProviderName` used with the `principalPermissionMode` attribute."},{"pos":[4639,4927],"content":"For a detailed example of using this configuration element, see <bpt id=\"p1\">[</bpt>Authorizing Access to Service Operations<ept id=\"p1\">](../../../../../docs/framework/wcf/samples/authorizing-access-to-service-operations.md)</ept> and <bpt id=\"p2\">[</bpt>Authorization Policy<ept id=\"p2\">](../../../../../docs/framework/wcf/samples/authorization-policy.md)</ept>.","source":"For a detailed example of using this configuration element, see [Authorizing Access to Service Operations](../../../../../docs/framework/wcf/samples/authorizing-access-to-service-operations.md) and [Authorization Policy](../../../../../docs/framework/wcf/samples/authorization-policy.md)."},{"pos":[4936,4944],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5089,5189],"content":"<bpt id=\"p1\">[</bpt>Security Behaviors<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)</ept>","source":"[Security Behaviors](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)"},{"pos":[5192,5321],"content":"<bpt id=\"p1\">[</bpt>Authorizing Access to Service Operations<ept id=\"p1\">](../../../../../docs/framework/wcf/samples/authorizing-access-to-service-operations.md)</ept>","source":"[Authorizing Access to Service Operations](../../../../../docs/framework/wcf/samples/authorizing-access-to-service-operations.md)"},{"pos":[5324,5492],"content":"<bpt id=\"p1\">[</bpt>How to: Create a Custom Authorization Manager for a Service<ept id=\"p1\">](../../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)</ept>","source":"[How to: Create a Custom Authorization Manager for a Service](../../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)"},{"pos":[5495,5669],"content":"<bpt id=\"p1\">[</bpt>How to: Restrict Access with the PrincipalPermissionAttribute Class<ept id=\"p1\">](../../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)</ept>","source":"[How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)"},{"pos":[5672,5761],"content":"<bpt id=\"p1\">[</bpt>Authorization Policy<ept id=\"p1\">](../../../../../docs/framework/wcf/samples/authorization-policy.md)</ept>","source":"[Authorization Policy](../../../../../docs/framework/wcf/samples/authorization-policy.md)"}]}