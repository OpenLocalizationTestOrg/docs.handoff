{"content":"---\ntitle: \"Map key XML Schema (XSD) Constraints to DataSet Constraints\"\nms.date: \"03/30/2017\"\nms.assetid: 22664196-f270-4ebc-a169-70e16a83dfa1\n---\n# Map key XML Schema (XSD) Constraints to DataSet Constraints\nIn a schema, you can specify a key constraint on an element or attribute using the **key** element. The element or attribute on which a key constraint is specified must have unique values in any schema instance, and cannot have null values.  \n  \n The key constraint is similar to the unique constraint, except that the column on which a key constraint is defined cannot have null values.  \n  \n The following table outlines the **msdata** attributes that you can specify in the **key** element.  \n  \n|Attribute name|Description|  \n|--------------------|-----------------|  \n|**msdata:ConstraintName**|If this attribute is specified, its value is used as the constraint name. Otherwise, the **name** attribute provides the value of the constraint name.|  \n|**msdata:PrimaryKey**|If `PrimaryKey=\"true\"` is present, the **IsPrimaryKey** constraint property is set to **true**, thus making it a primary key. The **AllowDBNull** column property is set to **false**, because primary keys cannot have null values.|  \n  \n In converting schema in which a key constraint is specified, the mapping process creates a unique constraint on the table with the **AllowDBNull** column property set to **false** for each column in the constraint. The **IsPrimaryKey** property of the unique constraint is also set to **false** unless you have specified `msdata:PrimaryKey=\"true\"` on the **key** element. This is identical to a unique constraint in the schema in which `PrimaryKey=\"true\"`.  \n  \n In the following schema example, the **key** element specifies the key constraint on the **CustomerID** element.  \n  \n```xml  \n<xs:schema id=\"cod\"  \n            xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"   \n            xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">  \n  <xs:element name=\"Customers\">  \n    <xs:complexType>  \n      <xs:sequence>  \n        <xs:element name=\"CustomerID\" type=\"xs:string\" minOccurs=\"0\" />  \n        <xs:element name=\"CompanyName\" type=\"xs:string\" minOccurs=\"0\" />  \n       <xs:element name=\"Phone\" type=\"xs:string\" />  \n     </xs:sequence>  \n   </xs:complexType>  \n </xs:element>  \n<xs:element name=\"MyDataSet\" msdata:IsDataSet=\"true\">  \n  <xs:complexType>  \n    <xs:choice maxOccurs=\"unbounded\">  \n      <xs:element ref=\"Customers\" />  \n    </xs:choice>  \n  </xs:complexType>  \n   <xs:key  msdata:PrimaryKey=\"true\"  \n       msdata:ConstraintName=\"KeyCustID\"  \n          name=\"KeyConstCustomerID\" >  \n     <xs:selector xpath=\".//Customers\" />  \n     <xs:field xpath=\"CustomerID\" />  \n    </xs:key>  \n </xs:element>  \n</xs:schema>   \n```  \n  \n The **key** element specifies that the values of the **CustomerID** child element of the **Customers** element must have unique values and cannot have null values. In translating the XML Schema definition language (XSD) schema, the mapping process creates the following table:  \n  \n```  \nCustomers(CustomerID, CompanyName, Phone)  \n```  \n  \n The XML Schema mapping also creates a **UniqueConstraint** on the **CustomerID** column, as shown in the following <xref:System.Data.DataSet>. (For simplicity, only relevant properties are shown.)  \n  \n```  \n      DataSetName: MyDataSet  \nTableName: customers  \n  ColumnName: CustomerID  \n      AllowDBNull: False  \n      Unique: True  \n  ConstraintName: KeyCustID  \n      Table: customers  \n      Columns: CustomerID   \n      IsPrimaryKey: True  \n```  \n  \n In the **DataSet** that is generated, the **IsPrimaryKey** property of the **UniqueConstraint** is set to **true** because the schema specifies `msdata:PrimaryKey=\"true\"` in the **key** element.  \n  \n The value of the **ConstraintName** property of the **UniqueConstraint** in the **DataSet** is the value of the **msdata:ConstraintName** attribute specified in the **key** element in the schema.  \n  \n## See also\n\n- [Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)\n- [Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,143],"embed":true,"restype":"x-metadata","content":"title: \"Map key XML Schema (XSD) Constraints to DataSet Constraints\"\nms.date: \"03/30/2017\"\nms.assetid: 22664196-f270-4ebc-a169-70e16a83dfa1","nodes":[{"content":"Map key XML Schema (XSD) Constraints to DataSet Constraints","nodes":[{"pos":[0,59],"content":"Map key XML Schema (XSD) Constraints to DataSet Constraints","nodes":[{"content":"Map key XML Schema (XSD) Constraints to DataSet Constraints","pos":[0,59]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[150,209],"content":"Map key XML Schema (XSD) Constraints to DataSet Constraints","linkify":"Map key XML Schema (XSD) Constraints to DataSet Constraints","nodes":[{"content":"Map key XML Schema (XSD) Constraints to DataSet Constraints","pos":[0,59]}]},{"content":"In a schema, you can specify a key constraint on an element or attribute using the <bpt id=\"p1\">**</bpt>key<ept id=\"p1\">**</ept> element.","pos":[210,309],"source":"In a schema, you can specify a key constraint on an element or attribute using the **key** element."},{"content":"The element or attribute on which a key constraint is specified must have unique values in any schema instance, and cannot have null values.","pos":[310,450]},{"content":"The key constraint is similar to the unique constraint, except that the column on which a key constraint is defined cannot have null values.","pos":[457,597]},{"pos":[604,703],"content":"The following table outlines the <bpt id=\"p1\">**</bpt>msdata<ept id=\"p1\">**</ept> attributes that you can specify in the <bpt id=\"p2\">**</bpt>key<ept id=\"p2\">**</ept> element.","source":"The following table outlines the **msdata** attributes that you can specify in the **key** element."},{"content":"Attribute name","pos":[710,724]},{"content":"Description","pos":[725,736]},{"pos":[784,809],"content":"<bpt id=\"p1\">**</bpt>msdata:ConstraintName<ept id=\"p1\">**</ept>","source":"**msdata:ConstraintName**"},{"content":"If this attribute is specified, its value is used as the constraint name.","pos":[810,883]},{"content":"Otherwise, the <bpt id=\"p1\">**</bpt>name<ept id=\"p1\">**</ept> attribute provides the value of the constraint name.","pos":[884,960],"source":" Otherwise, the **name** attribute provides the value of the constraint name."},{"pos":[965,986],"content":"<bpt id=\"p1\">**</bpt>msdata:PrimaryKey<ept id=\"p1\">**</ept>","source":"**msdata:PrimaryKey**"},{"content":"If <ph id=\"ph1\">`PrimaryKey=\"true\"`</ph> is present, the <bpt id=\"p1\">**</bpt>IsPrimaryKey<ept id=\"p1\">**</ept> constraint property is set to <bpt id=\"p2\">**</bpt>true<ept id=\"p2\">**</ept>, thus making it a primary key.","pos":[987,1112],"source":"If `PrimaryKey=\"true\"` is present, the **IsPrimaryKey** constraint property is set to **true**, thus making it a primary key."},{"content":"The <bpt id=\"p1\">**</bpt>AllowDBNull<ept id=\"p1\">**</ept> column property is set to <bpt id=\"p2\">**</bpt>false<ept id=\"p2\">**</ept>, because primary keys cannot have null values.","pos":[1113,1215],"source":" The **AllowDBNull** column property is set to **false**, because primary keys cannot have null values."},{"content":"In converting schema in which a key constraint is specified, the mapping process creates a unique constraint on the table with the <bpt id=\"p1\">**</bpt>AllowDBNull<ept id=\"p1\">**</ept> column property set to <bpt id=\"p2\">**</bpt>false<ept id=\"p2\">**</ept> for each column in the constraint.","pos":[1223,1437],"source":"In converting schema in which a key constraint is specified, the mapping process creates a unique constraint on the table with the **AllowDBNull** column property set to **false** for each column in the constraint."},{"content":"The <bpt id=\"p1\">**</bpt>IsPrimaryKey<ept id=\"p1\">**</ept> property of the unique constraint is also set to <bpt id=\"p2\">**</bpt>false<ept id=\"p2\">**</ept> unless you have specified <ph id=\"ph1\">`msdata:PrimaryKey=\"true\"`</ph> on the <bpt id=\"p3\">**</bpt>key<ept id=\"p3\">**</ept> element.","pos":[1438,1594],"source":" The **IsPrimaryKey** property of the unique constraint is also set to **false** unless you have specified `msdata:PrimaryKey=\"true\"` on the **key** element."},{"content":"This is identical to a unique constraint in the schema in which <ph id=\"ph1\">`PrimaryKey=\"true\"`</ph>.","pos":[1595,1679],"source":" This is identical to a unique constraint in the schema in which `PrimaryKey=\"true\"`."},{"pos":[1686,1798],"content":"In the following schema example, the <bpt id=\"p1\">**</bpt>key<ept id=\"p1\">**</ept> element specifies the key constraint on the <bpt id=\"p2\">**</bpt>CustomerID<ept id=\"p2\">**</ept> element.","source":"In the following schema example, the **key** element specifies the key constraint on the **CustomerID** element."},{"content":"The <bpt id=\"p1\">**</bpt>key<ept id=\"p1\">**</ept> element specifies that the values of the <bpt id=\"p2\">**</bpt>CustomerID<ept id=\"p2\">**</ept> child element of the <bpt id=\"p3\">**</bpt>Customers<ept id=\"p3\">**</ept> element must have unique values and cannot have null values.","pos":[2766,2929],"source":"The **key** element specifies that the values of the **CustomerID** child element of the **Customers** element must have unique values and cannot have null values."},{"content":"In translating the XML Schema definition language (XSD) schema, the mapping process creates the following table:","pos":[2930,3042]},{"content":"The XML Schema mapping also creates a <bpt id=\"p1\">**</bpt>UniqueConstraint<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>CustomerID<ept id=\"p2\">**</ept> column, as shown in the following <ph id=\"ph1\">&lt;xref:System.Data.DataSet&gt;</ph>.","pos":[3108,3250],"source":"The XML Schema mapping also creates a **UniqueConstraint** on the **CustomerID** column, as shown in the following <xref:System.Data.DataSet>."},{"content":"(For simplicity, only relevant properties are shown.)","pos":[3251,3304]},{"pos":[3566,3760],"content":"In the <bpt id=\"p1\">**</bpt>DataSet<ept id=\"p1\">**</ept> that is generated, the <bpt id=\"p2\">**</bpt>IsPrimaryKey<ept id=\"p2\">**</ept> property of the <bpt id=\"p3\">**</bpt>UniqueConstraint<ept id=\"p3\">**</ept> is set to <bpt id=\"p4\">**</bpt>true<ept id=\"p4\">**</ept> because the schema specifies <ph id=\"ph1\">`msdata:PrimaryKey=\"true\"`</ph> in the <bpt id=\"p5\">**</bpt>key<ept id=\"p5\">**</ept> element.","source":"In the **DataSet** that is generated, the **IsPrimaryKey** property of the **UniqueConstraint** is set to **true** because the schema specifies `msdata:PrimaryKey=\"true\"` in the **key** element."},{"pos":[3767,3962],"content":"The value of the <bpt id=\"p1\">**</bpt>ConstraintName<ept id=\"p1\">**</ept> property of the <bpt id=\"p2\">**</bpt>UniqueConstraint<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>DataSet<ept id=\"p3\">**</ept> is the value of the <bpt id=\"p4\">**</bpt>msdata:ConstraintName<ept id=\"p4\">**</ept> attribute specified in the <bpt id=\"p5\">**</bpt>key<ept id=\"p5\">**</ept> element in the schema.","source":"The value of the **ConstraintName** property of the **UniqueConstraint** in the **DataSet** is the value of the **msdata:ConstraintName** attribute specified in the **key** element in the schema."},{"pos":[3971,3979],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3983,4175],"content":"<bpt id=\"p1\">[</bpt>Mapping XML Schema (XSD) Constraints to DataSet Constraints<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)</ept>","source":"[Mapping XML Schema (XSD) Constraints to DataSet Constraints](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/mapping-xml-schema-xsd-constraints-to-dataset-constraints.md)"},{"pos":[4178,4352],"content":"<bpt id=\"p1\">[</bpt>Generating DataSet Relations from XML Schema (XSD)<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)</ept>","source":"[Generating DataSet Relations from XML Schema (XSD)](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/generating-dataset-relations-from-xml-schema-xsd.md)"},{"pos":[4355,4459],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}