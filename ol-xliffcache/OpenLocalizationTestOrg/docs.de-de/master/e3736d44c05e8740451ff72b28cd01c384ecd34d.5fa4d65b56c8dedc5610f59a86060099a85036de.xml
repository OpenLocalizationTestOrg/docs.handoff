{"content":"---\ntitle: .NET Core app deployment with CLI tools | Microsoft Docs\ndescription: Learn .NET Core app deployment with command-line interface (CLI) tools \nkeywords: .NET, .NET Core, .NET Core deployment\nauthor: rpetrusha\nms.author: ronpet\nms.date: 04/18/2017\nms.topic: article\nms.prod: .net-core\nms.devlang: dotnet\nms.assetid: 82ebe16d-5e1c-46cc-91e8-71974296429c\n---\n\n# Deploying .NET Core apps with command-line interface (CLI) tools\n\nYou can deploy a .NET Core application either as a *framework-dependent deployment*, which includes your application binaries but depends on the presence of .NET Core on the target system, or as a *self-contained deployment*, which includes both your application and the .NET Core binaries. For an overview, see [.NET Core Application Deployment](index.md).\n\nThe following sections show how to use [.NET Core command-line interface tools](../tools/index.md) to create the following kinds of deployments:\n\n- Framework-dependent deployment\n- Framework-dependent deployment with third-party dependencies\n- Self-contained deployment\n- Self-contained deployment with third-party dependencies\n\nWhen working from the command line, you can use a program editor of your choice. If your program editor is [Visual Studio Code](https://code.visualstudio.com), you can open a command console inside your Visual Studio Code environment by selecting **View** > **Integrated Terminal**.\n\n## Framework-dependent deployment\n\nDeploying a framework-dependent deployment with no third-party dependencies simply involves building, testing, and publishing the app. A simple example written in C# illustrates the process. \n\n1. Create a project directory.\n\n   Create a directory for your project and make it your current directory.\n\n1. Create the project.\n\n   From the command line, type [dotnet new console](../tools/dotnet-new.md) to create a new C# console project in that directory.\n\n1. Add the application's source code.\n\n   Open the *Program.cs* file in your editor and replace the auto-generated code with the following code. It prompts the user to enter text and displays the individual words entered by the user. It uses the regular expression `\\w+` to separate the words in the input text.\n\n   [!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]\n\n1. Update the project's dependencies and tools.\n \n   Run the [dotnet restore](../tools/dotnet-restore.md) command to restore the dependencies specified in your project.\n\n1. Create a Debug build of your app.\n\n   Use the [dotnet build](../tools/dotnet-build.md) command to build your application or the [dotnet run](../tools/dotnet-run.md) command to build and run it.\n\n1. Deploy your app.\n\n   After you've debugged and tested the program, create the deployment by using the following command:\n\n      ```console\n      dotnet publish -f netcoreapp1.1 -c Release\n      ```\n   This creates a Release (rather than a Debug) version of your app. The resulting files are placed in a directory named *publish* that's in a subdirectory of your project's *bin* directory.\n\nAlong with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app. The file is useful primarily for debugging exceptions. You can choose not to distribute it with your application's files. You should, however, save it in the event that you want to debug the Release build of your app.\n\nYou can deploy the complete set of application files in any way you like. For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice. Once installed, users can execute your application by using the `dotnet` command and providing the application filename, such as `dotnet fdd.dll`.\n\nIn addition to the application binaries, your installer should also either bundle the shared framework installer or check for it as a prerequisite as part of the application installation.  Installation of the shared framework requires Administrator/root access.\n\n## Framework-dependent deployment with third-party dependencies\n\nDeploying a framework-dependent deployment with one or more third-party dependencies requires that those dependencies be available to your project. Two additional steps are required before you can run the `dotnet restore` command:\n\n1. Add references to required third-party libraries to the `<ItemGroup>` section of your *csproj* file. The following `<ItemGroup>` section contains a dependency on [Json.NET](http://www.newtonsoft.com/json) as a third-party library:\n\n      ```xml\n      <ItemGroup>\n        <PackageReference Include=\"Newtonsoft.Json\" Version=\"10.0.2\" />\n      </ItemGroup>\n      ```\n\n1. If you haven't already, download the NuGet package containing the third-party dependency. To download the package, execute the `dotnet restore` command after adding the dependency. Because the dependency is resolved out of the local NuGet cache at publish time, it must be available on your system.\n\nNote that a framework-dependent deployment with third-party dependencies is only as portable as its third-party dependencies. For example, if a third-party library only supports macOS, the app isn't portable to Windows systems. This happens if the third-party dependency itself depends on native code. A good example of this is [Kestrel server](https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel), which requires a native dependency on [libuv](https://github.com/libuv/libuv). When an FDD is created for an application with this kind of third-party dependency, the published output contains a folder for each [Runtime Identifier (RID)](../rid-catalog.md#what-are-rids) that the native dependency supports (and that exists in its NuGet package).\n\n## <a name=\"simpleSelf\"></a> Self-contained deployment without third-party dependencies\n\nDeploying a self-contained deployment without third-party dependencies involves creating the project, modifying the *csproj* file, building, testing, and publishing the app. A simple example written in C# illustrates the process. The example shows how to create a self-contained deployment using the [dotnet utility](../tools/dotnet.md) from the command line.\n\n1. Create a directory for the project.\n\n   Create a directory for your project, and make it your current directory.\n\n1. Create the project.\n\n   From the command line, type [dotnet new console](../tools/dotnet-new.md) to create a new C# console project in that directory.\n\n1. Add the application's source code.\n\n   Open the *Program.cs* file in your editor and replace the auto-generated code with the following code. It prompts the user to enter text and displays the individual words entered by the user. It uses the regular expression `\\w+` to separate the words in the input text.\n\n   [!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]\n\n1. Define the platforms that your app will target.\n\n   Create a `<RuntimeIdentifiers>` tag in the `<PropertyGroup>` section of your *csproj* file that defines the platforms your app targets and specify the runtime identifier (RID) for each platform that you target. Note that you also need to add a semicolon to separate the RIDs. See [Runtime IDentifier catalog](../rid-catalog.md) for a list of runtime identifiers. \n\n   For example, the following `<PropertyGroup>` section indicates that the app runs on 64-bit Windows 10 operating systems and the 64-bit OS X Version 10.11 operating system.\n\n     ```xml\n     <PropertyGroup>\n         <RuntimeIdentifiers>win10-x64;osx.10.11-x64</RuntimeIdentifiers>\n     </PropertyGroup>\n     ```\n\n   Note that the `<RuntimeIdentifiers>` element can appear in any `<PropertyGroup>` in your *csproj* file. A complete sample *csproj* file appears later in this section.\n\n1. Update the project's dependencies and tools.\n\n   Run the [dotnet restore](../tools/dotnet-restore.md) command to restore the dependencies specified in your project.\n\n1. Create a Debug build of your app.\n\n   From the command line, use the [dotnet build](../tools/dotnet-build.md) command.\n\n1. After you've debugged and tested the program, create the files to be deployed with your app for each platform that it targets.\n\n   Use the `dotnet publish` command for both target platforms as follows:\n\n      ```console\n      dotnet publish -c Release -r win10-x64\n      dotnet publish -c Release -r osx.10.11-x64\n      ```\n\n   This creates a Release (rather than a Debug) version of your app for each target platform. The resulting files are placed in a subdirectory named *publish* that's in a subdirectory of your project's *.\\bin\\Release\\netcoreapp1.1\\<runtime_identifier>* subdirectory. Note that each subdirectory contains the complete set of files (both your app files and all .NET Core files) needed to launch your app.\n\nAlong with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app. The file is useful primarily for debugging exceptions. You can choose not to package it with your application's files. You should, however, save it in the event that you want to debug the Release build of your app.\n\nDeploy the published files in any way you like. For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice.\n\nThe following is the complete *csproj* file for this project.\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>netcoreapp1.1</TargetFramework>\n    <RuntimeIdentifiers>win10-x64;osx.10.11-x64</RuntimeIdentifiers>\n  </PropertyGroup>\n</Project>\n```\n\n## Self-contained deployment with third-party dependencies\n\nDeploying a self-contained deployment with one or more third-party dependencies involves adding the dependencies. Two additional steps are required before you can run the `dotnet restore` command:\n\n1. Add references to any third-party libraries to the `<ItemGroup>` section of your *csproj* file. The following `<ItemGroup>` section uses Json.NET as a third-party library.\n\n    ```xml\n      <ItemGroup>\n        <PackageReference Include=\"Newtonsoft.Json\" Version=\"10.0.2\" />\n      </ItemGroup>\n    ```\n\n1. If you haven't already, download the NuGet package containing the third-party dependency to your system. To make the dependency available to your app, execute the `dotnet restore` command after adding the dependency. Because the dependency is resolved out of the local NuGet cache at publish time, it must be available on your system.\n\nThe following is the complete *csproj* file for this project:\n\n```xml\n<Project Sdk=\"Microsoft.NET.Sdk\">\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>netcoreapp1.1</TargetFramework>\n    <RuntimeIdentifiers>win10-x64;osx.10.11-x64</RuntimeIdentifiers>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageReference Include=\"Newtonsoft.Json\" Version=\"10.0.2\" />\n  </ItemGroup>\n</Project>\n```\n\nWhen you deploy your application, any third-party dependencies used in your app are also contained with your application files. Third-party libraries aren't required on the system on which the app is running.\n\nNote that you can only deploy a self-contained deployment with a third-party library to platforms supported by that library. This is similar to having third-party dependencies with native dependencies in a framework-dependent deployment, where the native dependencies must be compatible with the platform to which the app is deployed.\n\n# See also\n\n[.NET Core Application Deployment](index.md)   \n[.NET Core Runtime IDentifier (RID) catalog](../rid-catalog.md)   \n","nodes":[{"pos":[11,67],"content":".NET Core app deployment with CLI tools | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":".NET Core app deployment with CLI tools | Microsoft Docs","pos":[0,56]}]},{"pos":[81,151],"content":"Learn .NET Core app deployment with command-line interface (CLI) tools","needQuote":true,"needEscape":true,"nodes":[{"content":"Learn .NET Core app deployment with command-line interface (CLI) tools","pos":[0,70]}]},{"pos":[163,200],"content":".NET, .NET Core, .NET Core deployment","needQuote":true,"needEscape":true,"nodes":[{"content":".NET, .NET Core, .NET Core deployment","pos":[0,37]}]},{"pos":[369,433],"content":"Deploying .NET Core apps with command-line interface (CLI) tools","linkify":"Deploying .NET Core apps with command-line interface (CLI) tools","nodes":[{"content":"Deploying .NET Core apps with command-line interface (CLI) tools","pos":[0,64]}]},{"content":"You can deploy a .NET Core application either as a <bpt id=\"p1\">*</bpt>framework-dependent deployment<ept id=\"p1\">*</ept>, which includes your application binaries but depends on the presence of .NET Core on the target system, or as a <bpt id=\"p2\">*</bpt>self-contained deployment<ept id=\"p2\">*</ept>, which includes both your application and the .NET Core binaries.","pos":[435,725],"source":"You can deploy a .NET Core application either as a *framework-dependent deployment*, which includes your application binaries but depends on the presence of .NET Core on the target system, or as a *self-contained deployment*, which includes both your application and the .NET Core binaries."},{"content":"For an overview, see <bpt id=\"p1\">[</bpt>.NET Core Application Deployment<ept id=\"p1\">](index.md)</ept>.","pos":[726,792],"source":" For an overview, see [.NET Core Application Deployment](index.md)."},{"pos":[794,938],"content":"The following sections show how to use <bpt id=\"p1\">[</bpt>.NET Core command-line interface tools<ept id=\"p1\">](../tools/index.md)</ept> to create the following kinds of deployments:","source":"The following sections show how to use [.NET Core command-line interface tools](../tools/index.md) to create the following kinds of deployments:"},{"content":"Framework-dependent deployment","pos":[942,972]},{"content":"Framework-dependent deployment with third-party dependencies","pos":[975,1035]},{"content":"Self-contained deployment","pos":[1038,1063]},{"content":"Self-contained deployment with third-party dependencies","pos":[1066,1121]},{"content":"When working from the command line, you can use a program editor of your choice.","pos":[1123,1203]},{"content":"If your program editor is <bpt id=\"p1\">[</bpt>Visual Studio Code<ept id=\"p1\">](https://code.visualstudio.com)</ept>, you can open a command console inside your Visual Studio Code environment by selecting <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>Integrated Terminal<ept id=\"p3\">**</ept>.","pos":[1204,1405],"source":" If your program editor is [Visual Studio Code](https://code.visualstudio.com), you can open a command console inside your Visual Studio Code environment by selecting **View** > **Integrated Terminal**."},{"pos":[1410,1440],"content":"Framework-dependent deployment","linkify":"Framework-dependent deployment","nodes":[{"content":"Framework-dependent deployment","pos":[0,30]}]},{"content":"Deploying a framework-dependent deployment with no third-party dependencies simply involves building, testing, and publishing the app.","pos":[1442,1576]},{"content":"A simple example written in C# illustrates the process.","pos":[1577,1632]},{"content":"Create a project directory.","pos":[1638,1665]},{"content":"Create a directory for your project and make it your current directory.","pos":[1670,1741]},{"content":"Create the project.","pos":[1746,1765]},{"pos":[1770,1896],"content":"From the command line, type <bpt id=\"p1\">[</bpt>dotnet new console<ept id=\"p1\">](../tools/dotnet-new.md)</ept> to create a new C# console project in that directory.","source":"From the command line, type [dotnet new console](../tools/dotnet-new.md) to create a new C# console project in that directory."},{"content":"Add the application's source code.","pos":[1901,1935]},{"content":"Open the <bpt id=\"p1\">*</bpt>Program.cs<ept id=\"p1\">*</ept> file in your editor and replace the auto-generated code with the following code.","pos":[1940,2042],"source":"Open the *Program.cs* file in your editor and replace the auto-generated code with the following code."},{"content":"It prompts the user to enter text and displays the individual words entered by the user.","pos":[2043,2131]},{"content":"It uses the regular expression <ph id=\"ph1\">`\\w+`</ph> to separate the words in the input text.","pos":[2132,2209],"source":" It uses the regular expression `\\w+` to separate the words in the input text."},{"pos":[2214,2302],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>deployment#1<ept id=\"p2\">](../../../samples/snippets/core/deploying/deployment-example.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]"},{"content":"Update the project's dependencies and tools.","pos":[2307,2351]},{"pos":[2357,2472],"content":"Run the <bpt id=\"p1\">[</bpt>dotnet restore<ept id=\"p1\">](../tools/dotnet-restore.md)</ept> command to restore the dependencies specified in your project.","source":"Run the [dotnet restore](../tools/dotnet-restore.md) command to restore the dependencies specified in your project."},{"content":"Create a Debug build of your app.","pos":[2477,2510]},{"pos":[2515,2670],"content":"Use the <bpt id=\"p1\">[</bpt>dotnet build<ept id=\"p1\">](../tools/dotnet-build.md)</ept> command to build your application or the <bpt id=\"p2\">[</bpt>dotnet run<ept id=\"p2\">](../tools/dotnet-run.md)</ept> command to build and run it.","source":"Use the [dotnet build](../tools/dotnet-build.md) command to build your application or the [dotnet run](../tools/dotnet-run.md) command to build and run it."},{"content":"Deploy your app.","pos":[2675,2691]},{"content":"After you've debugged and tested the program, create the deployment by using the following command:","pos":[2696,2795]},{"content":"This creates a Release (rather than a Debug) version of your app.","pos":[2876,2941]},{"content":"The resulting files are placed in a directory named <bpt id=\"p1\">*</bpt>publish<ept id=\"p1\">*</ept> that's in a subdirectory of your project's <bpt id=\"p2\">*</bpt>bin<ept id=\"p2\">*</ept> directory.","pos":[2942,3063],"source":" The resulting files are placed in a directory named *publish* that's in a subdirectory of your project's *bin* directory."},{"content":"Along with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app.","pos":[3065,3213]},{"content":"The file is useful primarily for debugging exceptions.","pos":[3214,3268]},{"content":"You can choose not to distribute it with your application's files.","pos":[3269,3335]},{"content":"You should, however, save it in the event that you want to debug the Release build of your app.","pos":[3336,3431]},{"content":"You can deploy the complete set of application files in any way you like.","pos":[3433,3506]},{"content":"For example, you can package them in a Zip file, use a simple <ph id=\"ph1\">`copy`</ph> command, or deploy them with any installation package of your choice.","pos":[3507,3645],"source":" For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice."},{"content":"Once installed, users can execute your application by using the <ph id=\"ph1\">`dotnet`</ph> command and providing the application filename, such as <ph id=\"ph2\">`dotnet fdd.dll`</ph>.","pos":[3646,3792],"source":" Once installed, users can execute your application by using the `dotnet` command and providing the application filename, such as `dotnet fdd.dll`."},{"content":"In addition to the application binaries, your installer should also either bundle the shared framework installer or check for it as a prerequisite as part of the application installation.","pos":[3794,3981]},{"content":"Installation of the shared framework requires Administrator/root access.","pos":[3983,4055]},{"pos":[4060,4120],"content":"Framework-dependent deployment with third-party dependencies","linkify":"Framework-dependent deployment with third-party dependencies","nodes":[{"content":"Framework-dependent deployment with third-party dependencies","pos":[0,60]}]},{"content":"Deploying a framework-dependent deployment with one or more third-party dependencies requires that those dependencies be available to your project.","pos":[4122,4269]},{"content":"Two additional steps are required before you can run the <ph id=\"ph1\">`dotnet restore`</ph> command:","pos":[4270,4352],"source":" Two additional steps are required before you can run the `dotnet restore` command:"},{"content":"Add references to required third-party libraries to the <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph> section of your <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file.","pos":[4357,4457],"source":"Add references to required third-party libraries to the `<ItemGroup>` section of your *csproj* file."},{"content":"The following <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph> section contains a dependency on <bpt id=\"p1\">[</bpt>Json.NET<ept id=\"p1\">](http://www.newtonsoft.com/json)</ept> as a third-party library:","pos":[4458,4587],"source":" The following `<ItemGroup>` section contains a dependency on [Json.NET](http://www.newtonsoft.com/json) as a third-party library:"},{"content":"If you haven't already, download the NuGet package containing the third-party dependency.","pos":[4725,4814]},{"content":"To download the package, execute the <ph id=\"ph1\">`dotnet restore`</ph> command after adding the dependency.","pos":[4815,4905],"source":" To download the package, execute the `dotnet restore` command after adding the dependency."},{"content":"Because the dependency is resolved out of the local NuGet cache at publish time, it must be available on your system.","pos":[4906,5023]},{"content":"Note that a framework-dependent deployment with third-party dependencies is only as portable as its third-party dependencies.","pos":[5025,5150]},{"content":"For example, if a third-party library only supports macOS, the app isn't portable to Windows systems.","pos":[5151,5252]},{"content":"This happens if the third-party dependency itself depends on native code.","pos":[5253,5326]},{"content":"A good example of this is <bpt id=\"p1\">[</bpt>Kestrel server<ept id=\"p1\">](https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel)</ept>, which requires a native dependency on <bpt id=\"p2\">[</bpt>libuv<ept id=\"p2\">](https://github.com/libuv/libuv)</ept>.","pos":[5327,5518],"source":" A good example of this is [Kestrel server](https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel), which requires a native dependency on [libuv](https://github.com/libuv/libuv)."},{"content":"When an FDD is created for an application with this kind of third-party dependency, the published output contains a folder for each <bpt id=\"p1\">[</bpt>Runtime Identifier (RID)<ept id=\"p1\">](../rid-catalog.md#what-are-rids)</ept> that the native dependency supports (and that exists in its NuGet package).","pos":[5519,5786],"source":" When an FDD is created for an application with this kind of third-party dependency, the published output contains a folder for each [Runtime Identifier (RID)](../rid-catalog.md#what-are-rids) that the native dependency supports (and that exists in its NuGet package)."},{"pos":[5791,5875],"content":"<bpt id=\"p1\">&lt;a name=\"simpleSelf\"&gt;</bpt><ept id=\"p1\">&lt;/a&gt;</ept> Self-contained deployment without third-party dependencies","linkify":"<a name=\"simpleSelf\"></a> Self-contained deployment without third-party dependencies","source":"<a name=\"simpleSelf\"></a> Self-contained deployment without third-party dependencies"},{"content":"Deploying a self-contained deployment without third-party dependencies involves creating the project, modifying the <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file, building, testing, and publishing the app.","pos":[5877,6050],"source":"Deploying a self-contained deployment without third-party dependencies involves creating the project, modifying the *csproj* file, building, testing, and publishing the app."},{"content":"A simple example written in C# illustrates the process.","pos":[6051,6106]},{"content":"The example shows how to create a self-contained deployment using the <bpt id=\"p1\">[</bpt>dotnet utility<ept id=\"p1\">](../tools/dotnet.md)</ept> from the command line.","pos":[6107,6236],"source":" The example shows how to create a self-contained deployment using the [dotnet utility](../tools/dotnet.md) from the command line."},{"content":"Create a directory for the project.","pos":[6241,6276]},{"content":"Create a directory for your project, and make it your current directory.","pos":[6281,6353]},{"content":"Create the project.","pos":[6358,6377]},{"pos":[6382,6508],"content":"From the command line, type <bpt id=\"p1\">[</bpt>dotnet new console<ept id=\"p1\">](../tools/dotnet-new.md)</ept> to create a new C# console project in that directory.","source":"From the command line, type [dotnet new console](../tools/dotnet-new.md) to create a new C# console project in that directory."},{"content":"Add the application's source code.","pos":[6513,6547]},{"content":"Open the <bpt id=\"p1\">*</bpt>Program.cs<ept id=\"p1\">*</ept> file in your editor and replace the auto-generated code with the following code.","pos":[6552,6654],"source":"Open the *Program.cs* file in your editor and replace the auto-generated code with the following code."},{"content":"It prompts the user to enter text and displays the individual words entered by the user.","pos":[6655,6743]},{"content":"It uses the regular expression <ph id=\"ph1\">`\\w+`</ph> to separate the words in the input text.","pos":[6744,6821],"source":" It uses the regular expression `\\w+` to separate the words in the input text."},{"pos":[6826,6914],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>deployment#1<ept id=\"p2\">](../../../samples/snippets/core/deploying/deployment-example.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[deployment#1](../../../samples/snippets/core/deploying/deployment-example.cs)]"},{"content":"Define the platforms that your app will target.","pos":[6919,6966]},{"content":"Create a <ph id=\"ph1\">`&lt;RuntimeIdentifiers&gt;`</ph> tag in the <ph id=\"ph2\">`&lt;PropertyGroup&gt;`</ph> section of your <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file that defines the platforms your app targets and specify the runtime identifier (RID) for each platform that you target.","pos":[6971,7181],"source":"Create a `<RuntimeIdentifiers>` tag in the `<PropertyGroup>` section of your *csproj* file that defines the platforms your app targets and specify the runtime identifier (RID) for each platform that you target."},{"content":"Note that you also need to add a semicolon to separate the RIDs.","pos":[7182,7246]},{"content":"See <bpt id=\"p1\">[</bpt>Runtime IDentifier catalog<ept id=\"p1\">](../rid-catalog.md)</ept> for a list of runtime identifiers.","pos":[7247,7333],"source":" See [Runtime IDentifier catalog](../rid-catalog.md) for a list of runtime identifiers."},{"pos":[7339,7510],"content":"For example, the following <ph id=\"ph1\">`&lt;PropertyGroup&gt;`</ph> section indicates that the app runs on 64-bit Windows 10 operating systems and the 64-bit OS X Version 10.11 operating system.","source":"For example, the following `<PropertyGroup>` section indicates that the app runs on 64-bit Windows 10 operating systems and the 64-bit OS X Version 10.11 operating system."},{"content":"Note that the <ph id=\"ph1\">`&lt;RuntimeIdentifiers&gt;`</ph> element can appear in any <ph id=\"ph2\">`&lt;PropertyGroup&gt;`</ph> in your <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file.","pos":[7654,7757],"source":"Note that the `<RuntimeIdentifiers>` element can appear in any `<PropertyGroup>` in your *csproj* file."},{"content":"A complete sample <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file appears later in this section.","pos":[7758,7820],"source":" A complete sample *csproj* file appears later in this section."},{"content":"Update the project's dependencies and tools.","pos":[7825,7869]},{"pos":[7874,7989],"content":"Run the <bpt id=\"p1\">[</bpt>dotnet restore<ept id=\"p1\">](../tools/dotnet-restore.md)</ept> command to restore the dependencies specified in your project.","source":"Run the [dotnet restore](../tools/dotnet-restore.md) command to restore the dependencies specified in your project."},{"content":"Create a Debug build of your app.","pos":[7994,8027]},{"pos":[8032,8112],"content":"From the command line, use the <bpt id=\"p1\">[</bpt>dotnet build<ept id=\"p1\">](../tools/dotnet-build.md)</ept> command.","source":"From the command line, use the [dotnet build](../tools/dotnet-build.md) command."},{"content":"After you've debugged and tested the program, create the files to be deployed with your app for each platform that it targets.","pos":[8117,8243]},{"pos":[8248,8318],"content":"Use the <ph id=\"ph1\">`dotnet publish`</ph> command for both target platforms as follows:","source":"Use the `dotnet publish` command for both target platforms as follows:"},{"content":"This creates a Release (rather than a Debug) version of your app for each target platform.","pos":[8445,8535]},{"content":"The resulting files are placed in a subdirectory named <bpt id=\"p1\">*</bpt>publish<ept id=\"p1\">*</ept> that's in a subdirectory of your project's <bpt id=\"p2\">*</bpt>.\\bin\\Release\\netcoreapp1.1<ph id=\"ph1\">\\&lt;</ph>runtime_identifier&gt;<ept id=\"p2\">*</ept> subdirectory.","pos":[8536,8708],"source":" The resulting files are placed in a subdirectory named *publish* that's in a subdirectory of your project's *.\\bin\\Release\\netcoreapp1.1\\<runtime_identifier>* subdirectory."},{"content":"Note that each subdirectory contains the complete set of files (both your app files and all .NET Core files) needed to launch your app.","pos":[8709,8844]},{"content":"Along with your application's files, the publishing process emits a program database (.pdb) file that contains debugging information about your app.","pos":[8846,8994]},{"content":"The file is useful primarily for debugging exceptions.","pos":[8995,9049]},{"content":"You can choose not to package it with your application's files.","pos":[9050,9113]},{"content":"You should, however, save it in the event that you want to debug the Release build of your app.","pos":[9114,9209]},{"content":"Deploy the published files in any way you like.","pos":[9211,9258]},{"content":"For example, you can package them in a Zip file, use a simple <ph id=\"ph1\">`copy`</ph> command, or deploy them with any installation package of your choice.","pos":[9259,9397],"source":" For example, you can package them in a Zip file, use a simple `copy` command, or deploy them with any installation package of your choice."},{"pos":[9399,9460],"content":"The following is the complete <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file for this project.","source":"The following is the complete *csproj* file for this project."},{"pos":[9714,9769],"content":"Self-contained deployment with third-party dependencies","linkify":"Self-contained deployment with third-party dependencies","nodes":[{"content":"Self-contained deployment with third-party dependencies","pos":[0,55]}]},{"content":"Deploying a self-contained deployment with one or more third-party dependencies involves adding the dependencies.","pos":[9771,9884]},{"content":"Two additional steps are required before you can run the <ph id=\"ph1\">`dotnet restore`</ph> command:","pos":[9885,9967],"source":" Two additional steps are required before you can run the `dotnet restore` command:"},{"content":"Add references to any third-party libraries to the <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph> section of your <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file.","pos":[9972,10067],"source":"Add references to any third-party libraries to the `<ItemGroup>` section of your *csproj* file."},{"content":"The following <ph id=\"ph1\">`&lt;ItemGroup&gt;`</ph> section uses Json.NET as a third-party library.","pos":[10068,10143],"source":" The following `<ItemGroup>` section uses Json.NET as a third-party library."},{"content":"If you haven't already, download the NuGet package containing the third-party dependency to your system.","pos":[10277,10381]},{"content":"To make the dependency available to your app, execute the <ph id=\"ph1\">`dotnet restore`</ph> command after adding the dependency.","pos":[10382,10493],"source":" To make the dependency available to your app, execute the `dotnet restore` command after adding the dependency."},{"content":"Because the dependency is resolved out of the local NuGet cache at publish time, it must be available on your system.","pos":[10494,10611]},{"pos":[10613,10674],"content":"The following is the complete <bpt id=\"p1\">*</bpt>csproj<ept id=\"p1\">*</ept> file for this project:","source":"The following is the complete *csproj* file for this project:"},{"content":"When you deploy your application, any third-party dependencies used in your app are also contained with your application files.","pos":[11022,11149]},{"content":"Third-party libraries aren't required on the system on which the app is running.","pos":[11150,11230]},{"content":"Note that you can only deploy a self-contained deployment with a third-party library to platforms supported by that library.","pos":[11232,11356]},{"content":"This is similar to having third-party dependencies with native dependencies in a framework-dependent deployment, where the native dependencies must be compatible with the platform to which the app is deployed.","pos":[11357,11566]},{"pos":[11570,11578],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>.NET Core Application Deployment<ept id=\"p1\">](index.md)</ept><ph id=\"ph1\"> </ph>","pos":[11580,11625],"source":"[.NET Core Application Deployment](index.md) "},{"content":"<bpt id=\"p1\">[</bpt>.NET Core Runtime IDentifier (RID) catalog<ept id=\"p1\">](../rid-catalog.md)</ept>","pos":[11628,11691],"source":"[.NET Core Runtime IDentifier (RID) catalog](../rid-catalog.md)"}]}