{"content":"---\ntitle: \"Data Binding in a Windows Presentation Foundation Client\"\nms.date: \"03/30/2017\"\nms.assetid: bb8c8293-5973-4aef-9b07-afeff5d3293c\n---\n# Data Binding in a Windows Presentation Foundation Client\nThis sample demonstrates the use of data binding in a Windows Presentation Foundation (WPF) client. The sample uses a Windows Communication Foundation (WCF) service that randomly generates an array of albums to return to the client. Each album has a name, a price, and a list of album tracks. The album tracks have a name and duration. The information that is returned by the service is automatically bound to the user interface (UI) provided by the Windows Presentation Foundation (WPF) client.  \n  \n> [!NOTE]\n>  The setup procedure and build instructions for this sample are located at the end of this topic.  \n  \n Data binding allows a data source to be automatically bound to a UI. This simplifies the programming model because it does not require that you programmatically update each UI element with the data from a data object or an array of data objects. You can bind an object to a single UI element or an array to a control that takes multiple inputs, such as a `ListBox`. The following code shows how to bind data to the `DataContext` of a UI element.  \n  \n```  \n// Event handler executed when call is complete  \nvoid client_GetAlbumListCompleted(object sender, GetAlbumListCompletedEventArgs e)  \n{  \n    // This is on the UI thread, myPanel can be accessed directly  \n    myPanel.DataContext = e.Result;   \n}  \n```  \n  \n In the previous sample, the `DataContext` for the `grid` layout element named `myPanel` is set to the data returned by the `GetAlbumList` method. The `DataContext` allows elements to inherit information from their parent elements about the data source that is used for binding, as well as other characteristics of the binding such as the path. The line of code must be executed every time the data on the server is updated. For example, it is executed when the window is initialized and when a new album is added.  \n  \n In the following sample XAML code, the `ListBox` specifies `ItemsSource=\"{Binding }\"`.  \n  \n```xml  \n<ListBox   \n          ItemTemplate=\"{StaticResource AlbumStyle}\"  \n          ItemsSource=\"{Binding }\"   \n          IsSynchronizedWithCurrentItem=\"true\" />  \n```  \n  \n This specifies that the data bound to the top-level UI element is also bound to this control (that is, the array of Albums). In addition, `ItemTemplate=\"{StaticResource AlbumStyle}\"` specifies the data template to be used for each item in the `ListBox`. You can also define data templates to specify how the data should be formatted. These data templates can be reused for other UI elements in the application, the advantage is that the data template is defined and maintained in one place.  \n  \n The `AlbumStyle` data template lays out a grid with two `TextBlock`s side by side. One specifies the name of the Album and the other the number of Tracks in the album.  \n  \n```xaml  \n<DataTemplate x:Key=\"AlbumStyle\">  \n    <Grid>  \n        <Grid.ColumnDefinitions>  \n            <ColumnDefinition Width=\"260\" />  \n            <ColumnDefinition Width=\"60\" />  \n        </Grid.ColumnDefinitions>  \n        <TextBlock Grid.Column=\"0\" TextContent=\"{Binding Path=Title}\" />  \n        <TextBlock Grid.Column=\"1\" TextContent=\"{Binding Path=Tracks#.Count}\" HorizontalAlignment=\"Right\" />  \n    </Grid>  \n</DataTemplate>  \n```  \n  \n The following XAML code creates a second `ListBox`.  \n  \n```xaml  \n<ListBox Grid.Row=\"2\"   \n            Grid.ColumnSpan=\"2\"   \n            ItemTemplate=\"{StaticResource TrackStyle}\"  \n            ItemsSource=\"{Binding Path=Tracks}\" />  \n```  \n  \n The code specifies a path for the `ItemsSource`. This indicates that the data bound to this control is not the top-level data but a property of the top-level data named `Tracks`. This property represents the array of tracks contained within the album. In addition, a different `DataTemplate` named `TrackStyle` is specified. The layout of the `TrackStyle` template is similar to that of the `AlbumStyle` template, but the `TextBlock`s are bound to different properties. This is because the two templates are used with different data objects.  \n  \n### To set up, build, and run the sample  \n  \n1.  Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).  \n  \n3.  To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md).  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your machine. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Scenario\\DataBinding\\WPFDataBinding`  \n","nodes":[{"pos":[4,140],"embed":true,"restype":"x-metadata","content":"title: \"Data Binding in a Windows Presentation Foundation Client\"\nms.date: \"03/30/2017\"\nms.assetid: bb8c8293-5973-4aef-9b07-afeff5d3293c","nodes":[{"content":"Data Binding in a Windows Presentation Foundation Client","nodes":[{"pos":[0,56],"content":"Data Binding in a Windows Presentation Foundation Client","nodes":[{"content":"Data Binding in a Windows Presentation Foundation Client","pos":[0,56]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[147,203],"content":"Data Binding in a Windows Presentation Foundation Client","linkify":"Data Binding in a Windows Presentation Foundation Client","nodes":[{"content":"Data Binding in a Windows Presentation Foundation Client","pos":[0,56]}]},{"content":"This sample demonstrates the use of data binding in a Windows Presentation Foundation (WPF) client.","pos":[204,303]},{"content":"The sample uses a Windows Communication Foundation (WCF) service that randomly generates an array of albums to return to the client.","pos":[304,436]},{"content":"Each album has a name, a price, and a list of album tracks.","pos":[437,496]},{"content":"The album tracks have a name and duration.","pos":[497,539]},{"content":"The information that is returned by the service is automatically bound to the user interface (UI) provided by the Windows Presentation Foundation (WPF) client.","pos":[540,699]},{"pos":[707,814],"content":"[!NOTE]\n The setup procedure and build instructions for this sample are located at the end of this topic.","leadings":["","> "],"nodes":[{"content":"The setup procedure and build instructions for this sample are located at the end of this topic.","pos":[9,105]}]},{"content":"Data binding allows a data source to be automatically bound to a UI.","pos":[821,889]},{"content":"This simplifies the programming model because it does not require that you programmatically update each UI element with the data from a data object or an array of data objects.","pos":[890,1066]},{"content":"You can bind an object to a single UI element or an array to a control that takes multiple inputs, such as a <ph id=\"ph1\">`ListBox`</ph>.","pos":[1067,1186],"source":" You can bind an object to a single UI element or an array to a control that takes multiple inputs, such as a `ListBox`."},{"content":"The following code shows how to bind data to the <ph id=\"ph1\">`DataContext`</ph> of a UI element.","pos":[1187,1266],"source":" The following code shows how to bind data to the `DataContext` of a UI element."},{"content":"In the previous sample, the <ph id=\"ph1\">`DataContext`</ph> for the <ph id=\"ph2\">`grid`</ph> layout element named <ph id=\"ph3\">`myPanel`</ph> is set to the data returned by the <ph id=\"ph4\">`GetAlbumList`</ph> method.","pos":[1538,1683],"source":"In the previous sample, the `DataContext` for the `grid` layout element named `myPanel` is set to the data returned by the `GetAlbumList` method."},{"content":"The <ph id=\"ph1\">`DataContext`</ph> allows elements to inherit information from their parent elements about the data source that is used for binding, as well as other characteristics of the binding such as the path.","pos":[1684,1881],"source":" The `DataContext` allows elements to inherit information from their parent elements about the data source that is used for binding, as well as other characteristics of the binding such as the path."},{"content":"The line of code must be executed every time the data on the server is updated.","pos":[1882,1961]},{"content":"For example, it is executed when the window is initialized and when a new album is added.","pos":[1962,2051]},{"pos":[2058,2144],"content":"In the following sample XAML code, the <ph id=\"ph1\">`ListBox`</ph> specifies <ph id=\"ph2\">`ItemsSource=\"{Binding }\"`</ph>.","source":"In the following sample XAML code, the `ListBox` specifies `ItemsSource=\"{Binding }\"`."},{"content":"This specifies that the data bound to the top-level UI element is also bound to this control (that is, the array of Albums).","pos":[2326,2450]},{"content":"In addition, <ph id=\"ph1\">`ItemTemplate=\"{StaticResource AlbumStyle}\"`</ph> specifies the data template to be used for each item in the <ph id=\"ph2\">`ListBox`</ph>.","pos":[2451,2579],"source":" In addition, `ItemTemplate=\"{StaticResource AlbumStyle}\"` specifies the data template to be used for each item in the `ListBox`."},{"content":"You can also define data templates to specify how the data should be formatted.","pos":[2580,2659]},{"content":"These data templates can be reused for other UI elements in the application, the advantage is that the data template is defined and maintained in one place.","pos":[2660,2816]},{"content":"The <ph id=\"ph1\">`AlbumStyle`</ph> data template lays out a grid with two <ph id=\"ph2\">`TextBlock`</ph>s side by side.","pos":[2823,2905],"source":"The `AlbumStyle` data template lays out a grid with two `TextBlock`s side by side."},{"content":"One specifies the name of the Album and the other the number of Tracks in the album.","pos":[2906,2990]},{"pos":[3447,3498],"content":"The following XAML code creates a second <ph id=\"ph1\">`ListBox`</ph>.","source":"The following XAML code creates a second `ListBox`."},{"content":"The code specifies a path for the <ph id=\"ph1\">`ItemsSource`</ph>.","pos":[3694,3742],"source":"The code specifies a path for the `ItemsSource`."},{"content":"This indicates that the data bound to this control is not the top-level data but a property of the top-level data named <ph id=\"ph1\">`Tracks`</ph>.","pos":[3743,3872],"source":" This indicates that the data bound to this control is not the top-level data but a property of the top-level data named `Tracks`."},{"content":"This property represents the array of tracks contained within the album.","pos":[3873,3945]},{"content":"In addition, a different <ph id=\"ph1\">`DataTemplate`</ph> named <ph id=\"ph2\">`TrackStyle`</ph> is specified.","pos":[3946,4018],"source":" In addition, a different `DataTemplate` named `TrackStyle` is specified."},{"content":"The layout of the <ph id=\"ph1\">`TrackStyle`</ph> template is similar to that of the <ph id=\"ph2\">`AlbumStyle`</ph> template, but the <ph id=\"ph3\">`TextBlock`</ph>s are bound to different properties.","pos":[4019,4163],"source":" The layout of the `TrackStyle` template is similar to that of the `AlbumStyle` template, but the `TextBlock`s are bound to different properties."},{"content":"This is because the two templates are used with different data objects.","pos":[4164,4235]},{"pos":[4245,4281],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[4291,4490],"content":"Ensure that you have performed the <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"pos":[4500,4709],"content":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id=\"p1\">[</bpt>Building the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.","source":"To build the C# or Visual Basic .NET edition of the solution, follow the instructions in [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md)."},{"pos":[4719,4927],"content":"To run the sample in a single- or cross-machine configuration, follow the instructions in <bpt id=\"p1\">[</bpt>Running the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.","source":"To run the sample in a single- or cross-machine configuration, follow the instructions in [Running the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/running-the-samples.md)."},{"pos":[4935,5067],"content":"[!IMPORTANT]\n The samples may already be installed on your machine. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your machine. Check for the following (default) directory before continuing.","pos":[14,130],"nodes":[{"content":"The samples may already be installed on your machine.","pos":[0,53]},{"content":"Check for the following (default) directory before continuing.","pos":[54,116]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all Windows Communication Foundation (WCF) and <ph id=\"ph1\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[5121,5431],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[5432,5482]}]}