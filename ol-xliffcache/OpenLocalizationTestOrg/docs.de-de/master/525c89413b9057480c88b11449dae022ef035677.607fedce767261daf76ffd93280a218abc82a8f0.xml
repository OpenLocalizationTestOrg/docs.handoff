{"content":"---\ntitle: \"Reader-Writer Locks | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"ReaderWriterLock class, about ReaderWriterLock class\"\n  - \"threading [.NET Framework], ReaderWriterLock class\"\nms.assetid: 8c71acf2-2c18-4f4d-8cdb-0728639265fd\ncaps.latest.revision: 11\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"\n---\n# Reader-Writer Locks\nThe <xref:System.Threading.ReaderWriterLockSlim> class enables multiple threads to read a resource concurrently, but requires a thread to wait for an exclusive lock in order to write to the resource.  \n  \n You might use a <xref:System.Threading.ReaderWriterLockSlim> in your application to provide cooperative synchronization among threads that access a shared resource. Locks are taken on the <xref:System.Threading.ReaderWriterLockSlim> itself.  \n  \n As with any thread synchronization mechanism, you must ensure that no threads bypass the locking that is provided by <xref:System.Threading.ReaderWriterLockSlim>. One way to ensure this is to design a class that encapsulates the shared resource. This class would provide members that access the private shared resource and that use a private <xref:System.Threading.ReaderWriterLockSlim> for synchronization. For an example, see the code example for the <xref:System.Threading.ReaderWriterLockSlim> class. <xref:System.Threading.ReaderWriterLockSlim> is efficient enough to be used to synchronize individual objects.  \n  \n Structure your application to minimize the duration of read and write operations. Long write operations affect throughput directly because the write lock is exclusive. Long read operations block waiting writers, and if at least one thread is waiting for write access, threads that request read access will be blocked as well.  \n  \n> [!NOTE]\n>  The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] has two reader-writer locks, <xref:System.Threading.ReaderWriterLockSlim> and <xref:System.Threading.ReaderWriterLock>. <xref:System.Threading.ReaderWriterLockSlim> is recommended for all new development. <xref:System.Threading.ReaderWriterLockSlim> is similar to <xref:System.Threading.ReaderWriterLock>, but it has simplified rules for recursion and for upgrading and downgrading lock state. <xref:System.Threading.ReaderWriterLockSlim> avoids many cases of potential deadlock. In addition, the performance of <xref:System.Threading.ReaderWriterLockSlim> is significantly better than <xref:System.Threading.ReaderWriterLock>.  \n  \n## See Also  \n <xref:System.Threading.ReaderWriterLockSlim>   \n <xref:System.Threading.ReaderWriterLock>   \n [Threading](../../../docs/standard/threading/index.md)   \n [Threading Objects and Features](../../../docs/standard/threading/threading-objects-and-features.md)","nodes":[{"pos":[4,471],"nodes":[{"content":"Reader-Writer Locks | Microsoft Docs","nodes":[{"pos":[0,36],"content":"Reader-Writer Locks | Microsoft Docs","nodes":[{"content":"Reader-Writer Locks | Microsoft Docs","pos":[0,36]}]}],"pos":[6,45],"yaml":true}],"content":"title: \"Reader-Writer Locks | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"ReaderWriterLock class, about ReaderWriterLock class\"\n  - \"threading [.NET Framework], ReaderWriterLock class\"\nms.assetid: 8c71acf2-2c18-4f4d-8cdb-0728639265fd\ncaps.latest.revision: 11\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\nmanager: \"wpickett\"","yamlblock":true},{"pos":[478,497],"content":"Reader-Writer Locks","linkify":"Reader-Writer Locks","nodes":[{"content":"Reader-Writer Locks","pos":[0,19]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> class enables multiple threads to read a resource concurrently, but requires a thread to wait for an exclusive lock in order to write to the resource.","pos":[498,697],"source":"The <xref:System.Threading.ReaderWriterLockSlim> class enables multiple threads to read a resource concurrently, but requires a thread to wait for an exclusive lock in order to write to the resource."},{"content":"You might use a <ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> in your application to provide cooperative synchronization among threads that access a shared resource.","pos":[704,868],"source":"You might use a <xref:System.Threading.ReaderWriterLockSlim> in your application to provide cooperative synchronization among threads that access a shared resource."},{"content":"Locks are taken on the <ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> itself.","pos":[869,944],"source":" Locks are taken on the <xref:System.Threading.ReaderWriterLockSlim> itself."},{"content":"As with any thread synchronization mechanism, you must ensure that no threads bypass the locking that is provided by <ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph>.","pos":[951,1113],"source":"As with any thread synchronization mechanism, you must ensure that no threads bypass the locking that is provided by <xref:System.Threading.ReaderWriterLockSlim>."},{"content":"One way to ensure this is to design a class that encapsulates the shared resource.","pos":[1114,1196]},{"content":"This class would provide members that access the private shared resource and that use a private <ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> for synchronization.","pos":[1197,1358],"source":" This class would provide members that access the private shared resource and that use a private <xref:System.Threading.ReaderWriterLockSlim> for synchronization."},{"content":"For an example, see the code example for the <ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> class.","pos":[1359,1455],"source":" For an example, see the code example for the <xref:System.Threading.ReaderWriterLockSlim> class."},{"content":"<ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> is efficient enough to be used to synchronize individual objects.","pos":[1456,1566],"source":" <xref:System.Threading.ReaderWriterLockSlim> is efficient enough to be used to synchronize individual objects."},{"content":"Structure your application to minimize the duration of read and write operations.","pos":[1573,1654]},{"content":"Long write operations affect throughput directly because the write lock is exclusive.","pos":[1655,1740]},{"content":"Long read operations block waiting writers, and if at least one thread is waiting for write access, threads that request read access will be blocked as well.","pos":[1741,1898]},{"pos":[1906,2609],"content":"[!NOTE]\n The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] has two reader-writer locks, <xref:System.Threading.ReaderWriterLockSlim> and <xref:System.Threading.ReaderWriterLock>. <xref:System.Threading.ReaderWriterLockSlim> is recommended for all new development. <xref:System.Threading.ReaderWriterLockSlim> is similar to <xref:System.Threading.ReaderWriterLock>, but it has simplified rules for recursion and for upgrading and downgrading lock state. <xref:System.Threading.ReaderWriterLockSlim> avoids many cases of potential deadlock. In addition, the performance of <xref:System.Threading.ReaderWriterLockSlim> is significantly better than <xref:System.Threading.ReaderWriterLock>.","leadings":["","> "],"nodes":[{"content":"The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] has two reader-writer locks, <xref:System.Threading.ReaderWriterLockSlim> and <xref:System.Threading.ReaderWriterLock>. <xref:System.Threading.ReaderWriterLockSlim> is recommended for all new development. <xref:System.Threading.ReaderWriterLockSlim> is similar to <xref:System.Threading.ReaderWriterLock>, but it has simplified rules for recursion and for upgrading and downgrading lock state. <xref:System.Threading.ReaderWriterLockSlim> avoids many cases of potential deadlock. In addition, the performance of <xref:System.Threading.ReaderWriterLockSlim> is significantly better than <xref:System.Threading.ReaderWriterLock>.","pos":[9,701],"nodes":[{"content":"The <ph id=\"ph1\">[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)]</ph> has two reader-writer locks, <ph id=\"ph2\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Threading.ReaderWriterLock&gt;</ph>.","pos":[0,184],"source":"The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] has two reader-writer locks, <xref:System.Threading.ReaderWriterLockSlim> and <xref:System.Threading.ReaderWriterLock>."},{"content":"<ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> is recommended for all new development.","pos":[185,269],"source":" <xref:System.Threading.ReaderWriterLockSlim> is recommended for all new development."},{"content":"<ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> is similar to <ph id=\"ph2\">&lt;xref:System.Threading.ReaderWriterLock&gt;</ph>, but it has simplified rules for recursion and for upgrading and downgrading lock state.","pos":[270,458],"source":" <xref:System.Threading.ReaderWriterLockSlim> is similar to <xref:System.Threading.ReaderWriterLock>, but it has simplified rules for recursion and for upgrading and downgrading lock state."},{"content":"<ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> avoids many cases of potential deadlock.","pos":[459,544],"source":" <xref:System.Threading.ReaderWriterLockSlim> avoids many cases of potential deadlock."},{"content":"In addition, the performance of <ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph> is significantly better than <ph id=\"ph2\">&lt;xref:System.Threading.ReaderWriterLock&gt;</ph>.","pos":[545,692],"source":" In addition, the performance of <xref:System.Threading.ReaderWriterLockSlim> is significantly better than <xref:System.Threading.ReaderWriterLock>."}]}]},{"pos":[2618,2626],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLockSlim&gt;</ph>","pos":[2630,2674],"source":"<xref:System.Threading.ReaderWriterLockSlim> "},{"content":"<ph id=\"ph1\">&lt;xref:System.Threading.ReaderWriterLock&gt;</ph>","pos":[2679,2719],"source":"<xref:System.Threading.ReaderWriterLock> "},{"content":"<bpt id=\"p1\">[</bpt>Threading<ept id=\"p1\">](../../../docs/standard/threading/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[2724,2779],"source":"[Threading](../../../docs/standard/threading/index.md) "},{"content":"<bpt id=\"p1\">[</bpt>Threading Objects and Features<ept id=\"p1\">](../../../docs/standard/threading/threading-objects-and-features.md)</ept>","pos":[2783,2883],"source":"[Threading Objects and Features](../../../docs/standard/threading/threading-objects-and-features.md)"}]}