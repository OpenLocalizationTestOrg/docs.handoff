{"content":"---\ntitle: \"Compiler Error CS0151\"\nms.date: 08/14/2018\nf1_keywords:\n  - \"CS0151\"\nhelpviewer_keywords:\n  - \"CS0151\"\nms.assetid: 1adda08b-6be5-46c8-96f9-5ac7c7bfe48c\n---\n# Compiler Error CS0151\n\nA value of an integral type expected\n\nA variable was used in a situation where an integral data type was required. For more information, see [Types](../../../csharp/programming-guide/types/index.md).\n\n## Example of ambiguous conversion\n\nThis error can occur when there is no conversion or if the available implicit conversions result in an ambiguous situation. The following example generates CS0151:\n\n```csharp\npublic class MyClass\n{\n   public static implicit operator int (MyClass aa)\n   {\n      return 0;\n   }\n\n   public static implicit operator long (MyClass aa)\n   {\n      return 0;\n   }\n\n   public static void Main()\n   {\n      MyClass a = new MyClass();\n\n      // Compiler cannot choose between int and long.\n      switch (a)   // CS0151\n      // try the following line instead\n      // switch ((int)a)\n      {\n         case 1:\n            break;\n      }\n   }\n}\n```\n\n## Example of void method\n\nA [void](../../../csharp/language-reference/keywords/void.md) method invocation in a [switch](../keywords/switch.md) match expression generates CS0151. You can fix the error by calling a method that returns an integral type such as [int](../../../csharp/language-reference/keywords/int.md) or [long](../../../csharp/language-reference/keywords/long.md) instead.\n\n```csharp\nclass C\n{\n    static void Main()\n    {\n        switch (M()) // CS0151\n        {\n            default:\n                break;\n        }\n    }\n\n    static void M()\n    {\n    }\n}\n```\n","nodes":[{"pos":[4,163],"embed":true,"restype":"x-metadata","content":"title: \"Compiler Error CS0151\"\nms.date: 08/14/2018\nf1_keywords:\n  - \"CS0151\"\nhelpviewer_keywords:\n  - \"CS0151\"\nms.assetid: 1adda08b-6be5-46c8-96f9-5ac7c7bfe48c","nodes":[{"content":"Compiler Error CS0151","nodes":[{"pos":[0,21],"content":"Compiler Error CS0151","nodes":[{"content":"Compiler Error CS0151","pos":[0,21]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[170,191],"content":"Compiler Error CS0151","linkify":"Compiler Error CS0151","nodes":[{"content":"Compiler Error CS0151","pos":[0,21]}]},{"content":"A value of an integral type expected","pos":[193,229]},{"content":"A variable was used in a situation where an integral data type was required.","pos":[231,307]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Types<ept id=\"p1\">](../../../csharp/programming-guide/types/index.md)</ept>.","pos":[308,392],"source":" For more information, see [Types](../../../csharp/programming-guide/types/index.md)."},{"pos":[397,428],"content":"Example of ambiguous conversion","linkify":"Example of ambiguous conversion","nodes":[{"content":"Example of ambiguous conversion","pos":[0,31]}]},{"content":"This error can occur when there is no conversion or if the available implicit conversions result in an ambiguous situation.","pos":[430,553]},{"content":"The following example generates CS0151:","pos":[554,593]},{"pos":[1070,1092],"content":"Example of void method","linkify":"Example of void method","nodes":[{"content":"Example of void method","pos":[0,22]}]},{"content":"A <bpt id=\"p1\">[</bpt>void<ept id=\"p1\">](../../../csharp/language-reference/keywords/void.md)</ept> method invocation in a <bpt id=\"p2\">[</bpt>switch<ept id=\"p2\">](../keywords/switch.md)</ept> match expression generates CS0151.","pos":[1094,1245],"source":"A [void](../../../csharp/language-reference/keywords/void.md) method invocation in a [switch](../keywords/switch.md) match expression generates CS0151."},{"content":"You can fix the error by calling a method that returns an integral type such as <bpt id=\"p1\">[</bpt>int<ept id=\"p1\">](../../../csharp/language-reference/keywords/int.md)</ept> or <bpt id=\"p2\">[</bpt>long<ept id=\"p2\">](../../../csharp/language-reference/keywords/long.md)</ept> instead.","pos":[1246,1455],"source":" You can fix the error by calling a method that returns an integral type such as [int](../../../csharp/language-reference/keywords/int.md) or [long](../../../csharp/language-reference/keywords/long.md) instead."}]}