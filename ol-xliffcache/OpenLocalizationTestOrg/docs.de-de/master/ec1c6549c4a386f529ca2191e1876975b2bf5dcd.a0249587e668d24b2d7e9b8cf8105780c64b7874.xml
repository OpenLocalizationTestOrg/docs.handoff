{"content":"---\ntitle: \"How to: Implement an Asynchronous Service Operation\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 4e5d2ea5-d8f8-4712-bd18-ea3c5461702c\n---\n# How to: Implement an Asynchronous Service Operation\nIn Windows Communication Foundation (WCF) applications, a service operation can be implemented asynchronously or synchronously without dictating to the client how to call it. For example, asynchronous service operations can be called synchronously, and synchronous service operations can be called asynchronously. For an example that shows how to call an operation asynchronously in a client application, see [How to: Call Service Operations Asynchronously](../../../docs/framework/wcf/feature-details/how-to-call-wcf-service-operations-asynchronously.md). For more information about synchronous and asynchronous operations, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md) and [Synchronous and Asynchronous Operations](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md). This topic describes the basic structure of an asynchronous service operation, the code is not complete. For a complete example of both the service and client sides, see [Asynchronous](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms751505(v=vs.100)).  \n  \n### Implement a service operation asynchronously  \n  \n1.  In your service contract, declare an asynchronous method pair according to the .NET asynchronous design guidelines. The `Begin` method takes a parameter, a callback object, and a state object, and returns a <xref:System.IAsyncResult?displayProperty=nameWithType> and a matching `End` method that takes a <xref:System.IAsyncResult?displayProperty=nameWithType> and returns the return value. For more information about asynchronous calls, see [Asynchronous Programming Design Patterns](https://go.microsoft.com/fwlink/?LinkId=248221).  \n  \n2.  Mark the `Begin` method of the asynchronous method pair with the <xref:System.ServiceModel.OperationContractAttribute?displayProperty=nameWithType> attribute and set the <xref:System.ServiceModel.OperationContractAttribute.AsyncPattern%2A?displayProperty=nameWithType> property to `true`. For example, the following code performs steps 1 and 2.  \n  \n     [!code-csharp[C_SyncAsyncClient#6](../../../samples/snippets/csharp/VS_Snippets_CFX/c_syncasyncclient/cs/services.cs#6)]\n     [!code-vb[C_SyncAsyncClient#6](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_syncasyncclient/vb/services.vb#6)]  \n  \n3.  Implement the `Begin/End` method pair in your service class according to the asynchronous design guidelines. For example, the following code example shows an implementation in which a string is written to the console in both the `Begin` and `End` portions of the asynchronous service operation, and the return value of the `End` operation is returned to the client. For the complete code example, see the Example section.  \n  \n     [!code-csharp[C_SyncAsyncClient#3](../../../samples/snippets/csharp/VS_Snippets_CFX/c_syncasyncclient/cs/services.cs#3)]\n     [!code-vb[C_SyncAsyncClient#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_syncasyncclient/vb/services.vb#3)]  \n  \n## Example  \n The following code examples show:  \n  \n1.  A service contract interface with:  \n  \n    1.  A synchronous `SampleMethod` operation.  \n  \n    2.  An asynchronous `BeginSampleMethod` operation.  \n  \n    3.  An asynchronous `BeginServiceAsyncMethod`/`EndServiceAsyncMethod` operation pair.  \n  \n2.  A service implementation using a <xref:System.IAsyncResult?displayProperty=nameWithType> object.  \n  \n [!code-csharp[C_SyncAsyncClient#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_syncasyncclient/cs/services.cs#1)]\n [!code-vb[C_SyncAsyncClient#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_syncasyncclient/vb/services.vb#1)]  \n  \n## See also\n\n- [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md)\n- [Synchronous and Asynchronous Operations](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md)\n","nodes":[{"pos":[4,169],"embed":true,"restype":"x-metadata","content":"title: \"How to: Implement an Asynchronous Service Operation\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 4e5d2ea5-d8f8-4712-bd18-ea3c5461702c","nodes":[{"content":"How to: Implement an Asynchronous Service Operation","nodes":[{"pos":[0,51],"content":"How to: Implement an Asynchronous Service Operation","nodes":[{"content":"How to: Implement an Asynchronous Service Operation","pos":[0,51]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[176,227],"content":"How to: Implement an Asynchronous Service Operation","linkify":"How to: Implement an Asynchronous Service Operation","nodes":[{"content":"How to: Implement an Asynchronous Service Operation","pos":[0,51]}]},{"content":"In Windows Communication Foundation (WCF) applications, a service operation can be implemented asynchronously or synchronously without dictating to the client how to call it.","pos":[228,402]},{"content":"For example, asynchronous service operations can be called synchronously, and synchronous service operations can be called asynchronously.","pos":[403,541]},{"content":"For an example that shows how to call an operation asynchronously in a client application, see <bpt id=\"p1\">[</bpt>How to: Call Service Operations Asynchronously<ept id=\"p1\">](../../../docs/framework/wcf/feature-details/how-to-call-wcf-service-operations-asynchronously.md)</ept>.","pos":[542,784],"source":" For an example that shows how to call an operation asynchronously in a client application, see [How to: Call Service Operations Asynchronously](../../../docs/framework/wcf/feature-details/how-to-call-wcf-service-operations-asynchronously.md)."},{"content":"For more information about synchronous and asynchronous operations, see <bpt id=\"p1\">[</bpt>Designing Service Contracts<ept id=\"p1\">](../../../docs/framework/wcf/designing-service-contracts.md)</ept> and <bpt id=\"p2\">[</bpt>Synchronous and Asynchronous Operations<ept id=\"p2\">](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md)</ept>.","pos":[785,1065],"source":" For more information about synchronous and asynchronous operations, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md) and [Synchronous and Asynchronous Operations](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md)."},{"content":"This topic describes the basic structure of an asynchronous service operation, the code is not complete.","pos":[1066,1170]},{"content":"For a complete example of both the service and client sides, see <bpt id=\"p1\">[</bpt>Asynchronous<ept id=\"p1\">](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms751505(v=vs.100))</ept>.","pos":[1171,1340],"source":" For a complete example of both the service and client sides, see [Asynchronous](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms751505(v=vs.100))."},{"pos":[1350,1394],"content":"Implement a service operation asynchronously","linkify":"Implement a service operation asynchronously","nodes":[{"content":"Implement a service operation asynchronously","pos":[0,44]}]},{"content":"In your service contract, declare an asynchronous method pair according to the .NET asynchronous design guidelines.","pos":[1404,1519]},{"content":"The <ph id=\"ph1\">`Begin`</ph> method takes a parameter, a callback object, and a state object, and returns a <ph id=\"ph2\">&lt;xref:System.IAsyncResult?displayProperty=nameWithType&gt;</ph> and a matching <ph id=\"ph3\">`End`</ph> method that takes a <ph id=\"ph4\">&lt;xref:System.IAsyncResult?displayProperty=nameWithType&gt;</ph> and returns the return value.","pos":[1520,1793],"source":" The `Begin` method takes a parameter, a callback object, and a state object, and returns a <xref:System.IAsyncResult?displayProperty=nameWithType> and a matching `End` method that takes a <xref:System.IAsyncResult?displayProperty=nameWithType> and returns the return value."},{"content":"For more information about asynchronous calls, see <bpt id=\"p1\">[</bpt>Asynchronous Programming Design Patterns<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=248221)</ept>.","pos":[1794,1936],"source":" For more information about asynchronous calls, see [Asynchronous Programming Design Patterns](https://go.microsoft.com/fwlink/?LinkId=248221)."},{"content":"Mark the <ph id=\"ph1\">`Begin`</ph> method of the asynchronous method pair with the <ph id=\"ph2\">&lt;xref:System.ServiceModel.OperationContractAttribute?displayProperty=nameWithType&gt;</ph> attribute and set the <ph id=\"ph3\">&lt;xref:System.ServiceModel.OperationContractAttribute.AsyncPattern%2A?displayProperty=nameWithType&gt;</ph> property to <ph id=\"ph4\">`true`</ph>.","pos":[1946,2234],"source":"Mark the `Begin` method of the asynchronous method pair with the <xref:System.ServiceModel.OperationContractAttribute?displayProperty=nameWithType> attribute and set the <xref:System.ServiceModel.OperationContractAttribute.AsyncPattern%2A?displayProperty=nameWithType> property to `true`."},{"content":"For example, the following code performs steps 1 and 2.","pos":[2235,2290]},{"pos":[2301,2548],"content":"[!code-csharp[C_SyncAsyncClient#6](../../../samples/snippets/csharp/VS_Snippets_CFX/c_syncasyncclient/cs/services.cs#6)]\n [!code-vb[C_SyncAsyncClient#6](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_syncasyncclient/vb/services.vb#6)]","leadings":["","    "],"nodes":[]},{"content":"Implement the <ph id=\"ph1\">`Begin/End`</ph> method pair in your service class according to the asynchronous design guidelines.","pos":[2558,2666],"source":"Implement the `Begin/End` method pair in your service class according to the asynchronous design guidelines."},{"content":"For example, the following code example shows an implementation in which a string is written to the console in both the <ph id=\"ph1\">`Begin`</ph> and <ph id=\"ph2\">`End`</ph> portions of the asynchronous service operation, and the return value of the <ph id=\"ph3\">`End`</ph> operation is returned to the client.","pos":[2667,2923],"source":" For example, the following code example shows an implementation in which a string is written to the console in both the `Begin` and `End` portions of the asynchronous service operation, and the return value of the `End` operation is returned to the client."},{"content":"For the complete code example, see the Example section.","pos":[2924,2979]},{"pos":[2990,3237],"content":"[!code-csharp[C_SyncAsyncClient#3](../../../samples/snippets/csharp/VS_Snippets_CFX/c_syncasyncclient/cs/services.cs#3)]\n [!code-vb[C_SyncAsyncClient#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_syncasyncclient/vb/services.vb#3)]","leadings":["","    "],"nodes":[]},{"pos":[3246,3253],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following code examples show:","pos":[3257,3290]},{"content":"A service contract interface with:","pos":[3300,3334]},{"pos":[3348,3387],"content":"A synchronous <ph id=\"ph1\">`SampleMethod`</ph> operation.","source":"A synchronous `SampleMethod` operation."},{"pos":[3401,3447],"content":"An asynchronous <ph id=\"ph1\">`BeginSampleMethod`</ph> operation.","source":"An asynchronous `BeginSampleMethod` operation."},{"pos":[3461,3542],"content":"An asynchronous <ph id=\"ph1\">`BeginServiceAsyncMethod`</ph><ph id=\"ph2\">/</ph><ph id=\"ph3\">`EndServiceAsyncMethod`</ph> operation pair.","source":"An asynchronous `BeginServiceAsyncMethod`/`EndServiceAsyncMethod` operation pair."},{"pos":[3552,3648],"content":"A service implementation using a <ph id=\"ph1\">&lt;xref:System.IAsyncResult?displayProperty=nameWithType&gt;</ph> object.","source":"A service implementation using a <xref:System.IAsyncResult?displayProperty=nameWithType> object."},{"pos":[3655,3898],"content":"[!code-csharp[C_SyncAsyncClient#1](../../../samples/snippets/csharp/VS_Snippets_CFX/c_syncasyncclient/cs/services.cs#1)]\n[!code-vb[C_SyncAsyncClient#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_syncasyncclient/vb/services.vb#1)]","leadings":[""," "],"nodes":[]},{"pos":[3907,3915],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3919,4008],"content":"<bpt id=\"p1\">[</bpt>Designing Service Contracts<ept id=\"p1\">](../../../docs/framework/wcf/designing-service-contracts.md)</ept>","source":"[Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md)"},{"pos":[4011,4124],"content":"<bpt id=\"p1\">[</bpt>Synchronous and Asynchronous Operations<ept id=\"p1\">](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md)</ept>","source":"[Synchronous and Asynchronous Operations](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md)"}]}