{"content":"---\ntitle: \"Inferring Relationships\"\nms.date: \"03/30/2017\"\nms.assetid: 8fa86a9d-6545-4a9d-b1f5-58d9742179c7\n---\n# Inferring Relationships\nIf an element that is inferred as a table has a child element that is also inferred as a table, a <xref:System.Data.DataRelation> will be created between the two tables. A new column with a name of **ParentTableName_Id** will be added to both the table created for the parent element, and the table created for the child element. The **ColumnMapping** property of this identity column will be set to **MappingType.Hidden**. The column will be an auto-incrementing primary key for the parent table, and will be used for the **DataRelation** between the two tables. The data type of the added identity column will be **System.Int32**, unlike the data type of all other inferred columns, which is **System.String**. A <xref:System.Data.ForeignKeyConstraint> with **DeleteRule** = **Cascade** will also be created using the new column in both the parent and child tables.  \n  \n For example, consider the following XML:  \n  \n```xml  \n<DocumentElement>  \n  <Element1>  \n    <ChildElement1 attr1=\"value1\" attr2=\"value2\"/>  \n    <ChildElement2>Text2</ChildElement2>  \n  </Element1>  \n</DocumentElement>  \n```  \n  \n The inference process will produce two tables: **Element1** and **ChildElement1**.  \n  \n The **Element1** table will have two columns: **Element1_Id** and **ChildElement2**. The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**. The **ColumnMapping** property of the **ChildElement2** column will be set to **MappingType.Element**. The **Element1_Id** column will be set as the primary key of the **Element1** table.  \n  \n The **ChildElement1** table will have three columns: **attr1**, **attr2** and **Element1_Id**. The **ColumnMapping** property for the **attr1** and **attr2** columns will be set to **MappingType.Attribute**. The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**.  \n  \n A **DataRelation** and **ForeignKeyConstraint** will be created using the **Element1_Id** columns from both tables.  \n  \n **DataSet:** DocumentElement  \n  \n **Table:** Element1  \n  \n|Element1_Id|ChildElement2|  \n|------------------|-------------------|  \n|0|Text2|  \n  \n **Table:** ChildElement1  \n  \n|attr1|attr2|Element1_Id|  \n|-----------|-----------|------------------|  \n|value1|value2|0|  \n  \n **DataRelation:** Element1_ChildElement1  \n  \n **ParentTable:** Element1  \n  \n **ParentColumn:** Element1_Id  \n  \n **ChildTable:** ChildElement1  \n  \n **ChildColumn:** Element1_Id  \n  \n **Nested:** True  \n  \n **ForeignKeyConstraint:** Element1_ChildElement1  \n  \n **Column:** Element1_Id  \n  \n **ParentTable:** Element1  \n  \n **ChildTable:** ChildElement1  \n  \n **DeleteRule:** Cascade  \n  \n **AcceptRejectRule:** None  \n  \n## See also\n\n- [Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)\n- [Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)\n- [Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)\n- [Nesting DataRelations](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/nesting-datarelations.md)\n- [Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)\n- [DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)\n- [ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)\n","nodes":[{"pos":[4,107],"embed":true,"restype":"x-metadata","content":"title: \"Inferring Relationships\"\nms.date: \"03/30/2017\"\nms.assetid: 8fa86a9d-6545-4a9d-b1f5-58d9742179c7","nodes":[{"content":"Inferring Relationships","nodes":[{"pos":[0,23],"content":"Inferring Relationships","nodes":[{"content":"Inferring Relationships","pos":[0,23]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[114,137],"content":"Inferring Relationships","linkify":"Inferring Relationships","nodes":[{"content":"Inferring Relationships","pos":[0,23]}]},{"content":"If an element that is inferred as a table has a child element that is also inferred as a table, a <ph id=\"ph1\">&lt;xref:System.Data.DataRelation&gt;</ph> will be created between the two tables.","pos":[138,307],"source":"If an element that is inferred as a table has a child element that is also inferred as a table, a <xref:System.Data.DataRelation> will be created between the two tables."},{"content":"A new column with a name of <bpt id=\"p1\">**</bpt>ParentTableName_Id<ept id=\"p1\">**</ept> will be added to both the table created for the parent element, and the table created for the child element.","pos":[308,467],"source":" A new column with a name of **ParentTableName_Id** will be added to both the table created for the parent element, and the table created for the child element."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of this identity column will be set to <bpt id=\"p2\">**</bpt>MappingType.Hidden<ept id=\"p2\">**</ept>.","pos":[468,561],"source":" The **ColumnMapping** property of this identity column will be set to **MappingType.Hidden**."},{"content":"The column will be an auto-incrementing primary key for the parent table, and will be used for the <bpt id=\"p1\">**</bpt>DataRelation<ept id=\"p1\">**</ept> between the two tables.","pos":[562,701],"source":" The column will be an auto-incrementing primary key for the parent table, and will be used for the **DataRelation** between the two tables."},{"content":"The data type of the added identity column will be <bpt id=\"p1\">**</bpt>System.Int32<ept id=\"p1\">**</ept>, unlike the data type of all other inferred columns, which is <bpt id=\"p2\">**</bpt>System.String<ept id=\"p2\">**</ept>.","pos":[702,850],"source":" The data type of the added identity column will be **System.Int32**, unlike the data type of all other inferred columns, which is **System.String**."},{"content":"A <ph id=\"ph1\">&lt;xref:System.Data.ForeignKeyConstraint&gt;</ph> with <bpt id=\"p1\">**</bpt>DeleteRule<ept id=\"p1\">**</ept><ph id=\"ph2\"> = </ph><bpt id=\"p2\">**</bpt>Cascade<ept id=\"p2\">**</ept> will also be created using the new column in both the parent and child tables.","pos":[851,1005],"source":" A <xref:System.Data.ForeignKeyConstraint> with **DeleteRule** = **Cascade** will also be created using the new column in both the parent and child tables."},{"content":"For example, consider the following XML:","pos":[1012,1052]},{"pos":[1245,1327],"content":"The inference process will produce two tables: <bpt id=\"p1\">**</bpt>Element1<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>ChildElement1<ept id=\"p2\">**</ept>.","source":"The inference process will produce two tables: **Element1** and **ChildElement1**."},{"content":"The <bpt id=\"p1\">**</bpt>Element1<ept id=\"p1\">**</ept> table will have two columns: <bpt id=\"p2\">**</bpt>Element1_Id<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>ChildElement2<ept id=\"p3\">**</ept>.","pos":[1334,1418],"source":"The **Element1** table will have two columns: **Element1_Id** and **ChildElement2**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the <bpt id=\"p2\">**</bpt>Element1_Id<ept id=\"p2\">**</ept> column will be set to <bpt id=\"p3\">**</bpt>MappingType.Hidden<ept id=\"p3\">**</ept>.","pos":[1419,1518],"source":" The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the <bpt id=\"p2\">**</bpt>ChildElement2<ept id=\"p2\">**</ept> column will be set to <bpt id=\"p3\">**</bpt>MappingType.Element<ept id=\"p3\">**</ept>.","pos":[1519,1621],"source":" The **ColumnMapping** property of the **ChildElement2** column will be set to **MappingType.Element**."},{"content":"The <bpt id=\"p1\">**</bpt>Element1_Id<ept id=\"p1\">**</ept> column will be set as the primary key of the <bpt id=\"p2\">**</bpt>Element1<ept id=\"p2\">**</ept> table.","pos":[1622,1706],"source":" The **Element1_Id** column will be set as the primary key of the **Element1** table."},{"content":"The <bpt id=\"p1\">**</bpt>ChildElement1<ept id=\"p1\">**</ept> table will have three columns: <bpt id=\"p2\">**</bpt>attr1<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>attr2<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>Element1_Id<ept id=\"p4\">**</ept>.","pos":[1713,1807],"source":"The **ChildElement1** table will have three columns: **attr1**, **attr2** and **Element1_Id**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property for the <bpt id=\"p2\">**</bpt>attr1<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>attr2<ept id=\"p3\">**</ept> columns will be set to <bpt id=\"p4\">**</bpt>MappingType.Attribute<ept id=\"p4\">**</ept>.","pos":[1808,1920],"source":" The **ColumnMapping** property for the **attr1** and **attr2** columns will be set to **MappingType.Attribute**."},{"content":"The <bpt id=\"p1\">**</bpt>ColumnMapping<ept id=\"p1\">**</ept> property of the <bpt id=\"p2\">**</bpt>Element1_Id<ept id=\"p2\">**</ept> column will be set to <bpt id=\"p3\">**</bpt>MappingType.Hidden<ept id=\"p3\">**</ept>.","pos":[1921,2020],"source":" The **ColumnMapping** property of the **Element1_Id** column will be set to **MappingType.Hidden**."},{"pos":[2027,2142],"content":"A <bpt id=\"p1\">**</bpt>DataRelation<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>ForeignKeyConstraint<ept id=\"p2\">**</ept> will be created using the <bpt id=\"p3\">**</bpt>Element1_Id<ept id=\"p3\">**</ept> columns from both tables.","source":"A **DataRelation** and **ForeignKeyConstraint** will be created using the **Element1_Id** columns from both tables."},{"pos":[2149,2177],"content":"<bpt id=\"p1\">**</bpt>DataSet:<ept id=\"p1\">**</ept> DocumentElement","source":"**DataSet:** DocumentElement"},{"pos":[2184,2203],"content":"<bpt id=\"p1\">**</bpt>Table:<ept id=\"p1\">**</ept> Element1","source":"**Table:** Element1"},{"content":"Element1_Id","pos":[2210,2221]},{"content":"ChildElement2","pos":[2222,2235]},{"content":"0","pos":[2283,2284]},{"content":"Text2","pos":[2285,2290]},{"pos":[2298,2322],"content":"<bpt id=\"p1\">**</bpt>Table:<ept id=\"p1\">**</ept> ChildElement1","source":"**Table:** ChildElement1"},{"content":"attr1","pos":[2329,2334]},{"content":"attr2","pos":[2335,2340]},{"content":"Element1_Id","pos":[2341,2352]},{"content":"value1","pos":[2404,2410]},{"content":"value2","pos":[2411,2417]},{"content":"0","pos":[2418,2419]},{"pos":[2427,2467],"content":"<bpt id=\"p1\">**</bpt>DataRelation:<ept id=\"p1\">**</ept> Element1_ChildElement1","source":"**DataRelation:** Element1_ChildElement1"},{"pos":[2474,2499],"content":"<bpt id=\"p1\">**</bpt>ParentTable:<ept id=\"p1\">**</ept> Element1","source":"**ParentTable:** Element1"},{"pos":[2506,2535],"content":"<bpt id=\"p1\">**</bpt>ParentColumn:<ept id=\"p1\">**</ept> Element1_Id","source":"**ParentColumn:** Element1_Id"},{"pos":[2542,2571],"content":"<bpt id=\"p1\">**</bpt>ChildTable:<ept id=\"p1\">**</ept> ChildElement1","source":"**ChildTable:** ChildElement1"},{"pos":[2578,2606],"content":"<bpt id=\"p1\">**</bpt>ChildColumn:<ept id=\"p1\">**</ept> Element1_Id","source":"**ChildColumn:** Element1_Id"},{"pos":[2613,2629],"content":"<bpt id=\"p1\">**</bpt>Nested:<ept id=\"p1\">**</ept> True","source":"**Nested:** True"},{"pos":[2636,2684],"content":"<bpt id=\"p1\">**</bpt>ForeignKeyConstraint:<ept id=\"p1\">**</ept> Element1_ChildElement1","source":"**ForeignKeyConstraint:** Element1_ChildElement1"},{"pos":[2691,2714],"content":"<bpt id=\"p1\">**</bpt>Column:<ept id=\"p1\">**</ept> Element1_Id","source":"**Column:** Element1_Id"},{"pos":[2721,2746],"content":"<bpt id=\"p1\">**</bpt>ParentTable:<ept id=\"p1\">**</ept> Element1","source":"**ParentTable:** Element1"},{"pos":[2753,2782],"content":"<bpt id=\"p1\">**</bpt>ChildTable:<ept id=\"p1\">**</ept> ChildElement1","source":"**ChildTable:** ChildElement1"},{"pos":[2789,2812],"content":"<bpt id=\"p1\">**</bpt>DeleteRule:<ept id=\"p1\">**</ept> Cascade","source":"**DeleteRule:** Cascade"},{"pos":[2819,2845],"content":"<bpt id=\"p1\">**</bpt>AcceptRejectRule:<ept id=\"p1\">**</ept> None","source":"**AcceptRejectRule:** None"},{"pos":[2854,2862],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[2866,3036],"content":"<bpt id=\"p1\">[</bpt>Inferring DataSet Relational Structure from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)</ept>","source":"[Inferring DataSet Relational Structure from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/inferring-dataset-relational-structure-from-xml.md)"},{"pos":[3039,3167],"content":"<bpt id=\"p1\">[</bpt>Loading a DataSet from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)</ept>","source":"[Loading a DataSet from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md)"},{"pos":[3170,3332],"content":"<bpt id=\"p1\">[</bpt>Loading DataSet Schema Information from XML<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)</ept>","source":"[Loading DataSet Schema Information from XML](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/loading-dataset-schema-information-from-xml.md)"},{"pos":[3335,3453],"content":"<bpt id=\"p1\">[</bpt>Nesting DataRelations<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/nesting-datarelations.md)</ept>","source":"[Nesting DataRelations](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/nesting-datarelations.md)"},{"pos":[3456,3576],"content":"<bpt id=\"p1\">[</bpt>Using XML in a DataSet<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)</ept>","source":"[Using XML in a DataSet](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)"},{"pos":[3579,3695],"content":"<bpt id=\"p1\">[</bpt>DataSets, DataTables, and DataViews<ept id=\"p1\">](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)</ept>","source":"[DataSets, DataTables, and DataViews](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)"},{"pos":[3698,3802],"content":"<bpt id=\"p1\">[</bpt>ADO.NET Managed Providers and DataSet Developer Center<ept id=\"p1\">](https://go.microsoft.com/fwlink/?LinkId=217917)</ept>","source":"[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)"}]}