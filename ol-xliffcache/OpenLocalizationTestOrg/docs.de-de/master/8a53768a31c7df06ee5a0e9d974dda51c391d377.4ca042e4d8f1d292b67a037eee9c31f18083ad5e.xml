{"content":"---\ntitle: \"Composing Streams | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"streams, base streams\"\n  - \"I/O [.NET Framework], composing streams\"\n  - \"Stream class, composing streams\"\n  - \"base streams\"\n  - \"streams, backing stores\"\nms.assetid: da761658-a535-4f26-a452-b30df47f73d5\ncaps.latest.revision: 10\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"\n---\n# Composing Streams\nA backing store is a storage medium, such as a disk or memory. Each different backing store implements its own stream as an implementation of the <xref:System.IO.Stream> class. Each stream type reads and writes bytes from and to its given backing store. Streams that connect to backing stores are called base streams. Base streams have constructors that have the parameters necessary to connect the stream to the backing store. For example, <xref:System.IO.FileStream> has constructors that specify a path parameter, which specifies how the file will be shared by processes, and so on.  \n  \n The design of the <xref:System.IO> classes provides simplified stream composing. Base streams can be attached to one or more pass-through streams that provide the functionality you want. A reader or writer can be attached to the end of the chain so that the preferred types can be read or written easily.  \n  \n The following code example creates a **FileStream** around the existing `MyFile.txt` in order to buffer `MyFile.txt`. (Note that **FileStreams** are buffered by default.) Next, a <xref:System.IO.StreamReader> is created to read characters from the **FileStream**, which is passed to the **StreamReader** as its constructor argument. <xref:System.IO.StreamReader.ReadLine%2A> reads until <xref:System.IO.StreamReader.Peek%2A> finds no more characters.  \n  \n [!code-cpp[System.IO.StreamReader#20](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.StreamReader/CPP/source2.cpp#20)]\n [!code-csharp[System.IO.StreamReader#20](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.StreamReader/CS/source2.cs#20)]\n [!code-vb[System.IO.StreamReader#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.StreamReader/VB/source2.vb#20)]  \n  \n The following code example creates a **FileStream** around the existing `MyFile.txt` in order to buffer `MyFile.txt`. (Note that **FileStreams** are buffered by default.) Next, a **BinaryReader** is created to read bytes from the **FileStream**, which is passed to the **BinaryReader** as its constructor argument. <xref:System.IO.BinaryReader.ReadByte%2A> reads until <xref:System.IO.BinaryReader.PeekChar%2A> finds no more bytes.  \n  \n [!code-cpp[System.IO.StreamReader#21](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.StreamReader/CPP/source3.cpp#21)]\n [!code-csharp[System.IO.StreamReader#21](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.StreamReader/CS/source3.cs#21)]\n [!code-vb[System.IO.StreamReader#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.StreamReader/VB/source3.vb#21)]  \n  \n## See Also  \n <xref:System.IO.StreamReader>   \n <xref:System.IO.StreamReader.ReadLine%2A?displayProperty=fullName>   \n <xref:System.IO.StreamReader.Peek%2A?displayProperty=fullName>   \n <xref:System.IO.FileStream>   \n <xref:System.IO.BinaryReader>   \n <xref:System.IO.BinaryReader.ReadByte%2A?displayProperty=fullName>   \n <xref:System.IO.BinaryReader.PeekChar%2A?displayProperty=fullName>","nodes":[{"pos":[4,511],"embed":true,"restype":"x-metadata","content":"title: \"Composing Streams | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: dotnet-standard\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nhelpviewer_keywords: \n  - \"streams, base streams\"\n  - \"I/O [.NET Framework], composing streams\"\n  - \"Stream class, composing streams\"\n  - \"base streams\"\n  - \"streams, backing stores\"\nms.assetid: da761658-a535-4f26-a452-b30df47f73d5\ncaps.latest.revision: 10\nauthor: \"mairaw\"\nms.author: \"mairaw\"\nmanager: \"wpickett\"","nodes":[{"content":"Composing Streams | Microsoft Docs","nodes":[{"pos":[0,34],"content":"Composing Streams | Microsoft Docs","nodes":[{"content":"Composing Streams | Microsoft Docs","pos":[0,34]}]}],"path":["title"]}],"yml":true},{"pos":[518,535],"content":"Composing Streams","linkify":"Composing Streams","nodes":[{"content":"Composing Streams","pos":[0,17]}]},{"content":"A backing store is a storage medium, such as a disk or memory.","pos":[536,598]},{"content":"Each different backing store implements its own stream as an implementation of the <ph id=\"ph1\">&lt;xref:System.IO.Stream&gt;</ph> class.","pos":[599,712],"source":" Each different backing store implements its own stream as an implementation of the <xref:System.IO.Stream> class."},{"content":"Each stream type reads and writes bytes from and to its given backing store.","pos":[713,789]},{"content":"Streams that connect to backing stores are called base streams.","pos":[790,853]},{"content":"Base streams have constructors that have the parameters necessary to connect the stream to the backing store.","pos":[854,963]},{"content":"For example, <ph id=\"ph1\">&lt;xref:System.IO.FileStream&gt;</ph> has constructors that specify a path parameter, which specifies how the file will be shared by processes, and so on.","pos":[964,1121],"source":" For example, <xref:System.IO.FileStream> has constructors that specify a path parameter, which specifies how the file will be shared by processes, and so on."},{"content":"The design of the <ph id=\"ph1\">&lt;xref:System.IO&gt;</ph> classes provides simplified stream composing.","pos":[1128,1208],"source":"The design of the <xref:System.IO> classes provides simplified stream composing."},{"content":"Base streams can be attached to one or more pass-through streams that provide the functionality you want.","pos":[1209,1314]},{"content":"A reader or writer can be attached to the end of the chain so that the preferred types can be read or written easily.","pos":[1315,1432]},{"content":"The following code example creates a <bpt id=\"p1\">**</bpt>FileStream<ept id=\"p1\">**</ept> around the existing <ph id=\"ph1\">`MyFile.txt`</ph> in order to buffer <ph id=\"ph2\">`MyFile.txt`</ph>.","pos":[1439,1556],"source":"The following code example creates a **FileStream** around the existing `MyFile.txt` in order to buffer `MyFile.txt`."},{"content":"(Note that <bpt id=\"p1\">**</bpt>FileStreams<ept id=\"p1\">**</ept> are buffered by default.) Next, a <ph id=\"ph1\">&lt;xref:System.IO.StreamReader&gt;</ph> is created to read characters from the <bpt id=\"p2\">**</bpt>FileStream<ept id=\"p2\">**</ept>, which is passed to the <bpt id=\"p3\">**</bpt>StreamReader<ept id=\"p3\">**</ept> as its constructor argument.","pos":[1557,1771],"source":" (Note that **FileStreams** are buffered by default.) Next, a <xref:System.IO.StreamReader> is created to read characters from the **FileStream**, which is passed to the **StreamReader** as its constructor argument."},{"content":"<ph id=\"ph1\">&lt;xref:System.IO.StreamReader.ReadLine%2A&gt;</ph> reads until <ph id=\"ph2\">&lt;xref:System.IO.StreamReader.Peek%2A&gt;</ph> finds no more characters.","pos":[1772,1889],"source":" <xref:System.IO.StreamReader.ReadLine%2A> reads until <xref:System.IO.StreamReader.Peek%2A> finds no more characters."},{"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>System.IO.StreamReader#20<ept id=\"p2\">](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.StreamReader/CPP/source2.cpp#20)</ept><ept id=\"p1\">]</ept>","pos":[1896,2030],"source":"[!code-cpp[System.IO.StreamReader#20](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.StreamReader/CPP/source2.cpp#20)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.IO.StreamReader#20<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.StreamReader/CS/source2.cs#20)</ept><ept id=\"p1\">]</ept>","pos":[2032,2170],"source":"[!code-csharp[System.IO.StreamReader#20](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.StreamReader/CS/source2.cs#20)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>System.IO.StreamReader#20<ept id=\"p2\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.StreamReader/VB/source2.vb#20)</ept><ept id=\"p1\">]</ept>","pos":[2172,2311],"source":"[!code-vb[System.IO.StreamReader#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.StreamReader/VB/source2.vb#20)]"},{"content":"The following code example creates a <bpt id=\"p1\">**</bpt>FileStream<ept id=\"p1\">**</ept> around the existing <ph id=\"ph1\">`MyFile.txt`</ph> in order to buffer <ph id=\"ph2\">`MyFile.txt`</ph>.","pos":[2318,2435],"source":"The following code example creates a **FileStream** around the existing `MyFile.txt` in order to buffer `MyFile.txt`."},{"content":"(Note that <bpt id=\"p1\">**</bpt>FileStreams<ept id=\"p1\">**</ept> are buffered by default.) Next, a <bpt id=\"p2\">**</bpt>BinaryReader<ept id=\"p2\">**</ept> is created to read bytes from the <bpt id=\"p3\">**</bpt>FileStream<ept id=\"p3\">**</ept>, which is passed to the <bpt id=\"p4\">**</bpt>BinaryReader<ept id=\"p4\">**</ept> as its constructor argument.","pos":[2436,2632],"source":" (Note that **FileStreams** are buffered by default.) Next, a **BinaryReader** is created to read bytes from the **FileStream**, which is passed to the **BinaryReader** as its constructor argument."},{"content":"<ph id=\"ph1\">&lt;xref:System.IO.BinaryReader.ReadByte%2A&gt;</ph> reads until <ph id=\"ph2\">&lt;xref:System.IO.BinaryReader.PeekChar%2A&gt;</ph> finds no more bytes.","pos":[2633,2749],"source":" <xref:System.IO.BinaryReader.ReadByte%2A> reads until <xref:System.IO.BinaryReader.PeekChar%2A> finds no more bytes."},{"content":"<bpt id=\"p1\">[!code-cpp</bpt><bpt id=\"p2\">[</bpt>System.IO.StreamReader#21<ept id=\"p2\">](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.StreamReader/CPP/source3.cpp#21)</ept><ept id=\"p1\">]</ept>","pos":[2756,2890],"source":"[!code-cpp[System.IO.StreamReader#21](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.IO.StreamReader/CPP/source3.cpp#21)]"},{"content":"<bpt id=\"p1\">[!code-csharp</bpt><bpt id=\"p2\">[</bpt>System.IO.StreamReader#21<ept id=\"p2\">](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.StreamReader/CS/source3.cs#21)</ept><ept id=\"p1\">]</ept>","pos":[2892,3030],"source":"[!code-csharp[System.IO.StreamReader#21](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.IO.StreamReader/CS/source3.cs#21)]"},{"content":"<bpt id=\"p1\">[!code-vb</bpt><bpt id=\"p2\">[</bpt>System.IO.StreamReader#21<ept id=\"p2\">](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.StreamReader/VB/source3.vb#21)</ept><ept id=\"p1\">]</ept>","pos":[3032,3171],"source":"[!code-vb[System.IO.StreamReader#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.IO.StreamReader/VB/source3.vb#21)]"},{"pos":[3180,3188],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}