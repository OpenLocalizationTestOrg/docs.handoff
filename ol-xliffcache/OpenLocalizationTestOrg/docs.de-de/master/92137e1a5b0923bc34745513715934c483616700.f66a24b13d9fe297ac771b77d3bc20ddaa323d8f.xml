{"content":"---\ntitle: \"ICorProfilerInfo4::RequestRevert Method\"\nms.date: \"03/30/2017\"\napi_name: \n  - \"ICorProfilerInfo4.RequestRevert\"\napi_location: \n  - \"mscorwks.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICorProfilerInfo4::RequestRevert\"\nhelpviewer_keywords: \n  - \"RequestRevert method, ICorProfilerInfo4 interface [.NET Framework profiling]\"\n  - \"ICorProfilerInfo4::RequestRevert method [.NET Framework profiling]\"\nms.assetid: 70261da5-5933-4e25-9de0-ddf51cba56cc\ntopic_type: \n  - \"apiref\"\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# ICorProfilerInfo4::RequestRevert Method\nReverts all instances of the specified functions to their original versions.  \n  \n## Syntax  \n  \n```  \nHRESULT RequestRevert (  \n   [in] ULONG    cFunctions,  \n   [in, size_is(cFunctions)]  ModuleID    moduleIds[],  \n   [in, size_is(cFunctions)]  mdMethodDef methodIds[],  \n   [out, size_is(cFunctions)]  HRESULT status[]);  \n```  \n  \n## Parameters  \n `cFunctions`  \n [in] The number of functions to revert.  \n  \n `moduleIds`  \n [in] Specifies the `moduleId` portion of the (`module`, `methodDef`) pairs that identify the functions to be reverted.  \n  \n `methodIds`  \n [in] Specifies the `methodId` portion of the (`module`, `methodDef`) pairs that identify the functions to be reverted.  \n  \n `status`  \n [out] An array of HRESULTs listed in the \"Status HRESULTs\" section later in this topic. Each HRESULT indicates the success or failure of trying to revert each function specified in the parallel arrays `moduleIds` and `methodIds`.  \n  \n## Return Value  \n This method returns the following specific HRESULTs as well as HRESULT errors that indicate method failure.  \n  \n|HRESULT|Description|  \n|-------------|-----------------|  \n|S_OK|An attempt was made to revert all requests; however, the returned status array must be checked to determine which functions were successfully reverted.|  \n|CORPROF_E_CALLBACK4_REQUIRED|The profiler must implement the [ICorProfilerCallback4](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback4-interface.md) interface for this call to be supported.|  \n|CORPROF_E_REJIT_NOT_ENABLED|JIT recompilation has not been enabled. You must enable JIT recompilation during initialization by using the [ICorProfilerInfo::SetEventMask](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo-seteventmask-method.md) method to set the `COR_PRF_ENABLE_REJIT` flag.|  \n|E_INVALIDARG|`cFunctions` is 0, or `moduleIds` or `methodIds` is `NULL`.|  \n|E_OUTOFMEMORY|The CLR was unable to complete the request because it ran out of memory.|  \n  \n## Status HRESULTS  \n  \n|Status array HRESULT|Description|  \n|--------------------------|-----------------|  \n|S_OK|The corresponding function was successfully reverted.|  \n|E_INVALIDARG|The `moduleID` or `methodDef` parameter is `NULL`.|  \n|CORPROF_E_DATAINCOMPLETE|The module is not fully loaded yet, or it is in the process of being unloaded.|  \n|CORPROF_E_MODULE_IS_DYNAMIC|The specified module was dynamically generated (for example by `Reflection.Emit`). Therefore, it is not supported by this method.|  \n|CORPROF_E_ACTIVE_REJIT_REQUEST_NOT_FOUND|The CLR could not revert the specified function, because a corresponding active recompilation request was not found. Either the recompilation was never requested or the function was already reverted.|  \n|Other|The operating system returned a failure outside the control of the CLR. For example, if a system call to change the access protection of a page of memory fails, the operating system error will be displayed.|  \n  \n## Remarks  \n The next time any of the revereted function instances are called, the original versions of the functions will be run. If a function is already running, it will finish executing the version that is running.  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** CorProf.idl, CorProf.h  \n  \n **Library:** CorGuids.lib  \n  \n **.NET Framework Versions:** [!INCLUDE[net_current_v45plus](../../../../includes/net-current-v45plus-md.md)]  \n  \n## See also\n\n- [ICorProfilerInfo4 Interface](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo4-interface.md)\n- [Profiling Interfaces](../../../../docs/framework/unmanaged-api/profiling/profiling-interfaces.md)\n- [Profiling](../../../../docs/framework/unmanaged-api/profiling/index.md)\n","nodes":[{"pos":[4,521],"embed":true,"restype":"x-metadata","content":"title: \"ICorProfilerInfo4::RequestRevert Method\"\nms.date: \"03/30/2017\"\napi_name: \n  - \"ICorProfilerInfo4.RequestRevert\"\napi_location: \n  - \"mscorwks.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICorProfilerInfo4::RequestRevert\"\nhelpviewer_keywords: \n  - \"RequestRevert method, ICorProfilerInfo4 interface [.NET Framework profiling]\"\n  - \"ICorProfilerInfo4::RequestRevert method [.NET Framework profiling]\"\nms.assetid: 70261da5-5933-4e25-9de0-ddf51cba56cc\ntopic_type: \n  - \"apiref\"\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"ICorProfilerInfo4::RequestRevert Method","nodes":[{"pos":[0,39],"content":"ICorProfilerInfo4::RequestRevert Method","nodes":[{"content":"ICorProfilerInfo4::RequestRevert Method","pos":[0,39]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[528,567],"content":"ICorProfilerInfo4::RequestRevert Method","linkify":"ICorProfilerInfo4::RequestRevert Method","nodes":[{"content":"ICorProfilerInfo4::RequestRevert Method","pos":[0,39]}]},{"content":"Reverts all instances of the specified functions to their original versions.","pos":[568,644]},{"pos":[653,659],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[906,916],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"[in] The number of functions to revert.","pos":[936,975]},{"content":"[in] Specifies the <ph id=\"ph1\">`moduleId`</ph> portion of the (<ph id=\"ph2\">`module`</ph>, <ph id=\"ph3\">`methodDef`</ph>) pairs that identify the functions to be reverted.","pos":[997,1115],"source":"[in] Specifies the `moduleId` portion of the (`module`, `methodDef`) pairs that identify the functions to be reverted."},{"content":"[in] Specifies the <ph id=\"ph1\">`methodId`</ph> portion of the (<ph id=\"ph2\">`module`</ph>, <ph id=\"ph3\">`methodDef`</ph>) pairs that identify the functions to be reverted.","pos":[1137,1255],"source":"[in] Specifies the `methodId` portion of the (`module`, `methodDef`) pairs that identify the functions to be reverted."},{"content":"[out] An array of HRESULTs listed in the \"Status HRESULTs\" section later in this topic.","pos":[1274,1361]},{"content":"Each HRESULT indicates the success or failure of trying to revert each function specified in the parallel arrays <ph id=\"ph1\">`moduleIds`</ph> and <ph id=\"ph2\">`methodIds`</ph>.","pos":[1362,1503],"source":" Each HRESULT indicates the success or failure of trying to revert each function specified in the parallel arrays `moduleIds` and `methodIds`."},{"pos":[1512,1524],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"This method returns the following specific HRESULTs as well as HRESULT errors that indicate method failure.","pos":[1528,1635]},{"content":"HRESULT","pos":[1642,1649]},{"content":"Description","pos":[1650,1661]},{"content":"S_OK","pos":[1702,1706]},{"content":"An attempt was made to revert all requests; however, the returned status array must be checked to determine which functions were successfully reverted.","pos":[1707,1858]},{"content":"CORPROF_E_CALLBACK4_REQUIRED","pos":[1863,1891]},{"pos":[1892,2075],"content":"The profiler must implement the <bpt id=\"p1\">[</bpt>ICorProfilerCallback4<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback4-interface.md)</ept> interface for this call to be supported.","source":"The profiler must implement the [ICorProfilerCallback4](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback4-interface.md) interface for this call to be supported."},{"content":"CORPROF_E_REJIT_NOT_ENABLED","pos":[2080,2107]},{"content":"JIT recompilation has not been enabled.","pos":[2108,2147]},{"content":"You must enable JIT recompilation during initialization by using the <bpt id=\"p1\">[</bpt>ICorProfilerInfo::SetEventMask<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo-seteventmask-method.md)</ept> method to set the <ph id=\"ph1\">`COR_PRF_ENABLE_REJIT`</ph> flag.","pos":[2148,2388],"source":" You must enable JIT recompilation during initialization by using the [ICorProfilerInfo::SetEventMask](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo-seteventmask-method.md) method to set the `COR_PRF_ENABLE_REJIT` flag."},{"content":"E_INVALIDARG","pos":[2393,2405]},{"pos":[2406,2465],"content":"<ph id=\"ph1\">`cFunctions`</ph> is 0, or <ph id=\"ph2\">`moduleIds`</ph> or <ph id=\"ph3\">`methodIds`</ph> is <ph id=\"ph4\">`NULL`</ph>.","source":"`cFunctions` is 0, or `moduleIds` or `methodIds` is `NULL`."},{"content":"E_OUTOFMEMORY","pos":[2470,2483]},{"content":"The CLR was unable to complete the request because it ran out of memory.","pos":[2484,2556]},{"pos":[2566,2581],"content":"Status HRESULTS","linkify":"Status HRESULTS","nodes":[{"content":"Status HRESULTS","pos":[0,15]}]},{"content":"Status array HRESULT","pos":[2588,2608]},{"content":"Description","pos":[2609,2620]},{"content":"S_OK","pos":[2674,2678]},{"content":"The corresponding function was successfully reverted.","pos":[2679,2732]},{"content":"E_INVALIDARG","pos":[2737,2749]},{"pos":[2750,2800],"content":"The <ph id=\"ph1\">`moduleID`</ph> or <ph id=\"ph2\">`methodDef`</ph> parameter is <ph id=\"ph3\">`NULL`</ph>.","source":"The `moduleID` or `methodDef` parameter is `NULL`."},{"content":"CORPROF_E_DATAINCOMPLETE","pos":[2805,2829]},{"content":"The module is not fully loaded yet, or it is in the process of being unloaded.","pos":[2830,2908]},{"content":"CORPROF_E_MODULE_IS_DYNAMIC","pos":[2913,2940]},{"content":"The specified module was dynamically generated (for example by <ph id=\"ph1\">`Reflection.Emit`</ph>).","pos":[2941,3023],"source":"The specified module was dynamically generated (for example by `Reflection.Emit`)."},{"content":"Therefore, it is not supported by this method.","pos":[3024,3070]},{"content":"CORPROF_E_ACTIVE_REJIT_REQUEST_NOT_FOUND","pos":[3075,3115]},{"content":"The CLR could not revert the specified function, because a corresponding active recompilation request was not found.","pos":[3116,3232]},{"content":"Either the recompilation was never requested or the function was already reverted.","pos":[3233,3315]},{"content":"Other","pos":[3320,3325]},{"content":"The operating system returned a failure outside the control of the CLR.","pos":[3326,3397]},{"content":"For example, if a system call to change the access protection of a page of memory fails, the operating system error will be displayed.","pos":[3398,3532]},{"pos":[3542,3549],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The next time any of the revereted function instances are called, the original versions of the functions will be run.","pos":[3553,3670]},{"content":"If a function is already running, it will finish executing the version that is running.","pos":[3671,3758]},{"pos":[3767,3779],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3783,3887],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[3894,3928],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> CorProf.idl, CorProf.h","source":"**Header:** CorProf.idl, CorProf.h"},{"pos":[3935,3960],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> CorGuids.lib","source":"**Library:** CorGuids.lib"},{"pos":[3967,4075],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> <ph id=\"ph1\">[!INCLUDE[net_current_v45plus](../../../../includes/net-current-v45plus-md.md)]</ph>","source":"**.NET Framework Versions:** [!INCLUDE[net_current_v45plus](../../../../includes/net-current-v45plus-md.md)]"},{"pos":[4084,4092],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4096,4208],"content":"<bpt id=\"p1\">[</bpt>ICorProfilerInfo4 Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo4-interface.md)</ept>","source":"[ICorProfilerInfo4 Interface](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo4-interface.md)"},{"pos":[4211,4309],"content":"<bpt id=\"p1\">[</bpt>Profiling Interfaces<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/profiling-interfaces.md)</ept>","source":"[Profiling Interfaces](../../../../docs/framework/unmanaged-api/profiling/profiling-interfaces.md)"},{"pos":[4312,4384],"content":"<bpt id=\"p1\">[</bpt>Profiling<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/profiling/index.md)</ept>","source":"[Profiling](../../../../docs/framework/unmanaged-api/profiling/index.md)"}]}