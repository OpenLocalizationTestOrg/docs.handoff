{"content":"---\ntitle: \"Mitigation: Pointer-based Touch and Stylus Support\"\nms.date: \"04/07/2017\"\nhelpviewer_keywords: \n  - \"retargeting changes\"\n  - \".NET Framework 4.7 retargeting changes\"\n  - \"WPF retargeting changes\"\n  - \"WPF pointer-based touch and stylus stack\"\nms.assetid: f99126b5-c396-48f9-8233-8f36b4c9e717\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# Mitigation: Pointer-based Touch and Stylus Support\n\nWPF applications that target the .NET Framework 4.7 and are running on Windows Systems starting with Windows 10 Creators Update can enable an optional `WM_POINTER`-based WPF touch/stylus stack.\n\n## Impact\n\nDevelopers who do not explicitly enable pointer-based touch/stylus support should see no change in WPF touch/stylus behavior.\n\nThe following are current known issues with the optional `WM_POINTER`-based touch/stylus stack:\n\n- No support for real-time inking.\n\n   While inking and stylus plugins still work, they are processed on the UI thread, which can lead to poor performance.\n\n- Behavioral changes due to changes in promotion from touch/stylus events to mouse events.\n\n  - Manipulation may behave differently.\n\n  - Drag/Drop will not show appropriate feedback for touch input. (This does not affect stylus input.)\n\n  - Drag/Drop can no longer be initiated on touch/stylus events.\n\n      This can potentially hang the application until mouse input is detected. Instead, developers should initiate drag and drop from mouse events.\n\n## Opting in to WM_POINTER-based touch/stylus support\n\nDevelopers who wish to enable this stack can add the following to their application's app.config file:\n\n```xml\n<configuration>\n    <runtime>\n        <AppContextSwitchOverrides value=\"Switch.System.Windows.Input.Stylus.EnablePointerSupport=true\"/>\n    </runtime>\n</configuration>\n```\n\nRemoving this entry or setting its value to `false` turns this optional stack off.\n\n## See also\n\n- [Retargeting Changes in the .NET Framework 4.7](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-7.md)\n","nodes":[{"pos":[4,344],"embed":true,"restype":"x-metadata","content":"title: \"Mitigation: Pointer-based Touch and Stylus Support\"\nms.date: \"04/07/2017\"\nhelpviewer_keywords: \n  - \"retargeting changes\"\n  - \".NET Framework 4.7 retargeting changes\"\n  - \"WPF retargeting changes\"\n  - \"WPF pointer-based touch and stylus stack\"\nms.assetid: f99126b5-c396-48f9-8233-8f36b4c9e717\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"Mitigation: Pointer-based Touch and Stylus Support","nodes":[{"pos":[0,50],"content":"Mitigation: Pointer-based Touch and Stylus Support","nodes":[{"content":"Mitigation: Pointer-based Touch and Stylus Support","pos":[0,50]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[351,401],"content":"Mitigation: Pointer-based Touch and Stylus Support","linkify":"Mitigation: Pointer-based Touch and Stylus Support","nodes":[{"content":"Mitigation: Pointer-based Touch and Stylus Support","pos":[0,50]}]},{"pos":[403,596],"content":"WPF applications that target the .NET Framework 4.7 and are running on Windows Systems starting with Windows 10 Creators Update can enable an optional <ph id=\"ph1\">`WM_POINTER`</ph>-based WPF touch/stylus stack.","source":"WPF applications that target the .NET Framework 4.7 and are running on Windows Systems starting with Windows 10 Creators Update can enable an optional `WM_POINTER`-based WPF touch/stylus stack."},{"pos":[601,607],"content":"Impact","linkify":"Impact","nodes":[{"content":"Impact","pos":[0,6]}]},{"content":"Developers who do not explicitly enable pointer-based touch/stylus support should see no change in WPF touch/stylus behavior.","pos":[609,734]},{"pos":[736,831],"content":"The following are current known issues with the optional <ph id=\"ph1\">`WM_POINTER`</ph>-based touch/stylus stack:","source":"The following are current known issues with the optional `WM_POINTER`-based touch/stylus stack:"},{"content":"No support for real-time inking.","pos":[835,867]},{"content":"While inking and stylus plugins still work, they are processed on the UI thread, which can lead to poor performance.","pos":[872,988]},{"content":"Behavioral changes due to changes in promotion from touch/stylus events to mouse events.","pos":[992,1080]},{"content":"Manipulation may behave differently.","pos":[1086,1122]},{"content":"Drag/Drop will not show appropriate feedback for touch input.","pos":[1128,1189]},{"content":"(This does not affect stylus input.)","pos":[1190,1226]},{"content":"Drag/Drop can no longer be initiated on touch/stylus events.","pos":[1232,1292]},{"content":"This can potentially hang the application until mouse input is detected.","pos":[1300,1372]},{"content":"Instead, developers should initiate drag and drop from mouse events.","pos":[1373,1441]},{"pos":[1446,1496],"content":"Opting in to WM_POINTER-based touch/stylus support","linkify":"Opting in to WM_POINTER-based touch/stylus support","nodes":[{"content":"Opting in to WM_POINTER-based touch/stylus support","pos":[0,50]}]},{"content":"Developers who wish to enable this stack can add the following to their application's app.config file:","pos":[1498,1600]},{"pos":[1782,1864],"content":"Removing this entry or setting its value to <ph id=\"ph1\">`false`</ph> turns this optional stack off.","source":"Removing this entry or setting its value to `false` turns this optional stack off."},{"pos":[1869,1877],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1881,2017],"content":"<bpt id=\"p1\">[</bpt>Retargeting Changes in the .NET Framework 4.7<ept id=\"p1\">](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-7.md)</ept>","source":"[Retargeting Changes in the .NET Framework 4.7](../../../docs/framework/migration-guide/retargeting-changes-in-the-net-framework-4-7.md)"}]}