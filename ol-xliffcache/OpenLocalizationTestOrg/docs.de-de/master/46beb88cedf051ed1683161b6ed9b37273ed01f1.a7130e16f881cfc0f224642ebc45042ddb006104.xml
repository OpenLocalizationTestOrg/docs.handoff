{"content":"---\ntitle: \"<userDefinedType>\"\nms.date: \"03/30/2017\"\nms.assetid: 0f70ec06-8249-4f0c-9f49-b4df59985fb8\n---\n# \\<userDefinedType>\nRepresents a User Defined Type (UDT) that is to be included in the service contract.  \n  \n \\<system.ServiceModel>  \n\\<comContracts>  \n\\<comContract>  \n\\<userDefinedTypes>  \n  \n## Syntax  \n  \n```xml  \n<comContracts>\n  <comContract>\n    <userDefinedTypes>\n      <userDefinedType name=\"String\"\n                       typeLibID=\"String\"\n                       typeLibVersion=\"String\"\n                       typeDefID=\"String\">\n      </userDefinedType>\n    </userDefinedTypes>\n  </comContract>\n</comContracts>\n```  \n  \n## Attributes and Elements  \n The following sections describe attributes, child elements, and parent elements.  \n  \n### Attributes  \n  \n|Attribute|Description|  \n|---------------|-----------------|  \n|`name`|An optional attribute that contains a string that provides the readable type name. This is not used by the runtime but helps a reader to distinguish the types.|  \n|`TypeDefID`|A GUID string that identifies the specific UDT type within the registered type library.|  \n|`TypeLibID`|A GUID string that identifies the registered type library that defines the type.|  \n|`TypeLibVersion`|A string that identifies the type library version that defines the type.|  \n  \n### Child Elements  \n None.  \n  \n### Parent Elements  \n  \n|Element|Description|  \n|-------------|-----------------|  \n|`userDefinedTypes`|A collection of `userDefinedType` elements.|  \n  \n## Remarks  \n The COM+ integration runtime creates services by inspecting the type library. When a COM+ component contains methods that pass a VARIANT, the system cannot determine the actual types to be passed prior to runtime. Therefore, when you attempt to pass a User Defined Type (UDT) within a VARIANT, it fails because it is not a known type for serialization.  \n  \n To circumvent this problem, you can add the UDTs to the configuration file so that they can be included as known types on the appropriate service contract. In order to do so, you have to uniquely identify the UDT and the contract(s), that is, the original COM interface(s) that uses it.  \n  \n The following example demonstrates adding two specific UDTs to the <`userDefinedTypes`> section of the configuration file for this purpose.  \n  \n```xml  \n<comContracts>\n  <comContract contract=\"{5163B1E7-F0CF-4B6A-9A02-4AB654F34284}\"\n               namespace=\"http://tempuri.org/5163B1E7-F0CF-4B6A-9A02-4AB654F34284\"\n               name=\"_Broker\"\n               requireSession=\"true\">\n    <userDefinedTypes>\n      <userDefinedType name=\"CustomerType\"\n                       typeLibID=\"{91DC728C-4F1A-45de-A9B6-B538E209CEA6}\"\n                       typeLibVersion=\"1.0\"\n                       typeDefID=\"{D129765C-F211-434e-825A-9A63198C41F2}\">\n      </userDefinedType>\n      <userDefinedType name=\"AddressType\"\n                       typeLibID=\"{91DC728C-4F1A-45de-A9B6-B538E209CEA6}\"\n                       typeLibVersion=\"1.0\"\n                       typeDefID=\"{4616AE0D-687A-43B7-BC63-141AE3DFD099}\">\n      </userDefinedType>\n    </userDefinedTypes>\n    <exposedMethods>\n      <exposedMethod name=\"BuyStock\" />\n      <exposedMethod name=\"SellStock\" />\n      <exposedMethod name=\"ExecuteTransaction\" />\n    </exposedMethods>\n  </comContract>\n</comContracts>\n```  \n  \n When the service is initialized, the integration runtime looks up the specified types and adds them to the known types collection for the specified contracts.  \n  \n## See also\n\n- <xref:System.ServiceModel.Configuration.ComContractElement.UserDefinedTypes%2A>\n- <xref:System.ServiceModel.Configuration.ComUdtElementCollection>\n- <xref:System.ServiceModel.Configuration.ComUdtElement>\n- [\\<comContracts>](../../../../../docs/framework/configure-apps/file-schema/wcf/comcontracts.md)\n- [Integrating with COM+ Applications](../../../../../docs/framework/wcf/feature-details/integrating-with-com-plus-applications.md)\n- [How to: Configure COM+ Service Settings](../../../../../docs/framework/wcf/feature-details/how-to-configure-com-service-settings.md)\n","nodes":[{"pos":[4,101],"embed":true,"restype":"x-metadata","content":"title: \"<userDefinedType>\"\nms.date: \"03/30/2017\"\nms.assetid: 0f70ec06-8249-4f0c-9f49-b4df59985fb8","nodes":[{"content":"<userDefinedType>","nodes":[],"path":["title"],"nosxs":false}],"yml":true},{"pos":[108,126],"content":"\\<userDefinedType>","linkify":"\\<userDefinedType>","nodes":[{"content":"<ph id=\"ph1\">\\&lt;</ph>userDefinedType&gt;","pos":[0,18],"source":"\\<userDefinedType>"}]},{"content":"Represents a User Defined Type (UDT) that is to be included in the service contract.","pos":[127,211]},{"content":"<ph id=\"ph1\">\\&lt;</ph>system.ServiceModel&gt;","pos":[218,240],"source":"\\<system.ServiceModel>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>comContracts&gt;","pos":[243,258],"source":"\\<comContracts>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>comContract&gt;","pos":[261,275],"source":"\\<comContract>"},{"content":"<ph id=\"ph1\">\\&lt;</ph>userDefinedTypes&gt;","pos":[278,297],"source":"\\<userDefinedTypes>"},{"pos":[306,312],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[644,667],"content":"Attributes and Elements","linkify":"Attributes and Elements","nodes":[{"content":"Attributes and Elements","pos":[0,23]}]},{"content":"The following sections describe attributes, child elements, and parent elements.","pos":[671,751]},{"pos":[761,771],"content":"Attributes","linkify":"Attributes","nodes":[{"content":"Attributes","pos":[0,10]}]},{"content":"Attribute","pos":[778,787]},{"content":"Description","pos":[788,799]},{"content":"An optional attribute that contains a string that provides the readable type name.","pos":[849,931]},{"content":"This is not used by the runtime but helps a reader to distinguish the types.","pos":[932,1008]},{"content":"A GUID string that identifies the specific UDT type within the registered type library.","pos":[1025,1112]},{"content":"A GUID string that identifies the registered type library that defines the type.","pos":[1129,1209]},{"content":"A string that identifies the type library version that defines the type.","pos":[1231,1303]},{"pos":[1314,1328],"content":"Child Elements","linkify":"Child Elements","nodes":[{"content":"Child Elements","pos":[0,14]}]},{"content":"None.","pos":[1332,1337]},{"pos":[1347,1362],"content":"Parent Elements","linkify":"Parent Elements","nodes":[{"content":"Parent Elements","pos":[0,15]}]},{"content":"Element","pos":[1369,1376]},{"content":"Description","pos":[1377,1388]},{"pos":[1448,1491],"content":"A collection of <ph id=\"ph1\">`userDefinedType`</ph> elements.","source":"A collection of `userDefinedType` elements."},{"pos":[1501,1508],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"The COM+ integration runtime creates services by inspecting the type library.","pos":[1512,1589]},{"content":"When a COM+ component contains methods that pass a VARIANT, the system cannot determine the actual types to be passed prior to runtime.","pos":[1590,1725]},{"content":"Therefore, when you attempt to pass a User Defined Type (UDT) within a VARIANT, it fails because it is not a known type for serialization.","pos":[1726,1864]},{"content":"To circumvent this problem, you can add the UDTs to the configuration file so that they can be included as known types on the appropriate service contract.","pos":[1871,2026]},{"content":"In order to do so, you have to uniquely identify the UDT and the contract(s), that is, the original COM interface(s) that uses it.","pos":[2027,2157]},{"pos":[2164,2303],"content":"The following example demonstrates adding two specific UDTs to the &lt;<ph id=\"ph1\">`userDefinedTypes`</ph>&gt; section of the configuration file for this purpose.","source":"The following example demonstrates adding two specific UDTs to the <`userDefinedTypes`> section of the configuration file for this purpose."},{"content":"When the service is initialized, the integration runtime looks up the specified types and adds them to the known types collection for the specified contracts.","pos":[3334,3492]},{"pos":[3501,3509],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3719,3814],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">\\&lt;</ph>comContracts&gt;<ept id=\"p1\">](../../../../../docs/framework/configure-apps/file-schema/wcf/comcontracts.md)</ept>","source":"[\\<comContracts>](../../../../../docs/framework/configure-apps/file-schema/wcf/comcontracts.md)"},{"pos":[3817,3946],"content":"<bpt id=\"p1\">[</bpt>Integrating with COM+ Applications<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/integrating-with-com-plus-applications.md)</ept>","source":"[Integrating with COM+ Applications](../../../../../docs/framework/wcf/feature-details/integrating-with-com-plus-applications.md)"},{"pos":[3949,4082],"content":"<bpt id=\"p1\">[</bpt>How to: Configure COM+ Service Settings<ept id=\"p1\">](../../../../../docs/framework/wcf/feature-details/how-to-configure-com-service-settings.md)</ept>","source":"[How to: Configure COM+ Service Settings](../../../../../docs/framework/wcf/feature-details/how-to-configure-com-service-settings.md)"}]}