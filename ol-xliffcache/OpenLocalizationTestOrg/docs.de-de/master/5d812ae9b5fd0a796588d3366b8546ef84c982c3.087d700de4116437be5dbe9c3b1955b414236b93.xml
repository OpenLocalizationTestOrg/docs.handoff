{"content":"---\ntitle: \"Group Elements in a Sequence\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 1d50c8b4-f550-4775-bbb6-eab6e874cb43\n---\n# Group Elements in a Sequence\nThe <xref:System.Linq.Enumerable.GroupBy%2A> operator groups the elements of a sequence. The following examples use the Northwind database.  \n  \n> [!NOTE]\n>  Null column values in <xref:System.Linq.Enumerable.GroupBy%2A> queries can sometimes throw an <xref:System.InvalidOperationException>. For more information, see the \"GroupBy InvalidOperationException\" section of [Troubleshooting](../../../../../../docs/framework/data/adonet/sql/linq/troubleshooting.md).  \n  \n## Example  \n The following example partitions `Products` by `CategoryID`.  \n  \n [!code-csharp[DLinqQueryExamples#27](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#27)]\n [!code-vb[DLinqQueryExamples#27](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#27)]  \n  \n## Example  \n The following example uses <xref:System.Linq.Enumerable.Max%2A> to find the maximum unit price for each `CategoryID`.  \n  \n [!code-csharp[DLinqQueryExamples#28](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#28)]\n [!code-vb[DLinqQueryExamples#28](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#28)]  \n  \n## Example  \n The following example uses Average to find the average `UnitPrice` for each `CategoryID`.  \n  \n [!code-csharp[DLinqQueryExamples#29](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#29)]\n [!code-vb[DLinqQueryExamples#29](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#29)]  \n  \n## Example  \n The following example uses <xref:System.Linq.Queryable.Sum%2A> to find the total `UnitPrice` for each `CategoryID`.  \n  \n [!code-csharp[DLinqQueryExamples#30](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#30)]\n [!code-vb[DLinqQueryExamples#30](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#30)]  \n  \n## Example  \n The following example uses <xref:System.Linq.Queryable.Count%2A> to find the number of discontinued `Products` in each `CategoryID`.  \n  \n [!code-csharp[DLinqQueryExamples#31](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#31)]\n [!code-vb[DLinqQueryExamples#31](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#31)]  \n  \n## Example  \n The following example uses a following `where` clause to find all categories that have at least 10 products.  \n  \n [!code-csharp[DLinqQueryExamples#32](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#32)]\n [!code-vb[DLinqQueryExamples#32](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#32)]  \n  \n## Example  \n The following example groups products by `CategoryID` and `SupplierID`.  \n  \n [!code-csharp[DLinqQueryExamples#33](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#33)]\n [!code-vb[DLinqQueryExamples#33](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#33)]  \n  \n## Example  \n The following example returns two sequences of products. The first sequence contains products with unit price less than or equal to 10. The second sequence contains products with unit price greater than 10.  \n  \n [!code-csharp[DLinqQueryExamples#34](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#34)]\n [!code-vb[DLinqQueryExamples#34](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#34)]  \n  \n## Example  \n The <xref:System.Linq.Queryable.GroupBy%2A> operator can take only a single key argument. If you need to group by more than one key, you must create an anonymous type, as in the following example:  \n  \n [!code-csharp[DLinqQueryExamples#35](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqQueryExamples/cs/Program.cs#35)]\n [!code-vb[DLinqQueryExamples#35](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqQueryExamples/vb/Module1.vb#35)]  \n  \n## See also\n\n- [Query Examples](../../../../../../docs/framework/data/adonet/sql/linq/query-examples.md)\n- [Downloading Sample Databases](../../../../../../docs/framework/data/adonet/sql/linq/downloading-sample-databases.md)\n","nodes":[{"pos":[4,146],"embed":true,"restype":"x-metadata","content":"title: \"Group Elements in a Sequence\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nms.assetid: 1d50c8b4-f550-4775-bbb6-eab6e874cb43","nodes":[{"content":"Group Elements in a Sequence","nodes":[{"pos":[0,28],"content":"Group Elements in a Sequence","nodes":[{"content":"Group Elements in a Sequence","pos":[0,28]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[153,181],"content":"Group Elements in a Sequence","linkify":"Group Elements in a Sequence","nodes":[{"content":"Group Elements in a Sequence","pos":[0,28]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.GroupBy%2A&gt;</ph> operator groups the elements of a sequence.","pos":[182,270],"source":"The <xref:System.Linq.Enumerable.GroupBy%2A> operator groups the elements of a sequence."},{"content":"The following examples use the Northwind database.","pos":[271,321]},{"pos":[329,644],"content":"[!NOTE]\n Null column values in <xref:System.Linq.Enumerable.GroupBy%2A> queries can sometimes throw an <xref:System.InvalidOperationException>. For more information, see the \"GroupBy InvalidOperationException\" section of [Troubleshooting](../../../../../../docs/framework/data/adonet/sql/linq/troubleshooting.md).","leadings":["","> "],"nodes":[{"content":"Null column values in <xref:System.Linq.Enumerable.GroupBy%2A> queries can sometimes throw an <xref:System.InvalidOperationException>. For more information, see the \"GroupBy InvalidOperationException\" section of [Troubleshooting](../../../../../../docs/framework/data/adonet/sql/linq/troubleshooting.md).","pos":[9,313],"nodes":[{"content":"Null column values in <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.GroupBy%2A&gt;</ph> queries can sometimes throw an <ph id=\"ph2\">&lt;xref:System.InvalidOperationException&gt;</ph>.","pos":[0,134],"source":"Null column values in <xref:System.Linq.Enumerable.GroupBy%2A> queries can sometimes throw an <xref:System.InvalidOperationException>."},{"content":"For more information, see the \"GroupBy InvalidOperationException\" section of <bpt id=\"p1\">[</bpt>Troubleshooting<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/troubleshooting.md)</ept>.","pos":[135,304],"source":" For more information, see the \"GroupBy InvalidOperationException\" section of [Troubleshooting](../../../../../../docs/framework/data/adonet/sql/linq/troubleshooting.md)."}]}]},{"pos":[653,660],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[664,724],"content":"The following example partitions <ph id=\"ph1\">`Products`</ph> by <ph id=\"ph2\">`CategoryID`</ph>.","source":"The following example partitions `Products` by `CategoryID`."},{"pos":[1009,1016],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1020,1137],"content":"The following example uses <ph id=\"ph1\">&lt;xref:System.Linq.Enumerable.Max%2A&gt;</ph> to find the maximum unit price for each <ph id=\"ph2\">`CategoryID`</ph>.","source":"The following example uses <xref:System.Linq.Enumerable.Max%2A> to find the maximum unit price for each `CategoryID`."},{"pos":[1422,1429],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1433,1522],"content":"The following example uses Average to find the average <ph id=\"ph1\">`UnitPrice`</ph> for each <ph id=\"ph2\">`CategoryID`</ph>.","source":"The following example uses Average to find the average `UnitPrice` for each `CategoryID`."},{"pos":[1807,1814],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1818,1933],"content":"The following example uses <ph id=\"ph1\">&lt;xref:System.Linq.Queryable.Sum%2A&gt;</ph> to find the total <ph id=\"ph2\">`UnitPrice`</ph> for each <ph id=\"ph3\">`CategoryID`</ph>.","source":"The following example uses <xref:System.Linq.Queryable.Sum%2A> to find the total `UnitPrice` for each `CategoryID`."},{"pos":[2218,2225],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2229,2361],"content":"The following example uses <ph id=\"ph1\">&lt;xref:System.Linq.Queryable.Count%2A&gt;</ph> to find the number of discontinued <ph id=\"ph2\">`Products`</ph> in each <ph id=\"ph3\">`CategoryID`</ph>.","source":"The following example uses <xref:System.Linq.Queryable.Count%2A> to find the number of discontinued `Products` in each `CategoryID`."},{"pos":[2646,2653],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[2657,2765],"content":"The following example uses a following <ph id=\"ph1\">`where`</ph> clause to find all categories that have at least 10 products.","source":"The following example uses a following `where` clause to find all categories that have at least 10 products."},{"pos":[3050,3057],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[3061,3132],"content":"The following example groups products by <ph id=\"ph1\">`CategoryID`</ph> and <ph id=\"ph2\">`SupplierID`</ph>.","source":"The following example groups products by `CategoryID` and `SupplierID`."},{"pos":[3417,3424],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example returns two sequences of products.","pos":[3428,3484]},{"content":"The first sequence contains products with unit price less than or equal to 10.","pos":[3485,3563]},{"content":"The second sequence contains products with unit price greater than 10.","pos":[3564,3634]},{"pos":[3919,3926],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Linq.Queryable.GroupBy%2A&gt;</ph> operator can take only a single key argument.","pos":[3930,4019],"source":"The <xref:System.Linq.Queryable.GroupBy%2A> operator can take only a single key argument."},{"content":"If you need to group by more than one key, you must create an anonymous type, as in the following example:","pos":[4020,4126]},{"pos":[4411,4419],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4423,4512],"content":"<bpt id=\"p1\">[</bpt>Query Examples<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/query-examples.md)</ept>","source":"[Query Examples](../../../../../../docs/framework/data/adonet/sql/linq/query-examples.md)"},{"pos":[4515,4632],"content":"<bpt id=\"p1\">[</bpt>Downloading Sample Databases<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/sql/linq/downloading-sample-databases.md)</ept>","source":"[Downloading Sample Databases](../../../../../../docs/framework/data/adonet/sql/linq/downloading-sample-databases.md)"}]}