{"content":"---\ntitle: \"Changes to the System.Uri namespace in Version 2.0 | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nms.assetid: 35883fe9-2d09-4d8b-80ca-cf23a941e459\ncaps.latest.revision: 9\nauthor: \"mcleblanc\"\nms.author: \"markl\"\nmanager: \"markl\"\n---\n# Changes to the System.Uri namespace in Version 2.0\nSeveral changes were made to the <xref:System.Uri?displayProperty=fullName> class. These changes fixed incorrect behavior, enhanced usability, and enhanced security.  \n  \n## Obsolete and Deprecated Members  \n Constructors:  \n  \n-   All constructors that have a `dontEscape` parameter.  \n  \n Methods:  \n  \n-   <xref:System.Uri.CheckSecurity%2A>  \n  \n-   <xref:System.Uri.Escape%2A>  \n  \n-   <xref:System.Uri.Canonicalize%2A>  \n  \n-   <xref:System.Uri.Parse%2A>  \n  \n-   <xref:System.Uri.IsReservedCharacter%2A>  \n  \n-   <xref:System.Uri.IsBadFileSystemCharacter%2A>  \n  \n-   <xref:System.Uri.IsExcludedCharacter%2A>  \n  \n-   <xref:System.Uri.EscapeString%2A>  \n  \n## Changes  \n  \n-   For URI schemes that are known to not have a query part (file, ftp, and others), the '?' character is always escaped and is not considered the beginning of a <xref:System.Uri.Query%2A> part.  \n  \n-   For implicit file URIs (of the form \"c:\\directory\\file@name.txt\"), the fragment character ('#') is always escaped unless full unescaping is requested or <xref:System.Uri.LocalPath%2A> is `true`.  \n  \n-   UNC hostname support was removed; the IDN specification for representing international hostnames was adopted.  \n  \n-   <xref:System.Uri.LocalPath%2A> always returns a completely unescaped string.  \n  \n-   <xref:System.Uri.ToString%2A> does not unescape an escaped '%', '?', or '#' character.  \n  \n-   <xref:System.Uri.Equals%2A> now includes the <xref:System.Uri.Query%2A> part in the equality check.  \n  \n-   Operators \"==\" and \"!=\" are overridden and linked to the <xref:System.Uri.Equals%2A> method.  \n  \n-   <xref:System.Uri.IsLoopback%2A> now produces consistent results.  \n  \n-   The URI \"`file:///path`\" is no longer translated into \"file://path\".  \n  \n-   \"#\" is now recognized as a host name terminator. That is, \"http://consoto.com#fragment\" is now converted to \"http://contoso.com/#fragment\".  \n  \n-   A bug when combining a base URI with a fragment has been fixed.  \n  \n-   A bug in <xref:System.Uri.HostNameType%2A> is fixed.  \n  \n-   A bug in NNTP parsing is fixed.  \n  \n-   A URI of the form HTTP:contoso.com now throws a parsing exception.  \n  \n-   The Framework correctly handles userinfo in a URI.  \n  \n-   URI path compression is fixed so that a broken URI cannot traverse the file system above the root.  \n  \n## See Also  \n <xref:System.Uri?displayProperty=fullName>","nodes":[{"pos":[12,79],"content":"Changes to the System.Uri namespace in Version 2.0 | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Changes to the System.Uri namespace in Version 2.0 | Microsoft Docs","pos":[0,67]}]},{"pos":[402,452],"content":"Changes to the System.Uri namespace in Version 2.0","linkify":"Changes to the System.Uri namespace in Version 2.0","nodes":[{"content":"Changes to the System.Uri namespace in Version 2.0","pos":[0,50]}]},{"content":"Several changes were made to the <ph id=\"ph1\">&lt;xref:System.Uri?displayProperty=fullName&gt;</ph> class.","pos":[453,535],"source":"Several changes were made to the <xref:System.Uri?displayProperty=fullName> class."},{"content":"These changes fixed incorrect behavior, enhanced usability, and enhanced security.","pos":[536,618]},{"pos":[627,658],"content":"Obsolete and Deprecated Members","linkify":"Obsolete and Deprecated Members","nodes":[{"content":"Obsolete and Deprecated Members","pos":[0,31]}]},{"content":"Constructors:","pos":[662,675]},{"pos":[685,737],"content":"All constructors that have a <ph id=\"ph1\">`dontEscape`</ph> parameter.","source":"All constructors that have a `dontEscape` parameter."},{"content":"Methods:","pos":[744,752]},{"pos":[1119,1126],"content":"Changes","linkify":"Changes","nodes":[{"content":"Changes","pos":[0,7]}]},{"content":"For URI schemes that are known to not have a query part (file, ftp, and others), the '?' character is always escaped and is not considered the beginning of a <ph id=\"ph1\">&lt;xref:System.Uri.Query%2A&gt;</ph> part.","pos":[1136,1326],"source":"For URI schemes that are known to not have a query part (file, ftp, and others), the '?' character is always escaped and is not considered the beginning of a <xref:System.Uri.Query%2A> part."},{"pos":[1336,1530],"content":"For implicit file URIs (of the form \"<ph id=\"ph1\">c:\\directory\\file@name.txt</ph>\"), the fragment character ('#') is always escaped unless full unescaping is requested or <ph id=\"ph2\">&lt;xref:System.Uri.LocalPath%2A&gt;</ph> is <ph id=\"ph3\">`true`</ph>.","source":"For implicit file URIs (of the form \"c:\\directory\\file@name.txt\"), the fragment character ('#') is always escaped unless full unescaping is requested or <xref:System.Uri.LocalPath%2A> is `true`."},{"content":"UNC hostname support was removed; the IDN specification for representing international hostnames was adopted.","pos":[1540,1649]},{"content":"<ph id=\"ph1\">&lt;xref:System.Uri.LocalPath%2A&gt;</ph> always returns a completely unescaped string.","pos":[1659,1735],"source":"<xref:System.Uri.LocalPath%2A> always returns a completely unescaped string."},{"content":"<ph id=\"ph1\">&lt;xref:System.Uri.ToString%2A&gt;</ph> does not unescape an escaped '%', '?', or '#' character.","pos":[1745,1831],"source":"<xref:System.Uri.ToString%2A> does not unescape an escaped '%', '?', or '#' character."},{"content":"<ph id=\"ph1\">&lt;xref:System.Uri.Equals%2A&gt;</ph> now includes the <ph id=\"ph2\">&lt;xref:System.Uri.Query%2A&gt;</ph> part in the equality check.","pos":[1841,1940],"source":"<xref:System.Uri.Equals%2A> now includes the <xref:System.Uri.Query%2A> part in the equality check."},{"content":"Operators \"==\" and \"!=\" are overridden and linked to the <ph id=\"ph1\">&lt;xref:System.Uri.Equals%2A&gt;</ph> method.","pos":[1950,2042],"source":"Operators \"==\" and \"!=\" are overridden and linked to the <xref:System.Uri.Equals%2A> method."},{"content":"<ph id=\"ph1\">&lt;xref:System.Uri.IsLoopback%2A&gt;</ph> now produces consistent results.","pos":[2052,2116],"source":"<xref:System.Uri.IsLoopback%2A> now produces consistent results."},{"pos":[2126,2194],"content":"The URI \"<ph id=\"ph1\">`file:///path`</ph>\" is no longer translated into \"file://path\".","source":"The URI \"`file:///path`\" is no longer translated into \"file://path\"."},{"content":"\"#\" is now recognized as a host name terminator.","pos":[2204,2252]},{"content":"That is, \"http://consoto.com#fragment\" is now converted to \"http://contoso.com/#fragment\".","pos":[2253,2343]},{"content":"A bug when combining a base URI with a fragment has been fixed.","pos":[2353,2416]},{"content":"A bug in <ph id=\"ph1\">&lt;xref:System.Uri.HostNameType%2A&gt;</ph> is fixed.","pos":[2426,2478],"source":"A bug in <xref:System.Uri.HostNameType%2A> is fixed."},{"content":"A bug in NNTP parsing is fixed.","pos":[2488,2519]},{"content":"A URI of the form HTTP:contoso.com now throws a parsing exception.","pos":[2529,2595]},{"content":"The Framework correctly handles userinfo in a URI.","pos":[2605,2655]},{"content":"URI path compression is fixed so that a broken URI cannot traverse the file system above the root.","pos":[2665,2763]},{"pos":[2772,2780],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]}]}