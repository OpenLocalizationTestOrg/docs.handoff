{"content":"---\ntitle: \"How to: Use Pointers to Copy an Array of Bytes  (C# Programming Guide) | Microsoft Docs\"\n\nms.date: \"2015-07-20\"\nms.prod: .net\n\n\nms.technology: \n  - \"devlang-csharp\"\n\nms.topic: \"article\"\ndev_langs: \n  - \"CSharp\"\nhelpviewer_keywords: \n  - \"byte arrays [C#]\"\n  - \"arrays [C#], byte\"\n  - \"pointers [C#], to copy bytes\"\nms.assetid: ec16fbb4-a24e-45f5-a763-9499d3fabe0a\ncaps.latest.revision: 21\nauthor: \"BillWagner\"\nms.author: \"wiwagn\"\n\ntranslation.priority.ht: \n  - \"cs-cz\"\n  - \"de-de\"\n  - \"es-es\"\n  - \"fr-fr\"\n  - \"it-it\"\n  - \"ja-jp\"\n  - \"ko-kr\"\n  - \"pl-pl\"\n  - \"pt-br\"\n  - \"ru-ru\"\n  - \"tr-tr\"\n  - \"zh-cn\"\n  - \"zh-tw\"\n---\n# How to: Use Pointers to Copy an Array of Bytes  (C# Programming Guide)\nThe following example uses pointers to copy bytes from one array to another.  \n  \n This example uses the [unsafe](../../../csharp/language-reference/keywords/unsafe.md) keyword, which enables you to use pointers in the `Copy` method. The [fixed](../../../csharp/language-reference/keywords/fixed-statement.md) statement is used to declare pointers to the source and destination arrays. This *pins* the location of the source and destination arrays in memory so that they will not be moved by garbage collection. The memory blocks for the arrays are unpinned when the `fixed` block is completed. Because the `Copy` method in this example uses the `unsafe` keyword, it must be compiled with the **/unsafe** compiler option. To set the option in Visual Studio, right-click the project name, and then click **Properties**. On the **Build** tab, select **Allow unsafe code**.  \n  \n## Example  \n [!code-cs[csProgGuidePointers#3](../../../csharp/programming-guide/unsafe-code-pointers/codesnippet/CSharp/how-to-use-pointers-to-copy-an-array-of-bytes_1.cs)]  \n  \n [!code-cs[csProgGuidePointers#18](../../../csharp/programming-guide/unsafe-code-pointers/codesnippet/CSharp/how-to-use-pointers-to-copy-an-array-of-bytes_2.cs)]  \n  \n## See Also  \n [C# Programming Guide](../../../csharp/programming-guide/index.md)   \n [Unsafe Code and Pointers](../../../csharp/programming-guide/unsafe-code-pointers/index.md)   \n [/unsafe (C# Compiler Options)](../../../csharp/language-reference/compiler-options/unsafe-compiler-option.md)   \n [Garbage Collection](../../../standard/garbage-collection/index.md)","nodes":[{"pos":[12,99],"content":"How to: Use Pointers to Copy an Array of Bytes  (C# Programming Guide) | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"How to: Use Pointers to Copy an Array of Bytes  (C# Programming Guide) | Microsoft Docs","pos":[0,87]}]},{"pos":[631,701],"content":"How to: Use Pointers to Copy an Array of Bytes  (C# Programming Guide)","linkify":"How to: Use Pointers to Copy an Array of Bytes  (C# Programming Guide)","nodes":[{"content":"How to: Use Pointers to Copy an Array of Bytes  (C# Programming Guide)","pos":[0,70]}]},{"content":"The following example uses pointers to copy bytes from one array to another.","pos":[702,778]},{"content":"This example uses the <bpt id=\"p1\">[</bpt>unsafe<ept id=\"p1\">](../../../csharp/language-reference/keywords/unsafe.md)</ept> keyword, which enables you to use pointers in the <ph id=\"ph1\">`Copy`</ph> method.","pos":[785,935],"source":"This example uses the [unsafe](../../../csharp/language-reference/keywords/unsafe.md) keyword, which enables you to use pointers in the `Copy` method."},{"content":"The <bpt id=\"p1\">[</bpt>fixed<ept id=\"p1\">](../../../csharp/language-reference/keywords/fixed-statement.md)</ept> statement is used to declare pointers to the source and destination arrays.","pos":[936,1087],"source":" The [fixed](../../../csharp/language-reference/keywords/fixed-statement.md) statement is used to declare pointers to the source and destination arrays."},{"content":"This <bpt id=\"p1\">*</bpt>pins<ept id=\"p1\">*</ept> the location of the source and destination arrays in memory so that they will not be moved by garbage collection.","pos":[1088,1213],"source":" This *pins* the location of the source and destination arrays in memory so that they will not be moved by garbage collection."},{"content":"The memory blocks for the arrays are unpinned when the <ph id=\"ph1\">`fixed`</ph> block is completed.","pos":[1214,1296],"source":" The memory blocks for the arrays are unpinned when the `fixed` block is completed."},{"content":"Because the <ph id=\"ph1\">`Copy`</ph> method in this example uses the <ph id=\"ph2\">`unsafe`</ph> keyword, it must be compiled with the <bpt id=\"p1\">**</bpt>/unsafe<ept id=\"p1\">**</ept> compiler option.","pos":[1297,1423],"source":" Because the `Copy` method in this example uses the `unsafe` keyword, it must be compiled with the **/unsafe** compiler option."},{"content":"To set the option in Visual Studio, right-click the project name, and then click <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[1424,1520],"source":" To set the option in Visual Studio, right-click the project name, and then click **Properties**."},{"content":"On the <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept> tab, select <bpt id=\"p2\">**</bpt>Allow unsafe code<ept id=\"p2\">**</ept>.","pos":[1521,1572],"source":" On the **Build** tab, select **Allow unsafe code**."},{"pos":[1581,1588],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"pos":[1592,1751],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csProgGuidePointers#3<ept id=\"p2\">](../../../csharp/programming-guide/unsafe-code-pointers/codesnippet/CSharp/how-to-use-pointers-to-copy-an-array-of-bytes_1.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csProgGuidePointers#3](../../../csharp/programming-guide/unsafe-code-pointers/codesnippet/CSharp/how-to-use-pointers-to-copy-an-array-of-bytes_1.cs)]"},{"pos":[1758,1918],"content":"<bpt id=\"p1\">[!code-cs</bpt><bpt id=\"p2\">[</bpt>csProgGuidePointers#18<ept id=\"p2\">](../../../csharp/programming-guide/unsafe-code-pointers/codesnippet/CSharp/how-to-use-pointers-to-copy-an-array-of-bytes_2.cs)</ept><ept id=\"p1\">]</ept>","source":"[!code-cs[csProgGuidePointers#18](../../../csharp/programming-guide/unsafe-code-pointers/codesnippet/CSharp/how-to-use-pointers-to-copy-an-array-of-bytes_2.cs)]"},{"pos":[1927,1935],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>C# Programming Guide<ept id=\"p1\">](../../../csharp/programming-guide/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[1939,2006],"source":"[C# Programming Guide](../../../csharp/programming-guide/index.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Unsafe Code and Pointers<ept id=\"p1\">](../../../csharp/programming-guide/unsafe-code-pointers/index.md)</ept><ph id=\"ph1\"> </ph>","pos":[2009,2102],"source":" [Unsafe Code and Pointers](../../../csharp/programming-guide/unsafe-code-pointers/index.md) "},{"content":"<bpt id=\"p1\"> [</bpt>/unsafe (C# Compiler Options)<ept id=\"p1\">](../../../csharp/language-reference/compiler-options/unsafe-compiler-option.md)</ept><ph id=\"ph1\"> </ph>","pos":[2105,2217],"source":" [/unsafe (C# Compiler Options)](../../../csharp/language-reference/compiler-options/unsafe-compiler-option.md) "},{"content":"<bpt id=\"p1\"> [</bpt>Garbage Collection<ept id=\"p1\">](../../../standard/garbage-collection/index.md)</ept>","pos":[2220,2288],"source":" [Garbage Collection](../../../standard/garbage-collection/index.md)"}]}