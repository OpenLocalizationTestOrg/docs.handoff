{"content":"---\ntitle: \"How to: Bind a TreeView to Data That Has an Indeterminable Depth\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"TreeView control [WPF], binding to data of indeterminate depth\"\nms.assetid: daddcd74-1b0f-4ffd-baeb-ec934c5e0f53\n---\n# How to: Bind a TreeView to Data That Has an Indeterminable Depth\nThere might be times when you want to bind a <xref:System.Windows.Controls.TreeView> to a data source whose depth is not known.  This can occur when the data is recursive in nature, such as a file system, where folders can contain folders, or a company's organizational structure, where employees have other employees as direct reports.  \n  \n The data source must have a hierarchical object model. For example, an `Employee` class might contain a collection of Employee objects that are the direct reports of an employee. If the data is represented in a way that is not hierarchical, you must build a hierarchical representation of the data.  \n  \n When you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A?displayProperty=nameWithType> property and if the <xref:System.Windows.Controls.ItemsControl> generates an <xref:System.Windows.Controls.ItemsControl> for each child item, then the child <xref:System.Windows.Controls.ItemsControl> uses the same <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> as the parent. For example, if you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property on a data-bound <xref:System.Windows.Controls.TreeView>, each <xref:System.Windows.Controls.TreeViewItem> that is generated uses the <xref:System.Windows.DataTemplate> that was assigned to the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.TreeView>.  \n  \n The <xref:System.Windows.HierarchicalDataTemplate> enables you to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for a <xref:System.Windows.Controls.TreeViewItem>, or any <xref:System.Windows.Controls.HeaderedItemsControl>, on the data template. When you set the <xref:System.Windows.HierarchicalDataTemplate.ItemsSource%2A?displayProperty=nameWithType> property, that value is used when the <xref:System.Windows.HierarchicalDataTemplate> is applied. By using a <xref:System.Windows.HierarchicalDataTemplate>, you can recursively set the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem> in the <xref:System.Windows.Controls.TreeView>.  \n  \n## Example  \n The following example demonstrates how to bind a <xref:System.Windows.Controls.TreeView> to hierarchical data and use a <xref:System.Windows.HierarchicalDataTemplate> to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem>.  The <xref:System.Windows.Controls.TreeView> binds to XML data that represents the employees in a company.  Each `Employee` element can contain other `Employee` elements to indicate who reports to whom. Because the data is recursive, the <xref:System.Windows.HierarchicalDataTemplate> can be applied to each level.  \n  \n [!code-xaml[TreeViewWithUnknownDepth#1](~/samples/snippets/csharp/VS_Snippets_Wpf/TreeViewWithUnknownDepth/CS/Window1.xaml#1)]  \n  \n## See also\n\n- [Data Binding Overview](../data/data-binding-overview.md)\n- [Data Templating Overview](../data/data-templating-overview.md)\n","nodes":[{"pos":[4,239],"embed":true,"restype":"x-metadata","content":"title: \"How to: Bind a TreeView to Data That Has an Indeterminable Depth\"\nms.date: \"03/30/2017\"\nhelpviewer_keywords: \n  - \"TreeView control [WPF], binding to data of indeterminate depth\"\nms.assetid: daddcd74-1b0f-4ffd-baeb-ec934c5e0f53","nodes":[{"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","nodes":[{"pos":[0,64],"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","nodes":[{"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","pos":[0,64]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[246,310],"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","linkify":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","nodes":[{"content":"How to: Bind a TreeView to Data That Has an Indeterminable Depth","pos":[0,64]}]},{"content":"There might be times when you want to bind a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph> to a data source whose depth is not known.","pos":[311,438],"source":"There might be times when you want to bind a <xref:System.Windows.Controls.TreeView> to a data source whose depth is not known."},{"content":"This can occur when the data is recursive in nature, such as a file system, where folders can contain folders, or a company's organizational structure, where employees have other employees as direct reports.","pos":[440,647]},{"content":"The data source must have a hierarchical object model.","pos":[654,708]},{"content":"For example, an <ph id=\"ph1\">`Employee`</ph> class might contain a collection of Employee objects that are the direct reports of an employee.","pos":[709,832],"source":" For example, an `Employee` class might contain a collection of Employee objects that are the direct reports of an employee."},{"content":"If the data is represented in a way that is not hierarchical, you must build a hierarchical representation of the data.","pos":[833,952]},{"content":"When you set the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A?displayProperty=nameWithType&gt;</ph> property and if the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> generates an <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> for each child item, then the child <ph id=\"ph4\">&lt;xref:System.Windows.Controls.ItemsControl&gt;</ph> uses the same <ph id=\"ph5\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> as the parent.","pos":[959,1354],"source":"When you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A?displayProperty=nameWithType> property and if the <xref:System.Windows.Controls.ItemsControl> generates an <xref:System.Windows.Controls.ItemsControl> for each child item, then the child <xref:System.Windows.Controls.ItemsControl> uses the same <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> as the parent."},{"content":"For example, if you set the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> property on a data-bound <ph id=\"ph2\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph>, each <ph id=\"ph3\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph> that is generated uses the <ph id=\"ph4\">&lt;xref:System.Windows.DataTemplate&gt;</ph> that was assigned to the <ph id=\"ph5\">&lt;xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A&gt;</ph> property of the <ph id=\"ph6\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph>.","pos":[1355,1761],"source":" For example, if you set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property on a data-bound <xref:System.Windows.Controls.TreeView>, each <xref:System.Windows.Controls.TreeViewItem> that is generated uses the <xref:System.Windows.DataTemplate> that was assigned to the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.TreeView>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> enables you to specify the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl.ItemsSource%2A&gt;</ph> for a <ph id=\"ph3\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph>, or any <ph id=\"ph4\">&lt;xref:System.Windows.Controls.HeaderedItemsControl&gt;</ph>, on the data template.","pos":[1768,2037],"source":"The <xref:System.Windows.HierarchicalDataTemplate> enables you to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for a <xref:System.Windows.Controls.TreeViewItem>, or any <xref:System.Windows.Controls.HeaderedItemsControl>, on the data template."},{"content":"When you set the <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate.ItemsSource%2A?displayProperty=nameWithType&gt;</ph> property, that value is used when the <ph id=\"ph2\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> is applied.","pos":[2038,2242],"source":" When you set the <xref:System.Windows.HierarchicalDataTemplate.ItemsSource%2A?displayProperty=nameWithType> property, that value is used when the <xref:System.Windows.HierarchicalDataTemplate> is applied."},{"content":"By using a <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph>, you can recursively set the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.ItemsControl.ItemsSource%2A&gt;</ph> for each <ph id=\"ph3\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph> in the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph>.","pos":[2243,2489],"source":" By using a <xref:System.Windows.HierarchicalDataTemplate>, you can recursively set the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem> in the <xref:System.Windows.Controls.TreeView>."},{"pos":[2498,2505],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following example demonstrates how to bind a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph> to hierarchical data and use a <ph id=\"ph2\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> to specify the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.ItemsControl.ItemsSource%2A&gt;</ph> for each <ph id=\"ph4\">&lt;xref:System.Windows.Controls.TreeViewItem&gt;</ph>.","pos":[2509,2803],"source":"The following example demonstrates how to bind a <xref:System.Windows.Controls.TreeView> to hierarchical data and use a <xref:System.Windows.HierarchicalDataTemplate> to specify the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> for each <xref:System.Windows.Controls.TreeViewItem>."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.TreeView&gt;</ph> binds to XML data that represents the employees in a company.","pos":[2805,2910],"source":"  The <xref:System.Windows.Controls.TreeView> binds to XML data that represents the employees in a company."},{"content":"Each <ph id=\"ph1\">`Employee`</ph> element can contain other <ph id=\"ph2\">`Employee`</ph> elements to indicate who reports to whom.","pos":[2912,3006],"source":"  Each `Employee` element can contain other `Employee` elements to indicate who reports to whom."},{"content":"Because the data is recursive, the <ph id=\"ph1\">&lt;xref:System.Windows.HierarchicalDataTemplate&gt;</ph> can be applied to each level.","pos":[3007,3118],"source":" Because the data is recursive, the <xref:System.Windows.HierarchicalDataTemplate> can be applied to each level."},{"pos":[3260,3268],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3272,3329],"content":"<bpt id=\"p1\">[</bpt>Data Binding Overview<ept id=\"p1\">](../data/data-binding-overview.md)</ept>","source":"[Data Binding Overview](../data/data-binding-overview.md)"},{"pos":[3332,3395],"content":"<bpt id=\"p1\">[</bpt>Data Templating Overview<ept id=\"p1\">](../data/data-templating-overview.md)</ept>","source":"[Data Templating Overview](../data/data-templating-overview.md)"}]}