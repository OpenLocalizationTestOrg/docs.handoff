{"content":"---\ntitle: \"Stand-Alone Diagnostics Feed Sample | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: d31c6c1f-292c-4d95-8e23-ed8565970ea5\ncaps.latest.revision: 26\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Stand-Alone Diagnostics Feed Sample\nThis sample demonstrates how to create an RSS/Atom feed for syndication with [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]. It is a basic \"Hello World\" program that shows the basics of the object model and how to set it up on a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service.  \n  \n [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] models syndication feeds as service operations that return a special data type, <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter>. Instances of <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter> can serialize a feed into both the RSS 2.0 and Atom 1.0 formats. The following sample code shows the contract used.  \n  \n```  \n[ServiceContract(Namespace = \"\")]  \n    interface IDiagnosticsService  \n    {  \n        [OperationContract]  \n        //The [WebGet] attribute controls how WCF dispatches  \n        //HTTP requests to service operations based on a URI suffix  \n        //(the part of the request URI after the endpoint address)  \n        //using the HTTP GET method. The UriTemplate specifies a relative  \n        //path of 'feed', and specifies that the format is  \n        //supplied using a query string.   \n        [WebGet(UriTemplate=\"feed?format={format}\")]  \n        [ServiceKnownType(typeof(Atom10FeedFormatter))]  \n        [ServiceKnownType(typeof(Rss20FeedFormatter))]  \n        SyndicationFeedFormatter GetProcesses(string format);  \n    }  \n```  \n  \n The `GetProcesses` operation is annotated with the <xref:System.ServiceModel.Web.WebGetAttribute> attribute that enables you to control how [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] dispatches HTTP GET requests to service operations and specify the format of the messages sent.  \n  \n Like any [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service, syndication feeds can be self hosted in any managed application. Syndication services require a specific binding (the <xref:System.ServiceModel.WebHttpBinding>) and a specific endpoint behavior (the <xref:System.ServiceModel.Description.WebHttpBehavior>) to function correctly. The new <xref:System.ServiceModel.Web.WebServiceHost> class provides a convenient API for creating such endpoints without specific configuration.  \n  \n```  \nWebServiceHost host = new WebServiceHost(typeof(ProcessService), new Uri(\"http://localhost:8000/diagnostics\"));  \n  \n            //The WebServiceHost will automatically provide a default endpoint at the base address  \n            //using the proper binding (the WebHttpBinding) and endpoint behavior (the WebHttpBehavior)  \n```  \n  \n Alternatively, you can use <xref:System.ServiceModel.Activation.WebServiceHostFactory> from within an IIS-hosted .svc file to provide equivalent functionality (this technique is not demonstrated in this sample code).  \n  \n```  \n<%@ ServiceHost Language=\"C#|VB\" Debug=\"true\" Service=\"ProcessService\" %>  \n```  \n  \n Because this service receives requests using the standard HTTP GET, you can use any RSS or ATOM-aware client to access the service. For example, you can view the output of this service by navigating to http://localhost:8000/diagnostics/feed/?format=atom or http://localhost:8000/diagnostics/feed/?format=rss in an RSS-aware browser such as Internet Explorer 7.  \n  \n You can also use the [How the WCF Syndication Object Model Maps to Atom and RSS](../../../../docs/framework/wcf/feature-details/how-the-wcf-syndication-object-model-maps-to-atom-and-rss.md) to read syndicated data and process it using imperative code.  \n  \n```  \nXmlReader reader = XmlReader.Create( \"http://localhost:8000/diagnostics/feed/?format=rss\",  \nnew XmlReaderSettings()  \n{  \n//MaxCharactersInDocument can be used to control the maximum amount of data   \n//read from the reader and helps prevent OutOfMemoryException  \nMaxCharactersInDocument = 1024 * 64  \n} );  \n  \nSyndicationFeed feed = SyndicationFeed.Load( reader );  \n  \nforeach (SyndicationItem i in feed.Items)  \n{  \n        XmlSyndicationContent content = i.Content as XmlSyndicationContent;  \n        ProcessData pd = content.ReadContent<ProcessData>();  \n  \n        Console.WriteLine(i.Title.Text);  \n        Console.WriteLine(pd.ToString());  \n}  \n```  \n  \n### To set up, build, and run the sample  \n  \n1.  Ensure that you have the right address registration permission for HTTP and HTTPS on the computer as explained in the set up instructions in [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).  \n  \n2.  Build the solution.  \n  \n3.  Run the console application.  \n  \n4.  While the console application is running, navigate to http://localhost:8000/diagnostics/feed/?format=atom or http://localhost:8000/diagnostics/feed/?format=rss using an RSS-aware browser.  \n  \n> [!IMPORTANT]\n>  The samples may already be installed on your computer. Check for the following (default) directory before continuing.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples`  \n>   \n>  If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples. This sample is located in the following directory.  \n>   \n>  `<InstallDrive>:\\WF_WCF_Samples\\WCF\\Basic\\Syndication\\DiagnosticsFeed`  \n  \n## See Also  \n [WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)   \n [WCF Syndication](../../../../docs/framework/wcf/feature-details/wcf-syndication.md)","nodes":[{"pos":[4,356],"nodes":[{"content":"Stand-Alone Diagnostics Feed Sample | Microsoft Docs","nodes":[{"pos":[0,52],"content":"Stand-Alone Diagnostics Feed Sample | Microsoft Docs","nodes":[{"content":"Stand-Alone Diagnostics Feed Sample | Microsoft Docs","pos":[0,52]}]}],"pos":[6,61],"yaml":true}],"content":"title: \"Stand-Alone Diagnostics Feed Sample | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: d31c6c1f-292c-4d95-8e23-ed8565970ea5\ncaps.latest.revision: 26\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"","yamlblock":true},{"pos":[363,398],"content":"Stand-Alone Diagnostics Feed Sample","linkify":"Stand-Alone Diagnostics Feed Sample","nodes":[{"content":"Stand-Alone Diagnostics Feed Sample","pos":[0,35]}]},{"content":"This sample demonstrates how to create an RSS/Atom feed for syndication with <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph>.","pos":[399,532],"source":"This sample demonstrates how to create an RSS/Atom feed for syndication with [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]."},{"content":"It is a basic \"Hello World\" program that shows the basics of the object model and how to set it up on a <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> service.","pos":[533,701],"source":" It is a basic \"Hello World\" program that shows the basics of the object model and how to set it up on a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service."},{"content":"<ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> models syndication feeds as service operations that return a special data type, <ph id=\"ph2\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeedFormatter&gt;</ph>.","pos":[708,908],"source":"[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] models syndication feeds as service operations that return a special data type, <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter>."},{"content":"Instances of <ph id=\"ph1\">&lt;xref:System.ServiceModel.Syndication.SyndicationFeedFormatter&gt;</ph> can serialize a feed into both the RSS 2.0 and Atom 1.0 formats.","pos":[909,1050],"source":" Instances of <xref:System.ServiceModel.Syndication.SyndicationFeedFormatter> can serialize a feed into both the RSS 2.0 and Atom 1.0 formats."},{"content":"The following sample code shows the contract used.","pos":[1051,1101]},{"pos":[1858,2149],"content":"The <ph id=\"ph1\">`GetProcesses`</ph> operation is annotated with the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Web.WebGetAttribute&gt;</ph> attribute that enables you to control how <ph id=\"ph3\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> dispatches HTTP GET requests to service operations and specify the format of the messages sent.","source":"The `GetProcesses` operation is annotated with the <xref:System.ServiceModel.Web.WebGetAttribute> attribute that enables you to control how [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] dispatches HTTP GET requests to service operations and specify the format of the messages sent."},{"content":"Like any <ph id=\"ph1\">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service, syndication feeds can be self hosted in any managed application.","pos":[2156,2294],"source":"Like any [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service, syndication feeds can be self hosted in any managed application."},{"content":"Syndication services require a specific binding (the <ph id=\"ph1\">&lt;xref:System.ServiceModel.WebHttpBinding&gt;</ph>) and a specific endpoint behavior (the <ph id=\"ph2\">&lt;xref:System.ServiceModel.Description.WebHttpBehavior&gt;</ph>) to function correctly.","pos":[2295,2507],"source":" Syndication services require a specific binding (the <xref:System.ServiceModel.WebHttpBinding>) and a specific endpoint behavior (the <xref:System.ServiceModel.Description.WebHttpBehavior>) to function correctly."},{"content":"The new <ph id=\"ph1\">&lt;xref:System.ServiceModel.Web.WebServiceHost&gt;</ph> class provides a convenient API for creating such endpoints without specific configuration.","pos":[2508,2653],"source":" The new <xref:System.ServiceModel.Web.WebServiceHost> class provides a convenient API for creating such endpoints without specific configuration."},{"content":"Alternatively, you can use <ph id=\"ph1\">&lt;xref:System.ServiceModel.Activation.WebServiceHostFactory&gt;</ph> from within an IIS-hosted .svc file to provide equivalent functionality (this technique is not demonstrated in this sample code).","pos":[2999,3215],"source":"Alternatively, you can use <xref:System.ServiceModel.Activation.WebServiceHostFactory> from within an IIS-hosted .svc file to provide equivalent functionality (this technique is not demonstrated in this sample code)."},{"content":"Because this service receives requests using the standard HTTP GET, you can use any RSS or ATOM-aware client to access the service.","pos":[3313,3444]},{"content":"For example, you can view the output of this service by navigating to http://localhost:8000/diagnostics/feed/?format=atom or http://localhost:8000/diagnostics/feed/?format=rss in an RSS-aware browser such as Internet Explorer 7.","pos":[3445,3673]},{"pos":[3680,3931],"content":"You can also use the <bpt id=\"p1\">[</bpt>How the WCF Syndication Object Model Maps to Atom and RSS<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/how-the-wcf-syndication-object-model-maps-to-atom-and-rss.md)</ept> to read syndicated data and process it using imperative code.","source":"You can also use the [How the WCF Syndication Object Model Maps to Atom and RSS](../../../../docs/framework/wcf/feature-details/how-the-wcf-syndication-object-model-maps-to-atom-and-rss.md) to read syndicated data and process it using imperative code."},{"pos":[4613,4649],"content":"To set up, build, and run the sample","linkify":"To set up, build, and run the sample","nodes":[{"content":"To set up, build, and run the sample","pos":[0,36]}]},{"pos":[4659,4964],"content":"Ensure that you have the right address registration permission for HTTP and HTTPS on the computer as explained in the set up instructions in <bpt id=\"p1\">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id=\"p1\">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.","source":"Ensure that you have the right address registration permission for HTTP and HTTPS on the computer as explained in the set up instructions in [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)."},{"content":"Build the solution.","pos":[4974,4993]},{"content":"Run the console application.","pos":[5003,5031]},{"content":"While the console application is running, navigate to http://localhost:8000/diagnostics/feed/?format=atom or http://localhost:8000/diagnostics/feed/?format=rss using an RSS-aware browser.","pos":[5041,5228]},{"pos":[5236,5369],"content":"[!IMPORTANT]\n The samples may already be installed on your computer. Check for the following (default) directory before continuing.","leadings":["","> "],"nodes":[{"content":"The samples may already be installed on your computer. Check for the following (default) directory before continuing.","pos":[14,131],"nodes":[{"content":"The samples may already be installed on your computer.","pos":[0,54]},{"content":"Check for the following (default) directory before continuing.","pos":[55,117]}]}]},{"content":"If this directory does not exist, go to <bpt id=\"p1\">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id=\"ph1\">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.","pos":[5423,5749],"source":"If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples."},{"content":"This sample is located in the following directory.","pos":[5750,5800]},{"pos":[5890,5898],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>WCF Web HTTP Programming Model<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)</ept><ph id=\"ph1\"> </ph>","pos":[5902,6017],"source":"[WCF Web HTTP Programming Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md) "},{"content":"<bpt id=\"p1\">[</bpt>WCF Syndication<ept id=\"p1\">](../../../../docs/framework/wcf/feature-details/wcf-syndication.md)</ept>","pos":[6021,6105],"source":"[WCF Syndication](../../../../docs/framework/wcf/feature-details/wcf-syndication.md)"}]}