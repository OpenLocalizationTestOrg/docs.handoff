{"content":"---\ntitle: \"Navigation Overview\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"loose XAML files [WPF]\"\n  - \"windows [WPF]\"\n  - \"Start page [WPF]\"\n  - \"HTML files [WPF]\"\n  - \"structured navigation [WPF]\"\n  - \"fragment navigation [WPF]\"\n  - \"URIs (Uniform Resource Identifiers)\"\n  - \"custom objects [WPF]\"\n  - \"Uniform Resource Identifiers (URIs)\"\n  - \"pages [WPF]\"\n  - \"frames [WPF]\"\n  - \"navigation hosts [WPF]\"\n  - \"journals [WPF]\"\n  - \"lifetimes [WPF]\"\n  - \"retaining content state [WPF]\"\n  - \"content state [WPF]\"\n  - \"programmatic navigation [WPF]\"\n  - \"hyperlinks [WPF]\"\nms.assetid: 86ad2143-606a-4e34-bf7e-51a2594248b8\n---\n# Navigation Overview\nWindows Presentation Foundation (WPF) supports browser-style navigation that can be used in two types of applications: standalone applications and [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)]. To package content for navigation, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides the <xref:System.Windows.Controls.Page> class. You can navigate from one <xref:System.Windows.Controls.Page> to another declaratively, by using a <xref:System.Windows.Documents.Hyperlink>, or programmatically, by using the <xref:System.Windows.Navigation.NavigationService>. [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] uses the journal to remember pages that have been navigated from and to navigate back to them.  \n  \n <xref:System.Windows.Controls.Page>, <xref:System.Windows.Documents.Hyperlink>, <xref:System.Windows.Navigation.NavigationService>, and the journal form the core of the navigation support offered by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. This overview explores these features in detail before covering advanced navigation support that includes navigation to loose [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] files, [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] files, and objects.  \n  \n> [!NOTE]\n>  In this topic, the term \"browser\" refers only to browsers that can host [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications, which currently includes [!INCLUDE[TLA#tla_ie](../../../../includes/tlasharptla-ie-md.md)] and Firefox. Where specific [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features are supported only by a particular browser, the browser version is referred to.  \n\n## Navigation in WPF Applications  \n This topic provides an overview of the key navigation capabilities in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. These capabilities are available to both standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], although this topic presents them within the context of an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)].  \n  \n> [!NOTE]\n>  This topic doesn't discuss how to build and deploy [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]. For more information on [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], see [WPF XAML Browser Applications Overview](wpf-xaml-browser-applications-overview.md).  \n  \n This section explains and demonstrates the following aspects of navigation:  \n  \n-   [Implementing a Page](#CreatingAXAMLPage)  \n  \n-   [Configuring a Start Page](#Configuring_a_Start_Page)  \n  \n-   [Configuring the Host Window's Title, Width, and Height](#ConfiguringAXAMLPage)  \n  \n-   [Hyperlink Navigation](#NavigatingBetweenXAMLPages)  \n  \n-   [Fragment Navigation](#FragmentNavigation)  \n  \n-   [Navigation Service](#NavigationService)  \n  \n-   [Programmatic Navigation with the Navigation Service](#Programmatic_Navigation_with_the_Navigation_Service)  \n  \n-   [Navigation Lifetime](#Navigation_Lifetime)  \n  \n-   [Remembering Navigation with the Journal](#NavigationHistory)  \n  \n-   [Page Lifetime and the Journal](#PageLifetime)  \n  \n-   [Retaining Content State with Navigation History](#RetainingContentStateWithNavigationHistory)  \n  \n-   [Cookies](#Cookies)  \n  \n-   [Structured Navigation](#Structured_Navigation)  \n  \n<a name=\"CreatingAXAMLPage\"></a>   \n### Implementing a Page  \n In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], you can navigate to several content types that include .NET Framework objects, custom objects, enumeration values, user controls, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files, and [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] files. However, you'll find that the most common and convenient way to package content is by using <xref:System.Windows.Controls.Page>. Furthermore, <xref:System.Windows.Controls.Page> implements navigation-specific features to enhance their appearance and simplify development.  \n  \n Using <xref:System.Windows.Controls.Page>, you can declaratively implement a navigable page of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] content by using markup like the following.  \n  \n [!code-xaml[NavigationOverviewSnippets#Page1XAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/Page1.xaml#page1xaml)]  \n  \n A <xref:System.Windows.Controls.Page> that is implemented in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup has `Page` as its root element and requires the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)][!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] namespace declaration. The `Page` element contains the content that you want to navigate to and display. You add content by setting the `Page.Content` property element, as shown in the following markup.  \n  \n [!code-xaml[NavigationOverviewSnippets#Page2XAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/Page2.xaml#page2xaml)]  \n  \n `Page.Content` can only contain one child element; in the preceding example, the content is a single string, \"Hello, Page!\" In practice, you will usually use a layout control as the child element (see [Layout](../advanced/layout.md)) to contain and compose your content.  \n  \n The child elements of a `Page` element are considered to be the content of a <xref:System.Windows.Controls.Page> and, consequently, you don't need to use the explicit `Page.Content` declaration. The following markup is the declarative equivalent to the preceding sample.  \n  \n [!code-xaml[NavigationOverviewSnippets#Page3XAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/Page3.xaml#page3xaml)]  \n  \n In this case, `Page.Content` is automatically set with the child elements of the `Page` element. For more information, see [WPF Content Model](../controls/wpf-content-model.md).  \n  \n A markup-only <xref:System.Windows.Controls.Page> is useful for displaying content. However, a <xref:System.Windows.Controls.Page> can also display controls that allow users to interact with the page, and it can respond to user interaction by handling events and calling application logic. An interactive <xref:System.Windows.Controls.Page> is implemented by using a combination of markup and code-behind, as shown in the following example.  \n  \n [!code-xaml[XBAPAppDefSnippets#HomePageMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppDefSnippets/CSharp/HomePage.xaml#homepagemarkup)]  \n  \n [!code-csharp[XBAPAppDefSnippets#HomePageCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppDefSnippets/CSharp/HomePage.xaml.cs#homepagecodebehind)]\n [!code-vb[XBAPAppDefSnippets#HomePageCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/XBAPAppDefSnippets/VisualBasic/HomePage.xaml.vb#homepagecodebehind)]  \n  \n To allow a markup file and code-behind file to work together, the following configuration is required:  \n  \n-   In markup, the `Page` element must include the `x:Class` attribute. When the application is built, the existence of `x:Class` in the markup file causes [!INCLUDE[TLA#tla_msbuild](../../../../includes/tlasharptla-msbuild-md.md)] to create a `partial` class that derives from <xref:System.Windows.Controls.Page> and has the name that is specified by the `x:Class` attribute. This requires the addition of an [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] namespace declaration for the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema ( `xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"` ). The generated `partial` class implements `InitializeComponent`, which is called to register the events and set the properties that are implemented in markup.  \n  \n-   In code-behind, the class must be a `partial` class with the same name that is specified by the `x:Class` attribute in markup, and it must derive from <xref:System.Windows.Controls.Page>. This allows the code-behind file to be associated with the `partial` class that is generated for the markup file when the application is built (see [Building a WPF Application](building-a-wpf-application-wpf.md)).  \n  \n-   In code-behind, the <xref:System.Windows.Controls.Page> class must implement a constructor that calls the `InitializeComponent` method. `InitializeComponent` is implemented by the markup file's generated `partial` class to register events and set properties that are defined in markup.  \n  \n> [!NOTE]\n>  When you add a new <xref:System.Windows.Controls.Page> to your project using [!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)], the <xref:System.Windows.Controls.Page> is implemented using both markup and code-behind, and it includes the necessary configuration to create the association between the markup and code-behind files as described here.  \n  \n Once you have a <xref:System.Windows.Controls.Page>, you can navigate to it. To specify the first <xref:System.Windows.Controls.Page> that an application navigates to, you need to configure the start <xref:System.Windows.Controls.Page>.  \n  \n<a name=\"Configuring_a_Start_Page\"></a>   \n### Configuring a Start Page  \n [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] require a certain amount of application infrastructure to be hosted in a browser. In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], the <xref:System.Windows.Application> class is part of an application definition that establishes the required application infrastructure (see [Application Management Overview](application-management-overview.md)).  \n  \n An application definition is usually implemented using both markup and code-behind, with the markup file configured as an [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)]`ApplicationDefinition` item. The following is an application definition for an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)].  \n  \n [!code-xaml[XBAPAppDefSnippets#XBAPApplicationDefinitionMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppDefSnippets/CSharp/App.xaml#xbapapplicationdefinitionmarkup)]  \n  \n [!code-csharp[XBAPAppDefSnippets#XBAPApplicationDefinitionCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppDefSnippets/CSharp/App.xaml.cs#xbapapplicationdefinitioncodebehind)]\n [!code-vb[XBAPAppDefSnippets#XBAPApplicationDefinitionCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/XBAPAppDefSnippets/VisualBasic/Application.xaml.vb#xbapapplicationdefinitioncodebehind)]  \n  \n An [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] can use its application definition to specify a start <xref:System.Windows.Controls.Page>, which is the <xref:System.Windows.Controls.Page> that is automatically loaded when the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is launched. You do this by setting the <xref:System.Windows.Application.StartupUri%2A> property with the [!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)] for the desired <xref:System.Windows.Controls.Page>.  \n  \n> [!NOTE]\n>  In most cases, the <xref:System.Windows.Controls.Page> is either compiled into or deployed with an application. In these cases, the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that identifies a <xref:System.Windows.Controls.Page> is a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)], which is a [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that conforms to the *pack* scheme. Pack [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)] are discussed further in     [Pack URIs in WPF](pack-uris-in-wpf.md). You can also navigate to content using the http scheme, which is discussed below.  \n  \n You can set <xref:System.Windows.Application.StartupUri%2A> declaratively in markup, as shown in the following example.  \n  \n [!code-xaml[NavigationOverviewSnippets#XBAPApplicationDefinitionMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/App.xaml#xbapapplicationdefinitionmarkup)]  \n  \n In this example, the `StartupUri` attribute is set with a relative pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that identifies HomePage.xaml. When the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is launched, HomePage.xaml is automatically navigated to and displayed. This is demonstrated by the following figure, which shows an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] that was launched from a Web server.  \n  \n ![XBAP page](./media/navigation-overview/xbap-launched-from-a-web-server.png \"This shows an XBAP launched from a Web server.\")  \n  \n> [!NOTE]\n>  For more information regarding the development and deployment of [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], see [WPF XAML Browser Applications Overview](wpf-xaml-browser-applications-overview.md) and     [Deploying a WPF Application](deploying-a-wpf-application-wpf.md).  \n  \n<a name=\"ConfiguringAXAMLPage\"></a>   \n### Configuring the Host Window's Title, Width, and Height  \n One thing you may have noticed from the previous figure is that the title of both the browser and the tab panel is the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]. Besides being long, the title is neither attractive nor informative. For this reason, <xref:System.Windows.Controls.Page> offers a way for you to change the title by setting the <xref:System.Windows.Controls.Page.WindowTitle%2A> property. Furthermore, you can configure the width and height of the browser window by setting <xref:System.Windows.Controls.Page.WindowWidth%2A> and <xref:System.Windows.Controls.Page.WindowHeight%2A>, respectively.  \n  \n <xref:System.Windows.Controls.Page.WindowTitle%2A>, <xref:System.Windows.Controls.Page.WindowWidth%2A>, and <xref:System.Windows.Controls.Page.WindowHeight%2A> can be set declaratively in markup, as shown in the following example.  \n  \n [!code-xaml[NavigationOverviewSnippets#HomePageMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/HomePage.xaml#homepagemarkup)]  \n  \n The result is shown in the following figure.  \n  \n ![Window title, height, width](./media/navigation-overview/window-title-width-height.png \"This shows the window title, height, and width you can configure.\")  \n  \n<a name=\"NavigatingBetweenXAMLPages\"></a>   \n### Hyperlink Navigation  \n A typical [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] comprises several pages. The simplest way to navigate from one page to another is to use a <xref:System.Windows.Documents.Hyperlink>. You can declaratively add a <xref:System.Windows.Documents.Hyperlink> to a <xref:System.Windows.Controls.Page> by using the `Hyperlink` element, which is shown in the following markup.  \n  \n [!code-xaml[NavigationOverviewSnippets#HyperlinkXAML1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithHyperlink.xaml#hyperlinkxaml1)]  \n[!code-xaml[NavigationOverviewSnippets#HyperlinkXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithHyperlink.xaml#hyperlinkxaml2)]  \n[!code-xaml[NavigationOverviewSnippets#HyperlinkXAML3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithHyperlink.xaml#hyperlinkxaml3)]  \n  \n A `Hyperlink` element requires the following:  \n  \n-   The pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] of the <xref:System.Windows.Controls.Page> to navigate to, as specified by the `NavigateUri` attribute.  \n  \n-   Content that a user can click to initiate the navigation, such as text and images (for the content that the `Hyperlink` element can contain, see <xref:System.Windows.Documents.Hyperlink>).  \n  \n The following figure shows an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] with a <xref:System.Windows.Controls.Page> that has a <xref:System.Windows.Documents.Hyperlink>.  \n  \n ![Page with Hyperlink](./media/navigation-overview/xbap-with-a-page-with-a-hyperlink.png \"This shows an XBAP with a page with a hyperlink.\")  \n  \n As you would expect, clicking the <xref:System.Windows.Documents.Hyperlink> causes the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] to navigate to the <xref:System.Windows.Controls.Page> that is identified by the `NavigateUri` attribute. Additionally, the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] adds an entry for the previous <xref:System.Windows.Controls.Page> to the Recent Pages list in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]. This is shown in the following figure.  \n  \n ![Back and Forward buttons](./media/navigation-overview/back-and-forward-navigation.png \"Navigate with the back and forward buttons.\")  \n  \n As well as supporting navigation from one <xref:System.Windows.Controls.Page> to another, <xref:System.Windows.Documents.Hyperlink> also supports fragment navigation.  \n  \n<a name=\"FragmentNavigation\"></a>   \n### Fragment Navigation  \n *Fragment navigation* is the navigation to a content fragment in either the current <xref:System.Windows.Controls.Page> or another <xref:System.Windows.Controls.Page>. In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], a content fragment is the content that is contained by a named element. A named element is an element that has its `Name` attribute set. The following markup shows a named `TextBlock` element that contains a content fragment.  \n  \n [!code-xaml[NavigationOverviewSnippets#PageWithContentFragmentsMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithFragments.xaml#pagewithcontentfragmentsmarkup1)]  \n[!code-xaml[NavigationOverviewSnippets#PageWithContentFragmentsMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithFragments.xaml#pagewithcontentfragmentsmarkup2)]  \n[!code-xaml[NavigationOverviewSnippets#PageWithContentFragmentsMARKUP3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithFragments.xaml#pagewithcontentfragmentsmarkup3)]  \n  \n For a <xref:System.Windows.Documents.Hyperlink> to navigate to a content fragment, the `NavigateUri` attribute must include the following:  \n  \n-   The [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] of the <xref:System.Windows.Controls.Page> with the content fragment to navigate to.  \n  \n-   A \"#\" character.  \n  \n-   The name of the element on the <xref:System.Windows.Controls.Page> that contains the content fragment.  \n  \n A fragment [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] has the following format.  \n  \n *PageURI* `#` *ElementName*  \n  \n The following shows an example of a `Hyperlink` that is configured to navigate to a content fragment.  \n  \n [!code-xaml[NavigationOverviewSnippets#PageThatNavigatesXAML1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageThatNavigatesToFragment.xaml#pagethatnavigatesxaml1)]  \n[!code-xaml[NavigationOverviewSnippets#PageThatNavigatesXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageThatNavigatesToFragment.xaml#pagethatnavigatesxaml2)]  \n[!code-xaml[NavigationOverviewSnippets#PageThatNavigatesXAML3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageThatNavigatesToFragment.xaml#pagethatnavigatesxaml3)]  \n  \n> [!NOTE]\n>  This section describes the default fragment navigation implementation in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] also allows you to implement your own fragment navigation scheme which, in part, requires handling the <xref:System.Windows.Navigation.NavigationService.FragmentNavigation?displayProperty=nameWithType> event.  \n  \n> [!IMPORTANT]\n>  You can navigate to fragments in loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages (markup-only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files with `Page` as the root element) only if the pages can be browsed via [!INCLUDE[TLA2#tla_http](../../../../includes/tla2sharptla-http-md.md)].  \n>   \n>  However, a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page can navigate to its own fragments.  \n  \n<a name=\"NavigationService\"></a>   \n### Navigation Service  \n While <xref:System.Windows.Documents.Hyperlink> allows a user to initiate navigation to a particular <xref:System.Windows.Controls.Page>, the work of locating and downloading the page is performed by the <xref:System.Windows.Navigation.NavigationService> class. Essentially, <xref:System.Windows.Navigation.NavigationService> provides the ability to process a navigation request on behalf of client code, such as the <xref:System.Windows.Documents.Hyperlink>. Additionally, <xref:System.Windows.Navigation.NavigationService> implements higher-level support for tracking and influencing a navigation request.  \n  \n When a <xref:System.Windows.Documents.Hyperlink> is clicked, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] calls <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> to locate and download the <xref:System.Windows.Controls.Page> at the specified pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]. The downloaded <xref:System.Windows.Controls.Page> is converted to a tree of objects whose root object is an instance of the downloaded <xref:System.Windows.Controls.Page>. A reference to the root <xref:System.Windows.Controls.Page> object is stored in the <xref:System.Windows.Navigation.NavigationService.Content%2A?displayProperty=nameWithType> property. The pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the content that was navigated to is stored in the <xref:System.Windows.Navigation.NavigationService.Source%2A?displayProperty=nameWithType> property, while the <xref:System.Windows.Navigation.NavigationService.CurrentSource%2A?displayProperty=nameWithType> stores the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the last page that was navigated to.  \n  \n> [!NOTE]\n>  It is possible for a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application to have more than one currently active <xref:System.Windows.Navigation.NavigationService>. For more information, see [Navigation Hosts](#Navigation_Hosts) later in this topic.  \n  \n<a name=\"Programmatic_Navigation_with_the_Navigation_Service\"></a>   \n### Programmatic Navigation with the Navigation Service  \n You don't need to know about <xref:System.Windows.Navigation.NavigationService> if navigation is implemented declaratively in markup using <xref:System.Windows.Documents.Hyperlink>, because <xref:System.Windows.Documents.Hyperlink> uses the <xref:System.Windows.Navigation.NavigationService> on your behalf. This means that, as long as either the direct or indirect parent of a <xref:System.Windows.Documents.Hyperlink> is a navigation host (see [Navigation Hosts](#Navigation_Hosts)), <xref:System.Windows.Documents.Hyperlink> will be able to find and use the navigation host's navigation service to process a navigation request.  \n  \n However, there are situations when you need to use <xref:System.Windows.Navigation.NavigationService> directly, including the following:  \n  \n-   When you need to instantiate a <xref:System.Windows.Controls.Page> using a non-default constructor.  \n  \n-   When you need to set properties on the <xref:System.Windows.Controls.Page> before you navigate to it.  \n  \n-   When the <xref:System.Windows.Controls.Page> that needs to be navigated to can only be determined at run time.  \n  \n In these situations, you need to write code to programmatically initiate navigation by calling the <xref:System.Windows.Navigation.NavigationService.Navigate%2A> method of the <xref:System.Windows.Navigation.NavigationService> object. That requires getting a reference to a <xref:System.Windows.Navigation.NavigationService>.  \n  \n#### Getting a Reference to the NavigationService  \n For reasons that are covered in the [Navigation Hosts](#Navigation_Hosts) section, a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application can have more than one <xref:System.Windows.Navigation.NavigationService>. This means that your code needs a way to find a <xref:System.Windows.Navigation.NavigationService>, which is usually the <xref:System.Windows.Navigation.NavigationService> that navigated to the current <xref:System.Windows.Controls.Page>. You can get a reference to a <xref:System.Windows.Navigation.NavigationService> by calling the `static`<xref:System.Windows.Navigation.NavigationService.GetNavigationService%2A?displayProperty=nameWithType> method. To get the <xref:System.Windows.Navigation.NavigationService> that navigated to a particular <xref:System.Windows.Controls.Page>, you pass a reference to the <xref:System.Windows.Controls.Page> as the argument of the <xref:System.Windows.Navigation.NavigationService.GetNavigationService%2A> method. The following code shows how to get the <xref:System.Windows.Navigation.NavigationService> for the current <xref:System.Windows.Controls.Page>.  \n  \n [!code-csharp[NavigationOverviewSnippets#GetNSCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/GetNSPage.xaml.cs#getnscodebehind1)]  \n[!code-csharp[NavigationOverviewSnippets#GetNSCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/GetNSPage.xaml.cs#getnscodebehind2)]\n[!code-vb[NavigationOverviewSnippets#GetNSCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/GetNSPage.xaml.vb#getnscodebehind2)]  \n  \n As a shortcut for finding the <xref:System.Windows.Navigation.NavigationService> for a <xref:System.Windows.Controls.Page>, <xref:System.Windows.Controls.Page> implements the <xref:System.Windows.Controls.Page.NavigationService%2A> property. This is shown in the following example.  \n  \n [!code-csharp[NavigationOverviewSnippets#GetNSShortcutCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/GetNSPageShortCut.xaml.cs#getnsshortcutcodebehind1)]  \n[!code-csharp[NavigationOverviewSnippets#GetNSShortcutCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/GetNSPageShortCut.xaml.cs#getnsshortcutcodebehind2)]\n[!code-vb[NavigationOverviewSnippets#GetNSShortcutCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/GetNSPageShortCut.xaml.vb#getnsshortcutcodebehind2)]  \n  \n> [!NOTE]\n>  A <xref:System.Windows.Controls.Page> can only get a reference to its <xref:System.Windows.Navigation.NavigationService> when <xref:System.Windows.Controls.Page> raises the <xref:System.Windows.FrameworkElement.Loaded> event.  \n  \n#### Programmatic Navigation to a Page Object  \n The following example shows how to use the <xref:System.Windows.Navigation.NavigationService> to programmatically navigate to a <xref:System.Windows.Controls.Page>. Programmatic navigation is required because the <xref:System.Windows.Controls.Page> that is being navigated to can only be instantiated using a single, non-default constructor. The <xref:System.Windows.Controls.Page> with the non-default constructor is shown in the following markup and code.  \n  \n [!code-xaml[NavigationOverviewSnippets#PageWithNonDefaultConstructorXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithNonDefaultConstructor.xaml#pagewithnondefaultconstructorxaml)]  \n  \n [!code-csharp[NavigationOverviewSnippets#PageWithNonDefaultConstructorCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithNonDefaultConstructor.xaml.cs#pagewithnondefaultconstructorcodebehind)]\n [!code-vb[NavigationOverviewSnippets#PageWithNonDefaultConstructorCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/PageWithNonDefaultConstructor.xaml.vb#pagewithnondefaultconstructorcodebehind)]  \n  \n The <xref:System.Windows.Controls.Page> that navigates to the <xref:System.Windows.Controls.Page> with the non-default constructor is shown in the following markup and code.  \n  \n [!code-xaml[NavigationOverviewSnippets#NSNavigationPageXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NSNavigationPage.xaml#nsnavigationpagexaml)]  \n  \n [!code-csharp[NavigationOverviewSnippets#NSNavigationPageCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NSNavigationPage.xaml.cs#nsnavigationpagecodebehind)]\n [!code-vb[NavigationOverviewSnippets#NSNavigationPageCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/NSNavigationPage.xaml.vb#nsnavigationpagecodebehind)]  \n  \n When the <xref:System.Windows.Documents.Hyperlink> on this <xref:System.Windows.Controls.Page> is clicked, navigation is initiated by instantiating the <xref:System.Windows.Controls.Page> to navigate to using the non-default constructor and calling the <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> method. <xref:System.Windows.Navigation.NavigationService.Navigate%2A> accepts a reference to the object that the <xref:System.Windows.Navigation.NavigationService> will navigate to, rather than a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)].  \n  \n#### Programmatic Navigation with a Pack URI  \n If you need to construct a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] programmatically (when you can only determine the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] at run time, for example), you can use the <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> method. This is shown in the following example.  \n  \n [!code-xaml[NavigationOverviewSnippets#NSUriNavigationPageXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NSUriNavigationPage.xaml#nsurinavigationpagexaml)]  \n  \n [!code-csharp[NavigationOverviewSnippets#NSUriNavigationPageCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NSUriNavigationPage.xaml.cs#nsurinavigationpagecodebehind)]\n [!code-vb[NavigationOverviewSnippets#NSUriNavigationPageCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/NSUriNavigationPage.xaml.vb#nsurinavigationpagecodebehind)]  \n  \n#### Refreshing the Current Page  \n A <xref:System.Windows.Controls.Page> is not downloaded if it has the same pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] as the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that is stored in the <xref:System.Windows.Navigation.NavigationService.Source%2A?displayProperty=nameWithType> property. To force [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] to download the current page again, you can call the <xref:System.Windows.Navigation.NavigationService.Refresh%2A?displayProperty=nameWithType> method, as shown in the following example.  \n  \n [!code-xaml[NavigationOverviewSnippets#NSRefreshNavigationPageXAML1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NSRefreshNavigationPage.xaml#nsrefreshnavigationpagexaml1)]  \n  \n [!code-csharp[NavigationOverviewSnippets#NSRefreshNavigationPageCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NSRefreshNavigationPage.xaml.cs#nsrefreshnavigationpagecodebehind1)]\n [!code-vb[NavigationOverviewSnippets#NSRefreshNavigationPageCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/NSRefreshNavigationPage.xaml.vb#nsrefreshnavigationpagecodebehind1)]  \n[!code-csharp[NavigationOverviewSnippets#NSRefreshNavigationPageCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NSRefreshNavigationPage.xaml.cs#nsrefreshnavigationpagecodebehind2)]\n[!code-vb[NavigationOverviewSnippets#NSRefreshNavigationPageCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/NSRefreshNavigationPage.xaml.vb#nsrefreshnavigationpagecodebehind2)]  \n  \n<a name=\"Navigation_Lifetime\"></a>   \n### Navigation Lifetime  \n There are many ways to initiate navigation, as you've seen. When navigation is initiated, and while navigation is in progress, you can track and influence the navigation using the following events that are implemented by <xref:System.Windows.Navigation.NavigationService>:  \n  \n-   <xref:System.Windows.Navigation.NavigationService.Navigating>. Occurs when a new navigation is requested. Can be used to cancel the navigation.  \n  \n-   <xref:System.Windows.Navigation.NavigationService.NavigationProgress>. Occurs periodically during a download to provide navigation progress information.  \n  \n-   <xref:System.Windows.Navigation.NavigationService.Navigated>. Occurs when the page has been located and downloaded.  \n  \n-   <xref:System.Windows.Navigation.NavigationService.NavigationStopped>. Occurs when the navigation is stopped (by calling <xref:System.Windows.Navigation.NavigationService.StopLoading%2A>), or when a new navigation is requested while a current navigation is in progress.  \n  \n-   <xref:System.Windows.Navigation.NavigationService.NavigationFailed>. Occurs when an error is raised while navigating to the requested content.  \n  \n-   <xref:System.Windows.Navigation.NavigationService.LoadCompleted>. Occurs when content that was navigated to is loaded and parsed, and has begun rendering.  \n  \n-   <xref:System.Windows.Navigation.NavigationService.FragmentNavigation>. Occurs when navigation to a content fragment begins, which happens:  \n  \n    -   Immediately, if the desired fragment is in the current content.  \n  \n    -   After the source content has been loaded, if the desired fragment is in different content.  \n  \n The navigation events are raised in the order that is illustrated by the following figure.  \n  \n ![Page navigation flow chart](./media/navigation-overview/order-of-navigation-events.png \"Page navigation event flow chart\")  \n  \n In general, a <xref:System.Windows.Controls.Page> isn't concerned about these events. It is more likely that an application is concerned with them and, for that reason, these events are also raised by the <xref:System.Windows.Application> class:  \n  \n-   <xref:System.Windows.Application.Navigating?displayProperty=nameWithType>  \n  \n-   <xref:System.Windows.Application.NavigationProgress?displayProperty=nameWithType>  \n  \n-   <xref:System.Windows.Application.Navigated?displayProperty=nameWithType>  \n  \n-   <xref:System.Windows.Application.NavigationFailed?displayProperty=nameWithType>  \n  \n-   <xref:System.Windows.Application.NavigationStopped?displayProperty=nameWithType>  \n  \n-   <xref:System.Windows.Application.LoadCompleted?displayProperty=nameWithType>  \n  \n-   <xref:System.Windows.Application.FragmentNavigation?displayProperty=nameWithType>  \n  \n Every time <xref:System.Windows.Navigation.NavigationService> raises an event, the <xref:System.Windows.Application> class raises the corresponding event. <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> offer the same events to detect navigation within their respective scopes.  \n  \n In some cases, a <xref:System.Windows.Controls.Page> might be interested in these events. For example, a <xref:System.Windows.Controls.Page> might handle the <xref:System.Windows.Navigation.NavigationService.Navigating?displayProperty=nameWithType> event to determine whether or not to cancel navigation away from itself. This is shown in the following example.  \n  \n [!code-xaml[NavigationOverviewSnippets#CancelNavigationPageXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/CancelNavigationPage.xaml#cancelnavigationpagexaml)]  \n  \n [!code-csharp[NavigationOverviewSnippets#CancelNavigationPageCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/CancelNavigationPage.xaml.cs#cancelnavigationpagecodebehind)]\n [!code-vb[NavigationOverviewSnippets#CancelNavigationPageCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/CancelNavigationPage.xaml.vb#cancelnavigationpagecodebehind)]  \n  \n If you register a handler with a navigation event from a <xref:System.Windows.Controls.Page>, as the preceding example does, you must also unregister the event handler. If you don't, there may be side effects with respect to how [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] navigation remembers <xref:System.Windows.Controls.Page> navigation using the journal.  \n  \n<a name=\"NavigationHistory\"></a>   \n### Remembering Navigation with the Journal  \n [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] uses two stacks to remember the pages that you have navigated from: a back stack and a forward stack. When you navigate from the current <xref:System.Windows.Controls.Page> to a new <xref:System.Windows.Controls.Page> or forward to an existing <xref:System.Windows.Controls.Page>, the current <xref:System.Windows.Controls.Page> is added to the *back stack*. When you navigate from the current <xref:System.Windows.Controls.Page> back to the previous <xref:System.Windows.Controls.Page>, the current <xref:System.Windows.Controls.Page> is added to the *forward stack*. The back stack, the forward stack, and the functionality to manage them, are collectively referred to as the journal. Each item in the back stack and the forward stack is an instance of the <xref:System.Windows.Navigation.JournalEntry> class, and is referred to as a *journal entry*.  \n  \n#### Navigating the Journal from Internet Explorer  \n Conceptually, the journal operates the same way that the **Back** and **Forward** buttons in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)] do. These are shown in the following figure.  \n  \n ![Back and Forward buttons](./media/navigation-overview/back-and-forward-navigation.png \"Navigate with the back and forward buttons.\")  \n  \n For [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] that are hosted by [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] integrates the journal into the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] of [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]. This allows users to navigate pages in an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] by using the **Back**, **Forward**, and **Recent Pages** buttons in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]. The journal is not integrated into [!INCLUDE[TLA2#tla_ie6](../../../../includes/tla2sharptla-ie6-md.md)] in the same way it is for [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)] or Internet Explorer 8. Instead, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] renders a substitute navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].  \n  \n> [!IMPORTANT]\n>  In [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], when a user navigates away from and back to an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], only the journal entries for pages that were not kept alive are retained in the journal. For discussion on keeping pages alive, see [Page Lifetime and the Journal](#PageLifetime) later in this topic.  \n  \n By default, the text for each <xref:System.Windows.Controls.Page> that appears in the **Recent Pages** list of [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)] is the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the <xref:System.Windows.Controls.Page>. In many cases, this is not particularly meaningful to the user. Fortunately, you can change the text using one the following options:  \n  \n1.  The attached `JournalEntry.Name` attribute value.  \n  \n2.  The `Page.Title` attribute value.  \n  \n3.  The `Page.WindowTitle` attribute value and the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the current <xref:System.Windows.Controls.Page>.  \n  \n4.  The [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the current <xref:System.Windows.Controls.Page>. (Default)  \n  \n The order in which the options are listed matches the order of precedence for finding the text. For example, if `JournalEntry.Name` is set, the other values are ignored.  \n  \n The following example uses the `Page.Title` attribute to change the text that appears for a journal entry.  \n  \n [!code-xaml[NavigationOverviewSnippets#PageTitleMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithTitle.xaml#pagetitlemarkup1)]  \n[!code-xaml[NavigationOverviewSnippets#PageTitleMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithTitle.xaml#pagetitlemarkup2)]  \n  \n [!code-csharp[NavigationOverviewSnippets#PageTitleCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithTitle.xaml.cs#pagetitlecodebehind1)]\n [!code-vb[NavigationOverviewSnippets#PageTitleCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/PageWithTitle.xaml.vb#pagetitlecodebehind1)]  \n[!code-csharp[NavigationOverviewSnippets#PageTitleCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithTitle.xaml.cs#pagetitlecodebehind2)]\n[!code-vb[NavigationOverviewSnippets#PageTitleCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/PageWithTitle.xaml.vb#pagetitlecodebehind2)]  \n  \n#### Navigating the Journal Using WPF  \n Although a user can navigate the journal by using the **Back**, **Forward**, and **Recent Pages** in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], you can also navigate the journal using both declarative and programmatic mechanisms provided by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. One reason to do this is to provide custom navigation [!INCLUDE[TLA2#tla_ui#plural](../../../../includes/tla2sharptla-uisharpplural-md.md)] in your pages.  \n  \n You can declaratively add journal navigation support by using the navigation commands exposed by <xref:System.Windows.Input.NavigationCommands>. The following example demonstrates how to use the `BrowseBack` navigation command.  \n  \n [!code-xaml[NavigationOverviewSnippets#NavigationCommandsPageXAML1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NavigationCommandsPage.xaml#navigationcommandspagexaml1)]  \n[!code-xaml[NavigationOverviewSnippets#NavigationCommandsPageXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NavigationCommandsPage.xaml#navigationcommandspagexaml2)]  \n[!code-xaml[NavigationOverviewSnippets#NavigationCommandsPageXAML3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NavigationCommandsPage.xaml#navigationcommandspagexaml3)]  \n[!code-xaml[NavigationOverviewSnippets#NavigationCommandsPageXAML4](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/NavigationCommandsPage.xaml#navigationcommandspagexaml4)]  \n  \n You can programmatically navigate the journal by using one of the following members of the <xref:System.Windows.Navigation.NavigationService> class:  \n  \n-   <xref:System.Windows.Navigation.NavigationService.GoBack%2A>  \n  \n-   <xref:System.Windows.Navigation.NavigationService.GoForward%2A>  \n  \n-   <xref:System.Windows.Navigation.NavigationService.CanGoBack%2A>  \n  \n-   <xref:System.Windows.Navigation.NavigationService.CanGoForward%2A>  \n  \n The journal can also be manipulated programmatically, as discussed in [Retaining Content State with Navigation History](#RetainingContentStateWithNavigationHistory) later in this topic.  \n  \n<a name=\"PageLifetime\"></a>   \n### Page Lifetime and the Journal  \n Consider an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] with several pages that contain rich content, including graphics, animations, and media. The memory footprint for pages like these could be quite large, particularly if video and audio media are used. Given that the journal \"remembers\" pages that have been navigated to, such an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] could quickly consume a large and noticeable amount of memory.  \n  \n For this reason, the default behavior of the journal is to store <xref:System.Windows.Controls.Page> metadata in each journal entry rather than a reference to a <xref:System.Windows.Controls.Page> object. When a journal entry is navigated to, its <xref:System.Windows.Controls.Page> metadata is used to create a new instance of the specified <xref:System.Windows.Controls.Page>. As a consequence, each <xref:System.Windows.Controls.Page> that is navigated has the lifetime that is illustrated by the following figure.  \n  \n ![Page lifetime](./media/navigation-overview/navigated-page-lifetime.png \"This shows the lifetime when a page is navigated.\")  \n  \n Although using the default journaling behavior can save on memory consumption, per-page rendering performance might be reduced; reinstantiating a <xref:System.Windows.Controls.Page> can be time-intensive, particularly if it has a lot of content. If you need to retain a <xref:System.Windows.Controls.Page> instance in the journal, you can draw on two techniques for doing so. First, you can programmatically navigate to a <xref:System.Windows.Controls.Page> object by calling the <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> method.  \n  \n Second, you can specify that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] retain an instance of a <xref:System.Windows.Controls.Page> in the journal by setting the <xref:System.Windows.Controls.Page.KeepAlive%2A> property to `true` (the default is `false`). As shown in the following example, you can set <xref:System.Windows.Controls.Page.KeepAlive%2A> declaratively in markup.  \n  \n [!code-xaml[NavigationOverviewSnippets#KeepAlivePageXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/KeepAlivePage.xaml#keepalivepagexaml)]  \n  \n The lifetime of a <xref:System.Windows.Controls.Page> that is kept alive is subtly different from one that is not. The first time a <xref:System.Windows.Controls.Page> that is kept alive is navigated to, it is instantiated just like a <xref:System.Windows.Controls.Page> that is not kept alive. However, because an instance of the <xref:System.Windows.Controls.Page> is retained in the journal, it is never instantiated again for as long as it remains in the journal. Consequently, if a <xref:System.Windows.Controls.Page> has initialization logic that needs to be called every time the <xref:System.Windows.Controls.Page> is navigated to, you should move it from the constructor into a handler for the <xref:System.Windows.FrameworkElement.Loaded> event. As shown in the following figure, the <xref:System.Windows.FrameworkElement.Loaded> and <xref:System.Windows.FrameworkElement.Unloaded> events are still raised each time a <xref:System.Windows.Controls.Page> is navigated to and from, respectively.  \n  \n ![When the Loaded and Unloaded events are raised](./media/navigation-overview/loaded-and-unloaded-events.png \"Loaded and unloaded events are raised when a page is navigated to and from.\")  \n  \n When a <xref:System.Windows.Controls.Page> is not kept alive, you should not do either of the following:  \n  \n-   Store a reference to it, or any part of it.  \n  \n-   Register event handlers with events that are not implemented by it.  \n  \n Doing either of these will create references that force the <xref:System.Windows.Controls.Page> to be retained in memory, even after it has been removed from the journal.  \n  \n In general, you should prefer the default <xref:System.Windows.Controls.Page> behavior of not keeping a <xref:System.Windows.Controls.Page> alive. However, this has state implications that are discussed in the next section.  \n  \n<a name=\"RetainingContentStateWithNavigationHistory\"></a>   \n### Retaining Content State with Navigation History  \n If a <xref:System.Windows.Controls.Page> is not kept alive, and it has controls that collect data from the user, what happens to the data if a user navigates away from and back to the <xref:System.Windows.Controls.Page>? From a user experience perspective, the user should expect to see the data they entered previously. Unfortunately, because a new instance of the <xref:System.Windows.Controls.Page> is created with each navigation, the controls that collected the data are reinstantiated and the data is lost.  \n  \n Fortunately, the journal provides support for remembering data across <xref:System.Windows.Controls.Page> navigations, including control data. Specifically, the journal entry for each <xref:System.Windows.Controls.Page> acts as a temporary container for the associated <xref:System.Windows.Controls.Page> state. The following steps outline how this support is used when a <xref:System.Windows.Controls.Page> is navigated from:  \n  \n1.  An entry for the current <xref:System.Windows.Controls.Page> is added to the journal.  \n  \n2.  The state of the <xref:System.Windows.Controls.Page> is stored with the journal entry for that page, which is added to the back stack.  \n  \n3.  The new <xref:System.Windows.Controls.Page> is navigated to.  \n  \n When the page <xref:System.Windows.Controls.Page> is navigated back to, using the journal, the following steps take place:  \n  \n1.  The <xref:System.Windows.Controls.Page> (the top journal entry on the back stack) is instantiated.  \n  \n2.  The <xref:System.Windows.Controls.Page> is refreshed with the state that was stored with the journal entry for the <xref:System.Windows.Controls.Page>.  \n  \n3.  The <xref:System.Windows.Controls.Page> is navigated back to.  \n  \n [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] automatically uses this support when the following controls are used on a <xref:System.Windows.Controls.Page>:  \n  \n-   <xref:System.Windows.Controls.CheckBox>  \n  \n-   <xref:System.Windows.Controls.ComboBox>  \n  \n-   <xref:System.Windows.Controls.Expander>  \n  \n-   <xref:System.Windows.Controls.Frame>  \n  \n-   <xref:System.Windows.Controls.ListBox>  \n  \n-   <xref:System.Windows.Controls.ListBoxItem>  \n  \n-   <xref:System.Windows.Controls.MenuItem>  \n  \n-   <xref:System.Windows.Controls.ProgressBar>  \n  \n-   <xref:System.Windows.Controls.RadioButton>  \n  \n-   <xref:System.Windows.Controls.Slider>  \n  \n-   <xref:System.Windows.Controls.TabControl>  \n  \n-   <xref:System.Windows.Controls.TabItem>  \n  \n-   <xref:System.Windows.Controls.TextBox>  \n  \n If a <xref:System.Windows.Controls.Page> uses these controls, data entered into them is remembered across <xref:System.Windows.Controls.Page> navigations, as demonstrated by the **Favorite Color**<xref:System.Windows.Controls.ListBox> in the following figure.  \n  \n ![Page with controls that remember state](./media/navigation-overview/data-remembered-across-page-navigations.png \"Data entered is remembered across page navigations.\")  \n  \n When a <xref:System.Windows.Controls.Page> has controls other than those in the preceding list, or when state is stored in custom objects, you need to write code to cause the journal to remember state across <xref:System.Windows.Controls.Page> navigations.  \n  \n If you need to remember small pieces of state across <xref:System.Windows.Controls.Page> navigations, you can use dependency properties (see <xref:System.Windows.DependencyProperty>) that are configured with the <xref:System.Windows.FrameworkPropertyMetadata.Journal%2A?displayProperty=nameWithType> metadata flag.  \n  \n If the state that your <xref:System.Windows.Controls.Page> needs to remember across navigations comprises multiple pieces of data, you may find it less code intensive to encapsulate your state in a single class and implement the <xref:System.Windows.Navigation.IProvideCustomContentState> interface.  \n  \n If you need to navigate through various states of a single <xref:System.Windows.Controls.Page>, without navigating from the <xref:System.Windows.Controls.Page> itself, you can use <xref:System.Windows.Navigation.IProvideCustomContentState> and <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A?displayProperty=nameWithType>.  \n  \n<a name=\"Cookies\"></a>   \n### Cookies  \n Another way that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications can store data is with cookies, which are created, updated, and deleted by using the <xref:System.Windows.Application.SetCookie%2A> and <xref:System.Windows.Application.GetCookie%2A> methods. The cookies that you can create in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] are the same cookies that other types of Web applications use; cookies are arbitrary pieces of data that are stored by an application on a client machine either during or across application sessions. Cookie data typically takes the form of a name/value pair in the following format.  \n  \n *Name* `=` *Value*  \n  \n When the data is passed to <xref:System.Windows.Application.SetCookie%2A>, along with the <xref:System.Uri> of the location for which the cookie should be set, a cookie is created in-memory, and it is only available for the duration of the current application session. This type of cookie is referred to as a *session cookie*.  \n  \n To store a cookie across application sessions, an expiration date must be added to the cookie, using the following format.  \n  \n *NAME* `=` *VALUE* `; expires=DAY, DD-MMM-YYYY HH:MM:SS GMT`  \n  \n A cookie with an expiration date is stored in the current [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] installation's Temporary Internet Files folder until the cookie expires. Such a cookie is known as a *persistent cookie* because it persists across application sessions.  \n  \n You retrieve both session and persistent cookies by calling the <xref:System.Windows.Application.GetCookie%2A> method, passing the <xref:System.Uri> of the location where the cookie was set with the <xref:System.Windows.Application.SetCookie%2A> method.  \n  \n The following are some of the ways that cookies are supported in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]:  \n  \n-   [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] can both create and manage cookies.  \n  \n-   Cookies that are created by an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] can be accessed from the browser.  \n  \n-   [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] from the same domain can create and share cookies.  \n  \n-   [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] and [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] pages from the same domain can create and share cookies.  \n  \n-   Cookies are dispatched when [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] and loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages make Web requests.  \n  \n-   Both top-level [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] hosted in IFRAMES can access cookies.  \n  \n-   Cookie support in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] is the same for all supported browsers.  \n  \n-   In [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], P3P policy that pertains to cookies is honored by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], particularly with respect to first-party and third-party [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].  \n  \n<a name=\"Structured_Navigation\"></a>   \n### Structured Navigation  \n If you need to pass data from one <xref:System.Windows.Controls.Page> to another, you can pass the data as arguments to a non-default constructor of the <xref:System.Windows.Controls.Page>. Note that if you use this technique, you must keep the <xref:System.Windows.Controls.Page> alive; if not, the next time you navigate to the <xref:System.Windows.Controls.Page>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] reinstantiates the <xref:System.Windows.Controls.Page> by using the default constructor.  \n  \n Alternatively, your <xref:System.Windows.Controls.Page> can implement properties that are set with the data that needs to be passed. Things become tricky, however, when a <xref:System.Windows.Controls.Page> needs to pass data back to the <xref:System.Windows.Controls.Page> that navigated to it. The problem is that navigation doesn't natively support mechanisms for guaranteeing that a <xref:System.Windows.Controls.Page> will be returned to after it is navigated from. Essentially, navigation doesn't support call/return semantics. To solve this problem, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides the <xref:System.Windows.Navigation.PageFunction%601> class that you can use to ensure that a <xref:System.Windows.Controls.Page> is returned to in a predictable and structured fashion. For more information, see [Structured Navigation Overview](structured-navigation-overview.md).  \n  \n<a name=\"The_NavigationWindow_Class\"></a>   \n## The NavigationWindow Class  \n To this point, you've seen the gamut of navigation services that you are most likely to use to build applications with navigable content. These services were discussed in the context of [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], although they are not limited to [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]. Modern operating systems and Windows applications take advantage of the browser experience of modern users to incorporate browser-style navigation into standalone applications. Common examples include:  \n  \n-   **Word Thesaurus**: Navigate word choices.  \n  \n-   **File Explorer**: Navigate files and folders.  \n  \n-   **Wizards**: Breaking down a complex task into multiple pages that can be navigated between. An example is the Windows Components Wizard that handles adding and removing Windows features.  \n  \n To incorporate browser-style navigation into your standalone applications, you can use the <xref:System.Windows.Navigation.NavigationWindow> class. <xref:System.Windows.Navigation.NavigationWindow> derives from <xref:System.Windows.Window> and extends it with the same support for navigation that [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] provide. You can use <xref:System.Windows.Navigation.NavigationWindow> as either the main window of your standalone application or as a secondary window such as a dialog box.  \n  \n To implement a <xref:System.Windows.Navigation.NavigationWindow>, as with most top-level classes in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] (<xref:System.Windows.Window>, <xref:System.Windows.Controls.Page>, and so on), you use a combination of markup and code-behind. This is shown in the following example.  \n  \n [!code-xaml[IntroToNavNavigationWindowSnippets#NavigationWindowMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/MainWindow.xaml#navigationwindowmarkup)]  \n  \n [!code-csharp[IntroToNavNavigationWindowSnippets#NavigationWindowCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/MainWindow.xaml.cs#navigationwindowcodebehind)]\n [!code-vb[IntroToNavNavigationWindowSnippets#NavigationWindowCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/VisualBasic/MainWindow.xaml.vb#navigationwindowcodebehind)]  \n  \n This code creates a <xref:System.Windows.Navigation.NavigationWindow> that automatically navigates to a <xref:System.Windows.Controls.Page> (HomePage.xaml) when the <xref:System.Windows.Navigation.NavigationWindow> is opened. If the <xref:System.Windows.Navigation.NavigationWindow> is the main application window, you can use the `StartupUri` attribute to launch it. This is shown in the following markup.  \n  \n [!code-xaml[IntroToNavNavigationWindowSnippets#AppLaunchNavWindow](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/App.xaml#applaunchnavwindow)]  \n  \n The following figure shows the <xref:System.Windows.Navigation.NavigationWindow> as the main window of a standalone application.  \n  \n ![A main window](./media/navigation-overview/navigation-window-as-main-window.png \"Navigation window as the main window\")  \n  \n From the figure, you can see that the <xref:System.Windows.Navigation.NavigationWindow> has a title, even though it wasn't set in the <xref:System.Windows.Navigation.NavigationWindow> implementation code from the preceding example. Instead, the title is set using the <xref:System.Windows.Controls.Page.WindowTitle%2A> property, which is shown in the following code.  \n  \n [!code-xaml[IntroToNavNavigationWindowSnippets#HomePageMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/HomePage.xaml#homepagemarkup1)]  \n[!code-xaml[IntroToNavNavigationWindowSnippets#HomePageMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/HomePage.xaml#homepagemarkup2)]  \n  \n Setting the <xref:System.Windows.Controls.Page.WindowWidth%2A> and <xref:System.Windows.Controls.Page.WindowHeight%2A> properties also affects the <xref:System.Windows.Navigation.NavigationWindow>.  \n  \n Usually, you implement your own <xref:System.Windows.Navigation.NavigationWindow> when you need to customize either its behavior or its appearance. If you do neither, you can use a shortcut. If you specify the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] of a <xref:System.Windows.Controls.Page> as the <xref:System.Windows.Application.StartupUri%2A> in a standalone application, <xref:System.Windows.Application> automatically creates a <xref:System.Windows.Navigation.NavigationWindow> to host the <xref:System.Windows.Controls.Page>. The following markup shows how to enable this.  \n  \n [!code-xaml[IntroToNavNavigationWindowSnippets#AppLaunchPage](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/AnotherApp.xaml#applaunchpage)]  \n  \n If you want a secondary application window such as a dialog box to be a <xref:System.Windows.Navigation.NavigationWindow>, you can use the code in the following example to open it.  \n  \n [!code-csharp[IntroToNavNavigationWindowSnippets#CreateNWDialogBox](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/DialogOwnerWindow.xaml.cs#createnwdialogbox)]\n [!code-vb[IntroToNavNavigationWindowSnippets#CreateNWDialogBox](~/samples/snippets/visualbasic/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/VisualBasic/DialogOwnerWindow.xaml.vb#createnwdialogbox)]  \n  \n The following figure shows the result.  \n  \n ![A dialog box](./media/navigation-overview/navigation-window-as-dialog-box.png \"Navigation window as a dialog box\")  \n  \n As you can see, <xref:System.Windows.Navigation.NavigationWindow> displays [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]-style **Back** and **Forward** buttons that allow users to navigate the journal. These buttons provide the same user experience, as shown in the following figure.  \n  \n ![Back and Forward buttons in a NavigationWindow](./media/navigation-overview/back-and-forward-buttons-in-navigation-window.png \"Back and Forward buttons in a Navigation window\")  \n  \n If your pages provide their own journal navigation support and UI, you can hide the **Back** and **Forward** buttons displayed by <xref:System.Windows.Navigation.NavigationWindow> by setting the value of the <xref:System.Windows.Navigation.NavigationWindow.ShowsNavigationUI%2A> property to `false`.  \n  \n Alternatively, you can use customization support in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] to replace the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] of the <xref:System.Windows.Navigation.NavigationWindow> itself.  \n  \n<a name=\"Frame_in_Standalone_Applications\"></a>   \n## The Frame Class  \n Both the browser and <xref:System.Windows.Navigation.NavigationWindow> are windows that host navigable content. In some cases, applications have content that does not need to be hosted by an entire window. Instead, such content be hosted inside other content. You can insert navigable content into other content by using the <xref:System.Windows.Controls.Frame> class. <xref:System.Windows.Controls.Frame> provides the same support as <xref:System.Windows.Navigation.NavigationWindow> and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].  \n  \n The following example shows how to add a <xref:System.Windows.Controls.Frame> to a <xref:System.Windows.Controls.Page> declaratively by using the `Frame` element.  \n  \n [!code-xaml[NavigationOverviewSnippets#FrameHostPageXAML1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPage.xaml#framehostpagexaml1)]  \n[!code-xaml[NavigationOverviewSnippets#FrameHostPageXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPage.xaml#framehostpagexaml2)]  \n[!code-xaml[NavigationOverviewSnippets#FrameHostPageXAML3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPage.xaml#framehostpagexaml3)]  \n  \n This markup sets the `Source` attribute of the `Frame` element with a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the <xref:System.Windows.Controls.Page> that the <xref:System.Windows.Controls.Frame> should initially navigate to. The following figure shows an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] with a <xref:System.Windows.Controls.Page> that has a <xref:System.Windows.Controls.Frame> that has navigated between several pages.  \n  \n ![A frame that has navigated between multiple pages](./media/navigation-overview/frame-navigation-between-multiple-pages.png \"This shows a frame navigation between multiple pages.\")  \n  \n You don't only have to use <xref:System.Windows.Controls.Frame> inside the content of a <xref:System.Windows.Controls.Page>. It is also common to host a <xref:System.Windows.Controls.Frame> inside the content of a <xref:System.Windows.Window>.  \n  \n By default, <xref:System.Windows.Controls.Frame> only uses its own journal in the absence of another journal. If a <xref:System.Windows.Controls.Frame> is part of content that is hosted inside either a <xref:System.Windows.Navigation.NavigationWindow> or an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], <xref:System.Windows.Controls.Frame> uses the journal that belongs to the <xref:System.Windows.Navigation.NavigationWindow> or [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]. Sometimes, though, a <xref:System.Windows.Controls.Frame> might need to be responsible for its own journal. One reason to do so is to allow journal navigation within the pages that are hosted by a <xref:System.Windows.Controls.Frame>. This is illustrated by the following figure.  \n  \n ![Frame and Page diagram](./media/navigation-overview/journal-navigation-within-pages-hosted-by-a-frame.png \"This shows journal navigation within pages hosted by a frame.\")  \n  \n In this case, you can configure the <xref:System.Windows.Controls.Frame> to use its own journal by setting the <xref:System.Windows.Controls.Frame.JournalOwnership%2A> property of the <xref:System.Windows.Controls.Frame> to <xref:System.Windows.Navigation.JournalOwnership.OwnsJournal>. This is shown in the following markup.  \n  \n [!code-xaml[NavigationOverviewSnippets#FrameHostPageOwnJournalXAML1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPageOwnJournal.xaml#framehostpageownjournalxaml1)]  \n[!code-xaml[NavigationOverviewSnippets#FrameHostPageOwnJournalXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPageOwnJournal.xaml#framehostpageownjournalxaml2)]  \n[!code-xaml[NavigationOverviewSnippets#FrameHostPageOwnJournalXAML3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPageOwnJournal.xaml#framehostpageownjournalxaml3)]  \n  \n The following figure illustrates the effect of navigating within a <xref:System.Windows.Controls.Frame> that uses its own journal.  \n  \n ![A frame that uses its own journal](./media/navigation-overview/frame-uses-its-own-journal.png \"This shows the effect of navigating within a frame that uses its own journal.\")  \n  \n Notice that the journal entries are shown by the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] in the <xref:System.Windows.Controls.Frame>, rather than by [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)].  \n  \n> [!NOTE]\n>  If a <xref:System.Windows.Controls.Frame> is part of content that is hosted in a <xref:System.Windows.Window>, <xref:System.Windows.Controls.Frame> uses its own journal and, consequently, displays its own navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].  \n  \n If your user experience requires a <xref:System.Windows.Controls.Frame> to provide its own journal without showing the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], you can hide the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] by setting the <xref:System.Windows.Controls.Frame.NavigationUIVisibility%2A> to <xref:System.Windows.Visibility.Hidden>. This is shown in the following markup.  \n  \n [!code-xaml[NavigationOverviewSnippets#FrameHostPageHidesUIXAML1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPageOwnHiddenJournal.xaml#framehostpagehidesuixaml1)]  \n[!code-xaml[NavigationOverviewSnippets#FrameHostPageHidesUIXAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPageOwnHiddenJournal.xaml#framehostpagehidesuixaml2)]  \n[!code-xaml[NavigationOverviewSnippets#FrameHostPageHidesUIXAML3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHostPageOwnHiddenJournal.xaml#framehostpagehidesuixaml3)]  \n  \n<a name=\"Navigation_Hosts\"></a>   \n## Navigation Hosts  \n <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> are classes that are known as navigation hosts. A *navigation host* is a class that can navigate to and display content. To accomplish this, each navigation host uses its own <xref:System.Windows.Navigation.NavigationService> and journal. The basic construction of a navigation host is shown in the following figure.  \n  \n ![Navigator diagrams](./media/navigation-overview/navigation-host-construction.png \"Basic construction of a navigation host\")  \n  \n Essentially, this allows <xref:System.Windows.Navigation.NavigationWindow> and <xref:System.Windows.Controls.Frame> to provide the same navigation support that an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] provides when hosted in the browser.  \n  \n Besides using <xref:System.Windows.Navigation.NavigationService> and a journal, navigation hosts implement the same members that <xref:System.Windows.Navigation.NavigationService> implements. This is illustrated by the following figure.  \n  \n ![A journal in a Frame and in a NavigationWindow](./media/navigation-overview/navigation-window-and-frame.png \"Navigation Window and Frame\")  \n  \n This allows you to program navigation support directly against them. You may consider this if you need to provide a custom navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] for a <xref:System.Windows.Controls.Frame> that is hosted in a <xref:System.Windows.Window>. Furthermore, both types implement additional, navigation-related members, including `BackStack` (<xref:System.Windows.Navigation.NavigationWindow.BackStack%2A?displayProperty=nameWithType>, <xref:System.Windows.Controls.Frame.BackStack%2A?displayProperty=nameWithType>) and `ForwardStack` (<xref:System.Windows.Navigation.NavigationWindow.ForwardStack%2A?displayProperty=nameWithType>, <xref:System.Windows.Controls.Frame.ForwardStack%2A?displayProperty=nameWithType>), which allow you to enumerate the journal entries in the back stack and forward stack, respectively.  \n  \n As mentioned earlier, more than one journal can exist within an application. The following figure provides an example of when this can happen.  \n  \n ![Multiple journals within one application](./media/navigation-overview/multiple-journals-in-one-application.png \"This is an example of more than one journal in an application.\")  \n  \n<a name=\"Navigating_to_Content_Other_than_Pages\"></a>   \n## Navigating to Content Other than XAML Pages  \n Throughout this topic, <xref:System.Windows.Controls.Page> and pack [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] have been used to demonstrate the various navigation capabilities of [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. However, a <xref:System.Windows.Controls.Page> that is compiled into an application is not the only type of content that can be navigated to, and pack [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] aren't the only way to identify content.  \n  \n As this section demonstrates, you can also navigate to loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files, [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] files, and objects.  \n  \n<a name=\"Navigating_to_Loose_XAML_Files\"></a>   \n### Navigating to Loose XAML Files  \n A loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is a file with the following characteristics:  \n  \n-   Contains only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] (that is, no code).  \n  \n-   Has an appropriate namespace declaration.  \n  \n-   Has the .xaml file name extension.  \n  \n For example, consider the following content that is stored as a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, Person.xaml.  \n  \n [!code-xaml[NavigationOverviewSnippets#LooseXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/Person.xaml#loosexaml)]  \n  \n When you double-click the file, the browser opens and navigates to and displays the content. This is shown in the following figure.  \n  \n ![Display of the content in the Person.XAML file](./media/navigation-overview/contents-of-person-xaml-file.png \"Shows the contents of the Person.XAML file.\")  \n  \n You can display a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file from the following:  \n  \n-   A Web site on the local machine, the intranet, or the Internet.  \n  \n-   A [!INCLUDE[TLA#tla_unc](../../../../includes/tlasharptla-unc-md.md)] file share.  \n  \n-   The local disk.  \n  \n A loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file can be added to the browser's favorites, or be the browser's home page.  \n  \n> [!NOTE]\n>  For more information about publishing and launching loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages, see [Deploying a WPF Application](deploying-a-wpf-application-wpf.md).  \n  \n One limitation with respect to loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is that you can only host content that is safe to run in partial trust. For example, `Window` cannot be the root element of a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file. For more information, see [WPF Partial Trust Security](../wpf-partial-trust-security.md).  \n  \n<a name=\"Navigating_to_HTML_Files_Using_Frame\"></a>   \n### Navigating to HTML Files by Using Frame  \n As you might expect, you can also navigate to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]. You simply need to provide a [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that uses the http scheme. For example, the following [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] shows a <xref:System.Windows.Controls.Frame> that navigates to an [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] page.  \n  \n [!code-xaml[NavigationOverviewSnippets#FrameHtmlNavMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/FrameHTMLNavPage.xaml#framehtmlnavmarkup)]  \n  \n Navigating to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] requires special permissions. For example, you can't navigate from an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] that is running in the Internet zone partial trust security sandbox. For more information, see [WPF Partial Trust Security](../wpf-partial-trust-security.md).  \n  \n<a name=\"Navigating_to_HTML_Files_Using_WebBrowser\"></a>   \n### Navigating to HTML Files by Using the WebBrowser Control  \n The <xref:System.Windows.Controls.WebBrowser> control supports [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] document hosting, navigation and script/managed code interoperability. For detailed information regarding the <xref:System.Windows.Controls.WebBrowser> control, see <xref:System.Windows.Controls.WebBrowser>.  \n  \n Like <xref:System.Windows.Controls.Frame>, navigating to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] using <xref:System.Windows.Controls.WebBrowser> requires special permissions. For example, from a partial-trust application, you can navigate only to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] located at the site of origin. For more information, see [WPF Partial Trust Security](../wpf-partial-trust-security.md).  \n  \n<a name=\"Navigating_to_Objects\"></a>   \n### Navigating to Custom Objects  \n If you have data that is stored as custom objects, one way to display that data is to create a <xref:System.Windows.Controls.Page> with content that is bound to those objects (see [Data Binding Overview](../data/data-binding-overview.md)). If you don't need the overhead of creating an entire page just to display the objects, you can navigate directly to them instead.  \n  \n Consider the `Person` class that is implemented in the following code.  \n  \n [!code-csharp[NavigateToObjectSnippets#PersonClassCODE](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigateToObjectSnippets/CSharp/Person.cs#personclasscode)]\n [!code-vb[NavigateToObjectSnippets#PersonClassCODE](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigateToObjectSnippets/VisualBasic/Person.vb#personclasscode)]  \n  \n To navigate to it, you call the <xref:System.Windows.Navigation.NavigationWindow.Navigate%2A?displayProperty=nameWithType> method, as demonstrated by the following code.  \n  \n [!code-xaml[NavigateToObjectSnippets#PageThatNavsToObject1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigateToObjectSnippets/CSharp/HomePage.xaml#pagethatnavstoobject1)]  \n[!code-xaml[NavigateToObjectSnippets#PageThatNavsToObject2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigateToObjectSnippets/CSharp/HomePage.xaml#pagethatnavstoobject2)]  \n[!code-xaml[NavigateToObjectSnippets#PageThatNavsToObject3](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigateToObjectSnippets/CSharp/HomePage.xaml#pagethatnavstoobject3)]  \n  \n [!code-csharp[NavigateToObjectSnippets#PageThatNavsToObjectCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigateToObjectSnippets/CSharp/HomePage.xaml.cs#pagethatnavstoobjectcodebehind)]\n [!code-vb[NavigateToObjectSnippets#PageThatNavsToObjectCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigateToObjectSnippets/VisualBasic/HomePage.xaml.vb#pagethatnavstoobjectcodebehind)]  \n  \n The following figure shows the result.  \n  \n ![A page that navigates to a class](./media/navigation-overview/page-navigates-to-an-object.png \"This is an example of a page that navigates to an object.\")  \n  \n From this figure, you can see that nothing useful is displayed. In fact, the value that is displayed is the return value of the `ToString` method for the **Person** object; by default, this is the only value that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] can use to represent your object. You could override the `ToString` method to return more meaningful information, although it will still only be a string value. One technique you can use that takes advantage of the presentation capabilities of [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] is to use a data template. You can implement a data template that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] can associate with an object of a particular type. The following code shows a data template for the `Person` object.  \n  \n [!code-xaml[NavigateToObjectSnippets#DataTemplateMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigateToObjectSnippets/CSharp/App.xaml#datatemplatemarkup)]  \n  \n Here, the data template is associated with the `Person` type by using the `x:Type` markup extension in the `DataType` attribute. The data template then binds `TextBlock` elements (see <xref:System.Windows.Controls.TextBlock>) to the properties of the `Person` class. The following figure shows the updated appearance of the `Person` object.  \n  \n ![Navigating to a class that has a data template](./media/navigation-overview/navigating-to-a-class.png \"Navigating to a class that has a data template.\")  \n  \n An advantage of this technique is the consistency you gain by being able to reuse the data template to display your objects consistently anywhere in your application.  \n  \n For more information on data templates, see [Data Templating Overview](../data/data-templating-overview.md).  \n  \n<a name=\"Security\"></a>   \n## Security  \n [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] navigation support allows [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] to be navigated to across the Internet, and it allows applications to host third-party content. To protect both applications and users from harmful behavior, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides a variety of security features that are discussed in [Security](../security-wpf.md) and [WPF Partial Trust Security](../wpf-partial-trust-security.md).  \n  \n## See also\n\n- <xref:System.Windows.Application.SetCookie%2A>\n- <xref:System.Windows.Application.GetCookie%2A>\n- [Application Management Overview](application-management-overview.md)\n- [Pack URIs in WPF](pack-uris-in-wpf.md)\n- [Structured Navigation Overview](structured-navigation-overview.md)\n- [Navigation Topologies Overview](navigation-topologies-overview.md)\n- [How-to Topics](navigation-how-to-topics.md)\n- [Deploying a WPF Application](deploying-a-wpf-application-wpf.md)\n","nodes":[{"pos":[4,661],"embed":true,"restype":"x-metadata","content":"title: \"Navigation Overview\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"csharp\"\n  - \"vb\"\nhelpviewer_keywords: \n  - \"loose XAML files [WPF]\"\n  - \"windows [WPF]\"\n  - \"Start page [WPF]\"\n  - \"HTML files [WPF]\"\n  - \"structured navigation [WPF]\"\n  - \"fragment navigation [WPF]\"\n  - \"URIs (Uniform Resource Identifiers)\"\n  - \"custom objects [WPF]\"\n  - \"Uniform Resource Identifiers (URIs)\"\n  - \"pages [WPF]\"\n  - \"frames [WPF]\"\n  - \"navigation hosts [WPF]\"\n  - \"journals [WPF]\"\n  - \"lifetimes [WPF]\"\n  - \"retaining content state [WPF]\"\n  - \"content state [WPF]\"\n  - \"programmatic navigation [WPF]\"\n  - \"hyperlinks [WPF]\"\nms.assetid: 86ad2143-606a-4e34-bf7e-51a2594248b8","nodes":[{"content":"Navigation Overview","nodes":[{"pos":[0,19],"content":"Navigation Overview","nodes":[{"content":"Navigation Overview","pos":[0,19]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[668,687],"content":"Navigation Overview","linkify":"Navigation Overview","nodes":[{"content":"Navigation Overview","pos":[0,19]}]},{"content":"Windows Presentation Foundation (WPF) supports browser-style navigation that can be used in two types of applications: standalone applications and <ph id=\"ph1\">[!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)]</ph>.","pos":[688,923],"source":"Windows Presentation Foundation (WPF) supports browser-style navigation that can be used in two types of applications: standalone applications and [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)]."},{"content":"To package content for navigation, <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> provides the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> class.","pos":[924,1084],"source":" To package content for navigation, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides the <xref:System.Windows.Controls.Page> class."},{"content":"You can navigate from one <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to another declaratively, by using a <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph>, or programmatically, by using the <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph>.","pos":[1085,1312],"source":" You can navigate from one <xref:System.Windows.Controls.Page> to another declaratively, by using a <xref:System.Windows.Documents.Hyperlink>, or programmatically, by using the <xref:System.Windows.Navigation.NavigationService>."},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> uses the journal to remember pages that have been navigated from and to navigate back to them.","pos":[1313,1477],"source":"[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] uses the journal to remember pages that have been navigated from and to navigate back to them."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph>, and the journal form the core of the navigation support offered by <ph id=\"ph4\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>.","pos":[1484,1753],"source":"<xref:System.Windows.Controls.Page>, <xref:System.Windows.Documents.Hyperlink>, <xref:System.Windows.Navigation.NavigationService>, and the journal form the core of the navigation support offered by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]."},{"content":"This overview explores these features in detail before covering advanced navigation support that includes navigation to loose <ph id=\"ph1\">[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]</ph> files, <ph id=\"ph2\">[!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)]</ph> files, and objects.","pos":[1754,2046],"source":" This overview explores these features in detail before covering advanced navigation support that includes navigation to loose [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] files, [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] files, and objects."},{"pos":[2054,2498],"content":"[!NOTE]\n In this topic, the term \"browser\" refers only to browsers that can host [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications, which currently includes [!INCLUDE[TLA#tla_ie](../../../../includes/tlasharptla-ie-md.md)] and Firefox. Where specific [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features are supported only by a particular browser, the browser version is referred to.","leadings":["","> "],"nodes":[{"content":"In this topic, the term \"browser\" refers only to browsers that can host [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications, which currently includes [!INCLUDE[TLA#tla_ie](../../../../includes/tlasharptla-ie-md.md)] and Firefox. Where specific [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features are supported only by a particular browser, the browser version is referred to.","pos":[9,442],"nodes":[{"content":"In this topic, the term \"browser\" refers only to browsers that can host <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> applications, which currently includes <ph id=\"ph2\">[!INCLUDE[TLA#tla_ie](../../../../includes/tlasharptla-ie-md.md)]</ph> and Firefox.","pos":[0,259],"source":"In this topic, the term \"browser\" refers only to browsers that can host [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications, which currently includes [!INCLUDE[TLA#tla_ie](../../../../includes/tlasharptla-ie-md.md)] and Firefox."},{"content":"Where specific <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> features are supported only by a particular browser, the browser version is referred to.","pos":[260,433],"source":" Where specific [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features are supported only by a particular browser, the browser version is referred to."}]}]},{"pos":[2505,2535],"content":"Navigation in WPF Applications","linkify":"Navigation in WPF Applications","nodes":[{"content":"Navigation in WPF Applications","pos":[0,30]}]},{"content":"This topic provides an overview of the key navigation capabilities in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>.","pos":[2539,2679],"source":"This topic provides an overview of the key navigation capabilities in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]."},{"content":"These capabilities are available to both standalone applications and <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>, although this topic presents them within the context of an <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph>.","pos":[2680,2971],"source":" These capabilities are available to both standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], although this topic presents them within the context of an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]."},{"pos":[2979,3335],"content":"[!NOTE]\n This topic doesn't discuss how to build and deploy [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]. For more information on [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], see [WPF XAML Browser Applications Overview](wpf-xaml-browser-applications-overview.md).","leadings":["","> "],"nodes":[{"content":"This topic doesn't discuss how to build and deploy [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]. For more information on [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], see [WPF XAML Browser Applications Overview](wpf-xaml-browser-applications-overview.md).","pos":[9,354],"nodes":[{"content":"This topic doesn't discuss how to build and deploy <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>.","pos":[0,141],"source":"This topic doesn't discuss how to build and deploy [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]."},{"content":"For more information on <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>, see <bpt id=\"p1\">[</bpt>WPF XAML Browser Applications Overview<ept id=\"p1\">](wpf-xaml-browser-applications-overview.md)</ept>.","pos":[142,345],"source":" For more information on [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], see [WPF XAML Browser Applications Overview](wpf-xaml-browser-applications-overview.md)."}]}]},{"content":"This section explains and demonstrates the following aspects of navigation:","pos":[3342,3417]},{"pos":[3427,3468],"content":"<bpt id=\"p1\">[</bpt>Implementing a Page<ept id=\"p1\">](#CreatingAXAMLPage)</ept>","source":"[Implementing a Page](#CreatingAXAMLPage)"},{"pos":[3478,3531],"content":"<bpt id=\"p1\">[</bpt>Configuring a Start Page<ept id=\"p1\">](#Configuring_a_Start_Page)</ept>","source":"[Configuring a Start Page](#Configuring_a_Start_Page)"},{"pos":[3541,3620],"content":"<bpt id=\"p1\">[</bpt>Configuring the Host Window's Title, Width, and Height<ept id=\"p1\">](#ConfiguringAXAMLPage)</ept>","source":"[Configuring the Host Window's Title, Width, and Height](#ConfiguringAXAMLPage)"},{"pos":[3630,3681],"content":"<bpt id=\"p1\">[</bpt>Hyperlink Navigation<ept id=\"p1\">](#NavigatingBetweenXAMLPages)</ept>","source":"[Hyperlink Navigation](#NavigatingBetweenXAMLPages)"},{"pos":[3691,3733],"content":"<bpt id=\"p1\">[</bpt>Fragment Navigation<ept id=\"p1\">](#FragmentNavigation)</ept>","source":"[Fragment Navigation](#FragmentNavigation)"},{"pos":[3743,3783],"content":"<bpt id=\"p1\">[</bpt>Navigation Service<ept id=\"p1\">](#NavigationService)</ept>","source":"[Navigation Service](#NavigationService)"},{"pos":[3793,3900],"content":"<bpt id=\"p1\">[</bpt>Programmatic Navigation with the Navigation Service<ept id=\"p1\">](#Programmatic_Navigation_with_the_Navigation_Service)</ept>","source":"[Programmatic Navigation with the Navigation Service](#Programmatic_Navigation_with_the_Navigation_Service)"},{"pos":[3910,3953],"content":"<bpt id=\"p1\">[</bpt>Navigation Lifetime<ept id=\"p1\">](#Navigation_Lifetime)</ept>","source":"[Navigation Lifetime](#Navigation_Lifetime)"},{"pos":[3963,4024],"content":"<bpt id=\"p1\">[</bpt>Remembering Navigation with the Journal<ept id=\"p1\">](#NavigationHistory)</ept>","source":"[Remembering Navigation with the Journal](#NavigationHistory)"},{"pos":[4034,4080],"content":"<bpt id=\"p1\">[</bpt>Page Lifetime and the Journal<ept id=\"p1\">](#PageLifetime)</ept>","source":"[Page Lifetime and the Journal](#PageLifetime)"},{"pos":[4090,4184],"content":"<bpt id=\"p1\">[</bpt>Retaining Content State with Navigation History<ept id=\"p1\">](#RetainingContentStateWithNavigationHistory)</ept>","source":"[Retaining Content State with Navigation History](#RetainingContentStateWithNavigationHistory)"},{"pos":[4194,4213],"content":"<bpt id=\"p1\">[</bpt>Cookies<ept id=\"p1\">](#Cookies)</ept>","source":"[Cookies](#Cookies)"},{"pos":[4223,4270],"content":"<bpt id=\"p1\">[</bpt>Structured Navigation<ept id=\"p1\">](#Structured_Navigation)</ept>","source":"[Structured Navigation](#Structured_Navigation)"},{"pos":[4316,4335],"content":"Implementing a Page","linkify":"Implementing a Page","nodes":[{"content":"Implementing a Page","pos":[0,19]}]},{"content":"In <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>, you can navigate to several content types that include .NET Framework objects, custom objects, enumeration values, user controls, <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> files, and <ph id=\"ph3\">[!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)]</ph> files.","pos":[4339,4702],"source":"In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], you can navigate to several content types that include .NET Framework objects, custom objects, enumeration values, user controls, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files, and [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] files."},{"content":"However, you'll find that the most common and convenient way to package content is by using <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[4703,4831],"source":" However, you'll find that the most common and convenient way to package content is by using <xref:System.Windows.Controls.Page>."},{"content":"Furthermore, <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> implements navigation-specific features to enhance their appearance and simplify development.","pos":[4832,4974],"source":" Furthermore, <xref:System.Windows.Controls.Page> implements navigation-specific features to enhance their appearance and simplify development."},{"pos":[4981,5191],"content":"Using <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, you can declaratively implement a navigable page of <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> content by using markup like the following.","source":"Using <xref:System.Windows.Controls.Page>, you can declaratively implement a navigable page of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] content by using markup like the following."},{"content":"A <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is implemented in <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> markup has <ph id=\"ph3\">`Page`</ph> as its root element and requires the <ph id=\"ph4\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph><ph id=\"ph5\">[!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)]</ph> namespace declaration.","pos":[5353,5700],"source":"A <xref:System.Windows.Controls.Page> that is implemented in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup has `Page` as its root element and requires the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)][!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] namespace declaration."},{"content":"The <ph id=\"ph1\">`Page`</ph> element contains the content that you want to navigate to and display.","pos":[5701,5782],"source":" The `Page` element contains the content that you want to navigate to and display."},{"content":"You add content by setting the <ph id=\"ph1\">`Page.Content`</ph> property element, as shown in the following markup.","pos":[5783,5880],"source":" You add content by setting the `Page.Content` property element, as shown in the following markup."},{"content":"<ph id=\"ph1\">`Page.Content`</ph> can only contain one child element; in the preceding example, the content is a single string, \"Hello, Page!\"","pos":[6042,6165],"source":"`Page.Content` can only contain one child element; in the preceding example, the content is a single string, \"Hello, Page!\""},{"content":"In practice, you will usually use a layout control as the child element (see <bpt id=\"p1\">[</bpt>Layout<ept id=\"p1\">](../advanced/layout.md)</ept>) to contain and compose your content.","pos":[6166,6312],"source":" In practice, you will usually use a layout control as the child element (see [Layout](../advanced/layout.md)) to contain and compose your content."},{"content":"The child elements of a <ph id=\"ph1\">`Page`</ph> element are considered to be the content of a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> and, consequently, you don't need to use the explicit <ph id=\"ph3\">`Page.Content`</ph> declaration.","pos":[6319,6513],"source":"The child elements of a `Page` element are considered to be the content of a <xref:System.Windows.Controls.Page> and, consequently, you don't need to use the explicit `Page.Content` declaration."},{"content":"The following markup is the declarative equivalent to the preceding sample.","pos":[6514,6589]},{"content":"In this case, <ph id=\"ph1\">`Page.Content`</ph> is automatically set with the child elements of the <ph id=\"ph2\">`Page`</ph> element.","pos":[6751,6847],"source":"In this case, `Page.Content` is automatically set with the child elements of the `Page` element."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WPF Content Model<ept id=\"p1\">](../controls/wpf-content-model.md)</ept>.","pos":[6848,6928],"source":" For more information, see [WPF Content Model](../controls/wpf-content-model.md)."},{"content":"A markup-only <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is useful for displaying content.","pos":[6935,7018],"source":"A markup-only <xref:System.Windows.Controls.Page> is useful for displaying content."},{"content":"However, a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> can also display controls that allow users to interact with the page, and it can respond to user interaction by handling events and calling application logic.","pos":[7019,7224],"source":" However, a <xref:System.Windows.Controls.Page> can also display controls that allow users to interact with the page, and it can respond to user interaction by handling events and calling application logic."},{"content":"An interactive <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is implemented by using a combination of markup and code-behind, as shown in the following example.","pos":[7225,7375],"source":" An interactive <xref:System.Windows.Controls.Page> is implemented by using a combination of markup and code-behind, as shown in the following example."},{"content":"To allow a markup file and code-behind file to work together, the following configuration is required:","pos":[7865,7967]},{"content":"In markup, the <ph id=\"ph1\">`Page`</ph> element must include the <ph id=\"ph2\">`x:Class`</ph> attribute.","pos":[7977,8044],"source":"In markup, the `Page` element must include the `x:Class` attribute."},{"content":"When the application is built, the existence of <ph id=\"ph1\">`x:Class`</ph> in the markup file causes <ph id=\"ph2\">[!INCLUDE[TLA#tla_msbuild](../../../../includes/tlasharptla-msbuild-md.md)]</ph> to create a <ph id=\"ph3\">`partial`</ph> class that derives from <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page&gt;</ph> and has the name that is specified by the <ph id=\"ph5\">`x:Class`</ph> attribute.","pos":[8045,8349],"source":" When the application is built, the existence of `x:Class` in the markup file causes [!INCLUDE[TLA#tla_msbuild](../../../../includes/tlasharptla-msbuild-md.md)] to create a `partial` class that derives from <xref:System.Windows.Controls.Page> and has the name that is specified by the `x:Class` attribute."},{"content":"This requires the addition of an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]</ph> namespace declaration for the <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> schema ( <ph id=\"ph3\">`xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"`</ph> ).","pos":[8350,8623],"source":" This requires the addition of an [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] namespace declaration for the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema ( `xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"` )."},{"content":"The generated <ph id=\"ph1\">`partial`</ph> class implements <ph id=\"ph2\">`InitializeComponent`</ph>, which is called to register the events and set the properties that are implemented in markup.","pos":[8624,8781],"source":" The generated `partial` class implements `InitializeComponent`, which is called to register the events and set the properties that are implemented in markup."},{"content":"In code-behind, the class must be a <ph id=\"ph1\">`partial`</ph> class with the same name that is specified by the <ph id=\"ph2\">`x:Class`</ph> attribute in markup, and it must derive from <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[8791,8978],"source":"In code-behind, the class must be a `partial` class with the same name that is specified by the `x:Class` attribute in markup, and it must derive from <xref:System.Windows.Controls.Page>."},{"content":"This allows the code-behind file to be associated with the <ph id=\"ph1\">`partial`</ph> class that is generated for the markup file when the application is built (see <bpt id=\"p1\">[</bpt>Building a WPF Application<ept id=\"p1\">](building-a-wpf-application-wpf.md)</ept>).","pos":[8979,9192],"source":" This allows the code-behind file to be associated with the `partial` class that is generated for the markup file when the application is built (see [Building a WPF Application](building-a-wpf-application-wpf.md))."},{"content":"In code-behind, the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> class must implement a constructor that calls the <ph id=\"ph2\">`InitializeComponent`</ph> method.","pos":[9202,9337],"source":"In code-behind, the <xref:System.Windows.Controls.Page> class must implement a constructor that calls the `InitializeComponent` method."},{"content":"<ph id=\"ph1\">`InitializeComponent`</ph> is implemented by the markup file's generated <ph id=\"ph2\">`partial`</ph> class to register events and set properties that are defined in markup.","pos":[9338,9487],"source":"`InitializeComponent` is implemented by the markup file's generated `partial` class to register events and set properties that are defined in markup."},{"pos":[9495,9883],"content":"[!NOTE]\n When you add a new <xref:System.Windows.Controls.Page> to your project using [!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)], the <xref:System.Windows.Controls.Page> is implemented using both markup and code-behind, and it includes the necessary configuration to create the association between the markup and code-behind files as described here.","leadings":["","> "],"nodes":[{"content":"When you add a new <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to your project using <ph id=\"ph2\">[!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)]</ph>, the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is implemented using both markup and code-behind, and it includes the necessary configuration to create the association between the markup and code-behind files as described here.","pos":[9,386],"source":"When you add a new <xref:System.Windows.Controls.Page> to your project using [!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)], the <xref:System.Windows.Controls.Page> is implemented using both markup and code-behind, and it includes the necessary configuration to create the association between the markup and code-behind files as described here."}]},{"content":"Once you have a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, you can navigate to it.","pos":[9890,9966],"source":"Once you have a <xref:System.Windows.Controls.Page>, you can navigate to it."},{"content":"To specify the first <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that an application navigates to, you need to configure the start <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[9967,10126],"source":" To specify the first <xref:System.Windows.Controls.Page> that an application navigates to, you need to configure the start <xref:System.Windows.Controls.Page>."},{"pos":[10179,10203],"content":"Configuring a Start Page","linkify":"Configuring a Start Page","nodes":[{"content":"Configuring a Start Page","pos":[0,24]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> require a certain amount of application infrastructure to be hosted in a browser.","pos":[10207,10378],"source":"[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] require a certain amount of application infrastructure to be hosted in a browser."},{"content":"In <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>, the <ph id=\"ph2\">&lt;xref:System.Windows.Application&gt;</ph> class is part of an application definition that establishes the required application infrastructure (see <bpt id=\"p1\">[</bpt>Application Management Overview<ept id=\"p1\">](application-management-overview.md)</ept>).","pos":[10379,10667],"source":" In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], the <xref:System.Windows.Application> class is part of an application definition that establishes the required application infrastructure (see [Application Management Overview](application-management-overview.md))."},{"content":"An application definition is usually implemented using both markup and code-behind, with the markup file configured as an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)]</ph><ph id=\"ph2\">`ApplicationDefinition`</ph> item.","pos":[10674,10902],"source":"An application definition is usually implemented using both markup and code-behind, with the markup file configured as an [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)]`ApplicationDefinition` item."},{"content":"The following is an application definition for an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph>.","pos":[10903,11025],"source":" The following is an application definition for an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]."},{"content":"An <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> can use its application definition to specify a start <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, which is the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is automatically loaded when the <ph id=\"ph4\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> is launched.","pos":[11610,11947],"source":"An [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] can use its application definition to specify a start <xref:System.Windows.Controls.Page>, which is the <xref:System.Windows.Controls.Page> that is automatically loaded when the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is launched."},{"content":"You do this by setting the <ph id=\"ph1\">&lt;xref:System.Windows.Application.StartupUri%2A&gt;</ph> property with the <ph id=\"ph2\">[!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)]</ph> for the desired <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[11948,12161],"source":" You do this by setting the <xref:System.Windows.Application.StartupUri%2A> property with the [!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)] for the desired <xref:System.Windows.Controls.Page>."},{"pos":[12169,12878],"content":"[!NOTE]\n In most cases, the <xref:System.Windows.Controls.Page> is either compiled into or deployed with an application. In these cases, the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that identifies a <xref:System.Windows.Controls.Page> is a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)], which is a [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that conforms to the *pack* scheme. Pack [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)] are discussed further in     [Pack URIs in WPF](pack-uris-in-wpf.md). You can also navigate to content using the http scheme, which is discussed below.","leadings":["","> "],"nodes":[{"content":"In most cases, the <xref:System.Windows.Controls.Page> is either compiled into or deployed with an application. In these cases, the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that identifies a <xref:System.Windows.Controls.Page> is a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)], which is a [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that conforms to the *pack* scheme. Pack [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)] are discussed further in     [Pack URIs in WPF](pack-uris-in-wpf.md). You can also navigate to content using the http scheme, which is discussed below.","pos":[9,707],"nodes":[{"content":"In most cases, the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is either compiled into or deployed with an application.","pos":[0,111],"source":"In most cases, the <xref:System.Windows.Controls.Page> is either compiled into or deployed with an application."},{"content":"In these cases, the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> that identifies a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is a pack <ph id=\"ph3\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph>, which is a <ph id=\"ph4\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> that conforms to the <bpt id=\"p1\">*</bpt>pack<ept id=\"p1\">*</ept> scheme.","pos":[112,453],"source":" In these cases, the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that identifies a <xref:System.Windows.Controls.Page> is a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)], which is a [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that conforms to the *pack* scheme."},{"content":"Pack <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)]</ph> are discussed further in     <bpt id=\"p1\">[</bpt>Pack URIs in WPF<ept id=\"p1\">](pack-uris-in-wpf.md)</ept>.","pos":[454,616],"source":" Pack [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)] are discussed further in     [Pack URIs in WPF](pack-uris-in-wpf.md)."},{"content":"You can also navigate to content using the http scheme, which is discussed below.","pos":[617,698]}]}]},{"pos":[12885,13004],"content":"You can set <ph id=\"ph1\">&lt;xref:System.Windows.Application.StartupUri%2A&gt;</ph> declaratively in markup, as shown in the following example.","source":"You can set <xref:System.Windows.Application.StartupUri%2A> declaratively in markup, as shown in the following example."},{"content":"In this example, the <ph id=\"ph1\">`StartupUri`</ph> attribute is set with a relative pack <ph id=\"ph2\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> that identifies HomePage.xaml.","pos":[13208,13380],"source":"In this example, the `StartupUri` attribute is set with a relative pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that identifies HomePage.xaml."},{"content":"When the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> is launched, HomePage.xaml is automatically navigated to and displayed.","pos":[13381,13533],"source":" When the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is launched, HomePage.xaml is automatically navigated to and displayed."},{"content":"This is demonstrated by the following figure, which shows an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> that was launched from a Web server.","pos":[13534,13703],"source":" This is demonstrated by the following figure, which shows an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] that was launched from a Web server."},{"pos":[13710,13836],"content":"<bpt id=\"p1\">![</bpt>XBAP page<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/xbap-launched-from-a-web-server.png \"</bpt>This shows an XBAP launched from a Web server.<ept id=\"p2\">\")</ept>","source":"![XBAP page](./media/navigation-overview/xbap-launched-from-a-web-server.png \"This shows an XBAP launched from a Web server.\")"},{"pos":[13844,14173],"content":"[!NOTE]\n For more information regarding the development and deployment of [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], see [WPF XAML Browser Applications Overview](wpf-xaml-browser-applications-overview.md) and     [Deploying a WPF Application](deploying-a-wpf-application-wpf.md).","leadings":["","> "],"nodes":[{"content":"For more information regarding the development and deployment of <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>, see <bpt id=\"p1\">[</bpt>WPF XAML Browser Applications Overview<ept id=\"p1\">](wpf-xaml-browser-applications-overview.md)</ept> and     <bpt id=\"p2\">[</bpt>Deploying a WPF Application<ept id=\"p2\">](deploying-a-wpf-application-wpf.md)</ept>.","pos":[9,327],"source":"For more information regarding the development and deployment of [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], see [WPF XAML Browser Applications Overview](wpf-xaml-browser-applications-overview.md) and     [Deploying a WPF Application](deploying-a-wpf-application-wpf.md)."}]},{"pos":[14222,14276],"content":"Configuring the Host Window's Title, Width, and Height","linkify":"Configuring the Host Window's Title, Width, and Height","nodes":[{"content":"Configuring the Host Window's Title, Width, and Height","pos":[0,54]}]},{"content":"One thing you may have noticed from the previous figure is that the title of both the browser and the tab panel is the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> for the <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph>.","pos":[14280,14549],"source":"One thing you may have noticed from the previous figure is that the title of both the browser and the tab panel is the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]."},{"content":"Besides being long, the title is neither attractive nor informative.","pos":[14550,14618]},{"content":"For this reason, <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> offers a way for you to change the title by setting the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page.WindowTitle%2A&gt;</ph> property.","pos":[14619,14788],"source":" For this reason, <xref:System.Windows.Controls.Page> offers a way for you to change the title by setting the <xref:System.Windows.Controls.Page.WindowTitle%2A> property."},{"content":"Furthermore, you can configure the width and height of the browser window by setting <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page.WindowWidth%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page.WindowHeight%2A&gt;</ph>, respectively.","pos":[14789,14995],"source":" Furthermore, you can configure the width and height of the browser window by setting <xref:System.Windows.Controls.Page.WindowWidth%2A> and <xref:System.Windows.Controls.Page.WindowHeight%2A>, respectively."},{"pos":[15002,15232],"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page.WindowTitle%2A&gt;</ph>, <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page.WindowWidth%2A&gt;</ph>, and <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page.WindowHeight%2A&gt;</ph> can be set declaratively in markup, as shown in the following example.","source":"<xref:System.Windows.Controls.Page.WindowTitle%2A>, <xref:System.Windows.Controls.Page.WindowWidth%2A>, and <xref:System.Windows.Controls.Page.WindowHeight%2A> can be set declaratively in markup, as shown in the following example."},{"content":"The result is shown in the following figure.","pos":[15407,15451]},{"pos":[15458,15615],"content":"<bpt id=\"p1\">![</bpt>Window title, height, width<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/window-title-width-height.png \"</bpt>This shows the window title, height, and width you can configure.<ept id=\"p2\">\")</ept>","source":"![Window title, height, width](./media/navigation-overview/window-title-width-height.png \"This shows the window title, height, and width you can configure.\")"},{"pos":[15670,15690],"content":"Hyperlink Navigation","linkify":"Hyperlink Navigation","nodes":[{"content":"Hyperlink Navigation","pos":[0,20]}]},{"content":"A typical <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> comprises several pages.","pos":[15694,15800],"source":"A typical [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] comprises several pages."},{"content":"The simplest way to navigate from one page to another is to use a <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph>.","pos":[15801,15909],"source":" The simplest way to navigate from one page to another is to use a <xref:System.Windows.Documents.Hyperlink>."},{"content":"You can declaratively add a <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> to a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> by using the <ph id=\"ph3\">`Hyperlink`</ph> element, which is shown in the following markup.","pos":[15910,16094],"source":" You can declaratively add a <xref:System.Windows.Documents.Hyperlink> to a <xref:System.Windows.Controls.Page> by using the `Hyperlink` element, which is shown in the following markup."},{"pos":[16624,16669],"content":"A <ph id=\"ph1\">`Hyperlink`</ph> element requires the following:","source":"A `Hyperlink` element requires the following:"},{"pos":[16679,16861],"content":"The pack <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> of the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to navigate to, as specified by the <ph id=\"ph3\">`NavigateUri`</ph> attribute.","source":"The pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] of the <xref:System.Windows.Controls.Page> to navigate to, as specified by the `NavigateUri` attribute."},{"pos":[16871,17059],"content":"Content that a user can click to initiate the navigation, such as text and images (for the content that the <ph id=\"ph1\">`Hyperlink`</ph> element can contain, see <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph>).","source":"Content that a user can click to initiate the navigation, such as text and images (for the content that the `Hyperlink` element can contain, see <xref:System.Windows.Documents.Hyperlink>)."},{"pos":[17066,17264],"content":"The following figure shows an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> with a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that has a <ph id=\"ph3\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph>.","source":"The following figure shows an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] with a <xref:System.Windows.Controls.Page> that has a <xref:System.Windows.Documents.Hyperlink>."},{"pos":[17271,17411],"content":"<bpt id=\"p1\">![</bpt>Page with Hyperlink<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/xbap-with-a-page-with-a-hyperlink.png \"</bpt>This shows an XBAP with a page with a hyperlink.<ept id=\"p2\">\")</ept>","source":"![Page with Hyperlink](./media/navigation-overview/xbap-with-a-page-with-a-hyperlink.png \"This shows an XBAP with a page with a hyperlink.\")"},{"content":"As you would expect, clicking the <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> causes the <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> to navigate to the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is identified by the <ph id=\"ph4\">`NavigateUri`</ph> attribute.","pos":[17418,17682],"source":"As you would expect, clicking the <xref:System.Windows.Documents.Hyperlink> causes the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] to navigate to the <xref:System.Windows.Controls.Page> that is identified by the `NavigateUri` attribute."},{"content":"Additionally, the <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> adds an entry for the previous <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to the Recent Pages list in <ph id=\"ph3\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>.","pos":[17683,17936],"source":" Additionally, the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] adds an entry for the previous <xref:System.Windows.Controls.Page> to the Recent Pages list in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]."},{"content":"This is shown in the following figure.","pos":[17937,17975]},{"pos":[17982,18116],"content":"<bpt id=\"p1\">![</bpt>Back and Forward buttons<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/back-and-forward-navigation.png \"</bpt>Navigate with the back and forward buttons.<ept id=\"p2\">\")</ept>","source":"![Back and Forward buttons](./media/navigation-overview/back-and-forward-navigation.png \"Navigate with the back and forward buttons.\")"},{"pos":[18123,18289],"content":"As well as supporting navigation from one <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to another, <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> also supports fragment navigation.","source":"As well as supporting navigation from one <xref:System.Windows.Controls.Page> to another, <xref:System.Windows.Documents.Hyperlink> also supports fragment navigation."},{"pos":[18336,18355],"content":"Fragment Navigation","linkify":"Fragment Navigation","nodes":[{"content":"Fragment Navigation","pos":[0,19]}]},{"content":"<bpt id=\"p1\">*</bpt>Fragment navigation<ept id=\"p1\">*</ept> is the navigation to a content fragment in either the current <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> or another <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[18359,18526],"source":"*Fragment navigation* is the navigation to a content fragment in either the current <xref:System.Windows.Controls.Page> or another <xref:System.Windows.Controls.Page>."},{"content":"In <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>, a content fragment is the content that is contained by a named element.","pos":[18527,18672],"source":" In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], a content fragment is the content that is contained by a named element."},{"content":"A named element is an element that has its <ph id=\"ph1\">`Name`</ph> attribute set.","pos":[18673,18737],"source":" A named element is an element that has its `Name` attribute set."},{"content":"The following markup shows a named <ph id=\"ph1\">`TextBlock`</ph> element that contains a content fragment.","pos":[18738,18826],"source":" The following markup shows a named `TextBlock` element that contains a content fragment."},{"pos":[19458,19596],"content":"For a <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> to navigate to a content fragment, the <ph id=\"ph2\">`NavigateUri`</ph> attribute must include the following:","source":"For a <xref:System.Windows.Documents.Hyperlink> to navigate to a content fragment, the `NavigateUri` attribute must include the following:"},{"pos":[19606,19764],"content":"The <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> of the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> with the content fragment to navigate to.","source":"The [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] of the <xref:System.Windows.Controls.Page> with the content fragment to navigate to."},{"content":"A \"#\" character.","pos":[19774,19790]},{"pos":[19800,19902],"content":"The name of the element on the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that contains the content fragment.","source":"The name of the element on the <xref:System.Windows.Controls.Page> that contains the content fragment."},{"pos":[19909,20015],"content":"A fragment <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> has the following format.","source":"A fragment [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] has the following format."},{"pos":[20022,20049],"content":"<bpt id=\"p1\">*</bpt>PageURI<ept id=\"p1\">*</ept> <ph id=\"ph1\">`#`</ph> <bpt id=\"p2\">*</bpt>ElementName<ept id=\"p2\">*</ept>","source":"*PageURI* `#` *ElementName*"},{"pos":[20056,20157],"content":"The following shows an example of a <ph id=\"ph1\">`Hyperlink`</ph> that is configured to navigate to a content fragment.","source":"The following shows an example of a `Hyperlink` that is configured to navigate to a content fragment."},{"pos":[20766,21199],"content":"[!NOTE]\n This section describes the default fragment navigation implementation in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] also allows you to implement your own fragment navigation scheme which, in part, requires handling the <xref:System.Windows.Navigation.NavigationService.FragmentNavigation?displayProperty=nameWithType> event.","leadings":["","> "],"nodes":[{"content":"This section describes the default fragment navigation implementation in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]. [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] also allows you to implement your own fragment navigation scheme which, in part, requires handling the <xref:System.Windows.Navigation.NavigationService.FragmentNavigation?displayProperty=nameWithType> event.","pos":[9,431],"nodes":[{"content":"This section describes the default fragment navigation implementation in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>.","pos":[0,143],"source":"This section describes the default fragment navigation implementation in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]."},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> also allows you to implement your own fragment navigation scheme which, in part, requires handling the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService.FragmentNavigation?displayProperty=nameWithType&gt;</ph> event.","pos":[144,422],"source":"[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] also allows you to implement your own fragment navigation scheme which, in part, requires handling the <xref:System.Windows.Navigation.NavigationService.FragmentNavigation?displayProperty=nameWithType> event."}]}]},{"pos":[21207,21573],"content":"[!IMPORTANT]\n You can navigate to fragments in loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages (markup-only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files with `Page` as the root element) only if the pages can be browsed via [!INCLUDE[TLA2#tla_http](../../../../includes/tla2sharptla-http-md.md)].","leadings":["","> "],"nodes":[{"content":"You can navigate to fragments in loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> pages (markup-only <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> files with <ph id=\"ph3\">`Page`</ph> as the root element) only if the pages can be browsed via <ph id=\"ph4\">[!INCLUDE[TLA2#tla_http](../../../../includes/tla2sharptla-http-md.md)]</ph>.","pos":[14,364],"source":"You can navigate to fragments in loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages (markup-only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files with `Page` as the root element) only if the pages can be browsed via [!INCLUDE[TLA2#tla_http](../../../../includes/tla2sharptla-http-md.md)]."}]},{"pos":[21584,21712],"content":"However, a loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> page can navigate to its own fragments.","source":"However, a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page can navigate to its own fragments."},{"pos":[21758,21776],"content":"Navigation Service","linkify":"Navigation Service","nodes":[{"content":"Navigation Service","pos":[0,18]}]},{"content":"While <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> allows a user to initiate navigation to a particular <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, the work of locating and downloading the page is performed by the <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> class.","pos":[21780,22041],"source":"While <xref:System.Windows.Documents.Hyperlink> allows a user to initiate navigation to a particular <xref:System.Windows.Controls.Page>, the work of locating and downloading the page is performed by the <xref:System.Windows.Navigation.NavigationService> class."},{"content":"Essentially, <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> provides the ability to process a navigation request on behalf of client code, such as the <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph>.","pos":[22042,22239],"source":" Essentially, <xref:System.Windows.Navigation.NavigationService> provides the ability to process a navigation request on behalf of client code, such as the <xref:System.Windows.Documents.Hyperlink>."},{"content":"Additionally, <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> implements higher-level support for tracking and influencing a navigation request.","pos":[22240,22387],"source":" Additionally, <xref:System.Windows.Navigation.NavigationService> implements higher-level support for tracking and influencing a navigation request."},{"content":"When a <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> is clicked, <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> calls <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType&gt;</ph> to locate and download the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page&gt;</ph> at the specified pack <ph id=\"ph5\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph>.","pos":[22394,22778],"source":"When a <xref:System.Windows.Documents.Hyperlink> is clicked, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] calls <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> to locate and download the <xref:System.Windows.Controls.Page> at the specified pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]."},{"content":"The downloaded <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is converted to a tree of objects whose root object is an instance of the downloaded <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[22779,22951],"source":" The downloaded <xref:System.Windows.Controls.Page> is converted to a tree of objects whose root object is an instance of the downloaded <xref:System.Windows.Controls.Page>."},{"content":"A reference to the root <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> object is stored in the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService.Content%2A?displayProperty=nameWithType&gt;</ph> property.","pos":[22952,23136],"source":" A reference to the root <xref:System.Windows.Controls.Page> object is stored in the <xref:System.Windows.Navigation.NavigationService.Content%2A?displayProperty=nameWithType> property."},{"content":"The pack <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> for the content that was navigated to is stored in the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService.Source%2A?displayProperty=nameWithType&gt;</ph> property, while the <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationService.CurrentSource%2A?displayProperty=nameWithType&gt;</ph> stores the pack <ph id=\"ph4\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> for the last page that was navigated to.","pos":[23137,23604],"source":" The pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the content that was navigated to is stored in the <xref:System.Windows.Navigation.NavigationService.Source%2A?displayProperty=nameWithType> property, while the <xref:System.Windows.Navigation.NavigationService.CurrentSource%2A?displayProperty=nameWithType> stores the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the last page that was navigated to."},{"pos":[23612,23901],"content":"[!NOTE]\n It is possible for a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application to have more than one currently active <xref:System.Windows.Navigation.NavigationService>. For more information, see [Navigation Hosts](#Navigation_Hosts) later in this topic.","leadings":["","> "],"nodes":[{"content":"It is possible for a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application to have more than one currently active <xref:System.Windows.Navigation.NavigationService>. For more information, see [Navigation Hosts](#Navigation_Hosts) later in this topic.","pos":[9,287],"nodes":[{"content":"It is possible for a <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> application to have more than one currently active <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph>.","pos":[0,193],"source":"It is possible for a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application to have more than one currently active <xref:System.Windows.Navigation.NavigationService>."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Navigation Hosts<ept id=\"p1\">](#Navigation_Hosts)</ept> later in this topic.","pos":[194,278],"source":" For more information, see [Navigation Hosts](#Navigation_Hosts) later in this topic."}]}]},{"pos":[23981,24032],"content":"Programmatic Navigation with the Navigation Service","linkify":"Programmatic Navigation with the Navigation Service","nodes":[{"content":"Programmatic Navigation with the Navigation Service","pos":[0,51]}]},{"content":"You don't need to know about <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> if navigation is implemented declaratively in markup using <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph>, because <ph id=\"ph3\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> uses the <ph id=\"ph4\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> on your behalf.","pos":[24036,24343],"source":"You don't need to know about <xref:System.Windows.Navigation.NavigationService> if navigation is implemented declaratively in markup using <xref:System.Windows.Documents.Hyperlink>, because <xref:System.Windows.Documents.Hyperlink> uses the <xref:System.Windows.Navigation.NavigationService> on your behalf."},{"content":"This means that, as long as either the direct or indirect parent of a <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> is a navigation host (see <bpt id=\"p1\">[</bpt>Navigation Hosts<ept id=\"p1\">](#Navigation_Hosts)</ept>), <ph id=\"ph2\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> will be able to find and use the navigation host's navigation service to process a navigation request.","pos":[24344,24666],"source":" This means that, as long as either the direct or indirect parent of a <xref:System.Windows.Documents.Hyperlink> is a navigation host (see [Navigation Hosts](#Navigation_Hosts)), <xref:System.Windows.Documents.Hyperlink> will be able to find and use the navigation host's navigation service to process a navigation request."},{"pos":[24673,24809],"content":"However, there are situations when you need to use <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> directly, including the following:","source":"However, there are situations when you need to use <xref:System.Windows.Navigation.NavigationService> directly, including the following:"},{"pos":[24819,24918],"content":"When you need to instantiate a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> using a non-default constructor.","source":"When you need to instantiate a <xref:System.Windows.Controls.Page> using a non-default constructor."},{"pos":[24928,25029],"content":"When you need to set properties on the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> before you navigate to it.","source":"When you need to set properties on the <xref:System.Windows.Controls.Page> before you navigate to it."},{"pos":[25039,25149],"content":"When the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that needs to be navigated to can only be determined at run time.","source":"When the <xref:System.Windows.Controls.Page> that needs to be navigated to can only be determined at run time."},{"content":"In these situations, you need to write code to programmatically initiate navigation by calling the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.Navigate%2A&gt;</ph> method of the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> object.","pos":[25156,25390],"source":"In these situations, you need to write code to programmatically initiate navigation by calling the <xref:System.Windows.Navigation.NavigationService.Navigate%2A> method of the <xref:System.Windows.Navigation.NavigationService> object."},{"content":"That requires getting a reference to a <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph>.","pos":[25391,25481],"source":" That requires getting a reference to a <xref:System.Windows.Navigation.NavigationService>."},{"pos":[25492,25536],"content":"Getting a Reference to the NavigationService","linkify":"Getting a Reference to the NavigationService","nodes":[{"content":"Getting a Reference to the NavigationService","pos":[0,44]}]},{"content":"For reasons that are covered in the <bpt id=\"p1\">[</bpt>Navigation Hosts<ept id=\"p1\">](#Navigation_Hosts)</ept> section, a <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> application can have more than one <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph>.","pos":[25540,25781],"source":"For reasons that are covered in the [Navigation Hosts](#Navigation_Hosts) section, a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application can have more than one <xref:System.Windows.Navigation.NavigationService>."},{"content":"This means that your code needs a way to find a <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph>, which is usually the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> that navigated to the current <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[25782,26020],"source":" This means that your code needs a way to find a <xref:System.Windows.Navigation.NavigationService>, which is usually the <xref:System.Windows.Navigation.NavigationService> that navigated to the current <xref:System.Windows.Controls.Page>."},{"content":"You can get a reference to a <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> by calling the <ph id=\"ph2\">`static`</ph><ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationService.GetNavigationService%2A?displayProperty=nameWithType&gt;</ph> method.","pos":[26021,26235],"source":" You can get a reference to a <xref:System.Windows.Navigation.NavigationService> by calling the `static`<xref:System.Windows.Navigation.NavigationService.GetNavigationService%2A?displayProperty=nameWithType> method."},{"content":"To get the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> that navigated to a particular <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, you pass a reference to the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> as the argument of the <ph id=\"ph4\">&lt;xref:System.Windows.Navigation.NavigationService.GetNavigationService%2A&gt;</ph> method.","pos":[26236,26535],"source":" To get the <xref:System.Windows.Navigation.NavigationService> that navigated to a particular <xref:System.Windows.Controls.Page>, you pass a reference to the <xref:System.Windows.Controls.Page> as the argument of the <xref:System.Windows.Navigation.NavigationService.GetNavigationService%2A> method."},{"content":"The following code shows how to get the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> for the current <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[26536,26679],"source":" The following code shows how to get the <xref:System.Windows.Navigation.NavigationService> for the current <xref:System.Windows.Controls.Page>."},{"content":"As a shortcut for finding the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> for a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> implements the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page.NavigationService%2A&gt;</ph> property.","pos":[27216,27457],"source":"As a shortcut for finding the <xref:System.Windows.Navigation.NavigationService> for a <xref:System.Windows.Controls.Page>, <xref:System.Windows.Controls.Page> implements the <xref:System.Windows.Controls.Page.NavigationService%2A> property."},{"content":"This is shown in the following example.","pos":[27458,27497]},{"pos":[28107,28343],"content":"[!NOTE]\n A <xref:System.Windows.Controls.Page> can only get a reference to its <xref:System.Windows.Navigation.NavigationService> when <xref:System.Windows.Controls.Page> raises the <xref:System.Windows.FrameworkElement.Loaded> event.","leadings":["","> "],"nodes":[{"content":"A <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> can only get a reference to its <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> when <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> raises the <ph id=\"ph4\">&lt;xref:System.Windows.FrameworkElement.Loaded&gt;</ph> event.","pos":[9,234],"source":"A <xref:System.Windows.Controls.Page> can only get a reference to its <xref:System.Windows.Navigation.NavigationService> when <xref:System.Windows.Controls.Page> raises the <xref:System.Windows.FrameworkElement.Loaded> event."}]},{"pos":[28354,28394],"content":"Programmatic Navigation to a Page Object","linkify":"Programmatic Navigation to a Page Object","nodes":[{"content":"Programmatic Navigation to a Page Object","pos":[0,40]}]},{"content":"The following example shows how to use the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> to programmatically navigate to a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[28398,28562],"source":"The following example shows how to use the <xref:System.Windows.Navigation.NavigationService> to programmatically navigate to a <xref:System.Windows.Controls.Page>."},{"content":"Programmatic navigation is required because the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is being navigated to can only be instantiated using a single, non-default constructor.","pos":[28563,28739],"source":" Programmatic navigation is required because the <xref:System.Windows.Controls.Page> that is being navigated to can only be instantiated using a single, non-default constructor."},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> with the non-default constructor is shown in the following markup and code.","pos":[28740,28855],"source":" The <xref:System.Windows.Controls.Page> with the non-default constructor is shown in the following markup and code."},{"pos":[29578,29751],"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that navigates to the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> with the non-default constructor is shown in the following markup and code.","source":"The <xref:System.Windows.Controls.Page> that navigates to the <xref:System.Windows.Controls.Page> with the non-default constructor is shown in the following markup and code."},{"content":"When the <ph id=\"ph1\">&lt;xref:System.Windows.Documents.Hyperlink&gt;</ph> on this <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is clicked, navigation is initiated by instantiating the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to navigate to using the non-default constructor and calling the <ph id=\"ph4\">&lt;xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType&gt;</ph> method.","pos":[30357,30709],"source":"When the <xref:System.Windows.Documents.Hyperlink> on this <xref:System.Windows.Controls.Page> is clicked, navigation is initiated by instantiating the <xref:System.Windows.Controls.Page> to navigate to using the non-default constructor and calling the <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> method."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.Navigate%2A&gt;</ph> accepts a reference to the object that the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> will navigate to, rather than a pack <ph id=\"ph3\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph>.","pos":[30710,30974],"source":"<xref:System.Windows.Navigation.NavigationService.Navigate%2A> accepts a reference to the object that the <xref:System.Windows.Navigation.NavigationService> will navigate to, rather than a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]."},{"pos":[30985,31024],"content":"Programmatic Navigation with a Pack URI","linkify":"Programmatic Navigation with a Pack URI","nodes":[{"content":"Programmatic Navigation with a Pack URI","pos":[0,39]}]},{"content":"If you need to construct a pack <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> programmatically (when you can only determine the pack <ph id=\"ph2\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> at run time, for example), you can use the <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType&gt;</ph> method.","pos":[31028,31397],"source":"If you need to construct a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] programmatically (when you can only determine the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] at run time, for example), you can use the <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> method."},{"content":"This is shown in the following example.","pos":[31398,31437]},{"pos":[32074,32101],"content":"Refreshing the Current Page","linkify":"Refreshing the Current Page","nodes":[{"content":"Refreshing the Current Page","pos":[0,27]}]},{"content":"A <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is not downloaded if it has the same pack <ph id=\"ph2\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> as the pack <ph id=\"ph3\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> that is stored in the <ph id=\"ph4\">&lt;xref:System.Windows.Navigation.NavigationService.Source%2A?displayProperty=nameWithType&gt;</ph> property.","pos":[32105,32458],"source":"A <xref:System.Windows.Controls.Page> is not downloaded if it has the same pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] as the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that is stored in the <xref:System.Windows.Navigation.NavigationService.Source%2A?displayProperty=nameWithType> property."},{"content":"To force <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> to download the current page again, you can call the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService.Refresh%2A?displayProperty=nameWithType&gt;</ph> method, as shown in the following example.","pos":[32459,32724],"source":" To force [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] to download the current page again, you can call the <xref:System.Windows.Navigation.NavigationService.Refresh%2A?displayProperty=nameWithType> method, as shown in the following example."},{"pos":[33892,33911],"content":"Navigation Lifetime","linkify":"Navigation Lifetime","nodes":[{"content":"Navigation Lifetime","pos":[0,19]}]},{"content":"There are many ways to initiate navigation, as you've seen.","pos":[33915,33974]},{"content":"When navigation is initiated, and while navigation is in progress, you can track and influence the navigation using the following events that are implemented by <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph>:","pos":[33975,34187],"source":" When navigation is initiated, and while navigation is in progress, you can track and influence the navigation using the following events that are implemented by <xref:System.Windows.Navigation.NavigationService>:"},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.Navigating&gt;</ph>.","pos":[34197,34259],"source":"<xref:System.Windows.Navigation.NavigationService.Navigating>."},{"content":"Occurs when a new navigation is requested.","pos":[34260,34302]},{"content":"Can be used to cancel the navigation.","pos":[34303,34340]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.NavigationProgress&gt;</ph>.","pos":[34350,34420],"source":"<xref:System.Windows.Navigation.NavigationService.NavigationProgress>."},{"content":"Occurs periodically during a download to provide navigation progress information.","pos":[34421,34502]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.Navigated&gt;</ph>.","pos":[34512,34573],"source":"<xref:System.Windows.Navigation.NavigationService.Navigated>."},{"content":"Occurs when the page has been located and downloaded.","pos":[34574,34627]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.NavigationStopped&gt;</ph>.","pos":[34637,34706],"source":"<xref:System.Windows.Navigation.NavigationService.NavigationStopped>."},{"content":"Occurs when the navigation is stopped (by calling <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.StopLoading%2A&gt;</ph>), or when a new navigation is requested while a current navigation is in progress.","pos":[34707,34905],"source":" Occurs when the navigation is stopped (by calling <xref:System.Windows.Navigation.NavigationService.StopLoading%2A>), or when a new navigation is requested while a current navigation is in progress."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.NavigationFailed&gt;</ph>.","pos":[34915,34983],"source":"<xref:System.Windows.Navigation.NavigationService.NavigationFailed>."},{"content":"Occurs when an error is raised while navigating to the requested content.","pos":[34984,35057]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.LoadCompleted&gt;</ph>.","pos":[35067,35132],"source":"<xref:System.Windows.Navigation.NavigationService.LoadCompleted>."},{"content":"Occurs when content that was navigated to is loaded and parsed, and has begun rendering.","pos":[35133,35221]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService.FragmentNavigation&gt;</ph>.","pos":[35231,35301],"source":"<xref:System.Windows.Navigation.NavigationService.FragmentNavigation>."},{"content":"Occurs when navigation to a content fragment begins, which happens:","pos":[35302,35369]},{"content":"Immediately, if the desired fragment is in the current content.","pos":[35383,35446]},{"content":"After the source content has been loaded, if the desired fragment is in different content.","pos":[35460,35550]},{"content":"The navigation events are raised in the order that is illustrated by the following figure.","pos":[35557,35647]},{"pos":[35654,35778],"content":"<bpt id=\"p1\">![</bpt>Page navigation flow chart<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/order-of-navigation-events.png \"</bpt>Page navigation event flow chart<ept id=\"p2\">\")</ept>","source":"![Page navigation flow chart](./media/navigation-overview/order-of-navigation-events.png \"Page navigation event flow chart\")"},{"content":"In general, a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> isn't concerned about these events.","pos":[35785,35870],"source":"In general, a <xref:System.Windows.Controls.Page> isn't concerned about these events."},{"content":"It is more likely that an application is concerned with them and, for that reason, these events are also raised by the <ph id=\"ph1\">&lt;xref:System.Windows.Application&gt;</ph> class:","pos":[35871,36030],"source":" It is more likely that an application is concerned with them and, for that reason, these events are also raised by the <xref:System.Windows.Application> class:"},{"content":"Every time <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> raises an event, the <ph id=\"ph2\">&lt;xref:System.Windows.Application&gt;</ph> class raises the corresponding event.","pos":[36649,36803],"source":"Every time <xref:System.Windows.Navigation.NavigationService> raises an event, the <xref:System.Windows.Application> class raises the corresponding event."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> offer the same events to detect navigation within their respective scopes.","pos":[36804,36969],"source":"<xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> offer the same events to detect navigation within their respective scopes."},{"content":"In some cases, a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> might be interested in these events.","pos":[36976,37065],"source":"In some cases, a <xref:System.Windows.Controls.Page> might be interested in these events."},{"content":"For example, a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> might handle the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService.Navigating?displayProperty=nameWithType&gt;</ph> event to determine whether or not to cancel navigation away from itself.","pos":[37066,37297],"source":" For example, a <xref:System.Windows.Controls.Page> might handle the <xref:System.Windows.Navigation.NavigationService.Navigating?displayProperty=nameWithType> event to determine whether or not to cancel navigation away from itself."},{"content":"This is shown in the following example.","pos":[37298,37337]},{"pos":[37544,37972],"content":"[!code-csharp[NavigationOverviewSnippets#CancelNavigationPageCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/CancelNavigationPage.xaml.cs#cancelnavigationpagecodebehind)]\n[!code-vb[NavigationOverviewSnippets#CancelNavigationPageCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/CancelNavigationPage.xaml.vb#cancelnavigationpagecodebehind)]","leadings":[""," "],"nodes":[]},{"content":"If you register a handler with a navigation event from a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, as the preceding example does, you must also unregister the event handler.","pos":[37979,38147],"source":"If you register a handler with a navigation event from a <xref:System.Windows.Controls.Page>, as the preceding example does, you must also unregister the event handler."},{"content":"If you don't, there may be side effects with respect to how <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> navigation remembers <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> navigation using the journal.","pos":[38148,38364],"source":" If you don't, there may be side effects with respect to how [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] navigation remembers <xref:System.Windows.Controls.Page> navigation using the journal."},{"pos":[38410,38449],"content":"Remembering Navigation with the Journal","linkify":"Remembering Navigation with the Journal","nodes":[{"content":"Remembering Navigation with the Journal","pos":[0,39]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> uses two stacks to remember the pages that you have navigated from: a back stack and a forward stack.","pos":[38453,38624],"source":"[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] uses two stacks to remember the pages that you have navigated from: a back stack and a forward stack."},{"content":"When you navigate from the current <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to a new <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> or forward to an existing <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, the current <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is added to the <bpt id=\"p1\">*</bpt>back stack<ept id=\"p1\">*</ept>.","pos":[38625,38881],"source":" When you navigate from the current <xref:System.Windows.Controls.Page> to a new <xref:System.Windows.Controls.Page> or forward to an existing <xref:System.Windows.Controls.Page>, the current <xref:System.Windows.Controls.Page> is added to the *back stack*."},{"content":"When you navigate from the current <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> back to the previous <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, the current <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is added to the <bpt id=\"p1\">*</bpt>forward stack<ept id=\"p1\">*</ept>.","pos":[38882,39091],"source":" When you navigate from the current <xref:System.Windows.Controls.Page> back to the previous <xref:System.Windows.Controls.Page>, the current <xref:System.Windows.Controls.Page> is added to the *forward stack*."},{"content":"The back stack, the forward stack, and the functionality to manage them, are collectively referred to as the journal.","pos":[39092,39209]},{"content":"Each item in the back stack and the forward stack is an instance of the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.JournalEntry&gt;</ph> class, and is referred to as a <bpt id=\"p1\">*</bpt>journal entry<ept id=\"p1\">*</ept>.","pos":[39210,39375],"source":" Each item in the back stack and the forward stack is an instance of the <xref:System.Windows.Navigation.JournalEntry> class, and is referred to as a *journal entry*."},{"pos":[39386,39431],"content":"Navigating the Journal from Internet Explorer","linkify":"Navigating the Journal from Internet Explorer","nodes":[{"content":"Navigating the Journal from Internet Explorer","pos":[0,45]}]},{"content":"Conceptually, the journal operates the same way that the <bpt id=\"p1\">**</bpt>Back<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Forward<ept id=\"p2\">**</ept> buttons in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph> do.","pos":[39435,39599],"source":"Conceptually, the journal operates the same way that the **Back** and **Forward** buttons in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)] do."},{"content":"These are shown in the following figure.","pos":[39600,39640]},{"pos":[39647,39781],"content":"<bpt id=\"p1\">![</bpt>Back and Forward buttons<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/back-and-forward-navigation.png \"</bpt>Navigate with the back and forward buttons.<ept id=\"p2\">\")</ept>","source":"![Back and Forward buttons](./media/navigation-overview/back-and-forward-navigation.png \"Navigate with the back and forward buttons.\")"},{"content":"For <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> that are hosted by <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>, <ph id=\"ph3\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> integrates the journal into the navigation <ph id=\"ph4\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> of <ph id=\"ph5\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>.","pos":[39788,40222],"source":"For [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] that are hosted by [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] integrates the journal into the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] of [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]."},{"content":"This allows users to navigate pages in an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> by using the <bpt id=\"p1\">**</bpt>Back<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Forward<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Recent Pages<ept id=\"p3\">**</ept> buttons in <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>.","pos":[40223,40473],"source":" This allows users to navigate pages in an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] by using the **Back**, **Forward**, and **Recent Pages** buttons in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]."},{"content":"The journal is not integrated into <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ie6](../../../../includes/tla2sharptla-ie6-md.md)]</ph> in the same way it is for <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)]</ph> or Internet Explorer 8.","pos":[40474,40698],"source":" The journal is not integrated into [!INCLUDE[TLA2#tla_ie6](../../../../includes/tla2sharptla-ie6-md.md)] in the same way it is for [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)] or Internet Explorer 8."},{"content":"Instead, <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> renders a substitute navigation <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph>.","pos":[40699,40878],"source":" Instead, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] renders a substitute navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]."},{"pos":[40886,41293],"content":"[!IMPORTANT]\n In [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], when a user navigates away from and back to an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], only the journal entries for pages that were not kept alive are retained in the journal. For discussion on keeping pages alive, see [Page Lifetime and the Journal](#PageLifetime) later in this topic.","leadings":["","> "],"nodes":[{"content":"In [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], when a user navigates away from and back to an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], only the journal entries for pages that were not kept alive are retained in the journal. For discussion on keeping pages alive, see [Page Lifetime and the Journal](#PageLifetime) later in this topic.","pos":[14,405],"nodes":[{"content":"In <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>, when a user navigates away from and back to an <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph>, only the journal entries for pages that were not kept alive are retained in the journal.","pos":[0,280],"source":"In [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], when a user navigates away from and back to an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], only the journal entries for pages that were not kept alive are retained in the journal."},{"content":"For discussion on keeping pages alive, see <bpt id=\"p1\">[</bpt>Page Lifetime and the Journal<ept id=\"p1\">](#PageLifetime)</ept> later in this topic.","pos":[281,391],"source":" For discussion on keeping pages alive, see [Page Lifetime and the Journal](#PageLifetime) later in this topic."}]}]},{"content":"By default, the text for each <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that appears in the <bpt id=\"p1\">**</bpt>Recent Pages<ept id=\"p1\">**</ept> list of <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph> is the <ph id=\"ph3\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> for the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[41300,41600],"source":"By default, the text for each <xref:System.Windows.Controls.Page> that appears in the **Recent Pages** list of [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)] is the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the <xref:System.Windows.Controls.Page>."},{"content":"In many cases, this is not particularly meaningful to the user.","pos":[41601,41664]},{"content":"Fortunately, you can change the text using one the following options:","pos":[41665,41734]},{"pos":[41744,41793],"content":"The attached <ph id=\"ph1\">`JournalEntry.Name`</ph> attribute value.","source":"The attached `JournalEntry.Name` attribute value."},{"pos":[41803,41836],"content":"The <ph id=\"ph1\">`Page.Title`</ph> attribute value.","source":"The `Page.Title` attribute value."},{"pos":[41846,42015],"content":"The <ph id=\"ph1\">`Page.WindowTitle`</ph> attribute value and the <ph id=\"ph2\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> for the current <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","source":"The `Page.WindowTitle` attribute value and the [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the current <xref:System.Windows.Controls.Page>."},{"content":"The <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> for the current <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[42025,42151],"source":"The [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the current <xref:System.Windows.Controls.Page>."},{"content":"(Default)","pos":[42152,42161]},{"content":"The order in which the options are listed matches the order of precedence for finding the text.","pos":[42168,42263]},{"content":"For example, if <ph id=\"ph1\">`JournalEntry.Name`</ph> is set, the other values are ignored.","pos":[42264,42337],"source":" For example, if `JournalEntry.Name` is set, the other values are ignored."},{"pos":[42344,42450],"content":"The following example uses the <ph id=\"ph1\">`Page.Title`</ph> attribute to change the text that appears for a journal entry.","source":"The following example uses the `Page.Title` attribute to change the text that appears for a journal entry."},{"pos":[42807,43557],"content":"[!code-csharp[NavigationOverviewSnippets#PageTitleCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithTitle.xaml.cs#pagetitlecodebehind1)]\n[!code-vb[NavigationOverviewSnippets#PageTitleCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/PageWithTitle.xaml.vb#pagetitlecodebehind1)]  \n[!code-csharp[NavigationOverviewSnippets#PageTitleCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/NavigationOverviewSnippets/CSharp/PageWithTitle.xaml.cs#pagetitlecodebehind2)]\n[!code-vb[NavigationOverviewSnippets#PageTitleCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/NavigationOverviewSnippets/VisualBasic/PageWithTitle.xaml.vb#pagetitlecodebehind2)]","leadings":[""," ","",""],"nodes":[]},{"pos":[43568,43600],"content":"Navigating the Journal Using WPF","linkify":"Navigating the Journal Using WPF","nodes":[{"content":"Navigating the Journal Using WPF","pos":[0,32]}]},{"content":"Although a user can navigate the journal by using the <bpt id=\"p1\">**</bpt>Back<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Forward<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Recent Pages<ept id=\"p3\">**</ept> in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>, you can also navigate the journal using both declarative and programmatic mechanisms provided by <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>.","pos":[43604,43941],"source":"Although a user can navigate the journal by using the **Back**, **Forward**, and **Recent Pages** in [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], you can also navigate the journal using both declarative and programmatic mechanisms provided by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]."},{"content":"One reason to do this is to provide custom navigation <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui#plural](../../../../includes/tla2sharptla-uisharpplural-md.md)]</ph> in your pages.","pos":[43942,44096],"source":" One reason to do this is to provide custom navigation [!INCLUDE[TLA2#tla_ui#plural](../../../../includes/tla2sharptla-uisharpplural-md.md)] in your pages."},{"content":"You can declaratively add journal navigation support by using the navigation commands exposed by <ph id=\"ph1\">&lt;xref:System.Windows.Input.NavigationCommands&gt;</ph>.","pos":[44103,44247],"source":"You can declaratively add journal navigation support by using the navigation commands exposed by <xref:System.Windows.Input.NavigationCommands>."},{"content":"The following example demonstrates how to use the <ph id=\"ph1\">`BrowseBack`</ph> navigation command.","pos":[44248,44330],"source":" The following example demonstrates how to use the `BrowseBack` navigation command."},{"pos":[45157,45305],"content":"You can programmatically navigate the journal by using one of the following members of the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> class:","source":"You can programmatically navigate the journal by using one of the following members of the <xref:System.Windows.Navigation.NavigationService> class:"},{"pos":[45604,45789],"content":"The journal can also be manipulated programmatically, as discussed in <bpt id=\"p1\">[</bpt>Retaining Content State with Navigation History<ept id=\"p1\">](#RetainingContentStateWithNavigationHistory)</ept> later in this topic.","source":"The journal can also be manipulated programmatically, as discussed in [Retaining Content State with Navigation History](#RetainingContentStateWithNavigationHistory) later in this topic."},{"pos":[45830,45859],"content":"Page Lifetime and the Journal","linkify":"Page Lifetime and the Journal","nodes":[{"content":"Page Lifetime and the Journal","pos":[0,29]}]},{"content":"Consider an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> with several pages that contain rich content, including graphics, animations, and media.","pos":[45863,46035],"source":"Consider an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] with several pages that contain rich content, including graphics, animations, and media."},{"content":"The memory footprint for pages like these could be quite large, particularly if video and audio media are used.","pos":[46036,46147]},{"content":"Given that the journal \"remembers\" pages that have been navigated to, such an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> could quickly consume a large and noticeable amount of memory.","pos":[46148,46360],"source":" Given that the journal \"remembers\" pages that have been navigated to, such an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] could quickly consume a large and noticeable amount of memory."},{"content":"For this reason, the default behavior of the journal is to store <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> metadata in each journal entry rather than a reference to a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> object.","pos":[46367,46571],"source":"For this reason, the default behavior of the journal is to store <xref:System.Windows.Controls.Page> metadata in each journal entry rather than a reference to a <xref:System.Windows.Controls.Page> object."},{"content":"When a journal entry is navigated to, its <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> metadata is used to create a new instance of the specified <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[46572,46745],"source":" When a journal entry is navigated to, its <xref:System.Windows.Controls.Page> metadata is used to create a new instance of the specified <xref:System.Windows.Controls.Page>."},{"content":"As a consequence, each <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is navigated has the lifetime that is illustrated by the following figure.","pos":[46746,46884],"source":" As a consequence, each <xref:System.Windows.Controls.Page> that is navigated has the lifetime that is illustrated by the following figure."},{"pos":[46891,47016],"content":"<bpt id=\"p1\">![</bpt>Page lifetime<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/navigated-page-lifetime.png \"</bpt>This shows the lifetime when a page is navigated.<ept id=\"p2\">\")</ept>","source":"![Page lifetime](./media/navigation-overview/navigated-page-lifetime.png \"This shows the lifetime when a page is navigated.\")"},{"content":"Although using the default journaling behavior can save on memory consumption, per-page rendering performance might be reduced; reinstantiating a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> can be time-intensive, particularly if it has a lot of content.","pos":[47023,47268],"source":"Although using the default journaling behavior can save on memory consumption, per-page rendering performance might be reduced; reinstantiating a <xref:System.Windows.Controls.Page> can be time-intensive, particularly if it has a lot of content."},{"content":"If you need to retain a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> instance in the journal, you can draw on two techniques for doing so.","pos":[47269,47398],"source":" If you need to retain a <xref:System.Windows.Controls.Page> instance in the journal, you can draw on two techniques for doing so."},{"content":"First, you can programmatically navigate to a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> object by calling the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType&gt;</ph> method.","pos":[47399,47602],"source":" First, you can programmatically navigate to a <xref:System.Windows.Controls.Page> object by calling the <xref:System.Windows.Navigation.NavigationService.Navigate%2A?displayProperty=nameWithType> method."},{"content":"Second, you can specify that <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> retain an instance of a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> in the journal by setting the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page.KeepAlive%2A&gt;</ph> property to <ph id=\"ph4\">`true`</ph> (the default is <ph id=\"ph5\">`false`</ph>).","pos":[47609,47891],"source":"Second, you can specify that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] retain an instance of a <xref:System.Windows.Controls.Page> in the journal by setting the <xref:System.Windows.Controls.Page.KeepAlive%2A> property to `true` (the default is `false`)."},{"content":"As shown in the following example, you can set <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page.KeepAlive%2A&gt;</ph> declaratively in markup.","pos":[47892,48012],"source":" As shown in the following example, you can set <xref:System.Windows.Controls.Page.KeepAlive%2A> declaratively in markup."},{"content":"The lifetime of a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is kept alive is subtly different from one that is not.","pos":[48198,48312],"source":"The lifetime of a <xref:System.Windows.Controls.Page> that is kept alive is subtly different from one that is not."},{"content":"The first time a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is kept alive is navigated to, it is instantiated just like a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is not kept alive.","pos":[48313,48492],"source":" The first time a <xref:System.Windows.Controls.Page> that is kept alive is navigated to, it is instantiated just like a <xref:System.Windows.Controls.Page> that is not kept alive."},{"content":"However, because an instance of the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is retained in the journal, it is never instantiated again for as long as it remains in the journal.","pos":[48493,48665],"source":" However, because an instance of the <xref:System.Windows.Controls.Page> is retained in the journal, it is never instantiated again for as long as it remains in the journal."},{"content":"Consequently, if a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> has initialization logic that needs to be called every time the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is navigated to, you should move it from the constructor into a handler for the <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkElement.Loaded&gt;</ph> event.","pos":[48666,48953],"source":" Consequently, if a <xref:System.Windows.Controls.Page> has initialization logic that needs to be called every time the <xref:System.Windows.Controls.Page> is navigated to, you should move it from the constructor into a handler for the <xref:System.Windows.FrameworkElement.Loaded> event."},{"content":"As shown in the following figure, the <ph id=\"ph1\">&lt;xref:System.Windows.FrameworkElement.Loaded&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.FrameworkElement.Unloaded&gt;</ph> events are still raised each time a <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is navigated to and from, respectively.","pos":[48954,49201],"source":" As shown in the following figure, the <xref:System.Windows.FrameworkElement.Loaded> and <xref:System.Windows.FrameworkElement.Unloaded> events are still raised each time a <xref:System.Windows.Controls.Page> is navigated to and from, respectively."},{"pos":[49208,49395],"content":"<bpt id=\"p1\">![</bpt>When the Loaded and Unloaded events are raised<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/loaded-and-unloaded-events.png \"</bpt>Loaded and unloaded events are raised when a page is navigated to and from.<ept id=\"p2\">\")</ept>","source":"![When the Loaded and Unloaded events are raised](./media/navigation-overview/loaded-and-unloaded-events.png \"Loaded and unloaded events are raised when a page is navigated to and from.\")"},{"pos":[49402,49506],"content":"When a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is not kept alive, you should not do either of the following:","source":"When a <xref:System.Windows.Controls.Page> is not kept alive, you should not do either of the following:"},{"content":"Store a reference to it, or any part of it.","pos":[49516,49559]},{"content":"Register event handlers with events that are not implemented by it.","pos":[49569,49636]},{"pos":[49643,49813],"content":"Doing either of these will create references that force the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to be retained in memory, even after it has been removed from the journal.","source":"Doing either of these will create references that force the <xref:System.Windows.Controls.Page> to be retained in memory, even after it has been removed from the journal."},{"content":"In general, you should prefer the default <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> behavior of not keeping a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> alive.","pos":[49820,49966],"source":"In general, you should prefer the default <xref:System.Windows.Controls.Page> behavior of not keeping a <xref:System.Windows.Controls.Page> alive."},{"content":"However, this has state implications that are discussed in the next section.","pos":[49967,50043]},{"pos":[50114,50161],"content":"Retaining Content State with Navigation History","linkify":"Retaining Content State with Navigation History","nodes":[{"content":"Retaining Content State with Navigation History","pos":[0,47]}]},{"content":"If a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is not kept alive, and it has controls that collect data from the user, what happens to the data if a user navigates away from and back to the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>?","pos":[50165,50385],"source":"If a <xref:System.Windows.Controls.Page> is not kept alive, and it has controls that collect data from the user, what happens to the data if a user navigates away from and back to the <xref:System.Windows.Controls.Page>?"},{"content":"From a user experience perspective, the user should expect to see the data they entered previously.","pos":[50386,50485]},{"content":"Unfortunately, because a new instance of the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is created with each navigation, the controls that collected the data are reinstantiated and the data is lost.","pos":[50486,50677],"source":" Unfortunately, because a new instance of the <xref:System.Windows.Controls.Page> is created with each navigation, the controls that collected the data are reinstantiated and the data is lost."},{"content":"Fortunately, the journal provides support for remembering data across <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> navigations, including control data.","pos":[50684,50826],"source":"Fortunately, the journal provides support for remembering data across <xref:System.Windows.Controls.Page> navigations, including control data."},{"content":"Specifically, the journal entry for each <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> acts as a temporary container for the associated <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> state.","pos":[50827,50995],"source":" Specifically, the journal entry for each <xref:System.Windows.Controls.Page> acts as a temporary container for the associated <xref:System.Windows.Controls.Page> state."},{"content":"The following steps outline how this support is used when a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is navigated from:","pos":[50996,51110],"source":" The following steps outline how this support is used when a <xref:System.Windows.Controls.Page> is navigated from:"},{"pos":[51120,51205],"content":"An entry for the current <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is added to the journal.","source":"An entry for the current <xref:System.Windows.Controls.Page> is added to the journal."},{"pos":[51215,51349],"content":"The state of the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is stored with the journal entry for that page, which is added to the back stack.","source":"The state of the <xref:System.Windows.Controls.Page> is stored with the journal entry for that page, which is added to the back stack."},{"pos":[51359,51419],"content":"The new <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is navigated to.","source":"The new <xref:System.Windows.Controls.Page> is navigated to."},{"pos":[51426,51548],"content":"When the page <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is navigated back to, using the journal, the following steps take place:","source":"When the page <xref:System.Windows.Controls.Page> is navigated back to, using the journal, the following steps take place:"},{"pos":[51558,51656],"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> (the top journal entry on the back stack) is instantiated.","source":"The <xref:System.Windows.Controls.Page> (the top journal entry on the back stack) is instantiated."},{"pos":[51666,51817],"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is refreshed with the state that was stored with the journal entry for the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","source":"The <xref:System.Windows.Controls.Page> is refreshed with the state that was stored with the journal entry for the <xref:System.Windows.Controls.Page>."},{"pos":[51827,51888],"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is navigated back to.","source":"The <xref:System.Windows.Controls.Page> is navigated back to."},{"pos":[51895,52075],"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> automatically uses this support when the following controls are used on a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>:","source":"[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] automatically uses this support when the following controls are used on a <xref:System.Windows.Controls.Page>:"},{"pos":[52722,52981],"content":"If a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> uses these controls, data entered into them is remembered across <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> navigations, as demonstrated by the <bpt id=\"p1\">**</bpt>Favorite Color<ept id=\"p1\">**</ept><ph id=\"ph3\">&lt;xref:System.Windows.Controls.ListBox&gt;</ph> in the following figure.","source":"If a <xref:System.Windows.Controls.Page> uses these controls, data entered into them is remembered across <xref:System.Windows.Controls.Page> navigations, as demonstrated by the **Favorite Color**<xref:System.Windows.Controls.ListBox> in the following figure."},{"pos":[52988,53156],"content":"<bpt id=\"p1\">![</bpt>Page with controls that remember state<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/data-remembered-across-page-navigations.png \"</bpt>Data entered is remembered across page navigations.<ept id=\"p2\">\")</ept>","source":"![Page with controls that remember state](./media/navigation-overview/data-remembered-across-page-navigations.png \"Data entered is remembered across page navigations.\")"},{"pos":[53163,53419],"content":"When a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> has controls other than those in the preceding list, or when state is stored in custom objects, you need to write code to cause the journal to remember state across <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> navigations.","source":"When a <xref:System.Windows.Controls.Page> has controls other than those in the preceding list, or when state is stored in custom objects, you need to write code to cause the journal to remember state across <xref:System.Windows.Controls.Page> navigations."},{"pos":[53426,53740],"content":"If you need to remember small pieces of state across <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> navigations, you can use dependency properties (see <ph id=\"ph2\">&lt;xref:System.Windows.DependencyProperty&gt;</ph>) that are configured with the <ph id=\"ph3\">&lt;xref:System.Windows.FrameworkPropertyMetadata.Journal%2A?displayProperty=nameWithType&gt;</ph> metadata flag.","source":"If you need to remember small pieces of state across <xref:System.Windows.Controls.Page> navigations, you can use dependency properties (see <xref:System.Windows.DependencyProperty>) that are configured with the <xref:System.Windows.FrameworkPropertyMetadata.Journal%2A?displayProperty=nameWithType> metadata flag."},{"pos":[53747,54046],"content":"If the state that your <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> needs to remember across navigations comprises multiple pieces of data, you may find it less code intensive to encapsulate your state in a single class and implement the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.IProvideCustomContentState&gt;</ph> interface.","source":"If the state that your <xref:System.Windows.Controls.Page> needs to remember across navigations comprises multiple pieces of data, you may find it less code intensive to encapsulate your state in a single class and implement the <xref:System.Windows.Navigation.IProvideCustomContentState> interface."},{"pos":[54053,54393],"content":"If you need to navigate through various states of a single <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, without navigating from the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> itself, you can use <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.IProvideCustomContentState&gt;</ph> and <ph id=\"ph4\">&lt;xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A?displayProperty=nameWithType&gt;</ph>.","source":"If you need to navigate through various states of a single <xref:System.Windows.Controls.Page>, without navigating from the <xref:System.Windows.Controls.Page> itself, you can use <xref:System.Windows.Navigation.IProvideCustomContentState> and <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A?displayProperty=nameWithType>."},{"pos":[54429,54436],"content":"Cookies","linkify":"Cookies","nodes":[{"content":"Cookies","pos":[0,7]}]},{"content":"Another way that <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> applications can store data is with cookies, which are created, updated, and deleted by using the <ph id=\"ph2\">&lt;xref:System.Windows.Application.SetCookie%2A&gt;</ph> and <ph id=\"ph3\">&lt;xref:System.Windows.Application.GetCookie%2A&gt;</ph> methods.","pos":[54440,54731],"source":"Another way that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications can store data is with cookies, which are created, updated, and deleted by using the <xref:System.Windows.Application.SetCookie%2A> and <xref:System.Windows.Application.GetCookie%2A> methods."},{"content":"The cookies that you can create in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> are the same cookies that other types of Web applications use; cookies are arbitrary pieces of data that are stored by an application on a client machine either during or across application sessions.","pos":[54732,55036],"source":" The cookies that you can create in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] are the same cookies that other types of Web applications use; cookies are arbitrary pieces of data that are stored by an application on a client machine either during or across application sessions."},{"content":"Cookie data typically takes the form of a name/value pair in the following format.","pos":[55037,55119]},{"pos":[55126,55144],"content":"<bpt id=\"p1\">*</bpt>Name<ept id=\"p1\">*</ept> <ph id=\"ph1\">`=`</ph> <bpt id=\"p2\">*</bpt>Value<ept id=\"p2\">*</ept>","source":"*Name* `=` *Value*"},{"content":"When the data is passed to <ph id=\"ph1\">&lt;xref:System.Windows.Application.SetCookie%2A&gt;</ph>, along with the <ph id=\"ph2\">&lt;xref:System.Uri&gt;</ph> of the location for which the cookie should be set, a cookie is created in-memory, and it is only available for the duration of the current application session.","pos":[55151,55419],"source":"When the data is passed to <xref:System.Windows.Application.SetCookie%2A>, along with the <xref:System.Uri> of the location for which the cookie should be set, a cookie is created in-memory, and it is only available for the duration of the current application session."},{"content":"This type of cookie is referred to as a <bpt id=\"p1\">*</bpt>session cookie<ept id=\"p1\">*</ept>.","pos":[55420,55477],"source":" This type of cookie is referred to as a *session cookie*."},{"content":"To store a cookie across application sessions, an expiration date must be added to the cookie, using the following format.","pos":[55484,55606]},{"pos":[55613,55673],"content":"<bpt id=\"p1\">*</bpt>NAME<ept id=\"p1\">*</ept> <ph id=\"ph1\">`=`</ph> <bpt id=\"p2\">*</bpt>VALUE<ept id=\"p2\">*</ept> <ph id=\"ph2\">`; expires=DAY, DD-MMM-YYYY HH:MM:SS GMT`</ph>","source":"*NAME* `=` *VALUE* `; expires=DAY, DD-MMM-YYYY HH:MM:SS GMT`"},{"content":"A cookie with an expiration date is stored in the current <ph id=\"ph1\">[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]</ph> installation's Temporary Internet Files folder until the cookie expires.","pos":[55680,55882],"source":"A cookie with an expiration date is stored in the current [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] installation's Temporary Internet Files folder until the cookie expires."},{"content":"Such a cookie is known as a <bpt id=\"p1\">*</bpt>persistent cookie<ept id=\"p1\">*</ept> because it persists across application sessions.","pos":[55883,55979],"source":" Such a cookie is known as a *persistent cookie* because it persists across application sessions."},{"pos":[55986,56239],"content":"You retrieve both session and persistent cookies by calling the <ph id=\"ph1\">&lt;xref:System.Windows.Application.GetCookie%2A&gt;</ph> method, passing the <ph id=\"ph2\">&lt;xref:System.Uri&gt;</ph> of the location where the cookie was set with the <ph id=\"ph3\">&lt;xref:System.Windows.Application.SetCookie%2A&gt;</ph> method.","source":"You retrieve both session and persistent cookies by calling the <xref:System.Windows.Application.GetCookie%2A> method, passing the <xref:System.Uri> of the location where the cookie was set with the <xref:System.Windows.Application.SetCookie%2A> method."},{"pos":[56246,56381],"content":"The following are some of the ways that cookies are supported in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>:","source":"The following are some of the ways that cookies are supported in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]:"},{"pos":[56391,56614],"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> standalone applications and <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> can both create and manage cookies.","source":"[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] can both create and manage cookies."},{"pos":[56624,56760],"content":"Cookies that are created by an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> can be accessed from the browser.","source":"Cookies that are created by an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] can be accessed from the browser."},{"pos":[56770,56910],"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> from the same domain can create and share cookies.","source":"[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] from the same domain can create and share cookies."},{"pos":[56920,57142],"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph> pages from the same domain can create and share cookies.","source":"[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] and [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] pages from the same domain can create and share cookies."},{"pos":[57152,57376],"content":"Cookies are dispatched when <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> and loose <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> pages make Web requests.","source":"Cookies are dispatched when [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] and loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages make Web requests."},{"pos":[57386,57622],"content":"Both top-level <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> and <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> hosted in IFRAMES can access cookies.","source":"Both top-level [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] hosted in IFRAMES can access cookies."},{"pos":[57632,57759],"content":"Cookie support in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> is the same for all supported browsers.","source":"Cookie support in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] is the same for all supported browsers."},{"pos":[57769,58109],"content":"In <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>, P3P policy that pertains to cookies is honored by <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>, particularly with respect to first-party and third-party <ph id=\"ph3\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>.","source":"In [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)], P3P policy that pertains to cookies is honored by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], particularly with respect to first-party and third-party [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]."},{"pos":[58159,58180],"content":"Structured Navigation","linkify":"Structured Navigation","nodes":[{"content":"Structured Navigation","pos":[0,21]}]},{"content":"If you need to pass data from one <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> to another, you can pass the data as arguments to a non-default constructor of the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[58184,58373],"source":"If you need to pass data from one <xref:System.Windows.Controls.Page> to another, you can pass the data as arguments to a non-default constructor of the <xref:System.Windows.Controls.Page>."},{"content":"Note that if you use this technique, you must keep the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> alive; if not, the next time you navigate to the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, <ph id=\"ph3\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> reinstantiates the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page&gt;</ph> by using the default constructor.","pos":[58374,58709],"source":" Note that if you use this technique, you must keep the <xref:System.Windows.Controls.Page> alive; if not, the next time you navigate to the <xref:System.Windows.Controls.Page>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] reinstantiates the <xref:System.Windows.Controls.Page> by using the default constructor."},{"content":"Alternatively, your <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> can implement properties that are set with the data that needs to be passed.","pos":[58716,58848],"source":"Alternatively, your <xref:System.Windows.Controls.Page> can implement properties that are set with the data that needs to be passed."},{"content":"Things become tricky, however, when a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> needs to pass data back to the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that navigated to it.","pos":[58849,59011],"source":" Things become tricky, however, when a <xref:System.Windows.Controls.Page> needs to pass data back to the <xref:System.Windows.Controls.Page> that navigated to it."},{"content":"The problem is that navigation doesn't natively support mechanisms for guaranteeing that a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> will be returned to after it is navigated from.","pos":[59012,59186],"source":" The problem is that navigation doesn't natively support mechanisms for guaranteeing that a <xref:System.Windows.Controls.Page> will be returned to after it is navigated from."},{"content":"Essentially, navigation doesn't support call/return semantics.","pos":[59187,59249]},{"content":"To solve this problem, <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> provides the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.PageFunction%601&gt;</ph> class that you can use to ensure that a <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Page&gt;</ph> is returned to in a predictable and structured fashion.","pos":[59250,59537],"source":" To solve this problem, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides the <xref:System.Windows.Navigation.PageFunction%601> class that you can use to ensure that a <xref:System.Windows.Controls.Page> is returned to in a predictable and structured fashion."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Structured Navigation Overview<ept id=\"p1\">](structured-navigation-overview.md)</ept>.","pos":[59538,59632],"source":" For more information, see [Structured Navigation Overview](structured-navigation-overview.md)."},{"pos":[59686,59712],"content":"The NavigationWindow Class","linkify":"The NavigationWindow Class","nodes":[{"content":"The NavigationWindow Class","pos":[0,26]}]},{"content":"To this point, you've seen the gamut of navigation services that you are most likely to use to build applications with navigable content.","pos":[59716,59853]},{"content":"These services were discussed in the context of <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>, although they are not limited to <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>.","pos":[59854,60116],"source":" These services were discussed in the context of [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], although they are not limited to [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]."},{"content":"Modern operating systems and Windows applications take advantage of the browser experience of modern users to incorporate browser-style navigation into standalone applications.","pos":[60117,60293]},{"content":"Common examples include:","pos":[60294,60318]},{"pos":[60328,60370],"content":"<bpt id=\"p1\">**</bpt>Word Thesaurus<ept id=\"p1\">**</ept>: Navigate word choices.","source":"**Word Thesaurus**: Navigate word choices."},{"pos":[60380,60426],"content":"<bpt id=\"p1\">**</bpt>File Explorer<ept id=\"p1\">**</ept>: Navigate files and folders.","source":"**File Explorer**: Navigate files and folders."},{"content":"<bpt id=\"p1\">**</bpt>Wizards<ept id=\"p1\">**</ept>: Breaking down a complex task into multiple pages that can be navigated between.","pos":[60436,60528],"source":"**Wizards**: Breaking down a complex task into multiple pages that can be navigated between."},{"content":"An example is the Windows Components Wizard that handles adding and removing Windows features.","pos":[60529,60623]},{"content":"To incorporate browser-style navigation into your standalone applications, you can use the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> class.","pos":[60630,60777],"source":"To incorporate browser-style navigation into your standalone applications, you can use the <xref:System.Windows.Navigation.NavigationWindow> class."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> derives from <ph id=\"ph2\">&lt;xref:System.Windows.Window&gt;</ph> and extends it with the same support for navigation that <ph id=\"ph3\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> provide.","pos":[60778,61025],"source":"<xref:System.Windows.Navigation.NavigationWindow> derives from <xref:System.Windows.Window> and extends it with the same support for navigation that [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] provide."},{"content":"You can use <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> as either the main window of your standalone application or as a secondary window such as a dialog box.","pos":[61026,61191],"source":" You can use <xref:System.Windows.Navigation.NavigationWindow> as either the main window of your standalone application or as a secondary window such as a dialog box."},{"content":"To implement a <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph>, as with most top-level classes in <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> (<ph id=\"ph3\">&lt;xref:System.Windows.Window&gt;</ph>, <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page&gt;</ph>, and so on), you use a combination of markup and code-behind.","pos":[61198,61496],"source":"To implement a <xref:System.Windows.Navigation.NavigationWindow>, as with most top-level classes in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] (<xref:System.Windows.Window>, <xref:System.Windows.Controls.Page>, and so on), you use a combination of markup and code-behind."},{"content":"This is shown in the following example.","pos":[61497,61536]},{"pos":[61745,62169],"content":"[!code-csharp[IntroToNavNavigationWindowSnippets#NavigationWindowCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/MainWindow.xaml.cs#navigationwindowcodebehind)]\n[!code-vb[IntroToNavNavigationWindowSnippets#NavigationWindowCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/VisualBasic/MainWindow.xaml.vb#navigationwindowcodebehind)]","leadings":[""," "],"nodes":[]},{"content":"This code creates a <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> that automatically navigates to a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> (HomePage.xaml) when the <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> is opened.","pos":[62176,62401],"source":"This code creates a <xref:System.Windows.Navigation.NavigationWindow> that automatically navigates to a <xref:System.Windows.Controls.Page> (HomePage.xaml) when the <xref:System.Windows.Navigation.NavigationWindow> is opened."},{"content":"If the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> is the main application window, you can use the <ph id=\"ph2\">`StartupUri`</ph> attribute to launch it.","pos":[62402,62543],"source":" If the <xref:System.Windows.Navigation.NavigationWindow> is the main application window, you can use the `StartupUri` attribute to launch it."},{"content":"This is shown in the following markup.","pos":[62544,62582]},{"pos":[62776,62904],"content":"The following figure shows the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> as the main window of a standalone application.","source":"The following figure shows the <xref:System.Windows.Navigation.NavigationWindow> as the main window of a standalone application."},{"pos":[62911,63032],"content":"<bpt id=\"p1\">![</bpt>A main window<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/navigation-window-as-main-window.png \"</bpt>Navigation window as the main window<ept id=\"p2\">\")</ept>","source":"![A main window](./media/navigation-overview/navigation-window-as-main-window.png \"Navigation window as the main window\")"},{"content":"From the figure, you can see that the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> has a title, even though it wasn't set in the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> implementation code from the preceding example.","pos":[63039,63270],"source":"From the figure, you can see that the <xref:System.Windows.Navigation.NavigationWindow> has a title, even though it wasn't set in the <xref:System.Windows.Navigation.NavigationWindow> implementation code from the preceding example."},{"content":"Instead, the title is set using the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page.WindowTitle%2A&gt;</ph> property, which is shown in the following code.","pos":[63271,63405],"source":" Instead, the title is set using the <xref:System.Windows.Controls.Page.WindowTitle%2A> property, which is shown in the following code."},{"pos":[63780,63977],"content":"Setting the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page.WindowWidth%2A&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page.WindowHeight%2A&gt;</ph> properties also affects the <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph>.","source":"Setting the <xref:System.Windows.Controls.Page.WindowWidth%2A> and <xref:System.Windows.Controls.Page.WindowHeight%2A> properties also affects the <xref:System.Windows.Navigation.NavigationWindow>."},{"content":"Usually, you implement your own <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> when you need to customize either its behavior or its appearance.","pos":[63984,64131],"source":"Usually, you implement your own <xref:System.Windows.Navigation.NavigationWindow> when you need to customize either its behavior or its appearance."},{"content":"If you do neither, you can use a shortcut.","pos":[64132,64174]},{"content":"If you specify the pack <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> of a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> as the <ph id=\"ph3\">&lt;xref:System.Windows.Application.StartupUri%2A&gt;</ph> in a standalone application, <ph id=\"ph4\">&lt;xref:System.Windows.Application&gt;</ph> automatically creates a <ph id=\"ph5\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> to host the <ph id=\"ph6\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[64175,64550],"source":" If you specify the pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] of a <xref:System.Windows.Controls.Page> as the <xref:System.Windows.Application.StartupUri%2A> in a standalone application, <xref:System.Windows.Application> automatically creates a <xref:System.Windows.Navigation.NavigationWindow> to host the <xref:System.Windows.Controls.Page>."},{"content":"The following markup shows how to enable this.","pos":[64551,64597]},{"pos":[64788,64968],"content":"If you want a secondary application window such as a dialog box to be a <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph>, you can use the code in the following example to open it.","source":"If you want a secondary application window such as a dialog box to be a <xref:System.Windows.Navigation.NavigationWindow>, you can use the code in the following example to open it."},{"pos":[64975,65377],"content":"[!code-csharp[IntroToNavNavigationWindowSnippets#CreateNWDialogBox](~/samples/snippets/csharp/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/CSharp/DialogOwnerWindow.xaml.cs#createnwdialogbox)]\n[!code-vb[IntroToNavNavigationWindowSnippets#CreateNWDialogBox](~/samples/snippets/visualbasic/VS_Snippets_Wpf/IntroToNavNavigationWindowSnippets/VisualBasic/DialogOwnerWindow.xaml.vb#createnwdialogbox)]","leadings":[""," "],"nodes":[]},{"content":"The following figure shows the result.","pos":[65384,65422]},{"pos":[65429,65545],"content":"<bpt id=\"p1\">![</bpt>A dialog box<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/navigation-window-as-dialog-box.png \"</bpt>Navigation window as a dialog box<ept id=\"p2\">\")</ept>","source":"![A dialog box](./media/navigation-overview/navigation-window-as-dialog-box.png \"Navigation window as a dialog box\")"},{"content":"As you can see, <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> displays <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>-style <bpt id=\"p1\">**</bpt>Back<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Forward<ept id=\"p2\">**</ept> buttons that allow users to navigate the journal.","pos":[65552,65775],"source":"As you can see, <xref:System.Windows.Navigation.NavigationWindow> displays [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]-style **Back** and **Forward** buttons that allow users to navigate the journal."},{"content":"These buttons provide the same user experience, as shown in the following figure.","pos":[65776,65857]},{"pos":[65864,66042],"content":"<bpt id=\"p1\">![</bpt>Back and Forward buttons in a NavigationWindow<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/back-and-forward-buttons-in-navigation-window.png \"</bpt>Back and Forward buttons in a Navigation window<ept id=\"p2\">\")</ept>","source":"![Back and Forward buttons in a NavigationWindow](./media/navigation-overview/back-and-forward-buttons-in-navigation-window.png \"Back and Forward buttons in a Navigation window\")"},{"pos":[66049,66348],"content":"If your pages provide their own journal navigation support and UI, you can hide the <bpt id=\"p1\">**</bpt>Back<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Forward<ept id=\"p2\">**</ept> buttons displayed by <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> by setting the value of the <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow.ShowsNavigationUI%2A&gt;</ph> property to <ph id=\"ph3\">`false`</ph>.","source":"If your pages provide their own journal navigation support and UI, you can hide the **Back** and **Forward** buttons displayed by <xref:System.Windows.Navigation.NavigationWindow> by setting the value of the <xref:System.Windows.Navigation.NavigationWindow.ShowsNavigationUI%2A> property to `false`."},{"pos":[66355,66624],"content":"Alternatively, you can use customization support in <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> to replace the <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> of the <ph id=\"ph3\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> itself.","source":"Alternatively, you can use customization support in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] to replace the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] of the <xref:System.Windows.Navigation.NavigationWindow> itself."},{"pos":[66684,66699],"content":"The Frame Class","linkify":"The Frame Class","nodes":[{"content":"The Frame Class","pos":[0,15]}]},{"content":"Both the browser and <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> are windows that host navigable content.","pos":[66703,66814],"source":"Both the browser and <xref:System.Windows.Navigation.NavigationWindow> are windows that host navigable content."},{"content":"In some cases, applications have content that does not need to be hosted by an entire window.","pos":[66815,66908]},{"content":"Instead, such content be hosted inside other content.","pos":[66909,66962]},{"content":"You can insert navigable content into other content by using the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> class.","pos":[66963,67071],"source":" You can insert navigable content into other content by using the <xref:System.Windows.Controls.Frame> class."},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> provides the same support as <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> and <ph id=\"ph3\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph>.","pos":[67072,67282],"source":"<xref:System.Windows.Controls.Frame> provides the same support as <xref:System.Windows.Navigation.NavigationWindow> and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]."},{"pos":[67289,67451],"content":"The following example shows how to add a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> to a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> declaratively by using the <ph id=\"ph3\">`Frame`</ph> element.","source":"The following example shows how to add a <xref:System.Windows.Controls.Frame> to a <xref:System.Windows.Controls.Page> declaratively by using the `Frame` element."},{"content":"This markup sets the <ph id=\"ph1\">`Source`</ph> attribute of the <ph id=\"ph2\">`Frame`</ph> element with a pack <ph id=\"ph3\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> for the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that the <ph id=\"ph5\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> should initially navigate to.","pos":[67993,68257],"source":"This markup sets the `Source` attribute of the `Frame` element with a pack [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] for the <xref:System.Windows.Controls.Page> that the <xref:System.Windows.Controls.Frame> should initially navigate to."},{"content":"The following figure shows an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> with a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that has a <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> that has navigated between several pages.","pos":[68258,68492],"source":" The following figure shows an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] with a <xref:System.Windows.Controls.Page> that has a <xref:System.Windows.Controls.Frame> that has navigated between several pages."},{"pos":[68499,68680],"content":"<bpt id=\"p1\">![</bpt>A frame that has navigated between multiple pages<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/frame-navigation-between-multiple-pages.png \"</bpt>This shows a frame navigation between multiple pages.<ept id=\"p2\">\")</ept>","source":"![A frame that has navigated between multiple pages](./media/navigation-overview/frame-navigation-between-multiple-pages.png \"This shows a frame navigation between multiple pages.\")"},{"content":"You don't only have to use <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> inside the content of a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Page&gt;</ph>.","pos":[68687,68811],"source":"You don't only have to use <xref:System.Windows.Controls.Frame> inside the content of a <xref:System.Windows.Controls.Page>."},{"content":"It is also common to host a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> inside the content of a <ph id=\"ph2\">&lt;xref:System.Windows.Window&gt;</ph>.","pos":[68812,68930],"source":" It is also common to host a <xref:System.Windows.Controls.Frame> inside the content of a <xref:System.Windows.Window>."},{"content":"By default, <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> only uses its own journal in the absence of another journal.","pos":[68937,69046],"source":"By default, <xref:System.Windows.Controls.Frame> only uses its own journal in the absence of another journal."},{"content":"If a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> is part of content that is hosted inside either a <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> or an <ph id=\"ph3\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph>, <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> uses the journal that belongs to the <ph id=\"ph5\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> or <ph id=\"ph6\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph>.","pos":[69047,69467],"source":" If a <xref:System.Windows.Controls.Frame> is part of content that is hosted inside either a <xref:System.Windows.Navigation.NavigationWindow> or an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], <xref:System.Windows.Controls.Frame> uses the journal that belongs to the <xref:System.Windows.Navigation.NavigationWindow> or [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]."},{"content":"Sometimes, though, a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> might need to be responsible for its own journal.","pos":[69468,69575],"source":" Sometimes, though, a <xref:System.Windows.Controls.Frame> might need to be responsible for its own journal."},{"content":"One reason to do so is to allow journal navigation within the pages that are hosted by a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph>.","pos":[69576,69702],"source":" One reason to do so is to allow journal navigation within the pages that are hosted by a <xref:System.Windows.Controls.Frame>."},{"content":"This is illustrated by the following figure.","pos":[69703,69747]},{"pos":[69754,69926],"content":"<bpt id=\"p1\">![</bpt>Frame and Page diagram<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/journal-navigation-within-pages-hosted-by-a-frame.png \"</bpt>This shows journal navigation within pages hosted by a frame.<ept id=\"p2\">\")</ept>","source":"![Frame and Page diagram](./media/navigation-overview/journal-navigation-within-pages-hosted-by-a-frame.png \"This shows journal navigation within pages hosted by a frame.\")"},{"content":"In this case, you can configure the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> to use its own journal by setting the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Frame.JournalOwnership%2A&gt;</ph> property of the <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> to <ph id=\"ph4\">&lt;xref:System.Windows.Navigation.JournalOwnership.OwnsJournal&gt;</ph>.","pos":[69933,70219],"source":"In this case, you can configure the <xref:System.Windows.Controls.Frame> to use its own journal by setting the <xref:System.Windows.Controls.Frame.JournalOwnership%2A> property of the <xref:System.Windows.Controls.Frame> to <xref:System.Windows.Navigation.JournalOwnership.OwnsJournal>."},{"content":"This is shown in the following markup.","pos":[70220,70258]},{"pos":[70890,71020],"content":"The following figure illustrates the effect of navigating within a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> that uses its own journal.","source":"The following figure illustrates the effect of navigating within a <xref:System.Windows.Controls.Frame> that uses its own journal."},{"pos":[71027,71203],"content":"<bpt id=\"p1\">![</bpt>A frame that uses its own journal<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/frame-uses-its-own-journal.png \"</bpt>This shows the effect of navigating within a frame that uses its own journal.<ept id=\"p2\">\")</ept>","source":"![A frame that uses its own journal](./media/navigation-overview/frame-uses-its-own-journal.png \"This shows the effect of navigating within a frame that uses its own journal.\")"},{"pos":[71210,71466],"content":"Notice that the journal entries are shown by the navigation <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> in the <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Frame&gt;</ph>, rather than by <ph id=\"ph3\">[!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]</ph>.","source":"Notice that the journal entries are shown by the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] in the <xref:System.Windows.Controls.Frame>, rather than by [!INCLUDE[TLA2#tla_ie](../../../../includes/tla2sharptla-ie-md.md)]."},{"pos":[71474,71769],"content":"[!NOTE]\n If a <xref:System.Windows.Controls.Frame> is part of content that is hosted in a <xref:System.Windows.Window>, <xref:System.Windows.Controls.Frame> uses its own journal and, consequently, displays its own navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].","leadings":["","> "],"nodes":[{"content":"If a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> is part of content that is hosted in a <ph id=\"ph2\">&lt;xref:System.Windows.Window&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> uses its own journal and, consequently, displays its own navigation <ph id=\"ph4\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph>.","pos":[9,293],"source":"If a <xref:System.Windows.Controls.Frame> is part of content that is hosted in a <xref:System.Windows.Window>, <xref:System.Windows.Controls.Frame> uses its own journal and, consequently, displays its own navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]."}]},{"content":"If your user experience requires a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> to provide its own journal without showing the navigation <ph id=\"ph2\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph>, you can hide the navigation <ph id=\"ph3\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> by setting the <ph id=\"ph4\">&lt;xref:System.Windows.Controls.Frame.NavigationUIVisibility%2A&gt;</ph> to <ph id=\"ph5\">&lt;xref:System.Windows.Visibility.Hidden&gt;</ph>.","pos":[71776,72192],"source":"If your user experience requires a <xref:System.Windows.Controls.Frame> to provide its own journal without showing the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], you can hide the navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] by setting the <xref:System.Windows.Controls.Frame.NavigationUIVisibility%2A> to <xref:System.Windows.Visibility.Hidden>."},{"content":"This is shown in the following markup.","pos":[72193,72231]},{"pos":[72900,72916],"content":"Navigation Hosts","linkify":"Navigation Hosts","nodes":[{"content":"Navigation Hosts","pos":[0,16]}]},{"content":"<ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> are classes that are known as navigation hosts.","pos":[72920,73058],"source":"<xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> are classes that are known as navigation hosts."},{"content":"A <bpt id=\"p1\">*</bpt>navigation host<ept id=\"p1\">*</ept> is a class that can navigate to and display content.","pos":[73059,73131],"source":" A *navigation host* is a class that can navigate to and display content."},{"content":"To accomplish this, each navigation host uses its own <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> and journal.","pos":[73132,73249],"source":" To accomplish this, each navigation host uses its own <xref:System.Windows.Navigation.NavigationService> and journal."},{"content":"The basic construction of a navigation host is shown in the following figure.","pos":[73250,73327]},{"pos":[73334,73459],"content":"<bpt id=\"p1\">![</bpt>Navigator diagrams<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/navigation-host-construction.png \"</bpt>Basic construction of a navigation host<ept id=\"p2\">\")</ept>","source":"![Navigator diagrams](./media/navigation-overview/navigation-host-construction.png \"Basic construction of a navigation host\")"},{"pos":[73466,73737],"content":"Essentially, this allows <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow&gt;</ph> and <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> to provide the same navigation support that an <ph id=\"ph3\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> provides when hosted in the browser.","source":"Essentially, this allows <xref:System.Windows.Navigation.NavigationWindow> and <xref:System.Windows.Controls.Frame> to provide the same navigation support that an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] provides when hosted in the browser."},{"content":"Besides using <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> and a journal, navigation hosts implement the same members that <ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationService&gt;</ph> implements.","pos":[73744,73935],"source":"Besides using <xref:System.Windows.Navigation.NavigationService> and a journal, navigation hosts implement the same members that <xref:System.Windows.Navigation.NavigationService> implements."},{"content":"This is illustrated by the following figure.","pos":[73936,73980]},{"pos":[73987,74127],"content":"<bpt id=\"p1\">![</bpt>A journal in a Frame and in a NavigationWindow<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/navigation-window-and-frame.png \"</bpt>Navigation Window and Frame<ept id=\"p2\">\")</ept>","source":"![A journal in a Frame and in a NavigationWindow](./media/navigation-overview/navigation-window-and-frame.png \"Navigation Window and Frame\")"},{"content":"This allows you to program navigation support directly against them.","pos":[74134,74202]},{"content":"You may consider this if you need to provide a custom navigation <ph id=\"ph1\">[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]</ph> for a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> that is hosted in a <ph id=\"ph3\">&lt;xref:System.Windows.Window&gt;</ph>.","pos":[74203,74428],"source":" You may consider this if you need to provide a custom navigation [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] for a <xref:System.Windows.Controls.Frame> that is hosted in a <xref:System.Windows.Window>."},{"content":"Furthermore, both types implement additional, navigation-related members, including <ph id=\"ph1\">`BackStack`</ph> (<ph id=\"ph2\">&lt;xref:System.Windows.Navigation.NavigationWindow.BackStack%2A?displayProperty=nameWithType&gt;</ph>, <ph id=\"ph3\">&lt;xref:System.Windows.Controls.Frame.BackStack%2A?displayProperty=nameWithType&gt;</ph>) and <ph id=\"ph4\">`ForwardStack`</ph> (<ph id=\"ph5\">&lt;xref:System.Windows.Navigation.NavigationWindow.ForwardStack%2A?displayProperty=nameWithType&gt;</ph>, <ph id=\"ph6\">&lt;xref:System.Windows.Controls.Frame.ForwardStack%2A?displayProperty=nameWithType&gt;</ph>), which allow you to enumerate the journal entries in the back stack and forward stack, respectively.","pos":[74429,74998],"source":" Furthermore, both types implement additional, navigation-related members, including `BackStack` (<xref:System.Windows.Navigation.NavigationWindow.BackStack%2A?displayProperty=nameWithType>, <xref:System.Windows.Controls.Frame.BackStack%2A?displayProperty=nameWithType>) and `ForwardStack` (<xref:System.Windows.Navigation.NavigationWindow.ForwardStack%2A?displayProperty=nameWithType>, <xref:System.Windows.Controls.Frame.ForwardStack%2A?displayProperty=nameWithType>), which allow you to enumerate the journal entries in the back stack and forward stack, respectively."},{"content":"As mentioned earlier, more than one journal can exist within an application.","pos":[75005,75081]},{"content":"The following figure provides an example of when this can happen.","pos":[75082,75147]},{"pos":[75154,75332],"content":"<bpt id=\"p1\">![</bpt>Multiple journals within one application<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/multiple-journals-in-one-application.png \"</bpt>This is an example of more than one journal in an application.<ept id=\"p2\">\")</ept>","source":"![Multiple journals within one application](./media/navigation-overview/multiple-journals-in-one-application.png \"This is an example of more than one journal in an application.\")"},{"pos":[75398,75441],"content":"Navigating to Content Other than XAML Pages","linkify":"Navigating to Content Other than XAML Pages","nodes":[{"content":"Navigating to Content Other than XAML Pages","pos":[0,43]}]},{"content":"Throughout this topic, <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> and pack <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> have been used to demonstrate the various navigation capabilities of <ph id=\"ph3\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph>.","pos":[75445,75742],"source":"Throughout this topic, <xref:System.Windows.Controls.Page> and pack [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] have been used to demonstrate the various navigation capabilities of [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]."},{"content":"However, a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> that is compiled into an application is not the only type of content that can be navigated to, and pack <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> aren't the only way to identify content.","pos":[75743,76024],"source":" However, a <xref:System.Windows.Controls.Page> that is compiled into an application is not the only type of content that can be navigated to, and pack [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] aren't the only way to identify content."},{"pos":[76031,76262],"content":"As this section demonstrates, you can also navigate to loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> files, <ph id=\"ph2\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph> files, and objects.","source":"As this section demonstrates, you can also navigate to loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files, [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] files, and objects."},{"pos":[76321,76351],"content":"Navigating to Loose XAML Files","linkify":"Navigating to Loose XAML Files","nodes":[{"content":"Navigating to Loose XAML Files","pos":[0,30]}]},{"pos":[76355,76485],"content":"A loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> file is a file with the following characteristics:","source":"A loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is a file with the following characteristics:"},{"pos":[76495,76600],"content":"Contains only <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> (that is, no code).","source":"Contains only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] (that is, no code)."},{"content":"Has an appropriate namespace declaration.","pos":[76610,76651]},{"content":"Has the .xaml file name extension.","pos":[76661,76695]},{"pos":[76702,76862],"content":"For example, consider the following content that is stored as a loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> file, Person.xaml.","source":"For example, consider the following content that is stored as a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, Person.xaml."},{"content":"When you double-click the file, the browser opens and navigates to and displays the content.","pos":[77025,77117]},{"content":"This is shown in the following figure.","pos":[77118,77156]},{"pos":[77163,77320],"content":"<bpt id=\"p1\">![</bpt>Display of the content in the Person.XAML file<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/contents-of-person-xaml-file.png \"</bpt>Shows the contents of the Person.XAML file.<ept id=\"p2\">\")</ept>","source":"![Display of the content in the Person.XAML file](./media/navigation-overview/contents-of-person-xaml-file.png \"Shows the contents of the Person.XAML file.\")"},{"pos":[77327,77447],"content":"You can display a loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> file from the following:","source":"You can display a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file from the following:"},{"content":"A Web site on the local machine, the intranet, or the Internet.","pos":[77457,77520]},{"pos":[77530,77611],"content":"A <ph id=\"ph1\">[!INCLUDE[TLA#tla_unc](../../../../includes/tlasharptla-unc-md.md)]</ph> file share.","source":"A [!INCLUDE[TLA#tla_unc](../../../../includes/tlasharptla-unc-md.md)] file share."},{"content":"The local disk.","pos":[77621,77636]},{"pos":[77643,77799],"content":"A loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> file can be added to the browser's favorites, or be the browser's home page.","source":"A loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file can be added to the browser's favorites, or be the browser's home page."},{"pos":[77807,78025],"content":"[!NOTE]\n For more information about publishing and launching loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages, see [Deploying a WPF Application](deploying-a-wpf-application-wpf.md).","leadings":["","> "],"nodes":[{"content":"For more information about publishing and launching loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> pages, see <bpt id=\"p1\">[</bpt>Deploying a WPF Application<ept id=\"p1\">](deploying-a-wpf-application-wpf.md)</ept>.","pos":[9,216],"source":"For more information about publishing and launching loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages, see [Deploying a WPF Application](deploying-a-wpf-application-wpf.md)."}]},{"content":"One limitation with respect to loose <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> is that you can only host content that is safe to run in partial trust.","pos":[78032,78212],"source":"One limitation with respect to loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is that you can only host content that is safe to run in partial trust."},{"content":"For example, <ph id=\"ph1\">`Window`</ph> cannot be the root element of a loose <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> file.","pos":[78213,78350],"source":" For example, `Window` cannot be the root element of a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WPF Partial Trust Security<ept id=\"p1\">](../wpf-partial-trust-security.md)</ept>.","pos":[78351,78440],"source":" For more information, see [WPF Partial Trust Security](../wpf-partial-trust-security.md)."},{"pos":[78505,78544],"content":"Navigating to HTML Files by Using Frame","linkify":"Navigating to HTML Files by Using Frame","nodes":[{"content":"Navigating to HTML Files by Using Frame","pos":[0,39]}]},{"content":"As you might expect, you can also navigate to <ph id=\"ph1\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph>.","pos":[78548,78666],"source":"As you might expect, you can also navigate to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]."},{"content":"You simply need to provide a <ph id=\"ph1\">[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]</ph> that uses the http scheme.","pos":[78667,78792],"source":" You simply need to provide a [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] that uses the http scheme."},{"content":"For example, the following <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</ph> shows a <ph id=\"ph2\">&lt;xref:System.Windows.Controls.Frame&gt;</ph> that navigates to an <ph id=\"ph3\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph> page.","pos":[78793,79035],"source":" For example, the following [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] shows a <xref:System.Windows.Controls.Frame> that navigates to an [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] page."},{"content":"Navigating to <ph id=\"ph1\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph> requires special permissions.","pos":[79226,79341],"source":"Navigating to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] requires special permissions."},{"content":"For example, you can't navigate from an <ph id=\"ph1\">[!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]</ph> that is running in the Internet zone partial trust security sandbox.","pos":[79342,79522],"source":" For example, you can't navigate from an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] that is running in the Internet zone partial trust security sandbox."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WPF Partial Trust Security<ept id=\"p1\">](../wpf-partial-trust-security.md)</ept>.","pos":[79523,79612],"source":" For more information, see [WPF Partial Trust Security](../wpf-partial-trust-security.md)."},{"pos":[79682,79738],"content":"Navigating to HTML Files by Using the WebBrowser Control","linkify":"Navigating to HTML Files by Using the WebBrowser Control","nodes":[{"content":"Navigating to HTML Files by Using the WebBrowser Control","pos":[0,56]}]},{"content":"The <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control supports <ph id=\"ph2\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph> document hosting, navigation and script/managed code interoperability.","pos":[79742,79947],"source":"The <xref:System.Windows.Controls.WebBrowser> control supports [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] document hosting, navigation and script/managed code interoperability."},{"content":"For detailed information regarding the <ph id=\"ph1\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> control, see <ph id=\"ph2\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph>.","pos":[79948,80084],"source":" For detailed information regarding the <xref:System.Windows.Controls.WebBrowser> control, see <xref:System.Windows.Controls.WebBrowser>."},{"content":"Like <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Frame&gt;</ph>, navigating to <ph id=\"ph2\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph> using <ph id=\"ph3\">&lt;xref:System.Windows.Controls.WebBrowser&gt;</ph> requires special permissions.","pos":[80091,80297],"source":"Like <xref:System.Windows.Controls.Frame>, navigating to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] using <xref:System.Windows.Controls.WebBrowser> requires special permissions."},{"content":"For example, from a partial-trust application, you can navigate only to <ph id=\"ph1\">[!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)]</ph> located at the site of origin.","pos":[80298,80472],"source":" For example, from a partial-trust application, you can navigate only to [!INCLUDE[TLA2#tla_html](../../../../includes/tla2sharptla-html-md.md)] located at the site of origin."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WPF Partial Trust Security<ept id=\"p1\">](../wpf-partial-trust-security.md)</ept>.","pos":[80473,80562],"source":" For more information, see [WPF Partial Trust Security](../wpf-partial-trust-security.md)."},{"pos":[80612,80640],"content":"Navigating to Custom Objects","linkify":"Navigating to Custom Objects","nodes":[{"content":"Navigating to Custom Objects","pos":[0,28]}]},{"content":"If you have data that is stored as custom objects, one way to display that data is to create a <ph id=\"ph1\">&lt;xref:System.Windows.Controls.Page&gt;</ph> with content that is bound to those objects (see <bpt id=\"p1\">[</bpt>Data Binding Overview<ept id=\"p1\">](../data/data-binding-overview.md)</ept>).","pos":[80644,80883],"source":"If you have data that is stored as custom objects, one way to display that data is to create a <xref:System.Windows.Controls.Page> with content that is bound to those objects (see [Data Binding Overview](../data/data-binding-overview.md))."},{"content":"If you don't need the overhead of creating an entire page just to display the objects, you can navigate directly to them instead.","pos":[80884,81013]},{"pos":[81020,81090],"content":"Consider the <ph id=\"ph1\">`Person`</ph> class that is implemented in the following code.","source":"Consider the `Person` class that is implemented in the following code."},{"pos":[81426,81595],"content":"To navigate to it, you call the <ph id=\"ph1\">&lt;xref:System.Windows.Navigation.NavigationWindow.Navigate%2A?displayProperty=nameWithType&gt;</ph> method, as demonstrated by the following code.","source":"To navigate to it, you call the <xref:System.Windows.Navigation.NavigationWindow.Navigate%2A?displayProperty=nameWithType> method, as demonstrated by the following code."},{"content":"The following figure shows the result.","pos":[82531,82569]},{"pos":[82576,82732],"content":"<bpt id=\"p1\">![</bpt>A page that navigates to a class<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/page-navigates-to-an-object.png \"</bpt>This is an example of a page that navigates to an object.<ept id=\"p2\">\")</ept>","source":"![A page that navigates to a class](./media/navigation-overview/page-navigates-to-an-object.png \"This is an example of a page that navigates to an object.\")"},{"content":"From this figure, you can see that nothing useful is displayed.","pos":[82739,82802]},{"content":"In fact, the value that is displayed is the return value of the <ph id=\"ph1\">`ToString`</ph> method for the <bpt id=\"p1\">**</bpt>Person<ept id=\"p1\">**</ept> object; by default, this is the only value that <ph id=\"ph2\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> can use to represent your object.","pos":[82803,83055],"source":" In fact, the value that is displayed is the return value of the `ToString` method for the **Person** object; by default, this is the only value that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] can use to represent your object."},{"content":"You could override the <ph id=\"ph1\">`ToString`</ph> method to return more meaningful information, although it will still only be a string value.","pos":[83056,83182],"source":" You could override the `ToString` method to return more meaningful information, although it will still only be a string value."},{"content":"One technique you can use that takes advantage of the presentation capabilities of <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> is to use a data template.","pos":[83183,83362],"source":" One technique you can use that takes advantage of the presentation capabilities of [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] is to use a data template."},{"content":"You can implement a data template that <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> can associate with an object of a particular type.","pos":[83363,83522],"source":" You can implement a data template that [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] can associate with an object of a particular type."},{"content":"The following code shows a data template for the <ph id=\"ph1\">`Person`</ph> object.","pos":[83523,83588],"source":" The following code shows a data template for the `Person` object."},{"content":"Here, the data template is associated with the <ph id=\"ph1\">`Person`</ph> type by using the <ph id=\"ph2\">`x:Type`</ph> markup extension in the <ph id=\"ph3\">`DataType`</ph> attribute.","pos":[83762,83890],"source":"Here, the data template is associated with the `Person` type by using the `x:Type` markup extension in the `DataType` attribute."},{"content":"The data template then binds <ph id=\"ph1\">`TextBlock`</ph> elements (see <ph id=\"ph2\">&lt;xref:System.Windows.Controls.TextBlock&gt;</ph>) to the properties of the <ph id=\"ph3\">`Person`</ph> class.","pos":[83891,84028],"source":" The data template then binds `TextBlock` elements (see <xref:System.Windows.Controls.TextBlock>) to the properties of the `Person` class."},{"content":"The following figure shows the updated appearance of the <ph id=\"ph1\">`Person`</ph> object.","pos":[84029,84102],"source":" The following figure shows the updated appearance of the `Person` object."},{"pos":[84109,84263],"content":"<bpt id=\"p1\">![</bpt>Navigating to a class that has a data template<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/navigation-overview/navigating-to-a-class.png \"</bpt>Navigating to a class that has a data template.<ept id=\"p2\">\")</ept>","source":"![Navigating to a class that has a data template](./media/navigation-overview/navigating-to-a-class.png \"Navigating to a class that has a data template.\")"},{"content":"An advantage of this technique is the consistency you gain by being able to reuse the data template to display your objects consistently anywhere in your application.","pos":[84270,84436]},{"pos":[84443,84551],"content":"For more information on data templates, see <bpt id=\"p1\">[</bpt>Data Templating Overview<ept id=\"p1\">](../data/data-templating-overview.md)</ept>.","source":"For more information on data templates, see [Data Templating Overview](../data/data-templating-overview.md)."},{"pos":[84587,84595],"content":"Security","linkify":"Security","nodes":[{"content":"Security","pos":[0,8]}]},{"content":"<ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> navigation support allows <ph id=\"ph2\">[!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]</ph> to be navigated to across the Internet, and it allows applications to host third-party content.","pos":[84599,84880],"source":"[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] navigation support allows [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] to be navigated to across the Internet, and it allows applications to host third-party content."},{"content":"To protect both applications and users from harmful behavior, <ph id=\"ph1\">[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</ph> provides a variety of security features that are discussed in <bpt id=\"p1\">[</bpt>Security<ept id=\"p1\">](../security-wpf.md)</ept> and <bpt id=\"p2\">[</bpt>WPF Partial Trust Security<ept id=\"p2\">](../wpf-partial-trust-security.md)</ept>.","pos":[84881,85173],"source":" To protect both applications and users from harmful behavior, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides a variety of security features that are discussed in [Security](../security-wpf.md) and [WPF Partial Trust Security](../wpf-partial-trust-security.md)."},{"pos":[85182,85190],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[85292,85361],"content":"<bpt id=\"p1\">[</bpt>Application Management Overview<ept id=\"p1\">](application-management-overview.md)</ept>","source":"[Application Management Overview](application-management-overview.md)"},{"pos":[85364,85403],"content":"<bpt id=\"p1\">[</bpt>Pack URIs in WPF<ept id=\"p1\">](pack-uris-in-wpf.md)</ept>","source":"[Pack URIs in WPF](pack-uris-in-wpf.md)"},{"pos":[85406,85473],"content":"<bpt id=\"p1\">[</bpt>Structured Navigation Overview<ept id=\"p1\">](structured-navigation-overview.md)</ept>","source":"[Structured Navigation Overview](structured-navigation-overview.md)"},{"pos":[85476,85543],"content":"<bpt id=\"p1\">[</bpt>Navigation Topologies Overview<ept id=\"p1\">](navigation-topologies-overview.md)</ept>","source":"[Navigation Topologies Overview](navigation-topologies-overview.md)"},{"pos":[85546,85590],"content":"<bpt id=\"p1\">[</bpt>How-to Topics<ept id=\"p1\">](navigation-how-to-topics.md)</ept>","source":"[How-to Topics](navigation-how-to-topics.md)"},{"pos":[85593,85658],"content":"<bpt id=\"p1\">[</bpt>Deploying a WPF Application<ept id=\"p1\">](deploying-a-wpf-application-wpf.md)</ept>","source":"[Deploying a WPF Application](deploying-a-wpf-application-wpf.md)"}]}