{"content":"---\ntitle: \"Discovery Versioning | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-clr\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\nms.assetid: f91c6d0a-3af2-45c5-9a5c-e75390619836\ncaps.latest.revision: 10\nauthor: \"Erikre\"\nms.author: \"erikre\"\nmanager: \"erikre\"\n---\n# Discovery Versioning\nThis topic provides a brief overview of the implementation of some new discovery features. It also gives an overview on how to select the discovery version to use.  \n  \n## Discovery Versioning  \n The discovery feature includes support for three versions of the WS_Discovery protocol. The discovery APIs allow you to select which version of the protocol you want to use. This document briefly describes the versioning-related settings.  \n  \n The following Discovery classes now have a <xref:System.ServiceModel.Discovery.DiscoveryVersion> property and take a <xref:System.ServiceModel.Discovery.DiscoveryVersion> argument in their constructors:  \n  \n-   <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>  \n  \n-   <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>  \n  \n-   <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>  \n  \n-   <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint>  \n  \n### DiscoveryVersion.WSDiscoveryApril2005  \n Providing<xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscoveryApril2005> as a constructor parameter makes the implementation use the April2005 version of the WS-Discovery protocol. This version corresponds to the published version of the WS-Discovery protocol specification. This version should be used to interoperate with legacy application utilizing the April2005 version of WS-Discovery.  \n  \n### DiscoveryVersion.WSDiscovery11  \n The default discovery version used by the APIs is<xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscovery11>. This is the current standardized version of the WS-Discovery protocol.  \n  \n## DiscoveryVersion.WSDiscoveryCD1  \n Providing <xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscoveryCD1> as a constructor parameter makes the implementation use the committee draft 1 version of the WS-Discovery protocol. This version of the protocol should be used to interoperate with implementations running the CD1 version of the WS-Discovery protocol.  \n  \n## Supporting Multiple UDP Discovery Endpoints for Different Discovery Versions on a Single Service Host  \n You may want to expose multiple UDP Discovery Endpoints for different discovery versions on a single service host. To do this you must specify a unique address for each UDP discovery endpoint. The following example shows how to do this.  \n  \n```  \nUdpDiscoveryEndpoint newVersionUdpEndpoint = new UdpDiscoveryEndpoint(DiscoveryVersion.WSDiscovery11);  \nUdpDiscoveryEndpoint oldVersionUdpEndpoint = new UdpDiscoveryEndpoint(DiscoveryVersion.WSDiscoveryApril2005);  \n  \nnewVersionUdpEndpoint.Address = new EndpointAddress(newVersionUdpEndpoint.Address.Uri.ToString() + \"/version11\");  \noldVersionUdpEndpoint.Address = new EndpointAddress(oldVersionUdpEndpoint.Address.Uri.ToString() + \"/versionAril2005\");  \n  \nserviceHost.AddServiceEndpoint(newVersionUdpEndpoint);  \nserviceHost.AddServiceEndpoint(oldVersionUdpEndpoint);  \n  \n```","nodes":[{"pos":[12,49],"content":"Discovery Versioning | Microsoft Docs","needQuote":false,"needEscape":true,"nodes":[{"content":"Discovery Versioning | Microsoft Docs","pos":[0,37]}]},{"pos":[348,368],"content":"Discovery Versioning","linkify":"Discovery Versioning","nodes":[{"content":"Discovery Versioning","pos":[0,20]}]},{"content":"This topic provides a brief overview of the implementation of some new discovery features.","pos":[369,459]},{"content":"It also gives an overview on how to select the discovery version to use.","pos":[460,532]},{"pos":[541,561],"content":"Discovery Versioning","linkify":"Discovery Versioning","nodes":[{"content":"Discovery Versioning","pos":[0,20]}]},{"content":"The discovery feature includes support for three versions of the WS_Discovery protocol.","pos":[565,652]},{"content":"The discovery APIs allow you to select which version of the protocol you want to use.","pos":[653,738]},{"content":"This document briefly describes the versioning-related settings.","pos":[739,803]},{"content":"The following Discovery classes now have a <ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.DiscoveryVersion&gt;</ph> property and take a <ph id=\"ph2\">&lt;xref:System.ServiceModel.Discovery.DiscoveryVersion&gt;</ph> argument in their constructors:","pos":[810,1012],"source":"The following Discovery classes now have a <xref:System.ServiceModel.Discovery.DiscoveryVersion> property and take a <xref:System.ServiceModel.Discovery.DiscoveryVersion> argument in their constructors:"},{"pos":[1290,1327],"content":"DiscoveryVersion.WSDiscoveryApril2005","linkify":"DiscoveryVersion.WSDiscoveryApril2005","nodes":[{"content":"DiscoveryVersion.WSDiscoveryApril2005","pos":[0,37]}]},{"content":"Providing<ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscoveryApril2005&gt;</ph> as a constructor parameter makes the implementation use the April2005 version of the WS-Discovery protocol.","pos":[1331,1522],"source":"Providing<xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscoveryApril2005> as a constructor parameter makes the implementation use the April2005 version of the WS-Discovery protocol."},{"content":"This version corresponds to the published version of the WS-Discovery protocol specification.","pos":[1523,1616]},{"content":"This version should be used to interoperate with legacy application utilizing the April2005 version of WS-Discovery.","pos":[1617,1733]},{"pos":[1743,1773],"content":"DiscoveryVersion.WSDiscovery11","linkify":"DiscoveryVersion.WSDiscovery11","nodes":[{"content":"DiscoveryVersion.WSDiscovery11","pos":[0,30]}]},{"content":"The default discovery version used by the APIs is<ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscovery11&gt;</ph>.","pos":[1777,1894],"source":"The default discovery version used by the APIs is<xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscovery11>."},{"content":"This is the current standardized version of the WS-Discovery protocol.","pos":[1895,1965]},{"pos":[1974,2005],"content":"DiscoveryVersion.WSDiscoveryCD1","linkify":"DiscoveryVersion.WSDiscoveryCD1","nodes":[{"content":"DiscoveryVersion.WSDiscoveryCD1","pos":[0,31]}]},{"content":"Providing <ph id=\"ph1\">&lt;xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscoveryCD1&gt;</ph> as a constructor parameter makes the implementation use the committee draft 1 version of the WS-Discovery protocol.","pos":[2009,2203],"source":"Providing <xref:System.ServiceModel.Discovery.DiscoveryVersion.WSDiscoveryCD1> as a constructor parameter makes the implementation use the committee draft 1 version of the WS-Discovery protocol."},{"content":"This version of the protocol should be used to interoperate with implementations running the CD1 version of the WS-Discovery protocol.","pos":[2204,2338]},{"pos":[2347,2448],"content":"Supporting Multiple UDP Discovery Endpoints for Different Discovery Versions on a Single Service Host","linkify":"Supporting Multiple UDP Discovery Endpoints for Different Discovery Versions on a Single Service Host","nodes":[{"content":"Supporting Multiple UDP Discovery Endpoints for Different Discovery Versions on a Single Service Host","pos":[0,101]}]},{"content":"You may want to expose multiple UDP Discovery Endpoints for different discovery versions on a single service host.","pos":[2452,2566]},{"content":"To do this you must specify a unique address for each UDP discovery endpoint.","pos":[2567,2644]},{"content":"The following example shows how to do this.","pos":[2645,2688]}]}