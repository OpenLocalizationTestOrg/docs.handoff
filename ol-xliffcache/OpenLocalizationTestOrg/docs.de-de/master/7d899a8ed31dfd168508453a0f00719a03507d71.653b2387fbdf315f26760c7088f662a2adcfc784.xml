{"content":"---\ntitle: \"How to: Assign User Information to Group Connections | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nms.assetid: 7ce550d6-8f7c-4ea7-add8-5bc27a7b51be\ncaps.latest.revision: 9\nauthor: \"mcleblanc\"\nms.author: \"markl\"\nmanager: \"markl\"\n---\n# How to: Assign User Information to Group Connections\n\n  \n The following example demonstrates how to assign user information to group connections, assuming that the application sets the variables *UserName*, *SecurelyStoredPassword*, and *Domain* before this section of code is called and that *UserName* is unique.  \n  \n### To assign user information to a group connection  \n  \n1.  Create a connection group name.  \n  \n    ```csharp  \n    SHA1Managed Sha1 = new SHA1Managed();  \n    Byte[] updHash = Sha1.ComputeHash(Encoding.UTF8.GetBytes(UserName + SecurelyStoredPassword + Domain));  \n    String secureGroupName = Encoding.Default.GetString(updHash);  \n    ```  \n  \n    ```vb  \n    Dim Sha1 As New SHA1Managed()  \n    Dim updHash As [Byte]() = Sha1.ComputeHash(Encoding.UTF8.GetBytes((UserName + SecurelyStoredPassword + Domain)))  \n    Dim secureGroupName As [String] = Encoding.Default.GetString(updHash)  \n    ```  \n  \n2.  Create a request for a specific URL. For example, the following code creates a request for the URL `http://www.contoso.com.`  \n  \n    ```csharp  \n    WebRequest myWebRequest=WebRequest.Create(\"http://www.contoso.com\");  \n    ```  \n  \n    ```vb  \n    Dim myWebRequest As WebRequest = WebRequest.Create(\"http://www.contoso.com\")  \n    ```  \n  \n3.  Set the credentials and Connection GroupName for the Web request, and call **GetResponse** to retrieve a **WebResponse** object.  \n  \n    ```csharp  \n    myWebRequest.Credentials = new NetworkCredential(UserName, SecurelyStoredPassword, Domain);   \n    myWebRequest.ConnectionGroupName = secureGroupName;  \n  \n    WebResponse myWebResponse=myWebRequest.GetResponse();  \n    ```  \n  \n    ```vb  \n    myWebRequest.Credentials = New NetworkCredential(UserName, SecurelyStoredPassword, Domain)  \n    myWebRequest.ConnectionGroupName = secureGroupName  \n  \n    Dim myWebResponse As WebResponse = myWebRequest.GetResponse()  \n  \n    ```  \n  \n4.  Close the response stream after using the WebRespose object.  \n  \n    ```csharp  \n    MyWebResponse.Close();  \n  \n    ```  \n  \n    ```vb  \n    MyWebResponse.Close()  \n    ```  \n  \n Example  \n  \n```csharp  \n// Create a connection group name.  \nSHA1Managed Sha1 = new SHA1Managed();  \nByte[] updHash = Sha1.ComputeHash(Encoding.UTF8.GetBytes(UserName + SecurelyStoredPassword + Domain));  \nString secureGroupName = Encoding.Default.GetString(updHash);  \n  \n// Create a request for a specific URL.  \nWebRequest myWebRequest=WebRequest.Create(\"http://www.contoso.com\");  \n  \nmyWebRequest.Credentials = new NetworkCredential(UserName, SecurelyStoredPassword, Domain);   \nmyWebRequest.ConnectionGroupName = secureGroupName;  \n  \nWebResponse myWebResponse=myWebRequest.GetResponse();  \n  \n// Insert the code that uses myWebResponse.  \n  \nMyWebResponse.Close();  \n  \n```  \n  \n```vb  \n' Create a secure group name.  \nDim Sha1 As New SHA1Managed()  \nDim updHash As [Byte]() = Sha1.ComputeHash(Encoding.UTF8.GetBytes((UserName + SecurelyStoredPassword + Domain)))  \nDim secureGroupName As [String] = Encoding.Default.GetString(updHash)  \n  \n' Create a request for a specific URL.  \nDim myWebRequest As WebRequest = WebRequest.Create(\"http://www.contoso.com\")  \n  \nmyWebRequest.Credentials = New NetworkCredential(UserName, SecurelyStoredPassword, Domain)  \nmyWebRequest.ConnectionGroupName = secureGroupName  \n  \nDim myWebResponse As WebResponse = myWebRequest.GetResponse()  \n  \n' Insert the code that uses myWebResponse.  \nMyWebResponse.Close()  \n```  \n  \n## See Also  \n [Managing Connections](../../../docs/framework/network-programming/managing-connections.md)   \n [Connection Grouping](../../../docs/framework/network-programming/connection-grouping.md)","nodes":[{"pos":[4,397],"nodes":[{"content":"How to: Assign User Information to Group Connections | Microsoft Docs","nodes":[{"pos":[0,69],"content":"How to: Assign User Information to Group Connections | Microsoft Docs","nodes":[{"content":"How to: Assign User Information to Group Connections | Microsoft Docs","pos":[0,69]}]}],"pos":[6,78],"yaml":true}],"content":"title: \"How to: Assign User Information to Group Connections | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\n  - \"jsharp\"\nms.assetid: 7ce550d6-8f7c-4ea7-add8-5bc27a7b51be\ncaps.latest.revision: 9\nauthor: \"mcleblanc\"\nms.author: \"markl\"\nmanager: \"markl\"","yamlblock":true},{"pos":[404,456],"content":"How to: Assign User Information to Group Connections","linkify":"How to: Assign User Information to Group Connections","nodes":[{"content":"How to: Assign User Information to Group Connections","pos":[0,52]}]},{"pos":[462,718],"content":"The following example demonstrates how to assign user information to group connections, assuming that the application sets the variables <bpt id=\"p1\">*</bpt>UserName<ept id=\"p1\">*</ept>, <bpt id=\"p2\">*</bpt>SecurelyStoredPassword<ept id=\"p2\">*</ept>, and <bpt id=\"p3\">*</bpt>Domain<ept id=\"p3\">*</ept> before this section of code is called and that <bpt id=\"p4\">*</bpt>UserName<ept id=\"p4\">*</ept> is unique.","source":"The following example demonstrates how to assign user information to group connections, assuming that the application sets the variables *UserName*, *SecurelyStoredPassword*, and *Domain* before this section of code is called and that *UserName* is unique."},{"pos":[728,776],"content":"To assign user information to a group connection","linkify":"To assign user information to a group connection","nodes":[{"content":"To assign user information to a group connection","pos":[0,48]}]},{"content":"Create a connection group name.","pos":[786,817]},{"content":"Create a request for a specific URL.","pos":[1333,1369]},{"content":"For example, the following code creates a request for the URL <ph id=\"ph1\">`http://www.contoso.com.`</ph>","pos":[1370,1457],"source":" For example, the following code creates a request for the URL `http://www.contoso.com.`"},{"pos":[1679,1807],"content":"Set the credentials and Connection GroupName for the Web request, and call <bpt id=\"p1\">**</bpt>GetResponse<ept id=\"p1\">**</ept> to retrieve a <bpt id=\"p2\">**</bpt>WebResponse<ept id=\"p2\">**</ept> object.","source":"Set the credentials and Connection GroupName for the Web request, and call **GetResponse** to retrieve a **WebResponse** object."},{"content":"Close the response stream after using the WebRespose object.","pos":[2319,2379]},{"content":"Example","pos":[2500,2507]},{"pos":[3869,3877],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"content":"<bpt id=\"p1\">[</bpt>Managing Connections<ept id=\"p1\">](../../../docs/framework/network-programming/managing-connections.md)</ept><ph id=\"ph1\"> </ph>","pos":[3881,3973],"source":"[Managing Connections](../../../docs/framework/network-programming/managing-connections.md) "},{"content":"<bpt id=\"p1\">[</bpt>Connection Grouping<ept id=\"p1\">](../../../docs/framework/network-programming/connection-grouping.md)</ept>","pos":[3977,4066],"source":"[Connection Grouping](../../../docs/framework/network-programming/connection-grouping.md)"}]}