{"content":"---\ntitle: \"ICorDebugCode3::GetReturnValueLiveOffset Method\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"cpp\"\napi_name: \n  - \"ICorDebugCode3.GetReturnValueLiveOffset\"\napi_location: \n  - \"mscordbi.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICorDebugCode3::GetReturnValueLiveOffset\"\nhelpviewer_keywords: \n  - \"ICorDebugCode3::GetReturnValueLiveOffset method [.NET Framework debugging]\"\n  - \"GetReturnValueLiveOffset method [.NET Framework debugging]\"\nms.assetid: 8c2ff5d8-8c04-4423-b1e1-e1c8764b36d3\ntopic_type: \n  - \"apiref\"\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"\n---\n# ICorDebugCode3::GetReturnValueLiveOffset Method\nFor a specified IL offset, gets the native offsets where a breakpoint should be placed so that the debugger can obtain the return value from a function.  \n  \n## Syntax  \n  \n```cpp\nHRESULT GetReturnValueLiveOffset(  \n    [in] ULONG32 ILoffset,  \n    [in] ULONG32 bufferSize,   \n    [out] ULONG32 *pFetched,   \n    [out, size_is(buffersize), length_is(*pFetched)] ULong32 pOffsets[]  \n);  \n```  \n  \n## Parameters  \n `ILoffset`  \n The IL offset. It must be a function call site or the function call will fail.  \n  \n `bufferSize`  \n The number of bytes available to store `pOffsets`.  \n  \n `pFetched`  \n A pointer to the number of offsets actually returned. Usually, its value is 1, but a single IL instruction can map to multiple `CALL` assembly instructions.  \n  \n `pOffsets`  \n An array of native offsets. Typically, `pOffsets` contains a single offset, although a single IL instruction can map to multiple map to multiple `CALL` assembly instructions.  \n  \n## Remarks  \n This method is used along with the [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) method to get the return value of a method that returns a reference type. Passing an IL offset to a function call site to this method returns one or more native offsets. The debugger can then set breakpoints on these native offsets in the function. When the debugger hits one of the breakpoints, you can then pass the same IL offset that you passed to this method to the [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) method to get the return value. The debugger should then clear all the breakpoints that it set.  \n  \n> [!WARNING]\n>  The `ICorDebugCode3::GetReturnValueLiveOffset` and [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) methods allow you to get return value information for reference types only. Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported.  \n  \n The function returns the `HRESULT` values shown in the following table.  \n  \n|`HRESULT` value|Description|  \n|---------------------|-----------------|  \n|`S_OK`|Success.|  \n|`CORDBG_E_INVALID_OPCODE`|The given IL offset site is not a call instruction, or the function returns `void`.|  \n|`CORDBG_E_UNSUPPORTED`|The given IL offset is a proper call, but the return type is unsupported for getting a return value.|  \n  \n The `ICorDebugCode3::GetReturnValueLiveOffset` method is available only on x86-based and AMD64 systems.  \n  \n## Requirements  \n **Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).  \n  \n **Header:** CorDebug.idl, CorDebug.h  \n  \n **Library:** CorGuids.lib  \n  \n **.NET Framework Versions:** [!INCLUDE[net_current_v451plus](../../../../includes/net-current-v451plus-md.md)]  \n  \n## See also\n\n- [GetReturnValueForILOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md)\n- [ICorDebugCode3 Interface](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-interface.md)\n","nodes":[{"pos":[4,560],"embed":true,"restype":"x-metadata","content":"title: \"ICorDebugCode3::GetReturnValueLiveOffset Method\"\nms.date: \"03/30/2017\"\ndev_langs: \n  - \"cpp\"\napi_name: \n  - \"ICorDebugCode3.GetReturnValueLiveOffset\"\napi_location: \n  - \"mscordbi.dll\"\napi_type: \n  - \"COM\"\nf1_keywords: \n  - \"ICorDebugCode3::GetReturnValueLiveOffset\"\nhelpviewer_keywords: \n  - \"ICorDebugCode3::GetReturnValueLiveOffset method [.NET Framework debugging]\"\n  - \"GetReturnValueLiveOffset method [.NET Framework debugging]\"\nms.assetid: 8c2ff5d8-8c04-4423-b1e1-e1c8764b36d3\ntopic_type: \n  - \"apiref\"\nauthor: \"rpetrusha\"\nms.author: \"ronpet\"","nodes":[{"content":"ICorDebugCode3::GetReturnValueLiveOffset Method","nodes":[{"pos":[0,47],"content":"ICorDebugCode3::GetReturnValueLiveOffset Method","nodes":[{"content":"ICorDebugCode3::GetReturnValueLiveOffset Method","pos":[0,47]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[567,614],"content":"ICorDebugCode3::GetReturnValueLiveOffset Method","linkify":"ICorDebugCode3::GetReturnValueLiveOffset Method","nodes":[{"content":"ICorDebugCode3::GetReturnValueLiveOffset Method","pos":[0,47]}]},{"content":"For a specified IL offset, gets the native offsets where a breakpoint should be placed so that the debugger can obtain the return value from a function.","pos":[615,767]},{"pos":[776,782],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[1015,1025],"content":"Parameters","linkify":"Parameters","nodes":[{"content":"Parameters","pos":[0,10]}]},{"content":"The IL offset.","pos":[1043,1057]},{"content":"It must be a function call site or the function call will fail.","pos":[1058,1121]},{"content":"The number of bytes available to store <ph id=\"ph1\">`pOffsets`</ph>.","pos":[1144,1194],"source":"The number of bytes available to store `pOffsets`."},{"content":"A pointer to the number of offsets actually returned.","pos":[1215,1268]},{"content":"Usually, its value is 1, but a single IL instruction can map to multiple <ph id=\"ph1\">`CALL`</ph> assembly instructions.","pos":[1269,1371],"source":" Usually, its value is 1, but a single IL instruction can map to multiple `CALL` assembly instructions."},{"content":"An array of native offsets.","pos":[1392,1419]},{"content":"Typically, <ph id=\"ph1\">`pOffsets`</ph> contains a single offset, although a single IL instruction can map to multiple map to multiple <ph id=\"ph2\">`CALL`</ph> assembly instructions.","pos":[1420,1566],"source":" Typically, `pOffsets` contains a single offset, although a single IL instruction can map to multiple map to multiple `CALL` assembly instructions."},{"pos":[1575,1582],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"This method is used along with the <bpt id=\"p1\">[</bpt>ICorDebugILFrame3::GetReturnValueForILOffset<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md)</ept> method to get the return value of a method that returns a reference type.","pos":[1586,1847],"source":"This method is used along with the [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) method to get the return value of a method that returns a reference type."},{"content":"Passing an IL offset to a function call site to this method returns one or more native offsets.","pos":[1848,1943]},{"content":"The debugger can then set breakpoints on these native offsets in the function.","pos":[1944,2022]},{"content":"When the debugger hits one of the breakpoints, you can then pass the same IL offset that you passed to this method to the <bpt id=\"p1\">[</bpt>ICorDebugILFrame3::GetReturnValueForILOffset<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md)</ept> method to get the return value.","pos":[2023,2329],"source":" When the debugger hits one of the breakpoints, you can then pass the same IL offset that you passed to this method to the [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) method to get the return value."},{"content":"The debugger should then clear all the breakpoints that it set.","pos":[2330,2393]},{"pos":[2401,2827],"content":"[!WARNING]\n The `ICorDebugCode3::GetReturnValueLiveOffset` and [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) methods allow you to get return value information for reference types only. Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported.","leadings":["","> "],"nodes":[{"content":"The `ICorDebugCode3::GetReturnValueLiveOffset` and [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) methods allow you to get return value information for reference types only. Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported.","pos":[12,424],"nodes":[{"content":"The <ph id=\"ph1\">`ICorDebugCode3::GetReturnValueLiveOffset`</ph> and <bpt id=\"p1\">[</bpt>ICorDebugILFrame3::GetReturnValueForILOffset<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md)</ept> methods allow you to get return value information for reference types only.","pos":[0,279],"source":"The `ICorDebugCode3::GetReturnValueLiveOffset` and [ICorDebugILFrame3::GetReturnValueForILOffset](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md) methods allow you to get return value information for reference types only."},{"content":"Retrieving return value information from value types (that is, all types that derive from <ph id=\"ph1\">&lt;xref:System.ValueType&gt;</ph>) is not supported.","pos":[280,412],"source":" Retrieving return value information from value types (that is, all types that derive from <xref:System.ValueType>) is not supported."}]}]},{"pos":[2834,2905],"content":"The function returns the <ph id=\"ph1\">`HRESULT`</ph> values shown in the following table.","source":"The function returns the `HRESULT` values shown in the following table."},{"pos":[2912,2927],"content":"<ph id=\"ph1\">`HRESULT`</ph> value","source":"`HRESULT` value"},{"content":"Description","pos":[2928,2939]},{"content":"Success.","pos":[2995,3003]},{"pos":[3034,3117],"content":"The given IL offset site is not a call instruction, or the function returns <ph id=\"ph1\">`void`</ph>.","source":"The given IL offset site is not a call instruction, or the function returns `void`."},{"content":"The given IL offset is a proper call, but the return type is unsupported for getting a return value.","pos":[3145,3245]},{"pos":[3253,3356],"content":"The <ph id=\"ph1\">`ICorDebugCode3::GetReturnValueLiveOffset`</ph> method is available only on x86-based and AMD64 systems.","source":"The `ICorDebugCode3::GetReturnValueLiveOffset` method is available only on x86-based and AMD64 systems."},{"pos":[3365,3377],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"pos":[3381,3485],"content":"<bpt id=\"p1\">**</bpt>Platforms:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>System Requirements<ept id=\"p2\">](../../../../docs/framework/get-started/system-requirements.md)</ept>.","source":"**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md)."},{"pos":[3492,3528],"content":"<bpt id=\"p1\">**</bpt>Header:<ept id=\"p1\">**</ept> CorDebug.idl, CorDebug.h","source":"**Header:** CorDebug.idl, CorDebug.h"},{"pos":[3535,3560],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> CorGuids.lib","source":"**Library:** CorGuids.lib"},{"pos":[3567,3677],"content":"<bpt id=\"p1\">**</bpt>.NET Framework Versions:<ept id=\"p1\">**</ept> <ph id=\"ph1\">[!INCLUDE[net_current_v451plus](../../../../includes/net-current-v451plus-md.md)]</ph>","source":"**.NET Framework Versions:** [!INCLUDE[net_current_v451plus](../../../../includes/net-current-v451plus-md.md)]"},{"pos":[3686,3694],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[3698,3838],"content":"<bpt id=\"p1\">[</bpt>GetReturnValueForILOffset Method<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md)</ept>","source":"[GetReturnValueForILOffset Method](../../../../docs/framework/unmanaged-api/debugging/icordebugilframe3-getreturnvalueforiloffset-method.md)"},{"pos":[3841,3947],"content":"<bpt id=\"p1\">[</bpt>ICorDebugCode3 Interface<ept id=\"p1\">](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-interface.md)</ept>","source":"[ICorDebugCode3 Interface](../../../../docs/framework/unmanaged-api/debugging/icordebugcode3-interface.md)"}]}