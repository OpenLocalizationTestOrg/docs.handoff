{"content":"---\ntitle: \"Entity References are Preserved\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 000a6cae-5972-40d6-bd6c-a9b7d9649b3c\nauthor: \"mairaw\"\nms.author: \"mairaw\"\n---\n# Entity References are Preserved\nWhen the entity reference is not expanded, but preserved, the XML Document Object Model (DOM) builds an **XmlEntityReference** node when it encounters an entity reference.  \n  \n Using the following XML,  \n  \n```xml  \n<author>Fred</author>  \n<pubinfo>Published by &publisher;</pubinfo>  \n```  \n  \n the DOM builds an **XmlEntityReference** node when it encounters the `&publisher;` reference. The **XmlEntityReference** contains child nodes copied from the content in the entity declaration. The preceding code example contains text in the entity declaration, so an **XmlText** node is created as the child node of the entity reference node.  \n  \n ![Tree structure for preserved entity references](../../../../docs/standard/data/xml/media/xmlentityref-notexpanded-nodes.gif \"xmlentityref_notexpanded_nodes\")  \nTree structure for entity references that are preserved  \n  \n The child nodes of the **XmlEntityReference** are copies of all the child nodes created from the **XmlEntity** node when the entity declaration was encountered.  \n  \n> [!NOTE]\n>  The nodes copied from the **XmlEntity** are not always exact copies once placed under the entity reference node. There can be namespaces that are in scope at the entity reference node, and that affects the final configuration of the child nodes.  \n  \n By default, general entities like `&abc;` are preserved and **XmlEntityReference** nodes always created.  \n  \n## See also\n\n- [XML Document Object Model (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)\n","nodes":[{"pos":[4,183],"embed":true,"restype":"x-metadata","content":"title: \"Entity References are Preserved\"\nms.date: \"03/30/2017\"\nms.technology: dotnet-standard\nms.assetid: 000a6cae-5972-40d6-bd6c-a9b7d9649b3c\nauthor: \"mairaw\"\nms.author: \"mairaw\"","nodes":[{"content":"Entity References are Preserved","nodes":[{"pos":[0,31],"content":"Entity References are Preserved","nodes":[{"content":"Entity References are Preserved","pos":[0,31]}]}],"path":["title"],"nosxs":false}],"yml":true},{"pos":[190,221],"content":"Entity References are Preserved","linkify":"Entity References are Preserved","nodes":[{"content":"Entity References are Preserved","pos":[0,31]}]},{"pos":[222,393],"content":"When the entity reference is not expanded, but preserved, the XML Document Object Model (DOM) builds an <bpt id=\"p1\">**</bpt>XmlEntityReference<ept id=\"p1\">**</ept> node when it encounters an entity reference.","source":"When the entity reference is not expanded, but preserved, the XML Document Object Model (DOM) builds an **XmlEntityReference** node when it encounters an entity reference."},{"content":"Using the following XML,","pos":[400,424]},{"content":"the DOM builds an <bpt id=\"p1\">**</bpt>XmlEntityReference<ept id=\"p1\">**</ept> node when it encounters the <ph id=\"ph1\">`&amp;publisher;`</ph> reference.","pos":[519,612],"source":"the DOM builds an **XmlEntityReference** node when it encounters the `&publisher;` reference."},{"content":"The <bpt id=\"p1\">**</bpt>XmlEntityReference<ept id=\"p1\">**</ept> contains child nodes copied from the content in the entity declaration.","pos":[613,711],"source":" The **XmlEntityReference** contains child nodes copied from the content in the entity declaration."},{"content":"The preceding code example contains text in the entity declaration, so an <bpt id=\"p1\">**</bpt>XmlText<ept id=\"p1\">**</ept> node is created as the child node of the entity reference node.","pos":[712,861],"source":" The preceding code example contains text in the entity declaration, so an **XmlText** node is created as the child node of the entity reference node."},{"content":"<bpt id=\"p1\">![</bpt>Tree structure for preserved entity references<ept id=\"p1\">]</ept><bpt id=\"p2\">(../../../../docs/standard/data/xml/media/xmlentityref-notexpanded-nodes.gif \"</bpt>xmlentityref_notexpanded_nodes<ept id=\"p2\">\")</ept>","pos":[868,1027],"source":"![Tree structure for preserved entity references](../../../../docs/standard/data/xml/media/xmlentityref-notexpanded-nodes.gif \"xmlentityref_notexpanded_nodes\")"},{"content":"Tree structure for entity references that are preserved","pos":[1030,1085]},{"pos":[1092,1252],"content":"The child nodes of the <bpt id=\"p1\">**</bpt>XmlEntityReference<ept id=\"p1\">**</ept> are copies of all the child nodes created from the <bpt id=\"p2\">**</bpt>XmlEntity<ept id=\"p2\">**</ept> node when the entity declaration was encountered.","source":"The child nodes of the **XmlEntityReference** are copies of all the child nodes created from the **XmlEntity** node when the entity declaration was encountered."},{"pos":[1260,1516],"content":"[!NOTE]\n The nodes copied from the **XmlEntity** are not always exact copies once placed under the entity reference node. There can be namespaces that are in scope at the entity reference node, and that affects the final configuration of the child nodes.","leadings":["","> "],"nodes":[{"content":"The nodes copied from the **XmlEntity** are not always exact copies once placed under the entity reference node. There can be namespaces that are in scope at the entity reference node, and that affects the final configuration of the child nodes.","pos":[9,254],"nodes":[{"content":"The nodes copied from the <bpt id=\"p1\">**</bpt>XmlEntity<ept id=\"p1\">**</ept> are not always exact copies once placed under the entity reference node.","pos":[0,112],"source":"The nodes copied from the **XmlEntity** are not always exact copies once placed under the entity reference node."},{"content":"There can be namespaces that are in scope at the entity reference node, and that affects the final configuration of the child nodes.","pos":[113,245]}]}]},{"pos":[1523,1627],"content":"By default, general entities like <ph id=\"ph1\">`&amp;abc;`</ph> are preserved and <bpt id=\"p1\">**</bpt>XmlEntityReference<ept id=\"p1\">**</ept> nodes always created.","source":"By default, general entities like `&abc;` are preserved and **XmlEntityReference** nodes always created."},{"pos":[1636,1644],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[1648,1750],"content":"<bpt id=\"p1\">[</bpt>XML Document Object Model (DOM)<ept id=\"p1\">](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)</ept>","source":"[XML Document Object Model (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)"}]}