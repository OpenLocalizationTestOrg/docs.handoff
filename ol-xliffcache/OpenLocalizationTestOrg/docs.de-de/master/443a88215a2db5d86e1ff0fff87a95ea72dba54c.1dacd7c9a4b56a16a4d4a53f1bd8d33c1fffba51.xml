{"content":"---\ntitle: \"OFTYPE (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: 6d259ca7-bbf0-40f8-a154-181d25c0d67e\ncaps.latest.revision: 4\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"\n---\n# OFTYPE (Entity SQL)\nReturns a collection of objects from a query expression that is of a specific type.  \n  \n## Syntax  \n  \n```  \n  \nOFTYPE ( expression, [ONLY] test_type )  \n```  \n  \n## Arguments  \n `expression`  \n Any valid query expression that returns a collection of objects.  \n  \n `test_type`  \n The type to test each object returned by `expression` against. The type must be qualified by a namespace.  \n  \n## Return Value  \n A collection of objects that are of type `test_type`, or a base type or derived type of `test_type`. If ONLY is specified, only instances of the `test_type` or an empty collection will be returned.  \n  \n## Remarks  \n An `OFTYPE` expression specifies a type expression that is issued to perform a type test against each element of a collection.  The `OFTYPE` expression produces a new collection of the specified type containing only those elements that were either equivalent to that type or a sub-type of it.  \n  \n An `OFTYPE` expression is an abbreviation of the following query expression:  \n  \n```  \nselect value treat(t as T) from ts as t where t is of (T)  \n```  \n  \n Given that a Manager is a subtype of Employee, the following expression produces a collection of only managers from a collection of employees:  \n  \n```  \nOfType(employees, NamespaceName.Manager)  \n```  \n  \n It is also possible to up cast a collection using the type filter:  \n  \n```  \nOfType(executives, NamespaceName.Manager)  \n```  \n  \n Since all executives are managers, the resulting collection still contains all the original executives, though the collection is now typed as a collection of managers.  \n  \n The following table shows the behavior of the `OFTYPE` operator over some patterns. All exceptions are thrown from the client side before the provider is invoked:  \n  \n|Pattern|Behavior|  \n|-------------|--------------|  \n|OFTYPE(Collection(EntityType), EntityType)|Collection(EntityType)|  \n|OFTYPE(Collection(ComplexType), ComplexType)|Throws|  \n|OFTYPE(Collection(RowType), RowType)|Throws|  \n  \n## Example  \n The following [!INCLUDE[esql](../../../../../../includes/esql-md.md)] query uses the OFTYPE operator to return a collection of OnsiteCourse objects from a collection of Course objects. The query is based on the [School Model](http://msdn.microsoft.com/en-us/859a9587-81ea-4a45-9bc0-f8d330e1adac).  \n  \n [!code-csharp[DP EntityServices Concepts 2#OFTYPE](../../../../../../samples/snippets/csharp/VS_Snippets_Data/dp entityservices concepts 2/cs/entitysql.cs#oftype)]  \n  \n## See Also  \n [Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)","nodes":[{"pos":[4,394],"embed":true,"restype":"x-metadata","content":"title: \"OFTYPE (Entity SQL) | Microsoft Docs\"\nms.custom: \"\"\nms.date: \"03/30/2017\"\nms.prod: \".net-framework\"\nms.reviewer: \"\"\nms.suite: \"\"\nms.technology: \n  - \"dotnet-ado\"\nms.tgt_pltfrm: \"\"\nms.topic: \"article\"\ndev_langs: \n  - \"VB\"\n  - \"CSharp\"\n  - \"C++\"\nms.assetid: 6d259ca7-bbf0-40f8-a154-181d25c0d67e\ncaps.latest.revision: 4\nauthor: \"JennieHubbard\"\nms.author: \"jhubbard\"\nmanager: \"jhubbard\"","nodes":[{"content":"OFTYPE (Entity SQL) | Microsoft Docs","nodes":[{"pos":[0,36],"content":"OFTYPE (Entity SQL) | Microsoft Docs","nodes":[{"content":"OFTYPE (Entity SQL) | Microsoft Docs","pos":[0,36]}]}],"path":["title"]}],"yml":true},{"pos":[401,420],"content":"OFTYPE (Entity SQL)","linkify":"OFTYPE (Entity SQL)","nodes":[{"content":"OFTYPE (Entity SQL)","pos":[0,19]}]},{"content":"Returns a collection of objects from a query expression that is of a specific type.","pos":[421,504]},{"pos":[513,519],"content":"Syntax","linkify":"Syntax","nodes":[{"content":"Syntax","pos":[0,6]}]},{"pos":[588,597],"content":"Arguments","linkify":"Arguments","nodes":[{"content":"Arguments","pos":[0,9]}]},{"content":"Any valid query expression that returns a collection of objects.","pos":[617,681]},{"content":"The type to test each object returned by <ph id=\"ph1\">`expression`</ph> against.","pos":[703,765],"source":"The type to test each object returned by `expression` against."},{"content":"The type must be qualified by a namespace.","pos":[766,808]},{"pos":[817,829],"content":"Return Value","linkify":"Return Value","nodes":[{"content":"Return Value","pos":[0,12]}]},{"content":"A collection of objects that are of type <ph id=\"ph1\">`test_type`</ph>, or a base type or derived type of <ph id=\"ph2\">`test_type`</ph>.","pos":[833,933],"source":"A collection of objects that are of type `test_type`, or a base type or derived type of `test_type`."},{"content":"If ONLY is specified, only instances of the <ph id=\"ph1\">`test_type`</ph> or an empty collection will be returned.","pos":[934,1030],"source":" If ONLY is specified, only instances of the `test_type` or an empty collection will be returned."},{"pos":[1039,1046],"content":"Remarks","linkify":"Remarks","nodes":[{"content":"Remarks","pos":[0,7]}]},{"content":"An <ph id=\"ph1\">`OFTYPE`</ph> expression specifies a type expression that is issued to perform a type test against each element of a collection.","pos":[1050,1176],"source":"An `OFTYPE` expression specifies a type expression that is issued to perform a type test against each element of a collection."},{"content":"The <ph id=\"ph1\">`OFTYPE`</ph> expression produces a new collection of the specified type containing only those elements that were either equivalent to that type or a sub-type of it.","pos":[1178,1342],"source":"  The `OFTYPE` expression produces a new collection of the specified type containing only those elements that were either equivalent to that type or a sub-type of it."},{"pos":[1349,1425],"content":"An <ph id=\"ph1\">`OFTYPE`</ph> expression is an abbreviation of the following query expression:","source":"An `OFTYPE` expression is an abbreviation of the following query expression:"},{"content":"Given that a Manager is a subtype of Employee, the following expression produces a collection of only managers from a collection of employees:","pos":[1507,1649]},{"content":"It is also possible to up cast a collection using the type filter:","pos":[1714,1780]},{"content":"Since all executives are managers, the resulting collection still contains all the original executives, though the collection is now typed as a collection of managers.","pos":[1846,2013]},{"content":"The following table shows the behavior of the <ph id=\"ph1\">`OFTYPE`</ph> operator over some patterns.","pos":[2020,2103],"source":"The following table shows the behavior of the `OFTYPE` operator over some patterns."},{"content":"All exceptions are thrown from the client side before the provider is invoked:","pos":[2104,2182]},{"content":"Pattern","pos":[2189,2196]},{"content":"Behavior","pos":[2197,2205]},{"content":"OFTYPE(Collection(EntityType), EntityType)","pos":[2243,2285]},{"content":"Collection(EntityType)","pos":[2286,2308]},{"content":"OFTYPE(Collection(ComplexType), ComplexType)","pos":[2313,2357]},{"content":"Throws","pos":[2358,2364]},{"content":"OFTYPE(Collection(RowType), RowType)","pos":[2369,2405]},{"content":"Throws","pos":[2406,2412]},{"pos":[2422,2429],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"The following <ph id=\"ph1\">[!INCLUDE[esql](../../../../../../includes/esql-md.md)]</ph> query uses the OFTYPE operator to return a collection of OnsiteCourse objects from a collection of Course objects.","pos":[2433,2617],"source":"The following [!INCLUDE[esql](../../../../../../includes/esql-md.md)] query uses the OFTYPE operator to return a collection of OnsiteCourse objects from a collection of Course objects."},{"content":"The query is based on the <bpt id=\"p1\">[</bpt>School Model<ept id=\"p1\">](http://msdn.microsoft.com/en-us/859a9587-81ea-4a45-9bc0-f8d330e1adac)</ept>.","pos":[2618,2729],"source":" The query is based on the [School Model](http://msdn.microsoft.com/en-us/859a9587-81ea-4a45-9bc0-f8d330e1adac)."},{"pos":[2908,2916],"content":"See Also","linkify":"See Also","nodes":[{"content":"See Also","pos":[0,8]}]},{"pos":[2920,3034],"content":"<bpt id=\"p1\">[</bpt>Entity SQL Reference<ept id=\"p1\">](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)</ept>","source":"[Entity SQL Reference](../../../../../../docs/framework/data/adonet/ef/language-reference/entity-sql-reference.md)"}]}