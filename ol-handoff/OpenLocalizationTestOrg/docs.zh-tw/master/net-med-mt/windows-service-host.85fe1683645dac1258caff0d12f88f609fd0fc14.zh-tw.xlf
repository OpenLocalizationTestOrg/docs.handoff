<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="markdown" source-language="en-US" target-language="zh-tw">
    <header>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-b81d562" tool-company="Microsoft" />
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">2598acb9f19ca95fc0a99d888204368a2c5b9084</xliffext:olfilehash>
      <xliffext:olfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">docs\framework\wcf\samples\windows-service-host.md</xliffext:olfilepath>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">net-med-mt</xliffext:oltranslationpriority>
      <xliffext:oltranslationtype xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">Machine Translation</xliffext:oltranslationtype>
      <xliffext:olskeletonhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">88a1ce3f96bf72b9bc04ca90bbd891f39ef5a9ed</xliffext:olskeletonhash>
      <xliffext:olxliffhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">27fb895c530266f1afea3a0379f85bebf9554993</xliffext:olxliffhash>
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Windows Service Host | Microsoft Docs</source>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Windows Service Host</source>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>This sample demonstrates a <ph id="ph1">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> service hosted in a managed Windows Service.</source>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Windows Services are controlled using the Services applet in <bpt id="p1">**</bpt>Control Panel<ept id="p1">**</ept> and can be configured to start up automatically after a system reboot.</source>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>The sample consists of a client program and an Windows Service program.</source>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>The service is implemented as an .exe program and contains its own hosting code.</source>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>In other hosting environments, such as Windows Process Activation Services (WAS) or Internet Information Services (IIS), it is not necessary for you to write hosting code.</source>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>The set-up procedure and build instructions for this sample are located at the end of this topic.</source>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>The samples may already be installed on your computer.</source>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Check for the following (default) directory before continuing.</source>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>If this directory does not exist, go to <bpt id="p1">[</bpt>Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=150780)</ept> to download all <ph id="ph1">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]</ph> and <ph id="ph2">[!INCLUDE[wf1](../../../../includes/wf1-md.md)]</ph> samples.</source>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>This sample is located in the following directory.</source>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>After building this service, it must be installed with the Installutil.exe utility like any other Windows Service.</source>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>If you are going to make changes to the service, you must first uninstall it with <ph id="ph1">`installutil /u`</ph>.</source>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>The Setup.bat and Cleanup.bat files included in this sample are the commands to install and start up the Windows Service, and to shut down and uninstall the Windows Service.</source>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>The <ph id="ph1">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service can only respond to clients if the Windows Service is running.</source>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>If you stop the Windows Service by using the Services applet from <bpt id="p1">**</bpt>Control Panel<ept id="p1">**</ept> and run the client, a <ph id="ph1">&lt;xref:System.ServiceModel.EndpointNotFoundException&gt;</ph> exception occurs when a client attempts to access the service.</source>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>If you restart the Windows Service and rerun the client, communication succeeds.</source>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>The service code includes an installer class, a <ph id="ph1">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service implementation class which implements the ICalculator contract, and a Windows Service class that acts as the run-time host.</source>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>The installer class, which inherits from <ph id="ph1">&lt;xref:System.Configuration.Install.Installer&gt;</ph>, allows the program to be installed as an NT service by the Installutil.exe tool.</source>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>The service implementation class, <ph id="ph1">`WcfCalculatorService`</ph>, is an <ph id="ph2">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service that implements a basic service contract.</source>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>This <ph id="ph1">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]</ph> service is hosted inside a Windows Service class called <ph id="ph2">`WindowsCalculatorService`</ph>.</source>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>To qualify as a Windows Service, the class inherits from <ph id="ph1">&lt;xref:System.ServiceProcess.ServiceBase&gt;</ph> and implements the <ph id="ph2">&lt;xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29&gt;</ph> and <ph id="ph3">&lt;xref:System.ServiceProcess.ServiceBase.OnStop&gt;</ph> methods.</source>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>In <ph id="ph1">&lt;xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29&gt;</ph>, a <ph id="ph2">&lt;xref:System.ServiceModel.ServiceHost&gt;</ph> object is created for the <ph id="ph3">`WcfCalculatorService`</ph> type and opened.</source>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>In <ph id="ph1">&lt;xref:System.ServiceProcess.ServiceBase.OnStop&gt;</ph>, the ServiceHost is closed by calling the <ph id="ph2">&lt;xref:System.ServiceModel.Channels.CommunicationObject.Close%28System.TimeSpan%29&gt;</ph> method of the <ph id="ph3">&lt;xref:System.ServiceModel.ServiceHost&gt;</ph> object.</source>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>The host's base address is configured using the <bpt id="p1">[</bpt><ph id="ph1">\&lt;</ph>add&gt;<ept id="p1">](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-baseaddresses.md)</ept> element, which is a child of <bpt id="p2">[</bpt><ph id="ph2">\&lt;</ph>baseAddresses&gt;<ept id="p2">](../../../../docs/framework/configure-apps/file-schema/wcf/baseaddresses.md)</ept>, which is a child of the <bpt id="p3">[</bpt><ph id="ph3">\&lt;</ph>host&gt;<ept id="p3">](../../../../docs/framework/configure-apps/file-schema/wcf/host.md)</ept> element, which is a child of the <bpt id="p4">[</bpt><ph id="ph4">\&lt;</ph>service&gt;<ept id="p4">](../../../../docs/framework/configure-apps/file-schema/wcf/service.md)</ept> element.</source>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>The endpoint that is defined uses the base address and a <bpt id="p1">[</bpt><ph id="ph1">\&lt;</ph>wsHttpBinding&gt;<ept id="p1">](../../../../docs/framework/configure-apps/file-schema/wcf/wshttpbinding.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>The following sample shows the configuration of the base address as well as the endpoint that exposes the CalculatorService.</source>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>When you run the sample, the operation requests and responses are displayed in both the service and client console windows.</source>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Press ENTER in each console window to shut down the service and client.</source>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>To set up, build, and run the sample</source>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Ensure that you have performed the <bpt id="p1">[</bpt>One-Time Setup Procedure for the Windows Communication Foundation Samples<ept id="p1">](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>To build the C# or Visual Basic .NET edition of the solution, follow the instructions in <bpt id="p1">[</bpt>Building the Windows Communication Foundation Samples<ept id="p1">](../../../../docs/framework/wcf/samples/building-the-samples.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>After the solution has been built, run Setup.bat from an elevated <ph id="ph1">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]</ph> command prompt to install the Windows service using the Installutil.exe tool.</source>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>The service should appear in Services.</source>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>To run the sample in a single- or cross-computer configuration, follow the instructions in <bpt id="p1">[</bpt>Running the Windows Communication Foundation Samples<ept id="p1">](../../../../docs/framework/wcf/samples/running-the-samples.md)</ept>.</source>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>See Also</source>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>AppFabric Hosting and Persistence Samples<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=193961)</ept></source>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>